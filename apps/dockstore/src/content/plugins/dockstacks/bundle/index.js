/*　Bundled by DockStore　*/
var M7=Object.create;var{getPrototypeOf:B7,defineProperty:jQ,getOwnPropertyNames:G7}=Object;var N7=Object.prototype.hasOwnProperty;var P8=($,X,Q)=>{Q=$!=null?M7(B7($)):{};let J=X||!$||!$.__esModule?jQ(Q,"default",{value:$,enumerable:!0}):Q;for(let Y of G7($))if(!N7.call(J,Y))jQ(J,Y,{get:()=>$[Y],enumerable:!0});return J};var U6=($,X)=>()=>(X||$((X={exports:{}}).exports,X),X.exports);var F$=($,X)=>{for(var Q in X)jQ($,Q,{get:X[Q],enumerable:!0,configurable:!0,set:(J)=>X[Q]=()=>J})};var h0=($,X)=>()=>($&&(X=$($=0)),X);var E6=U6((nV,bZ)=>{var IZ=12,JG=0,XJ=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function YG($){var X=$.indexOf("%");if(X===-1)return $;var Q=$.length,J="",Y=0,Z=0,W=X,q=IZ;while(X>-1&&X<Q){var M=TZ($[X+1],4),G=TZ($[X+2],0),B=M|G,N=XJ[B];if(q=XJ[256+q+N],Z=Z<<6|B&XJ[364+N],q===IZ)J+=$.slice(Y,W),J+=Z<=65535?String.fromCharCode(Z):String.fromCharCode(55232+(Z>>10),56320+(Z&1023)),Z=0,Y=X+3,X=W=$.indexOf("%",Y);else if(q===JG)return null;else{if(X+=3,X<Q&&$.charCodeAt(X)===37)continue;return null}}return J+$.slice(Y)}var ZG={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function TZ($,X){var Q=ZG[$];return Q===void 0?255:Q<<X}bZ.exports=YG});var SW=h0(()=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */});function CW($,X="utf-8"){switch(X.toLowerCase()){case"utf-8":case"utf8":if(typeof globalThis.TextDecoder<"u")return new globalThis.TextDecoder("utf-8").decode($);return YH($);case"utf-16le":return ZH($);case"ascii":return WH($);case"latin1":case"iso-8859-1":return qH($);case"windows-1252":return MH($);default:throw RangeError(`Encoding '${X}' not supported`)}}function YH($){let X="",Q=0;while(Q<$.length){let J=$[Q++];if(J<128)X+=String.fromCharCode(J);else if(J<224){let Y=$[Q++]&63;X+=String.fromCharCode((J&31)<<6|Y)}else if(J<240){let Y=$[Q++]&63,Z=$[Q++]&63;X+=String.fromCharCode((J&15)<<12|Y<<6|Z)}else{let Y=$[Q++]&63,Z=$[Q++]&63,W=$[Q++]&63,q=(J&7)<<18|Y<<12|Z<<6|W;q-=65536,X+=String.fromCharCode(55296+(q>>10&1023),56320+(q&1023))}}return X}function ZH($){let X="";for(let Q=0;Q<$.length;Q+=2)X+=String.fromCharCode($[Q]|$[Q+1]<<8);return X}function WH($){return String.fromCharCode(...$.map((X)=>X&127))}function qH($){return String.fromCharCode(...$)}function MH($){let X="";for(let Q of $)if(Q>=128&&Q<=159&&_J[Q])X+=_J[Q];else X+=String.fromCharCode(Q);return X}var _J,JH;var jW=h0(()=>{_J={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},JH={};for(let[$,X]of Object.entries(_J))JH[X]=Number.parseInt($)});function v1($){return new DataView($.buffer,$.byteOffset)}class s1{constructor($,X){this.len=$,this.encoding=X}get($,X=0){let Q=$.subarray(X,X+this.len);return CW(Q,this.encoding)}}var FW,v0,s8,e0,RW,VW,_W;var d6=h0(()=>{SW();jW();FW={len:1,get($,X){return v1($).getUint8(X)},put($,X,Q){return v1($).setUint8(X,Q),X+1}},v0={len:2,get($,X){return v1($).getUint16(X,!0)},put($,X,Q){return v1($).setUint16(X,Q,!0),X+2}},s8={len:2,get($,X){return v1($).getUint16(X)},put($,X,Q){return v1($).setUint16(X,Q),X+2}},e0={len:4,get($,X){return v1($).getUint32(X,!0)},put($,X,Q){return v1($).setUint32(X,Q,!0),X+4}},RW={len:4,get($,X){return v1($).getUint32(X)},put($,X,Q){return v1($).setUint32(X,Q),X+4}},VW={len:4,get($,X){return v1($).getInt32(X)},put($,X,Q){return v1($).setInt32(X,Q),X+4}},_W={len:8,get($,X){return v1($).getBigUint64(X,!0)},put($,X,Q){return v1($).setBigUint64(X,Q,!0),X+8}}});var l0,r8;var h6=h0(()=>{l0=class l0 extends Error{constructor(){super("End-Of-Stream");this.name="EndOfStreamError"}};r8=class r8 extends Error{constructor($="The operation was aborted"){super($);this.name="AbortError"}}});class a8{constructor(){this.endOfStream=!1,this.interrupted=!1,this.peekQueue=[]}async peek($,X=!1){let Q=await this.read($,X);return this.peekQueue.push($.subarray(0,Q)),Q}async read($,X=!1){if($.length===0)return 0;let Q=this.readFromPeekBuffer($);if(!this.endOfStream)Q+=await this.readRemainderFromStream($.subarray(Q),X);if(Q===0&&!X)throw new l0;return Q}readFromPeekBuffer($){let X=$.length,Q=0;while(this.peekQueue.length>0&&X>0){let J=this.peekQueue.pop();if(!J)throw Error("peekData should be defined");let Y=Math.min(J.length,X);if($.set(J.subarray(0,Y),Q),Q+=Y,X-=Y,Y<J.length)this.peekQueue.push(J.subarray(Y))}return Q}async readRemainderFromStream($,X){let Q=0;while(Q<$.length&&!this.endOfStream){if(this.interrupted)throw new r8;let J=await this.readFromStream($.subarray(Q),X);if(J===0)break;Q+=J}if(!X&&Q<$.length)throw new l0;return Q}}var lX=h0(()=>{h6()});var EW=h0(()=>{h6();lX()});var EJ;var xW=h0(()=>{lX();EJ=class EJ extends a8{constructor($){super();this.reader=$}async abort(){return this.close()}async close(){this.reader.releaseLock()}}});var tX;var xJ=h0(()=>{xW();tX=class tX extends EJ{async readFromStream($,X){if($.length===0)return 0;let Q=await this.reader.read(new Uint8Array($.length),{min:X?void 0:$.length});if(Q.done)this.endOfStream=Q.done;if(Q.value)return $.set(Q.value),Q.value.length;return 0}}});var m6;var IJ=h0(()=>{h6();lX();m6=class m6 extends a8{constructor($){super();this.reader=$,this.buffer=null}writeChunk($,X){let Q=Math.min(X.length,$.length);if($.set(X.subarray(0,Q)),Q<X.length)this.buffer=X.subarray(Q);else this.buffer=null;return Q}async readFromStream($,X){if($.length===0)return 0;let Q=0;if(this.buffer)Q+=this.writeChunk($,this.buffer);while(Q<$.length&&!this.endOfStream){let J=await this.reader.read();if(J.done){this.endOfStream=!0;break}if(J.value)Q+=this.writeChunk($.subarray(Q),J.value)}if(!X&&Q===0&&this.endOfStream)throw new l0;return Q}abort(){return this.interrupted=!0,this.reader.cancel()}async close(){await this.abort(),this.reader.releaseLock()}}});function TJ($){try{let X=$.getReader({mode:"byob"});if(X instanceof ReadableStreamDefaultReader)return new m6(X);return new tX(X)}catch(X){if(X instanceof TypeError)return new m6($.getReader());throw X}}var IW=h0(()=>{xJ();IJ()});var q8=h0(()=>{h6();EW();xJ();IJ();IW()});class M8{constructor($){if(this.numBuffer=new Uint8Array(8),this.position=0,this.onClose=$?.onClose,$?.abortSignal)$.abortSignal.addEventListener("abort",()=>{this.abort()})}async readToken($,X=this.position){let Q=new Uint8Array($.len);if(await this.readBuffer(Q,{position:X})<$.len)throw new l0;return $.get(Q,0)}async peekToken($,X=this.position){let Q=new Uint8Array($.len);if(await this.peekBuffer(Q,{position:X})<$.len)throw new l0;return $.get(Q,0)}async readNumber($){if(await this.readBuffer(this.numBuffer,{length:$.len})<$.len)throw new l0;return $.get(this.numBuffer,0)}async peekNumber($){if(await this.peekBuffer(this.numBuffer,{length:$.len})<$.len)throw new l0;return $.get(this.numBuffer,0)}async ignore($){if(this.fileInfo.size!==void 0){let X=this.fileInfo.size-this.position;if($>X)return this.position+=X,X}return this.position+=$,$}async close(){await this.abort(),await this.onClose?.()}normalizeOptions($,X){if(!this.supportsRandomAccess()&&X&&X.position!==void 0&&X.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");return{...{mayBeLess:!1,offset:0,length:$.length,position:this.position},...X}}abort(){return Promise.resolve()}}var u6=h0(()=>{q8()});var wH=256000,bJ;var TW=h0(()=>{u6();q8();bJ=class bJ extends M8{constructor($,X){super(X);this.streamReader=$,this.fileInfo=X?.fileInfo??{}}async readBuffer($,X){let Q=this.normalizeOptions($,X),J=Q.position-this.position;if(J>0)return await this.ignore(J),this.readBuffer($,X);if(J<0)throw Error("`options.position` must be equal or greater than `tokenizer.position`");if(Q.length===0)return 0;let Y=await this.streamReader.read($.subarray(0,Q.length),Q.mayBeLess);if(this.position+=Y,(!X||!X.mayBeLess)&&Y<Q.length)throw new l0;return Y}async peekBuffer($,X){let Q=this.normalizeOptions($,X),J=0;if(Q.position){let Y=Q.position-this.position;if(Y>0){let Z=new Uint8Array(Q.length+Y);return J=await this.peekBuffer(Z,{mayBeLess:Q.mayBeLess}),$.set(Z.subarray(Y)),J-Y}if(Y<0)throw Error("Cannot peek from a negative offset in a stream")}if(Q.length>0){try{J=await this.streamReader.peek($.subarray(0,Q.length),Q.mayBeLess)}catch(Y){if(X?.mayBeLess&&Y instanceof l0)return 0;throw Y}if(!Q.mayBeLess&&J<Q.length)throw new l0}return J}async ignore($){let X=Math.min(wH,$),Q=new Uint8Array(X),J=0;while(J<$){let Y=$-J,Z=await this.readBuffer(Q,{length:Math.min(X,Y)});if(Z<0)return Z;J+=Z}return J}abort(){return this.streamReader.abort()}async close(){return this.streamReader.close()}supportsRandomAccess(){return!1}}});var kJ;var bW=h0(()=>{q8();u6();kJ=class kJ extends M8{constructor($,X){super(X);this.uint8Array=$,this.fileInfo={...X?.fileInfo??{},...{size:$.length}}}async readBuffer($,X){if(X?.position)this.position=X.position;let Q=await this.peekBuffer($,X);return this.position+=Q,Q}async peekBuffer($,X){let Q=this.normalizeOptions($,X),J=Math.min(this.uint8Array.length-Q.position,Q.length);if(!Q.mayBeLess&&J<Q.length)throw new l0;return $.set(this.uint8Array.subarray(Q.position,Q.position+J)),J}close(){return super.close()}supportsRandomAccess(){return!0}setPosition($){this.position=$}}});var kW=h0(()=>{q8();u6()});function gW($,X){let Q=TJ($),J=X??{},Y=J.onClose;return J.onClose=async()=>{if(await Q.close(),Y)return Y()},new bJ(Q,J)}function fW($,X){return new kJ($,X)}var yW=h0(()=>{q8();TW();bW();kW();q8();u6()});function VH($,X){return vJ($,{i:2},X&&X.out,X&&X.dictionary)}function _H($,X){var Q=jH($);if(Q+8>$.length)r1(6,"invalid gzip data");return vJ($.subarray(Q,-8),{i:2},X&&X.out||new a1(FH($)),X&&X.dictionary)}function EH($,X){return vJ($.subarray(RH($,X&&X.dictionary),-4),{i:2},X&&X.out,X&&X.dictionary)}function iW($,X){return $[0]==31&&$[1]==139&&$[2]==8?_H($,X):($[0]&15)!=8||$[0]>>4>7||($[0]<<8|$[1])%31?VH($,X):EH($,X)}var a1,e8,zH,vW,dW,HH,hW=function($,X){var Q=new e8(31);for(var J=0;J<31;++J)Q[J]=X+=1<<$[J-1];var Y=new zH(Q[30]);for(var J=1;J<30;++J)for(var Z=Q[J];Z<Q[J+1];++Z)Y[Z]=Z-Q[J]<<5|J;return{b:Q,r:Y}},mW,uW,AH,cW,DH,EI,yJ,u2,Y0,c6=function($,X,Q){var J=$.length,Y=0,Z=new e8(X);for(;Y<J;++Y)if($[Y])++Z[$[Y]-1];var W=new e8(X);for(Y=1;Y<X;++Y)W[Y]=W[Y-1]+Z[Y-1]<<1;var q;if(Q){q=new e8(1<<X);var M=15-X;for(Y=0;Y<J;++Y)if($[Y]){var G=Y<<4|$[Y],B=X-$[Y],N=W[$[Y]-1]++<<B;for(var P=N|(1<<B)-1;N<=P;++N)q[yJ[N]>>M]=G}}else{q=new e8(J);for(Y=0;Y<J;++Y)if($[Y])q[Y]=yJ[W[$[Y]-1]++]>>15-$[Y]}return q},p6,Y0,Y0,Y0,Y0,pW,Y0,OH,PH,gJ=function($){var X=$[0];for(var Q=1;Q<$.length;++Q)if($[Q]>X)X=$[Q];return X},I2=function($,X,Q){var J=X/8|0;return($[J]|$[J+1]<<8)>>(X&7)&Q},fJ=function($,X){var Q=X/8|0;return($[Q]|$[Q+1]<<8|$[Q+2]<<16)>>(X&7)},LH=function($){return($+7)/8|0},KH=function($,X,Q){if(X==null||X<0)X=0;if(Q==null||Q>$.length)Q=$.length;return new a1($.subarray(X,Q))},SH,r1=function($,X,Q){var J=Error(X||SH[$]);if(J.code=$,Error.captureStackTrace)Error.captureStackTrace(J,r1);if(!Q)throw J;return J},vJ=function($,X,Q,J){var Y=$.length,Z=J?J.length:0;if(!Y||X.f&&!X.l)return Q||new a1(0);var W=!Q,q=W||X.i!=2,M=X.i;if(W)Q=new a1(Y*3);var G=function(U){var D=Q.length;if(U>D){var z=new a1(Math.max(D*2,U));z.set(Q),Q=z}},B=X.f||0,N=X.p||0,P=X.b||0,w=X.l,H=X.d,A=X.m,S=X.n,j=Y*8;do{if(!w){B=I2($,N,1);var K=I2($,N+1,3);if(N+=3,!K){var y=LH(N)+4,o=$[y-4]|$[y-3]<<8,n=y+o;if(n>Y){if(M)r1(0);break}if(q)G(P+o);Q.set($.subarray(y,n),P),X.b=P+=o,X.p=N=n*8,X.f=B;continue}else if(K==1)w=OH,H=PH,A=9,S=5;else if(K==2){var f=I2($,N,31)+257,I=I2($,N+10,15)+4,k=f+I2($,N+5,31)+1;N+=14;var b=new a1(k),_=new a1(19);for(var V=0;V<I;++V)_[HH[V]]=I2($,N+V*3,7);N+=I*3;var d=gJ(_),m=(1<<d)-1,X0=c6(_,d,1);for(var V=0;V<k;){var R0=X0[I2($,N,m)];N+=R0&15;var y=R0>>4;if(y<16)b[V++]=y;else{var e=0,C$=0;if(y==16)C$=3+I2($,N,3),N+=2,e=b[V-1];else if(y==17)C$=3+I2($,N,7),N+=3;else if(y==18)C$=11+I2($,N,127),N+=7;while(C$--)b[V++]=e}}var j$=b.subarray(0,f),h1=b.subarray(f);A=gJ(j$),S=gJ(h1),w=c6(j$,A,1),H=c6(h1,S,1)}else r1(1);if(N>j){if(M)r1(0);break}}if(q)G(P+131072);var G2=(1<<A)-1,d0=(1<<S)-1,$1=N;for(;;$1=N){var e=w[fJ($,N)&G2],t0=e>>4;if(N+=e&15,N>j){if(M)r1(0);break}if(!e)r1(2);if(t0<256)Q[P++]=t0;else if(t0==256){$1=N,w=null;break}else{var F1=t0-254;if(t0>264){var V=t0-257,g2=vW[V];F1=I2($,N,(1<<g2)-1)+uW[V],N+=g2}var R1=H[fJ($,N)&d0],f2=R1>>4;if(!R1)r1(3);N+=R1&15;var h1=DH[f2];if(f2>3){var g2=dW[f2];h1+=fJ($,N)&(1<<g2)-1,N+=g2}if(N>j){if(M)r1(0);break}if(q)G(P+131072);var D8=P+F1;if(P<h1){var e1=Z-h1,v=Math.min(h1,D8);if(e1+P<0)r1(3);for(;P<v;++P)Q[P]=J[e1+P]}for(;P<D8;++P)Q[P]=Q[P-h1]}}if(X.l=w,X.p=$1,X.b=P,X.f=B,w)B=1,X.m=A,X.d=H,X.n=S}while(!B);return P!=Q.length&&W?KH(Q,0,P):Q.subarray(0,P)},CH,jH=function($){if($[0]!=31||$[1]!=139||$[2]!=8)r1(6,"invalid gzip data");var X=$[3],Q=10;if(X&4)Q+=($[10]|$[11]<<8)+2;for(var J=(X>>3&1)+(X>>4&1);J>0;J-=!$[Q++]);return Q+(X&2)},FH=function($){var X=$.length;return($[X-4]|$[X-3]<<8|$[X-2]<<16|$[X-1]<<24)>>>0},RH=function($,X){if(($[0]&15)!=8||$[0]>>4>7||($[0]<<8|$[1])%31)r1(6,"invalid zlib data");if(($[1]>>5&1)==+!X)r1(6,"invalid zlib data: "+($[1]&32?"need":"unexpected")+" dictionary");return($[1]>>3&4)+2},xH,IH=0;var nW=h0(()=>{a1=Uint8Array,e8=Uint16Array,zH=Int32Array,vW=new a1([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),dW=new a1([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),HH=new a1([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mW=hW(vW,2),uW=mW.b,AH=mW.r;uW[28]=258,AH[258]=28;cW=hW(dW,0),DH=cW.b,EI=cW.r,yJ=new e8(32768);for(Y0=0;Y0<32768;++Y0)u2=(Y0&43690)>>1|(Y0&21845)<<1,u2=(u2&52428)>>2|(u2&13107)<<2,u2=(u2&61680)>>4|(u2&3855)<<4,yJ[Y0]=((u2&65280)>>8|(u2&255)<<8)>>1;p6=new a1(288);for(Y0=0;Y0<144;++Y0)p6[Y0]=8;for(Y0=144;Y0<256;++Y0)p6[Y0]=9;for(Y0=256;Y0<280;++Y0)p6[Y0]=7;for(Y0=280;Y0<288;++Y0)p6[Y0]=8;pW=new a1(32);for(Y0=0;Y0<32;++Y0)pW[Y0]=5;OH=c6(p6,9,1),PH=c6(pW,5,1),SH=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],CH=new a1(0);xH=typeof TextDecoder<"u"&&new TextDecoder;try{xH.decode(CH,{stream:!0}),IH=1}catch($){}});var lW=U6((II,oW)=>{var $6=1000,X6=$6*60,Q6=X6*60,B8=Q6*24,TH=B8*7,bH=B8*365.25;oW.exports=function($,X){X=X||{};var Q=typeof $;if(Q==="string"&&$.length>0)return kH($);else if(Q==="number"&&isFinite($))return X.long?fH($):gH($);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify($))};function kH($){if($=String($),$.length>100)return;var X=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(!X)return;var Q=parseFloat(X[1]),J=(X[2]||"ms").toLowerCase();switch(J){case"years":case"year":case"yrs":case"yr":case"y":return Q*bH;case"weeks":case"week":case"w":return Q*TH;case"days":case"day":case"d":return Q*B8;case"hours":case"hour":case"hrs":case"hr":case"h":return Q*Q6;case"minutes":case"minute":case"mins":case"min":case"m":return Q*X6;case"seconds":case"second":case"secs":case"sec":case"s":return Q*$6;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return Q;default:return}}function gH($){var X=Math.abs($);if(X>=B8)return Math.round($/B8)+"d";if(X>=Q6)return Math.round($/Q6)+"h";if(X>=X6)return Math.round($/X6)+"m";if(X>=$6)return Math.round($/$6)+"s";return $+"ms"}function fH($){var X=Math.abs($);if(X>=B8)return sX($,X,B8,"day");if(X>=Q6)return sX($,X,Q6,"hour");if(X>=X6)return sX($,X,X6,"minute");if(X>=$6)return sX($,X,$6,"second");return $+" ms"}function sX($,X,Q,J){var Y=X>=Q*1.5;return Math.round($/Q)+" "+J+(Y?"s":"")}});var sW=U6((TI,tW)=>{function yH($){Q.debug=Q,Q.default=Q,Q.coerce=M,Q.disable=W,Q.enable=Y,Q.enabled=q,Q.humanize=lW(),Q.destroy=G,Object.keys($).forEach((B)=>{Q[B]=$[B]}),Q.names=[],Q.skips=[],Q.formatters={};function X(B){let N=0;for(let P=0;P<B.length;P++)N=(N<<5)-N+B.charCodeAt(P),N|=0;return Q.colors[Math.abs(N)%Q.colors.length]}Q.selectColor=X;function Q(B){let N,P=null,w,H;function A(...S){if(!A.enabled)return;let j=A,K=Number(new Date),y=K-(N||K);if(j.diff=y,j.prev=N,j.curr=K,N=K,S[0]=Q.coerce(S[0]),typeof S[0]!=="string")S.unshift("%O");let o=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(f,I)=>{if(f==="%%")return"%";o++;let k=Q.formatters[I];if(typeof k==="function"){let b=S[o];f=k.call(j,b),S.splice(o,1),o--}return f}),Q.formatArgs.call(j,S),(j.log||Q.log).apply(j,S)}if(A.namespace=B,A.useColors=Q.useColors(),A.color=Q.selectColor(B),A.extend=J,A.destroy=Q.destroy,Object.defineProperty(A,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(P!==null)return P;if(w!==Q.namespaces)w=Q.namespaces,H=Q.enabled(B);return H},set:(S)=>{P=S}}),typeof Q.init==="function")Q.init(A);return A}function J(B,N){let P=Q(this.namespace+(typeof N>"u"?":":N)+B);return P.log=this.log,P}function Y(B){Q.save(B),Q.namespaces=B,Q.names=[],Q.skips=[];let N=(typeof B==="string"?B:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let P of N)if(P[0]==="-")Q.skips.push(P.slice(1));else Q.names.push(P)}function Z(B,N){let P=0,w=0,H=-1,A=0;while(P<B.length)if(w<N.length&&(N[w]===B[P]||N[w]==="*"))if(N[w]==="*")H=w,A=P,w++;else P++,w++;else if(H!==-1)w=H+1,A++,P=A;else return!1;while(w<N.length&&N[w]==="*")w++;return w===N.length}function W(){let B=[...Q.names,...Q.skips.map((N)=>"-"+N)].join(",");return Q.enable(""),B}function q(B){for(let N of Q.skips)if(Z(B,N))return!1;for(let N of Q.names)if(Z(B,N))return!0;return!1}function M(B){if(B instanceof Error)return B.stack||B.message;return B}function G(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return Q.enable(Q.load()),Q}tW.exports=yH});var aW=U6((rW,rX)=>{rW.formatArgs=dH;rW.save=hH;rW.load=mH;rW.useColors=vH;rW.storage=uH();rW.destroy=(()=>{let $=!1;return()=>{if(!$)$=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();rW.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function vH(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let $;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&($=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt($[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function dH($){if($[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+$[0]+(this.useColors?"%c ":" ")+"+"+rX.exports.humanize(this.diff),!this.useColors)return;let X="color: "+this.color;$.splice(1,0,X,"color: inherit");let Q=0,J=0;$[0].replace(/%[a-zA-Z%]/g,(Y)=>{if(Y==="%%")return;if(Q++,Y==="%c")J=Q}),$.splice(J,0,X)}rW.log=console.debug||console.log||(()=>{});function hH($){try{if($)rW.storage.setItem("debug",$);else rW.storage.removeItem("debug")}catch(X){}}function mH(){let $;try{$=rW.storage.getItem("debug")||rW.storage.getItem("DEBUG")}catch(X){}if(!$&&typeof process<"u"&&"env"in process)$=process.env.DEBUG;return $}function uH(){try{return localStorage}catch($){}}rX.exports=sW()(rW);var{formatters:cH}=rX.exports;cH.j=function($){try{return JSON.stringify($)}catch(X){return"[UnexpectedJSONParseError]: "+X.message}}});var G8,dJ,eW,$5,X5;var Q5=h0(()=>{d6();G8={LocalFileHeader:67324752,DataDescriptor:134695760,CentralFileHeader:33639248,EndOfCentralDirectory:101010256},dJ={get($){let X=v0.get($,6);return{signature:e0.get($,0),compressedSize:e0.get($,8),uncompressedSize:e0.get($,12)}},len:16},eW={get($){let X=v0.get($,6);return{signature:e0.get($,0),minVersion:v0.get($,4),dataDescriptor:!!(X&8),compressedMethod:v0.get($,8),compressedSize:e0.get($,18),uncompressedSize:e0.get($,22),filenameLength:v0.get($,26),extraFieldLength:v0.get($,28),filename:null}},len:30},$5={get($){return{signature:e0.get($,0),nrOfThisDisk:v0.get($,4),nrOfThisDiskWithTheStart:v0.get($,6),nrOfEntriesOnThisDisk:v0.get($,8),nrOfEntriesOfSize:v0.get($,10),sizeOfCd:e0.get($,12),offsetOfStartOfCd:e0.get($,16),zipFileCommentLength:v0.get($,20)}},len:22},X5={get($){let X=v0.get($,8);return{signature:e0.get($,0),minVersion:v0.get($,6),dataDescriptor:!!(X&8),compressedMethod:v0.get($,10),compressedSize:e0.get($,20),uncompressedSize:e0.get($,24),filenameLength:v0.get($,28),extraFieldLength:v0.get($,30),fileCommentLength:v0.get($,32),relativeOffsetOfLocalHeader:e0.get($,42),filename:null}},len:46}});function Y5($){let X=new Uint8Array(e0.len);return e0.put(X,0,$),X}class mJ{constructor($){this.tokenizer=$,this.syncBuffer=new Uint8Array(hJ)}async isZip(){return await this.peekSignature()===G8.LocalFileHeader}peekSignature(){return this.tokenizer.peekToken(e0)}async findEndOfCentralDirectoryLocator(){let $=this.tokenizer,X=Math.min(16384,$.fileInfo.size),Q=this.syncBuffer.subarray(0,X);await this.tokenizer.readBuffer(Q,{position:$.fileInfo.size-X});for(let J=Q.length-4;J>=0;J--)if(Q[J]===aX[0]&&Q[J+1]===aX[1]&&Q[J+2]===aX[2]&&Q[J+3]===aX[3])return $.fileInfo.size-X+J;return-1}async readCentralDirectory(){if(!this.tokenizer.supportsRandomAccess()){c2("Cannot reading central-directory without random-read support");return}c2("Reading central-directory...");let $=this.tokenizer.position,X=await this.findEndOfCentralDirectoryLocator();if(X>0){c2("Central-directory 32-bit signature found");let Q=await this.tokenizer.readToken($5,X),J=[];this.tokenizer.setPosition(Q.offsetOfStartOfCd);for(let Y=0;Y<Q.nrOfEntriesOfSize;++Y){let Z=await this.tokenizer.readToken(X5);if(Z.signature!==G8.CentralFileHeader)throw Error("Expected Central-File-Header signature");Z.filename=await this.tokenizer.readToken(new s1(Z.filenameLength,"utf-8")),await this.tokenizer.ignore(Z.extraFieldLength),await this.tokenizer.ignore(Z.fileCommentLength),J.push(Z),c2(`Add central-directory file-entry: n=${Y+1}/${J.length}: filename=${J[Y].filename}`)}return this.tokenizer.setPosition($),J}this.tokenizer.setPosition($)}async unzip($){let X=await this.readCentralDirectory();if(X)return this.iterateOverCentralDirectory(X,$);let Q=!1;do{let J=await this.readLocalFileHeader();if(!J)break;let Y=$(J);Q=!!Y.stop;let Z=void 0;if(await this.tokenizer.ignore(J.extraFieldLength),J.dataDescriptor&&J.compressedSize===0){let W=[],q=hJ;c2("Compressed-file-size unknown, scanning for next data-descriptor-signature....");let M=-1;while(M<0&&q===hJ){q=await this.tokenizer.peekBuffer(this.syncBuffer,{mayBeLess:!0}),M=aH(this.syncBuffer.subarray(0,q),rH);let G=M>=0?M:q;if(Y.handler){let B=new Uint8Array(G);await this.tokenizer.readBuffer(B),W.push(B)}else await this.tokenizer.ignore(G)}if(c2(`Found data-descriptor-signature at pos=${this.tokenizer.position}`),Y.handler)await this.inflate(J,eH(W),Y.handler)}else if(Y.handler)c2(`Reading compressed-file-data: ${J.compressedSize} bytes`),Z=new Uint8Array(J.compressedSize),await this.tokenizer.readBuffer(Z),await this.inflate(J,Z,Y.handler);else c2(`Ignoring compressed-file-data: ${J.compressedSize} bytes`),await this.tokenizer.ignore(J.compressedSize);if(c2(`Reading data-descriptor at pos=${this.tokenizer.position}`),J.dataDescriptor){if((await this.tokenizer.readToken(dJ)).signature!==134695760)throw Error(`Expected data-descriptor-signature at position ${this.tokenizer.position-dJ.len}`)}}while(!Q)}async iterateOverCentralDirectory($,X){for(let Q of $){let J=X(Q);if(J.handler){this.tokenizer.setPosition(Q.relativeOffsetOfLocalHeader);let Y=await this.readLocalFileHeader();if(Y){await this.tokenizer.ignore(Y.extraFieldLength);let Z=new Uint8Array(Q.compressedSize);await this.tokenizer.readBuffer(Z),await this.inflate(Y,Z,J.handler)}}if(J.stop)break}}inflate($,X,Q){if($.compressedMethod===0)return Q(X);c2(`Decompress filename=${$.filename}, compressed-size=${X.length}`);let J=iW(X);return Q(J)}async readLocalFileHeader(){let $=await this.tokenizer.peekToken(e0);if($===G8.LocalFileHeader){let X=await this.tokenizer.readToken(eW);return X.filename=await this.tokenizer.readToken(new s1(X.filenameLength,"utf-8")),X}if($===G8.CentralFileHeader)return!1;if($===3759263696)throw Error("Encrypted ZIP");throw Error("Unexpected signature")}}function aH($,X){let Q=$.length,J=X.length;if(J>Q)return-1;for(let Y=0;Y<=Q-J;Y++){let Z=!0;for(let W=0;W<J;W++)if($[Y+W]!==X[W]){Z=!1;break}if(Z)return Y}return-1}function eH($){let X=$.reduce((Y,Z)=>Y+Z.length,0),Q=new Uint8Array(X),J=0;for(let Y of $)Q.set(Y,J),J+=Y.length;return Q}var J5,c2,hJ=262144,rH,aX;var Z5=h0(()=>{d6();nW();Q5();J5=P8(aW(),1);c2=J5.default("tokenizer:inflate"),rH=Y5(G8.DataDescriptor),aX=Y5(G8.EndOfCentralDirectory)});function uJ($){let{byteLength:X}=$;if(X===6)return $.getUint16(0)*4294967296+$.getUint32(2);if(X===5)return $.getUint8(0)*4294967296+$.getUint32(1);if(X===4)return $.getUint32(0);if(X===3)return $.getUint8(0)*65536+$.getUint16(1);if(X===2)return $.getUint16(0);if(X===1)return $.getUint8(0)}var hI,mI,uI;var W5=h0(()=>{hI={utf8:new globalThis.TextDecoder("utf8")},mI=new globalThis.TextEncoder,uI=Array.from({length:256},($,X)=>X.toString(16).padStart(2,"0"))});function q5($){return[...$].map((X)=>X.charCodeAt(0))}function M5($,X=0){let Q=Number.parseInt(new s1(6).get($,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(Q))return!1;let J=256;for(let Y=X;Y<X+148;Y++)J+=$[Y];for(let Y=X+156;Y<X+512;Y++)J+=$[Y];return Q===J}var B5;var G5=h0(()=>{d6();B5={get:($,X)=>$[X+3]&127|$[X+2]<<7|$[X+1]<<14|$[X]<<21,len:4}});var N5,w5;var U5=h0(()=>{N5=["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","macho","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ttc","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","j2c","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf","jls","pst","dwg","parquet","class","arj","cpio","ace","avro","icc","fbx","vsdx","vtt","apk","drc","lz4","potx","xltx","dotx","xltm","ott","ots","otp","odg","otg","xlsm","docm","dotm","potm","pptm","jar","rm","ppsm","ppsx"],w5=["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/vnd.apache.arrow.file","video/mp4","audio/midi","video/matroska","video/webm","video/quicktime","video/vnd.avi","audio/wav","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","video/ogg","audio/ogg","audio/ogg; codecs=opus","application/ogg","audio/flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-mach-binary","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","font/collection","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/j2c","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","text/vtt","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd","image/jls","application/vnd.ms-outlook","image/vnd.dwg","application/vnd.apache.parquet","application/java-vm","application/x-arj","application/x-cpio","application/x-ace-compressed","application/avro","application/vnd.iccprofile","application/x.autodesk.fbx","application/vnd.visio","application/vnd.android.package-archive","application/vnd.google.draco","application/x-lz4","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-excel.template.macroenabled.12","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.presentation-template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.graphics-template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/java-archive","application/vnd.rn-realmedia"]});var z5={};F$(z5,{supportedMimeTypes:()=>WA,supportedExtensions:()=>ZA,reasonableDetectionSizeInBytes:()=>eX,fileTypeStream:()=>YA,fileTypeFromTokenizer:()=>JA,fileTypeFromStream:()=>$A,fileTypeFromBuffer:()=>XA,fileTypeFromBlob:()=>QA,FileTypeParser:()=>N8});async function $A($,X){return new N8(X).fromStream($)}async function XA($,X){return new N8(X).fromBuffer($)}async function QA($,X){return new N8(X).fromBlob($)}function cJ($){switch($=$.toLowerCase(),$){case"application/epub+zip":return{ext:"epub",mime:$};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:$};case"application/vnd.oasis.opendocument.text-template":return{ext:"ott",mime:$};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:$};case"application/vnd.oasis.opendocument.spreadsheet-template":return{ext:"ots",mime:$};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:$};case"application/vnd.oasis.opendocument.presentation-template":return{ext:"otp",mime:$};case"application/vnd.oasis.opendocument.graphics":return{ext:"odg",mime:$};case"application/vnd.oasis.opendocument.graphics-template":return{ext:"otg",mime:$};case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":return{ext:"ppsx",mime:$};case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return{ext:"xlsx",mime:$};case"application/vnd.ms-excel.sheet.macroenabled":return{ext:"xlsm",mime:"application/vnd.ms-excel.sheet.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":return{ext:"xltx",mime:$};case"application/vnd.ms-excel.template.macroenabled":return{ext:"xltm",mime:"application/vnd.ms-excel.template.macroenabled.12"};case"application/vnd.ms-powerpoint.slideshow.macroenabled":return{ext:"ppsm",mime:"application/vnd.ms-powerpoint.slideshow.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return{ext:"docx",mime:$};case"application/vnd.ms-word.document.macroenabled":return{ext:"docm",mime:"application/vnd.ms-word.document.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":return{ext:"dotx",mime:$};case"application/vnd.ms-word.template.macroenabledtemplate":return{ext:"dotm",mime:"application/vnd.ms-word.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.template":return{ext:"potx",mime:$};case"application/vnd.ms-powerpoint.template.macroenabled":return{ext:"potm",mime:"application/vnd.ms-powerpoint.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return{ext:"pptx",mime:$};case"application/vnd.ms-powerpoint.presentation.macroenabled":return{ext:"pptm",mime:"application/vnd.ms-powerpoint.presentation.macroenabled.12"};case"application/vnd.ms-visio.drawing":return{ext:"vsdx",mime:"application/vnd.visio"};case"application/vnd.ms-package.3dmanufacturing-3dmodel+xml":return{ext:"3mf",mime:"model/3mf"};default:}}function p2($,X,Q){Q={offset:0,...Q};for(let[J,Y]of X.entries())if(Q.mask){if(Y!==(Q.mask[J]&$[J+Q.offset]))return!1}else if(Y!==$[J+Q.offset])return!1;return!0}async function JA($,X){return new N8(X).fromTokenizer($)}async function YA($,X){return new N8(X).toDetectionStream($,X)}class N8{constructor($){this.options={mpegOffsetTolerance:0,...$},this.detectors=[...$?.customDetectors??[],{id:"core",detect:this.detectConfident},{id:"core.imprecise",detect:this.detectImprecise}],this.tokenizerOptions={abortSignal:$?.signal}}async fromTokenizer($){let X=$.position;for(let Q of this.detectors){let J=await Q.detect($);if(J)return J;if(X!==$.position)return}}async fromBuffer($){if(!($ instanceof Uint8Array||$ instanceof ArrayBuffer))throw TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof $}\``);let X=$ instanceof Uint8Array?$:new Uint8Array($);if(!(X?.length>1))return;return this.fromTokenizer(fW(X,this.tokenizerOptions))}async fromBlob($){return this.fromStream($.stream())}async fromStream($){let X=await gW($,this.tokenizerOptions);try{return await this.fromTokenizer(X)}finally{await X.close()}}async toDetectionStream($,X){let{sampleSize:Q=eX}=X,J,Y,Z=$.getReader({mode:"byob"});try{let{value:M,done:G}=await Z.read(new Uint8Array(Q));if(Y=M,!G&&M)try{J=await this.fromBuffer(M.subarray(0,Q))}catch(B){if(!(B instanceof l0))throw B;J=void 0}Y=M}finally{Z.releaseLock()}let W=new TransformStream({async start(M){M.enqueue(Y)},transform(M,G){G.enqueue(M)}}),q=$.pipeThrough(W);return q.fileType=J,q}check($,X){return p2(this.buffer,$,X)}checkString($,X){return this.check(q5($),X)}detectConfident=async($)=>{if(this.buffer=new Uint8Array(eX),$.fileInfo.size===void 0)$.fileInfo.size=Number.MAX_SAFE_INTEGER;if(this.tokenizer=$,await $.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33])){if(await $.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14}))return{ext:"eps",mime:"application/eps"};return{ext:"ps",mime:"application/postscript"}}if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.detectConfident($);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await $.ignore(6);let X=await $.readToken(B5);if($.position+X>$.fileInfo.size)return{ext:"mp3",mime:"audio/mpeg"};return await $.ignore(X),this.fromTokenizer($)}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((this.buffer[0]===67||this.buffer[0]===70)&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255])){if(this.check([247],{offset:3}))return{ext:"jls",mime:"image/jls"};return{ext:"jpg",mime:"image/jpeg"}}if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){let X;return await new mJ($).unzip((Q)=>{switch(Q.filename){case"META-INF/mozilla.rsa":return X={ext:"xpi",mime:"application/x-xpinstall"},{stop:!0};case"META-INF/MANIFEST.MF":return X={ext:"jar",mime:"application/java-archive"},{stop:!0};case"mimetype":return{async handler(J){let Y=new TextDecoder("utf-8").decode(J).trim();X=cJ(Y)},stop:!0};case"[Content_Types].xml":return{async handler(J){let Y=new TextDecoder("utf-8").decode(J),Z=Y.indexOf('.main+xml"');if(Z===-1){if(Y.includes('ContentType="application/vnd.ms-package.3dmanufacturing-3dmodel+xml"'))X=cJ("application/vnd.ms-package.3dmanufacturing-3dmodel+xml")}else{Y=Y.slice(0,Math.max(0,Z));let W=Y.lastIndexOf('"'),q=Y.slice(Math.max(0,W+1));X=cJ(q)}},stop:!0};default:if(/classes\d*\.dex/.test(Q.filename))return X={ext:"apk",mime:"application/vnd.android.package-archive"},{stop:!0};return{}}}),X??{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await $.ignore(28);let X=new Uint8Array(8);if(await $.readBuffer(X),p2(X,[79,112,117,115,72,101,97,100]))return{ext:"opus",mime:"audio/ogg; codecs=opus"};if(p2(X,[128,116,104,101,111,114,97]))return{ext:"ogv",mime:"video/ogg"};if(p2(X,[1,118,105,100,101,111,0]))return{ext:"ogm",mime:"video/ogg"};if(p2(X,[127,70,76,65,67]))return{ext:"oga",mime:"audio/ogg"};if(p2(X,[83,112,101,101,120,32,32]))return{ext:"spx",mime:"audio/ogg"};if(p2(X,[1,118,111,114,98,105,115]))return{ext:"ogg",mime:"audio/ogg"};return{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(this.buffer[2]===3||this.buffer[2]===5||this.buffer[2]===7)&&(this.buffer[3]===4||this.buffer[3]===6||this.buffer[3]===8))return{ext:"zip",mime:"application/zip"};if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF"))return{ext:"pdf",mime:"application/pdf"};if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){let X=await this.readTiffHeader(!1);if(X)return X}if(this.check([77,77])){let X=await this.readTiffHeader(!0);if(X)return X}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function X(){let W=await $.peekNumber(FW),q=128,M=0;while((W&q)===0&&q!==0)++M,q>>=1;let G=new Uint8Array(M+1);return await $.readBuffer(G),G}async function Q(){let W=await X(),q=await X();q[0]^=128>>q.length-1;let M=Math.min(6,q.length),G=new DataView(W.buffer),B=new DataView(q.buffer,q.length-M,M);return{id:uJ(G),len:uJ(B)}}async function J(W){while(W>0){let q=await Q();if(q.id===17026)return(await $.readToken(new s1(q.len))).replaceAll(/\00.*$/g,"");await $.ignore(q.len),--W}}let Y=await Q();switch(await J(Y.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/matroska"};default:return}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1")||this.checkString("PARE"))return{ext:"parquet",mime:"application/vnd.apache.parquet"};if(this.checkString("ttcf"))return{ext:"ttc",mime:"font/collection"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([4,34,77,24]))return{ext:"lz4",mime:"application/x-lz4"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.checkString(".RMF"))return{ext:"rm",mime:"application/vnd.rn-realmedia"};if(this.checkString("DRACO"))return{ext:"drc",mime:"application/vnd.google.draco"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(this.buffer[6]===0||this.buffer[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){let X=new s1(4,"latin1").get(this.buffer,2);if(X.match("^d*")&&X>=1000&&X<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>")){if(await $.ignore(8),await $.readToken(new s1(13,"ascii"))==="debian-binary")return{ext:"deb",mime:"application/x-deb"};return{ext:"ar",mime:"application/x-unix-archive"}}if(this.checkString("WEBVTT")&&[`
`,"\r","\t"," ","\x00"].some((X)=>this.checkString(X,{offset:6})))return{ext:"vtt",mime:"text/vtt"};if(this.check([137,80,78,71,13,10,26,10])){await $.ignore(8);async function X(){return{length:await $.readToken(VW),type:await $.readToken(new s1(4,"latin1"))}}do{let Q=await X();if(Q.length<0)return;switch(Q.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await $.ignore(Q.length+4)}}while($.position+8<$.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/vnd.apache.arrow.file"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.checkString("ftyp",{offset:4})&&(this.buffer[8]&96)!==0){let X=new s1(4,"latin1").get(this.buffer,8).replace("\x00"," ").trim();switch(X){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:if(X.startsWith("3g")){if(X.startsWith("3g2"))return{ext:"3g2",mime:"video/3gpp2"};return{ext:"3gp",mime:"video/3gpp"}}return{ext:"mp4",mime:"video/mp4"}}}if(this.check([82,73,70,70])){if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function X(){let Q=new Uint8Array(16);return await $.readBuffer(Q),{id:Q,size:Number(await $.readToken(_W))}}await $.ignore(30);while($.position+24<$.fileInfo.size){let Q=await X(),J=Q.size-24;if(p2(Q.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let Y=new Uint8Array(16);if(J-=await $.readBuffer(Y),p2(Y,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(p2(Y,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await $.ignore(J)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await $.ignore(20),await $.readToken(new s1(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255])){if(this.check([0,60,0,63,0,120,0,109,0,108],{offset:2}))return{ext:"xml",mime:"application/xml"};return}if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await $.peekBuffer(this.buffer,{length:Math.min(256,$.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("**ACE",{offset:7})&&this.checkString("**",{offset:12}))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){let X=new DataView(this.buffer.buffer).getUint32(12,!0);if(X>12&&this.buffer.length>=X+16)try{let Q=new TextDecoder().decode(this.buffer.subarray(16,X+16));if(JSON.parse(Q).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \x00"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await $.peekBuffer(this.buffer,{length:Math.min(512,$.fileInfo.size),mayBeLess:!0}),this.checkString("ustar",{offset:257})&&(this.checkString("\x00",{offset:262})||this.checkString(" ",{offset:262}))||this.check([0,0,0,0,0,0],{offset:257})&&M5(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254])){if(this.check([60,0,63,0,120,0,109,0,108,0],{offset:2}))return{ext:"xml",mime:"application/xml"};if(this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2}))return{ext:"skp",mime:"application/vnd.sketchup.skp"};return}if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"}};detectImprecise=async($)=>{if(this.buffer=new Uint8Array(eX),await $.peekBuffer(this.buffer,{length:Math.min(8,$.fileInfo.size),mayBeLess:!0}),this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(await $.peekBuffer(this.buffer,{length:Math.min(2+this.options.mpegOffsetTolerance,$.fileInfo.size),mayBeLess:!0}),this.buffer.length>=2+this.options.mpegOffsetTolerance)for(let X=0;X<=this.options.mpegOffsetTolerance;++X){let Q=this.scanMpeg(X);if(Q)return Q}};async readTiffTag($){let X=await this.tokenizer.readToken($?s8:v0);switch(this.tokenizer.ignore(10),X){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"};default:}}async readTiffIFD($){let X=await this.tokenizer.readToken($?s8:v0);for(let Q=0;Q<X;++Q){let J=await this.readTiffTag($);if(J)return J}}async readTiffHeader($){let X=($?s8:v0).get(this.buffer,2),Q=($?RW:e0).get(this.buffer,4);if(X===42){if(Q>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(Q>=8){let Y=($?s8:v0).get(this.buffer,8),Z=($?s8:v0).get(this.buffer,10);if(Y===28&&Z===254||Y===31&&Z===11)return{ext:"nef",mime:"image/x-nikon-nef"}}}return await this.tokenizer.ignore(Q),await this.readTiffIFD($)??{ext:"tif",mime:"image/tiff"}}if(X===43)return{ext:"tif",mime:"image/tiff"}}scanMpeg($){if(this.check([255,224],{offset:$,mask:[255,224]})){if(this.check([16],{offset:$+1,mask:[22]})){if(this.check([8],{offset:$+1,mask:[8]}))return{ext:"aac",mime:"audio/aac"};return{ext:"aac",mime:"audio/aac"}}if(this.check([2],{offset:$+1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:$+1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:$+1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}}var eX=4100,ZA,WA;var H5=h0(()=>{d6();yW();Z5();W5();G5();U5();ZA=new Set(N5),WA=new Set(w5)});var _5=U6((V5)=>{Object.defineProperty(V5,"__esModule",{value:!0});V5.parse=kA;V5.serialize=gA;var _A=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,EA=/^[\u0021-\u003A\u003C-\u007E]*$/,xA=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,IA=/^[\u0020-\u003A\u003D-\u007E]*$/,TA=Object.prototype.toString,bA=(()=>{let $=function(){};return $.prototype=Object.create(null),$})();function kA($,X){let Q=new bA,J=$.length;if(J<2)return Q;let Y=X?.decode||fA,Z=0;do{let W=$.indexOf("=",Z);if(W===-1)break;let q=$.indexOf(";",Z),M=q===-1?J:q;if(W>M){Z=$.lastIndexOf(";",W-1)+1;continue}let G=F5($,Z,W),B=R5($,W,G),N=$.slice(G,B);if(Q[N]===void 0){let P=F5($,W+1,M),w=R5($,M,P),H=Y($.slice(P,w));Q[N]=H}Z=M+1}while(Z<J);return Q}function F5($,X,Q){do{let J=$.charCodeAt(X);if(J!==32&&J!==9)return X}while(++X<Q);return Q}function R5($,X,Q){while(X>Q){let J=$.charCodeAt(--X);if(J!==32&&J!==9)return X+1}return Q}function gA($,X,Q){let J=Q?.encode||encodeURIComponent;if(!_A.test($))throw TypeError(`argument name is invalid: ${$}`);let Y=J(X);if(!EA.test(Y))throw TypeError(`argument val is invalid: ${X}`);let Z=$+"="+Y;if(!Q)return Z;if(Q.maxAge!==void 0){if(!Number.isInteger(Q.maxAge))throw TypeError(`option maxAge is invalid: ${Q.maxAge}`);Z+="; Max-Age="+Q.maxAge}if(Q.domain){if(!xA.test(Q.domain))throw TypeError(`option domain is invalid: ${Q.domain}`);Z+="; Domain="+Q.domain}if(Q.path){if(!IA.test(Q.path))throw TypeError(`option path is invalid: ${Q.path}`);Z+="; Path="+Q.path}if(Q.expires){if(!yA(Q.expires)||!Number.isFinite(Q.expires.valueOf()))throw TypeError(`option expires is invalid: ${Q.expires}`);Z+="; Expires="+Q.expires.toUTCString()}if(Q.httpOnly)Z+="; HttpOnly";if(Q.secure)Z+="; Secure";if(Q.partitioned)Z+="; Partitioned";if(Q.priority)switch(typeof Q.priority==="string"?Q.priority.toLowerCase():void 0){case"low":Z+="; Priority=Low";break;case"medium":Z+="; Priority=Medium";break;case"high":Z+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${Q.priority}`)}if(Q.sameSite)switch(typeof Q.sameSite==="string"?Q.sameSite.toLowerCase():Q.sameSite){case!0:case"strict":Z+="; SameSite=Strict";break;case"lax":Z+="; SameSite=Lax";break;case"none":Z+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${Q.sameSite}`)}return Z}function fA($){if($.indexOf("%")===-1)return $;try{return decodeURIComponent($)}catch(X){return $}}function yA($){return TA.call($)==="[object Date]"}});var FQ={name:"DockStacks",description:"This Plugin allows for deploying so called stacks. Stacks are prebuilt docker compose file, with tempplating and plugin support",repository:"its4nik/dockstat:dev/apps/dockstore",version:"1.0.0",tags:["compose","management"],author:{email:"info@itsnik.de",license:"MIT",name:"Its4Nik",website:"https://github.com/Its4Nik"},manifest:"src/content/plugins/dockstacks/manifest.yml",repoType:"github"};var L8=($,X)=>{let Q=X?.length?{}:null;if(Q)for(let J of X)Q[J.part.charCodeAt(0)]=J;return{part:$,store:null,inert:Q,params:null,wildcardStore:null}},qY=($,X)=>({...$,part:X}),MY=($)=>({name:$,store:null,inert:null}),RQ=class ${constructor(X={}){if(this.config=X,X.lazy)this.find=this.lazyFind;if(X.onParam&&!Array.isArray(X.onParam))this.config.onParam=[this.config.onParam]}root={};history=[];deferred=[];static regex={static:/:.+?(?=\/|$)/,params:/:.+?(?=\/|$)/g,optionalParams:/(\/:\w+\?)/g};lazyFind=(X,Q)=>{if(!this.config.lazy)return this.find;return this.build(),this.find(X,Q)};build(){if(!this.config.lazy)return;for(let[X,Q,J]of this.deferred)this.add(X,Q,J,{lazy:!1,ignoreHistory:!0});this.deferred=[],this.find=(X,Q)=>{let J=this.root[X];if(!J)return null;return XX(Q,Q.length,J,0,this.config.onParam)}}add(X,Q,J,{ignoreError:Y=!1,ignoreHistory:Z=!1,lazy:W=this.config.lazy}={}){if(W)return this.find=this.lazyFind,this.deferred.push([X,Q,J]),J;if(typeof Q!=="string")throw TypeError("Route path must be a string");if(Q==="")Q="/";else if(Q[0]!=="/")Q=`/${Q}`;let q=Q[Q.length-1]==="*",M=Q.match($.regex.optionalParams);if(M){let w=Q.replaceAll("?","");this.add(X,w,J,{ignoreError:Y,ignoreHistory:Z,lazy:W});for(let H=0;H<M.length;H++){let A=Q.replace(M[H],"");this.add(X,A,J,{ignoreError:!0,ignoreHistory:Z,lazy:W})}return J}if(M)Q=Q.replaceAll("?","");if(this.history.find(([w,H,A])=>w===X&&H===Q))return J;if(q||M&&Q.charCodeAt(Q.length-1)===63)Q=Q.slice(0,-1);if(!Z)this.history.push([X,Q,J]);let G=Q.split($.regex.static),B=Q.match($.regex.params)||[];if(G[G.length-1]==="")G.pop();let N;if(!this.root[X])N=this.root[X]=L8("/");else N=this.root[X];let P=0;for(let w=0;w<G.length;++w){let H=G[w];if(w>0){let A=B[P++].slice(1);if(N.params===null)N.params=MY(A);else if(N.params.name!==A)if(Y)return J;else throw Error(`Cannot create route "${Q}" with parameter "${A}" because a route already exists with a different parameter name ("${N.params.name}") in the same location`);let S=N.params;if(S.inert===null){N=S.inert=L8(H);continue}N=S.inert}for(let A=0;;){if(A===H.length){if(A<N.part.length){let S=qY(N,N.part.slice(A));Object.assign(N,L8(H,[S]))}break}if(A===N.part.length){if(N.inert===null)N.inert={};let S=N.inert[H.charCodeAt(A)];if(S){N=S,H=H.slice(A),A=0;continue}let j=L8(H.slice(A));N.inert[H.charCodeAt(A)]=j,N=j;break}if(H[A]!==N.part[A]){let S=qY(N,N.part.slice(A)),j=L8(H.slice(A));Object.assign(N,L8(N.part.slice(0,A),[S,j])),N=j;break}++A}}if(P<B.length){let H=B[P].slice(1);if(N.params===null)N.params=MY(H);else if(N.params.name!==H)if(Y)return J;else throw Error(`Cannot create route "${Q}" with parameter "${H}" because a route already exists with a different parameter name ("${N.params.name}") in the same location`);if(N.params.store===null)N.params.store=J;return N.params.store}if(q){if(N.wildcardStore===null)N.wildcardStore=J;return N.wildcardStore}if(N.store===null)N.store=J;return N.store}find(X,Q){let J=this.root[X];if(!J)return null;return XX(Q,Q.length,J,0,this.config.onParam)}},XX=($,X,Q,J,Y)=>{let Z=Q.part,W=Z.length,q=J+W;if(W>1){if(q>X)return null;if(W<15){for(let M=1,G=J+1;M<W;++M,++G)if(Z.charCodeAt(M)!==$.charCodeAt(G))return null}else if($.slice(J,q)!==Z)return null}if(q===X){if(Q.store!==null)return{store:Q.store,params:{}};if(Q.wildcardStore!==null)return{store:Q.wildcardStore,params:{"*":""}};return null}if(Q.inert!==null){let M=Q.inert[$.charCodeAt(q)];if(M!==void 0){let G=XX($,X,M,q,Y);if(G!==null)return G}}if(Q.params!==null){let{store:M,name:G,inert:B}=Q.params,N=$.indexOf("/",q);if(N!==q){if(N===-1||N>=X){if(M!==null){let P={};if(P[G]=$.substring(q,X),Y)for(let w=0;w<Y.length;w++){let H=Y[w](P[G],G);if(H!==void 0)P[G]=H}return{store:M,params:P}}}else if(B!==null){let P=XX($,X,B,N,Y);if(P!==null){if(P.params[G]=$.substring(q,N),Y)for(let w=0;w<Y.length;w++){let H=Y[w](P.params[G],G);if(H!==void 0)P.params[G]=H}return P}}}}if(Q.wildcardStore!==null)return{store:Q.wildcardStore,params:{"*":$.substring(q,X)}};return null};var L1={};F$(L1,{IsUndefined:()=>r0,IsUint8Array:()=>s2,IsSymbol:()=>IQ,IsString:()=>j0,IsRegExp:()=>H6,IsObject:()=>P0,IsNumber:()=>m1,IsNull:()=>xQ,IsIterator:()=>EQ,IsFunction:()=>_Q,IsDate:()=>i$,IsBoolean:()=>t2,IsBigInt:()=>z6,IsAsyncIterator:()=>VQ,IsArray:()=>s0,HasPropertyKey:()=>QX});function QX($,X){return X in $}function VQ($){return P0($)&&!s0($)&&!s2($)&&Symbol.asyncIterator in $}function s0($){return Array.isArray($)}function z6($){return typeof $==="bigint"}function t2($){return typeof $==="boolean"}function i$($){return $ instanceof globalThis.Date}function _Q($){return typeof $==="function"}function EQ($){return P0($)&&!s0($)&&!s2($)&&Symbol.iterator in $}function xQ($){return $===null}function m1($){return typeof $==="number"}function P0($){return typeof $==="object"&&$!==null}function H6($){return $ instanceof globalThis.RegExp}function j0($){return typeof $==="string"}function IQ($){return typeof $==="symbol"}function s2($){return $ instanceof globalThis.Uint8Array}function r0($){return $===void 0}function w7($){return $.map((X)=>JX(X))}function U7($){return new Date($.getTime())}function z7($){return new Uint8Array($)}function H7($){return new RegExp($.source,$.flags)}function A7($){let X={};for(let Q of Object.getOwnPropertyNames($))X[Q]=JX($[Q]);for(let Q of Object.getOwnPropertySymbols($))X[Q]=JX($[Q]);return X}function JX($){return s0($)?w7($):i$($)?U7($):s2($)?z7($):H6($)?H7($):P0($)?A7($):$}function E0($){return JX($)}function K8($,X){return X===void 0?E0($):E0({...X,...$})}function YX($){return l($)&&globalThis.Symbol.asyncIterator in $}function ZX($){return l($)&&globalThis.Symbol.iterator in $}function TQ($){return l($)&&(globalThis.Object.getPrototypeOf($)===Object.prototype||globalThis.Object.getPrototypeOf($)===null)}function WX($){return $ instanceof globalThis.Promise}function V1($){return $ instanceof Date&&globalThis.Number.isFinite($.getTime())}function BY($){return $ instanceof globalThis.Map}function GY($){return $ instanceof globalThis.Set}function $2($){return globalThis.ArrayBuffer.isView($)}function S8($){return $ instanceof globalThis.Uint8Array}function i($,X){return X in $}function l($){return $!==null&&typeof $==="object"}function c($){return globalThis.Array.isArray($)&&!globalThis.ArrayBuffer.isView($)}function x0($){return $===void 0}function r2($){return $===null}function y2($){return typeof $==="boolean"}function u($){return typeof $==="number"}function qX($){return globalThis.Number.isInteger($)}function z1($){return typeof $==="bigint"}function q0($){return typeof $==="string"}function R$($){return typeof $==="function"}function a2($){return typeof $==="symbol"}function u1($){return z1($)||y2($)||r2($)||u($)||q0($)||a2($)||x0($)}var V0;(function($){$.InstanceMode="default",$.ExactOptionalPropertyTypes=!1,$.AllowArrayObject=!1,$.AllowNaN=!1,$.AllowNullVoid=!1;function X(W,q){return $.ExactOptionalPropertyTypes?q in W:W[q]!==void 0}$.IsExactOptionalProperty=X;function Q(W){let q=l(W);return $.AllowArrayObject?q:q&&!c(W)}$.IsObjectLike=Q;function J(W){return Q(W)&&!(W instanceof Date)&&!(W instanceof Uint8Array)}$.IsRecordLike=J;function Y(W){return $.AllowNaN?u(W):Number.isFinite(W)}$.IsNumberLike=Y;function Z(W){let q=x0(W);return $.AllowNullVoid?q||W===null:q}$.IsVoidLike=Z})(V0||(V0={}));function D7($){return globalThis.Object.freeze($).map((X)=>A6(X))}function O7($){return $}function P7($){return $}function L7($){return $}function K7($){let X={};for(let Q of Object.getOwnPropertyNames($))X[Q]=A6($[Q]);for(let Q of Object.getOwnPropertySymbols($))X[Q]=A6($[Q]);return globalThis.Object.freeze(X)}function A6($){return s0($)?D7($):i$($)?O7($):s2($)?P7($):H6($)?L7($):P0($)?K7($):$}function F($,X){let Q=X!==void 0?{...X,...$}:$;switch(V0.InstanceMode){case"freeze":return A6(Q);case"clone":return E0(Q);default:return Q}}class p extends Error{constructor($){super($)}}var C0=Symbol.for("TypeBox.Transform"),N2=Symbol.for("TypeBox.Readonly"),Z1=Symbol.for("TypeBox.Optional"),X2=Symbol.for("TypeBox.Hint"),L=Symbol.for("TypeBox.Kind");function C8($){return P0($)&&$[N2]==="Readonly"}function T1($){return P0($)&&$[Z1]==="Optional"}function bQ($){return Z0($,"Any")}function kQ($){return Z0($,"Argument")}function w2($){return Z0($,"Array")}function n$($){return Z0($,"AsyncIterator")}function o$($){return Z0($,"BigInt")}function e2($){return Z0($,"Boolean")}function U2($){return Z0($,"Computed")}function z2($){return Z0($,"Constructor")}function S7($){return Z0($,"Date")}function H2($){return Z0($,"Function")}function A2($){return Z0($,"Integer")}function m0($){return Z0($,"Intersect")}function l$($){return Z0($,"Iterator")}function Z0($,X){return P0($)&&L in $&&$[L]===X}function MX($){return t2($)||m1($)||j0($)}function c1($){return Z0($,"Literal")}function p1($){return Z0($,"MappedKey")}function I0($){return Z0($,"MappedResult")}function V$($){return Z0($,"Never")}function C7($){return Z0($,"Not")}function D6($){return Z0($,"Null")}function D2($){return Z0($,"Number")}function a0($){return Z0($,"Object")}function t$($){return Z0($,"Promise")}function s$($){return Z0($,"Record")}function n0($){return Z0($,"Ref")}function gQ($){return Z0($,"RegExp")}function $$($){return Z0($,"String")}function O6($){return Z0($,"Symbol")}function i1($){return Z0($,"TemplateLiteral")}function j7($){return Z0($,"This")}function U0($){return P0($)&&C0 in $}function n1($){return Z0($,"Tuple")}function X$($){return Z0($,"Undefined")}function M0($){return Z0($,"Union")}function F7($){return Z0($,"Uint8Array")}function R7($){return Z0($,"Unknown")}function V7($){return Z0($,"Unsafe")}function _7($){return Z0($,"Void")}function _$($){return P0($)&&L in $&&j0($[L])}function g0($){return bQ($)||kQ($)||w2($)||e2($)||o$($)||n$($)||U2($)||z2($)||S7($)||H2($)||A2($)||m0($)||l$($)||c1($)||p1($)||I0($)||V$($)||C7($)||D6($)||D2($)||a0($)||t$($)||s$($)||n0($)||gQ($)||$$($)||O6($)||i1($)||j7($)||n1($)||X$($)||M0($)||F7($)||R7($)||V7($)||_7($)||_$($)}var O={};F$(O,{TypeGuardUnknownTypeError:()=>NY,IsVoid:()=>aY,IsUnsafe:()=>rY,IsUnknown:()=>sY,IsUnionLiteral:()=>y7,IsUnion:()=>vQ,IsUndefined:()=>lY,IsUint8Array:()=>tY,IsTuple:()=>oY,IsTransform:()=>nY,IsThis:()=>iY,IsTemplateLiteral:()=>pY,IsSymbol:()=>cY,IsString:()=>uY,IsSchema:()=>T0,IsRegExp:()=>mY,IsRef:()=>hY,IsRecursive:()=>f7,IsRecord:()=>dY,IsReadonly:()=>T7,IsProperties:()=>BX,IsPromise:()=>vY,IsOptional:()=>b7,IsObject:()=>yY,IsNumber:()=>fY,IsNull:()=>gY,IsNot:()=>kY,IsNever:()=>bY,IsMappedResult:()=>TY,IsMappedKey:()=>IY,IsLiteralValue:()=>xY,IsLiteralString:()=>_Y,IsLiteralNumber:()=>EY,IsLiteralBoolean:()=>g7,IsLiteral:()=>L6,IsKindOf:()=>$0,IsKind:()=>eY,IsIterator:()=>VY,IsIntersect:()=>RY,IsInteger:()=>FY,IsImport:()=>k7,IsFunction:()=>jY,IsDate:()=>CY,IsConstructor:()=>SY,IsComputed:()=>KY,IsBoolean:()=>LY,IsBigInt:()=>PY,IsAsyncIterator:()=>OY,IsArray:()=>DY,IsArgument:()=>AY,IsAny:()=>HY});class NY extends p{}var E7=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function wY($){try{return new RegExp($),!0}catch{return!1}}function fQ($){if(!j0($))return!1;for(let X=0;X<$.length;X++){let Q=$.charCodeAt(X);if(Q>=7&&Q<=13||Q===27||Q===127)return!1}return!0}function UY($){return yQ($)||T0($)}function P6($){return r0($)||z6($)}function F0($){return r0($)||m1($)}function yQ($){return r0($)||t2($)}function L0($){return r0($)||j0($)}function x7($){return r0($)||j0($)&&fQ($)&&wY($)}function I7($){return r0($)||j0($)&&fQ($)}function zY($){return r0($)||T0($)}function T7($){return P0($)&&$[N2]==="Readonly"}function b7($){return P0($)&&$[Z1]==="Optional"}function HY($){return $0($,"Any")&&L0($.$id)}function AY($){return $0($,"Argument")&&m1($.index)}function DY($){return $0($,"Array")&&$.type==="array"&&L0($.$id)&&T0($.items)&&F0($.minItems)&&F0($.maxItems)&&yQ($.uniqueItems)&&zY($.contains)&&F0($.minContains)&&F0($.maxContains)}function OY($){return $0($,"AsyncIterator")&&$.type==="AsyncIterator"&&L0($.$id)&&T0($.items)}function PY($){return $0($,"BigInt")&&$.type==="bigint"&&L0($.$id)&&P6($.exclusiveMaximum)&&P6($.exclusiveMinimum)&&P6($.maximum)&&P6($.minimum)&&P6($.multipleOf)}function LY($){return $0($,"Boolean")&&$.type==="boolean"&&L0($.$id)}function KY($){return $0($,"Computed")&&j0($.target)&&s0($.parameters)&&$.parameters.every((X)=>T0(X))}function SY($){return $0($,"Constructor")&&$.type==="Constructor"&&L0($.$id)&&s0($.parameters)&&$.parameters.every((X)=>T0(X))&&T0($.returns)}function CY($){return $0($,"Date")&&$.type==="Date"&&L0($.$id)&&F0($.exclusiveMaximumTimestamp)&&F0($.exclusiveMinimumTimestamp)&&F0($.maximumTimestamp)&&F0($.minimumTimestamp)&&F0($.multipleOfTimestamp)}function jY($){return $0($,"Function")&&$.type==="Function"&&L0($.$id)&&s0($.parameters)&&$.parameters.every((X)=>T0(X))&&T0($.returns)}function k7($){return $0($,"Import")&&QX($,"$defs")&&P0($.$defs)&&BX($.$defs)&&QX($,"$ref")&&j0($.$ref)&&$.$ref in $.$defs}function FY($){return $0($,"Integer")&&$.type==="integer"&&L0($.$id)&&F0($.exclusiveMaximum)&&F0($.exclusiveMinimum)&&F0($.maximum)&&F0($.minimum)&&F0($.multipleOf)}function BX($){return P0($)&&Object.entries($).every(([X,Q])=>fQ(X)&&T0(Q))}function RY($){return $0($,"Intersect")&&(j0($.type)&&$.type!=="object"?!1:!0)&&s0($.allOf)&&$.allOf.every((X)=>T0(X)&&!nY(X))&&L0($.type)&&(yQ($.unevaluatedProperties)||zY($.unevaluatedProperties))&&L0($.$id)}function VY($){return $0($,"Iterator")&&$.type==="Iterator"&&L0($.$id)&&T0($.items)}function $0($,X){return P0($)&&L in $&&$[L]===X}function _Y($){return L6($)&&j0($.const)}function EY($){return L6($)&&m1($.const)}function g7($){return L6($)&&t2($.const)}function L6($){return $0($,"Literal")&&L0($.$id)&&xY($.const)}function xY($){return t2($)||m1($)||j0($)}function IY($){return $0($,"MappedKey")&&s0($.keys)&&$.keys.every((X)=>m1(X)||j0(X))}function TY($){return $0($,"MappedResult")&&BX($.properties)}function bY($){return $0($,"Never")&&P0($.not)&&Object.getOwnPropertyNames($.not).length===0}function kY($){return $0($,"Not")&&T0($.not)}function gY($){return $0($,"Null")&&$.type==="null"&&L0($.$id)}function fY($){return $0($,"Number")&&$.type==="number"&&L0($.$id)&&F0($.exclusiveMaximum)&&F0($.exclusiveMinimum)&&F0($.maximum)&&F0($.minimum)&&F0($.multipleOf)}function yY($){return $0($,"Object")&&$.type==="object"&&L0($.$id)&&BX($.properties)&&UY($.additionalProperties)&&F0($.minProperties)&&F0($.maxProperties)}function vY($){return $0($,"Promise")&&$.type==="Promise"&&L0($.$id)&&T0($.item)}function dY($){return $0($,"Record")&&$.type==="object"&&L0($.$id)&&UY($.additionalProperties)&&P0($.patternProperties)&&((X)=>{let Q=Object.getOwnPropertyNames(X.patternProperties);return Q.length===1&&wY(Q[0])&&P0(X.patternProperties)&&T0(X.patternProperties[Q[0]])})($)}function f7($){return P0($)&&X2 in $&&$[X2]==="Recursive"}function hY($){return $0($,"Ref")&&L0($.$id)&&j0($.$ref)}function mY($){return $0($,"RegExp")&&L0($.$id)&&j0($.source)&&j0($.flags)&&F0($.maxLength)&&F0($.minLength)}function uY($){return $0($,"String")&&$.type==="string"&&L0($.$id)&&F0($.minLength)&&F0($.maxLength)&&x7($.pattern)&&I7($.format)}function cY($){return $0($,"Symbol")&&$.type==="symbol"&&L0($.$id)}function pY($){return $0($,"TemplateLiteral")&&$.type==="string"&&j0($.pattern)&&$.pattern[0]==="^"&&$.pattern[$.pattern.length-1]==="$"}function iY($){return $0($,"This")&&L0($.$id)&&j0($.$ref)}function nY($){return P0($)&&C0 in $}function oY($){return $0($,"Tuple")&&$.type==="array"&&L0($.$id)&&m1($.minItems)&&m1($.maxItems)&&$.minItems===$.maxItems&&(r0($.items)&&r0($.additionalItems)&&$.minItems===0||s0($.items)&&$.items.every((X)=>T0(X)))}function lY($){return $0($,"Undefined")&&$.type==="undefined"&&L0($.$id)}function y7($){return vQ($)&&$.anyOf.every((X)=>_Y(X)||EY(X))}function vQ($){return $0($,"Union")&&L0($.$id)&&P0($)&&s0($.anyOf)&&$.anyOf.every((X)=>T0(X))}function tY($){return $0($,"Uint8Array")&&$.type==="Uint8Array"&&L0($.$id)&&F0($.minByteLength)&&F0($.maxByteLength)}function sY($){return $0($,"Unknown")&&L0($.$id)}function rY($){return $0($,"Unsafe")}function aY($){return $0($,"Void")&&$.type==="void"&&L0($.$id)}function eY($){return P0($)&&L in $&&j0($[L])&&!E7.includes($[L])}function T0($){return P0($)&&(HY($)||AY($)||DY($)||LY($)||PY($)||OY($)||KY($)||SY($)||CY($)||jY($)||FY($)||RY($)||VY($)||L6($)||IY($)||TY($)||bY($)||kY($)||gY($)||fY($)||yY($)||vY($)||dY($)||hY($)||mY($)||uY($)||cY($)||pY($)||iY($)||oY($)||lY($)||vQ($)||tY($)||sY($)||rY($)||aY($)||eY($))}var $4="(true|false)",GX="(0|[1-9][0-9]*)",X4="(.*)";var E$="^(0|[1-9][0-9]*)$",x$="^(.*)$",Q4="^(?!.*)$";var O0={};F$(O0,{Set:()=>u7,Has:()=>m7,Get:()=>c7,Entries:()=>v7,Delete:()=>h7,Clear:()=>d7});var j8=new Map;function v7(){return new Map(j8)}function d7(){return j8.clear()}function h7($){return j8.delete($)}function m7($){return j8.has($)}function u7($,X){j8.set($,X)}function c7($){return j8.get($)}var W1={};F$(W1,{Set:()=>l7,Has:()=>o7,Get:()=>t7,Entries:()=>p7,Delete:()=>n7,Clear:()=>i7});var F8=new Map;function p7(){return new Map(F8)}function i7(){return F8.clear()}function n7($){return F8.delete($)}function o7($){return F8.has($)}function l7($,X){F8.set($,X)}function t7($){return F8.get($)}function J4($,X){return $.includes(X)}function Y4($){return[...new Set($)]}function s7($,X){return $.filter((Q)=>X.includes(Q))}function r7($,X){return $.reduce((Q,J)=>{return s7(Q,J)},X)}function Z4($){return $.length===1?$[0]:$.length>1?r7($.slice(1),$[0]):[]}function W4($){let X=[];for(let Q of $)X.push(...Q);return X}function I$($){return F({[L]:"Any"},$)}function R8($,X){return F({[L]:"Array",type:"array",items:$},X)}function q4($){return F({[L]:"Argument",index:$})}function V8($,X){return F({[L]:"AsyncIterator",type:"AsyncIterator",items:$},X)}function _0($,X,Q){return F({[L]:"Computed",target:$,parameters:X},Q)}function a7($,X){let{[X]:Q,...J}=$;return J}function u0($,X){return X.reduce((Q,J)=>a7(Q,J),$)}function s($){return F({[L]:"Never",not:{}},$)}function G0($){return F({[L]:"MappedResult",properties:$})}function _8($,X,Q){return F({[L]:"Constructor",type:"Constructor",parameters:$,returns:X},Q)}function v2($,X,Q){return F({[L]:"Function",type:"Function",parameters:$,returns:X},Q)}function K6($,X){return F({[L]:"Union",anyOf:$},X)}function e7($){return $.some((X)=>T1(X))}function M4($){return $.map((X)=>T1(X)?$9(X):X)}function $9($){return u0($,[Z1])}function X9($,X){return e7($)?K1(K6(M4($),X)):K6(M4($),X)}function d2($,X){return $.length===1?F($[0],X):$.length===0?s(X):X9($,X)}function z0($,X){return $.length===0?s(X):$.length===1?F($[0],X):K6($,X)}class dQ extends p{}function Q9($){return $.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function hQ($,X,Q){return $[X]===Q&&$.charCodeAt(X-1)!==92}function J$($,X){return hQ($,X,"(")}function S6($,X){return hQ($,X,")")}function B4($,X){return hQ($,X,"|")}function J9($){if(!(J$($,0)&&S6($,$.length-1)))return!1;let X=0;for(let Q=0;Q<$.length;Q++){if(J$($,Q))X+=1;if(S6($,Q))X-=1;if(X===0&&Q!==$.length-1)return!1}return!0}function Y9($){return $.slice(1,$.length-1)}function Z9($){let X=0;for(let Q=0;Q<$.length;Q++){if(J$($,Q))X+=1;if(S6($,Q))X-=1;if(B4($,Q)&&X===0)return!0}return!1}function W9($){for(let X=0;X<$.length;X++)if(J$($,X))return!0;return!1}function q9($){let[X,Q]=[0,0],J=[];for(let Z=0;Z<$.length;Z++){if(J$($,Z))X+=1;if(S6($,Z))X-=1;if(B4($,Z)&&X===0){let W=$.slice(Q,Z);if(W.length>0)J.push(E8(W));Q=Z+1}}let Y=$.slice(Q);if(Y.length>0)J.push(E8(Y));if(J.length===0)return{type:"const",const:""};if(J.length===1)return J[0];return{type:"or",expr:J}}function M9($){function X(Y,Z){if(!J$(Y,Z))throw new dQ("TemplateLiteralParser: Index must point to open parens");let W=0;for(let q=Z;q<Y.length;q++){if(J$(Y,q))W+=1;if(S6(Y,q))W-=1;if(W===0)return[Z,q]}throw new dQ("TemplateLiteralParser: Unclosed group parens in expression")}function Q(Y,Z){for(let W=Z;W<Y.length;W++)if(J$(Y,W))return[Z,W];return[Z,Y.length]}let J=[];for(let Y=0;Y<$.length;Y++)if(J$($,Y)){let[Z,W]=X($,Y),q=$.slice(Z,W+1);J.push(E8(q)),Y=W}else{let[Z,W]=Q($,Y),q=$.slice(Z,W);if(q.length>0)J.push(E8(q));Y=W-1}return J.length===0?{type:"const",const:""}:J.length===1?J[0]:{type:"and",expr:J}}function E8($){return J9($)?E8(Y9($)):Z9($)?q9($):W9($)?M9($):{type:"const",const:Q9($)}}function x8($){return E8($.slice(1,$.length-1))}class G4 extends p{}function B9($){return $.type==="or"&&$.expr.length===2&&$.expr[0].type==="const"&&$.expr[0].const==="0"&&$.expr[1].type==="const"&&$.expr[1].const==="[1-9][0-9]*"}function G9($){return $.type==="or"&&$.expr.length===2&&$.expr[0].type==="const"&&$.expr[0].const==="true"&&$.expr[1].type==="const"&&$.expr[1].const==="false"}function N9($){return $.type==="const"&&$.const===".*"}function r$($){return B9($)||N9($)?!1:G9($)?!0:$.type==="and"?$.expr.every((X)=>r$(X)):$.type==="or"?$.expr.every((X)=>r$(X)):$.type==="const"?!0:(()=>{throw new G4("Unknown expression type")})()}function NX($){let X=x8($.pattern);return r$(X)}class N4 extends p{}function*w4($){if($.length===1)return yield*$[0];for(let X of $[0])for(let Q of w4($.slice(1)))yield`${X}${Q}`}function*w9($){return yield*w4($.expr.map((X)=>[...C6(X)]))}function*U9($){for(let X of $.expr)yield*C6(X)}function*z9($){return yield $.const}function*C6($){return $.type==="and"?yield*w9($):$.type==="or"?yield*U9($):$.type==="const"?yield*z9($):(()=>{throw new N4("Unknown expression")})()}function I8($){let X=x8($.pattern);return r$(X)?[...C6(X)]:[]}function W0($,X){return F({[L]:"Literal",const:$,type:typeof $},X)}function wX($){return F({[L]:"Boolean",type:"boolean"},$)}function T8($){return F({[L]:"BigInt",type:"bigint"},$)}function Q2($){return F({[L]:"Number",type:"number"},$)}function _1($){return F({[L]:"String",type:"string"},$)}function*H9($){let X=$.trim().replace(/"|'/g,"");return X==="boolean"?yield wX():X==="number"?yield Q2():X==="bigint"?yield T8():X==="string"?yield _1():yield(()=>{let Q=X.split("|").map((J)=>W0(J.trim()));return Q.length===0?s():Q.length===1?Q[0]:d2(Q)})()}function*A9($){if($[1]!=="{"){let X=W0("$"),Q=mQ($.slice(1));return yield*[X,...Q]}for(let X=2;X<$.length;X++)if($[X]==="}"){let Q=H9($.slice(2,X)),J=mQ($.slice(X+1));return yield*[...Q,...J]}yield W0($)}function*mQ($){for(let X=0;X<$.length;X++)if($[X]==="$"){let Q=W0($.slice(0,X)),J=A9($.slice(X));return yield*[Q,...J]}yield W0($)}function U4($){return[...mQ($)]}class z4 extends p{}function D9($){return $.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function H4($,X){return i1($)?$.pattern.slice(1,$.pattern.length-1):M0($)?`(${$.anyOf.map((Q)=>H4(Q,X)).join("|")})`:D2($)?`${X}${GX}`:A2($)?`${X}${GX}`:o$($)?`${X}${GX}`:$$($)?`${X}${X4}`:c1($)?`${X}${D9($.const.toString())}`:e2($)?`${X}${$4}`:(()=>{throw new z4(`Unexpected Kind '${$[L]}'`)})()}function uQ($){return`^${$.map((X)=>H4(X,"")).join("")}$`}function a$($){let Q=I8($).map((J)=>W0(J));return d2(Q)}function UX($,X){let Q=j0($)?uQ(U4($)):uQ($);return F({[L]:"TemplateLiteral",type:"string",pattern:Q},X)}function O9($){return I8($).map((Q)=>Q.toString())}function P9($){let X=[];for(let Q of $)X.push(...b1(Q));return X}function L9($){return[$.toString()]}function b1($){return[...new Set(i1($)?O9($):M0($)?P9($.anyOf):c1($)?L9($.const):D2($)?["[number]"]:A2($)?["[number]"]:[])]}function K9($,X,Q){let J={};for(let Y of Object.getOwnPropertyNames(X))J[Y]=T$($,b1(X[Y]),Q);return J}function S9($,X,Q){return K9($,X.properties,Q)}function A4($,X,Q){let J=S9($,X,Q);return G0(J)}function O4($,X){return $.map((Q)=>P4(Q,X))}function C9($){return $.filter((X)=>!V$(X))}function j9($,X){return zX(C9(O4($,X)))}function F9($){return $.some((X)=>V$(X))?[]:$}function R9($,X){return d2(F9(O4($,X)))}function V9($,X){return X in $?$[X]:X==="[number]"?d2($):s()}function _9($,X){return X==="[number]"?$:s()}function E9($,X){return X in $?$[X]:s()}function P4($,X){return m0($)?j9($.allOf,X):M0($)?R9($.anyOf,X):n1($)?V9($.items??[],X):w2($)?_9($.items,X):a0($)?E9($.properties,X):s()}function j6($,X){return X.map((Q)=>P4($,Q))}function D4($,X){return d2(j6($,X))}function T$($,X,Q){if(n0($)||n0(X)){if(!g0($)||!g0(X))throw new p("Index types using Ref parameters require both Type and Key to be of TSchema");return _0("Index",[$,X])}if(I0(X))return A4($,X,Q);if(p1(X))return L4($,X,Q);return F(g0(X)?D4($,b1(X)):D4($,X),Q)}function x9($,X,Q){return{[X]:T$($,[X],E0(Q))}}function I9($,X,Q){return X.reduce((J,Y)=>{return{...J,...x9($,Y,Q)}},{})}function T9($,X,Q){return I9($,X.keys,Q)}function L4($,X,Q){let J=T9($,X,Q);return G0(J)}function b8($,X){return F({[L]:"Iterator",type:"Iterator",items:$},X)}function b9($){let X=[];for(let Q in $)if(!T1($[Q]))X.push(Q);return X}function k9($,X){let Q=b9($),J=Q.length>0?{[L]:"Object",type:"object",properties:$,required:Q}:{[L]:"Object",type:"object",properties:$};return F(J,X)}var H0=k9;function HX($,X){return F({[L]:"Promise",type:"Promise",item:$},X)}function g9($){return F(u0($,[N2]))}function f9($){return F({...$,[N2]:"Readonly"})}function y9($,X){return X===!1?g9($):f9($)}function k1($,X){let Q=X??!0;return I0($)?K4($,Q):y9($,Q)}function v9($,X){let Q={};for(let J of globalThis.Object.getOwnPropertyNames($))Q[J]=k1($[J],X);return Q}function d9($,X){return v9($.properties,X)}function K4($,X){let Q=d9($,X);return G0(Q)}function J2($,X){return F($.length>0?{[L]:"Tuple",type:"array",items:$,additionalItems:!1,minItems:$.length,maxItems:$.length}:{[L]:"Tuple",type:"array",minItems:$.length,maxItems:$.length},X)}function S4($,X){return $ in X?Y2($,X[$]):G0(X)}function h9($){return{[$]:W0($)}}function m9($){let X={};for(let Q of $)X[Q]=W0(Q);return X}function u9($,X){return J4(X,$)?h9($):m9(X)}function c9($,X){let Q=u9($,X);return S4($,Q)}function F6($,X){return X.map((Q)=>Y2($,Q))}function p9($,X){let Q={};for(let J of globalThis.Object.getOwnPropertyNames(X))Q[J]=Y2($,X[J]);return Q}function Y2($,X){let Q={...X};return T1(X)?K1(Y2($,u0(X,[Z1]))):C8(X)?k1(Y2($,u0(X,[N2]))):I0(X)?S4($,X.properties):p1(X)?c9($,X.keys):z2(X)?_8(F6($,X.parameters),Y2($,X.returns),Q):H2(X)?v2(F6($,X.parameters),Y2($,X.returns),Q):n$(X)?V8(Y2($,X.items),Q):l$(X)?b8(Y2($,X.items),Q):m0(X)?S1(F6($,X.allOf),Q):M0(X)?z0(F6($,X.anyOf),Q):n1(X)?J2(F6($,X.items??[]),Q):a0(X)?H0(p9($,X.properties),Q):w2(X)?R8(Y2($,X.items),Q):t$(X)?HX(Y2($,X.item),Q):X}function i9($,X){let Q={};for(let J of $)Q[J]=Y2(J,X);return Q}function C4($,X,Q){let J=g0($)?b1($):$,Y=X({[L]:"MappedKey",keys:J}),Z=i9(J,Y);return H0(Z,Q)}function n9($){return F(u0($,[Z1]))}function o9($){return F({...$,[Z1]:"Optional"})}function l9($,X){return X===!1?n9($):o9($)}function K1($,X){let Q=X??!0;return I0($)?j4($,Q):l9($,Q)}function t9($,X){let Q={};for(let J of globalThis.Object.getOwnPropertyNames($))Q[J]=K1($[J],X);return Q}function s9($,X){return t9($.properties,X)}function j4($,X){let Q=s9($,X);return G0(Q)}function R6($,X={}){let Q=$.every((Y)=>a0(Y)),J=g0(X.unevaluatedProperties)?{unevaluatedProperties:X.unevaluatedProperties}:{};return F(X.unevaluatedProperties===!1||g0(X.unevaluatedProperties)||Q?{...J,[L]:"Intersect",type:"object",allOf:$}:{...J,[L]:"Intersect",allOf:$},X)}function r9($){return $.every((X)=>T1(X))}function a9($){return u0($,[Z1])}function F4($){return $.map((X)=>T1(X)?a9(X):X)}function e9($,X){return r9($)?K1(R6(F4($),X)):R6(F4($),X)}function zX($,X={}){if($.length===1)return F($[0],X);if($.length===0)return s(X);if($.some((Q)=>U0(Q)))throw Error("Cannot intersect transform types");return e9($,X)}function S1($,X){if($.length===1)return F($[0],X);if($.length===0)return s(X);if($.some((Q)=>U0(Q)))throw Error("Cannot intersect transform types");return R6($,X)}function Z2(...$){let[X,Q]=typeof $[0]==="string"?[$[0],$[1]]:[$[0].$id,$[1]];if(typeof X!=="string")throw new p("Ref: $ref must be a string");return F({[L]:"Ref",$ref:X},Q)}function $q($,X){return _0("Awaited",[_0($,X)])}function Xq($){return _0("Awaited",[Z2($)])}function Qq($){return S1(R4($))}function Jq($){return z0(R4($))}function Yq($){return k8($)}function R4($){return $.map((X)=>k8(X))}function k8($,X){return F(U2($)?$q($.target,$.parameters):m0($)?Qq($.allOf):M0($)?Jq($.anyOf):t$($)?Yq($.item):n0($)?Xq($.$ref):$,X)}function V4($){let X=[];for(let Q of $)X.push(g1(Q));return X}function Zq($){let X=V4($);return W4(X)}function Wq($){let X=V4($);return Z4(X)}function qq($){return $.map((X,Q)=>Q.toString())}function Mq($){return["[number]"]}function Bq($){return globalThis.Object.getOwnPropertyNames($)}function Gq($){if(!cQ)return[];return globalThis.Object.getOwnPropertyNames($).map((Q)=>{return Q[0]==="^"&&Q[Q.length-1]==="$"?Q.slice(1,Q.length-1):Q})}function g1($){return m0($)?Zq($.allOf):M0($)?Wq($.anyOf):n1($)?qq($.items??[]):w2($)?Mq($.items):a0($)?Bq($.properties):s$($)?Gq($.patternProperties):[]}var cQ=!1;function Y$($){cQ=!0;let X=g1($);return cQ=!1,`^(${X.map((J)=>`(${J})`).join("|")})$`}function Nq($,X){return _0("KeyOf",[_0($,X)])}function wq($){return _0("KeyOf",[Z2($)])}function Uq($,X){let Q=g1($),J=zq(Q),Y=d2(J);return F(Y,X)}function zq($){return $.map((X)=>X==="[number]"?Q2():W0(X))}function g8($,X){return U2($)?Nq($.target,$.parameters):n0($)?wq($.$ref):I0($)?_4($,X):Uq($,X)}function Hq($,X){let Q={};for(let J of globalThis.Object.getOwnPropertyNames($))Q[J]=g8($[J],E0(X));return Q}function Aq($,X){return Hq($.properties,X)}function _4($,X){let Q=Aq($,X);return G0(Q)}function AX($){let X=g1($),Q=j6($,X);return X.map((J,Y)=>[X[Y],Q[Y]])}function Dq($){let X=[];for(let Q of $)X.push(...g1(Q));return Y4(X)}function Oq($){return $.filter((X)=>!V$(X))}function Pq($,X){let Q=[];for(let J of $)Q.push(...j6(J,[X]));return Oq(Q)}function Lq($,X){let Q={};for(let J of X)Q[J]=zX(Pq($,J));return Q}function E4($,X){let Q=Dq($),J=Lq($,Q);return H0(J,X)}function DX($){return F({[L]:"Date",type:"Date"},$)}function OX($){return F({[L]:"Null",type:"null"},$)}function PX($){return F({[L]:"Symbol",type:"symbol"},$)}function LX($){return F({[L]:"Undefined",type:"undefined"},$)}function KX($){return F({[L]:"Uint8Array",type:"Uint8Array"},$)}function O2($){return F({[L]:"Unknown"},$)}function Kq($){return $.map((X)=>pQ(X,!1))}function Sq($){let X={};for(let Q of globalThis.Object.getOwnPropertyNames($))X[Q]=k1(pQ($[Q],!1));return X}function SX($,X){return X===!0?$:k1($)}function pQ($,X){return VQ($)?SX(I$(),X):EQ($)?SX(I$(),X):s0($)?k1(J2(Kq($))):s2($)?KX():i$($)?DX():P0($)?SX(H0(Sq($)),X):_Q($)?SX(v2([],O2()),X):r0($)?LX():xQ($)?OX():IQ($)?PX():z6($)?T8():m1($)?W0($):t2($)?W0($):j0($)?W0($):H0({})}function x4($,X){return F(pQ($,!0),X)}function I4($,X){return z2($)?J2($.parameters,X):s(X)}function T4($,X){if(r0($))throw Error("Enum undefined or empty");let Q=globalThis.Object.getOwnPropertyNames($).filter((Z)=>isNaN(Z)).map((Z)=>$[Z]),Y=[...new Set(Q)].map((Z)=>W0(Z));return z0(Y,{...X,[X2]:"Enum"})}class y4 extends p{}var R;(function($){$[$.Union=0]="Union",$[$.True=1]="True",$[$.False=2]="False"})(R||(R={}));function W2($){return $===R.False?$:R.True}function f8($){throw new y4($)}function X1($){return O.IsNever($)||O.IsIntersect($)||O.IsUnion($)||O.IsUnknown($)||O.IsAny($)}function Q1($,X){return O.IsNever(X)?h4($,X):O.IsIntersect(X)?CX($,X):O.IsUnion(X)?tQ($,X):O.IsUnknown(X)?p4($,X):O.IsAny(X)?lQ($,X):f8("StructuralRight")}function lQ($,X){return R.True}function Cq($,X){return O.IsIntersect(X)?CX($,X):O.IsUnion(X)&&X.anyOf.some((Q)=>O.IsAny(Q)||O.IsUnknown(Q))?R.True:O.IsUnion(X)?R.Union:O.IsUnknown(X)?R.True:O.IsAny(X)?R.True:R.Union}function jq($,X){return O.IsUnknown($)?R.False:O.IsAny($)?R.Union:O.IsNever($)?R.True:R.False}function Fq($,X){return O.IsObject(X)&&jX(X)?R.True:X1(X)?Q1($,X):!O.IsArray(X)?R.False:W2(K0($.items,X.items))}function Rq($,X){return X1(X)?Q1($,X):!O.IsAsyncIterator(X)?R.False:W2(K0($.items,X.items))}function Vq($,X){return X1(X)?Q1($,X):O.IsObject(X)?C1($,X):O.IsRecord(X)?q2($,X):O.IsBigInt(X)?R.True:R.False}function v4($,X){return O.IsLiteralBoolean($)?R.True:O.IsBoolean($)?R.True:R.False}function _q($,X){return X1(X)?Q1($,X):O.IsObject(X)?C1($,X):O.IsRecord(X)?q2($,X):O.IsBoolean(X)?R.True:R.False}function Eq($,X){return X1(X)?Q1($,X):O.IsObject(X)?C1($,X):!O.IsConstructor(X)?R.False:$.parameters.length>X.parameters.length?R.False:!$.parameters.every((Q,J)=>W2(K0(X.parameters[J],Q))===R.True)?R.False:W2(K0($.returns,X.returns))}function xq($,X){return X1(X)?Q1($,X):O.IsObject(X)?C1($,X):O.IsRecord(X)?q2($,X):O.IsDate(X)?R.True:R.False}function Iq($,X){return X1(X)?Q1($,X):O.IsObject(X)?C1($,X):!O.IsFunction(X)?R.False:$.parameters.length>X.parameters.length?R.False:!$.parameters.every((Q,J)=>W2(K0(X.parameters[J],Q))===R.True)?R.False:W2(K0($.returns,X.returns))}function d4($,X){return O.IsLiteral($)&&L1.IsNumber($.const)?R.True:O.IsNumber($)||O.IsInteger($)?R.True:R.False}function Tq($,X){return O.IsInteger(X)||O.IsNumber(X)?R.True:X1(X)?Q1($,X):O.IsObject(X)?C1($,X):O.IsRecord(X)?q2($,X):R.False}function CX($,X){return X.allOf.every((Q)=>K0($,Q)===R.True)?R.True:R.False}function bq($,X){return $.allOf.some((Q)=>K0(Q,X)===R.True)?R.True:R.False}function kq($,X){return X1(X)?Q1($,X):!O.IsIterator(X)?R.False:W2(K0($.items,X.items))}function gq($,X){return O.IsLiteral(X)&&X.const===$.const?R.True:X1(X)?Q1($,X):O.IsObject(X)?C1($,X):O.IsRecord(X)?q2($,X):O.IsString(X)?c4($,X):O.IsNumber(X)?m4($,X):O.IsInteger(X)?d4($,X):O.IsBoolean(X)?v4($,X):R.False}function h4($,X){return R.False}function fq($,X){return R.True}function b4($){let[X,Q]=[$,0];while(!0){if(!O.IsNot(X))break;X=X.not,Q+=1}return Q%2===0?X:O2()}function yq($,X){return O.IsNot($)?K0(b4($),X):O.IsNot(X)?K0($,b4(X)):f8("Invalid fallthrough for Not")}function vq($,X){return X1(X)?Q1($,X):O.IsObject(X)?C1($,X):O.IsRecord(X)?q2($,X):O.IsNull(X)?R.True:R.False}function m4($,X){return O.IsLiteralNumber($)?R.True:O.IsNumber($)||O.IsInteger($)?R.True:R.False}function dq($,X){return X1(X)?Q1($,X):O.IsObject(X)?C1($,X):O.IsRecord(X)?q2($,X):O.IsInteger(X)||O.IsNumber(X)?R.True:R.False}function f1($,X){return Object.getOwnPropertyNames($.properties).length===X}function k4($){return jX($)}function g4($){return f1($,0)||f1($,1)&&"description"in $.properties&&O.IsUnion($.properties.description)&&$.properties.description.anyOf.length===2&&(O.IsString($.properties.description.anyOf[0])&&O.IsUndefined($.properties.description.anyOf[1])||O.IsString($.properties.description.anyOf[1])&&O.IsUndefined($.properties.description.anyOf[0]))}function iQ($){return f1($,0)}function f4($){return f1($,0)}function hq($){return f1($,0)}function mq($){return f1($,0)}function uq($){return jX($)}function cq($){let X=Q2();return f1($,0)||f1($,1)&&"length"in $.properties&&W2(K0($.properties.length,X))===R.True}function pq($){return f1($,0)}function jX($){let X=Q2();return f1($,0)||f1($,1)&&"length"in $.properties&&W2(K0($.properties.length,X))===R.True}function iq($){let X=v2([I$()],I$());return f1($,0)||f1($,1)&&"then"in $.properties&&W2(K0($.properties.then,X))===R.True}function u4($,X){return K0($,X)===R.False?R.False:O.IsOptional($)&&!O.IsOptional(X)?R.False:R.True}function C1($,X){return O.IsUnknown($)?R.False:O.IsAny($)?R.Union:O.IsNever($)||O.IsLiteralString($)&&k4(X)||O.IsLiteralNumber($)&&iQ(X)||O.IsLiteralBoolean($)&&f4(X)||O.IsSymbol($)&&g4(X)||O.IsBigInt($)&&hq(X)||O.IsString($)&&k4(X)||O.IsSymbol($)&&g4(X)||O.IsNumber($)&&iQ(X)||O.IsInteger($)&&iQ(X)||O.IsBoolean($)&&f4(X)||O.IsUint8Array($)&&uq(X)||O.IsDate($)&&mq(X)||O.IsConstructor($)&&pq(X)||O.IsFunction($)&&cq(X)?R.True:O.IsRecord($)&&O.IsString(nQ($))?(()=>{return X[X2]==="Record"?R.True:R.False})():O.IsRecord($)&&O.IsNumber(nQ($))?(()=>{return f1(X,0)?R.True:R.False})():R.False}function nq($,X){return X1(X)?Q1($,X):O.IsRecord(X)?q2($,X):!O.IsObject(X)?R.False:(()=>{for(let Q of Object.getOwnPropertyNames(X.properties)){if(!(Q in $.properties)&&!O.IsOptional(X.properties[Q]))return R.False;if(O.IsOptional(X.properties[Q]))return R.True;if(u4($.properties[Q],X.properties[Q])===R.False)return R.False}return R.True})()}function oq($,X){return X1(X)?Q1($,X):O.IsObject(X)&&iq(X)?R.True:!O.IsPromise(X)?R.False:W2(K0($.item,X.item))}function nQ($){return E$ in $.patternProperties?Q2():(x$ in $.patternProperties)?_1():f8("Unknown record key pattern")}function oQ($){return E$ in $.patternProperties?$.patternProperties[E$]:(x$ in $.patternProperties)?$.patternProperties[x$]:f8("Unable to get record value schema")}function q2($,X){let[Q,J]=[nQ(X),oQ(X)];return O.IsLiteralString($)&&O.IsNumber(Q)&&W2(K0($,J))===R.True?R.True:O.IsUint8Array($)&&O.IsNumber(Q)?K0($,J):O.IsString($)&&O.IsNumber(Q)?K0($,J):O.IsArray($)&&O.IsNumber(Q)?K0($,J):O.IsObject($)?(()=>{for(let Y of Object.getOwnPropertyNames($.properties))if(u4(J,$.properties[Y])===R.False)return R.False;return R.True})():R.False}function lq($,X){return X1(X)?Q1($,X):O.IsObject(X)?C1($,X):!O.IsRecord(X)?R.False:K0(oQ($),oQ(X))}function tq($,X){let Q=O.IsRegExp($)?_1():$,J=O.IsRegExp(X)?_1():X;return K0(Q,J)}function c4($,X){return O.IsLiteral($)&&L1.IsString($.const)?R.True:O.IsString($)?R.True:R.False}function sq($,X){return X1(X)?Q1($,X):O.IsObject(X)?C1($,X):O.IsRecord(X)?q2($,X):O.IsString(X)?R.True:R.False}function rq($,X){return X1(X)?Q1($,X):O.IsObject(X)?C1($,X):O.IsRecord(X)?q2($,X):O.IsSymbol(X)?R.True:R.False}function aq($,X){return O.IsTemplateLiteral($)?K0(a$($),X):O.IsTemplateLiteral(X)?K0($,a$(X)):f8("Invalid fallthrough for TemplateLiteral")}function eq($,X){return O.IsArray(X)&&$.items!==void 0&&$.items.every((Q)=>K0(Q,X.items)===R.True)}function $M($,X){return O.IsNever($)?R.True:O.IsUnknown($)?R.False:O.IsAny($)?R.Union:R.False}function XM($,X){return X1(X)?Q1($,X):O.IsObject(X)&&jX(X)?R.True:O.IsArray(X)&&eq($,X)?R.True:!O.IsTuple(X)?R.False:L1.IsUndefined($.items)&&!L1.IsUndefined(X.items)||!L1.IsUndefined($.items)&&L1.IsUndefined(X.items)?R.False:L1.IsUndefined($.items)&&!L1.IsUndefined(X.items)?R.True:$.items.every((Q,J)=>K0(Q,X.items[J])===R.True)?R.True:R.False}function QM($,X){return X1(X)?Q1($,X):O.IsObject(X)?C1($,X):O.IsRecord(X)?q2($,X):O.IsUint8Array(X)?R.True:R.False}function JM($,X){return X1(X)?Q1($,X):O.IsObject(X)?C1($,X):O.IsRecord(X)?q2($,X):O.IsVoid(X)?WM($,X):O.IsUndefined(X)?R.True:R.False}function tQ($,X){return X.anyOf.some((Q)=>K0($,Q)===R.True)?R.True:R.False}function YM($,X){return $.anyOf.every((Q)=>K0(Q,X)===R.True)?R.True:R.False}function p4($,X){return R.True}function ZM($,X){return O.IsNever(X)?h4($,X):O.IsIntersect(X)?CX($,X):O.IsUnion(X)?tQ($,X):O.IsAny(X)?lQ($,X):O.IsString(X)?c4($,X):O.IsNumber(X)?m4($,X):O.IsInteger(X)?d4($,X):O.IsBoolean(X)?v4($,X):O.IsArray(X)?jq($,X):O.IsTuple(X)?$M($,X):O.IsObject(X)?C1($,X):O.IsUnknown(X)?R.True:R.False}function WM($,X){return O.IsUndefined($)?R.True:O.IsUndefined($)?R.True:R.False}function qM($,X){return O.IsIntersect(X)?CX($,X):O.IsUnion(X)?tQ($,X):O.IsUnknown(X)?p4($,X):O.IsAny(X)?lQ($,X):O.IsObject(X)?C1($,X):O.IsVoid(X)?R.True:R.False}function K0($,X){return O.IsTemplateLiteral($)||O.IsTemplateLiteral(X)?aq($,X):O.IsRegExp($)||O.IsRegExp(X)?tq($,X):O.IsNot($)||O.IsNot(X)?yq($,X):O.IsAny($)?Cq($,X):O.IsArray($)?Fq($,X):O.IsBigInt($)?Vq($,X):O.IsBoolean($)?_q($,X):O.IsAsyncIterator($)?Rq($,X):O.IsConstructor($)?Eq($,X):O.IsDate($)?xq($,X):O.IsFunction($)?Iq($,X):O.IsInteger($)?Tq($,X):O.IsIntersect($)?bq($,X):O.IsIterator($)?kq($,X):O.IsLiteral($)?gq($,X):O.IsNever($)?fq($,X):O.IsNull($)?vq($,X):O.IsNumber($)?dq($,X):O.IsObject($)?nq($,X):O.IsRecord($)?lq($,X):O.IsString($)?sq($,X):O.IsSymbol($)?rq($,X):O.IsTuple($)?XM($,X):O.IsPromise($)?oq($,X):O.IsUint8Array($)?QM($,X):O.IsUndefined($)?JM($,X):O.IsUnion($)?YM($,X):O.IsUnknown($)?ZM($,X):O.IsVoid($)?qM($,X):f8(`Unknown left type operand '${$[L]}'`)}function b$($,X){return K0($,X)}function MM($,X,Q,J,Y){let Z={};for(let W of globalThis.Object.getOwnPropertyNames($))Z[W]=y8($[W],X,Q,J,E0(Y));return Z}function BM($,X,Q,J,Y){return MM($.properties,X,Q,J,Y)}function i4($,X,Q,J,Y){let Z=BM($,X,Q,J,Y);return G0(Z)}function GM($,X,Q,J){let Y=b$($,X);return Y===R.Union?z0([Q,J]):Y===R.True?Q:J}function y8($,X,Q,J,Y){return I0($)?i4($,X,Q,J,Y):p1($)?F(n4($,X,Q,J,Y)):F(GM($,X,Q,J),Y)}function NM($,X,Q,J,Y){return{[$]:y8(W0($),X,Q,J,E0(Y))}}function wM($,X,Q,J,Y){return $.reduce((Z,W)=>{return{...Z,...NM(W,X,Q,J,Y)}},{})}function UM($,X,Q,J,Y){return wM($.keys,X,Q,J,Y)}function n4($,X,Q,J,Y){let Z=UM($,X,Q,J,Y);return G0(Z)}function zM($){return $.allOf.every((X)=>Z$(X))}function HM($){return $.anyOf.some((X)=>Z$(X))}function AM($){return!Z$($.not)}function Z$($){return $[L]==="Intersect"?zM($):$[L]==="Union"?HM($):$[L]==="Not"?AM($):$[L]==="Undefined"?!0:!1}function o4($,X){return v8(a$($),X)}function DM($,X){let Q=$.filter((J)=>b$(J,X)===R.False);return Q.length===1?Q[0]:z0(Q)}function v8($,X,Q={}){if(i1($))return F(o4($,X),Q);if(I0($))return F(l4($,X),Q);return F(M0($)?DM($.anyOf,X):b$($,X)!==R.False?s():$,Q)}function OM($,X){let Q={};for(let J of globalThis.Object.getOwnPropertyNames($))Q[J]=v8($[J],X);return Q}function PM($,X){return OM($.properties,X)}function l4($,X){let Q=PM($,X);return G0(Q)}function t4($,X){return d8(a$($),X)}function LM($,X){let Q=$.filter((J)=>b$(J,X)!==R.False);return Q.length===1?Q[0]:z0(Q)}function d8($,X,Q){if(i1($))return F(t4($,X),Q);if(I0($))return F(s4($,X),Q);return F(M0($)?LM($.anyOf,X):b$($,X)!==R.False?$:s(),Q)}function KM($,X){let Q={};for(let J of globalThis.Object.getOwnPropertyNames($))Q[J]=d8($[J],X);return Q}function SM($,X){return KM($.properties,X)}function s4($,X){let Q=SM($,X);return G0(Q)}function r4($,X){return z2($)?F($.returns,X):s(X)}function FX($){return k1(K1($))}function e$($,X,Q){return F({[L]:"Record",type:"object",patternProperties:{[$]:X}},Q)}function sQ($,X,Q){let J={};for(let Y of $)J[Y]=X;return H0(J,{...Q,[X2]:"Record"})}function CM($,X,Q){return NX($)?sQ(b1($),X,Q):e$($.pattern,X,Q)}function jM($,X,Q){return sQ(b1(z0($)),X,Q)}function FM($,X,Q){return sQ([$.toString()],X,Q)}function RM($,X,Q){return e$($.source,X,Q)}function VM($,X,Q){let J=r0($.pattern)?x$:$.pattern;return e$(J,X,Q)}function _M($,X,Q){return e$(x$,X,Q)}function EM($,X,Q){return e$(Q4,X,Q)}function xM($,X,Q){return H0({true:X,false:X},Q)}function IM($,X,Q){return e$(E$,X,Q)}function TM($,X,Q){return e$(E$,X,Q)}function RX($,X,Q={}){return M0($)?jM($.anyOf,X,Q):i1($)?CM($,X,Q):c1($)?FM($.const,X,Q):e2($)?xM($,X,Q):A2($)?IM($,X,Q):D2($)?TM($,X,Q):gQ($)?RM($,X,Q):$$($)?VM($,X,Q):bQ($)?_M($,X,Q):V$($)?EM($,X,Q):s(Q)}function VX($){return globalThis.Object.getOwnPropertyNames($.patternProperties)[0]}function a4($){let X=VX($);return X===x$?_1():X===E$?Q2():_1({pattern:X})}function _X($){return $.patternProperties[VX($)]}function bM($,X){return X.parameters=V6($,X.parameters),X.returns=P2($,X.returns),X}function kM($,X){return X.parameters=V6($,X.parameters),X.returns=P2($,X.returns),X}function gM($,X){return X.allOf=V6($,X.allOf),X}function fM($,X){return X.anyOf=V6($,X.anyOf),X}function yM($,X){if(r0(X.items))return X;return X.items=V6($,X.items),X}function vM($,X){return X.items=P2($,X.items),X}function dM($,X){return X.items=P2($,X.items),X}function hM($,X){return X.items=P2($,X.items),X}function mM($,X){return X.item=P2($,X.item),X}function uM($,X){let Q=nM($,X.properties);return{...X,...H0(Q)}}function cM($,X){let Q=P2($,a4(X)),J=P2($,_X(X)),Y=RX(Q,J);return{...X,...Y}}function pM($,X){return X.index in $?$[X.index]:O2()}function iM($,X){let Q=C8(X),J=T1(X),Y=P2($,X);return Q&&J?FX(Y):Q&&!J?k1(Y):!Q&&J?K1(Y):Y}function nM($,X){return globalThis.Object.getOwnPropertyNames(X).reduce((Q,J)=>{return{...Q,[J]:iM($,X[J])}},{})}function V6($,X){return X.map((Q)=>P2($,Q))}function P2($,X){return z2(X)?bM($,X):H2(X)?kM($,X):m0(X)?gM($,X):M0(X)?fM($,X):n1(X)?yM($,X):w2(X)?vM($,X):n$(X)?dM($,X):l$(X)?hM($,X):t$(X)?mM($,X):a0(X)?uM($,X):s$(X)?cM($,X):kQ(X)?pM($,X):X}function e4($,X){return P2(X,K8($))}function $Z($){return F({[L]:"Integer",type:"integer"},$)}function oM($,X,Q){return{[$]:L2(W0($),X,E0(Q))}}function lM($,X,Q){return $.reduce((Y,Z)=>{return{...Y,...oM(Z,X,Q)}},{})}function tM($,X,Q){return lM($.keys,X,Q)}function XZ($,X,Q){let J=tM($,X,Q);return G0(J)}function sM($){let[X,Q]=[$.slice(0,1),$.slice(1)];return[X.toLowerCase(),Q].join("")}function rM($){let[X,Q]=[$.slice(0,1),$.slice(1)];return[X.toUpperCase(),Q].join("")}function aM($){return $.toUpperCase()}function eM($){return $.toLowerCase()}function $B($,X,Q){let J=x8($.pattern);if(!r$(J))return{...$,pattern:QZ($.pattern,X)};let W=[...C6(J)].map((G)=>W0(G)),q=JZ(W,X),M=z0(q);return UX([M],Q)}function QZ($,X){return typeof $==="string"?X==="Uncapitalize"?sM($):X==="Capitalize"?rM($):X==="Uppercase"?aM($):X==="Lowercase"?eM($):$:$.toString()}function JZ($,X){return $.map((Q)=>L2(Q,X))}function L2($,X,Q={}){return p1($)?XZ($,X,Q):i1($)?$B($,X,Q):M0($)?z0(JZ($.anyOf,X),Q):c1($)?W0(QZ($.const,X),Q):F($,Q)}function YZ($,X={}){return L2($,"Capitalize",X)}function ZZ($,X={}){return L2($,"Lowercase",X)}function WZ($,X={}){return L2($,"Uncapitalize",X)}function qZ($,X={}){return L2($,"Uppercase",X)}function XB($,X,Q){let J={};for(let Y of globalThis.Object.getOwnPropertyNames($))J[Y]=k$($[Y],X,E0(Q));return J}function QB($,X,Q){return XB($.properties,X,Q)}function MZ($,X,Q){let J=QB($,X,Q);return G0(J)}function JB($,X){return $.map((Q)=>rQ(Q,X))}function YB($,X){return $.map((Q)=>rQ(Q,X))}function ZB($,X){let{[X]:Q,...J}=$;return J}function WB($,X){return X.reduce((Q,J)=>ZB(Q,J),$)}function qB($,X){let Q=u0($,[C0,"$id","required","properties"]),J=WB($.properties,X);return H0(J,Q)}function MB($){let X=$.reduce((Q,J)=>MX(J)?[...Q,W0(J)]:Q,[]);return z0(X)}function rQ($,X){return m0($)?S1(JB($.allOf,X)):M0($)?z0(YB($.anyOf,X)):a0($)?qB($,X):H0({})}function k$($,X,Q){let J=s0(X)?MB(X):X,Y=g0(X)?b1(X):X,Z=n0($),W=n0(X);return I0($)?MZ($,Y,Q):p1(X)?BZ($,X,Q):Z&&W?_0("Omit",[$,J],Q):!Z&&W?_0("Omit",[$,J],Q):Z&&!W?_0("Omit",[$,J],Q):F({...rQ($,Y),...Q})}function BB($,X,Q){return{[X]:k$($,[X],E0(Q))}}function GB($,X,Q){return X.reduce((J,Y)=>{return{...J,...BB($,Y,Q)}},{})}function NB($,X,Q){return GB($,X.keys,Q)}function BZ($,X,Q){let J=NB($,X,Q);return G0(J)}function wB($,X,Q){let J={};for(let Y of globalThis.Object.getOwnPropertyNames($))J[Y]=g$($[Y],X,E0(Q));return J}function UB($,X,Q){return wB($.properties,X,Q)}function GZ($,X,Q){let J=UB($,X,Q);return G0(J)}function zB($,X){return $.map((Q)=>aQ(Q,X))}function HB($,X){return $.map((Q)=>aQ(Q,X))}function AB($,X){let Q={};for(let J of X)if(J in $)Q[J]=$[J];return Q}function DB($,X){let Q=u0($,[C0,"$id","required","properties"]),J=AB($.properties,X);return H0(J,Q)}function OB($){let X=$.reduce((Q,J)=>MX(J)?[...Q,W0(J)]:Q,[]);return z0(X)}function aQ($,X){return m0($)?S1(zB($.allOf,X)):M0($)?z0(HB($.anyOf,X)):a0($)?DB($,X):H0({})}function g$($,X,Q){let J=s0(X)?OB(X):X,Y=g0(X)?b1(X):X,Z=n0($),W=n0(X);return I0($)?GZ($,Y,Q):p1(X)?NZ($,X,Q):Z&&W?_0("Pick",[$,J],Q):!Z&&W?_0("Pick",[$,J],Q):Z&&!W?_0("Pick",[$,J],Q):F({...aQ($,Y),...Q})}function PB($,X,Q){return{[X]:g$($,[X],E0(Q))}}function LB($,X,Q){return X.reduce((J,Y)=>{return{...J,...PB($,Y,Q)}},{})}function KB($,X,Q){return LB($,X.keys,Q)}function NZ($,X,Q){let J=KB($,X,Q);return G0(J)}function SB($,X){return _0("Partial",[_0($,X)])}function CB($){return _0("Partial",[Z2($)])}function jB($){let X={};for(let Q of globalThis.Object.getOwnPropertyNames($))X[Q]=K1($[Q]);return X}function FB($){let X=u0($,[C0,"$id","required","properties"]),Q=jB($.properties);return H0(Q,X)}function wZ($){return $.map((X)=>UZ(X))}function UZ($){return U2($)?SB($.target,$.parameters):n0($)?CB($.$ref):m0($)?S1(wZ($.allOf)):M0($)?z0(wZ($.anyOf)):a0($)?FB($):o$($)?$:e2($)?$:A2($)?$:c1($)?$:D6($)?$:D2($)?$:$$($)?$:O6($)?$:X$($)?$:H0({})}function h8($,X){if(I0($))return zZ($,X);else return F({...UZ($),...X})}function RB($,X){let Q={};for(let J of globalThis.Object.getOwnPropertyNames($))Q[J]=h8($[J],E0(X));return Q}function VB($,X){return RB($.properties,X)}function zZ($,X){let Q=VB($,X);return G0(Q)}function _B($,X){return _0("Required",[_0($,X)])}function EB($){return _0("Required",[Z2($)])}function xB($){let X={};for(let Q of globalThis.Object.getOwnPropertyNames($))X[Q]=u0($[Q],[Z1]);return X}function IB($){let X=u0($,[C0,"$id","required","properties"]),Q=xB($.properties);return H0(Q,X)}function HZ($){return $.map((X)=>AZ(X))}function AZ($){return U2($)?_B($.target,$.parameters):n0($)?EB($.$ref):m0($)?S1(HZ($.allOf)):M0($)?z0(HZ($.anyOf)):a0($)?IB($):o$($)?$:e2($)?$:A2($)?$:c1($)?$:D6($)?$:D2($)?$:$$($)?$:O6($)?$:X$($)?$:H0({})}function m8($,X){if(I0($))return DZ($,X);else return F({...AZ($),...X})}function TB($,X){let Q={};for(let J of globalThis.Object.getOwnPropertyNames($))Q[J]=m8($[J],X);return Q}function bB($,X){return TB($.properties,X)}function DZ($,X){let Q=bB($,X);return G0(Q)}function kB($,X){return X.map((Q)=>{return n0(Q)?eQ($,Q.$ref):o1($,Q)})}function eQ($,X){return X in $?n0($[X])?eQ($,$[X].$ref):o1($,$[X]):s()}function gB($){return k8($[0])}function fB($){return T$($[0],$[1])}function yB($){return g8($[0])}function vB($){return h8($[0])}function dB($){return k$($[0],$[1])}function hB($){return g$($[0],$[1])}function mB($){return m8($[0])}function uB($,X,Q){let J=kB($,Q);return X==="Awaited"?gB(J):X==="Index"?fB(J):X==="KeyOf"?yB(J):X==="Partial"?vB(J):X==="Omit"?dB(J):X==="Pick"?hB(J):X==="Required"?mB(J):s()}function cB($,X){return R8(o1($,X))}function pB($,X){return V8(o1($,X))}function iB($,X,Q){return _8(_6($,X),o1($,Q))}function nB($,X,Q){return v2(_6($,X),o1($,Q))}function oB($,X){return S1(_6($,X))}function lB($,X){return b8(o1($,X))}function tB($,X){return H0(globalThis.Object.keys(X).reduce((Q,J)=>{return{...Q,[J]:o1($,X[J])}},{}))}function sB($,X){let[Q,J]=[o1($,_X(X)),VX(X)],Y=K8(X);return Y.patternProperties[J]=Q,Y}function rB($,X){return n0(X)?{...eQ($,X.$ref),[C0]:X[C0]}:X}function aB($,X){return J2(_6($,X))}function eB($,X){return z0(_6($,X))}function _6($,X){return X.map((Q)=>o1($,Q))}function o1($,X){return T1(X)?F(o1($,u0(X,[Z1])),X):C8(X)?F(o1($,u0(X,[N2])),X):U0(X)?F(rB($,X),X):w2(X)?F(cB($,X.items),X):n$(X)?F(pB($,X.items),X):U2(X)?F(uB($,X.target,X.parameters)):z2(X)?F(iB($,X.parameters,X.returns),X):H2(X)?F(nB($,X.parameters,X.returns),X):m0(X)?F(oB($,X.allOf),X):l$(X)?F(lB($,X.items),X):a0(X)?F(tB($,X.properties),X):s$(X)?F(sB($,X)):n1(X)?F(aB($,X.items||[]),X):M0(X)?F(eB($,X.anyOf),X):X}function $G($,X){return X in $?o1($,$[X]):s()}function OZ($){return globalThis.Object.getOwnPropertyNames($).reduce((X,Q)=>{return{...X,[Q]:$G($,Q)}},{})}class PZ{constructor($){let X=OZ($),Q=this.WithIdentifiers(X);this.$defs=Q}Import($,X){let Q={...this.$defs,[$]:F(this.$defs[$],X)};return F({[L]:"Import",$defs:Q,$ref:$})}WithIdentifiers($){return globalThis.Object.getOwnPropertyNames($).reduce((X,Q)=>{return{...X,[Q]:{...$[Q],$id:Q}}},{})}}function LZ($){return new PZ($)}function KZ($,X){return F({[L]:"Not",not:$},X)}function SZ($,X){return H2($)?J2($.parameters,X):s()}var XG=0;function CZ($,X={}){if(r0(X.$id))X.$id=`T${XG++}`;let Q=K8($({[L]:"This",$ref:`${X.$id}`}));return Q.$id=X.$id,F({[X2]:"Recursive",...Q},X)}function jZ($,X){let Q=j0($)?new globalThis.RegExp($):$;return F({[L]:"RegExp",type:"RegExp",source:Q.source,flags:Q.flags},X)}function QG($){return m0($)?$.allOf:M0($)?$.anyOf:n1($)?$.items??[]:[]}function FZ($){return QG($)}function RZ($,X){return H2($)?F($.returns,X):s(X)}class VZ{constructor($){this.schema=$}Decode($){return new _Z(this.schema,$)}}class _Z{constructor($,X){this.schema=$,this.decode=X}EncodeTransform($,X){let Y={Encode:(Z)=>X[C0].Encode($(Z)),Decode:(Z)=>this.decode(X[C0].Decode(Z))};return{...X,[C0]:Y}}EncodeSchema($,X){let Q={Decode:this.decode,Encode:$};return{...X,[C0]:Q}}Encode($){return U0(this.schema)?this.EncodeTransform($,this.schema):this.EncodeSchema($,this.schema)}}function EZ($){return new VZ($)}function EX($={}){return F({[L]:$[L]??"Unsafe"},$)}function xZ($){return F({[L]:"Void",type:"void"},$)}var $J={};F$($J,{Void:()=>xZ,Uppercase:()=>qZ,Unsafe:()=>EX,Unknown:()=>O2,Union:()=>z0,Undefined:()=>LX,Uncapitalize:()=>WZ,Uint8Array:()=>KX,Tuple:()=>J2,Transform:()=>EZ,TemplateLiteral:()=>UX,Symbol:()=>PX,String:()=>_1,ReturnType:()=>RZ,Rest:()=>FZ,Required:()=>m8,RegExp:()=>jZ,Ref:()=>Z2,Recursive:()=>CZ,Record:()=>RX,ReadonlyOptional:()=>FX,Readonly:()=>k1,Promise:()=>HX,Pick:()=>g$,Partial:()=>h8,Parameters:()=>SZ,Optional:()=>K1,Omit:()=>k$,Object:()=>H0,Number:()=>Q2,Null:()=>OX,Not:()=>KZ,Never:()=>s,Module:()=>LZ,Mapped:()=>C4,Lowercase:()=>ZZ,Literal:()=>W0,KeyOf:()=>g8,Iterator:()=>b8,Intersect:()=>S1,Integer:()=>$Z,Instantiate:()=>e4,InstanceType:()=>r4,Index:()=>T$,Function:()=>v2,Extract:()=>d8,Extends:()=>y8,Exclude:()=>v8,Enum:()=>T4,Date:()=>DX,ConstructorParameters:()=>I4,Constructor:()=>_8,Const:()=>x4,Composite:()=>E4,Capitalize:()=>YZ,Boolean:()=>wX,BigInt:()=>T8,Awaited:()=>k8,AsyncIterator:()=>V8,Array:()=>R8,Argument:()=>q4,Any:()=>I$});var K2=$J;var WY=P8(E6(),1);function WG($){switch($.errorType){case C.ArrayContains:return"Expected array to contain at least one matching value";case C.ArrayMaxContains:return`Expected array to contain no more than ${$.schema.maxContains} matching values`;case C.ArrayMinContains:return`Expected array to contain at least ${$.schema.minContains} matching values`;case C.ArrayMaxItems:return`Expected array length to be less or equal to ${$.schema.maxItems}`;case C.ArrayMinItems:return`Expected array length to be greater or equal to ${$.schema.minItems}`;case C.ArrayUniqueItems:return"Expected array elements to be unique";case C.Array:return"Expected array";case C.AsyncIterator:return"Expected AsyncIterator";case C.BigIntExclusiveMaximum:return`Expected bigint to be less than ${$.schema.exclusiveMaximum}`;case C.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${$.schema.exclusiveMinimum}`;case C.BigIntMaximum:return`Expected bigint to be less or equal to ${$.schema.maximum}`;case C.BigIntMinimum:return`Expected bigint to be greater or equal to ${$.schema.minimum}`;case C.BigIntMultipleOf:return`Expected bigint to be a multiple of ${$.schema.multipleOf}`;case C.BigInt:return"Expected bigint";case C.Boolean:return"Expected boolean";case C.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${$.schema.exclusiveMinimumTimestamp}`;case C.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${$.schema.exclusiveMaximumTimestamp}`;case C.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${$.schema.minimumTimestamp}`;case C.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${$.schema.maximumTimestamp}`;case C.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${$.schema.multipleOfTimestamp}`;case C.Date:return"Expected Date";case C.Function:return"Expected function";case C.IntegerExclusiveMaximum:return`Expected integer to be less than ${$.schema.exclusiveMaximum}`;case C.IntegerExclusiveMinimum:return`Expected integer to be greater than ${$.schema.exclusiveMinimum}`;case C.IntegerMaximum:return`Expected integer to be less or equal to ${$.schema.maximum}`;case C.IntegerMinimum:return`Expected integer to be greater or equal to ${$.schema.minimum}`;case C.IntegerMultipleOf:return`Expected integer to be a multiple of ${$.schema.multipleOf}`;case C.Integer:return"Expected integer";case C.IntersectUnevaluatedProperties:return"Unexpected property";case C.Intersect:return"Expected all values to match";case C.Iterator:return"Expected Iterator";case C.Literal:return`Expected ${typeof $.schema.const==="string"?`'${$.schema.const}'`:$.schema.const}`;case C.Never:return"Never";case C.Not:return"Value should not match";case C.Null:return"Expected null";case C.NumberExclusiveMaximum:return`Expected number to be less than ${$.schema.exclusiveMaximum}`;case C.NumberExclusiveMinimum:return`Expected number to be greater than ${$.schema.exclusiveMinimum}`;case C.NumberMaximum:return`Expected number to be less or equal to ${$.schema.maximum}`;case C.NumberMinimum:return`Expected number to be greater or equal to ${$.schema.minimum}`;case C.NumberMultipleOf:return`Expected number to be a multiple of ${$.schema.multipleOf}`;case C.Number:return"Expected number";case C.Object:return"Expected object";case C.ObjectAdditionalProperties:return"Unexpected property";case C.ObjectMaxProperties:return`Expected object to have no more than ${$.schema.maxProperties} properties`;case C.ObjectMinProperties:return`Expected object to have at least ${$.schema.minProperties} properties`;case C.ObjectRequiredProperty:return"Expected required property";case C.Promise:return"Expected Promise";case C.RegExp:return"Expected string to match regular expression";case C.StringFormatUnknown:return`Unknown format '${$.schema.format}'`;case C.StringFormat:return`Expected string to match '${$.schema.format}' format`;case C.StringMaxLength:return`Expected string length less or equal to ${$.schema.maxLength}`;case C.StringMinLength:return`Expected string length greater or equal to ${$.schema.minLength}`;case C.StringPattern:return`Expected string to match '${$.schema.pattern}'`;case C.String:return"Expected string";case C.Symbol:return"Expected symbol";case C.TupleLength:return`Expected tuple to have ${$.schema.maxItems||0} elements`;case C.Tuple:return"Expected tuple";case C.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${$.schema.maxByteLength}`;case C.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${$.schema.minByteLength}`;case C.Uint8Array:return"Expected Uint8Array";case C.Undefined:return"Expected undefined";case C.Union:return"Expected union value";case C.Void:return"Expected void";case C.Kind:return`Expected kind '${$.schema[L]}'`;default:return"Unknown error type"}}var qG=WG;function kZ(){return qG}class gZ extends p{constructor($){super(`Unable to dereference schema with $id '${$.$ref}'`);this.schema=$}}function MG($,X){let Q=X.find((J)=>J.$id===$.$ref);if(Q===void 0)throw new gZ($);return B0(Q,X)}function N1($,X){if(!q0($.$id)||X.some((Q)=>Q.$id===$.$id))return X;return X.push($),X}function B0($,X){return $[L]==="This"||$[L]==="Ref"?MG($,X):$}class fZ extends p{constructor($){super("Unable to hash value");this.value=$}}var l1;(function($){$[$.Undefined=0]="Undefined",$[$.Null=1]="Null",$[$.Boolean=2]="Boolean",$[$.Number=3]="Number",$[$.String=4]="String",$[$.Object=5]="Object",$[$.Array=6]="Array",$[$.Date=7]="Date",$[$.Uint8Array=8]="Uint8Array",$[$.Symbol=9]="Symbol",$[$.BigInt=10]="BigInt"})(l1||(l1={}));var u8=BigInt("14695981039346656037"),[BG,GG]=[BigInt("1099511628211"),BigInt("18446744073709551616")],NG=Array.from({length:256}).map(($,X)=>BigInt(X)),yZ=new Float64Array(1),vZ=new DataView(yZ.buffer),dZ=new Uint8Array(yZ.buffer);function*wG($){let X=$===0?1:Math.ceil(Math.floor(Math.log2($)+1)/8);for(let Q=0;Q<X;Q++)yield $>>8*(X-1-Q)&255}function UG($){j1(l1.Array);for(let X of $)c8(X)}function zG($){j1(l1.Boolean),j1($?1:0)}function HG($){j1(l1.BigInt),vZ.setBigInt64(0,$);for(let X of dZ)j1(X)}function AG($){j1(l1.Date),c8($.getTime())}function DG($){j1(l1.Null)}function OG($){j1(l1.Number),vZ.setFloat64(0,$);for(let X of dZ)j1(X)}function PG($){j1(l1.Object);for(let X of globalThis.Object.getOwnPropertyNames($).sort())c8(X),c8($[X])}function LG($){j1(l1.String);for(let X=0;X<$.length;X++)for(let Q of wG($.charCodeAt(X)))j1(Q)}function KG($){j1(l1.Symbol),c8($.description)}function SG($){j1(l1.Uint8Array);for(let X=0;X<$.length;X++)j1($[X])}function CG($){return j1(l1.Undefined)}function c8($){if(c($))return UG($);if(y2($))return zG($);if(z1($))return HG($);if(V1($))return AG($);if(r2($))return DG($);if(u($))return OG($);if(l($))return PG($);if(q0($))return LG($);if(a2($))return KG($);if(S8($))return SG($);if(x0($))return CG($);throw new fZ($)}function j1($){u8=u8^NG[$],u8=u8*BG%GG}function f$($){return u8=BigInt("14695981039346656037"),c8($),u8}class hZ extends p{constructor($){super("Unknown type");this.schema=$}}function jG($){return $[L]==="Any"||$[L]==="Unknown"}function Q0($){return $!==void 0}function FG($,X,Q){return!0}function RG($,X,Q){return!0}function VG($,X,Q){if(!c(Q))return!1;if(Q0($.minItems)&&!(Q.length>=$.minItems))return!1;if(Q0($.maxItems)&&!(Q.length<=$.maxItems))return!1;if(!Q.every((Z)=>w1($.items,X,Z)))return!1;if($.uniqueItems===!0&&!function(){let Z=new Set;for(let W of Q){let q=f$(W);if(Z.has(q))return!1;else Z.add(q)}return!0}())return!1;if(!(Q0($.contains)||u($.minContains)||u($.maxContains)))return!0;let J=Q0($.contains)?$.contains:s(),Y=Q.reduce((Z,W)=>w1(J,X,W)?Z+1:Z,0);if(Y===0)return!1;if(u($.minContains)&&Y<$.minContains)return!1;if(u($.maxContains)&&Y>$.maxContains)return!1;return!0}function _G($,X,Q){return YX(Q)}function EG($,X,Q){if(!z1(Q))return!1;if(Q0($.exclusiveMaximum)&&!(Q<$.exclusiveMaximum))return!1;if(Q0($.exclusiveMinimum)&&!(Q>$.exclusiveMinimum))return!1;if(Q0($.maximum)&&!(Q<=$.maximum))return!1;if(Q0($.minimum)&&!(Q>=$.minimum))return!1;if(Q0($.multipleOf)&&Q%$.multipleOf!==BigInt(0))return!1;return!0}function xG($,X,Q){return y2(Q)}function IG($,X,Q){return w1($.returns,X,Q.prototype)}function TG($,X,Q){if(!V1(Q))return!1;if(Q0($.exclusiveMaximumTimestamp)&&!(Q.getTime()<$.exclusiveMaximumTimestamp))return!1;if(Q0($.exclusiveMinimumTimestamp)&&!(Q.getTime()>$.exclusiveMinimumTimestamp))return!1;if(Q0($.maximumTimestamp)&&!(Q.getTime()<=$.maximumTimestamp))return!1;if(Q0($.minimumTimestamp)&&!(Q.getTime()>=$.minimumTimestamp))return!1;if(Q0($.multipleOfTimestamp)&&Q.getTime()%$.multipleOfTimestamp!==0)return!1;return!0}function bG($,X,Q){return R$(Q)}function kG($,X,Q){let J=globalThis.Object.values($.$defs),Y=$.$defs[$.$ref];return w1(Y,[...X,...J],Q)}function gG($,X,Q){if(!qX(Q))return!1;if(Q0($.exclusiveMaximum)&&!(Q<$.exclusiveMaximum))return!1;if(Q0($.exclusiveMinimum)&&!(Q>$.exclusiveMinimum))return!1;if(Q0($.maximum)&&!(Q<=$.maximum))return!1;if(Q0($.minimum)&&!(Q>=$.minimum))return!1;if(Q0($.multipleOf)&&Q%$.multipleOf!==0)return!1;return!0}function fG($,X,Q){let J=$.allOf.every((Y)=>w1(Y,X,Q));if($.unevaluatedProperties===!1){let Y=new RegExp(Y$($)),Z=Object.getOwnPropertyNames(Q).every((W)=>Y.test(W));return J&&Z}else if(g0($.unevaluatedProperties)){let Y=new RegExp(Y$($)),Z=Object.getOwnPropertyNames(Q).every((W)=>Y.test(W)||w1($.unevaluatedProperties,X,Q[W]));return J&&Z}else return J}function yG($,X,Q){return ZX(Q)}function vG($,X,Q){return Q===$.const}function dG($,X,Q){return!1}function hG($,X,Q){return!w1($.not,X,Q)}function mG($,X,Q){return r2(Q)}function uG($,X,Q){if(!V0.IsNumberLike(Q))return!1;if(Q0($.exclusiveMaximum)&&!(Q<$.exclusiveMaximum))return!1;if(Q0($.exclusiveMinimum)&&!(Q>$.exclusiveMinimum))return!1;if(Q0($.minimum)&&!(Q>=$.minimum))return!1;if(Q0($.maximum)&&!(Q<=$.maximum))return!1;if(Q0($.multipleOf)&&Q%$.multipleOf!==0)return!1;return!0}function cG($,X,Q){if(!V0.IsObjectLike(Q))return!1;if(Q0($.minProperties)&&!(Object.getOwnPropertyNames(Q).length>=$.minProperties))return!1;if(Q0($.maxProperties)&&!(Object.getOwnPropertyNames(Q).length<=$.maxProperties))return!1;let J=Object.getOwnPropertyNames($.properties);for(let Y of J){let Z=$.properties[Y];if($.required&&$.required.includes(Y)){if(!w1(Z,X,Q[Y]))return!1;if((Z$(Z)||jG(Z))&&!(Y in Q))return!1}else if(V0.IsExactOptionalProperty(Q,Y)&&!w1(Z,X,Q[Y]))return!1}if($.additionalProperties===!1){let Y=Object.getOwnPropertyNames(Q);if($.required&&$.required.length===J.length&&Y.length===J.length)return!0;else return Y.every((Z)=>J.includes(Z))}else if(typeof $.additionalProperties==="object")return Object.getOwnPropertyNames(Q).every((Z)=>J.includes(Z)||w1($.additionalProperties,X,Q[Z]));else return!0}function pG($,X,Q){return WX(Q)}function iG($,X,Q){if(!V0.IsRecordLike(Q))return!1;if(Q0($.minProperties)&&!(Object.getOwnPropertyNames(Q).length>=$.minProperties))return!1;if(Q0($.maxProperties)&&!(Object.getOwnPropertyNames(Q).length<=$.maxProperties))return!1;let[J,Y]=Object.entries($.patternProperties)[0],Z=new RegExp(J),W=Object.entries(Q).every(([G,B])=>{return Z.test(G)?w1(Y,X,B):!0}),q=typeof $.additionalProperties==="object"?Object.entries(Q).every(([G,B])=>{return!Z.test(G)?w1($.additionalProperties,X,B):!0}):!0,M=$.additionalProperties===!1?Object.getOwnPropertyNames(Q).every((G)=>{return Z.test(G)}):!0;return W&&q&&M}function nG($,X,Q){return w1(B0($,X),X,Q)}function oG($,X,Q){let J=new RegExp($.source,$.flags);if(Q0($.minLength)){if(!(Q.length>=$.minLength))return!1}if(Q0($.maxLength)){if(!(Q.length<=$.maxLength))return!1}return J.test(Q)}function lG($,X,Q){if(!q0(Q))return!1;if(Q0($.minLength)){if(!(Q.length>=$.minLength))return!1}if(Q0($.maxLength)){if(!(Q.length<=$.maxLength))return!1}if(Q0($.pattern)){if(!new RegExp($.pattern).test(Q))return!1}if(Q0($.format)){if(!O0.Has($.format))return!1;return O0.Get($.format)(Q)}return!0}function tG($,X,Q){return a2(Q)}function sG($,X,Q){return q0(Q)&&new RegExp($.pattern).test(Q)}function rG($,X,Q){return w1(B0($,X),X,Q)}function aG($,X,Q){if(!c(Q))return!1;if($.items===void 0&&Q.length!==0)return!1;if(Q.length!==$.maxItems)return!1;if(!$.items)return!0;for(let J=0;J<$.items.length;J++)if(!w1($.items[J],X,Q[J]))return!1;return!0}function eG($,X,Q){return x0(Q)}function $N($,X,Q){return $.anyOf.some((J)=>w1(J,X,Q))}function XN($,X,Q){if(!S8(Q))return!1;if(Q0($.maxByteLength)&&!(Q.length<=$.maxByteLength))return!1;if(Q0($.minByteLength)&&!(Q.length>=$.minByteLength))return!1;return!0}function QN($,X,Q){return!0}function JN($,X,Q){return V0.IsVoidLike(Q)}function YN($,X,Q){if(!W1.Has($[L]))return!1;return W1.Get($[L])($,Q)}function w1($,X,Q){let J=Q0($.$id)?N1($,X):X,Y=$;switch(Y[L]){case"Any":return FG(Y,J,Q);case"Argument":return RG(Y,J,Q);case"Array":return VG(Y,J,Q);case"AsyncIterator":return _G(Y,J,Q);case"BigInt":return EG(Y,J,Q);case"Boolean":return xG(Y,J,Q);case"Constructor":return IG(Y,J,Q);case"Date":return TG(Y,J,Q);case"Function":return bG(Y,J,Q);case"Import":return kG(Y,J,Q);case"Integer":return gG(Y,J,Q);case"Intersect":return fG(Y,J,Q);case"Iterator":return yG(Y,J,Q);case"Literal":return vG(Y,J,Q);case"Never":return dG(Y,J,Q);case"Not":return hG(Y,J,Q);case"Null":return mG(Y,J,Q);case"Number":return uG(Y,J,Q);case"Object":return cG(Y,J,Q);case"Promise":return pG(Y,J,Q);case"Record":return iG(Y,J,Q);case"Ref":return nG(Y,J,Q);case"RegExp":return oG(Y,J,Q);case"String":return lG(Y,J,Q);case"Symbol":return tG(Y,J,Q);case"TemplateLiteral":return sG(Y,J,Q);case"This":return rG(Y,J,Q);case"Tuple":return aG(Y,J,Q);case"Undefined":return eG(Y,J,Q);case"Union":return $N(Y,J,Q);case"Uint8Array":return XN(Y,J,Q);case"Unknown":return QN(Y,J,Q);case"Void":return JN(Y,J,Q);default:if(!W1.Has(Y[L]))throw new hZ(Y);return YN(Y,J,Q)}}function r(...$){return $.length===3?w1($[0],$[1],$[2]):w1($[0],[],$[1])}var C;(function($){$[$.ArrayContains=0]="ArrayContains",$[$.ArrayMaxContains=1]="ArrayMaxContains",$[$.ArrayMaxItems=2]="ArrayMaxItems",$[$.ArrayMinContains=3]="ArrayMinContains",$[$.ArrayMinItems=4]="ArrayMinItems",$[$.ArrayUniqueItems=5]="ArrayUniqueItems",$[$.Array=6]="Array",$[$.AsyncIterator=7]="AsyncIterator",$[$.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",$[$.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",$[$.BigIntMaximum=10]="BigIntMaximum",$[$.BigIntMinimum=11]="BigIntMinimum",$[$.BigIntMultipleOf=12]="BigIntMultipleOf",$[$.BigInt=13]="BigInt",$[$.Boolean=14]="Boolean",$[$.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",$[$.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",$[$.DateMaximumTimestamp=17]="DateMaximumTimestamp",$[$.DateMinimumTimestamp=18]="DateMinimumTimestamp",$[$.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",$[$.Date=20]="Date",$[$.Function=21]="Function",$[$.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",$[$.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",$[$.IntegerMaximum=24]="IntegerMaximum",$[$.IntegerMinimum=25]="IntegerMinimum",$[$.IntegerMultipleOf=26]="IntegerMultipleOf",$[$.Integer=27]="Integer",$[$.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",$[$.Intersect=29]="Intersect",$[$.Iterator=30]="Iterator",$[$.Kind=31]="Kind",$[$.Literal=32]="Literal",$[$.Never=33]="Never",$[$.Not=34]="Not",$[$.Null=35]="Null",$[$.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",$[$.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",$[$.NumberMaximum=38]="NumberMaximum",$[$.NumberMinimum=39]="NumberMinimum",$[$.NumberMultipleOf=40]="NumberMultipleOf",$[$.Number=41]="Number",$[$.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",$[$.ObjectMaxProperties=43]="ObjectMaxProperties",$[$.ObjectMinProperties=44]="ObjectMinProperties",$[$.ObjectRequiredProperty=45]="ObjectRequiredProperty",$[$.Object=46]="Object",$[$.Promise=47]="Promise",$[$.RegExp=48]="RegExp",$[$.StringFormatUnknown=49]="StringFormatUnknown",$[$.StringFormat=50]="StringFormat",$[$.StringMaxLength=51]="StringMaxLength",$[$.StringMinLength=52]="StringMinLength",$[$.StringPattern=53]="StringPattern",$[$.String=54]="String",$[$.Symbol=55]="Symbol",$[$.TupleLength=56]="TupleLength",$[$.Tuple=57]="Tuple",$[$.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",$[$.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",$[$.Uint8Array=60]="Uint8Array",$[$.Undefined=61]="Undefined",$[$.Union=62]="Union",$[$.Void=63]="Void"})(C||(C={}));class mZ extends p{constructor($){super("Unknown type");this.schema=$}}function W$($){return $.replace(/~/g,"~0").replace(/\//g,"~1")}function J0($){return $!==void 0}class $8{constructor($){this.iterator=$}[Symbol.iterator](){return this.iterator}First(){let $=this.iterator.next();return $.done?void 0:$.value}}function h($,X,Q,J,Y=[]){return{type:$,schema:X,path:Q,value:J,message:kZ()({errorType:$,path:Q,schema:X,value:J,errors:Y}),errors:Y}}function*ZN($,X,Q,J){}function*WN($,X,Q,J){}function*qN($,X,Q,J){if(!c(J))return yield h(C.Array,$,Q,J);if(J0($.minItems)&&!(J.length>=$.minItems))yield h(C.ArrayMinItems,$,Q,J);if(J0($.maxItems)&&!(J.length<=$.maxItems))yield h(C.ArrayMaxItems,$,Q,J);for(let W=0;W<J.length;W++)yield*U1($.items,X,`${Q}/${W}`,J[W]);if($.uniqueItems===!0&&!function(){let W=new Set;for(let q of J){let M=f$(q);if(W.has(M))return!1;else W.add(M)}return!0}())yield h(C.ArrayUniqueItems,$,Q,J);if(!(J0($.contains)||J0($.minContains)||J0($.maxContains)))return;let Y=J0($.contains)?$.contains:s(),Z=J.reduce((W,q,M)=>U1(Y,X,`${Q}${M}`,q).next().done===!0?W+1:W,0);if(Z===0)yield h(C.ArrayContains,$,Q,J);if(u($.minContains)&&Z<$.minContains)yield h(C.ArrayMinContains,$,Q,J);if(u($.maxContains)&&Z>$.maxContains)yield h(C.ArrayMaxContains,$,Q,J)}function*MN($,X,Q,J){if(!YX(J))yield h(C.AsyncIterator,$,Q,J)}function*BN($,X,Q,J){if(!z1(J))return yield h(C.BigInt,$,Q,J);if(J0($.exclusiveMaximum)&&!(J<$.exclusiveMaximum))yield h(C.BigIntExclusiveMaximum,$,Q,J);if(J0($.exclusiveMinimum)&&!(J>$.exclusiveMinimum))yield h(C.BigIntExclusiveMinimum,$,Q,J);if(J0($.maximum)&&!(J<=$.maximum))yield h(C.BigIntMaximum,$,Q,J);if(J0($.minimum)&&!(J>=$.minimum))yield h(C.BigIntMinimum,$,Q,J);if(J0($.multipleOf)&&J%$.multipleOf!==BigInt(0))yield h(C.BigIntMultipleOf,$,Q,J)}function*GN($,X,Q,J){if(!y2(J))yield h(C.Boolean,$,Q,J)}function*NN($,X,Q,J){yield*U1($.returns,X,Q,J.prototype)}function*wN($,X,Q,J){if(!V1(J))return yield h(C.Date,$,Q,J);if(J0($.exclusiveMaximumTimestamp)&&!(J.getTime()<$.exclusiveMaximumTimestamp))yield h(C.DateExclusiveMaximumTimestamp,$,Q,J);if(J0($.exclusiveMinimumTimestamp)&&!(J.getTime()>$.exclusiveMinimumTimestamp))yield h(C.DateExclusiveMinimumTimestamp,$,Q,J);if(J0($.maximumTimestamp)&&!(J.getTime()<=$.maximumTimestamp))yield h(C.DateMaximumTimestamp,$,Q,J);if(J0($.minimumTimestamp)&&!(J.getTime()>=$.minimumTimestamp))yield h(C.DateMinimumTimestamp,$,Q,J);if(J0($.multipleOfTimestamp)&&J.getTime()%$.multipleOfTimestamp!==0)yield h(C.DateMultipleOfTimestamp,$,Q,J)}function*UN($,X,Q,J){if(!R$(J))yield h(C.Function,$,Q,J)}function*zN($,X,Q,J){let Y=globalThis.Object.values($.$defs),Z=$.$defs[$.$ref];yield*U1(Z,[...X,...Y],Q,J)}function*HN($,X,Q,J){if(!qX(J))return yield h(C.Integer,$,Q,J);if(J0($.exclusiveMaximum)&&!(J<$.exclusiveMaximum))yield h(C.IntegerExclusiveMaximum,$,Q,J);if(J0($.exclusiveMinimum)&&!(J>$.exclusiveMinimum))yield h(C.IntegerExclusiveMinimum,$,Q,J);if(J0($.maximum)&&!(J<=$.maximum))yield h(C.IntegerMaximum,$,Q,J);if(J0($.minimum)&&!(J>=$.minimum))yield h(C.IntegerMinimum,$,Q,J);if(J0($.multipleOf)&&J%$.multipleOf!==0)yield h(C.IntegerMultipleOf,$,Q,J)}function*AN($,X,Q,J){let Y=!1;for(let Z of $.allOf)for(let W of U1(Z,X,Q,J))Y=!0,yield W;if(Y)return yield h(C.Intersect,$,Q,J);if($.unevaluatedProperties===!1){let Z=new RegExp(Y$($));for(let W of Object.getOwnPropertyNames(J))if(!Z.test(W))yield h(C.IntersectUnevaluatedProperties,$,`${Q}/${W}`,J)}if(typeof $.unevaluatedProperties==="object"){let Z=new RegExp(Y$($));for(let W of Object.getOwnPropertyNames(J))if(!Z.test(W)){let q=U1($.unevaluatedProperties,X,`${Q}/${W}`,J[W]).next();if(!q.done)yield q.value}}}function*DN($,X,Q,J){if(!ZX(J))yield h(C.Iterator,$,Q,J)}function*ON($,X,Q,J){if(J!==$.const)yield h(C.Literal,$,Q,J)}function*PN($,X,Q,J){yield h(C.Never,$,Q,J)}function*LN($,X,Q,J){if(U1($.not,X,Q,J).next().done===!0)yield h(C.Not,$,Q,J)}function*KN($,X,Q,J){if(!r2(J))yield h(C.Null,$,Q,J)}function*SN($,X,Q,J){if(!V0.IsNumberLike(J))return yield h(C.Number,$,Q,J);if(J0($.exclusiveMaximum)&&!(J<$.exclusiveMaximum))yield h(C.NumberExclusiveMaximum,$,Q,J);if(J0($.exclusiveMinimum)&&!(J>$.exclusiveMinimum))yield h(C.NumberExclusiveMinimum,$,Q,J);if(J0($.maximum)&&!(J<=$.maximum))yield h(C.NumberMaximum,$,Q,J);if(J0($.minimum)&&!(J>=$.minimum))yield h(C.NumberMinimum,$,Q,J);if(J0($.multipleOf)&&J%$.multipleOf!==0)yield h(C.NumberMultipleOf,$,Q,J)}function*CN($,X,Q,J){if(!V0.IsObjectLike(J))return yield h(C.Object,$,Q,J);if(J0($.minProperties)&&!(Object.getOwnPropertyNames(J).length>=$.minProperties))yield h(C.ObjectMinProperties,$,Q,J);if(J0($.maxProperties)&&!(Object.getOwnPropertyNames(J).length<=$.maxProperties))yield h(C.ObjectMaxProperties,$,Q,J);let Y=Array.isArray($.required)?$.required:[],Z=Object.getOwnPropertyNames($.properties),W=Object.getOwnPropertyNames(J);for(let q of Y){if(W.includes(q))continue;yield h(C.ObjectRequiredProperty,$.properties[q],`${Q}/${W$(q)}`,void 0)}if($.additionalProperties===!1){for(let q of W)if(!Z.includes(q))yield h(C.ObjectAdditionalProperties,$,`${Q}/${W$(q)}`,J[q])}if(typeof $.additionalProperties==="object")for(let q of W){if(Z.includes(q))continue;yield*U1($.additionalProperties,X,`${Q}/${W$(q)}`,J[q])}for(let q of Z){let M=$.properties[q];if($.required&&$.required.includes(q)){if(yield*U1(M,X,`${Q}/${W$(q)}`,J[q]),Z$($)&&!(q in J))yield h(C.ObjectRequiredProperty,M,`${Q}/${W$(q)}`,void 0)}else if(V0.IsExactOptionalProperty(J,q))yield*U1(M,X,`${Q}/${W$(q)}`,J[q])}}function*jN($,X,Q,J){if(!WX(J))yield h(C.Promise,$,Q,J)}function*FN($,X,Q,J){if(!V0.IsRecordLike(J))return yield h(C.Object,$,Q,J);if(J0($.minProperties)&&!(Object.getOwnPropertyNames(J).length>=$.minProperties))yield h(C.ObjectMinProperties,$,Q,J);if(J0($.maxProperties)&&!(Object.getOwnPropertyNames(J).length<=$.maxProperties))yield h(C.ObjectMaxProperties,$,Q,J);let[Y,Z]=Object.entries($.patternProperties)[0],W=new RegExp(Y);for(let[q,M]of Object.entries(J))if(W.test(q))yield*U1(Z,X,`${Q}/${W$(q)}`,M);if(typeof $.additionalProperties==="object"){for(let[q,M]of Object.entries(J))if(!W.test(q))yield*U1($.additionalProperties,X,`${Q}/${W$(q)}`,M)}if($.additionalProperties===!1)for(let[q,M]of Object.entries(J)){if(W.test(q))continue;return yield h(C.ObjectAdditionalProperties,$,`${Q}/${W$(q)}`,M)}}function*RN($,X,Q,J){yield*U1(B0($,X),X,Q,J)}function*VN($,X,Q,J){if(!q0(J))return yield h(C.String,$,Q,J);if(J0($.minLength)&&!(J.length>=$.minLength))yield h(C.StringMinLength,$,Q,J);if(J0($.maxLength)&&!(J.length<=$.maxLength))yield h(C.StringMaxLength,$,Q,J);if(!new RegExp($.source,$.flags).test(J))return yield h(C.RegExp,$,Q,J)}function*_N($,X,Q,J){if(!q0(J))return yield h(C.String,$,Q,J);if(J0($.minLength)&&!(J.length>=$.minLength))yield h(C.StringMinLength,$,Q,J);if(J0($.maxLength)&&!(J.length<=$.maxLength))yield h(C.StringMaxLength,$,Q,J);if(q0($.pattern)){if(!new RegExp($.pattern).test(J))yield h(C.StringPattern,$,Q,J)}if(q0($.format)){if(!O0.Has($.format))yield h(C.StringFormatUnknown,$,Q,J);else if(!O0.Get($.format)(J))yield h(C.StringFormat,$,Q,J)}}function*EN($,X,Q,J){if(!a2(J))yield h(C.Symbol,$,Q,J)}function*xN($,X,Q,J){if(!q0(J))return yield h(C.String,$,Q,J);if(!new RegExp($.pattern).test(J))yield h(C.StringPattern,$,Q,J)}function*IN($,X,Q,J){yield*U1(B0($,X),X,Q,J)}function*TN($,X,Q,J){if(!c(J))return yield h(C.Tuple,$,Q,J);if($.items===void 0&&J.length!==0)return yield h(C.TupleLength,$,Q,J);if(J.length!==$.maxItems)return yield h(C.TupleLength,$,Q,J);if(!$.items)return;for(let Y=0;Y<$.items.length;Y++)yield*U1($.items[Y],X,`${Q}/${Y}`,J[Y])}function*bN($,X,Q,J){if(!x0(J))yield h(C.Undefined,$,Q,J)}function*kN($,X,Q,J){if(r($,X,J))return;let Y=$.anyOf.map((Z)=>new $8(U1(Z,X,Q,J)));yield h(C.Union,$,Q,J,Y)}function*gN($,X,Q,J){if(!S8(J))return yield h(C.Uint8Array,$,Q,J);if(J0($.maxByteLength)&&!(J.length<=$.maxByteLength))yield h(C.Uint8ArrayMaxByteLength,$,Q,J);if(J0($.minByteLength)&&!(J.length>=$.minByteLength))yield h(C.Uint8ArrayMinByteLength,$,Q,J)}function*fN($,X,Q,J){}function*yN($,X,Q,J){if(!V0.IsVoidLike(J))yield h(C.Void,$,Q,J)}function*vN($,X,Q,J){if(!W1.Get($[L])($,J))yield h(C.Kind,$,Q,J)}function*U1($,X,Q,J){let Y=J0($.$id)?[...X,$]:X,Z=$;switch(Z[L]){case"Any":return yield*ZN(Z,Y,Q,J);case"Argument":return yield*WN(Z,Y,Q,J);case"Array":return yield*qN(Z,Y,Q,J);case"AsyncIterator":return yield*MN(Z,Y,Q,J);case"BigInt":return yield*BN(Z,Y,Q,J);case"Boolean":return yield*GN(Z,Y,Q,J);case"Constructor":return yield*NN(Z,Y,Q,J);case"Date":return yield*wN(Z,Y,Q,J);case"Function":return yield*UN(Z,Y,Q,J);case"Import":return yield*zN(Z,Y,Q,J);case"Integer":return yield*HN(Z,Y,Q,J);case"Intersect":return yield*AN(Z,Y,Q,J);case"Iterator":return yield*DN(Z,Y,Q,J);case"Literal":return yield*ON(Z,Y,Q,J);case"Never":return yield*PN(Z,Y,Q,J);case"Not":return yield*LN(Z,Y,Q,J);case"Null":return yield*KN(Z,Y,Q,J);case"Number":return yield*SN(Z,Y,Q,J);case"Object":return yield*CN(Z,Y,Q,J);case"Promise":return yield*jN(Z,Y,Q,J);case"Record":return yield*FN(Z,Y,Q,J);case"Ref":return yield*RN(Z,Y,Q,J);case"RegExp":return yield*VN(Z,Y,Q,J);case"String":return yield*_N(Z,Y,Q,J);case"Symbol":return yield*EN(Z,Y,Q,J);case"TemplateLiteral":return yield*xN(Z,Y,Q,J);case"This":return yield*IN(Z,Y,Q,J);case"Tuple":return yield*TN(Z,Y,Q,J);case"Undefined":return yield*bN(Z,Y,Q,J);case"Union":return yield*kN(Z,Y,Q,J);case"Uint8Array":return yield*gN(Z,Y,Q,J);case"Unknown":return yield*fN(Z,Y,Q,J);case"Void":return yield*yN(Z,Y,Q,J);default:if(!W1.Has(Z[L]))throw new mZ($);return yield*vN(Z,Y,Q,J)}}function h2(...$){let X=$.length===3?U1($[0],$[1],"",$[2]):U1($[0],[],"",$[1]);return new $8(X)}var dN=function($,X,Q,J,Y){if(J==="m")throw TypeError("Private method is not writable");if(J==="a"&&!Y)throw TypeError("Private accessor was defined without a setter");if(typeof X==="function"?$!==X||!Y:!X.has($))throw TypeError("Cannot write private member to an object whose class did not declare it");return J==="a"?Y.call($,Q):Y?Y.value=Q:X.set($,Q),Q},cZ=function($,X,Q,J){if(Q==="a"&&!J)throw TypeError("Private accessor was defined without a getter");if(typeof X==="function"?$!==X||!J:!X.has($))throw TypeError("Cannot read private member from an object whose class did not declare it");return Q==="m"?J:Q==="a"?J.call($):J?J.value:X.get($)},QJ,xX,pZ;class iZ extends p{constructor($){let X=$.First();super(X===void 0?"Invalid Value":X.message);QJ.add(this),xX.set(this,void 0),dN(this,xX,$,"f"),this.error=X}Errors(){return new $8(cZ(this,QJ,"m",pZ).call(this))}}xX=new WeakMap,QJ=new WeakSet,pZ=function*(){if(this.error)yield this.error;yield*cZ(this,xX,"f")};function uZ($,X,Q){if(r($,X,Q))return;throw new iZ(h2($,X,Q))}function IX(...$){return $.length===3?uZ($[0],$[1],$[2]):uZ($[0],[],$[1])}function hN($){let X={};for(let Q of Object.getOwnPropertyNames($))X[Q]=N0($[Q]);for(let Q of Object.getOwnPropertySymbols($))X[Q]=N0($[Q]);return X}function mN($){return $.map((X)=>N0(X))}function uN($){return $.slice()}function cN($){return new Map(N0([...$.entries()]))}function pN($){return new Set(N0([...$.entries()]))}function iN($){return new Date($.toISOString())}function nN($){return $}function N0($){if(c($))return mN($);if(V1($))return iN($);if($2($))return uN($);if(BY($))return cN($);if(GY($))return pN($);if(l($))return hN($);if(u1($))return nN($);throw Error("ValueClone: Unable to clone value")}class M2 extends p{constructor($,X){super(X);this.schema=$}}function w0($){return R$($)?$():N0($)}function oN($,X){if(i($,"default"))return w0($.default);else return{}}function lN($,X){return{}}function tN($,X){if($.uniqueItems===!0&&!i($,"default"))throw new M2($,"Array with the uniqueItems constraint requires a default value");else if("contains"in $&&!i($,"default"))throw new M2($,"Array with the contains constraint requires a default value");else if("default"in $)return w0($.default);else if($.minItems!==void 0)return Array.from({length:$.minItems}).map((Q)=>{return t1($.items,X)});else return[]}function sN($,X){if(i($,"default"))return w0($.default);else return async function*(){}()}function rN($,X){if(i($,"default"))return w0($.default);else return BigInt(0)}function aN($,X){if(i($,"default"))return w0($.default);else return!1}function eN($,X){if(i($,"default"))return w0($.default);else{let Q=t1($.returns,X);if(typeof Q==="object"&&!Array.isArray(Q))return class{constructor(){for(let[J,Y]of Object.entries(Q)){let Z=this;Z[J]=Y}}};else return class{}}}function $w($,X){if(i($,"default"))return w0($.default);else if($.minimumTimestamp!==void 0)return new Date($.minimumTimestamp);else return new Date}function Xw($,X){if(i($,"default"))return w0($.default);else return()=>t1($.returns,X)}function Qw($,X){let Q=globalThis.Object.values($.$defs),J=$.$defs[$.$ref];return t1(J,[...X,...Q])}function Jw($,X){if(i($,"default"))return w0($.default);else if($.minimum!==void 0)return $.minimum;else return 0}function Yw($,X){if(i($,"default"))return w0($.default);else{let Q=$.allOf.reduce((J,Y)=>{let Z=t1(Y,X);return typeof Z==="object"?{...J,...Z}:Z},{});if(!r($,X,Q))throw new M2($,"Intersect produced invalid value. Consider using a default value.");return Q}}function Zw($,X){if(i($,"default"))return w0($.default);else return function*(){}()}function Ww($,X){if(i($,"default"))return w0($.default);else return $.const}function qw($,X){if(i($,"default"))return w0($.default);else throw new M2($,"Never types cannot be created. Consider using a default value.")}function Mw($,X){if(i($,"default"))return w0($.default);else throw new M2($,"Not types must have a default value")}function Bw($,X){if(i($,"default"))return w0($.default);else return null}function Gw($,X){if(i($,"default"))return w0($.default);else if($.minimum!==void 0)return $.minimum;else return 0}function Nw($,X){if(i($,"default"))return w0($.default);else{let Q=new Set($.required),J={};for(let[Y,Z]of Object.entries($.properties)){if(!Q.has(Y))continue;J[Y]=t1(Z,X)}return J}}function ww($,X){if(i($,"default"))return w0($.default);else return Promise.resolve(t1($.item,X))}function Uw($,X){if(i($,"default"))return w0($.default);else return{}}function zw($,X){if(i($,"default"))return w0($.default);else return t1(B0($,X),X)}function Hw($,X){if(i($,"default"))return w0($.default);else throw new M2($,"RegExp types cannot be created. Consider using a default value.")}function Aw($,X){if($.pattern!==void 0)if(!i($,"default"))throw new M2($,"String types with patterns must specify a default value");else return w0($.default);else if($.format!==void 0)if(!i($,"default"))throw new M2($,"String types with formats must specify a default value");else return w0($.default);else if(i($,"default"))return w0($.default);else if($.minLength!==void 0)return Array.from({length:$.minLength}).map(()=>" ").join("");else return""}function Dw($,X){if(i($,"default"))return w0($.default);else if("value"in $)return Symbol.for($.value);else return Symbol()}function Ow($,X){if(i($,"default"))return w0($.default);if(!NX($))throw new M2($,"Can only create template literals that produce a finite variants. Consider using a default value.");return I8($)[0]}function Pw($,X){if(nZ++>Vw)throw new M2($,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");if(i($,"default"))return w0($.default);else return t1(B0($,X),X)}function Lw($,X){if(i($,"default"))return w0($.default);if($.items===void 0)return[];else return Array.from({length:$.minItems}).map((Q,J)=>t1($.items[J],X))}function Kw($,X){if(i($,"default"))return w0($.default);else return}function Sw($,X){if(i($,"default"))return w0($.default);else if($.anyOf.length===0)throw Error("ValueCreate.Union: Cannot create Union with zero variants");else return t1($.anyOf[0],X)}function Cw($,X){if(i($,"default"))return w0($.default);else if($.minByteLength!==void 0)return new Uint8Array($.minByteLength);else return new Uint8Array(0)}function jw($,X){if(i($,"default"))return w0($.default);else return{}}function Fw($,X){if(i($,"default"))return w0($.default);else return}function Rw($,X){if(i($,"default"))return w0($.default);else throw Error("User defined types must specify a default value")}function t1($,X){let Q=N1($,X),J=$;switch(J[L]){case"Any":return oN(J,Q);case"Argument":return lN(J,Q);case"Array":return tN(J,Q);case"AsyncIterator":return sN(J,Q);case"BigInt":return rN(J,Q);case"Boolean":return aN(J,Q);case"Constructor":return eN(J,Q);case"Date":return $w(J,Q);case"Function":return Xw(J,Q);case"Import":return Qw(J,Q);case"Integer":return Jw(J,Q);case"Intersect":return Yw(J,Q);case"Iterator":return Zw(J,Q);case"Literal":return Ww(J,Q);case"Never":return qw(J,Q);case"Not":return Mw(J,Q);case"Null":return Bw(J,Q);case"Number":return Gw(J,Q);case"Object":return Nw(J,Q);case"Promise":return ww(J,Q);case"Record":return Uw(J,Q);case"Ref":return zw(J,Q);case"RegExp":return Hw(J,Q);case"String":return Aw(J,Q);case"Symbol":return Dw(J,Q);case"TemplateLiteral":return Ow(J,Q);case"This":return Pw(J,Q);case"Tuple":return Lw(J,Q);case"Undefined":return Kw(J,Q);case"Union":return Sw(J,Q);case"Uint8Array":return Cw(J,Q);case"Unknown":return jw(J,Q);case"Void":return Fw(J,Q);default:if(!W1.Has(J[L]))throw new M2(J,"Unknown type");return Rw(J,Q)}}var Vw=512,nZ=0;function S2(...$){return nZ=0,$.length===2?t1($[0],$[1]):t1($[0],[])}class JJ extends p{constructor($,X){super(X);this.schema=$}}function oZ($,X,Q){if($[L]==="Object"&&typeof Q==="object"&&!r2(Q)){let J=$,Y=Object.getOwnPropertyNames(Q);return Object.entries(J.properties).reduce((W,[q,M])=>{let G=M[L]==="Literal"&&M.const===Q[q]?100:0,B=r(M,X,Q[q])?10:0,N=Y.includes(q)?1:0;return W+(G+B+N)},0)}else if($[L]==="Union"){let Y=$.anyOf.map((Z)=>B0(Z,X)).map((Z)=>oZ(Z,X,Q));return Math.max(...Y)}else return r($,X,Q)?1:0}function _w($,X,Q){let J=$.anyOf.map((W)=>B0(W,X)),[Y,Z]=[J[0],0];for(let W of J){let q=oZ(W,X,Q);if(q>Z)Y=W,Z=q}return Y}function Ew($,X,Q){if("default"in $)return typeof Q==="function"?$.default:N0($.default);else{let J=_w($,X,Q);return x6(J,X,Q)}}function xw($,X,Q){return r($,X,Q)?N0(Q):S2($,X)}function Iw($,X,Q){return r($,X,Q)?Q:S2($,X)}function Tw($,X,Q){if(r($,X,Q))return N0(Q);let J=c(Q)?N0(Q):S2($,X),Y=u($.minItems)&&J.length<$.minItems?[...J,...Array.from({length:$.minItems-J.length},()=>null)]:J,W=(u($.maxItems)&&Y.length>$.maxItems?Y.slice(0,$.maxItems):Y).map((M)=>C2($.items,X,M));if($.uniqueItems!==!0)return W;let q=[...new Set(W)];if(!r($,X,q))throw new JJ($,"Array cast produced invalid data due to uniqueItems constraint");return q}function bw($,X,Q){if(r($,X,Q))return S2($,X);let J=new Set($.returns.required||[]),Y=function(){};for(let[Z,W]of Object.entries($.returns.properties)){if(!J.has(Z)&&Q.prototype[Z]===void 0)continue;Y.prototype[Z]=C2(W,X,Q.prototype[Z])}return Y}function kw($,X,Q){let J=globalThis.Object.values($.$defs),Y=$.$defs[$.$ref];return C2(Y,[...X,...J],Q)}function lZ($,X){if(l($)&&!l(X)||!l($)&&l(X))return $;if(!l($)||!l(X))return X;return globalThis.Object.getOwnPropertyNames($).reduce((Q,J)=>{let Y=J in X?lZ($[J],X[J]):$[J];return{...Q,[J]:Y}},{})}function gw($,X,Q){if(r($,X,Q))return Q;let J=S2($,X),Y=lZ(J,Q);return r($,X,Y)?Y:J}function fw($,X,Q){throw new JJ($,"Never types cannot be cast")}function yw($,X,Q){if(r($,X,Q))return Q;if(Q===null||typeof Q!=="object")return S2($,X);let J=new Set($.required||[]),Y={};for(let[Z,W]of Object.entries($.properties)){if(!J.has(Z)&&Q[Z]===void 0)continue;Y[Z]=C2(W,X,Q[Z])}if(typeof $.additionalProperties==="object"){let Z=Object.getOwnPropertyNames($.properties);for(let W of Object.getOwnPropertyNames(Q)){if(Z.includes(W))continue;Y[W]=C2($.additionalProperties,X,Q[W])}}return Y}function vw($,X,Q){if(r($,X,Q))return N0(Q);if(Q===null||typeof Q!=="object"||Array.isArray(Q)||Q instanceof Date)return S2($,X);let J=Object.getOwnPropertyNames($.patternProperties)[0],Y=$.patternProperties[J],Z={};for(let[W,q]of Object.entries(Q))Z[W]=C2(Y,X,q);return Z}function dw($,X,Q){return C2(B0($,X),X,Q)}function hw($,X,Q){return C2(B0($,X),X,Q)}function mw($,X,Q){if(r($,X,Q))return N0(Q);if(!c(Q))return S2($,X);if($.items===void 0)return[];return $.items.map((J,Y)=>C2(J,X,Q[Y]))}function uw($,X,Q){return r($,X,Q)?N0(Q):Ew($,X,Q)}function C2($,X,Q){let J=q0($.$id)?N1($,X):X,Y=$;switch($[L]){case"Array":return Tw(Y,J,Q);case"Constructor":return bw(Y,J,Q);case"Import":return kw(Y,J,Q);case"Intersect":return gw(Y,J,Q);case"Never":return fw(Y,J,Q);case"Object":return yw(Y,J,Q);case"Record":return vw(Y,J,Q);case"Ref":return dw(Y,J,Q);case"This":return hw(Y,J,Q);case"Tuple":return mw(Y,J,Q);case"Union":return uw(Y,J,Q);case"Date":case"Symbol":case"Uint8Array":return xw($,X,Q);default:return Iw(Y,J,Q)}}function x6(...$){return $.length===3?C2($[0],$[1],$[2]):C2($[0],[],$[1])}function cw($){return _$($)&&$[L]!=="Unsafe"}function pw($,X,Q){if(!c(Q))return Q;return Q.map((J)=>y1($.items,X,J))}function iw($,X,Q){let J=globalThis.Object.values($.$defs),Y=$.$defs[$.$ref];return y1(Y,[...X,...J],Q)}function nw($,X,Q){let J=$.unevaluatedProperties,Z=$.allOf.map((q)=>y1(q,X,N0(Q))).reduce((q,M)=>l(M)?{...q,...M}:M,{});if(!l(Q)||!l(Z)||!_$(J))return Z;let W=g1($);for(let q of Object.getOwnPropertyNames(Q)){if(W.includes(q))continue;if(r(J,X,Q[q]))Z[q]=y1(J,X,Q[q])}return Z}function ow($,X,Q){if(!l(Q)||c(Q))return Q;let J=$.additionalProperties;for(let Y of Object.getOwnPropertyNames(Q)){if(i($.properties,Y)){Q[Y]=y1($.properties[Y],X,Q[Y]);continue}if(_$(J)&&r(J,X,Q[Y])){Q[Y]=y1(J,X,Q[Y]);continue}delete Q[Y]}return Q}function lw($,X,Q){if(!l(Q))return Q;let J=$.additionalProperties,Y=Object.getOwnPropertyNames(Q),[Z,W]=Object.entries($.patternProperties)[0],q=new RegExp(Z);for(let M of Y){if(q.test(M)){Q[M]=y1(W,X,Q[M]);continue}if(_$(J)&&r(J,X,Q[M])){Q[M]=y1(J,X,Q[M]);continue}delete Q[M]}return Q}function tw($,X,Q){return y1(B0($,X),X,Q)}function sw($,X,Q){return y1(B0($,X),X,Q)}function rw($,X,Q){if(!c(Q))return Q;if(x0($.items))return[];let J=Math.min(Q.length,$.items.length);for(let Y=0;Y<J;Y++)Q[Y]=y1($.items[Y],X,Q[Y]);return Q.length>J?Q.slice(0,J):Q}function aw($,X,Q){for(let J of $.anyOf)if(cw(J)&&r(J,X,Q))return y1(J,X,Q);return Q}function y1($,X,Q){let J=q0($.$id)?N1($,X):X,Y=$;switch(Y[L]){case"Array":return pw(Y,J,Q);case"Import":return iw(Y,J,Q);case"Intersect":return nw(Y,J,Q);case"Object":return ow(Y,J,Q);case"Record":return lw(Y,J,Q);case"Ref":return tw(Y,J,Q);case"This":return sw(Y,J,Q);case"Tuple":return rw(Y,J,Q);case"Union":return aw(Y,J,Q);default:return Q}}function TX(...$){return $.length===3?y1($[0],$[1],$[2]):y1($[0],[],$[1])}function bX($){return q0($)&&!isNaN($)&&!isNaN(parseFloat($))}function ew($){return z1($)||y2($)||u($)}function I6($){return $===!0||u($)&&$===1||z1($)&&$===BigInt("1")||q0($)&&($.toLowerCase()==="true"||$==="1")}function T6($){return $===!1||u($)&&($===0||Object.is($,-0))||z1($)&&$===BigInt("0")||q0($)&&($.toLowerCase()==="false"||$==="0"||$==="-0")}function $U($){return q0($)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test($)}function XU($){return q0($)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test($)}function QU($){return q0($)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test($)}function JU($){return q0($)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test($)}function YU($){return q0($)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test($)}function ZU($,X){let Q=sZ($);return Q===X?Q:$}function WU($,X){let Q=rZ($);return Q===X?Q:$}function qU($,X){let Q=tZ($);return Q===X?Q:$}function MU($,X){return q0($.const)?ZU(X,$.const):u($.const)?WU(X,$.const):y2($.const)?qU(X,$.const):X}function tZ($){return I6($)?!0:T6($)?!1:$}function BU($){let X=(Q)=>Q.split(".")[0];return bX($)?BigInt(X($)):u($)?BigInt(Math.trunc($)):T6($)?BigInt(0):I6($)?BigInt(1):$}function sZ($){return a2($)&&$.description!==void 0?$.description.toString():ew($)?$.toString():$}function rZ($){return bX($)?parseFloat($):I6($)?1:T6($)?0:$}function GU($){return bX($)?parseInt($):u($)?Math.trunc($):I6($)?1:T6($)?0:$}function NU($){return q0($)&&$.toLowerCase()==="null"?null:$}function wU($){return q0($)&&$==="undefined"?void 0:$}function UU($){return V1($)?$:u($)?new Date($):I6($)?new Date(1):T6($)?new Date(0):bX($)?new Date(parseInt($)):XU($)?new Date(`1970-01-01T${$}.000Z`):$U($)?new Date(`1970-01-01T${$}`):JU($)?new Date(`${$}.000Z`):QU($)?new Date($):YU($)?new Date(`${$}T00:00:00.000Z`):$}function zU($){return $}function HU($,X,Q){return(c(Q)?Q:[Q]).map((Y)=>j2($.items,X,Y))}function AU($,X,Q){return BU(Q)}function DU($,X,Q){return tZ(Q)}function OU($,X,Q){return UU(Q)}function PU($,X,Q){let J=globalThis.Object.values($.$defs),Y=$.$defs[$.$ref];return j2(Y,[...X,...J],Q)}function LU($,X,Q){return GU(Q)}function KU($,X,Q){return $.allOf.reduce((J,Y)=>j2(Y,X,J),Q)}function SU($,X,Q){return MU($,Q)}function CU($,X,Q){return NU(Q)}function jU($,X,Q){return rZ(Q)}function FU($,X,Q){if(!l(Q)||c(Q))return Q;for(let J of Object.getOwnPropertyNames($.properties)){if(!i(Q,J))continue;Q[J]=j2($.properties[J],X,Q[J])}return Q}function RU($,X,Q){if(!(l(Q)&&!c(Q)))return Q;let Y=Object.getOwnPropertyNames($.patternProperties)[0],Z=$.patternProperties[Y];for(let[W,q]of Object.entries(Q))Q[W]=j2(Z,X,q);return Q}function VU($,X,Q){return j2(B0($,X),X,Q)}function _U($,X,Q){return sZ(Q)}function EU($,X,Q){return q0(Q)||u(Q)?Symbol(Q):Q}function xU($,X,Q){return j2(B0($,X),X,Q)}function IU($,X,Q){if(!(c(Q)&&!x0($.items)))return Q;return Q.map((Y,Z)=>{return Z<$.items.length?j2($.items[Z],X,Y):Y})}function TU($,X,Q){return wU(Q)}function bU($,X,Q){for(let J of $.anyOf)if(r(J,X,Q))return Q;for(let J of $.anyOf){let Y=j2(J,X,N0(Q));if(!r(J,X,Y))continue;return Y}return Q}function j2($,X,Q){let J=N1($,X),Y=$;switch($[L]){case"Array":return HU(Y,J,Q);case"BigInt":return AU(Y,J,Q);case"Boolean":return DU(Y,J,Q);case"Date":return OU(Y,J,Q);case"Import":return PU(Y,J,Q);case"Integer":return LU(Y,J,Q);case"Intersect":return KU(Y,J,Q);case"Literal":return SU(Y,J,Q);case"Null":return CU(Y,J,Q);case"Number":return jU(Y,J,Q);case"Object":return FU(Y,J,Q);case"Record":return RU(Y,J,Q);case"Ref":return VU(Y,J,Q);case"String":return _U(Y,J,Q);case"Symbol":return EU(Y,J,Q);case"This":return xU(Y,J,Q);case"Tuple":return IU(Y,J,Q);case"Undefined":return TU(Y,J,Q);case"Union":return bU(Y,J,Q);default:return zU(Q)}}function kX(...$){return $.length===3?j2($[0],$[1],$[2]):j2($[0],[],$[1])}class b6 extends p{constructor($,X,Q){super("Unable to decode value as it does not match the expected schema");this.schema=$,this.value=X,this.error=Q}}class gX extends p{constructor($,X,Q,J){super(J instanceof Error?J.message:"Unknown error");this.schema=$,this.path=X,this.value=Q,this.error=J}}function f0($,X,Q){try{return U0($)?$[C0].Decode(Q):Q}catch(J){throw new gX($,X,Q,J)}}function kU($,X,Q,J){return c(J)?f0($,Q,J.map((Y,Z)=>F2($.items,X,`${Q}/${Z}`,Y))):f0($,Q,J)}function gU($,X,Q,J){if(!l(J)||u1(J))return f0($,Q,J);let Y=AX($),Z=Y.map((B)=>B[0]),W={...J};for(let[B,N]of Y)if(B in W)W[B]=F2(N,X,`${Q}/${B}`,W[B]);if(!U0($.unevaluatedProperties))return f0($,Q,W);let q=Object.getOwnPropertyNames(W),M=$.unevaluatedProperties,G={...W};for(let B of q)if(!Z.includes(B))G[B]=f0(M,`${Q}/${B}`,G[B]);return f0($,Q,G)}function fU($,X,Q,J){let Y=globalThis.Object.values($.$defs),Z=$.$defs[$.$ref],W=F2(Z,[...X,...Y],Q,J);return f0($,Q,W)}function yU($,X,Q,J){return f0($,Q,F2($.not,X,Q,J))}function vU($,X,Q,J){if(!l(J))return f0($,Q,J);let Y=g1($),Z={...J};for(let G of Y){if(!i(Z,G))continue;if(x0(Z[G])&&(!X$($.properties[G])||V0.IsExactOptionalProperty(Z,G)))continue;Z[G]=F2($.properties[G],X,`${Q}/${G}`,Z[G])}if(!g0($.additionalProperties))return f0($,Q,Z);let W=Object.getOwnPropertyNames(Z),q=$.additionalProperties,M={...Z};for(let G of W)if(!Y.includes(G))M[G]=f0(q,`${Q}/${G}`,M[G]);return f0($,Q,M)}function dU($,X,Q,J){if(!l(J))return f0($,Q,J);let Y=Object.getOwnPropertyNames($.patternProperties)[0],Z=new RegExp(Y),W={...J};for(let B of Object.getOwnPropertyNames(J))if(Z.test(B))W[B]=F2($.patternProperties[Y],X,`${Q}/${B}`,W[B]);if(!g0($.additionalProperties))return f0($,Q,W);let q=Object.getOwnPropertyNames(W),M=$.additionalProperties,G={...W};for(let B of q)if(!Z.test(B))G[B]=f0(M,`${Q}/${B}`,G[B]);return f0($,Q,G)}function hU($,X,Q,J){let Y=B0($,X);return f0($,Q,F2(Y,X,Q,J))}function mU($,X,Q,J){let Y=B0($,X);return f0($,Q,F2(Y,X,Q,J))}function uU($,X,Q,J){return c(J)&&c($.items)?f0($,Q,$.items.map((Y,Z)=>F2(Y,X,`${Q}/${Z}`,J[Z]))):f0($,Q,J)}function cU($,X,Q,J){for(let Y of $.anyOf){if(!r(Y,X,J))continue;let Z=F2(Y,X,Q,J);return f0($,Q,Z)}return f0($,Q,J)}function F2($,X,Q,J){let Y=N1($,X),Z=$;switch($[L]){case"Array":return kU(Z,Y,Q,J);case"Import":return fU(Z,Y,Q,J);case"Intersect":return gU(Z,Y,Q,J);case"Not":return yU(Z,Y,Q,J);case"Object":return vU(Z,Y,Q,J);case"Record":return dU(Z,Y,Q,J);case"Ref":return hU(Z,Y,Q,J);case"Symbol":return f0(Z,Q,J);case"This":return mU(Z,Y,Q,J);case"Tuple":return uU(Z,Y,Q,J);case"Union":return cU(Z,Y,Q,J);default:return f0(Z,Q,J)}}function p8($,X,Q){return F2($,X,"",Q)}class k6 extends p{constructor($,X,Q){super("The encoded value does not match the expected schema");this.schema=$,this.value=X,this.error=Q}}class aZ extends p{constructor($,X,Q,J){super(`${J instanceof Error?J.message:"Unknown error"}`);this.schema=$,this.path=X,this.value=Q,this.error=J}}function H1($,X,Q){try{return U0($)?$[C0].Encode(Q):Q}catch(J){throw new aZ($,X,Q,J)}}function pU($,X,Q,J){let Y=H1($,Q,J);return c(Y)?Y.map((Z,W)=>R2($.items,X,`${Q}/${W}`,Z)):Y}function iU($,X,Q,J){let Y=globalThis.Object.values($.$defs),Z=$.$defs[$.$ref],W=H1($,Q,J);return R2(Z,[...X,...Y],Q,W)}function nU($,X,Q,J){let Y=H1($,Q,J);if(!l(J)||u1(J))return Y;let Z=AX($),W=Z.map((N)=>N[0]),q={...Y};for(let[N,P]of Z)if(N in q)q[N]=R2(P,X,`${Q}/${N}`,q[N]);if(!U0($.unevaluatedProperties))return q;let M=Object.getOwnPropertyNames(q),G=$.unevaluatedProperties,B={...q};for(let N of M)if(!W.includes(N))B[N]=H1(G,`${Q}/${N}`,B[N]);return B}function oU($,X,Q,J){return H1($.not,Q,H1($,Q,J))}function lU($,X,Q,J){let Y=H1($,Q,J);if(!l(Y))return Y;let Z=g1($),W={...Y};for(let B of Z){if(!i(W,B))continue;if(x0(W[B])&&(!X$($.properties[B])||V0.IsExactOptionalProperty(W,B)))continue;W[B]=R2($.properties[B],X,`${Q}/${B}`,W[B])}if(!g0($.additionalProperties))return W;let q=Object.getOwnPropertyNames(W),M=$.additionalProperties,G={...W};for(let B of q)if(!Z.includes(B))G[B]=H1(M,`${Q}/${B}`,G[B]);return G}function tU($,X,Q,J){let Y=H1($,Q,J);if(!l(J))return Y;let Z=Object.getOwnPropertyNames($.patternProperties)[0],W=new RegExp(Z),q={...Y};for(let N of Object.getOwnPropertyNames(J))if(W.test(N))q[N]=R2($.patternProperties[Z],X,`${Q}/${N}`,q[N]);if(!g0($.additionalProperties))return q;let M=Object.getOwnPropertyNames(q),G=$.additionalProperties,B={...q};for(let N of M)if(!W.test(N))B[N]=H1(G,`${Q}/${N}`,B[N]);return B}function sU($,X,Q,J){let Y=B0($,X),Z=R2(Y,X,Q,J);return H1($,Q,Z)}function rU($,X,Q,J){let Y=B0($,X),Z=R2(Y,X,Q,J);return H1($,Q,Z)}function aU($,X,Q,J){let Y=H1($,Q,J);return c($.items)?$.items.map((Z,W)=>R2(Z,X,`${Q}/${W}`,Y[W])):[]}function eU($,X,Q,J){for(let Y of $.anyOf){if(!r(Y,X,J))continue;let Z=R2(Y,X,Q,J);return H1($,Q,Z)}for(let Y of $.anyOf){let Z=R2(Y,X,Q,J);if(!r($,X,Z))continue;return H1($,Q,Z)}return H1($,Q,J)}function R2($,X,Q,J){let Y=N1($,X),Z=$;switch($[L]){case"Array":return pU(Z,Y,Q,J);case"Import":return iU(Z,Y,Q,J);case"Intersect":return nU(Z,Y,Q,J);case"Not":return oU(Z,Y,Q,J);case"Object":return lU(Z,Y,Q,J);case"Record":return tU(Z,Y,Q,J);case"Ref":return sU(Z,Y,Q,J);case"This":return rU(Z,Y,Q,J);case"Tuple":return aU(Z,Y,Q,J);case"Union":return eU(Z,Y,Q,J);default:return H1(Z,Q,J)}}function i8($,X,Q){return R2($,X,"",Q)}function $z($,X){return U0($)||q1($.items,X)}function Xz($,X){return U0($)||q1($.items,X)}function Qz($,X){return U0($)||q1($.returns,X)||$.parameters.some((Q)=>q1(Q,X))}function Jz($,X){return U0($)||q1($.returns,X)||$.parameters.some((Q)=>q1(Q,X))}function Yz($,X){return U0($)||U0($.unevaluatedProperties)||$.allOf.some((Q)=>q1(Q,X))}function Zz($,X){let Q=globalThis.Object.getOwnPropertyNames($.$defs).reduce((Y,Z)=>[...Y,$.$defs[Z]],[]),J=$.$defs[$.$ref];return U0($)||q1(J,[...Q,...X])}function Wz($,X){return U0($)||q1($.items,X)}function qz($,X){return U0($)||q1($.not,X)}function Mz($,X){return U0($)||Object.values($.properties).some((Q)=>q1(Q,X))||g0($.additionalProperties)&&q1($.additionalProperties,X)}function Bz($,X){return U0($)||q1($.item,X)}function Gz($,X){let Q=Object.getOwnPropertyNames($.patternProperties)[0],J=$.patternProperties[Q];return U0($)||q1(J,X)||g0($.additionalProperties)&&U0($.additionalProperties)}function Nz($,X){if(U0($))return!0;return q1(B0($,X),X)}function wz($,X){if(U0($))return!0;return q1(B0($,X),X)}function Uz($,X){return U0($)||!x0($.items)&&$.items.some((Q)=>q1(Q,X))}function zz($,X){return U0($)||$.anyOf.some((Q)=>q1(Q,X))}function q1($,X){let Q=N1($,X),J=$;if($.$id&&YJ.has($.$id))return!1;if($.$id)YJ.add($.$id);switch($[L]){case"Array":return $z(J,Q);case"AsyncIterator":return Xz(J,Q);case"Constructor":return Qz(J,Q);case"Function":return Jz(J,Q);case"Import":return Zz(J,Q);case"Intersect":return Yz(J,Q);case"Iterator":return Wz(J,Q);case"Not":return qz(J,Q);case"Object":return Mz(J,Q);case"Promise":return Bz(J,Q);case"Record":return Gz(J,Q);case"Ref":return Nz(J,Q);case"This":return wz(J,Q);case"Tuple":return Uz(J,Q);case"Union":return zz(J,Q);default:return U0($)}}var YJ=new Set;function q$($,X){return YJ.clear(),q1($,X)}function eZ(...$){let[X,Q,J]=$.length===3?[$[0],$[1],$[2]]:[$[0],[],$[1]];if(!r(X,Q,J))throw new b6(X,J,h2(X,Q,J).First());return q$(X,Q)?p8(X,Q,J):J}function M$($,X){let Q=i($,"default")?$.default:void 0,J=R$(Q)?Q():N0(Q);return x0(X)?J:l(X)&&l(J)?Object.assign(J,X):X}function ZJ($){return _$($)&&"default"in $}function Hz($,X,Q){if(c(Q)){for(let Y=0;Y<Q.length;Y++)Q[Y]=E1($.items,X,Q[Y]);return Q}let J=M$($,Q);if(!c(J))return J;for(let Y=0;Y<J.length;Y++)J[Y]=E1($.items,X,J[Y]);return J}function Az($,X,Q){return V1(Q)?Q:M$($,Q)}function Dz($,X,Q){let J=globalThis.Object.values($.$defs),Y=$.$defs[$.$ref];return E1(Y,[...X,...J],Q)}function Oz($,X,Q){let J=M$($,Q);return $.allOf.reduce((Y,Z)=>{let W=E1(Z,X,J);return l(W)?{...Y,...W}:W},{})}function Pz($,X,Q){let J=M$($,Q);if(!l(J))return J;let Y=Object.getOwnPropertyNames($.properties);for(let Z of Y){let W=E1($.properties[Z],X,J[Z]);if(x0(W))continue;J[Z]=E1($.properties[Z],X,J[Z])}if(!ZJ($.additionalProperties))return J;for(let Z of Object.getOwnPropertyNames(J)){if(Y.includes(Z))continue;J[Z]=E1($.additionalProperties,X,J[Z])}return J}function Lz($,X,Q){let J=M$($,Q);if(!l(J))return J;let Y=$.additionalProperties,[Z,W]=Object.entries($.patternProperties)[0],q=new RegExp(Z);for(let M of Object.getOwnPropertyNames(J)){if(!(q.test(M)&&ZJ(W)))continue;J[M]=E1(W,X,J[M])}if(!ZJ(Y))return J;for(let M of Object.getOwnPropertyNames(J)){if(q.test(M))continue;J[M]=E1(Y,X,J[M])}return J}function Kz($,X,Q){return E1(B0($,X),X,M$($,Q))}function Sz($,X,Q){return E1(B0($,X),X,Q)}function Cz($,X,Q){let J=M$($,Q);if(!c(J)||x0($.items))return J;let[Y,Z]=[$.items,Math.max($.items.length,J.length)];for(let W=0;W<Z;W++)if(W<Y.length)J[W]=E1(Y[W],X,J[W]);return J}function jz($,X,Q){let J=M$($,Q);for(let Y of $.anyOf){let Z=E1(Y,X,N0(J));if(r(Y,X,Z))return Z}return J}function E1($,X,Q){let J=N1($,X),Y=$;switch(Y[L]){case"Array":return Hz(Y,J,Q);case"Date":return Az(Y,J,Q);case"Import":return Dz(Y,J,Q);case"Intersect":return Oz(Y,J,Q);case"Object":return Pz(Y,J,Q);case"Record":return Lz(Y,J,Q);case"Ref":return Kz(Y,J,Q);case"This":return Sz(Y,J,Q);case"Tuple":return Cz(Y,J,Q);case"Union":return jz(Y,J,Q);default:return M$(Y,Q)}}function fX(...$){return $.length===3?E1($[0],$[1],$[2]):E1($[0],[],$[1])}var V2={};F$(V2,{ValuePointerRootSetError:()=>WJ,ValuePointerRootDeleteError:()=>qJ,Set:()=>Fz,Has:()=>Vz,Get:()=>_z,Format:()=>g6,Delete:()=>Rz});class WJ extends p{constructor($,X,Q){super("Cannot set root value");this.value=$,this.path=X,this.update=Q}}class qJ extends p{constructor($,X){super("Cannot delete root value");this.value=$,this.path=X}}function $W($){return $.indexOf("~")===-1?$:$.replace(/~1/g,"/").replace(/~0/g,"~")}function*g6($){if($==="")return;let[X,Q]=[0,0];for(let J=0;J<$.length;J++)if($.charAt(J)==="/")if(J===0)X=J+1;else Q=J,yield $W($.slice(X,Q)),X=J+1;else Q=J;yield $W($.slice(X))}function Fz($,X,Q){if(X==="")throw new WJ($,X,Q);let[J,Y,Z]=[null,$,""];for(let W of g6(X)){if(Y[W]===void 0)Y[W]={};J=Y,Y=Y[W],Z=W}J[Z]=Q}function Rz($,X){if(X==="")throw new qJ($,X);let[Q,J,Y]=[null,$,""];for(let Z of g6(X)){if(J[Z]===void 0||J[Z]===null)return;Q=J,J=J[Z],Y=Z}if(Array.isArray(Q)){let Z=parseInt(Y);Q.splice(Z,1)}else delete Q[Y]}function Vz($,X){if(X==="")return!0;let[Q,J,Y]=[null,$,""];for(let Z of g6(X)){if(J[Z]===void 0)return!1;Q=J,J=J[Z],Y=Z}return Object.getOwnPropertyNames(Q).includes(Y)}function _z($,X){if(X==="")return $;let Q=$;for(let J of g6(X)){if(Q[J]===void 0)return;Q=Q[J]}return Q}function Ez($,X){if(!l(X))return!1;let Q=[...Object.keys($),...Object.getOwnPropertySymbols($)],J=[...Object.keys(X),...Object.getOwnPropertySymbols(X)];if(Q.length!==J.length)return!1;return Q.every((Y)=>X8($[Y],X[Y]))}function xz($,X){return V1(X)&&$.getTime()===X.getTime()}function Iz($,X){if(!c(X)||$.length!==X.length)return!1;return $.every((Q,J)=>X8(Q,X[J]))}function Tz($,X){if(!$2(X)||$.length!==X.length||Object.getPrototypeOf($).constructor.name!==Object.getPrototypeOf(X).constructor.name)return!1;return $.every((Q,J)=>X8(Q,X[J]))}function bz($,X){return $===X}function X8($,X){if(V1($))return xz($,X);if($2($))return Tz($,X);if(c($))return Iz($,X);if(l($))return Ez($,X);if(u1($))return bz($,X);throw Error("ValueEquals: Unable to compare value")}var kz=H0({type:W0("insert"),path:_1(),value:O2()}),gz=H0({type:W0("update"),path:_1(),value:O2()}),fz=H0({type:W0("delete"),path:_1()}),QW=z0([kz,gz,fz]);class MJ extends p{constructor($,X){super(X);this.value=$}}function yX($,X){return{type:"update",path:$,value:X}}function JW($,X){return{type:"insert",path:$,value:X}}function YW($){return{type:"delete",path:$}}function XW($){if(globalThis.Object.getOwnPropertySymbols($).length>0)throw new MJ($,"Cannot diff objects with symbols")}function*yz($,X,Q){if(XW(X),XW(Q),!TQ(Q))return yield yX($,Q);let J=globalThis.Object.getOwnPropertyNames(X),Y=globalThis.Object.getOwnPropertyNames(Q);for(let Z of Y){if(i(X,Z))continue;yield JW(`${$}/${Z}`,Q[Z])}for(let Z of J){if(!i(Q,Z))continue;if(X8(X,Q))continue;yield*vX(`${$}/${Z}`,X[Z],Q[Z])}for(let Z of J){if(i(Q,Z))continue;yield YW(`${$}/${Z}`)}}function*vz($,X,Q){if(!c(Q))return yield yX($,Q);for(let J=0;J<Math.min(X.length,Q.length);J++)yield*vX(`${$}/${J}`,X[J],Q[J]);for(let J=0;J<Q.length;J++){if(J<X.length)continue;yield JW(`${$}/${J}`,Q[J])}for(let J=X.length-1;J>=0;J--){if(J<Q.length)continue;yield YW(`${$}/${J}`)}}function*dz($,X,Q){if(!$2(Q)||X.length!==Q.length||globalThis.Object.getPrototypeOf(X).constructor.name!==globalThis.Object.getPrototypeOf(Q).constructor.name)return yield yX($,Q);for(let J=0;J<Math.min(X.length,Q.length);J++)yield*vX(`${$}/${J}`,X[J],Q[J])}function*hz($,X,Q){if(X===Q)return;yield yX($,Q)}function*vX($,X,Q){if(TQ(X))return yield*yz($,X,Q);if(c(X))return yield*vz($,X,Q);if($2(X))return yield*dz($,X,Q);if(u1(X))return yield*hz($,X,Q);throw new MJ(X,"Unable to diff value")}function ZW($,X){return[...vX("",$,X)]}function mz($){return $.length>0&&$[0].path===""&&$[0].type==="update"}function uz($){return $.length===0}function WW($,X){if(mz(X))return N0(X[0].value);if(uz(X))return N0($);let Q=N0($);for(let J of X)switch(J.type){case"insert":{V2.Set(Q,J.path,J.value);break}case"update":{V2.Set(Q,J.path,J.value);break}case"delete":{V2.Delete(Q,J.path);break}}return Q}function qW(...$){let[X,Q,J]=$.length===3?[$[0],$[1],$[2]]:[$[0],[],$[1]],Y=q$(X,Q)?i8(X,Q,J):J;if(!r(X,Q,Y))throw new k6(X,Y,h2(X,Q,Y).First());return Y}function dX($){return l($)&&!c($)}class BJ extends p{constructor($){super($)}}function cz($,X,Q,J){if(!dX(Q))V2.Set($,X,N0(J));else{let Y=Object.getOwnPropertyNames(Q),Z=Object.getOwnPropertyNames(J);for(let W of Y)if(!Z.includes(W))delete Q[W];for(let W of Z)if(!Y.includes(W))Q[W]=null;for(let W of Z)GJ($,`${X}/${W}`,Q[W],J[W])}}function pz($,X,Q,J){if(!c(Q))V2.Set($,X,N0(J));else{for(let Y=0;Y<J.length;Y++)GJ($,`${X}/${Y}`,Q[Y],J[Y]);Q.splice(J.length)}}function iz($,X,Q,J){if($2(Q)&&Q.length===J.length)for(let Y=0;Y<Q.length;Y++)Q[Y]=J[Y];else V2.Set($,X,N0(J))}function nz($,X,Q,J){if(Q===J)return;V2.Set($,X,J)}function GJ($,X,Q,J){if(c(J))return pz($,X,Q,J);if($2(J))return iz($,X,Q,J);if(dX(J))return cz($,X,Q,J);if(u1(J))return nz($,X,Q,J)}function MW($){return $2($)||u1($)}function oz($,X){return dX($)&&c(X)||c($)&&dX(X)}function BW($,X){if(MW($)||MW(X))throw new BJ("Only object and array types can be mutated at the root level");if(oz($,X))throw new BJ("Cannot assign due type mismatch of assignable values");GJ($,"",$,X)}class wJ extends p{constructor($){super($)}}var NJ;(function($){let X=new Map([["Assert",(Z,W,q)=>{return IX(Z,W,q),q}],["Cast",(Z,W,q)=>x6(Z,W,q)],["Clean",(Z,W,q)=>TX(Z,W,q)],["Clone",(Z,W,q)=>N0(q)],["Convert",(Z,W,q)=>kX(Z,W,q)],["Decode",(Z,W,q)=>q$(Z,W)?p8(Z,W,q):q],["Default",(Z,W,q)=>fX(Z,W,q)],["Encode",(Z,W,q)=>q$(Z,W)?i8(Z,W,q):q]]);function Q(Z){X.delete(Z)}$.Delete=Q;function J(Z,W){X.set(Z,W)}$.Set=J;function Y(Z){return X.get(Z)}$.Get=Y})(NJ||(NJ={}));var GW=["Clone","Clean","Default","Convert","Assert","Decode"];function lz($,X,Q,J){return $.reduce((Y,Z)=>{let W=NJ.Get(Z);if(x0(W))throw new wJ(`Unable to find Parse operation '${Z}'`);return W(X,Q,Y)},J)}function NW(...$){let[X,Q,J,Y]=$.length===4?[$[0],$[1],$[2],$[3]]:$.length===3?c($[0])?[$[0],$[1],[],$[2]]:[GW,$[0],$[1],$[2]]:$.length===2?[GW,$[0],[],$[1]]:(()=>{throw new wJ("Invalid Arguments")})();return lz(X,Q,J,Y)}var S0={};F$(S0,{ValueErrorIterator:()=>$8,Patch:()=>WW,Parse:()=>NW,Mutate:()=>BW,Hash:()=>f$,Errors:()=>h2,Equal:()=>X8,Encode:()=>qW,Edit:()=>QW,Diff:()=>ZW,Default:()=>fX,Decode:()=>eZ,Create:()=>S2,Convert:()=>kX,Clone:()=>N0,Clean:()=>TX,Check:()=>r,Cast:()=>x6,Assert:()=>IX});class wW{constructor($,X,Q,J){this.schema=$,this.references=X,this.checkFunc=Q,this.code=J,this.hasTransform=q$($,X)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors($){return h2(this.schema,this.references,$)}Check($){return this.checkFunc($)}Decode($){if(!this.checkFunc($))throw new b6(this.schema,$,this.Errors($).First());return this.hasTransform?p8(this.schema,this.references,$):$}Encode($){let X=this.hasTransform?i8(this.schema,this.references,$):$;if(!this.checkFunc(X))throw new k6(this.schema,$,this.Errors($).First());return X}}var B$;(function($){function X(Z){return Z===36}$.DollarSign=X;function Q(Z){return Z===95}$.IsUnderscore=Q;function J(Z){return Z>=65&&Z<=90||Z>=97&&Z<=122}$.IsAlpha=J;function Y(Z){return Z>=48&&Z<=57}$.IsNumeric=Y})(B$||(B$={}));var hX;(function($){function X(Z){if(Z.length===0)return!1;return B$.IsNumeric(Z.charCodeAt(0))}function Q(Z){if(X(Z))return!1;for(let W=0;W<Z.length;W++){let q=Z.charCodeAt(W);if(!(B$.IsAlpha(q)||B$.IsNumeric(q)||B$.DollarSign(q)||B$.IsUnderscore(q)))return!1}return!0}function J(Z){return Z.replace(/'/g,"\\'")}function Y(Z,W){return Q(W)?`${Z}.${W}`:`${Z}['${J(W)}']`}$.Encode=Y})(hX||(hX={}));var UJ;(function($){function X(Q){let J=[];for(let Y=0;Y<Q.length;Y++){let Z=Q.charCodeAt(Y);if(B$.IsNumeric(Z)||B$.IsAlpha(Z))J.push(Q.charAt(Y));else J.push(`_${Z}_`)}return J.join("").replace(/__/g,"_")}$.Encode=X})(UJ||(UJ={}));var zJ;(function($){function X(Q){return Q.replace(/'/g,"\\'")}$.Escape=X})(zJ||(zJ={}));class UW extends p{constructor($){super("Unknown type");this.schema=$}}class HJ extends p{constructor($){super("Preflight validation check failed to guard for the given schema");this.schema=$}}var Q8;(function($){function X(W,q,M){return V0.ExactOptionalPropertyTypes?`('${q}' in ${W} ? ${M} : true)`:`(${hX.Encode(W,q)} !== undefined ? ${M} : true)`}$.IsExactOptionalProperty=X;function Q(W){return!V0.AllowArrayObject?`(typeof ${W} === 'object' && ${W} !== null && !Array.isArray(${W}))`:`(typeof ${W} === 'object' && ${W} !== null)`}$.IsObjectLike=Q;function J(W){return!V0.AllowArrayObject?`(typeof ${W} === 'object' && ${W} !== null && !Array.isArray(${W}) && !(${W} instanceof Date) && !(${W} instanceof Uint8Array))`:`(typeof ${W} === 'object' && ${W} !== null && !(${W} instanceof Date) && !(${W} instanceof Uint8Array))`}$.IsRecordLike=J;function Y(W){return V0.AllowNaN?`typeof ${W} === 'number'`:`Number.isFinite(${W})`}$.IsNumberLike=Y;function Z(W){return V0.AllowNullVoid?`(${W} === undefined || ${W} === null)`:`${W} === undefined`}$.IsVoidLike=Z})(Q8||(Q8={}));var _2;(function($){function X(U){return U[L]==="Any"||U[L]==="Unknown"}function*Q(U,D,z){yield"true"}function*J(U,D,z){yield"true"}function*Y(U,D,z){yield`Array.isArray(${z})`;let[x,E]=[R1("value","any"),R1("acc","number")];if(u(U.maxItems))yield`${z}.length <= ${U.maxItems}`;if(u(U.minItems))yield`${z}.length >= ${U.minItems}`;let g=$1(U.items,D,"value");if(yield`${z}.every((${x}) => ${g})`,T0(U.contains)||u(U.minContains)||u(U.maxContains)){let t=T0(U.contains)?U.contains:s(),D0=$1(t,D,"value"),i0=u(U.minContains)?[`(count >= ${U.minContains})`]:[],G1=u(U.maxContains)?[`(count <= ${U.maxContains})`]:[],P1=`const count = value.reduce((${E}, ${x}) => ${D0} ? acc + 1 : acc, 0)`,p$=["(count > 0)",...i0,...G1].join(" && ");yield`((${x}) => { ${P1}; return ${p$}})(${z})`}if(U.uniqueItems===!0)yield`((${x}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${z})`}function*Z(U,D,z){yield`(typeof value === 'object' && Symbol.asyncIterator in ${z})`}function*W(U,D,z){if(yield`(typeof ${z} === 'bigint')`,z1(U.exclusiveMaximum))yield`${z} < BigInt(${U.exclusiveMaximum})`;if(z1(U.exclusiveMinimum))yield`${z} > BigInt(${U.exclusiveMinimum})`;if(z1(U.maximum))yield`${z} <= BigInt(${U.maximum})`;if(z1(U.minimum))yield`${z} >= BigInt(${U.minimum})`;if(z1(U.multipleOf))yield`(${z} % BigInt(${U.multipleOf})) === 0`}function*q(U,D,z){yield`(typeof ${z} === 'boolean')`}function*M(U,D,z){yield*G2(U.returns,D,`${z}.prototype`)}function*G(U,D,z){if(yield`(${z} instanceof Date) && Number.isFinite(${z}.getTime())`,u(U.exclusiveMaximumTimestamp))yield`${z}.getTime() < ${U.exclusiveMaximumTimestamp}`;if(u(U.exclusiveMinimumTimestamp))yield`${z}.getTime() > ${U.exclusiveMinimumTimestamp}`;if(u(U.maximumTimestamp))yield`${z}.getTime() <= ${U.maximumTimestamp}`;if(u(U.minimumTimestamp))yield`${z}.getTime() >= ${U.minimumTimestamp}`;if(u(U.multipleOfTimestamp))yield`(${z}.getTime() % ${U.multipleOfTimestamp}) === 0`}function*B(U,D,z){yield`(typeof ${z} === 'function')`}function*N(U,D,z){let x=globalThis.Object.getOwnPropertyNames(U.$defs).reduce((E,g)=>{return[...E,U.$defs[g]]},[]);yield*G2(Z2(U.$ref),[...D,...x],z)}function*P(U,D,z){if(yield`Number.isInteger(${z})`,u(U.exclusiveMaximum))yield`${z} < ${U.exclusiveMaximum}`;if(u(U.exclusiveMinimum))yield`${z} > ${U.exclusiveMinimum}`;if(u(U.maximum))yield`${z} <= ${U.maximum}`;if(u(U.minimum))yield`${z} >= ${U.minimum}`;if(u(U.multipleOf))yield`(${z} % ${U.multipleOf}) === 0`}function*w(U,D,z){let x=U.allOf.map((E)=>$1(E,D,z)).join(" && ");if(U.unevaluatedProperties===!1){let E=F1(`${new RegExp(Y$(U))};`),g=`Object.getOwnPropertyNames(${z}).every(key => ${E}.test(key))`;yield`(${x} && ${g})`}else if(T0(U.unevaluatedProperties)){let E=F1(`${new RegExp(Y$(U))};`),g=`Object.getOwnPropertyNames(${z}).every(key => ${E}.test(key) || ${$1(U.unevaluatedProperties,D,`${z}[key]`)})`;yield`(${x} && ${g})`}else yield`(${x})`}function*H(U,D,z){yield`(typeof value === 'object' && Symbol.iterator in ${z})`}function*A(U,D,z){if(typeof U.const==="number"||typeof U.const==="boolean")yield`(${z} === ${U.const})`;else yield`(${z} === '${zJ.Escape(U.const)}')`}function*S(U,D,z){yield"false"}function*j(U,D,z){yield`(!${$1(U.not,D,z)})`}function*K(U,D,z){yield`(${z} === null)`}function*y(U,D,z){if(yield Q8.IsNumberLike(z),u(U.exclusiveMaximum))yield`${z} < ${U.exclusiveMaximum}`;if(u(U.exclusiveMinimum))yield`${z} > ${U.exclusiveMinimum}`;if(u(U.maximum))yield`${z} <= ${U.maximum}`;if(u(U.minimum))yield`${z} >= ${U.minimum}`;if(u(U.multipleOf))yield`(${z} % ${U.multipleOf}) === 0`}function*o(U,D,z){if(yield Q8.IsObjectLike(z),u(U.minProperties))yield`Object.getOwnPropertyNames(${z}).length >= ${U.minProperties}`;if(u(U.maxProperties))yield`Object.getOwnPropertyNames(${z}).length <= ${U.maxProperties}`;let x=Object.getOwnPropertyNames(U.properties);for(let E of x){let g=hX.Encode(z,E),t=U.properties[E];if(U.required&&U.required.includes(E)){if(yield*G2(t,D,g),Z$(t)||X(t))yield`('${E}' in ${z})`}else{let D0=$1(t,D,g);yield Q8.IsExactOptionalProperty(z,E,D0)}}if(U.additionalProperties===!1)if(U.required&&U.required.length===x.length)yield`Object.getOwnPropertyNames(${z}).length === ${x.length}`;else{let E=`[${x.map((g)=>`'${g}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${z}).every(key => ${E}.includes(key))`}if(typeof U.additionalProperties==="object"){let E=$1(U.additionalProperties,D,`${z}[key]`),g=`[${x.map((t)=>`'${t}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${z}).every(key => ${g}.includes(key) || ${E}))`}}function*n(U,D,z){yield`${z} instanceof Promise`}function*f(U,D,z){if(yield Q8.IsRecordLike(z),u(U.minProperties))yield`Object.getOwnPropertyNames(${z}).length >= ${U.minProperties}`;if(u(U.maxProperties))yield`Object.getOwnPropertyNames(${z}).length <= ${U.maxProperties}`;let[x,E]=Object.entries(U.patternProperties)[0],g=F1(`${new RegExp(x)}`),t=$1(E,D,"value"),D0=T0(U.additionalProperties)?$1(U.additionalProperties,D,z):U.additionalProperties===!1?"false":"true",i0=`(${g}.test(key) ? ${t} : ${D0})`;yield`(Object.entries(${z}).every(([key, value]) => ${i0}))`}function*I(U,D,z){let x=B0(U,D);if(d0.functions.has(U.$ref))return yield`${t0(U.$ref)}(${z})`;yield*G2(x,D,z)}function*k(U,D,z){let x=F1(`${new RegExp(U.source,U.flags)};`);if(yield`(typeof ${z} === 'string')`,u(U.maxLength))yield`${z}.length <= ${U.maxLength}`;if(u(U.minLength))yield`${z}.length >= ${U.minLength}`;yield`${x}.test(${z})`}function*b(U,D,z){if(yield`(typeof ${z} === 'string')`,u(U.maxLength))yield`${z}.length <= ${U.maxLength}`;if(u(U.minLength))yield`${z}.length >= ${U.minLength}`;if(U.pattern!==void 0)yield`${F1(`${new RegExp(U.pattern)};`)}.test(${z})`;if(U.format!==void 0)yield`format('${U.format}', ${z})`}function*_(U,D,z){yield`(typeof ${z} === 'symbol')`}function*V(U,D,z){yield`(typeof ${z} === 'string')`,yield`${F1(`${new RegExp(U.pattern)};`)}.test(${z})`}function*d(U,D,z){yield`${t0(U.$ref)}(${z})`}function*m(U,D,z){if(yield`Array.isArray(${z})`,U.items===void 0)return yield`${z}.length === 0`;yield`(${z}.length === ${U.maxItems})`;for(let x=0;x<U.items.length;x++)yield`${$1(U.items[x],D,`${z}[${x}]`)}`}function*X0(U,D,z){yield`${z} === undefined`}function*R0(U,D,z){yield`(${U.anyOf.map((E)=>$1(E,D,z)).join(" || ")})`}function*e(U,D,z){if(yield`${z} instanceof Uint8Array`,u(U.maxByteLength))yield`(${z}.length <= ${U.maxByteLength})`;if(u(U.minByteLength))yield`(${z}.length >= ${U.minByteLength})`}function*C$(U,D,z){yield"true"}function*j$(U,D,z){yield Q8.IsVoidLike(z)}function*h1(U,D,z){let x=d0.instances.size;d0.instances.set(x,U),yield`kind('${U[L]}', ${x}, ${z})`}function*G2(U,D,z,x=!0){let E=q0(U.$id)?[...D,U]:D,g=U;if(x&&q0(U.$id)){let t=t0(U.$id);if(d0.functions.has(t))return yield`${t}(${z})`;else{d0.functions.set(t,"<deferred>");let D0=g2(t,U,D,"value",!1);return d0.functions.set(t,D0),yield`${t}(${z})`}}switch(g[L]){case"Any":return yield*Q(g,E,z);case"Argument":return yield*J(g,E,z);case"Array":return yield*Y(g,E,z);case"AsyncIterator":return yield*Z(g,E,z);case"BigInt":return yield*W(g,E,z);case"Boolean":return yield*q(g,E,z);case"Constructor":return yield*M(g,E,z);case"Date":return yield*G(g,E,z);case"Function":return yield*B(g,E,z);case"Import":return yield*N(g,E,z);case"Integer":return yield*P(g,E,z);case"Intersect":return yield*w(g,E,z);case"Iterator":return yield*H(g,E,z);case"Literal":return yield*A(g,E,z);case"Never":return yield*S(g,E,z);case"Not":return yield*j(g,E,z);case"Null":return yield*K(g,E,z);case"Number":return yield*y(g,E,z);case"Object":return yield*o(g,E,z);case"Promise":return yield*n(g,E,z);case"Record":return yield*f(g,E,z);case"Ref":return yield*I(g,E,z);case"RegExp":return yield*k(g,E,z);case"String":return yield*b(g,E,z);case"Symbol":return yield*_(g,E,z);case"TemplateLiteral":return yield*V(g,E,z);case"This":return yield*d(g,E,z);case"Tuple":return yield*m(g,E,z);case"Undefined":return yield*X0(g,E,z);case"Union":return yield*R0(g,E,z);case"Uint8Array":return yield*e(g,E,z);case"Unknown":return yield*C$(g,E,z);case"Void":return yield*j$(g,E,z);default:if(!W1.Has(g[L]))throw new UW(U);return yield*h1(g,E,z)}}let d0={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function $1(U,D,z,x=!0){return`(${[...G2(U,D,z,x)].join(" && ")})`}function t0(U){return`check_${UJ.Encode(U)}`}function F1(U){let D=`local_${d0.variables.size}`;return d0.variables.set(D,`const ${D} = ${U}`),D}function g2(U,D,z,x,E=!0){let[g,t]=[`
`,(P1)=>"".padStart(P1," ")],D0=R1("value","any"),i0=f2("boolean"),G1=[...G2(D,z,x,E)].map((P1)=>`${t(4)}${P1}`).join(` &&${g}`);return`function ${U}(${D0})${i0} {${g}${t(2)}return (${g}${G1}${g}${t(2)})
}`}function R1(U,D){let z=d0.language==="typescript"?`: ${D}`:"";return`${U}${z}`}function f2(U){return d0.language==="typescript"?`: ${U}`:""}function D8(U,D,z){let x=g2("check",U,D,"value"),E=R1("value","any"),g=f2("boolean"),t=[...d0.functions.values()],D0=[...d0.variables.values()],i0=q0(U.$id)?`return function check(${E})${g} {
  return ${t0(U.$id)}(value)
}`:`return ${x}`;return[...D0,...t,i0].join(`
`)}function e1(...U){let D={language:"javascript"},[z,x,E]=U.length===2&&c(U[1])?[U[0],U[1],D]:U.length===2&&!c(U[1])?[U[0],[],U[1]]:U.length===3?[U[0],U[1],U[2]]:U.length===1?[U[0],[],D]:[null,[],D];if(d0.language=E.language,d0.variables.clear(),d0.functions.clear(),d0.instances.clear(),!T0(z))throw new HJ(z);for(let g of x)if(!T0(g))throw new HJ(g);return D8(z,x,E)}$.Code=e1;function v(U,D=[]){let z=e1(U,D,{language:"javascript"}),x=globalThis.Function("kind","format","hash",z),E=new Map(d0.instances);function g(G1,P1,p$){if(!W1.Has(G1)||!E.has(P1))return!1;let O8=W1.Get(G1),q7=E.get(P1);return O8(q7,p$)}function t(G1,P1){if(!O0.Has(G1))return!1;return O0.Get(G1)(P1)}function D0(G1){return f$(G1)}let i0=x(g,t,D0);return new wW(U,D,i0,z)}$.Compile=v})(_2||(_2={}));var E2=typeof Bun<"u";var OJ={aac:"audio/aac",abw:"application/x-abiword",ai:"application/postscript",arc:"application/octet-stream",avi:"video/x-msvideo",azw:"application/vnd.amazon.ebook",bin:"application/octet-stream",bz:"application/x-bzip",bz2:"application/x-bzip2",csh:"application/x-csh",css:"text/css",csv:"text/csv",doc:"application/msword",dll:"application/octet-stream",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gif:"image/gif",htm:"text/html",html:"text/html",ico:"image/x-icon",ics:"text/calendar",jar:"application/java-archive",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/javascript",json:"application/json",mid:"audio/midi",midi:"audio/midi",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpa:"video/mpeg",mpe:"video/mpeg",mpeg:"video/mpeg",mpkg:"application/vnd.apple.installer+xml",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",otf:"font/otf",png:"image/png",pdf:"application/pdf",ppt:"application/vnd.ms-powerpoint",rar:"application/x-rar-compressed",rtf:"application/rtf",sh:"application/x-sh",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tar:"application/x-tar",tif:"image/tiff",tiff:"image/tiff",ts:"application/typescript",ttf:"font/ttf",txt:"text/plain",vsd:"application/vnd.visio",wav:"audio/x-wav",weba:"audio/webm",webm:"video/webm",webp:"image/webp",woff:"font/woff",woff2:"font/woff2",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xlsx:"application/vnd.ms-excel",xlsx_OLD:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",xul:"application/vnd.mozilla.xul+xml",zip:"application/zip","3gp":"video/3gpp","3gp_DOES_NOT_CONTAIN_VIDEO":"audio/3gpp","3gp2":"video/3gpp2","3gp2_DOES_NOT_CONTAIN_VIDEO":"audio/3gpp2","7z":"application/x-7z-compressed"},tz=($)=>{let X=$.lastIndexOf(".");return X===-1?"":$.slice(X+1)};var AJ,DJ;class J8{constructor($){if(this.path=$,E2)this.value=Bun.file($);else{if(!AJ||!DJ){if(typeof window<"u"){console.warn("Browser environment does not support file");return}let X=(J)=>console.warn(Error(`[elysia] \`file\` require \`fs${J?"."+J:""}\` ${J?.includes(".")?"module ":""}which is not available in this environment`));if(typeof process>"u"||typeof process.getBuiltinModule!="function"){X();return}let Q=process.getBuiltinModule("fs");if(!Q){X();return}if(typeof Q.createReadStream!="function"){X();return}if(typeof Q.promises?.stat!="function"){X();return}AJ=Q.createReadStream,DJ=Q.promises.stat}this.value=AJ($),this.stats=DJ($)}}get type(){return OJ[tz(this.path)]||"application/octet-stream"}get length(){return E2?this.value.size:this.stats?.then(($)=>$.size)??0}}var f6="toJSON"in new Headers,uX=($,X)=>{let Q=new URL($);return Q.pathname=X,Q.toString()},sz=($)=>typeof $=="function"&&/^\s*class\s+/.test($.toString())||$.toString&&$.toString().startsWith("[object ")&&$.toString()!=="[object Object]"||A0(Object.getPrototypeOf($)),PJ=($)=>$&&typeof $=="object"&&!Array.isArray($),Y1=($,X,Q)=>{let J=Q?.skipKeys,Y=Q?.override??!0,Z=Q?.mergeArray??!1;if(!PJ($)||!PJ(X))return $;for(let[W,q]of Object.entries(X))if(!J?.includes(W)){if(Z&&Array.isArray(q)){$[W]=Array.isArray($[W])?[...$[W],...q]:$[W]=q;continue}if(!PJ(q)||!(W in $)||sz(q)){if((Y||!(W in $))&&!Object.isFrozen($))try{$[W]=q}catch{}continue}if(!Object.isFrozen($[W]))try{$[W]=Y1($[W],q,{skipKeys:J,override:Y,mergeArray:Z})}catch{}}return $},y6=($,X)=>{let Q=Y1(Object.assign({},$),X,{skipKeys:["properties"],mergeArray:!1});return Q.properties&&delete Q.properties,Q},y0=($,X)=>{if(!X)return $;let Q=[],J=[];if($){Array.isArray($)||($=[$]);for(let Y of $)Q.push(Y),Y.checksum&&J.push(Y.checksum)}if(X){Array.isArray(X)||(X=[X]);for(let Y of X)J.includes(Y.checksum)||Q.push(Y)}return Q},rz=["start","request","parse","transform","resolve","beforeHandle","afterHandle","mapResponse","afterResponse","trace","error","stop","body","headers","params","query","response","type","detail"],xx=rz.reduce(($,X)=>($[X]=!0,$),{}),mX=($)=>typeof $=="object"&&Object.keys($).every((X)=>!isNaN(+X)),HW=($,X)=>mX($)&&mX(X)?Object.assign({},$,X):$&&!mX($)&&mX(X)?Object.assign({200:$},X):X??$,n8=($,X)=>!$&&!X?{body:void 0,headers:void 0,params:void 0,query:void 0,cookie:void 0,response:void 0}:{body:X?.body??$?.body,headers:X?.headers??$?.headers,params:X?.params??$?.params,query:X?.query??$?.query,cookie:X?.cookie??$?.cookie,response:HW($?.response,X?.response)},N$=($,X)=>{if(!X)return $??{};if(!$)return X??{};if(!Object.values(X).find((J)=>J!=null))return{...$};let Q={...$,...X,body:X.body??$.body,headers:X.headers??$.headers,params:X.params??$.params,query:X.query??$.query,cookie:X.cookie??$.cookie,response:HW($.response,X.response),type:$.type||X.type,detail:Y1(X.detail??{},$.detail??{}),parse:y0($.parse,X.parse),transform:y0($.transform,X.transform),beforeHandle:y0(y0(J1($.resolve,"resolve"),$.beforeHandle),y0(J1(X.resolve,"resolve"),X.beforeHandle)),afterHandle:y0($.afterHandle,X.afterHandle),mapResponse:y0($.mapResponse,X.mapResponse),afterResponse:y0($.afterResponse,X.afterResponse),trace:y0($.trace,X.trace),error:y0($.error,X.error),standaloneSchema:$.standaloneSchema||X.standaloneSchema?$.standaloneSchema&&!X.standaloneSchema?$.standaloneSchema:X.standaloneSchema&&!$.standaloneSchema?X.standaloneSchema:[...$.standaloneSchema??[],...X.standaloneSchema??[]]:void 0};return Q.resolve&&delete Q.resolve,Q},AW=($)=>{$.parse&&!Array.isArray($.parse)&&($.parse=[$.parse]),$.transform&&!Array.isArray($.transform)&&($.transform=[$.transform]),$.afterHandle&&!Array.isArray($.afterHandle)&&($.afterHandle=[$.afterHandle]),$.mapResponse&&!Array.isArray($.mapResponse)&&($.mapResponse=[$.mapResponse]),$.afterResponse&&!Array.isArray($.afterResponse)&&($.afterResponse=[$.afterResponse]),$.trace&&!Array.isArray($.trace)&&($.trace=[$.trace]),$.error&&!Array.isArray($.error)&&($.error=[$.error]);let X=[];return $.resolve&&(X=J1(Array.isArray($.resolve)?$.resolve:[$.resolve],"resolve"),delete $.resolve),$.beforeHandle&&(X.length?X=X.concat(Array.isArray($.beforeHandle)?$.beforeHandle:[$.beforeHandle]):X=Array.isArray($.beforeHandle)?$.beforeHandle:[$.beforeHandle]),X.length&&($.beforeHandle=X),$},az=typeof Bun<"u",Ix=az&&typeof Bun.hash=="function",v$=($)=>{let X=9;for(let Q=0;Q<$.length;)X=Math.imul(X^$.charCodeAt(Q++),387420489);return X=X^X>>>9},x2=($,X)=>{if(!X)return;if(!Array.isArray(X)){let J=X;return $&&!J.checksum&&(J.checksum=$),J.scope==="scoped"&&(J.scope="local"),J}let Q=[...X];for(let J of Q)$&&!J.checksum&&(J.checksum=$),J.scope==="scoped"&&(J.scope="local");return Q},LJ=($,X,Q)=>({start:y0($.start,x2(Q,X?.start)),request:y0($.request,x2(Q,X?.request)),parse:y0($.parse,x2(Q,X?.parse)),transform:y0($.transform,x2(Q,X?.transform)),beforeHandle:y0(y0(J1($.resolve,"resolve"),$.beforeHandle),x2(Q,y0(J1(X?.resolve,"resolve"),X?.beforeHandle))),afterHandle:y0($.afterHandle,x2(Q,X?.afterHandle)),mapResponse:y0($.mapResponse,x2(Q,X?.mapResponse)),afterResponse:y0($.afterResponse,x2(Q,X?.afterResponse)),trace:y0($.trace,x2(Q,X?.trace)),error:y0($.error,x2(Q,X?.error)),stop:y0($.stop,x2(Q,X?.stop))}),DW=($,X,{skipIfHasType:Q=!1})=>{if(!$)return $;if(!Array.isArray($))return Q?$.scope??=X:$.scope=X,$;for(let J of $)Q?J.scope??=X:J.scope=X;return $},y$=($)=>{if(!$)return $;if(!Array.isArray($))switch($.scope){case"global":case"scoped":return{...$};default:return{fn:$}}let X=[];for(let Q of $)switch(Q.scope){case"global":case"scoped":X.push({...Q});break}return X},KJ=($)=>({...$,type:$?.type,detail:$?.detail,parse:y$($?.parse),transform:y$($?.transform),beforeHandle:y$($?.beforeHandle),afterHandle:y$($?.afterHandle),mapResponse:y$($?.mapResponse),afterResponse:y$($?.afterResponse),error:y$($?.error),trace:y$($?.trace)}),w$={Continue:100,"Switching Protocols":101,Processing:102,"Early Hints":103,OK:200,Created:201,Accepted:202,"Non-Authoritative Information":203,"No Content":204,"Reset Content":205,"Partial Content":206,"Multi-Status":207,"Already Reported":208,"Multiple Choices":300,"Moved Permanently":301,Found:302,"See Other":303,"Not Modified":304,"Temporary Redirect":307,"Permanent Redirect":308,"Bad Request":400,Unauthorized:401,"Payment Required":402,Forbidden:403,"Not Found":404,"Method Not Allowed":405,"Not Acceptable":406,"Proxy Authentication Required":407,"Request Timeout":408,Conflict:409,Gone:410,"Length Required":411,"Precondition Failed":412,"Payload Too Large":413,"URI Too Long":414,"Unsupported Media Type":415,"Range Not Satisfiable":416,"Expectation Failed":417,"I'm a teapot":418,"Enhance Your Calm":420,"Misdirected Request":421,"Unprocessable Content":422,Locked:423,"Failed Dependency":424,"Too Early":425,"Upgrade Required":426,"Precondition Required":428,"Too Many Requests":429,"Request Header Fields Too Large":431,"Unavailable For Legal Reasons":451,"Internal Server Error":500,"Not Implemented":501,"Bad Gateway":502,"Service Unavailable":503,"Gateway Timeout":504,"HTTP Version Not Supported":505,"Variant Also Negotiates":506,"Insufficient Storage":507,"Loop Detected":508,"Not Extended":510,"Network Authentication Required":511},cX=Object.fromEntries(Object.entries(w$).map(([$,X])=>[X,$]));function ez($){let X=$;for(;X.endsWith("=");)X=X.slice(0,-1);return X}var zW=new TextEncoder,o8=async($,X)=>{if(typeof $=="object"?$=JSON.stringify($):typeof $!="string"&&($=$+""),X===null)throw TypeError("Secret key must be provided.");let Q=await crypto.subtle.importKey("raw",zW.encode(X),{name:"HMAC",hash:"SHA-256"},!1,["sign"]),J=await crypto.subtle.sign("HMAC",Q,zW.encode($));return $+"."+ez(Buffer.from(J).toString("base64"))},SJ=async($,X)=>{if(typeof $!="string")throw TypeError("Signed cookie string must be provided.");if(X===null)throw TypeError("Secret key must be provided.");let Q=$.slice(0,$.lastIndexOf("."));return await o8(Q,X)===$?Q:!1},OW=($,X,Q)=>{if(!$.standaloneValidator?.length||!Array.isArray($.standaloneValidator)){$.standaloneValidator=[{[X]:Q}];return}let J=$.standaloneValidator[$.standaloneValidator.length-1];X in J?$.standaloneValidator.push({[X]:Q}):J[X]=Q},$H=($)=>{if(typeof $=="number")return $;if($.length<16){if($.trim().length===0)return null;let X=Number($);return Number.isNaN(X)?null:X}if($.length===16){if($.trim().length===0)return null;let X=Number($);return Number.isNaN(X)||X.toString()!==$?null:X}return null},pX=($)=>$H($)!==null;class CJ{constructor($=console.error,X=()=>{}){this.onError=$,this.onFinally=X,this.root=null,this.promises=[]}get size(){return this.promises.length}add($){return this.promises.push($),this.root||=this.drain(),this.promises.length===1&&this.then(this.onFinally),$}async drain(){for(;this.promises.length>0;){try{await this.promises[0]}catch($){this.onError($)}this.promises.shift()}this.root=null}then($,X){return(this.root??Promise.resolve()).then($,X)}}var J1=($,X)=>{if(!$)return $;if(!Array.isArray($)){if(typeof $=="function"||typeof $=="string")return X?{fn:$,subType:X}:{fn:$};if("fn"in $)return $}let Q=[];for(let J of $)typeof J=="function"||typeof J=="string"?Q.push(X?{fn:J,subType:X}:{fn:J}):("fn"in J)&&Q.push(J);return Q},jJ=($)=>($.start&&($.start=J1($.start)),$.request&&($.request=J1($.request)),$.parse&&($.parse=J1($.parse)),$.transform&&($.transform=J1($.transform)),$.beforeHandle&&($.beforeHandle=J1($.beforeHandle)),$.afterHandle&&($.afterHandle=J1($.afterHandle)),$.mapResponse&&($.mapResponse=J1($.mapResponse)),$.afterResponse&&($.afterResponse=J1($.afterResponse)),$.trace&&($.trace=J1($.trace)),$.error&&($.error=J1($.error)),$.stop&&($.stop=J1($.stop)),$),FJ=($)=>{let X=Object.create(null);return $.start?.map&&(X.start=$.start.map((Q)=>Q.fn)),$.request?.map&&(X.request=$.request.map((Q)=>Q.fn)),$.parse?.map&&(X.parse=$.parse.map((Q)=>Q.fn)),$.transform?.map&&(X.transform=$.transform.map((Q)=>Q.fn)),$.beforeHandle?.map&&(X.beforeHandle=$.beforeHandle.map((Q)=>Q.fn)),$.afterHandle?.map&&(X.afterHandle=$.afterHandle.map((Q)=>Q.fn)),$.mapResponse?.map&&(X.mapResponse=$.mapResponse.map((Q)=>Q.fn)),$.afterResponse?.map&&(X.afterResponse=$.afterResponse.map((Q)=>Q.fn)),$.error?.map&&(X.error=$.error.map((Q)=>Q.fn)),$.stop?.map&&(X.stop=$.stop.map((Q)=>Q.fn)),$.trace?.map?X.trace=$.trace.map((Q)=>Q.fn):X.trace=[],X},iX=($)=>({body:$.body,cookie:$.cookie,headers:$.headers,query:$.query,set:$.set,server:$.server,path:$.path,route:$.route,url:$.url}),U$=($,X=302)=>Response.redirect($,X),G$=Symbol("ElysiaFormData"),z$=Symbol("ElysiaRequestId"),RJ=($)=>{let X=new FormData;if(X[G$]={},$)for(let[Q,J]of Object.entries($)){if(Array.isArray(J)){X[G$][Q]=[];for(let Y of J)J instanceof File?X.append(Q,J,J.name):J instanceof J8?X.append(Q,J.value,J.value?.name):X.append(Q,J),X[G$][Q].push(J);continue}J instanceof File?X.append(Q,J,J.name):J instanceof J8?X.append(Q,J.value,J.value?.name):X.append(Q,J),X[G$][Q]=J}return X},d$=typeof crypto>"u"?()=>{let $="",X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Q=X.length;for(let J=0;J<16;J++)$+=X.charAt(Math.floor(Math.random()*Q));return $}:()=>{let $=crypto.randomUUID();return $.slice(0,8)+$.slice(24,32)},VJ=($)=>{if(!$.length)return[];let X=[];for(let Q=0;Q<$.length;Q++){let J=$[Q];J.checksum&&(X.includes(J.checksum)&&($.splice(Q,1),Q--),X.push(J.checksum))}return $},H$=($,X="scoped")=>{if($){if(X==="scoped"){for(let Q of $)"scope"in Q&&Q.scope==="local"&&(Q.scope="scoped");return}for(let Q of $)"scope"in Q&&(Q.scope="global")}},Y8=($)=>$.charCodeAt($.length-1)===47?$.slice(0,$.length-1):$+"/",A0=($)=>{if(!$)return!1;for(let X in $)return!0;return!1},Z8=($,{dynamic:X=!1}={})=>{let Q=encodeURIComponent($).replace(/%2F/g,"/");return X&&(Q=Q.replace(/%3A/g,":").replace(/%3F/g,"?")),Q},nX=!!(typeof Bun>"u"||Bun.semver?.satisfies?.(Bun.version,">=1.2.14"));async function PW($){if($.bodyUsed||!$.body)return 0;let X=0,Q=$.body.getReader();for(;;){let{done:J,value:Y}=await Q.read();if(J)break;X+=Y.byteLength}return X}var LW={headers:!0,cookie:!0,query:!0,params:!0,body:!0,response:!0};var KW=typeof Bun<"u"?Bun.env:typeof process<"u"?process?.env:void 0,W8=Symbol("ElysiaErrorCode"),A$=(KW?.NODE_ENV??KW?.ENV)==="production",XH={101:void 0,204:void 0,205:void 0,304:void 0,307:void 0,308:void 0};class o0{constructor($,X){let Q=X??($ in cX?cX[$]:$);this.code=w$[$]??$,$ in XH?this.response=void 0:this.response=Q}}var m2=($,X)=>new o0($,X);class l8 extends Error{constructor($){super($??"NOT_FOUND");this.code="NOT_FOUND",this.status=404}}class oX extends Error{constructor($){super("Bad Request",{cause:$});this.code="PARSE",this.status=400}}class v6 extends Error{constructor($,X){super(X??`"${$}" has invalid cookie signature`);this.key=$,this.code="INVALID_COOKIE_SIGNATURE",this.status=400}}var M1=($)=>{if(!$)return{summary:void 0};let{message:X,path:Q,value:J,type:Y}=$,Z=Q.slice(1).replaceAll("/","."),W=Q==="";switch(Y){case 42:return{...$,summary:W?"Value should not be provided":`Property '${Z}' should not be provided`};case 45:return{...$,summary:W?"Value is missing":`Property '${Z}' is missing`};case 50:let q=X.indexOf("'"),M=X.slice(q+1,X.indexOf("'",q+1));return{...$,summary:W?"Value should be an email":`Property '${Z}' should be ${M}`};case 54:return{...$,summary:`${X.slice(0,9).trim()} property '${Z}' to be ${X.slice(8).trim()} but found: ${J}`};case 62:let G=$.schema.anyOf.map((B)=>`'${B?.format??B.type}'`).join(", ");return{...$,summary:W?`Value should be one of ${G}`:`Property '${Z}' should be one of: ${G}`};default:return{summary:X,...$}}};class t8 extends Error{constructor($,X,Q=`"${$}" has invalid file type`){super(Q);this.property=$,this.expected=X,this.message=Q,this.code="INVALID_FILE_TYPE",this.status=422,Object.setPrototypeOf(this,t8.prototype)}toResponse($){return A$?new Response(JSON.stringify({type:"validation",on:"body"}),{status:422,headers:{...$,"content-type":"application/json"}}):new Response(JSON.stringify({type:"validation",on:"body",summary:"Invalid file type",message:this.message,property:this.property,expected:this.expected}),{status:422,headers:{...$,"content-type":"application/json"}})}}class a extends Error{constructor($,X,Q,J){let Y="",Z,W,q;if(X?.provider==="standard"||"~standard"in X||X.schema&&"~standard"in X.schema){let M=("~standard"in X?X:X.schema)["~standard"];Z=(J??M.validate(Q).issues)?.[0],A$?Y=JSON.stringify({type:"validation",on:$,found:Q}):Y=JSON.stringify({type:"validation",on:$,property:Z.path?.[0]||"root",message:Z?.message,summary:Z?.problem,expected:W,found:Q,errors:J},null,2),q=Z?.message}else{Q&&typeof Q=="object"&&Q instanceof o0&&(Q=Q.response),Z=J?.First()??("Errors"in X?X.Errors(Q).First():S0.Errors(X,Q).First());let M=Z?.path||"root",G=X?.schema??X;if(!A$)try{W=S0.Create(G)}catch(B){W={type:"Could not create expected value",message:B?.message,error:B}}q=Z?.schema?.message||Z?.schema?.error!==void 0?typeof Z.schema.error=="function"?Z.schema.error(A$?{type:"validation",on:$,found:Q}:{type:"validation",on:$,value:Q,property:M,message:Z?.message,summary:M1(Z).summary,found:Q,expected:W,errors:"Errors"in X?[...X.Errors(Q)].map(M1):[...S0.Errors(X,Q)].map(M1)},X):Z.schema.error:void 0,q!==void 0?Y=typeof q=="object"?JSON.stringify(q):q+"":A$?Y=JSON.stringify({type:"validation",on:$,found:Q}):Y=JSON.stringify({type:"validation",on:$,property:M,message:Z?.message,summary:M1(Z).summary,expected:W,found:Q,errors:"Errors"in X?[...X.Errors(Q)].map(M1):[...S0.Errors(X,Q)].map(M1)},null,2)}super(Y);this.type=$,this.validator=X,this.value=Q,this.code="VALIDATION",this.status=422,this.valueError=Z,this.expected=W,this.customError=q,Object.setPrototypeOf(this,a.prototype)}get all(){return"Errors"in this.validator?[...this.validator.Errors(this.value)].map(M1):[...S0.Errors(this.validator,this.value)].map(M1)}static simplifyModel($){let X="schema"in $?$.schema:$;try{return S0.Create(X)}catch{return X}}get model(){return"~standard"in this.validator?this.validator:a.simplifyModel(this.validator)}toResponse($){return new Response(this.message,{status:400,headers:{...$,"content-type":"application/json"}})}detail($){if(!this.customError)return this.message;let X=this.validator,Q=this.value,J=this.expected,Y=this.all;return A$?{type:"validation",on:this.type,found:Q,message:$}:{type:"validation",on:this.type,property:this.valueError?.path||"root",message:$,summary:M1(this.valueError).summary,found:Q,expected:J,errors:Y}}}var J6=($,X)=>{try{return JSON.parse($)}catch{throw new a("property",X,$)}};function Y6($,X){return W1.Has($)||W1.Set($,X),(Q={})=>EX({...Q,[L]:$})}var i2=($)=>{try{let X=_2.Compile($);return X.Create=()=>S0.Create($),X.Error=(Q)=>new a("property",$,Q,X.Errors(Q)),X}catch{return{Check:(X)=>S0.Check($,X),CheckThrow:(X)=>{if(!S0.Check($,X))throw new a("property",$,X,S0.Errors($,X))},Decode:(X)=>S0.Decode($,X),Create:()=>S0.Create($),Error:(X)=>new a("property",$,X,S0.Errors($,X))}}},A5=($)=>{if(typeof $=="string")switch($.slice(-1)){case"k":return+$.slice(0,$.length-1)*1024;case"m":return+$.slice(0,$.length-1)*1048576;default:return+$}return $},$Q=($,X)=>$.startsWith(X)?!0:X.charCodeAt(X.length-1)===42&&X.charCodeAt(X.length-2)===47&&$.startsWith(X.slice(0,-1)),D5=!1,qA=()=>{D5||(console.warn("[Elysia] Attempt to validate file type without 'file-type'. This may lead to security risks. We recommend installing 'file-type' to properly validate file extension."),D5=!0)},QQ=async()=>Promise.resolve().then(() => (H5(),z5)).then(($)=>(XQ=$.fileTypeFromBlob,XQ)).catch(qA),XQ,MA=($)=>XQ?XQ($):QQ().then((X)=>{if(X)return X($)}),JQ=async($,X,Q=$?.name??"")=>{if(Array.isArray($))return await Promise.all($.map((Y)=>JQ(Y,X,Q))),!0;if(!$)return!1;let J=await MA($);if(!J)throw new t8(Q,X);if(typeof X=="string"&&!$Q(J.mime,X))throw new t8(Q,X);for(let Y=0;Y<X.length;Y++)if($Q(J.mime,X[Y]))return!0;throw new t8(Q,X)},YQ=($,X)=>{if(X instanceof J8)return!0;if(!(X instanceof Blob)||$.minSize&&X.size<A5($.minSize)||$.maxSize&&X.size>A5($.maxSize))return!1;if($.extension){if(typeof $.extension=="string")return $Q(X.type,$.extension);for(let Q=0;Q<$.extension.length;Q++)if($Q(X.type,$.extension[Q]))return!0;return!1}return!0};var iJ={date:j5,time:pJ(!0),"date-time":O5(!0),"iso-time":pJ(!1),"iso-date-time":O5(!1),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:AA,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:CA,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:DA,int32:{type:"number",validate:LA},int64:{type:"number",validate:KA},float:{type:"number",validate:L5},double:{type:"number",validate:L5},password:!0,binary:!0};function BA($){return $%4===0&&($%100!==0||$%400===0)}var GA=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,NA=[0,31,28,31,30,31,30,31,31,30,31,30,31];function j5($){let X=GA.exec($);if(!X)return!1;let Q=+X[1],J=+X[2],Y=+X[3];return J>=1&&J<=12&&Y>=1&&Y<=(J===2&&BA(Q)?29:NA[J])}var wA=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function pJ($){return function(X){let Q=wA.exec(X);if(!Q)return!1;let J=+Q[1],Y=+Q[2],Z=+Q[3],W=Q[4],q=Q[5]==="-"?-1:1,M=+(Q[6]||0),G=+(Q[7]||0);if(M>23||G>59||$&&!W)return!1;if(J<=23&&Y<=59&&Z<60)return!0;let B=Y-G*q,N=J-M*q-(B<0?1:0);return(N===23||N===-1)&&(B===59||B===-1)&&Z<61}}var ZQ=($)=>$.charCodeAt($.length-6)===32?$.slice(0,-6)+"+"+$.slice(-5):$,UA=/t|\s/i;function O5($){let X=pJ($);return function(Q){let J=Q.split(UA);return J.length===2&&j5(J[0])&&X(J[1])}}var zA=/\/|:/,HA=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function AA($){return zA.test($)&&HA.test($)}var P5=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function DA($){return P5.lastIndex=0,P5.test($)}var OA=-2147483648,PA=2147483647;function LA($){return Number.isInteger($)&&$<=PA&&$>=OA}function KA($){return Number.isInteger($)}function L5(){return!0}var SA=/[^\\]\\Z/;function CA($){if(SA.test($))return!1;try{return new RegExp($),!0}catch{return!1}}var K5=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,S5=/(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s\d{2}\s\d{4}\s\d{2}:\d{2}:\d{2}\sGMT(?:\+|-)\d{4}\s\([^)]+\)/,C5=/^(?:(?:(?:(?:0?[1-9]|[12][0-9]|3[01])[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:19|20)\d{2})|(?:(?:19|20)\d{2}[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:0?[1-9]|[12][0-9]|3[01]))))(?:\s(?:1[012]|0?[1-9]):[0-5][0-9](?::[0-5][0-9])?(?:\s[AP]M)?)?$/,jA=iJ.date,FA=iJ["date-time"];O0.Has("date")||O0.Set("date",($)=>{let X=ZQ($).replace(/"/g,"");if(K5.test(X)||S5.test(X)||C5.test(X)||jA(X)){let Q=new Date(X);if(!Number.isNaN(Q.getTime()))return!0}return!1}),O0.Has("date-time")||O0.Set("date-time",($)=>{let X=$.replace(/"/g,"");if(K5.test(X)||S5.test(X)||C5.test(X)||FA(X)){let Q=new Date(X);if(!Number.isNaN(Q.getTime()))return!0}return!1}),Object.entries(iJ).forEach(($)=>{let[X,Q]=$;O0.Has(X)||(Q instanceof RegExp?O0.Set(X,(J)=>Q.test(J)):typeof Q=="function"&&O0.Set(X,Q))}),O0.Has("numeric")||O0.Set("numeric",($)=>!!$&&!isNaN(+$)),O0.Has("integer")||O0.Set("integer",($)=>!!$&&Number.isInteger(+$)),O0.Has("boolean")||O0.Set("boolean",($)=>$==="true"||$==="false"),O0.Has("ObjectString")||O0.Set("ObjectString",($)=>{let X=$.charCodeAt(0);if((X===9||X===10||X===32)&&(X=$.trimStart().charCodeAt(0)),X!==123&&X!==91)return!1;try{return JSON.parse($),!0}catch{return!1}}),O0.Has("ArrayString")||O0.Set("ArrayString",($)=>{let X=$.charCodeAt(0);if((X===9||X===10||X===32)&&(X=$.trimStart().charCodeAt(0)),X!==123&&X!==91)return!1;try{return JSON.parse($),!0}catch{return!1}});var T=Object.assign({},K2);Y6("UnionEnum",($,X)=>(typeof X=="number"||typeof X=="string"||X===null)&&$.enum.includes(X)),Y6("ArrayBuffer",($,X)=>X instanceof ArrayBuffer);var RA=Y6("Files",($,X)=>{if($.minItems&&$.minItems>1&&!Array.isArray(X))return!1;if(!Array.isArray(X))return YQ($,X);if($.minItems&&X.length<$.minItems||$.maxItems&&X.length>$.maxItems)return!1;for(let Q=0;Q<X.length;Q++)if(!YQ($,X[Q]))return!1;return!0}),VA=Y6("ElysiaForm",({compiler:$,...X},Q)=>{if(!(Q instanceof FormData))return!1;if($){if(!(G$ in Q))throw new a("property",X,Q);if(!$.Check(Q[G$]))throw $.Error(Q[G$])}return!0}),A1={String:($)=>K2.String($),Numeric:($)=>{let X=K2.Number($),Q=i2(X);return T.Transform(T.Union([T.String({format:"numeric",default:0}),T.Number($)],$)).Decode((J)=>{let Y=+J;if(isNaN(Y))return J;if($&&!Q.Check(Y))throw Q.Error(Y);return Y}).Encode((J)=>J)},Integer:($)=>{let X=K2.Integer($),Q=i2(X);return T.Transform(T.Union([T.String({format:"integer",default:0}),K2.Integer($)],$)).Decode((J)=>{let Y=+J;if(!Q.Check(Y))throw Q.Error(Y);return Y}).Encode((J)=>J)},Date:($)=>{let X=K2.Date($),Q=i2(X),J=$?.default?new Date($.default):void 0;return T.Transform(T.Union([K2.Date($),T.String({format:"date-time",default:J?.toISOString()}),T.String({format:"date",default:J?.toISOString()}),T.Number({default:J?.getTime()})],$)).Decode((Y)=>{if(typeof Y=="number"){let W=new Date(Y);if(!Q.Check(W))throw Q.Error(W);return W}if(Y instanceof Date)return Y;let Z=new Date(ZQ(Y));if(!Z||isNaN(Z.getTime()))throw new a("property",X,Z);if(!Q.Check(Z))throw Q.Error(Z);return Z}).Encode((Y)=>{if(Y instanceof Date)return Y.toISOString();if(typeof Y=="string"){if(isNaN(new Date(ZQ(Y)).getTime()))throw new a("property",X,Y);return Y}if(!Q.Check(Y))throw Q.Error(Y);return Y})},BooleanString:($)=>{let X=K2.Boolean($),Q=i2(X);return T.Transform(T.Union([T.Boolean($),T.String({format:"boolean",default:!1})],$)).Decode((J)=>{if(typeof J=="string")return J==="true";if(J!==void 0&&!Q.Check(J))throw Q.Error(J);return J}).Encode((J)=>J)},ObjectString:($,X)=>{let Q=T.Object($,X),J=i2(Q);return T.Transform(T.Union([T.String({format:"ObjectString",default:"{}"}),Q],{elysiaMeta:"ObjectString"})).Decode((Y)=>{if(typeof Y=="string"){if(Y.charCodeAt(0)!==123)throw new a("property",Q,Y);if(!J.Check(Y=J6(Y,Q)))throw J.Error(Y);return J.Decode(Y)}return Y}).Encode((Y)=>{let Z;if(typeof Y=="string"&&(Y=J6(Z=Y,Q)),!J.Check(Y))throw J.Error(Y);return Z??JSON.stringify(Y)})},ArrayString:($=T.String(),X)=>{let Q=T.Array($,X),J=i2(Q),Y=(Z,W=!1)=>{if(Z.charCodeAt(0)===91){if(!J.Check(Z=J6(Z,Q)))throw J.Error(Z);return J.Decode(Z)}if(W)return Z;throw new a("property",Q,Z)};return T.Transform(T.Union([T.String({format:"ArrayString",default:X?.default}),Q])).Decode((Z)=>{if(Array.isArray(Z)){let W=[];for(let q=0;q<Z.length;q++){let M=Z[q];if(typeof M=="string"){let G=Y(M,!0);Array.isArray(G)?W=W.concat(G):W.push(G);continue}W.push(M)}return W}return typeof Z=="string"?Y(Z):Z}).Encode((Z)=>{let W;if(typeof Z=="string"&&(Z=J6(W=Z,Q)),!J.Check(Z))throw new a("property",Q,Z);return W??JSON.stringify(Z)})},ArrayQuery:($=T.String(),X)=>{let Q=T.Array($,X),J=i2(Q),Y=(Z)=>Z.indexOf(",")!==-1?J.Decode(Z.split(",")):[Z];return T.Transform(T.Union([T.String({default:X?.default}),Q],{elysiaMeta:"ArrayQuery"})).Decode((Z)=>{if(Array.isArray(Z)){let W=[];for(let q=0;q<Z.length;q++){let M=Z[q];if(typeof M=="string"){let G=Y(M);Array.isArray(G)?W=W.concat(G):W.push(G);continue}W.push(M)}return W}return typeof Z=="string"?Y(Z):Z}).Encode((Z)=>{let W;if(typeof Z=="string"&&(Z=J6(W=Z,Q)),!J.Check(Z))throw new a("property",Q,Z);return W??JSON.stringify(Z)})},File:Y6("File",YQ),Files:($={})=>T.Transform(RA($)).Decode((X)=>Array.isArray(X)?X:[X]).Encode((X)=>X),Nullable:($,X)=>T.Union([$,T.Null()],{...X,nullable:!0}),MaybeEmpty:($,X)=>T.Union([$,T.Null(),T.Undefined()],X),Cookie:($,{domain:X,expires:Q,httpOnly:J,maxAge:Y,path:Z,priority:W,sameSite:q,secure:M,secrets:G,sign:B,...N}={})=>{let P=T.Object($,N);return P.config={domain:X,expires:Q,httpOnly:J,maxAge:Y,path:Z,priority:W,sameSite:q,secure:M,secrets:G,sign:B},P},UnionEnum:($,X={})=>{let Q=$.every((J)=>typeof J=="string")?{type:"string"}:$.every((J)=>typeof J=="number")?{type:"number"}:$.every((J)=>J===null)?{type:"null"}:{};if($.some((J)=>typeof J=="object"&&J!==null))throw Error("This type does not support objects or arrays");return{default:$[0],...X,[L]:"UnionEnum",...Q,enum:$}},NoValidate:($,X=!0)=>($.noValidate=X,$),Form:($,X={})=>{let Q=T.Object($,{default:RJ({}),...X}),J=i2(Q);return T.Union([Q,VA({compiler:J})])},ArrayBuffer($={}){return{default:[1,2,3],...$,[L]:"ArrayBuffer"}},Uint8Array:($)=>{let X=K2.Uint8Array($),Q=i2(X);return T.Transform(T.Union([T.ArrayBuffer(),K2.Uint8Array($)])).Decode((J)=>{if(J instanceof ArrayBuffer){if(!Q.Check(J=new Uint8Array(J)))throw Q.Error(J);return J}return J}).Encode((J)=>J)}};T.BooleanString=A1.BooleanString,T.ObjectString=A1.ObjectString,T.ArrayString=A1.ArrayString,T.ArrayQuery=A1.ArrayQuery,T.Numeric=A1.Numeric,T.Integer=A1.Integer,T.File=($)=>($?.type&&QQ(),A1.File({default:"File",...$,extension:$?.type,type:"string",format:"binary"})),T.Files=($)=>($?.type&&QQ(),A1.Files({...$,elysiaMeta:"Files",default:"Files",extension:$?.type,type:"array",items:{...$,default:"Files",type:"string",format:"binary"}})),T.Nullable=A1.Nullable,T.MaybeEmpty=A1.MaybeEmpty,T.Cookie=A1.Cookie,T.Date=A1.Date,T.UnionEnum=A1.UnionEnum,T.NoValidate=A1.NoValidate,T.Form=A1.Form,T.ArrayBuffer=A1.ArrayBuffer,T.Uint8Array=A1.Uint8Array;var WQ=P8(_5(),1),x5=P8(E6(),1);class B2{constructor($,X,Q={}){this.name=$,this.jar=X,this.initial=Q}get cookie(){return this.jar[this.name]??this.initial}set cookie($){this.name in this.jar||(this.jar[this.name]=this.initial),this.jar[this.name]=$}get setCookie(){return this.name in this.jar||(this.jar[this.name]=this.initial),this.jar[this.name]}set setCookie($){this.cookie=$}get value(){return this.cookie.value}set value($){this.setCookie.value=$}get expires(){return this.cookie.expires}set expires($){this.setCookie.expires=$}get maxAge(){return this.cookie.maxAge}set maxAge($){this.setCookie.maxAge=$}get domain(){return this.cookie.domain}set domain($){this.setCookie.domain=$}get path(){return this.cookie.path}set path($){this.setCookie.path=$}get secure(){return this.cookie.secure}set secure($){this.setCookie.secure=$}get httpOnly(){return this.cookie.httpOnly}set httpOnly($){this.setCookie.httpOnly=$}get sameSite(){return this.cookie.sameSite}set sameSite($){this.setCookie.sameSite=$}get priority(){return this.cookie.priority}set priority($){this.setCookie.priority=$}get partitioned(){return this.cookie.partitioned}set partitioned($){this.setCookie.partitioned=$}get secrets(){return this.cookie.secrets}set secrets($){this.setCookie.secrets=$}update($){return this.setCookie=Object.assign(this.cookie,typeof $=="function"?$(this.cookie):$),this}set($){return this.setCookie=Object.assign({...this.initial,value:this.value},typeof $=="function"?$(this.cookie):$),this}remove(){if(this.value!==void 0)return this.set({expires:new Date(0),maxAge:0,value:""}),this}toString(){return typeof this.value=="object"?JSON.stringify(this.value):this.value?.toString()??""}}var E5=($,X,Q)=>($.cookie||($.cookie={}),new Proxy(X,{get(J,Y){return Y in X?new B2(Y,$.cookie,Object.assign({},Q??{},X[Y])):new B2(Y,$.cookie,Object.assign({},Q))}})),qQ=async($,X,{secrets:Q,sign:J,...Y}={})=>{if(!X)return E5($,{},Y);let Z=typeof Q=="string";J&&J!==!0&&!Array.isArray(J)&&(J=[J]);let W={},q=WQ.parse(X);for(let[M,G]of Object.entries(q)){if(G===void 0)continue;let B=x5.default(G);if(B){let N=B.charCodeAt(0),P=B.charCodeAt(B.length-1);if(N===123&&P===125||N===91&&P===93)try{B=JSON.parse(B)}catch{}}if(J===!0||J?.includes(M)){if(!Q)throw Error("No secret is provided to cookie plugin");if(Z){let N=await SJ(B,Q);if(N===!1)throw new v6(M);B=N}else{let N=!0;for(let P=0;P<Q.length;P++){let w=await SJ(B,Q[P]);if(w!==!1){N=!0,B=w;break}}if(!N)throw new v6(M)}}W[M]={value:B}}return E5($,W,Y)},n6=($)=>{if(!$||!A0($))return;let X=[];for(let[Q,J]of Object.entries($)){if(!Q||!J)continue;let Y=J.value;Y!=null&&X.push(WQ.serialize(Q,typeof Y=="object"?JSON.stringify(Y):Y+"",J))}if(X.length!==0)return X.length===1?X[0]:X};var b0=($,X)=>{if(!E2&&$ instanceof Promise)return $.then((Z)=>b0(Z,X));let Q=$.size,J=X&&(X.status===206||X.status===304||X.status===412||X.status===416),Y=J?{"transfer-encoding":"chunked"}:{"accept-ranges":"bytes","content-range":Q?`bytes 0-${Q-1}/${Q}`:void 0,"transfer-encoding":"chunked"};if(!X&&!Q)return new Response($);if(!X)return new Response($,{headers:Y});if(X.headers instanceof Headers){for(let Z of Object.keys(Y))Z in X.headers&&X.headers.append(Z,Y[Z]);return J&&(X.headers.delete("content-length"),X.headers.delete("accept-ranges")),new Response($,X)}return A0(X.headers)?new Response($,{status:X.status,headers:Object.assign(Y,X.headers)}):new Response($,{status:X.status,headers:Y})},nJ=($,X)=>{if(!$)return $;$.delete("set-cookie");for(let Q=0;Q<X.length;Q++){let J=X[Q].indexOf("=");$.append("set-cookie",`${X[Q].slice(0,J)}=${X[Q].slice(J+1)||""}`)}return $},I5=($,X)=>{if(X?.headers){if($)if(f6)Object.assign(X.headers,$.headers.toJSON());else for(let[Q,J]of $.headers.entries())Q in X.headers&&(X.headers[Q]=J);return X.status===200&&(X.status=$.status),X.headers["content-encoding"]&&delete X.headers["content-encoding"],X}if(!$)return{headers:{},status:X?.status??200};if(f6)return X={headers:$.headers.toJSON(),status:X?.status??200},X.headers["content-encoding"]&&delete X.headers["content-encoding"],X;X={headers:{},status:X?.status??200};for(let[Q,J]of $.headers.entries())Q!=="content-encoding"&&Q in X.headers&&(X.headers[Q]=J);return X},o6=({mapResponse:$,mapCompactResponse:X})=>async(Q,J,Y)=>{let Z=Q.next?.();if(J&&w8(J),Z instanceof Promise&&(Z=await Z),Z?.value instanceof ReadableStream)Q=Z.value;else if(Z&&(typeof Z?.done>"u"||Z?.done))return J?$(Z.value,J,Y):X(Z.value,Y);let W=Z?.value?.sse??Q?.sse??J?.headers["content-type"]?.startsWith("text/event-stream"),q=W?(G)=>`data: ${G}

`:(G)=>G,M=W?"text/event-stream":Z?.value&&typeof Z?.value=="object"?"application/json":"text/plain";return J?.headers?(J.headers["transfer-encoding"]||(J.headers["transfer-encoding"]="chunked"),J.headers["content-type"]||(J.headers["content-type"]=M),J.headers["cache-control"]||(J.headers["cache-control"]="no-cache")):J={status:200,headers:{"content-type":M,"transfer-encoding":"chunked","cache-control":"no-cache",connection:"keep-alive"}},new Response(new ReadableStream({async start(G){let B=!1;if(Y?.signal?.addEventListener("abort",()=>{B=!0;try{G.close()}catch{}}),!(!Z||Z.value instanceof ReadableStream)){if(Z.value!==void 0&&Z.value!==null)if(Z.value.toSSE)G.enqueue(Z.value.toSSE());else if(typeof Z.value=="object")try{G.enqueue(q(JSON.stringify(Z.value)))}catch{G.enqueue(q(Z.value.toString()))}else G.enqueue(q(Z.value.toString()))}try{for await(let N of Q){if(B)break;if(N!=null)if(N.toSSE)G.enqueue(N.toSSE());else{if(typeof N=="object")try{G.enqueue(q(JSON.stringify(N)))}catch{G.enqueue(q(N.toString()))}else G.enqueue(q(N.toString()));W||await new Promise((P)=>setTimeout(()=>P(),0))}}}catch(N){console.warn(N)}try{G.close()}catch{}}}),J)};async function*T5($){let X=$.body;if(!X)return;let Q=X.getReader(),J=new TextDecoder;try{for(;;){let{done:Y,value:Z}=await Q.read();if(Y)break;typeof Z=="string"?yield Z:yield J.decode(Z)}}finally{Q.releaseLock()}}var w8=($)=>{if(typeof $.status=="string"&&($.status=w$[$.status]),$.cookie&&A0($.cookie)){let X=n6($.cookie);X&&($.headers["set-cookie"]=X)}$.headers["set-cookie"]&&Array.isArray($.headers["set-cookie"])&&($.headers=nJ(new Headers($.headers),$.headers["set-cookie"]))},MQ=($)=>{let X=o6($);return(Q,J,Y)=>{let Z=!1;if(J.headers instanceof Headers)for(let q of J.headers.keys())if(q==="set-cookie"){if(Z)continue;Z=!0;for(let M of J.headers.getSetCookie())Q.headers.append("set-cookie",M)}else Q.headers.append(q,J.headers?.get(q)??"");else for(let q in J.headers)Q.headers.append(q,J.headers[q]);let W=J.status??200;if(Q.status!==W&&W!==200&&(Q.status<=300||Q.status>400)){let q=new Response(Q.body,{headers:Q.headers,status:J.status});return!q.headers.has("content-length")&&q.headers.get("transfer-encoding")==="chunked"?X(T5(q),I5(q,J),Y):q}return!Q.headers.has("content-length")&&Q.headers.get("transfer-encoding")==="chunked"?X(T5(Q),I5(Q,J),Y):Q}};var BQ=($,X={headers:{}})=>{let Q=$.path,J=OJ[Q.slice(Q.lastIndexOf(".")+1)];return J&&(X.headers["content-type"]=J),$.stats&&X.status!==206&&X.status!==304&&X.status!==412&&X.status!==416?$.stats.then((Y)=>{let Z=Y.size;return Z!==void 0&&(X.headers["content-range"]=`bytes 0-${Z-1}/${Z}`,X.headers["content-length"]=Z),b0($.value,X)}):b0($.value,X)},I1=($,X,Q)=>{if(A0(X.headers)||X.status!==200||X.cookie)switch(w8(X),$?.constructor?.name){case"String":return X.headers["content-type"]="text/plain",new Response($,X);case"Array":case"Object":return X.headers["content-type"]="application/json",new Response(JSON.stringify($),X);case"ElysiaFile":return BQ($,X);case"File":return b0($,X);case"Blob":return b0($,X);case"ElysiaCustomStatusResponse":return X.status=$.code,I1($.response,X,Q);case void 0:return $?new Response(JSON.stringify($),X):new Response("",X);case"Response":return GQ($,X,Q);case"Error":return h$($,X);case"Promise":return $.then((J)=>I1(J,X,Q));case"Function":return I1($(),X,Q);case"Number":case"Boolean":return new Response($.toString(),X);case"Cookie":return $ instanceof B2?new Response($.value,X):new Response($?.toString(),X);case"FormData":return new Response($,X);default:if($ instanceof Response)return GQ($,X,Q);if($ instanceof Promise)return $.then((J)=>I1(J,X));if($ instanceof Error)return h$($,X);if($ instanceof o0)return X.status=$.code,I1($.response,X,Q);if(typeof $?.next=="function"||$ instanceof ReadableStream)return l6($,X,Q);if(typeof $?.then=="function")return $.then((J)=>I1(J,X));if(typeof $?.toResponse=="function")return I1($.toResponse(),X);if("charCodeAt"in $){let J=$.charCodeAt(0);if(J===123||J===91)return X.headers["Content-Type"]||(X.headers["Content-Type"]="application/json"),new Response(JSON.stringify($),X)}return new Response($,X)}return typeof $?.next=="function"||$ instanceof ReadableStream?l6($,X,Q):n2($,Q)},x1=($,X,Q)=>{if($!=null)if(A0(X.headers)||X.status!==200||X.cookie)switch(w8(X),$?.constructor?.name){case"String":return X.headers["content-type"]="text/plain",new Response($,X);case"Array":case"Object":return X.headers["content-type"]="application/json",new Response(JSON.stringify($),X);case"ElysiaFile":return BQ($,X);case"File":return b0($,X);case"Blob":return b0($,X);case"ElysiaCustomStatusResponse":return X.status=$.code,x1($.response,X,Q);case void 0:return $?new Response(JSON.stringify($),X):void 0;case"Response":return GQ($,X,Q);case"Promise":return $.then((J)=>x1(J,X));case"Error":return h$($,X);case"Function":return x1($(),X);case"Number":case"Boolean":return new Response($.toString(),X);case"FormData":return new Response($);case"Cookie":return $ instanceof B2?new Response($.value,X):new Response($?.toString(),X);default:if($ instanceof Response)return GQ($,X,Q);if($ instanceof Promise)return $.then((J)=>x1(J,X));if($ instanceof Error)return h$($,X);if($ instanceof o0)return X.status=$.code,x1($.response,X,Q);if(typeof $?.next=="function"||$ instanceof ReadableStream)return l6($,X,Q);if(typeof $?.then=="function")return $.then((J)=>x1(J,X));if(typeof $?.toResponse=="function")return x1($.toResponse(),X);if("charCodeAt"in $){let J=$.charCodeAt(0);if(J===123||J===91)return X.headers["Content-Type"]||(X.headers["Content-Type"]="application/json"),new Response(JSON.stringify($),X)}return new Response($,X)}else switch($?.constructor?.name){case"String":return X.headers["content-type"]="text/plain",new Response($);case"Array":case"Object":return X.headers["content-type"]="application/json",new Response(JSON.stringify($),X);case"ElysiaFile":return BQ($,X);case"File":return b0($,X);case"Blob":return b0($,X);case"ElysiaCustomStatusResponse":return X.status=$.code,x1($.response,X,Q);case void 0:return $?new Response(JSON.stringify($),{headers:{"content-type":"application/json"}}):new Response("");case"Response":return $;case"Promise":return $.then((J)=>{let Y=x1(J,X);if(Y!==void 0)return Y});case"Error":return h$($,X);case"Function":return n2($(),Q);case"Number":case"Boolean":return new Response($.toString());case"Cookie":return $ instanceof B2?new Response($.value,X):new Response($?.toString(),X);case"FormData":return new Response($);default:if($ instanceof Response)return $;if($ instanceof Promise)return $.then((J)=>x1(J,X));if($ instanceof Error)return h$($,X);if($ instanceof o0)return X.status=$.code,x1($.response,X,Q);if(typeof $?.next=="function"||$ instanceof ReadableStream)return l6($,X,Q);if(typeof $?.then=="function")return $.then((J)=>x1(J,X));if(typeof $?.toResponse=="function")return x1($.toResponse(),X);if("charCodeAt"in $){let J=$.charCodeAt(0);if(J===123||J===91)return X.headers["Content-Type"]||(X.headers["Content-Type"]="application/json"),new Response(JSON.stringify($),X)}return new Response($)}},n2=($,X)=>{switch($?.constructor?.name){case"String":return new Response($,{headers:{"Content-Type":"text/plain"}});case"Object":case"Array":return new Response(JSON.stringify($),{headers:{"Content-Type":"application/json"}});case"ElysiaFile":return BQ($);case"File":return b0($);case"Blob":return b0($);case"ElysiaCustomStatusResponse":return I1($.response,{status:$.code,headers:{}});case void 0:return $?new Response(JSON.stringify($),{headers:{"content-type":"application/json"}}):new Response("");case"Response":return $;case"Error":return h$($);case"Promise":return $.then((Q)=>n2(Q,X));case"Function":return n2($(),X);case"Number":case"Boolean":return new Response($.toString());case"FormData":return new Response($);default:if($ instanceof Response)return $;if($ instanceof Promise)return $.then((Q)=>n2(Q,X));if($ instanceof Error)return h$($);if($ instanceof o0)return I1($.response,{status:$.code,headers:{}});if(typeof $?.next=="function"||$ instanceof ReadableStream)return l6($,void 0,X);if(typeof $?.then=="function")return $.then((Q)=>I1(Q,set));if(typeof $?.toResponse=="function")return n2($.toResponse());if("charCodeAt"in $){let Q=$.charCodeAt(0);if(Q===123||Q===91)return new Response(JSON.stringify($),{headers:{"Content-Type":"application/json"}})}return new Response($)}},h$=($,X)=>new Response(JSON.stringify({name:$?.name,message:$?.message,cause:$?.cause}),{status:X?.status!==200?X?.status??500:500,headers:X?.headers}),b5=($,X,Q={})=>{if(typeof $=="function")return;let J=I1($,{headers:Q});if(!X.parse?.length&&!X.transform?.length&&!X.beforeHandle?.length&&!X.afterHandle?.length)return()=>J.clone()},GQ=MQ({mapResponse:I1,mapCompactResponse:n2}),l6=o6({mapResponse:I1,mapCompactResponse:n2});var D$={name:"web-standard",isWebStandard:!0,handler:{mapResponse:I1,mapEarlyResponse:x1,mapCompactResponse:n2,createStaticHandler:b5},composeHandler:{mapResponseContext:"c.request",preferWebstandardHeaders:!0,headers:`c.headers={}
for(const [k,v] of c.request.headers.entries())c.headers[k]=v
`,parser:{json($){return $?`try{c.body=await c.request.json()}catch{}
`:`c.body=await c.request.json()
`},text(){return`c.body=await c.request.text()
`},urlencoded(){return`c.body=parseQuery(await c.request.text())
`},arrayBuffer(){return`c.body=await c.request.arrayBuffer()
`},formData($){let X=`
c.body={}
`;return $?X+="let form;try{form=await c.request.formData()}catch{}":X+=`const form=await c.request.formData()
`,X+`for(const key of form.keys()){if(c.body[key]) continue
const value=form.getAll(key)
if(value.length===1)c.body[key]=value[0]
else c.body[key]=value}`}}},async stop($,X){if(!$.server)throw Error("Elysia isn't running. Call `app.listen` to start the server.");if($.server&&($.server.stop(X),$.server=null,$.event.stop?.length))for(let Q=0;Q<$.event.stop.length;Q++)$.event.stop[Q].fn($)},composeGeneralHandler:{parameters:"r",createContext($){let X="",Q="",J=$.setHeaders;for(let W of Object.keys($.decorator))X+=`,'${W}':decorator['${W}']`;let Y=$.config.handler?.standardHostname??!0,Z=!!$.event.trace?.length;return Q+=`const u=r.url,s=u.indexOf('/',${Y?11:7}),qi=u.indexOf('?',s+1)
let p
if(qi===-1)p=u.substring(s)
else p=u.substring(s, qi)
`,Z&&(Q+=`const id=randomId()
`),Q+="const c={request:r,store,qi,path:p,url:u,redirect,status,set:{headers:",Q+=Object.keys(J??{}).length?"Object.assign({},app.setHeaders)":"Object.create(null)",Q+=",status:200}",$.inference.server&&(Q+=",get server(){return app.getServer()}"),Z&&(Q+=",[ELYSIA_REQUEST_ID]:id"),Q+=X,Q+=`}
`,Q},error404($,X,Q=""){let J="if(route===null){"+Q+`
return `;return X?J+=`app.handleError(c,notFound,false,${this.parameters})`:J+=$?"new Response(error404Message,{status:c.set.status===200?404:c.set.status,headers:c.set.headers})":"error404.clone()",J+="}",{declare:X?"":`const error404Message=notFound.message.toString()
const error404=new Response(error404Message,{status:404})
`,code:J}}},composeError:{mapResponseContext:"",validationError:"return new Response(error.message,{headers:Object.assign({'content-type':'application/json'},set.headers),status:set.status})",unknownError:"return new Response(error.message,{headers:set.headers,status:error.status??set.status??500})"},listen(){return()=>{throw Error("WebStandard does not support listen, you might want to export default Elysia.fetch instead")}}};function k5(){try{if(typeof caches<"u"&&typeof caches.default<"u"||typeof WebSocketPair<"u")return!0}catch{return!1}return!1}var _T={...D$,name:"cloudflare-worker",composeGeneralHandler:{...D$.composeGeneralHandler,error404($,X,Q){let{code:J}=D$.composeGeneralHandler.error404($,X,Q);return{code:J,declare:X?"":`const error404Message=notFound.message.toString()
const error404={clone:()=>new Response(error404Message,{status:404})}
`}}},beforeCompile($){for(let X of $.routes)X.compile()},listen($){return(X,Q)=>{console.warn("Cloudflare Worker does not support listen method. Please export default Elysia instance instead."),$.compile()}}};var hA=($)=>{$.startsWith("async")&&($=$.slice(5)),$=$.trimStart();let X=-1;if($.charCodeAt(0)===40&&(X=$.indexOf("=>",$.indexOf(")")),X!==-1)){let Y=X;for(;Y>0&&$.charCodeAt(--Y)!==41;);let Z=$.slice(X+2);return Z.charCodeAt(0)===32&&(Z=Z.trimStart()),[$.slice(1,Y),Z,{isArrowReturn:Z.charCodeAt(0)!==123}]}if(/^(\w+)=>/g.test($)&&(X=$.indexOf("=>"),X!==-1)){let Y=$.slice(X+2);return Y.charCodeAt(0)===32&&(Y=Y.trimStart()),[$.slice(0,X),Y,{isArrowReturn:Y.charCodeAt(0)!==123}]}if($.startsWith("function")){X=$.indexOf("(");let Y=$.indexOf(")");return[$.slice(X+1,Y),$.slice(Y+2),{isArrowReturn:!1}]}let Q=$.indexOf("(");if(Q!==-1){let Y=$.indexOf(`
`,2),Z=$.slice(0,Y),W=Z.lastIndexOf(")")+1,q=$.slice(Y+1);return[Z.slice(Q,W),"{"+q,{isArrowReturn:!1}]}let J=$.split(`
`,2);return[J[0],J[1],{isArrowReturn:!1}]},mA=($)=>{let X=$.indexOf("{");if(X===-1)return[-1,0];let Q=X+1,J=1;for(;Q<$.length;Q++){let Y=$.charCodeAt(Q);if(Y===123?J++:Y===125&&J--,J===0)break}return J!==0?[0,$.length]:[X,Q+1]},uA=($)=>{let X=$.lastIndexOf("}");if(X===-1)return[-1,0];let Q=X-1,J=1;for(;Q>=0;Q--){let Y=$.charCodeAt(Q);if(Y===125?J++:Y===123&&J--,J===0)break}return J!==0?[-1,0]:[Q,X+1]},f5=($)=>{for(;;){let X=$.indexOf(":");if(X===-1)break;let Q=$.indexOf(",",X);Q===-1&&(Q=$.indexOf("}",X)-1),Q===-2&&(Q=$.length),$=$.slice(0,X)+$.slice(Q)}return $},y5=($)=>{let X=!1;$.charCodeAt(0)===40&&($=$.slice(1,-1)),$.charCodeAt(0)===123&&(X=!0,$=$.slice(1,-1)),$=$.replace(/( |\t|\n)/g,"").trim();let Q=[];for(;;){let[Y,Z]=mA($);if(Y===-1)break;Q.push($.slice(0,Y-1)),$.charCodeAt(Z)===44&&Z++,$=$.slice(Z)}$=f5($),$&&(Q=Q.concat($.split(",")));let J=Object.create(null);for(let Y of Q){if(Y.indexOf(",")===-1){J[Y]=!0;continue}for(let Z of Y.split(","))J[Z.trim()]=!0}return{hasParenthesis:X,parameters:J}},cA=($,X)=>{let{parameters:Q,hasParenthesis:J}=y5($);return Q.query&&(X.query=!0),Q.headers&&(X.headers=!0),Q.body&&(X.body=!0),Q.cookie&&(X.cookie=!0),Q.set&&(X.set=!0),Q.server&&(X.server=!0),Q.route&&(X.route=!0),Q.url&&(X.url=!0),Q.path&&(X.path=!0),J?`{ ${Object.keys(Q).join(", ")} }`:Object.keys(Q).join(", ")},g5=($,X,Q)=>{let J=new RegExp(`${$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}[\\n\\t,; ]`);Q!==void 0&&(J.lastIndex=Q);let Y=J.exec(X);return Y?Y.index:-1};var v5=($,X,Q=0)=>{if(Q>5)return[];let J=[],Y=X;for(;;){let Z=g5(" = "+$,Y);if(Z===-1&&(Z=g5("="+$,Y)),Z===-1){let G=Y.indexOf(" = "+$);if(G===-1&&(G=Y.indexOf("="+$)),G+3+$.length!==Y.length)break;Z=G}let W=Y.slice(0,Z),q=W.lastIndexOf(" "),M=W.slice(q!==-1?q+1:-1);if(M==="}"){let[G,B]=uA(W);J.push(f5(Y.slice(G,B))),Y=Y.slice(Z+3+$.length);continue}for(;M.charCodeAt(0)===44;)M=M.slice(1);for(;M.charCodeAt(0)===9;)M=M.slice(1);M.includes("(")||J.push(M),Y=Y.slice(Z+3+$.length)}for(let Z of J){if(Z.charCodeAt(0)===123)continue;let W=v5(Z,X);W.length>0&&J.push(...W)}return J},pA=($)=>{if(!$)return;if($.charCodeAt(0)!==123)return $;if($=$.slice(2,-2),!$.includes(","))return $.indexOf("...")!==-1?$.slice($.indexOf("...")+3):void 0;let X=$.indexOf("...");if(X!==-1)return $.slice(X+3).trimEnd()},iA=($,X,Q)=>{let J=(Y,Z)=>new RegExp(`${Z}\\.(${Y})|${Z}\\["${Y}"\\]|${Z}\\['${Y}'\\]`).test($);for(let Y of X)if(Y){if(Y.charCodeAt(0)===123){let Z=y5(Y).parameters;Z.query&&(Q.query=!0),Z.headers&&(Q.headers=!0),Z.body&&(Q.body=!0),Z.cookie&&(Q.cookie=!0),Z.set&&(Q.set=!0),Z.server&&(Q.server=!0),Z.url&&(Q.url=!0),Z.route&&(Q.route=!0),Z.path&&(Q.path=!0);continue}if(!Q.query&&(J("query",Y)||$.includes("return "+Y)||$.includes("return "+Y+".query"))&&(Q.query=!0),!Q.headers&&J("headers",Y)&&(Q.headers=!0),!Q.body&&J("body",Y)&&(Q.body=!0),!Q.cookie&&J("cookie",Y)&&(Q.cookie=!0),!Q.set&&J("set",Y)&&(Q.set=!0),!Q.server&&J("server",Y)&&(Q.server=!0),!Q.route&&J("route",Y)&&(Q.route=!0),!Q.url&&J("url",Y)&&(Q.url=!0),!Q.path&&J("path",Y)&&(Q.path=!0),Q.query&&Q.headers&&Q.body&&Q.cookie&&Q.set&&Q.server&&Q.route&&Q.url&&Q.path)break}return X};var nA=($,X,Q)=>{try{let J=new RegExp(`\\w\\((.*?)?${$}`,"gs");J.test(X);let Y=X.charCodeAt(J.lastIndex);return Y===41||Y===44?(Q.query=!0,Q.headers=!0,Q.body=!0,Q.cookie=!0,Q.set=!0,Q.server=!0,Q.url=!0,Q.route=!0,Q.path=!0,!0):!1}catch{return console.log("[Sucrose] warning: unexpected isContextPassToFunction error, you may continue development as usual but please report the following to maintainers:"),console.log("--- body ---"),console.log(X),console.log("--- context ---"),console.log($),!0}},NQ,wQ={},oA=($)=>{$===null||k5()||($===void 0&&($=295000),NQ&&clearTimeout(NQ),NQ=setTimeout(()=>{wQ={},NQ=void 0,E2&&Bun.gc(!1)},$))},UQ=($,X)=>({body:$.body||X.body,cookie:$.cookie||X.cookie,headers:$.headers||X.headers,query:$.query||X.query,set:$.set||X.set,server:$.server||X.server,url:$.url||X.url,route:$.route||X.route,path:$.path||X.path}),U8=($,X={query:!1,headers:!1,body:!1,cookie:!1,set:!1,server:!1,url:!1,route:!1,path:!1},Q={})=>{let J=[];$.request?.length&&J.push(...$.request),$.beforeHandle?.length&&J.push(...$.beforeHandle),$.parse?.length&&J.push(...$.parse),$.error?.length&&J.push(...$.error),$.transform?.length&&J.push(...$.transform),$.afterHandle?.length&&J.push(...$.afterHandle),$.mapResponse?.length&&J.push(...$.mapResponse),$.afterResponse?.length&&J.push(...$.afterResponse),$.handler&&typeof $.handler=="function"&&J.push($.handler);for(let Y=0;Y<J.length;Y++){let Z=J[Y];if(!Z)continue;let W=typeof Z=="object"?Z.fn:Z;if(typeof W!="function")continue;let q=W.toString(),M=v$(q),G=wQ[M];if(G){X=UQ(X,G);continue}oA(Q.gcTime);let B={query:!1,headers:!1,body:!1,cookie:!1,set:!1,server:!1,url:!1,route:!1,path:!1},[N,P]=hA(q),w=cA(N,B),H=pA(w);if(H){let A=v5(H,P.slice(1,-1));A.splice(0,-1,H);let S=P;S.charCodeAt(0)===123&&S.charCodeAt(P.length-1)===125&&(S=S.slice(1,-1)),nA(H,S,B)||iA(S,A,B),!B.query&&S.includes("return "+H+".query")&&(B.query=!0)}if(wQ[M]||(wQ[M]=B),X=UQ(X,B),X.query&&X.headers&&X.body&&X.cookie&&X.set&&X.server&&X.url&&X.route&&X.path)break}return X};var O1=($,X,Q)=>{if(A0(X.headers)||X.status!==200||X.cookie)switch(w8(X),$?.constructor?.name){case"String":return new Response($,X);case"Array":case"Object":return X.headers["content-type"]="application/json",new Response(JSON.stringify($),X);case"ElysiaFile":return b0($.value,X);case"File":return b0($,X);case"Blob":return b0($,X);case"ElysiaCustomStatusResponse":return X.status=$.code,O1($.response,X,Q);case void 0:return $?new Response(JSON.stringify($),X):new Response("",X);case"Response":return zQ($,X,Q);case"Error":return m$($,X);case"Promise":return $.then((J)=>O1(J,X,Q));case"Function":return O1($(),X,Q);case"Number":case"Boolean":return new Response($.toString(),X);case"Cookie":return $ instanceof B2?new Response($.value,X):new Response($?.toString(),X);case"FormData":return new Response($,X);default:if($ instanceof Response)return zQ($,X,Q);if($ instanceof Promise)return $.then((J)=>O1(J,X));if($ instanceof Error)return m$($,X);if($ instanceof o0)return X.status=$.code,O1($.response,X,Q);if(typeof $?.next=="function"||$ instanceof ReadableStream)return t6($,X,Q);if(typeof $?.then=="function")return $.then((J)=>O1(J,X));if(typeof $?.toResponse=="function")return O1($.toResponse(),X);if("charCodeAt"in $){let J=$.charCodeAt(0);if(J===123||J===91)return X.headers["Content-Type"]||(X.headers["Content-Type"]="application/json"),new Response(JSON.stringify($),X)}return new Response($,X)}return typeof $?.next=="function"||$ instanceof ReadableStream?t6($,X,Q):o2($,Q)},D1=($,X,Q)=>{if($!=null)if(A0(X.headers)||X.status!==200||X.cookie)switch(w8(X),$?.constructor?.name){case"String":return new Response($,X);case"Array":case"Object":return X.headers["content-type"]="application/json",new Response(JSON.stringify($),X);case"ElysiaFile":return b0($.value,X);case"File":return b0($,X);case"Blob":return b0($,X);case"ElysiaCustomStatusResponse":return X.status=$.code,D1($.response,X,Q);case void 0:return $?new Response(JSON.stringify($),X):void 0;case"Response":return zQ($,X,Q);case"Promise":return $.then((J)=>D1(J,X));case"Error":return m$($,X);case"Function":return D1($(),X);case"Number":case"Boolean":return new Response($.toString(),X);case"FormData":return new Response($);case"Cookie":return $ instanceof B2?new Response($.value,X):new Response($?.toString(),X);default:if($ instanceof Response)return zQ($,X,Q);if($ instanceof Promise)return $.then((J)=>D1(J,X));if($ instanceof Error)return m$($,X);if($ instanceof o0)return X.status=$.code,D1($.response,X,Q);if(typeof $?.next=="function"||$ instanceof ReadableStream)return t6($,X,Q);if(typeof $?.then=="function")return $.then((J)=>D1(J,X));if(typeof $?.toResponse=="function")return D1($.toResponse(),X);if("charCodeAt"in $){let J=$.charCodeAt(0);if(J===123||J===91)return X.headers["Content-Type"]||(X.headers["Content-Type"]="application/json"),new Response(JSON.stringify($),X)}return new Response($,X)}else switch($?.constructor?.name){case"String":return new Response($);case"Array":case"Object":return X.headers["content-type"]="application/json",new Response(JSON.stringify($),X);case"ElysiaFile":return b0($.value,X);case"File":return b0($,X);case"Blob":return b0($,X);case"ElysiaCustomStatusResponse":return X.status=$.code,D1($.response,X,Q);case void 0:return $?new Response(JSON.stringify($),{headers:{"content-type":"application/json"}}):new Response("");case"Response":return $;case"Promise":return $.then((J)=>{let Y=D1(J,X);if(Y!==void 0)return Y});case"Error":return m$($,X);case"Function":return o2($(),Q);case"Number":case"Boolean":return new Response($.toString());case"Cookie":return $ instanceof B2?new Response($.value,X):new Response($?.toString(),X);case"FormData":return new Response($);default:if($ instanceof Response)return $;if($ instanceof Promise)return $.then((J)=>D1(J,X));if($ instanceof Error)return m$($,X);if($ instanceof o0)return X.status=$.code,D1($.response,X,Q);if(typeof $?.next=="function"||$ instanceof ReadableStream)return t6($,X,Q);if(typeof $?.then=="function")return $.then((J)=>D1(J,X));if(typeof $?.toResponse=="function")return D1($.toResponse(),X);if("charCodeAt"in $){let J=$.charCodeAt(0);if(J===123||J===91)return X.headers["Content-Type"]||(X.headers["Content-Type"]="application/json"),new Response(JSON.stringify($),X)}return new Response($)}},o2=($,X)=>{switch($?.constructor?.name){case"String":return new Response($);case"Object":case"Array":return new Response(JSON.stringify($),{headers:{"Content-Type":"application/json"}});case"ElysiaFile":return b0($.value);case"File":return b0($);case"Blob":return b0($);case"ElysiaCustomStatusResponse":return O1($.response,{status:$.code,headers:{}});case void 0:return $?new Response(JSON.stringify($),{headers:{"content-type":"application/json"}}):new Response("");case"Response":return $;case"Error":return m$($);case"Promise":return $.then((Q)=>o2(Q,X));case"Function":return o2($(),X);case"Number":case"Boolean":return new Response($.toString());case"FormData":return new Response($);default:if($ instanceof Response)return $;if($ instanceof Promise)return $.then((Q)=>o2(Q,X));if($ instanceof Error)return m$($);if($ instanceof o0)return O1($.response,{status:$.code,headers:{}});if(typeof $?.next=="function"||$ instanceof ReadableStream)return t6($,void 0,X);if(typeof $?.then=="function")return $.then((Q)=>O1(Q,set));if(typeof $?.toResponse=="function")return o2($.toResponse());if("charCodeAt"in $){let Q=$.charCodeAt(0);if(Q===123||Q===91)return new Response(JSON.stringify($),{headers:{"Content-Type":"application/json"}})}return new Response($)}},m$=($,X)=>new Response(JSON.stringify({name:$?.name,message:$?.message,cause:$?.cause}),{status:X?.status!==200?X?.status??500:500,headers:X?.headers}),d5=($,X,Q={})=>{if(typeof $=="function")return;let J=O1($,{headers:Q});if(!X.parse?.length&&!X.transform?.length&&!X.beforeHandle?.length&&!X.afterHandle?.length)return()=>J.clone()},zQ=MQ({mapResponse:O1,mapCompactResponse:o2}),t6=o6({mapResponse:O1,mapCompactResponse:o2});var l5=P8(E6(),1);var z8=P8(E6(),1),Z6=1,W6=2,q6=4,O$=8;function oJ($,X=0,Q,J){let Y=Object.create(null),Z=0,W=$.length,q=X-1,M=q;for(let B=0;B<W;B++)switch($.charCodeAt(B)){case 38:G($,B),q=B,M=B,Z=0;break;case 61:M<=q?M=B:Z|=O$;break;case 43:M>q?Z|=q6:Z|=Z6;break;case 37:M>q?Z|=O$:Z|=W6;break}return q<W&&G($,W),Y;function G(B,N){let P=M>q,w=P?M:N,H=B.slice(q+1,w);if(!P&&H.length===0)return;let A=H;Z&Z6&&(A=A.replace(/\+/g," ")),Z&W6&&(A=z8.default(A)||A);let S="";if(P){let K=B.slice(M+1,N);Z&q6&&(K=K.replace(/\+/g," ")),Z&O$&&(K=z8.default(K)||K),S=K}let j=Y[A];Q?.[A]?S.charCodeAt(0)===91?(J?.[A]?S=JSON.parse(S):S=S.slice(1,-1).split(","),j===void 0?Y[A]=S:Array.isArray(j)?j.push(...S):(Y[A]=S,Y[A].unshift(j))):j===void 0?Y[A]=S:Array.isArray(j)?j.push(S):Y[A]=[j,S]:Y[A]=S}}function h5($,X=0){let Q=Object.create(null),J=0,Y=$.length,Z=X-1,W=Z;for(let M=0;M<Y;M++)switch($.charCodeAt(M)){case 38:q($,M),Z=M,W=M,J=0;break;case 61:W<=Z?W=M:J|=O$;break;case 43:W>Z?J|=q6:J|=Z6;break;case 37:W>Z?J|=O$:J|=W6;break}return Z<Y&&q($,Y),Q;function q(M,G){let B=W>Z,N=B?W:G,P=M.slice(Z+1,N);if(!B&&P.length===0)return;let w=P;J&Z6&&(w=w.replace(/\+/g," ")),J&W6&&(w=z8.default(w)||w);let H="";if(B){let S=M.slice(W+1,G);J&q6&&(S=S.replace(/\+/g," ")),J&O$&&(S=z8.default(S)||S),H=S}let A=Q[w];if(H.charCodeAt(0)===91&&H.charCodeAt(H.length-1)===93){try{H=JSON.parse(H)}catch{}A===void 0?Q[w]=H:Array.isArray(A)?A.push(H):Q[w]=[A,H]}else if(H.charCodeAt(0)===123&&H.charCodeAt(H.length-1)===125){try{H=JSON.parse(H)}catch{}A===void 0?Q[w]=H:Array.isArray(A)?A.push(H):Q[w]=[A,H]}else H.includes(",")&&(H=H.split(",")),A===void 0?Q[w]=H:Array.isArray(A)?A.push(H):Q[w]=[A,H]}}function u$($){let X=Object.create(null),Q=0,J=$.length,Y=-1,Z=-1;for(let q=0;q<J;q++)switch($.charCodeAt(q)){case 38:W($,q),Y=q,Z=q,Q=0;break;case 61:Z<=Y?Z=q:Q|=O$;break;case 43:Z>Y?Q|=q6:Q|=Z6;break;case 37:Z>Y?Q|=O$:Q|=W6;break}return Y<J&&W($,J),X;function W(q,M){let G=Z>Y,B=G?Z:M,N=q.slice(Y+1,B);if(!G&&N.length===0)return;let P=N;Q&Z6&&(P=P.replace(/\+/g," ")),Q&W6&&(P=z8.default(P)||P);let w="";if(G){let A=q.slice(Z+1,M);Q&q6&&(A=A.replace(/\+/g," ")),Q&O$&&(A=z8.default(A)||A),w=A}let H=X[P];H===void 0?X[P]=w:Array.isArray(H)?H.push(w):X[P]=[H,w]}}var H8=Symbol("ElysiaTrace"),P$=()=>{let{promise:$,resolve:X}=Promise.withResolvers(),{promise:Q,resolve:J}=Promise.withResolvers(),{promise:Y,resolve:Z}=Promise.withResolvers(),W=[],q=[];return[(M)=>(M&&W.push(M),$),(M)=>{let G=[],B=[],N=null;for(let w=0;w<(M.total??0);w++){let{promise:H,resolve:A}=Promise.withResolvers(),{promise:S,resolve:j}=Promise.withResolvers(),{promise:K,resolve:y}=Promise.withResolvers(),o=[],n=[];G.push((f)=>(f&&o.push(f),H)),B.push((f)=>{let I={...f,end:S,error:K,index:w,onStop(k){return k&&n.push(k),S}};A(I);for(let k=0;k<o.length;k++)o[k](I);return(k=null)=>{let b=performance.now();k&&(N=k);let _={end:b,error:k,get elapsed(){return b-f.begin}};for(let V=0;V<n.length;V++)n[V](_);j(b),y(k)}})}let P={...M,end:Q,error:Y,onEvent(w){for(let H=0;H<G.length;H++)G[H](w)},onStop(w){return w&&q.push(w),Q}};X(P);for(let w=0;w<W.length;w++)W[w](P);return{resolveChild:B,resolve(w=null){let H=performance.now();!w&&N&&(w=N);let A={end:H,error:w,get elapsed(){return H-M.begin}};for(let S=0;S<q.length;S++)q[S](A);J(H),Z(w)}}}]},m5=($)=>(X)=>{let[Q,J]=P$(),[Y,Z]=P$(),[W,q]=P$(),[M,G]=P$(),[B,N]=P$(),[P,w]=P$(),[H,A]=P$(),[S,j]=P$(),[K,y]=P$();return $({id:X[z$],context:X,set:X.set,onRequest:Q,onParse:Y,onTransform:W,onBeforeHandle:M,onHandle:B,onAfterHandle:P,onMapResponse:S,onAfterResponse:K,onError:H,time:Date.now(),store:X.store}),{request:J,parse:Z,transform:q,beforeHandle:G,handle:N,afterHandle:w,error:A,mapResponse:j,afterResponse:y}};var d1=Symbol.for("TypeBox.Kind"),lA=Symbol.for("TypeBox.Hint"),c5=($)=>/(\ |-|\t|\n|\.)/.test($)||!isNaN(+$[0]),p5=($,X,Q=!1)=>{if(typeof X==="number")return`${$}[${X}]`;if(c5(X))return`${$}${Q?"?.":""}["${X}"]`;return`${$}${Q?"?":""}.${X}`},tA=($)=>c5($)?`"${$}"`:$,u5=($,X=0,Q)=>{if(Q.type!=="string"||Q.const||Q.trusted)return $;let J="";for(let Y=X-1;Y>=0;Y--)J+=`d.h${Y}(`;return J+$+")".repeat(X)},i5=($)=>{if(!$.allOf||d1 in $&&($[d1]!=="Intersect"||$.type!=="object"))return $;let{allOf:X,...Q}=$;if(Q.properties={},d1 in Q)Q[d1]="Object";for(let J of X){if(J.type!=="object")continue;let{properties:Y,required:Z,type:W,[d1]:q,...M}=J;if(Z)Q.required=Q.required?Q.required.concat(Z):Z;Object.assign(Q,M);for(let G in J.properties)Q.properties[G]=i5(J.properties[G])}return Q},sA=($,X,Q)=>{let J=$.patternProperties["^(.*)$"]??$.patternProperties[Object.keys($.patternProperties)[0]];if(!J)return X;let Y=Q.array;Q.array++;let Z=`(()=>{const ar${Y}s=Object.keys(${X}),ar${Y}v={};for(let i=0;i<ar${Y}s.length;i++){const ar${Y}p=${X}[ar${Y}s[i]];ar${Y}v[ar${Y}s[i]]=${L$(J,`ar${Y}p`,Q)}`,W=Q.optionalsInArray[Y+1];if(W)for(let q=0;q<W.length;q++){let M=`ar${Y}v[ar${Y}s[i]].${W[q]}`;Z+=`;if(${M}===undefined)delete ${M}`}return Z+=`}return ar${Y}v})()`,Z},rA=($,X,Q)=>{let J=Q.array;Q.array++;let Y=X==="v"&&!Q.unions.length,Z="";if(!Y)Z="(()=>{";Z+=`const ar${J}v=[`;for(let W=0;W<$.length;W++){if(W!==0)Z+=",";Z+=L$($[W],p5(X,W,Q.parentIsOptional),Q)}if(Z+="];",!Y)Z+=`return ar${J}v})()`;return Z};function HQ($,X=new WeakMap){if($===null||typeof $!=="object"||typeof $==="function")return $;if(X.has($))return X.get($);if(Array.isArray($)){let Q=Array($.length);X.set($,Q);for(let J=0;J<$.length;J++)Q[J]=HQ($[J],X);return Q}if(typeof $==="object"){let Q=Object.keys($).concat(Object.getOwnPropertySymbols($)),J={};for(let Y of Q)J[Y]=HQ($[Y],X);return J}return $}var aA=($,X,Q)=>{if(Q.TypeCompiler===void 0){if(!Q.typeCompilerWanred)console.warn(Error("[exact-mirror] TypeBox's TypeCompiler is required to use Union")),Q.typeCompilerWanred=!0;return X}Q.unionKeys[X]=1;let J=Q.unions.length,Y=Q.unions[J]=[],Z=`(()=>{
`,W=(q)=>{if(!(d1 in q)||!q.$ref)return q;if(q[d1]==="This")return HQ(Q.definitions[q.$ref]);else if(q[d1]==="Ref")if(!Q.modules)console.warn(Error("[exact-mirror] modules is required when using nested cyclic reference"));else return Q.modules.Import(q.$ref);return q};for(let q=0;q<$.length;q++){let M=W($[q]);if(Array.isArray(M.anyOf))for(let G=0;G<M.anyOf.length;G++)M.anyOf[G]=W(M.anyOf[G]);else if(M.items)if(Array.isArray(M.items))for(let G=0;G<M.items.length;G++)M.items[G]=W(M.items[G]);else M.items=W(M.items);Y.push(_2.Compile(M)),Z+=`if(d.unions[${J}][${q}].Check(${X})){return ${L$(M,X,{...Q,recursion:Q.recursion+1,parentIsOptional:!0})}}
`}return Z+=`return ${Q.removeUnknownUnionType?"undefined":X}})()`,Z},L$=($,X,Q)=>{if(!$)return"";let J=X==="v"&&!Q.unions.length;if(d1 in $&&$[d1]==="Import"&&$.$ref in $.$defs)return L$($.$defs[$.$ref],X,{...Q,definitions:Object.assign(Q.definitions,$.$defs)});if(J&&$.type!=="object"&&$.type!=="array"&&!$.anyOf)return`return ${u5("v",Q.sanitize?.length,$)}`;if(Q.recursion>=Q.recursionLimit)return X;let Y="";if($.$id&&lA in $)Q.definitions[$.$id]=$;switch($.type){case"object":if($[d1]==="Record"){Y=sA($,X,Q);break}if($=i5($),Y+="{",$.additionalProperties)Y+=`...${X},`;let Z=Object.keys($.properties);for(let G=0;G<Z.length;G++){let B=Z[G],N=!$.required||$.required&&!$.required.includes(B)||Array.isArray($.properties[B].anyOf),P=p5(X,B,Q.parentIsOptional);if(N){let H=Q.array;if(X.startsWith("ar")){let A=P.slice(P.indexOf(".")+1),S=Q.optionalsInArray;if(S[H])S[H].push(A);else S[H]=[A]}else Q.optionals.push(P)}let w=$.properties[B];if(G!==0)Y+=",";Y+=`${tA(B)}:${N?`${P}===undefined?undefined:`:""}${L$(w,P,{...Q,recursion:Q.recursion+1,parentIsOptional:N})}`}Y+="}";break;case"array":if($.items.type!=="object"&&$.items.type!=="array")if(Array.isArray($.items)){Y=rA($.items,X,Q);break}else if(J)return"return v";else if(d1 in $.items&&$.items.$ref&&($.items[d1]==="Ref"||$.items[d1]==="This"))Y=L$(HQ(Q.definitions[$.items.$ref]),X,{...Q,parentIsOptional:!0,recursion:Q.recursion+1});else{Y=X;break}let W=Q.array;Q.array++;let q=X;if(J)Y=`const ar${W}v=new Array(${X}.length);`;else q=`ar${W}s`,Y=`((${q})=>{const ar${W}v=new Array(${q}.length);`;Y+=`for(let i=0;i<${q}.length;i++){const ar${W}p=${q}[i];ar${W}v[i]=${L$($.items,`ar${W}p`,Q)}`;let M=Q.optionalsInArray[W+1];if(M)for(let G=0;G<M.length;G++){let B=`ar${W}v[i].${M[G]}`;Y+=`;if(${B}===undefined)delete ${B}`}if(Y+="}",!J)Y+=`return ar${W}v})(${X})`;break;default:if($.$ref&&$.$ref in Q.definitions)return L$(Q.definitions[$.$ref],X,Q);if(Array.isArray($.anyOf)){Y=aA($.anyOf,X,Q);break}Y=u5(X,Q.sanitize?.length,$);break}if(!J)return Y;if($.type==="array")Y=`${Y}const x=ar0v;`;else Y=`const x=${Y}
`;for(let Z=0;Z<Q.optionals.length;Z++){let W=Q.optionals[Z],q=W.slice(1);if(Y+=`if(${W}===undefined`,Q.unionKeys[W])Y+=`||x${q}===undefined`;let M=q.charCodeAt(0)!==63&&$.type!=="array";Y+=`)delete x${M?q.charCodeAt(0)===91?"?.":"?":""}${q}
`}return`${Y}return x`},AQ=($,{TypeCompiler:X,modules:Q,definitions:J,sanitize:Y,recursionLimit:Z=8,removeUnknownUnionType:W=!1}={})=>{let q=[];if(typeof Y==="function")Y=[Y];let M=L$($,"v",{optionals:[],optionalsInArray:[],array:0,parentIsOptional:!1,unions:q,unionKeys:{},TypeCompiler:X,modules:Q,definitions:J??Q?.$defs??{},sanitize:Y,recursion:0,recursionLimit:Z,removeUnknownUnionType:W});if(!q.length&&!Y?.length)return Function("v",M);let G;if(Y?.length){G={};for(let B=0;B<Y.length;B++)G[`h${B}`]=Y[B]}return Function("d",`return function mirror(v){${M}}`)({unions:q,...G})};var rJ=($)=>$?$?.[L]==="Import"&&$.References?$.References().some(rJ):($.schema&&($=$.schema),!!$&&(Z1 in $)):!1,l2=($)=>{if(!$)return!1;let X=$?.schema??$;if(X[L]==="Import"&&$.References)return $.References().some(l2);if(X.anyOf)return X.anyOf.some(l2);if(X.someOf)return X.someOf.some(l2);if(X.allOf)return X.allOf.some(l2);if(X.not)return X.not.some(l2);if(X.type==="object"){let Q=X.properties;if("additionalProperties"in X)return X.additionalProperties;if("patternProperties"in X)return!1;for(let J of Object.keys(Q)){let Y=Q[J];if(Y.type==="object"){if(l2(Y))return!0}else if(Y.anyOf){for(let Z=0;Z<Y.anyOf.length;Z++)if(l2(Y.anyOf[Z]))return!0}return Y.additionalProperties}return!1}return X.type==="array"&&X.items&&!Array.isArray(X.items)?l2(X.items):!1},K$=($,X)=>{if(!X)return!1;if(L in X&&X[L]===$)return!0;if(X.type==="object"){let Q=X.properties;if(!Q)return!1;for(let J of Object.keys(Q)){let Y=Q[J];if(Y.type==="object"){if(K$($,Y))return!0}else if(Y.anyOf){for(let Z=0;Z<Y.anyOf.length;Z++)if(K$($,Y.anyOf[Z]))return!0}if(L in Y&&Y[L]===$)return!0}return!1}return!!X.properties&&L in X.properties&&X.properties[L]===$},T2=($,X)=>{if(!X)return!1;let Q=X?.schema??X;if(Q.elysiaMeta===$)return!0;if(Q[L]==="Import"&&X.References)return X.References().some((J)=>T2($,J));if(Q.anyOf)return Q.anyOf.some((J)=>T2($,J));if(Q.someOf)return Q.someOf.some((J)=>T2($,J));if(Q.allOf)return Q.allOf.some((J)=>T2($,J));if(Q.not)return Q.not.some((J)=>T2($,J));if(Q.type==="object"){let J=Q.properties;for(let Y of Object.keys(J)){let Z=J[Y];if(Z.type==="object"){if(T2($,Z))return!0}else if(Z.anyOf){for(let W=0;W<Z.anyOf.length;W++)if(T2($,Z.anyOf[W]))return!0}return Q.elysiaMeta===$}return!1}return Q.type==="array"&&Q.items&&!Array.isArray(Q.items)?T2($,Q.items):!1},s6=($,X)=>{if(!X)return;let Q=X.schema??X;if(Q[L]==="Import"&&X.References)return X.References().some((J)=>s6($,J));if(Q.type==="object"){let J=Q.properties;if(!J)return!1;for(let Y of Object.keys(J)){let Z=J[Y];if($ in Z)return!0;if(Z.type==="object"){if(s6($,Z))return!0}else if(Z.anyOf){for(let W=0;W<Z.anyOf.length;W++)if(s6($,Z.anyOf[W]))return!0}}return!1}return $ in Q},b2=($)=>{if(!$)return!1;if($.oneOf){for(let X=0;X<$.oneOf.length;X++)if(b2($.oneOf[X]))return!0}if($.anyOf){for(let X=0;X<$.anyOf.length;X++)if(b2($.anyOf[X]))return!0}if($.oneOf){for(let X=0;X<$.oneOf.length;X++)if(b2($.oneOf[X]))return!0}if($.allOf){for(let X=0;X<$.allOf.length;X++)if(b2($.allOf[X]))return!0}if($.not&&b2($.not))return!0;if($.type==="object"&&$.properties){let X=$.properties;for(let Q of Object.keys(X)){let J=X[Q];if(b2(J)||J.type==="array"&&J.items&&b2(J.items))return!0}}return $.type==="array"&&$.items&&b2($.items)?!0:$[L]==="Ref"&&("$ref"in $)},k2=($)=>{if(!$)return!1;if($.$ref&&$.$defs&&$.$ref in $.$defs&&k2($.$defs[$.$ref]))return!0;if($.oneOf){for(let X=0;X<$.oneOf.length;X++)if(k2($.oneOf[X]))return!0}if($.anyOf){for(let X=0;X<$.anyOf.length;X++)if(k2($.anyOf[X]))return!0}if($.allOf){for(let X=0;X<$.allOf.length;X++)if(k2($.allOf[X]))return!0}if($.not&&k2($.not))return!0;if($.type==="object"&&$.properties){let X=$.properties;for(let Q of Object.keys(X)){let J=X[Q];if(k2(J)||J.type==="array"&&J.items&&k2(J.items))return!0}}return $.type==="array"&&$.items&&k2($.items)?!0:(C0 in $)},DQ=($,X,Q={})=>{let J=Q;if(J.root=!0,!Array.isArray(X))return X.original=$,B1($,X,J);for(let Y of X)Y.original=$,$=B1($,Y,J);return $},B1=($,X,Q)=>{if(!$)return $;let J=Q.root;if(X.onlyFirst&&$.type===X.onlyFirst)return X.to($)??$;if(X.untilObjectFound&&!J&&$.type==="object")return $;let Y=X.from[L];if($.oneOf){for(let q=0;q<$.oneOf.length;q++)$.oneOf[q]=B1($.oneOf[q],X,Q);return $}if($.anyOf){for(let q=0;q<$.anyOf.length;q++)$.anyOf[q]=B1($.anyOf[q],X,Q);return $}if($.allOf){for(let q=0;q<$.allOf.length;q++)$.allOf[q]=B1($.allOf[q],X,Q);return $}if($.not)return B1($.not,X,Q);let Z=J&&!!X.excludeRoot;if($[L]===Y){let{anyOf:q,oneOf:M,allOf:G,not:B,properties:N,items:P,...w}=$,H=X.to(w);if(!H)return $;let A,S=(K)=>{let y=j(K);return y.$id&&delete y.$id,y},j=(K)=>{if(N&&K.type==="object"){let o={};for(let[n,f]of Object.entries(N))o[n]=B1(f,X,{...Q,root:!1});return{...w,...K,properties:o}}if(P&&K.type==="array")return{...w,...K,items:B1(P,X,{...Q,root:!1})};let y={...w,...K};return delete y.required,N&&K.type==="string"&&K.format==="ObjectString"&&K.default==="{}"?(A=T.ObjectString(N,w),y.properties=N):P&&K.type==="string"&&K.format==="ArrayString"&&K.default==="[]"&&(A=T.ArrayString(P,w),y.items=P),y};if(Z){if(N){let K={};for(let[y,o]of Object.entries(N))K[y]=B1(o,X,{...Q,root:!1});return{...w,properties:K}}else if(P?.map)return{...w,items:P.map((K)=>B1(K,X,{...Q,root:!1}))};return w}if(H.anyOf)for(let K=0;K<H.anyOf.length;K++)H.anyOf[K]=S(H.anyOf[K]);else if(H.oneOf)for(let K=0;K<H.oneOf.length;K++)H.oneOf[K]=S(H.oneOf[K]);else if(H.allOf)for(let K=0;K<H.allOf.length;K++)H.allOf[K]=S(H.allOf[K]);else H.not&&(H.not=S(H.not));if(A&&(H[C0]=A[C0]),H.anyOf||H.oneOf||H.allOf||H.not)return H;if(N){let K={};for(let[y,o]of Object.entries(N))K[y]=B1(o,X,{...Q,root:!1});return{...w,...H,properties:K}}else if(P?.map)return{...w,...H,items:P.map((K)=>B1(K,X,{...Q,root:!1}))};return{...w,...H}}let W=$?.properties;if(W&&J&&X.rootOnly!==!0)for(let[q,M]of Object.entries(W))switch(M[L]){case Y:let{anyOf:G,oneOf:B,allOf:N,not:P,type:w,...H}=M,A=X.to(H);if(!A)return $;if(A.anyOf)for(let S=0;S<A.anyOf.length;S++)A.anyOf[S]={...H,...A.anyOf[S]};else if(A.oneOf)for(let S=0;S<A.oneOf.length;S++)A.oneOf[S]={...H,...A.oneOf[S]};else if(A.allOf)for(let S=0;S<A.allOf.length;S++)A.allOf[S]={...H,...A.allOf[S]};else A.not&&(A.not={...H,...A.not});W[q]={...H,...B1(H,X,{...Q,root:!1})};break;case"Object":case"Union":W[q]=B1(M,X,{...Q,root:!1});break;default:if(Array.isArray(M.items))for(let S=0;S<M.items.length;S++)M.items[S]=B1(M.items[S],X,{...Q,root:!1});else M.anyOf||M.oneOf||M.allOf||M.not?W[q]=B1(M,X,{...Q,root:!1}):M.type==="array"&&(M.items=B1(M.items,X,{...Q,root:!1}));break}return $.type==="array"&&$.items&&(Array.isArray($.items)?$.items=$.items.map((q)=>B1(q,X,{...Q,root:!1})):$.items=B1($.items,X,{...Q,root:!1})),$},M6=($)=>(X)=>{if(typeof X=="object")try{return S0.Clean($,X)}catch{}return X},c0=($,{models:X={},dynamic:Q=!1,modules:J,normalize:Y=!1,additionalProperties:Z=!1,forceAdditionalProperties:W=!1,coerce:q=!1,additionalCoerce:M=[],validators:G,sanitize:B}={})=>{if(G=G?.filter((j)=>j),!$){if(!G?.length)return;$=G[0],G=G.slice(1)}let N,P=(j)=>q?DQ(j,[{from:T.Number(),to:(K)=>T.Numeric(K),untilObjectFound:!0},{from:T.Boolean(),to:(K)=>T.BooleanString(K),untilObjectFound:!0},...Array.isArray(M)?M:[M]]):DQ(j,M),w=(j)=>{if(j&&typeof j!="string"&&"~standard"in j)return j;if(!j)return;let K;if(typeof j!="string")K=j;else if(K=J&&j in J.$defs?J.Import(j):X[j],!K)return;if(L in K)if(K[L]==="Import")b2(K.$defs[K.$ref])||(K=K.$defs[K.$ref],(q||M)&&(K=P(K)));else if(b2(K)){let y=d$();K=T.Module({...J?.$defs,[y]:K}).Import(y)}else(q||M)&&(K=P(K));return K},H=w($),A=G;if("~standard"in H||G?.length&&G.some((j)=>j&&typeof j!="string"&&("~standard"in j))){let j=(f)=>{let I;if(Y===!0||Y==="exactMirror")try{I=AQ(f,{TypeCompiler:_2,sanitize:B?.(),modules:J})}catch{console.warn("Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues"),console.warn(f),I=M6(f)}let k=c0(f,{models:X,modules:J,dynamic:Q,normalize:Y,additionalProperties:!0,forceAdditionalProperties:!0,coerce:q,additionalCoerce:M});return k.Decode=I,(b)=>k.Check(b)?{value:k.Decode(b)}:{issues:[...k.Errors(b)]}},K=H["~standard"]?H["~standard"].validate:j(H),y=[];if(G?.length){for(let f of G)if(f&&typeof f!="string"){if(f?.["~standard"]){y.push(f["~standard"]);continue}if(L in f){y.push(j(f));continue}}}async function o(f){let I=K(f);if(I instanceof Promise&&(I=await I),I.issues)return I;let k=[];I&&typeof I=="object"&&k.push(I.value);for(let _=0;_<y.length;_++){if(I=y[_].validate(f),I instanceof Promise&&(I=await I),I.issues)return I;I&&typeof I=="object"&&k.push(I.value)}if(!k.length)return{value:I};if(k.length===1)return{value:k[0]};if(k.length===2)return{value:Y1(k[0],k[1])};let b=Y1(k[0],k[1]);for(let _=2;_<k.length;_++)b=Y1(b,k[_]);return{value:b}}let n={provider:"standard",schema:H,references:"",checkFunc:()=>{},code:"",Check:o,Errors:(f)=>o(f)?.then?.((I)=>I?.issues),Code:()=>"",Decode:o,Encode:(f)=>f,hasAdditionalProperties:!1,hasDefault:!1,isOptional:!1,hasTransform:!1,hasRef:!1};return n.parse=(f)=>{try{return n.Decode(n.Clean?.(f)??f)}catch{throw[...n.Errors(f)].map(M1)}},n.safeParse=(f)=>{try{return{success:!0,data:n.Decode(n.Clean?.(f)??f),error:null}}catch{let I=[...S.Errors(f)].map(M1);return{success:!1,data:null,error:I[0]?.summary,errors:I}}},n}else if(G?.length){let j=!1,K=A,{schema:y,notObjects:o}=eA([H,...K.map(w)]);o&&(H=T.Intersect([...y?[y]:[],...o.map((n)=>{let f=w(n);return f.type==="object"&&"additionalProperties"in f&&(!j&&f.additionalProperties===!1&&(j=!0),delete f.additionalProperties),f})]),H.type==="object"&&j&&(H.additionalProperties=!1))}else H.type==="object"&&(!("additionalProperties"in H)||W)?H.additionalProperties=Z:H=DQ(H,{onlyFirst:"object",from:T.Object({}),to({properties:j,...K}){if(j&&!("additionalProperties"in H))return T.Object(j,{...K,additionalProperties:!1})}});if(Q)if(L in H){let j={provider:"typebox",schema:H,references:"",checkFunc:()=>{},code:"",Check:(K)=>S0.Check(H,K),Errors:(K)=>S0.Errors(H,K),Code:()=>"",Clean:M6(H),Decode:(K)=>S0.Decode(H,K),Encode:(K)=>S0.Encode(H,K),get hasAdditionalProperties(){return"~hasAdditionalProperties"in this?this["~hasAdditionalProperties"]:this["~hasAdditionalProperties"]=l2(H)},get hasDefault(){return"~hasDefault"in this?this["~hasDefault"]:this["~hasDefault"]=s6("default",H)},get isOptional(){return"~isOptional"in this?this["~isOptional"]:this["~isOptional"]=rJ(H)},get hasTransform(){return"~hasTransform"in this?this["~hasTransform"]:this["~hasTransform"]=k2(H)},"~hasRef":N,get hasRef(){return"~hasRef"in this?this["~hasRef"]:this["~hasRef"]=k2(H)}};if(H.config&&(j.config=H.config,j?.schema?.config&&delete j.schema.config),Y&&H.additionalProperties===!1)if(Y===!0||Y==="exactMirror")try{j.Clean=AQ(H,{TypeCompiler:_2,sanitize:B?.(),modules:J})}catch{console.warn("Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues"),console.warn(H),j.Clean=M6(H)}else j.Clean=M6(H);return j.parse=(K)=>{try{return j.Decode(j.Clean?.(K)??K)}catch{throw[...j.Errors(K)].map(M1)}},j.safeParse=(K)=>{try{return{success:!0,data:j.Decode(j.Clean?.(K)??K),error:null}}catch{let y=[...S.Errors(K)].map(M1);return{success:!1,data:null,error:y[0]?.summary,errors:y}}},j}else{let j={provider:"standard",schema:H,references:"",checkFunc:()=>{},code:"",Check:(K)=>H["~standard"].validate(K),Errors(K){let y=H["~standard"].validate(K);if(y instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return y.issues},Code:()=>"",Decode(K){let y=H["~standard"].validate(K);if(y instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return y},Encode:(K)=>K,hasAdditionalProperties:!1,hasDefault:!1,isOptional:!1,hasTransform:!1,hasRef:!1};return j.parse=(K)=>{try{return j.Decode(j.Clean?.(K)??K)}catch{throw[...j.Errors(K)].map(M1)}},j.safeParse=(K)=>{try{return{success:!0,data:j.Decode(j.Clean?.(K)??K),error:null}}catch{let y=[...S.Errors(K)].map(M1);return{success:!1,data:null,error:y[0]?.summary,errors:y}}},j}let S;if(L in H)if(S=_2.Compile(H,Object.values(X).filter((j)=>(L in j))),S.provider="typebox",H.config&&(S.config=H.config,S?.schema?.config&&delete S.schema.config),Y===!0||Y==="exactMirror")try{S.Clean=AQ(H,{TypeCompiler:_2,sanitize:B?.(),modules:J})}catch{console.warn("Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues"),console.dir(H,{depth:null}),S.Clean=M6(H)}else Y==="typebox"&&(S.Clean=M6(H));else S={provider:"standard",schema:H,references:"",checkFunc(j){let K=H["~standard"].validate(j);if(K instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return K},code:"",Check:(j)=>H["~standard"].validate(j),Errors(j){let K=H["~standard"].validate(j);if(K instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return K.issues},Code:()=>"",Decode(j){let K=H["~standard"].validate(j);if(K instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return K},Encode:(j)=>j,hasAdditionalProperties:!1,hasDefault:!1,isOptional:!1,hasTransform:!1,hasRef:!1};return S.parse=(j)=>{try{return S.Decode(S.Clean?.(j)??j)}catch{throw[...S.Errors(j)].map(M1)}},S.safeParse=(j)=>{try{return{success:!0,data:S.Decode(S.Clean?.(j)??j),error:null}}catch{let K=[...S.Errors(j)].map(M1);return{success:!1,data:null,error:K[0]?.summary,errors:K}}},L in H&&Object.assign(S,{get hasAdditionalProperties(){return"~hasAdditionalProperties"in this?this["~hasAdditionalProperties"]:this["~hasAdditionalProperties"]=l2(S)},get hasDefault(){return"~hasDefault"in this?this["~hasDefault"]:this["~hasDefault"]=s6("default",S)},get isOptional(){return"~isOptional"in this?this["~isOptional"]:this["~isOptional"]=rJ(S)},get hasTransform(){return"~hasTransform"in this?this["~hasTransform"]:this["~hasTransform"]=k2(H)},get hasRef(){return"~hasRef"in this?this["~hasRef"]:this["~hasRef"]=b2(H)},"~hasRef":N}),S},n5=($)=>$[L]==="Union"||!$.schema&&!!$.anyOf,eA=($)=>{if($.length===0)return{schema:void 0,notObjects:[]};if($.length===1)return $[0].type==="object"?{schema:$[0],notObjects:[]}:{schema:void 0,notObjects:$};let X,Q=[],J=!1,Y=!1;for(let Z of $){if(Z.type!=="object"){Q.push(Z);continue}if("additionalProperties"in Z&&(Z.additionalProperties===!0?J=!0:Z.additionalProperties===!1&&(Y=!0)),!X){X=Z;continue}X={...X,...Z,properties:{...X.properties,...Z.properties},required:[...X?.required??[],...Z.required]}}return X&&(X.required&&(X.required=[...new Set(X.required)]),Y?X.additionalProperties=!1:J&&(X.additionalProperties=!0)),{schema:X,notObjects:Q}},OQ=($,{models:X={},modules:Q,dynamic:J=!1,normalize:Y=!1,additionalProperties:Z=!1,validators:W=[],sanitize:q})=>{if(W=W.filter((B)=>B),!$){if(!W?.length)return;$=W[0],W=W.slice(1)}let M;if(typeof $!="string")M=$;else if(M=Q&&$ in Q.$defs?Q.Import($):X[$],!M)return;if(!M)return;if(L in M||"~standard"in M)return{200:c0(M,{modules:Q,models:X,additionalProperties:Z,dynamic:J,normalize:Y,coerce:!1,additionalCoerce:[],validators:W.map((B)=>B[200]),sanitize:q})};let G={};return Object.keys(M).forEach((B)=>{if(isNaN(+B))return;let N=M[+B];if(typeof N=="string"){if(N in X){let P=X[N];if(!P)return;G[+B]=L in P||"~standard"in P?c0(P,{modules:Q,models:X,additionalProperties:Z,dynamic:J,normalize:Y,coerce:!1,additionalCoerce:[],validators:W.map((w)=>w[+B]),sanitize:q}):P}return}G[+B]=L in N||"~standard"in N?c0(N,{modules:Q,models:X,additionalProperties:Z,dynamic:J,normalize:Y,coerce:!1,additionalCoerce:[],validators:W.map((P)=>P[+B]),sanitize:q}):N}),G},lJ,B6=()=>(lJ||(lJ=[{from:T.Object({}),to:()=>T.ObjectString({}),excludeRoot:!0},{from:T.Array(T.Any()),to:()=>T.ArrayString(T.Any())}]),lJ),tJ,aJ=()=>(tJ||(tJ=[{from:T.Object({}),to:()=>T.ObjectString({}),excludeRoot:!0},{from:T.Array(T.Any()),to:()=>T.ArrayQuery(T.Any())}]),tJ),sJ,r6=()=>(sJ||(sJ=[{from:T.Number(),to:($)=>T.Numeric($),rootOnly:!0},{from:T.Boolean(),to:($)=>T.BooleanString($),rootOnly:!0}]),sJ),o5=({validator:$,modules:X,defaultConfig:Q={},config:J,dynamic:Y,normalize:Z=!1,models:W,validators:q,sanitize:M})=>{let G=$?.provider?$:c0($,{modules:X,dynamic:Y,models:W,normalize:Z,additionalProperties:!0,coerce:!0,additionalCoerce:B6(),validators:q,sanitize:M});return G?G.config=y6(G.config,J):(G=c0(T.Cookie(T.Any()),{modules:X,dynamic:Y,models:W,additionalProperties:!0,validators:q,sanitize:M}),G.config=Q),G},A8=($)=>$&&$[L]==="Import"&&$.$defs[$.$ref][L]==="Object"?$.$defs[$.$ref]:$;var p0=($,X)=>X?$:"",$D=["json","text","urlencoded","arrayBuffer","formdata","application/json","text/plain","application/x-www-form-urlencoded","application/octet-stream","multipart/form-data"],$X=({context:$="c",trace:X=[],addFn:Q})=>{if(!X.length)return()=>({resolveChild(){return()=>{}},resolve(){}});for(let J=0;J<X.length;J++)Q(`let report${J},reportChild${J},reportErr${J},reportErrChild${J};let trace${J}=${$}[ELYSIA_TRACE]?.[${J}]??trace[${J}](${$});
`);return(J,{name:Y,total:Z=0}={})=>{Y||(Y="anonymous");let W=J==="error"?"reportErr":"report";for(let q=0;q<X.length;q++)Q(`${W}${q} = trace${q}.${J}({id,event:'${J}',name:'${Y}',begin:performance.now(),total:${Z}})
`);return{resolve(){for(let q=0;q<X.length;q++)Q(`${W}${q}.resolve()
`)},resolveChild(q){for(let M=0;M<X.length;M++)Q(`${W}Child${M}=${W}${M}.resolveChild?.shift()?.({id,event:'${J}',name:'${q}',begin:performance.now()})
`);return(M)=>{for(let G=0;G<X.length;G++)Q(M?`if(${M} instanceof Error){${W}Child${G}?.(${M}) }else{${W}Child${G}?.()}`:`${W}Child${G}?.()
`)}}}}},a6=({schema:$,name:X,type:Q,typeAlias:J=Q,normalize:Y,ignoreTryCatch:Z=!1})=>!Y||!$.Clean?"":Y===!0||Y==="exactMirror"?Z?`${X}=validator.${J}.Clean(${X})
`:`try{${X}=validator.${J}.Clean(${X})
}catch{}`:Y==="typebox"?`${X}=validator.${J}.Clean(${X})
`:"",XD=({injectResponse:$="",normalize:X=!1,validator:Q,encodeSchema:J=!1,isStaticResponse:Y=!1,hasSanitize:Z=!1})=>({validate:(W,q=`c.${W}`,M)=>`c.set.status=422;throw new ValidationError('${W}',validator.${W},${q}${M?","+M:""})`,response:(W="r")=>{if(Y||!Q.response)return"";let q=$+`
`;q+=`if(${W} instanceof ElysiaCustomStatusResponse){c.set.status=${W}.code
${W}=${W}.response}if(${W} instanceof Response === false)switch(c.set.status){`;for(let[M,G]of Object.entries(Q.response)){if(q+=`
case ${M}:
`,G.provider==="standard"){q+=`let vare${M}=validator.response[${M}].Check(${W})
if(vare${M} instanceof Promise)vare${M}=await vare${M}
if(vare${M}.issues)throw new ValidationError('response',validator.response[${M}],${W},vare${M}.issues)
${W}=vare${M}.value
c.set.status=${M}
break
`;continue}let B=G.schema?.noValidate===!0;if(!B&&G.schema?.$ref&&G.schema?.$defs){let H=G.schema.$ref,A=typeof H=="string"&&H.includes("/")?H.split("/").pop():H;G.schema.$defs[A]?.noValidate===!0&&(B=!0)}let N=B||Z,P=({ignoreTryCatch:H=!1}={})=>a6({name:W,schema:G,type:"response",typeAlias:`response[${M}]`,normalize:X,ignoreTryCatch:H});N&&(q+=P());let w=!N&&X&&!B;J&&G.hasTransform&&!B?(q+=`try{${W}=validator.response[${M}].Encode(${W})
`,N||(q+=P({ignoreTryCatch:!0})),q+=`c.set.status=${M}}catch{`+(w?`try{
`+P({ignoreTryCatch:!0})+`${W}=validator.response[${M}].Encode(${W})
}catch{throw new ValidationError('response',validator.response[${M}],${W})}`:`throw new ValidationError('response',validator.response[${M}],${W})`)+"}"):(N||(q+=P()),B||(q+=`if(validator.response[${M}].Check(${W})===false)throw new ValidationError('response',validator.response[${M}],${W})
c.set.status=${M}
`)),q+=`break
`}return q+"}"}}),c$=($)=>($?.fn??$).constructor.name==="AsyncFunction",QD=/=>\s?response\.clone\(/,JD=/(?:return|=>)\s?\S+\(|a(?:sync|wait)/,k0=($)=>{let X=typeof $=="object";if(X&&$.isAsync!==void 0)return $.isAsync;let Q=X?$.fn:$;if(Q.constructor.name==="AsyncFunction")return!0;let J=Q.toString();if(QD.test(J))return X&&($.isAsync=!1),!1;let Y=JD.test(J);return X&&($.isAsync=Y),Y},e6=($)=>{let X=typeof $=="object";if(X&&$.hasReturn!==void 0)return $.hasReturn;let Q=X?$.fn.toString():typeof $=="string"?$.toString():$,J=Q.indexOf(")");if(Q.charCodeAt(J+2)===61&&Q.charCodeAt(J+5)!==123)return X&&($.hasReturn=!0),!0;let Y=Q.includes("return");return X&&($.hasReturn=Y),Y},PQ=($)=>{let X=$?.fn??$;return X.constructor.name==="AsyncGeneratorFunction"||X.constructor.name==="GeneratorFunction"},G6=($,X,Q=`c.${X}`)=>`try{${$}}catch(error){if(error.constructor.name === 'TransformDecodeError'){c.set.status=422
throw error.error ?? new ValidationError('${X}',validator.${X},${Q})}}`,t5=({app:$,path:X,method:Q,hooks:J,validator:Y,handler:Z,allowMeta:W=!1,inference:q})=>{let M=$["~adapter"].composeHandler,G=$["~adapter"].handler,B=typeof Z=="function";if(!B){Z=G.mapResponse(Z,{headers:$.setHeaders??{}});let v=Z instanceof Response||Z?.constructor?.name==="Response"&&typeof Z?.clone=="function";if(J.parse?.length&&J.transform?.length&&J.beforeHandle?.length&&J.afterHandle?.length)return v?Function("a",`"use strict";
return function(){return a.clone()}`)(Z):Function("a",`"use strict";
return function(){return a}`)(Z);if(v){let U=Z;Z=()=>U.clone()}}let N=B?"handler(c)":"handler",P=!!J.trace?.length,w="";if(q=U8(Object.assign({handler:Z},J),q,$.config.sucrose),M.declare){let v=M.declare(q);v&&(w+=v)}q.server&&(w+=`Object.defineProperty(c,'server',{get:function(){return getServer()}})
`),Y.createBody?.(),Y.createQuery?.(),Y.createHeaders?.(),Y.createParams?.(),Y.createCookie?.(),Y.createResponse?.();let H=!!Y.body||!!Y.headers||!!Y.params||!!Y.query||!!Y.cookie||!!Y.response,A=q.query||!!Y.query,S=J.parse?.length===1&&J.parse[0].fn==="none",j=Q!==""&&Q!=="GET"&&Q!=="HEAD"&&(q.body||!!Y.body||!!J.parse?.length)&&!S,K=$.setHeaders,y=K&&!!Object.keys(K).length,o=q.headers||!!Y.headers||M.preferWebstandardHeaders!==!0&&q.body,n=q.cookie||!!Y.cookie,f=Y.cookie?.config?y6(Y?.cookie?.config,$.config.cookie):$.config.cookie,I="",k=()=>{if(I)return I;if(f?.sign){if(!f.secrets)throw Error(`t.Cookie required secret which is not set in (${Q}) ${X}.`);let v=f.secrets?typeof f.secrets=="string"?f.secrets:f.secrets[0]:void 0;if(I+=`const _setCookie = c.set.cookie
if(_setCookie){`,f.sign===!0)I+=`for(const [key, cookie] of Object.entries(_setCookie)){c.set.cookie[key].value=await signCookie(cookie.value,'${v}')}`;else for(let U of f.sign)I+=`if(_setCookie['${U}']?.value)c.set.cookie['${U}'].value=await signCookie(_setCookie['${U}'].value,'${v}')
`;I+=`}
`}return I},b=$.config.normalize,_=$.config.encodeSchema,V=XD({normalize:b,validator:Y,encodeSchema:_,isStaticResponse:Z instanceof Response,hasSanitize:!!$.config.sanitize});o&&(w+=M.headers),P&&(w+=`const id=c[ELYSIA_REQUEST_ID]
`);let d=$X({trace:J.trace,addFn:(v)=>{w+=v}});if(w+="try{",n){let v=(D,z)=>{let x=f?.[D]??z;return x?typeof x=="string"?`${D}:'${x}',`:x instanceof Date?`${D}: new Date(${x.getTime()}),`:`${D}:${x},`:typeof z=="string"?`${D}:"${z}",`:`${D}:${z},`},U=f?`{secrets:${f.secrets!==void 0?typeof f.secrets=="string"?`'${f.secrets}'`:"["+f.secrets.reduce((D,z)=>D+`'${z}',`,"")+"]":"undefined"},sign:${f.sign===!0?!0:f.sign!==void 0?"["+f.sign.reduce((D,z)=>D+`'${z}',`,"")+"]":"undefined"},`+v("domain")+v("expires")+v("httpOnly")+v("maxAge")+v("path","/")+v("priority")+v("sameSite")+v("secure")+"}":"undefined";o?w+=`
c.cookie=await parseCookie(c.set,c.headers.cookie,${U})
`:w+=`
c.cookie=await parseCookie(c.set,c.request.headers.get('cookie'),${U})
`}if(A){let v={},U={},D=!1,z=!1;if(Y.query?.schema){let x=A8(Y.query?.schema);if(L in x&&x.properties)for(let[E,g]of Object.entries(x.properties))T2("ArrayQuery",g)&&(v[E]=1,D=!0),T2("ObjectString",g)&&(U[E]=1,z=!0)}w+=`if(c.qi===-1){c.query=Object.create(null)}else{c.query=parseQueryFromURL(c.url,c.qi+1,${D?JSON.stringify(v):void 0},${z?JSON.stringify(U):void 0})}`}let m=typeof Z=="function"&&k0(Z),X0=P||J.afterResponse?.length?"c.response=c.responseValue= ":"",R0=Object.keys(Y.response??{}),e=R0.length>1,C$=R0.length===0||R0.length===1&&R0[0]==="200",j$=n||j||m||!!J.parse?.length||!!J.afterHandle?.some(k0)||!!J.beforeHandle?.some(k0)||!!J.transform?.some(k0)||!!J.mapResponse?.some(k0)||Y.body?.provider==="standard"||Y.headers?.provider==="standard"||Y.query?.provider==="standard"||Y.params?.provider==="standard"||Y.cookie?.provider==="standard"||Object.values(Y.response??{}).find((v)=>v.provider==="standard"),h1=(typeof Z=="function"?PQ(Z):!1)||!!J.beforeHandle?.some(PQ)||!!J.afterHandle?.some(PQ)||!!J.transform?.some(PQ),G2=q.cookie||q.set||o||P||e||!C$||B&&y||h1,d0,$1=()=>{if(d0!==void 0)return d0;if(!J.afterResponse?.length&&!P)return"";let v="",U=J.afterResponse?.some(k0)?"async ":"";v+=`
setImmediate(${U}()=>{`;let D=$X({trace:J.trace,addFn:(z)=>{v+=z}})("afterResponse",{total:J.afterResponse?.length});if(J.afterResponse?.length&&J.afterResponse)for(let z=0;z<J.afterResponse.length;z++){let x=D.resolveChild(J.afterResponse[z].fn.name),E=k0(J.afterResponse[z])?"await ":"";v+=`
${E}e.afterResponse[${z}](c)
`,x()}return D.resolve(),v+=`})
`,d0=v},t0=(v="r")=>{let U=$1(),D=`${G2?"mapResponse":"mapCompactResponse"}(${X0}${v}${G2?",c.set":""}${F1})
`;return U?`const _res=${D}`+U+"return _res":`return ${D}`},F1=h1||M.mapResponseContext?`,${M.mapResponseContext}`:"";(P||q.route)&&(w+=`c.route=\`${X}\`
`);let g2=d("parse",{total:J.parse?.length});if(j){let v=!!J.parse?.length||q.body||Y.body;M.parser.declare&&(w+=M.parser.declare),w+=`
try{`;let U=typeof J.parse=="string"?J.parse:Array.isArray(J.parse)&&J.parse.length===1?typeof J.parse[0]=="string"?J.parse[0]:typeof J.parse[0].fn=="string"?J.parse[0].fn:void 0:void 0;if(!U&&Y.body&&!J.parse?.length){let D=Y.body.schema;D&&D.anyOf&&D[L]==="Union"&&D.anyOf?.length===2&&D.anyOf?.find((z)=>z[L]==="ElysiaForm")&&(U="formdata")}if(U&&$D.includes(U)){let D=d("parse",{total:J.parse?.length}),z=!!Y.body?.isOptional;switch(U){case"json":case"application/json":w+=M.parser.json(z);break;case"text":case"text/plain":w+=M.parser.text(z);break;case"urlencoded":case"application/x-www-form-urlencoded":w+=M.parser.urlencoded(z);break;case"arrayBuffer":case"application/octet-stream":w+=M.parser.arrayBuffer(z);break;case"formdata":case"multipart/form-data":w+=M.parser.formData(z);break;default:U[0]in $["~parser"]&&(w+=o?"let contentType = c.headers['content-type']":"let contentType = c.request.headers.get('content-type')",w+=`
if(contentType){const index=contentType.indexOf(';')
if(index!==-1)contentType=contentType.substring(0,index)}
else{contentType=''}c.contentType=contentType
let result=parser['${U}'](c, contentType)
if(result instanceof Promise)result=await result
if(result instanceof ElysiaCustomStatusResponse)throw result
if(result!==undefined)c.body=result
delete c.contentType
`);break}D.resolve()}else if(v){w+=`
`,w+=`let contentType
if(c.request.body)`,w+=o?`contentType=c.headers['content-type']
`:`contentType=c.request.headers.get('content-type')
`;let D=!1;if(J.parse?.length)w+=`if(contentType){
const index=contentType.indexOf(';')

if(index!==-1)contentType=contentType.substring(0,index)}else{contentType=''}let used=false
c.contentType=contentType
`;else{D=!0;let x=!!Y.body?.isOptional;w+=`if(contentType)switch(contentType.charCodeAt(12)){
case 106:`+M.parser.json(x)+`break
case 120:`+M.parser.urlencoded(x)+`break
case 111:`+M.parser.arrayBuffer(x)+`break
case 114:`+M.parser.formData(x)+`break
default:if(contentType.charCodeAt(0)===116){`+M.parser.text(x)+`}break
}`}let z=d("parse",{total:J.parse?.length});if(J.parse)for(let x=0;x<J.parse.length;x++){let E=`bo${x}`;if(x!==0&&(w+=`
if(!used){`),typeof J.parse[x].fn=="string"){let g=z.resolveChild(J.parse[x].fn),t=!!Y.body?.isOptional;switch(J.parse[x].fn){case"json":case"application/json":D=!0,w+=M.parser.json(t);break;case"text":case"text/plain":D=!0,w+=M.parser.text(t);break;case"urlencoded":case"application/x-www-form-urlencoded":D=!0,w+=M.parser.urlencoded(t);break;case"arrayBuffer":case"application/octet-stream":D=!0,w+=M.parser.arrayBuffer(t);break;case"formdata":case"multipart/form-data":D=!0,w+=M.parser.formData(t);break;default:w+=`let ${E}=parser['${J.parse[x].fn}'](c,contentType)
if(${E} instanceof Promise)${E}=await ${E}
if(${E}!==undefined){c.body=${E};used=true;}
`}g()}else{let g=z.resolveChild(J.parse[x].fn.name);w+=`let ${E}=e.parse[${x}]
${E}=${E}(c,contentType)
if(${E} instanceof Promise)${E}=await ${E}
if(${E}!==undefined){c.body=${E};used=true}`,g()}if(x!==0&&(w+="}"),D)break}if(z.resolve(),!D){let x=!!Y.body?.isOptional;J.parse?.length&&(w+=`
if(!used){
`),w+=`switch(contentType){case 'application/json':
`+M.parser.json(x)+`break
case 'text/plain':`+M.parser.text(x)+`break
case 'application/x-www-form-urlencoded':`+M.parser.urlencoded(x)+`break
case 'application/octet-stream':`+M.parser.arrayBuffer(x)+`break
case 'multipart/form-data':`+M.parser.formData(x)+`break
`;for(let E of Object.keys($["~parser"]))w+=`case '${E}':let bo${E}=parser['${E}'](c,contentType)
if(bo${E} instanceof Promise)bo${E}=await bo${E}
if(bo${E} instanceof ElysiaCustomStatusResponse){`+t0(`bo${E}`)+`}if(bo${E}!==undefined)c.body=bo${E}
break
`;J.parse?.length&&(w+="}"),w+="}"}J.parse?.length&&(w+=`
delete c.contentType`)}w+="}catch(error){throw new ParseError(error)}"}if(g2.resolve(),J?.transform||P){let v=d("transform",{total:J.transform?.length});if(J.transform?.length){w+=`let transformed
`;for(let U=0;U<J.transform.length;U++){let D=J.transform[U],z=v.resolveChild(D.fn.name);w+=k0(D)?`transformed=await e.transform[${U}](c)
`:`transformed=e.transform[${U}](c)
`,D.subType==="mapDerive"?w+="if(transformed instanceof ElysiaCustomStatusResponse){"+t0("transformed")+`}else{transformed.request=c.request
transformed.store=c.store
transformed.qi=c.qi
transformed.path=c.path
transformed.url=c.url
transformed.redirect=c.redirect
transformed.set=c.set
transformed.error=c.error
c=transformed}`:w+="if(transformed instanceof ElysiaCustomStatusResponse){"+t0("transformed")+`}else Object.assign(c,transformed)
`,z()}}v.resolve()}let R1=[];if(Y){if(Y.headers){if(Y.headers.hasDefault)for(let[v,U]of Object.entries(S0.Default(Y.headers.schema,{}))){let D=typeof U=="object"?JSON.stringify(U):typeof U=="string"?`'${U}'`:U;D!==void 0&&(w+=`c.headers['${v}']??=${D}
`)}w+=a6({name:"c.headers",schema:Y.headers,type:"headers",normalize:b}),Y.headers.isOptional&&(w+="if(isNotEmpty(c.headers)){"),Y.headers?.provider==="standard"?w+=`let vah=validator.headers.Check(c.headers)
if(vah instanceof Promise)vah=await vah
if(vah.issues){`+V.validate("headers",void 0,"vah.issues")+`}else{c.headers=vah.value}
`:Y.headers?.schema?.noValidate!==!0&&(w+="if(validator.headers.Check(c.headers) === false){"+V.validate("headers")+"}"),Y.headers.hasTransform&&(w+=G6(`c.headers=validator.headers.Decode(c.headers)
`,"headers")),Y.headers.isOptional&&(w+="}")}if(Y.params){if(Y.params.hasDefault)for(let[v,U]of Object.entries(S0.Default(Y.params.schema,{}))){let D=typeof U=="object"?JSON.stringify(U):typeof U=="string"?`'${U}'`:U;D!==void 0&&(w+=`c.params['${v}']??=${D}
`)}Y.params.provider==="standard"?w+=`let vap=validator.params.Check(c.params)
if(vap instanceof Promise)vap=await vap
if(vap.issues){`+V.validate("params",void 0,"vap.issues")+`}else{c.params=vap.value}
`:Y.params?.schema?.noValidate!==!0&&(w+="if(validator.params.Check(c.params)===false){"+V.validate("params")+"}"),Y.params.hasTransform&&(w+=G6(`c.params=validator.params.Decode(c.params)
`,"params"))}if(Y.query){if(L in Y.query?.schema&&Y.query.hasDefault)for(let[v,U]of Object.entries(S0.Default(Y.query.schema,{}))){let D=typeof U=="object"?JSON.stringify(U):typeof U=="string"?`'${U}'`:U;D!==void 0&&(w+=`if(c.query['${v}']===undefined)c.query['${v}']=${D}
`)}w+=a6({name:"c.query",schema:Y.query,type:"query",normalize:b}),Y.query.isOptional&&(w+="if(isNotEmpty(c.query)){"),Y.query.provider==="standard"?w+=`let vaq=validator.query.Check(c.query)
if(vaq instanceof Promise)vaq=await vaq
if(vaq.issues){`+V.validate("query",void 0,"vaq.issues")+`}else{c.query=vaq.value}
`:Y.query?.schema?.noValidate!==!0&&(w+="if(validator.query.Check(c.query)===false){"+V.validate("query")+"}"),Y.query.hasTransform&&(w+=G6(`c.query=validator.query.Decode(c.query)
`,"query"),w+=G6(`c.query=validator.query.Decode(c.query)
`,"query")),Y.query.isOptional&&(w+="}")}if(j&&Y.body){(Y.body.hasTransform||Y.body.isOptional)&&(w+=`const isNotEmptyObject=c.body&&(typeof c.body==="object"&&(isNotEmpty(c.body)||c.body instanceof ArrayBuffer))
`);let v=n5(Y.body.schema),U=!1;if(Y.body.hasDefault){let D=S0.Default(Y.body.schema,Y.body.schema.type==="object"||A8(Y.body.schema)[L]==="Object"?{}:void 0),z=A8(Y.body.schema);if(!v&&D&&typeof D=="object"&&(K$("File",z)||K$("Files",z))){U=!0;for(let[E,g]of Object.entries(D))(g==="File"||g==="Files")&&delete D[E];A0(D)||(D=void 0)}let x=typeof D=="object"?JSON.stringify(D):typeof D=="string"?`'${D}'`:D;D!=null&&(Array.isArray(D)?w+=`if(!c.body)c.body=${x}
`:typeof D=="object"?w+=`c.body=Object.assign(${x},c.body)
`:w+=`c.body=${x}
`),w+=a6({name:"c.body",schema:Y.body,type:"body",normalize:b}),Y.body.provider==="standard"?w+=`let vab=validator.body.Check(c.body)
if(vab instanceof Promise)vab=await vab
if(vab.issues){`+V.validate("body",void 0,"vab.issues")+`}else{c.body=vab.value}
`:Y.body?.schema?.noValidate!==!0&&(Y.body.isOptional?w+="if(isNotEmptyObject&&validator.body.Check(c.body)===false){"+V.validate("body")+"}":w+="if(validator.body.Check(c.body)===false){"+V.validate("body")+"}")}else w+=a6({name:"c.body",schema:Y.body,type:"body",normalize:b}),Y.body.provider==="standard"?w+=`let vab=validator.body.Check(c.body)
if(vab instanceof Promise)vab=await vab
if(vab.issues){`+V.validate("body",void 0,"vab.issues")+`}else{c.body=vab.value}
`:Y.body?.schema?.noValidate!==!0&&(Y.body.isOptional?w+="if(isNotEmptyObject&&validator.body.Check(c.body)===false){"+V.validate("body")+"}":w+="if(validator.body.Check(c.body)===false){"+V.validate("body")+"}");if(Y.body.hasTransform&&(w+=G6(`if(isNotEmptyObject)c.body=validator.body.Decode(c.body)
`,"body")),v&&Y.body.schema.anyOf?.length){let D=Object.values(Y.body.schema.anyOf);for(let z=0;z<D.length;z++){let x=D[z];if(K$("File",x)||K$("Files",x)){let E=c0(x,{modules:$.definitions.typebox,dynamic:!$.config.aot,models:$.definitions.type,normalize:$.config.normalize,additionalCoerce:r6(),sanitize:()=>$.config.sanitize});if(E){let g=R1.length===0,t=Object.entries(x.properties),D0=g?`
`:" else ";D0+=`if(fileUnions[${R1.length}].Check(c.body)){`;let i0="",G1=0;for(let P1=0;P1<t.length;P1++){let[p$,O8]=t[P1];!O8.extension||O8[L]!=="File"&&O8[L]!=="Files"||(G1&&(i0+=","),i0+=`fileType(c.body.${p$},${JSON.stringify(O8.extension)},'body.${p$}')`,G1++)}i0&&(G1===1?D0+=`await ${i0}
`:G1>1&&(D0+=`await Promise.all([${i0}])
`),D0+="}",w+=D0,R1.push(E))}}}}else if(U||!v&&(K$("File",A8(Y.body.schema))||K$("Files",A8(Y.body.schema)))){let D="",z=0;for(let[x,E]of Object.entries(A8(Y.body.schema).properties))!E.extension||E[L]!=="File"&&E[L]!=="Files"||(z&&(D+=","),D+=`fileType(c.body.${x},${JSON.stringify(E.extension)},'body.${x}')`,z++);z&&(w+=`
`),z===1?w+=`await ${D}
`:z>1&&(w+=`await Promise.all([${D}])
`)}}Y.cookie&&(Y.cookie.config=y6(Y.cookie.config,Y.cookie?.config??{}),w+=`let cookieValue={}
for(const [key,value] of Object.entries(c.cookie))cookieValue[key]=value.value
`,Y.cookie.isOptional&&(w+="if(isNotEmpty(c.cookie)){"),Y.cookie.provider==="standard"?(w+=`let vac=validator.cookie.Check(cookieValue)
if(vac instanceof Promise)vac=await vac
if(vac.issues){`+V.validate("cookie",void 0,"vac.issues")+`}else{cookieValue=vac.value}
`,w+=`for(const k of Object.keys(cookieValue))c.cookie[k].value=cookieValue[k]
`):Y.body?.schema?.noValidate!==!0&&(w+="if(validator.cookie.Check(cookieValue)===false){"+V.validate("cookie","cookieValue")+"}",Y.cookie.hasTransform&&(w+=G6("for(const [key,value] of Object.entries(validator.cookie.Decode(cookieValue))){c.cookie[key].value=value}","cookie"))),Y.cookie.isOptional&&(w+="}"))}if(J?.beforeHandle||P){let v=d("beforeHandle",{total:J.beforeHandle?.length}),U=!1;if(J.beforeHandle?.length)for(let D=0;D<J.beforeHandle.length;D++){let z=J.beforeHandle[D],x=v.resolveChild(z.fn.name),E=e6(z);if(z.subType==="resolve"||z.subType==="mapResolve")U||(U=!0,w+=`
let resolved
`),w+=k0(z)?`resolved=await e.beforeHandle[${D}](c);
`:`resolved=e.beforeHandle[${D}](c);
`,z.subType==="mapResolve"?w+="if(resolved instanceof ElysiaCustomStatusResponse){"+t0("resolved")+`}else{resolved.request=c.request
resolved.store=c.store
resolved.qi=c.qi
resolved.path=c.path
resolved.url=c.url
resolved.redirect=c.redirect
resolved.set=c.set
resolved.error=c.error
c=resolved}`:w+="if(resolved instanceof ElysiaCustomStatusResponse){"+t0("resolved")+`}else Object.assign(c, resolved)
`,x();else if(!E)w+=k0(z)?`await e.beforeHandle[${D}](c)
`:`e.beforeHandle[${D}](c)
`,x();else{if(w+=k0(z)?`be=await e.beforeHandle[${D}](c)
`:`be=e.beforeHandle[${D}](c)
`,x("be"),w+="if(be!==undefined){",v.resolve(),J.afterHandle?.length||P){d("handle",{name:B?Z.name:void 0}).resolve();let t=d("afterHandle",{total:J.afterHandle?.length});if(J.afterHandle?.length)for(let D0=0;D0<J.afterHandle.length;D0++){let i0=J.afterHandle[D0],G1=e6(i0),P1=t.resolveChild(i0.fn.name);w+=`c.response=c.responseValue=be
`,G1?(w+=k0(i0.fn)?`af=await e.afterHandle[${D0}](c)
`:`af=e.afterHandle[${D0}](c)
`,w+=`if(af!==undefined) c.response=c.responseValue=be=af
`):w+=k0(i0.fn)?`await e.afterHandle[${D0}](c, be)
`:`e.afterHandle[${D0}](c, be)
`,P1("af")}t.resolve()}Y.response&&(w+=V.response("be"));let g=d("mapResponse",{total:J.mapResponse?.length});if(J.mapResponse?.length){w+=`c.response=c.responseValue=be
`;for(let t=0;t<J.mapResponse.length;t++){let D0=J.mapResponse[t],i0=g.resolveChild(D0.fn.name);w+=`if(mr===undefined){mr=${c$(D0)?"await ":""}e.mapResponse[${t}](c)
if(mr!==undefined)be=c.response=c.responseValue=mr}`,i0()}}g.resolve(),w+=$1(),w+=k(),w+=`return mapEarlyResponse(${X0}be,c.set${F1})}
`}}v.resolve()}if(J.afterHandle?.length||P){let v=d("handle",{name:B?Z.name:void 0});J.afterHandle?.length?w+=m?`let r=c.response=c.responseValue=await ${N}
`:`let r=c.response=c.responseValue=${N}
`:w+=m?`let r=await ${N}
`:`let r=${N}
`,v.resolve();let U=d("afterHandle",{total:J.afterHandle?.length});if(J.afterHandle?.length)for(let z=0;z<J.afterHandle.length;z++){let x=J.afterHandle[z],E=e6(x),g=U.resolveChild(x.fn.name);E?(w+=k0(x.fn)?`af=await e.afterHandle[${z}](c)
`:`af=e.afterHandle[${z}](c)
`,g("af"),Y.response?(w+="if(af!==undefined){",U.resolve(),w+=V.response("af"),w+="c.response=c.responseValue=af}"):(w+="if(af!==undefined){",U.resolve(),w+="c.response=c.responseValue=af}")):(w+=k0(x.fn)?`await e.afterHandle[${z}](c)
`:`e.afterHandle[${z}](c)
`,g())}U.resolve(),J.afterHandle?.length&&(w+=`r=c.response
`),Y.response&&(w+=V.response()),w+=k();let D=d("mapResponse",{total:J.mapResponse?.length});if(J.mapResponse?.length)for(let z=0;z<J.mapResponse.length;z++){let x=J.mapResponse[z],E=D.resolveChild(x.fn.name);w+=`mr=${c$(x)?"await ":""}e.mapResponse[${z}](c)
if(mr!==undefined)r=c.response=c.responseValue=mr
`,E()}D.resolve(),w+=t0()}else{let v=d("handle",{name:B?Z.name:void 0});if(Y.response||J.mapResponse?.length||P){w+=m?`let r=await ${N}
`:`let r=${N}
`,v.resolve(),Y.response&&(w+=V.response());let U=d("mapResponse",{total:J.mapResponse?.length});if(J.mapResponse?.length){w+=`
c.response=c.responseValue=r
`;for(let D=0;D<J.mapResponse.length;D++){let z=J.mapResponse[D],x=U.resolveChild(z.fn.name);w+=`
if(mr===undefined){mr=${c$(z)?"await ":""}e.mapResponse[${D}](c)
if(mr!==undefined)r=c.response=c.responseValue=mr}
`,x()}}U.resolve(),w+=k(),Z instanceof Response?(w+=$1(),w+=q.set?`if(isNotEmpty(c.set.headers)||c.set.status!==200||c.set.redirect||c.set.cookie)return mapResponse(${X0}${N}.clone(),c.set${F1})
else return ${N}.clone()`:`return ${N}.clone()`,w+=`
`):w+=t0()}else if(n||P){w+=m?`let r=await ${N}
`:`let r=${N}
`,v.resolve();let U=d("mapResponse",{total:J.mapResponse?.length});if(J.mapResponse?.length){w+=`c.response=c.responseValue= r
`;for(let D=0;D<J.mapResponse.length;D++){let z=J.mapResponse[D],x=U.resolveChild(z.fn.name);w+=`if(mr===undefined){mr=${c$(z)?"await ":""}e.mapResponse[${D}](c)
if(mr!==undefined)r=c.response=c.responseValue=mr}`,x()}}U.resolve(),w+=k()+t0()}else{v.resolve();let U=m?`await ${N}`:N;Z instanceof Response?(w+=$1(),w+=q.set?`if(isNotEmpty(c.set.headers)||c.set.status!==200||c.set.redirect||c.set.cookie)return mapResponse(${X0}${N}.clone(),c.set${F1})
else return ${N}.clone()
`:`return ${N}.clone()
`):w+=t0(U)}}if(w+=`
}catch(error){`,!j$&&J.error?.length&&(w+="return(async()=>{"),w+=`const set=c.set
if(!set.status||set.status<300)set.status=error?.status||500
`,n&&(w+=k()),P&&J.trace)for(let v=0;v<J.trace.length;v++)w+=`report${v}?.resolve(error);reportChild${v}?.(error)
`;let f2=d("error",{total:J.error?.length});if(J.error?.length){w+=`c.error=error
`,H?w+=`if(error instanceof TypeBoxError){c.code="VALIDATION"
c.set.status=422}else{c.code=error.code??error[ERROR_CODE]??"UNKNOWN"}`:w+=`c.code=error.code??error[ERROR_CODE]??"UNKNOWN"
`,w+=`let er
`,J.mapResponse?.length&&(w+=`let mep
`);for(let v=0;v<J.error.length;v++){let U=f2.resolveChild(J.error[v].fn.name);if(k0(J.error[v])?w+=`er=await e.error[${v}](c)
`:w+=`er=e.error[${v}](c)
if(er instanceof Promise)er=await er
`,U(),J.mapResponse?.length){let D=d("mapResponse",{total:J.mapResponse?.length});for(let z=0;z<J.mapResponse.length;z++){let x=J.mapResponse[z],E=D.resolveChild(x.fn.name);w+=`c.response=c.responseValue=er
mep=e.mapResponse[${z}](c)
if(mep instanceof Promise)er=await er
if(mep!==undefined)er=mep
`,E()}D.resolve()}if(w+=`er=mapEarlyResponse(er,set${F1})
`,w+="if(er){",P&&J.trace){for(let D=0;D<J.trace.length;D++)w+=`report${D}.resolve()
`;f2.resolve()}w+="return er}"}}f2.resolve(),w+="return handleError(c,error,true)",!j$&&J.error?.length&&(w+="})()"),w+="}";let D8=M.inject?Object.keys(M.inject).join(",")+",":"",e1="const {handler,handleError,hooks:e, "+p0("validator,",H)+"mapResponse,mapCompactResponse,mapEarlyResponse,isNotEmpty,utils:{"+p0("parseQuery,",j)+p0("parseQueryFromURL,",A)+"},error:{"+p0("ValidationError,",H)+p0("ParseError",j)+"},fileType,schema,definitions,ERROR_CODE,"+p0("parseCookie,",n)+p0("signCookie,",n)+p0("decodeURIComponent,",A)+"ElysiaCustomStatusResponse,"+p0("ELYSIA_TRACE,",P)+p0("ELYSIA_REQUEST_ID,",P)+p0("parser,",J.parse?.length)+p0("getServer,",q.server)+p0("fileUnions,",R1.length)+D8+p0("TypeBoxError",H)+`}=hooks
const trace=e.trace
return ${j$?"async ":""}function handle(c){`;J.beforeHandle?.length&&(e1+=`let be
`),J.afterHandle?.length&&(e1+=`let af
`),J.mapResponse?.length&&(e1+=`let mr
`),W&&(e1+=`c.schema=schema
c.defs=definitions
`),w=e1+w+"}",e1="";try{return Function("hooks",`"use strict";
`+w)({handler:Z,hooks:FJ(J),validator:H?Y:void 0,handleError:$.handleError,mapResponse:G.mapResponse,mapCompactResponse:G.mapCompactResponse,mapEarlyResponse:G.mapEarlyResponse,isNotEmpty:A0,utils:{parseQuery:j?u$:void 0,parseQueryFromURL:A?Y.query?.provider==="standard"?h5:oJ:void 0},error:{ValidationError:H?a:void 0,ParseError:j?oX:void 0},fileType:JQ,schema:$.router.history,definitions:$.definitions.type,ERROR_CODE:W8,parseCookie:n?qQ:void 0,signCookie:n?o8:void 0,decodeURIComponent:A?l5.default:void 0,ElysiaCustomStatusResponse:o0,ELYSIA_TRACE:P?H8:void 0,ELYSIA_REQUEST_ID:P?z$:void 0,getServer:q.server?()=>$.getServer():void 0,fileUnions:R1.length?R1:void 0,TypeBoxError:H?p:void 0,parser:$["~parser"],...M.inject})}catch(v){let U=FJ(J);console.log("[Composer] failed to generate optimized handler"),console.log("---"),console.log({handler:typeof Z=="function"?Z.toString():Z,instruction:w,hooks:{...U,transform:U?.transform?.map?.((D)=>D.toString()),resolve:U?.resolve?.map?.((D)=>D.toString()),beforeHandle:U?.beforeHandle?.map?.((D)=>D.toString()),afterHandle:U?.afterHandle?.map?.((D)=>D.toString()),mapResponse:U?.mapResponse?.map?.((D)=>D.toString()),parse:U?.parse?.map?.((D)=>D.toString()),error:U?.error?.map?.((D)=>D.toString()),afterResponse:U?.afterResponse?.map?.((D)=>D.toString()),stop:U?.stop?.map?.((D)=>D.toString())},validator:Y,definitions:$.definitions.type,error:v}),console.log("---"),process.exit(1)}},eJ=($,X)=>{let Q="",J=$X({trace:$.event.trace,addFn:X??((Y)=>{Q+=Y})})("request",{total:$.event.request?.length});if($.event.request?.length){Q+="try{";for(let Y=0;Y<$.event.request.length;Y++){let Z=$.event.request[Y],W=e6(Z),q=k0(Z),M=J.resolveChild($.event.request[Y].fn.name);W?(Q+=`re=mapEarlyResponse(${q?"await ":""}onRequest[${Y}](c),c.set)
`,M("re"),Q+=`if(re!==undefined)return re
`):(Q+=`${q?"await ":""}onRequest[${Y}](c)
`,M())}Q+="}catch(error){return app.handleError(c,error,false)}"}return J.resolve(),Q},$Y=($,X="map")=>{let Q=$.extender.higherOrderFunctions;if(!Q.length)return"return "+X;let J=$["~adapter"].composeGeneralHandler,Y=X;for(let Z=0;Z<Q.length;Z++)Y=`hoc[${Z}](${Y},${J.parameters})`;return`return function hocMap(${J.parameters}){return ${Y}(${J.parameters})}`},LQ=($)=>{let X=$["~adapter"].composeGeneralHandler;$.router.http.build();let Q=$["~adapter"].isWebStandard,J=$.event.trace?.length,Y="",Z=$.router,W=Z.http.root.WS?"const route=router.find(r.method==='GET'&&r.headers.get('upgrade')==='websocket'?'WS':r.method,p)":"const route=router.find(r.method,p)";W+=Z.http.root.ALL?`??router.find('ALL',p)
`:`
`,Q&&(W+=`if(r.method==='HEAD'){const route=router.find('GET',p)
if(route){c.params=route.params
const _res=route.store.handler?route.store.handler(c):route.store.compile()(c)
if(_res)return getResponseLength(_res).then((length)=>{_res.headers.set('content-length', length)
return new Response(null,{status:_res.status,statusText:_res.statusText,headers:_res.headers})
})}}`);let q=`c.error=notFound
`;if($.event.afterResponse?.length&&!$.event.error){q=`
c.error=notFound
`;let H=$.event.afterResponse.some(k0)?"async":"";q+=`
setImmediate(${H}()=>{`;for(let A=0;A<$.event.afterResponse.length;A++){let S=$.event.afterResponse[A].fn;q+=`
${c$(S)?"await ":""}afterResponse[${A}](c)
`}q+=`})
`}$.inference.query&&(q+=`
if(c.qi===-1){c.query={}}else{c.query=parseQueryFromURL(c.url,c.qi+1)}`);let M=X.error404(!!$.event.request?.length,!!$.event.error?.length,q);W+=M.code,W+=`
c.params=route.params
if(route.store.handler)return route.store.handler(c)
return route.store.compile()(c)
`;let G="";for(let[H,A]of Object.entries(Z.static)){G+=`case'${H}':`,$.config.strictPath!==!0&&(G+=`case'${Y8(H)}':`);let S=Z8(H);H!==S&&(G+=`case'${S}':`),G+="switch(r.method){",(("GET"in A)||("WS"in A))&&(G+="case 'GET':",("WS"in A)&&(G+=`if(r.headers.get('upgrade')==='websocket')return ht[${A.WS}].composed(c)
`,("GET"in A)||("ALL"in A?G+=`return ht[${A.ALL}].composed(c)
`:G+=`break map
`)),("GET"in A)&&(G+=`return ht[${A.GET}].composed(c)
`)),Q&&(("GET"in A)||("ALL"in A))&&!("HEAD"in A)&&(G+=`case 'HEAD':const _res=ht[${A.GET??A.ALL}].composed(c)
return getResponseLength(_res).then((length)=>{_res.headers.set('content-length', length)
return new Response(null,{status:_res.status,statusText:_res.statusText,headers:_res.headers})
})
`);for(let[j,K]of Object.entries(A))j==="ALL"||j==="GET"||j==="WS"||(G+=`case '${j}':return ht[${K}].composed(c)
`);"ALL"in A?G+=`default:return ht[${A.ALL}].composed(c)
`:G+=`default:break map
`,G+="}"}let B=!!$.event.request?.some(k0),N=X.inject?Object.keys(X.inject).join(",")+",":"";Y+=`
const {app,mapEarlyResponse,NotFoundError,randomId,handleError,status,redirect,getResponseLength,`+p0("parseQueryFromURL,",$.inference.query)+p0("ELYSIA_TRACE,",J)+p0("ELYSIA_REQUEST_ID,",J)+N+`}=data
const store=app.singleton.store
const decorator=app.singleton.decorator
const staticRouter=app.router.static.http
const ht=app.router.history
const router=app.router.http
const trace=app.event.trace?.map(x=>typeof x==='function'?x:x.fn)??[]
const notFound=new NotFoundError()
const hoc=app.extender.higherOrderFunctions.map(x=>x.fn)
`,$.event.request?.length&&(Y+=`const onRequest=app.event.request.map(x=>x.fn)
`),$.event.afterResponse?.length&&(Y+=`const afterResponse=app.event.afterResponse.map(x=>x.fn)
`),Y+=M.declare,$.event.trace?.length&&(Y+="const "+$.event.trace.map((H,A)=>`tr${A}=app.event.trace[${A}].fn`).join(",")+`
`),Y+=`${B?"async ":""}function map(${X.parameters}){`,$.event.request?.length&&(Y+=`let re
`),Y+=X.createContext($),$.event.trace?.length&&(Y+="c[ELYSIA_TRACE]=["+$.event.trace.map((H,A)=>`tr${A}(c)`).join(",")+`]
`),Y+=eJ($),G&&(Y+=`
map: switch(p){
`+G+"}"),Y+=W+`}
`+$Y($);let P=XY($);$.handleError=P;let w=Function("data",`"use strict";
`+Y)({app:$,mapEarlyResponse:$["~adapter"].handler.mapEarlyResponse,NotFoundError:l8,randomId:d$,handleError:P,status:m2,redirect:U$,getResponseLength:PW,parseQueryFromURL:$.inference.query?oJ:void 0,ELYSIA_TRACE:J?H8:void 0,ELYSIA_REQUEST_ID:J?z$:void 0,...X.inject});return E2&&Bun.gc(!1),w},XY=($)=>{let X=$.event,Q="",J=$["~adapter"].composeError,Y=J.inject?Object.keys(J.inject).join(",")+",":"",Z=!!$.event.trace?.length;Q+="const {mapResponse,ERROR_CODE,ElysiaCustomStatusResponse,"+p0("onError,",$.event.error)+p0("afterResponse,",$.event.afterResponse)+p0("trace,",$.event.trace)+p0("onMapResponse,",$.event.mapResponse)+p0("ELYSIA_TRACE,",Z)+p0("ELYSIA_REQUEST_ID,",Z)+Y+`}=inject
`,Q+=`return ${$.event.error?.find(k0)||$.event.mapResponse?.find(k0)?"async ":""}function(context,error,skipGlobal){`,Q+="",Z&&(Q+=`const id=context[ELYSIA_REQUEST_ID]
`);let W=$X({context:"context",trace:X.trace,addFn:(N)=>{Q+=N}}),q=()=>{if(!X.afterResponse?.length&&!Z)return"";let N="",P=X.afterResponse?.some(k0)?"async":"";N+=`
setImmediate(${P}()=>{`;let w=$X({context:"context",trace:X.trace,addFn:(H)=>{N+=H}})("afterResponse",{total:X.afterResponse?.length,name:"context"});if(X.afterResponse?.length&&X.afterResponse)for(let H=0;H<X.afterResponse.length;H++){let A=X.afterResponse[H].fn,S=w.resolveChild(A.name);N+=`
${c$(A)?"await ":""}afterResponse[${H}](context)
`,S()}return w.resolve(),N+=`})
`,N};Q+=`const set=context.set
let _r
if(!context.code)context.code=error.code??error[ERROR_CODE]
if(!(context.error instanceof Error))context.error=error
if(error instanceof ElysiaCustomStatusResponse){set.status=error.status=error.code
error.message=error.response}`,J.declare&&(Q+=J.declare);let M=Z||X.afterResponse?.length?"context.response = ":"";if($.event.error)for(let N=0;N<$.event.error.length;N++){let P=$.event.error[N],w=`${k0(P)?"await ":""}onError[${N}](context)
`;if(Q+="if(skipGlobal!==true){",e6(P)){Q+=`_r=${w}
if(_r!==undefined){if(_r instanceof Response){`+q()+`return mapResponse(_r,set${J.mapResponseContext})}if(_r instanceof ElysiaCustomStatusResponse){error.status=error.code
error.message = error.response}if(set.status===200||!set.status)set.status=error.status
`;let H=W("mapResponse",{total:X.mapResponse?.length,name:"context"});if(X.mapResponse?.length)for(let A=0;A<X.mapResponse.length;A++){let S=X.mapResponse[A],j=H.resolveChild(S.fn.name);Q+=`context.response=context.responseValue=_r_r=${c$(S)?"await ":""}onMapResponse[${A}](context)
`,j()}H.resolve(),Q+=q()+`return mapResponse(${M}_r,set${J.mapResponseContext})}`}else Q+=w;Q+="}"}Q+=`if(error.constructor.name==="ValidationError"||error.constructor.name==="TransformDecodeError"){
if(error.error)error=error.error
set.status=error.status??422
`+q()+J.validationError+`
}
`,Q+="if(error instanceof Error){"+q()+`
if(typeof error.toResponse==='function')return context.response=context.responseValue=error.toResponse()
`+J.unknownError+`
}`;let G=W("mapResponse",{total:X.mapResponse?.length,name:"context"});if(Q+=`
if(!context.response)context.response=context.responseValue=error.message??error
`,X.mapResponse?.length){Q+=`let mr
`;for(let N=0;N<X.mapResponse.length;N++){let P=X.mapResponse[N],w=G.resolveChild(P.fn.name);Q+=`if(mr===undefined){mr=${c$(P)?"await ":""}onMapResponse[${N}](context)
if(mr!==undefined)error=context.response=context.responseValue=mr}`,w()}}G.resolve(),Q+=q()+`
return mapResponse(${M}error,set${J.mapResponseContext})}`;let B=(N)=>typeof N=="function"?N:N.fn;return Function("inject",`"use strict";
`+Q)({mapResponse:$["~adapter"].handler.mapResponse,ERROR_CODE:W8,ElysiaCustomStatusResponse:o0,onError:$.event.error?.map(B),afterResponse:$.event.afterResponse?.map(B),trace:$.event.trace?.map(B),onMapResponse:$.event.mapResponse?.map(B),ELYSIA_TRACE:Z?H8:void 0,ELYSIA_REQUEST_ID:Z?z$:void 0,...J.inject})};var S$=($,X)=>X?$:"",s5=($,X,Q,J=!1)=>{let Y="",Z=$.setHeaders,W=!!$.event.trace?.length;W&&(Y+=`const id=randomId()
`);let q=/[:*]/.test(X.path),M=`const u=request.url,s=u.indexOf('/',${$.config.handler?.standardHostname??!0?11:7}),qi=u.indexOf('?', s + 1)
`,G=Q.query||!!X.hooks.query||!!X.hooks.standaloneValidator?.find((N)=>N.query)||$.event.request?.length;G&&(Y+=M);let B=Q.path?q?"get path(){"+(G?"":M)+`if(qi===-1)return u.substring(s)
return u.substring(s,qi)
},`:`path:'${X.path}',`:"";Y+=S$("const c=",!J)+"{request,store,"+S$("qi,",G)+S$("params:request.params,",q)+B+S$("url:request.url,",W||Q.url||G)+"redirect,status,set:{headers:"+(A0(Z)?"Object.assign({},app.setHeaders)":"Object.create(null)")+",status:200}",Q.server&&(Y+=",get server(){return app.getServer()}"),W&&(Y+=",[ELYSIA_REQUEST_ID]:id");{let N="";for(let P of Object.keys($.singleton.decorator))N+=`,'${P}':decorator['${P}']`;Y+=N}return Y+=`}
`,Y},KQ=($,X)=>{let Q=!!$.event.trace?.length,J=!!$.extender.higherOrderFunctions.length,Y=U8(X.hooks,$.inference);Y=U8({handler:X.handler},Y);let Z="const handler=data.handler,app=data.app,store=data.store,decorator=data.decorator,redirect=data.redirect,route=data.route,mapEarlyResponse=data.mapEarlyResponse,"+S$("randomId=data.randomId,",Q)+S$("ELYSIA_REQUEST_ID=data.ELYSIA_REQUEST_ID,",Q)+S$("ELYSIA_TRACE=data.ELYSIA_TRACE,",Q)+S$("trace=data.trace,",Q)+S$("hoc=data.hoc,",J)+`status=data.status
`;$.event.request?.length&&(Z+=`const onRequest=app.event.request.map(x=>x.fn)
`),Z+=`${$.event.request?.find(k0)?"async":""} function map(request){`;let W=Y.query||!!X.hooks.query||!!X.hooks.standaloneValidator?.find((q)=>q.query);return Q||W||$.event.request?.length?(Z+=s5($,X,Y),Z+=eJ($),Z+="return handler(c)}"):Z+=`return handler(${s5($,X,Y,!0)})}`,Z+=$Y($),Function("data",Z)({app:$,handler:X.compile?.()??X.composed,redirect:U$,status:m2,hoc:$.extender.higherOrderFunctions.map((q)=>q.fn),store:$.store,decorator:$.decorator,route:X.path,randomId:Q?d$:void 0,ELYSIA_TRACE:Q?H8:void 0,ELYSIA_REQUEST_ID:Q?z$:void 0,trace:Q?$.event.trace?.map((q)=>q?.fn??q):void 0,mapEarlyResponse:D1})};var r5=($,X,Q)=>{if(typeof $=="function"||$ instanceof Blob)return;if(SQ($))return()=>$;let J=O1($,Q??{headers:{}});if(!X.parse?.length&&!X.transform?.length&&!X.beforeHandle?.length&&!X.afterHandle?.length)return J instanceof Promise?J.then((Y)=>{if(Y)return Y.headers.has("content-type")||Y.headers.append("content-type","text/plain"),Y.clone()}):(J.headers.has("content-type")||J.headers.append("content-type","text/plain"),()=>J.clone())};var QY={open($){$.data.open?.($)},message($,X){$.data.message?.($,X)},drain($){$.data.drain?.($)},close($,X,Q){$.data.close?.($,X,Q)}};class N6{constructor($,X,Q=void 0){this.raw=$,this.data=X,this.body=Q,this.validator=$.data?.validator,this.sendText=$.sendText.bind($),this.sendBinary=$.sendBinary.bind($),this.close=$.close.bind($),this.terminate=$.terminate.bind($),this.publishText=$.publishText.bind($),this.publishBinary=$.publishBinary.bind($),this.subscribe=$.subscribe.bind($),this.unsubscribe=$.unsubscribe.bind($),this.isSubscribed=$.isSubscribed.bind($),this.cork=$.cork.bind($),this.remoteAddress=$.remoteAddress,this.binaryType=$.binaryType,this.data=$.data,this.send=this.send.bind(this),this.ping=this.ping.bind(this),this.pong=this.pong.bind(this),this.publish=this.publish.bind(this)}send($,X){return Buffer.isBuffer($)?this.raw.send($,X):this.validator?.Check($)===!1?this.raw.send(new a("message",this.validator,$).message):(typeof $=="object"&&($=JSON.stringify($)),this.raw.send($,X))}ping($){return Buffer.isBuffer($)?this.raw.ping($):this.validator?.Check($)===!1?this.raw.send(new a("message",this.validator,$).message):(typeof $=="object"&&($=JSON.stringify($)),this.raw.ping($))}pong($){return Buffer.isBuffer($)?this.raw.pong($):this.validator?.Check($)===!1?this.raw.send(new a("message",this.validator,$).message):(typeof $=="object"&&($=JSON.stringify($)),this.raw.pong($))}publish($,X,Q){return Buffer.isBuffer(X)?this.raw.publish($,X,Q):this.validator?.Check(X)===!1?this.raw.send(new a("message",this.validator,X).message):(typeof X=="object"&&(X=JSON.stringify(X)),this.raw.publish($,X,Q))}get readyState(){return this.raw.readyState}get id(){return this.data.id}}var a5=($)=>{let X=typeof $=="function"?[$]:$;return async function(Q,J){if(typeof J=="string"){let Y=J?.charCodeAt(0);if(Y===34||Y===47||Y===91||Y===123)try{J=JSON.parse(J)}catch{}else pX(J)?J=+J:J==="true"?J=!0:J==="false"?J=!1:J==="null"&&(J=null)}if(X)for(let Y=0;Y<X.length;Y++){let Z=X[Y](Q,J);if(Z instanceof Promise&&(Z=await Z),Z!==void 0)return Z}return J}},e5=($)=>{let X=(Q,J)=>{if(J instanceof Promise)return J.then((W)=>X(Q,W));if(Buffer.isBuffer(J))return Q.send(J.toString());if(J===void 0)return;let Y=(W)=>{if($?.Check(W)===!1)return Q.send(new a("message",$,W).message);if(typeof W=="object")return Q.send(JSON.stringify(W));Q.send(W)};if(typeof J?.next!="function")return void Y(J);let Z=J.next();if(Z instanceof Promise)return(async()=>{let W=await Z;if($?.Check(W)===!1)return Q.send(new a("message",$,W).message);if(Y(W.value),!W.done)for await(let q of J)Y(q)})();if(Y(Z.value),!Z.done)for(let W of J)Y(W)};return X};var YD=/:.+?\?(?=\/|$)/,$7=($)=>{let X=YD.exec($);if(!X)return[$];let Q=[],J=$.slice(0,X.index),Y=X[0].slice(0,-1),Z=$.slice(X.index+X[0].length);Q.push(J.slice(0,-1)),Q.push(J+Y);for(let W of $7(Z))W&&(W.startsWith("/:")||Q.push(J.slice(0,-1)+W),Q.push(J+Y+W));return Q},SQ=($)=>typeof $=="object"&&$!==null&&($.toString()==="[object HTMLBundle]"||typeof $.index=="string"),X7={GET:!0,HEAD:!0,OPTIONS:!0,DELETE:!0,PATCH:!0,POST:!0,PUT:!0},JY=($)=>{if(!$.config.aot||!$.config.systemRouter)return;let X={},Q=(Y,Z)=>{let W=encodeURI(Y.path);X[W]?X[W][Y.method]||(X[W][Y.method]=Z):X[W]={[Y.method]:Z}},J=$.routeTree;for(let Y of $.router.history){if(typeof Y.handler!="function")continue;let Z=Y.method;if(Z==="GET"&&`WS_${Y.path}`in J||Z==="WS"||Y.path.charCodeAt(Y.path.length-1)===42||!(Z in X7))continue;if(Z==="ALL"){`WS_${Y.path}`in J||(X[Y.path]=Y.hooks?.config?.mount?Y.hooks.trace||$.event.trace||$.extender.higherOrderFunctions?KQ($,Y):Y.hooks.mount||Y.handler:Y.handler);continue}let W,q=$.config.precompile?KQ($,Y):(M)=>W?W(M):(W=KQ($,Y))(M);for(let M of $7(Y.path))Q({method:Z,path:M},q)}return X},w6=($,X)=>{if(!X)return $;for(let Q of Object.keys(X))if($[Q]!==X[Q]){if(!$[Q]){$[Q]=X[Q];continue}if($[Q]&&X[Q]){if(typeof $[Q]=="function"||$[Q]instanceof Response){$[Q]=X[Q];continue}$[Q]={...$[Q],...X[Q]}}}return $},Q7={...D$,name:"bun",handler:{mapResponse:O1,mapEarlyResponse:D1,mapCompactResponse:o2,createStaticHandler:d5,createNativeStaticHandler:r5},composeHandler:{...D$.composeHandler,headers:f6?`c.headers=c.request.headers.toJSON()
`:`c.headers={}
for(const [k,v] of c.request.headers.entries())c.headers[k]=v
`},listen($){return(X,Q)=>{if(typeof Bun>"u")throw Error(".listen() is designed to run on Bun only. If you are running Elysia in other environment please use a dedicated plugin or export the handler via Elysia.fetch");if($.compile(),typeof X=="string"){if(!pX(X))throw Error("Port must be a numeric value");X=parseInt(X)}let J=(Z,{withAsync:W=!1}={})=>{let q={},M=[];for(let[G,B]of Object.entries(Z))if(G=encodeURI(G),nX){if(!B)continue;for(let[N,P]of Object.entries(B))if(!(!P||!(N in X7))){if(P instanceof Promise){W&&(q[G]||(q[G]={}),M.push(P.then((w)=>{w instanceof Response&&(q[G][N]=w),SQ(w)&&(q[G][N]=w)})));continue}!(P instanceof Response)&&!SQ(P)||(q[G]||(q[G]={}),q[G][N]=P)}}else{if(!B)continue;if(B instanceof Promise){W&&(q[G]||(q[G]={}),M.push(B.then((N)=>{N instanceof Response&&(q[G]=N)})));continue}if(!(B instanceof Response))continue;q[G]=B}return W?Promise.all(M).then(()=>q):q},Y=typeof X=="object"?{development:!A$,reusePort:!0,idleTimeout:30,...$.config.serve||{},...X||{},routes:w6(w6(J($.router.response),JY($)),$.config.serve?.routes),websocket:{...$.config.websocket||{},...QY||{},...X.websocket||{}},fetch:$.fetch}:{development:!A$,reusePort:!0,idleTimeout:30,...$.config.serve||{},routes:w6(w6(J($.router.response),JY($)),$.config.serve?.routes),websocket:{...$.config.websocket||{},...QY||{}},port:X,fetch:$.fetch};if($.server=Bun.serve(Y),$.event.start)for(let Z=0;Z<$.event.start.length;Z++)$.event.start[Z].fn($);Q&&Q($.server),process.on("beforeExit",()=>{if($.server&&($.server.stop?.(),$.server=null,$.event.stop))for(let Z=0;Z<$.event.stop.length;Z++)$.event.stop[Z].fn($)}),$.promisedModules.then(async()=>{$.server?.reload({...Y,fetch:$.fetch,routes:w6(w6(await J($.router.response,{withAsync:!0}),JY($)),$.config.serve?.routes)}),Bun?.gc(!1)})}},async stop($,X){if($.server){if($.server.stop(X),$.server=null,$.event.stop?.length)for(let Q=0;Q<$.event.stop.length;Q++)$.event.stop[Q].fn($)}else console.log("Elysia isn't running. Call `app.listen` to start the server.",Error().stack)},ws($,X,Q){let{parse:J,body:Y,response:Z,...W}=Q,q=c0(Y,{modules:$.definitions.typebox,models:$.definitions.type,normalize:$.config.normalize}),M=c0(Z,{modules:$.definitions.typebox,models:$.definitions.type,normalize:$.config.normalize});$.route("WS",X,async(G)=>{let B=G.server??$.server,{set:N,path:P,qi:w,headers:H,query:A,params:S}=G;if(G.validator=M,Q.upgrade)if(typeof Q.upgrade=="function"){let I=Q.upgrade(G);I instanceof Promise&&await I}else Q.upgrade&&Object.assign(N.headers,Q.upgrade);if(N.cookie&&A0(N.cookie)){let I=n6(N.cookie);I&&(N.headers["set-cookie"]=I)}N.headers["set-cookie"]&&Array.isArray(N.headers["set-cookie"])&&(N.headers=nJ(new Headers(N.headers),N.headers["set-cookie"]));let j=e5(M),K=a5(J),y;if(typeof Q.beforeHandle=="function"){let I=Q.beforeHandle(G);I instanceof Promise&&await I}let o=[...Q.error?Array.isArray(Q.error)?Q.error:[Q.error]:[],...($.event.error??[]).map((I)=>typeof I=="function"?I:I.fn)].filter((I)=>I),n=o.length>0,f=n?async(I,k)=>{for(let b of o){let _=b(Object.assign(G,{error:k}));if(_ instanceof Promise&&(_=await _),await j(I,_),_)break}}:()=>{};if(!B?.upgrade(G.request,{headers:A0(N.headers)?N.headers:void 0,data:{...G,get id(){return y||(y=d$())},validator:M,ping(I,k){Q.ping?.(I,k)},pong(I,k){Q.pong?.(I,k)},open:async(I)=>{try{await j(I,Q.open?.(new N6(I,G)))}catch(k){f(I,k)}},message:async(I,k)=>{let b=await K(I,k);if(q?.Check(b)===!1){let _=new a("message",q,b);return n?f(I,_):void I.send(_.message)}try{await j(I,Q.message?.(new N6(I,G,b),b))}catch(_){f(I,_)}},drain:async(I)=>{try{await j(I,Q.drain?.(new N6(I,G)))}catch(k){f(I,k)}},close:async(I,k,b)=>{try{await j(I,Q.close?.(new N6(I,G),k,b))}catch(_){f(I,_)}}}}))return N.status=400,"Expected a websocket connection"},{...W,websocket:Q})}};var CQ=E2?Bun.env:typeof process<"u"&&process?.env?process.env:{};var YY=($,X)=>{let Q=$.schema;if(Q&&(Q.$defs?.[Q.$ref]&&(Q=Q.$defs[Q.$ref]),!!Q?.properties))for(let[J,Y]of Object.entries(Q.properties))X[J]??=Y.default},ZY=($)=>{let{mapResponse:X,mapEarlyResponse:Q}=$["~adapter"].handler,J=$.setHeaders;return async(Y)=>{let Z=Y.url,W=Z.indexOf("/",11),q=Z.indexOf("?",W+1),M=q===-1?Z.substring(W):Z.substring(W,q),G={cookie:{},status:200,headers:J?{...J}:{}},B=Object.assign({},$.singleton.decorator,{set:G,store:$.singleton.store,request:Y,path:M,qi:q,error:m2,status:m2,redirect:U$});try{if($.event.request)for(let b=0;b<$.event.request.length;b++){let _=$.event.request[b].fn,V=_(B);if(V instanceof Promise&&(V=await V),V=Q(V,G),V)return B.response=V}let N=Y.method==="GET"&&Y.headers.get("upgrade")?.toLowerCase()==="websocket"?"WS":Y.method,P=$.router.dynamic.find(Y.method,M)??$.router.dynamic.find(N,M)??$.router.dynamic.find("ALL",M);if(!P)throw B.query=q===-1?{}:u$(Z.substring(q+1)),new l8;let{handle:w,hooks:H,validator:A,content:S,route:j}=P.store,K;if(Y.method!=="GET"&&Y.method!=="HEAD")if(S)switch(S){case"application/json":K=await Y.json();break;case"text/plain":K=await Y.text();break;case"application/x-www-form-urlencoded":K=u$(await Y.text());break;case"application/octet-stream":K=await Y.arrayBuffer();break;case"multipart/form-data":K={};let b=await Y.formData();for(let _ of b.keys()){if(K[_])continue;let V=b.getAll(_);V.length===1?K[_]=V[0]:K[_]=V}break}else{let b;if(Y.body&&(b=Y.headers.get("content-type")),b){let _=b.indexOf(";");if(_!==-1&&(b=b.slice(0,_)),B.contentType=b,H.parse)for(let V=0;V<H.parse.length;V++){let d=H.parse[V].fn;if(typeof d=="string")switch(d){case"json":case"application/json":K=await Y.json();break;case"text":case"text/plain":K=await Y.text();break;case"urlencoded":case"application/x-www-form-urlencoded":K=u$(await Y.text());break;case"arrayBuffer":case"application/octet-stream":K=await Y.arrayBuffer();break;case"formdata":case"multipart/form-data":K={};let m=await Y.formData();for(let R0 of m.keys()){if(K[R0])continue;let e=m.getAll(R0);e.length===1?K[R0]=e[0]:K[R0]=e}break;default:let X0=$["~parser"][d];if(X0){let R0=X0(B,b);if(R0 instanceof Promise&&(R0=await R0),R0){K=R0;break}}break}else{let m=d(B,b);if(m instanceof Promise&&(m=await m),m){K=m;break}}}if(delete B.contentType,K===void 0)switch(b){case"application/json":K=await Y.json();break;case"text/plain":K=await Y.text();break;case"application/x-www-form-urlencoded":K=u$(await Y.text());break;case"application/octet-stream":K=await Y.arrayBuffer();break;case"multipart/form-data":K={};let V=await Y.formData();for(let d of V.keys()){if(K[d])continue;let m=V.getAll(d);m.length===1?K[d]=m[0]:K[d]=m}break}}}B.route=j,B.body=K,B.params=P?.params||void 0,B.query=q===-1?{}:u$(Z.substring(q+1)),B.headers={};for(let[b,_]of Y.headers.entries())B.headers[b]=_;let y={domain:$.config.cookie?.domain??A?.cookie?.config.domain,expires:$.config.cookie?.expires??A?.cookie?.config.expires,httpOnly:$.config.cookie?.httpOnly??A?.cookie?.config.httpOnly,maxAge:$.config.cookie?.maxAge??A?.cookie?.config.maxAge,path:$.config.cookie?.path??A?.cookie?.config.path,priority:$.config.cookie?.priority??A?.cookie?.config.priority,partitioned:$.config.cookie?.partitioned??A?.cookie?.config.partitioned,sameSite:$.config.cookie?.sameSite??A?.cookie?.config.sameSite,secure:$.config.cookie?.secure??A?.cookie?.config.secure,secrets:$.config.cookie?.secrets??A?.cookie?.config.secrets,sign:$.config.cookie?.sign??A?.cookie?.config.sign},o=Y.headers.get("cookie");B.cookie=await qQ(B.set,o,y);let n=A?.createHeaders?.();n&&YY(n,B.headers);let f=A?.createParams?.();f&&YY(f,B.params);let I=A?.createQuery?.();if(I&&YY(I,B.query),H.transform)for(let b=0;b<H.transform.length;b++){let _=H.transform[b],V=_.fn(B);if(V instanceof Promise&&(V=await V),V instanceof o0){let d=Q(V,B.set);if(d)return B.response=d}_.subType==="derive"&&Object.assign(B,V)}if(A){if(n){let b=structuredClone(B.headers);for(let[_,V]of Y.headers)b[_]=V;if(A.headers.Check(b)===!1)throw new a("header",A.headers,b)}else A.headers?.Decode&&(B.headers=A.headers.Decode(B.headers));if(f?.Check(B.params)===!1)throw new a("params",A.params,B.params);if(A.params?.Decode&&(B.params=A.params.Decode(B.params)),A.query?.schema){let b=A.query.schema;b.$defs?.[b.$ref]&&(b=b.$defs[b.$ref]);let _=b.properties;for(let V of Object.keys(_)){let d=_[V];(d.type==="array"||d.items?.type==="string")&&typeof B.query[V]=="string"&&B.query[V]&&(B.query[V]=B.query[V].split(","))}}if(I?.Check(B.query)===!1)throw new a("query",A.query,B.query);if(A.query?.Decode&&(B.query=A.query.Decode(B.query)),A.createCookie?.()){let b={};for(let[_,V]of Object.entries(B.cookie))b[_]=V.value;if(A.cookie.Check(b)===!1)throw new a("cookie",A.cookie,b);A.cookie?.Decode&&(b=A.cookie.Decode(b))}if(A.createBody?.()?.Check(K)===!1)throw new a("body",A.body,K);A.body?.Decode&&(B.body=A.body.Decode(K))}if(H.beforeHandle)for(let b=0;b<H.beforeHandle.length;b++){let _=H.beforeHandle[b],V=_.fn(B);if(V instanceof Promise&&(V=await V),V instanceof o0){let d=Q(V,B.set);if(d)return B.response=d}if(_.subType==="resolve"){Object.assign(B,V);continue}if(V!==void 0){if(B.response=V,H.afterHandle)for(let m=0;m<H.afterHandle.length;m++){let X0=H.afterHandle[m].fn(B);X0 instanceof Promise&&(X0=await X0),X0&&(V=X0)}let d=Q(V,B.set);if(d)return B.response=d}}let k=typeof w=="function"?w(B):w;if(k instanceof Promise&&(k=await k),H.afterHandle?.length){B.response=k;for(let b=0;b<H.afterHandle.length;b++){let _=H.afterHandle[b].fn(B);_ instanceof Promise&&(_=await _);let V=_ instanceof o0,d=V?_.code:G.status?typeof G.status=="string"?w$[G.status]:G.status:200;V&&(G.status=d,_=_.response);let m=A?.createResponse?.()?.[d];if(m?.Check(_)===!1)if(m?.Clean){let R0=m.Clean(_);if(m?.Check(R0)===!1)throw new a("response",m,_);_=R0}else throw new a("response",m,_);m?.Encode&&(B.response=_=m.Encode(_)),m?.Clean&&(B.response=_=m.Clean(_));let X0=Q(_,B.set);if(X0!==void 0)return B.response=X0}}else{let b=k instanceof o0,_=b?k.code:G.status?typeof G.status=="string"?w$[G.status]:G.status:200;b&&(G.status=_,k=k.response);let V=A?.createResponse?.()?.[_];if(V?.Check(k)===!1)if(V?.Clean){let d=V.Clean(k);if(V?.Check(d)===!1)throw new a("response",V,k);k=d}else throw new a("response",V,k);V?.Encode&&(k=V.Encode(k)),V?.Clean&&(k=V.Clean(k))}if(B.set.cookie&&y?.sign){let b=y.secrets?typeof y.secrets=="string"?y.secrets:y.secrets[0]:void 0;if(y.sign===!0){if(b)for(let[_,V]of Object.entries(B.set.cookie))B.set.cookie[_].value=await o8(V.value,b)}else{let _=A?.cookie?.schema?.properties;if(b)for(let V of y.sign)V in _&&B.set.cookie[V]?.value&&(B.set.cookie[V].value=await o8(B.set.cookie[V].value,b))}}return X(B.response=k,B.set)}catch(N){let P=N instanceof gX&&N.error?N.error:N;return $.handleError(B,P)}finally{$.event.afterResponse&&setImmediate(async()=>{for(let N of $.event.afterResponse)await N.fn(B)})}}},J7=($)=>{let{mapResponse:X}=$["~adapter"].handler;return async(Q,J)=>{let Y=Object.assign(Q,{error:J,code:J.code});if(Y.set=Q.set,$.event.error)for(let Z=0;Z<$.event.error.length;Z++){let W=$.event.error[Z].fn(Y);if(W instanceof Promise&&(W=await W),W!=null)return Q.response=X(W,Q.set)}return new Response(typeof J.cause=="string"?J.cause:J.message,{headers:Q.set.headers,status:J.status??500})}};var Y7;Y7=Symbol.dispose;var ZD=class ${constructor(X={}){this.server=null,this.dependencies={},this["~Prefix"]="",this["~Singleton"]=null,this["~Definitions"]=null,this["~Metadata"]=null,this["~Ephemeral"]=null,this["~Volatile"]=null,this["~Routes"]=null,this.singleton={decorator:{},store:{},derive:{},resolve:{}},this.definitions={typebox:T.Module({}),type:{},error:{}},this.extender={macro:{},higherOrderFunctions:[]},this.validator={global:null,scoped:null,local:null,getCandidate(){return!this.global&&!this.scoped&&!this.local?{body:void 0,headers:void 0,params:void 0,query:void 0,cookie:void 0,response:void 0}:n8(n8(this.global,this.scoped),this.local)}},this.standaloneValidator={global:null,scoped:null,local:null},this.event={},this.router={"~http":void 0,get http(){return this["~http"]||(this["~http"]=new RQ({lazy:!0,onParam:WY.default})),this["~http"]},"~dynamic":void 0,get dynamic(){return this["~dynamic"]||(this["~dynamic"]=new RQ({onParam:WY.default})),this["~dynamic"]},static:{},response:{},history:[]},this.routeTree={},this.inference={body:!1,cookie:!1,headers:!1,query:!1,set:!1,server:!1,path:!1,route:!1,url:!1},this["~parser"]={},this.handle=async(Q)=>this.fetch(Q),this.fetch=(Q)=>(this.fetch=this.config.aot?LQ(this):ZY(this))(Q),this.handleError=async(Q,J)=>(this.handleError=this.config.aot?XY(this):J7(this))(Q,J),this.listen=(Q,J)=>(this["~adapter"].listen(this)(Q,J),this),this.stop=async(Q)=>(await this["~adapter"].stop?.(this,Q),this),this[Y7]=()=>{this.server&&this.stop()},X.tags&&(X.detail?X.detail.tags=X.tags:X.detail={tags:X.tags}),this.config={aot:CQ.ELYSIA_AOT!=="false",nativeStaticResponse:!0,systemRouter:!0,encodeSchema:!0,normalize:!0,...X,prefix:X.prefix?X.prefix.charCodeAt(0)===47?X.prefix:`/${X.prefix}`:void 0,cookie:{path:"/",...X?.cookie},experimental:X?.experimental??{},seed:X?.seed===void 0?"":X?.seed},this["~adapter"]=X.adapter??(typeof Bun<"u"?Q7:D$),X?.analytic&&(X?.name||X?.seed!==void 0)&&(this.telemetry={stack:Error().stack})}get store(){return this.singleton.store}get decorator(){return this.singleton.decorator}get routes(){return this.router.history}getGlobalRoutes(){return this.router.history}getGlobalDefinitions(){return this.definitions}getServer(){return this.server}getParent(){return null}get promisedModules(){return this._promisedModules||(this._promisedModules=new CJ(console.error,()=>{})),this._promisedModules}env(X,Q=CQ){if(c0(X,{modules:this.definitions.typebox,dynamic:!0,additionalProperties:!0,coerce:!0,sanitize:()=>this.config.sanitize}).Check(Q)===!1){let J=new a("env",X,Q);throw Error(J.all.map((Y)=>Y.summary).join(`
`))}return this}wrap(X){return this.extender.higherOrderFunctions.push({checksum:v$(JSON.stringify({name:this.config.name,seed:this.config.seed,content:X.toString()})),fn:X}),this}get models(){let X={};for(let Q of Object.keys(this.definitions.type))X[Q]=c0(this.definitions.typebox.Import(Q));return X.modules=this.definitions.typebox,X}add(X,Q,J,Y,Z){let W=Z?.skipPrefix??!1,q=Z?.allowMeta??!1;Y??={},this.applyMacro(Y);let M=[];if(Y.standaloneValidator&&(M=M.concat(Y.standaloneValidator)),this.standaloneValidator.local&&(M=M.concat(this.standaloneValidator.local)),this.standaloneValidator.scoped&&(M=M.concat(this.standaloneValidator.scoped)),this.standaloneValidator.global&&(M=M.concat(this.standaloneValidator.global)),Q!==""&&Q.charCodeAt(0)!==47&&(Q="/"+Q),this.config.prefix&&!W&&(Q=this.config.prefix+Q),Y?.type)switch(Y.type){case"text":Y.type="text/plain";break;case"json":Y.type="application/json";break;case"formdata":Y.type="multipart/form-data";break;case"urlencoded":Y.type="application/x-www-form-urlencoded";break;case"arrayBuffer":Y.type="application/octet-stream";break;default:break}let G=this.validator.getCandidate(),B={body:Y?.body??G?.body,headers:Y?.headers??G?.headers,params:Y?.params??G?.params,query:Y?.query??G?.query,cookie:Y?.cookie??G?.cookie,response:Y?.response??G?.response},N=this.config.precompile===!0||typeof this.config.precompile=="object"&&this.config.precompile.compose===!0,P=()=>{let _=this.definitions.type,V=!this.config.aot,d=this.config.normalize,m=this.definitions.typebox,X0=()=>this.config.sanitize,R0=()=>{if(B.cookie||M.find((e)=>e.cookie))return o5({modules:m,validator:B.cookie,defaultConfig:this.config.cookie,normalize:d,config:B.cookie?.config??{},dynamic:V,models:_,validators:M.map((e)=>e.cookie),sanitize:X0})};return N?{body:c0(B.body,{modules:m,dynamic:V,models:_,normalize:d,additionalCoerce:r6(),validators:M.map((e)=>e.body),sanitize:X0}),headers:c0(B.headers,{modules:m,dynamic:V,models:_,additionalProperties:!0,coerce:!0,additionalCoerce:B6(),validators:M.map((e)=>e.headers),sanitize:X0}),params:c0(B.params,{modules:m,dynamic:V,models:_,coerce:!0,additionalCoerce:B6(),validators:M.map((e)=>e.params),sanitize:X0}),query:c0(B.query,{modules:m,dynamic:V,models:_,normalize:d,coerce:!0,additionalCoerce:aJ(),validators:M.map((e)=>e.query),sanitize:X0}),cookie:R0(),response:OQ(B.response,{modules:m,dynamic:V,models:_,normalize:d,validators:M.map((e)=>e.response),sanitize:X0})}:{createBody(){return this.body?this.body:this.body=c0(B.body,{modules:m,dynamic:V,models:_,normalize:d,additionalCoerce:r6(),validators:M.map((e)=>e.body),sanitize:X0})},createHeaders(){return this.headers?this.headers:this.headers=c0(B.headers,{modules:m,dynamic:V,models:_,normalize:d,additionalProperties:!d,coerce:!0,additionalCoerce:B6(),validators:M.map((e)=>e.headers),sanitize:X0})},createParams(){return this.params?this.params:this.params=c0(B.params,{modules:m,dynamic:V,models:_,normalize:d,coerce:!0,additionalCoerce:B6(),validators:M.map((e)=>e.params),sanitize:X0})},createQuery(){return this.query?this.query:this.query=c0(B.query,{modules:m,dynamic:V,models:_,normalize:d,coerce:!0,additionalCoerce:aJ(),validators:M.map((e)=>e.query),sanitize:X0})},createCookie(){return this.cookie?this.cookie:this.cookie=R0()},createResponse(){return this.response?this.response:this.response=OQ(B.response,{modules:m,dynamic:V,models:_,normalize:d,validators:M.map((e)=>e.response),sanitize:X0})}}};(G.body||G.cookie||G.headers||G.params||G.query||G.response)&&(Y=N$(Y,G)),Y.tags&&(Y.detail?Y.detail.tags=Y.tags:Y.detail={tags:Y.tags}),A0(this.config.detail)&&(Y.detail=Y1(Object.assign({},this.config.detail),Y.detail));let w=A0(this.event)?N$(this.event,jJ(Y)):{...AW(jJ(Y))};if(M.length&&Object.assign(w,{standaloneValidator:M}),this.config.aot===!1){let _=P();this.router.dynamic.add(X,Q,{validator:_,hooks:w,content:Y?.type,handle:J,route:Q});let V=Z8(Q,{dynamic:!0});if(Q!==V&&this.router.dynamic.add(X,V,{validator:_,hooks:w,content:Y?.type,handle:J,route:Q}),this.config.strictPath===!1){let d=Y8(Q);this.router.dynamic.add(X,d,{validator:_,hooks:w,content:Y?.type,handle:J,route:Q});let m=Z8(d);d!==m&&this.router.dynamic.add(X,d,{validator:_,hooks:w,content:Y?.type,handle:J,route:Q})}this.router.history.push({method:X,path:Q,composed:null,handler:J,compile:void 0,hooks:w});return}let H=this["~adapter"].handler,A=typeof J!="function"?()=>{let _={redirect:U$,request:this["~adapter"].isWebStandard?new Request(`http://e.ly${Q}`,{method:X}):void 0,server:null,set:{headers:Object.assign({},this.setHeaders)},status:m2,store:this.store};try{this.event.request?.map((d)=>{if(typeof d.fn=="function")return d.fn(_);if(typeof d=="function")return d(_)})}catch(d){let m;_.error=d,this.event.error?.some((X0)=>{if(typeof X0.fn=="function")return m=X0.fn(_);if(typeof X0=="function")return m=X0(_)}),m!==void 0&&(J=m)}let V=H.createNativeStaticHandler?.(J,w,_.set);return V instanceof Promise?V.then((d)=>{if(d)return d}):V?.()}:void 0,S=this.config.nativeStaticResponse===!0,j=(_)=>{!S||!A||(nX?this.router.response[_]?this.router.response[_][X]=A():this.router.response[_]={[X]:A()}:this.router.response[_]=A())};j(Q);let K,y=()=>K||(K=t5({app:this,path:Q,method:X,hooks:w,validator:P(),handler:typeof J!="function"&&typeof H.createStaticHandler!="function"?()=>J:J,allowMeta:q,inference:this.inference})),o;if(`${X}_${Q}`in this.routeTree)for(let _=0;_<this.router.history.length;_++){let V=this.router.history[_];if(V.path===Q&&V.method===X){o=_;break}}else this.routeTree[`${X}_${Q}`]=this.router.history.length;let n=o??this.router.history.length,f=N?y():(_)=>(this.router.history[n].composed=y())(_);o!==void 0?this.router.history[o]=Object.assign({method:X,path:Q,composed:f,compile:y,handler:J,hooks:w},M.length?{standaloneValidators:M}:void 0,Y.webSocket?{websocket:Y.websocket}:void 0):this.router.history.push(Object.assign({method:X,path:Q,composed:f,compile:y,handler:J,hooks:w},Y.webSocket?{websocket:Y.websocket}:void 0));let I={handler:N?f:void 0,compile(){return this.handler=y()}},k=this.router.static,b=Q.indexOf(":")===-1&&Q.indexOf("*")===-1;if(X==="WS"){if(b){Q in k?k[Q][X]=n:k[Q]={[X]:n};return}this.router.http.add("WS",Q,I),this.config.strictPath||this.router.http.add("WS",Y8(Q),I);let _=Z8(Q,{dynamic:!0});Q!==_&&this.router.http.add("WS",_,I);return}if(b)Q in k?k[Q][X]=n:k[Q]={[X]:n},this.config.strictPath||j(Y8(Q));else{if(this.router.http.add(X,Q,I),!this.config.strictPath){let V=Y8(Q);j(V),this.router.http.add(X,V,I)}let _=Z8(Q,{dynamic:!0});Q!==_&&(this.router.http.add(X,_,I),j(_))}}headers(X){return X?(this.setHeaders||(this.setHeaders={}),this.setHeaders=Y1(this.setHeaders,X),this):this}onStart(X){return this.on("start",X),this}onRequest(X){return this.on("request",X),this}onParse(X,Q){return Q?this.on(X,"parse",Q):typeof X=="string"?this.on("parse",this["~parser"][X]):this.on("parse",X)}parser(X,Q){return this["~parser"][X]=Q,this}onTransform(X,Q){return Q?this.on(X,"transform",Q):this.on("transform",X)}resolve(X,Q){Q||(Q=X,X={as:"local"});let J={subType:"resolve",fn:Q};return this.onBeforeHandle(X,J)}mapResolve(X,Q){Q||(Q=X,X={as:"local"});let J={subType:"mapResolve",fn:Q};return this.onBeforeHandle(X,J)}onBeforeHandle(X,Q){return Q?this.on(X,"beforeHandle",Q):this.on("beforeHandle",X)}onAfterHandle(X,Q){return Q?this.on(X,"afterHandle",Q):this.on("afterHandle",X)}mapResponse(X,Q){return Q?this.on(X,"mapResponse",Q):this.on("mapResponse",X)}onAfterResponse(X,Q){return Q?this.on(X,"afterResponse",Q):this.on("afterResponse",X)}trace(X,Q){Q||(Q=X,X={as:"local"}),Array.isArray(Q)||(Q=[Q]);for(let J of Q)this.on(X,"trace",m5(J));return this}error(X,Q){switch(typeof X){case"string":return Q.prototype[W8]=X,this.definitions.error[X]=Q,this;case"function":return this.definitions.error=X(this.definitions.error),this}for(let[J,Y]of Object.entries(X))Y.prototype[W8]=J,this.definitions.error[J]=Y;return this}onError(X,Q){return Q?this.on(X,"error",Q):this.on("error",X)}onStop(X){return this.on("stop",X),this}on(X,Q,J){let Y;switch(typeof X){case"string":Y=X,J=Q;break;case"object":Y=Q,!Array.isArray(Q)&&typeof Q=="object"&&(J=Q);break}Array.isArray(J)?J=J1(J):typeof J=="function"?J=[{fn:J}]:J=[J];let Z=J;for(let W of Z)W.scope=typeof X=="string"?"local":X?.as??"local",(Y==="resolve"||Y==="derive")&&(W.subType=Y);Y!=="trace"&&(this.inference=U8({[Y]:Z.map((W)=>W.fn)},this.inference,this.config.sucrose));for(let W of Z){let q=DW(W,"global",{skipIfHasType:!0});switch(Y){case"start":this.event.start??=[],this.event.start.push(q);break;case"request":this.event.request??=[],this.event.request.push(q);break;case"parse":this.event.parse??=[],this.event.parse.push(q);break;case"transform":this.event.transform??=[],this.event.transform.push(q);break;case"derive":this.event.transform??=[],this.event.transform.push(J1(q,"derive"));break;case"beforeHandle":this.event.beforeHandle??=[],this.event.beforeHandle.push(q);break;case"resolve":this.event.beforeHandle??=[],this.event.beforeHandle.push(J1(q,"resolve"));break;case"afterHandle":this.event.afterHandle??=[],this.event.afterHandle.push(q);break;case"mapResponse":this.event.mapResponse??=[],this.event.mapResponse.push(q);break;case"afterResponse":this.event.afterResponse??=[],this.event.afterResponse.push(q);break;case"trace":this.event.trace??=[],this.event.trace.push(q);break;case"error":this.event.error??=[],this.event.error.push(q);break;case"stop":this.event.stop??=[],this.event.stop.push(q);break}}return this}as(X){return H$(this.event.parse,X),H$(this.event.transform,X),H$(this.event.beforeHandle,X),H$(this.event.afterHandle,X),H$(this.event.mapResponse,X),H$(this.event.afterResponse,X),H$(this.event.trace,X),H$(this.event.error,X),X==="scoped"?(this.validator.scoped=n8(this.validator.scoped,this.validator.local),this.validator.local=null,this.standaloneValidator.local!==null&&(this.standaloneValidator.scoped||=[],this.standaloneValidator.scoped.push(...this.standaloneValidator.local),this.standaloneValidator.local=null)):X==="global"&&(this.validator.global=n8(this.validator.global,n8(this.validator.scoped,this.validator.local)),this.validator.scoped=null,this.validator.local=null,this.standaloneValidator.local!==null&&(this.standaloneValidator.scoped||=[],this.standaloneValidator.scoped.push(...this.standaloneValidator.local),this.standaloneValidator.local=null),this.standaloneValidator.scoped!==null&&(this.standaloneValidator.global||=[],this.standaloneValidator.global.push(...this.standaloneValidator.scoped),this.standaloneValidator.scoped=null)),this}group(X,Q,J){let Y=new $({...this.config,prefix:""});Y.singleton={...this.singleton},Y.definitions={...this.definitions},Y.getServer=()=>this.getServer(),Y.inference=iX(this.inference),Y.extender={...this.extender},Y["~parser"]=this["~parser"],Y.standaloneValidator={local:[...this.standaloneValidator.local??[]],scoped:[...this.standaloneValidator.scoped??[]],global:[...this.standaloneValidator.global??[]]};let Z=typeof Q=="object",W=(Z?J:Q)(Y);return this.singleton=Y1(this.singleton,Y.singleton),this.definitions=Y1(this.definitions,Y.definitions),W.event.request?.length&&(this.event.request=[...this.event.request||[],...W.event.request||[]]),W.event.mapResponse?.length&&(this.event.mapResponse=[...this.event.mapResponse||[],...W.event.mapResponse||[]]),this.model(W.definitions.type),Object.values(Y.router.history).forEach(({method:q,path:M,handler:G,hooks:B})=>{if(M=(Z?"":this.config.prefix??"")+X+M,Z){let{body:N,headers:P,query:w,params:H,cookie:A,response:S,...j}=Q,K=B,y=N||P||w||H||A||S;this.add(q,M,G,N$(j,{...K||{},error:K.error?Array.isArray(K.error)?[...K.error??[],...W.event.error??[]]:[K.error,...W.event.error??[]]:W.event.error,standaloneValidator:y?[...K.standaloneValidator??[],{body:N,headers:P,query:w,params:H,cookie:A,response:S}]:K.standaloneValidator}),void 0)}else this.add(q,M,G,N$(B,{error:W.event.error}),{skipPrefix:!0})}),this}guard(X,Q){if(!Q){if(typeof X=="object"){this.applyMacro(X),X.detail&&(this.config.detail?this.config.detail=Y1(Object.assign({},this.config.detail),X.detail):this.config.detail=X.detail),X.tags&&(this.config.detail?this.config.detail.tags=X.tags:this.config.detail={tags:X.tags});let Z=X.as??"local";if(X.schema==="standalone"){this.standaloneValidator[Z]||(this.standaloneValidator[Z]=[]);let W=X?.response?typeof X.response=="string"||L in X.response||"~standard"in X.response?{200:X.response}:X?.response:void 0;this.standaloneValidator[Z].push({body:X.body,headers:X.headers,params:X.params,query:X.query,response:W,cookie:X.cookie})}else this.validator[Z]={body:X.body??this.validator[Z]?.body,headers:X.headers??this.validator[Z]?.headers,params:X.params??this.validator[Z]?.params,query:X.query??this.validator[Z]?.query,response:X.response??this.validator[Z]?.response,cookie:X.cookie??this.validator[Z]?.cookie};return X.parse&&this.on({as:Z},"parse",X.parse),X.transform&&this.on({as:Z},"transform",X.transform),X.derive&&this.on({as:Z},"derive",X.derive),X.beforeHandle&&this.on({as:Z},"beforeHandle",X.beforeHandle),X.resolve&&this.on({as:Z},"resolve",X.resolve),X.afterHandle&&this.on({as:Z},"afterHandle",X.afterHandle),X.mapResponse&&this.on({as:Z},"mapResponse",X.mapResponse),X.afterResponse&&this.on({as:Z},"afterResponse",X.afterResponse),X.error&&this.on({as:Z},"error",X.error),this}return this.guard({},X)}let J=new $({...this.config,prefix:""});J.singleton={...this.singleton},J.definitions={...this.definitions},J.inference=iX(this.inference),J.extender={...this.extender},J.getServer=()=>this.getServer();let Y=Q(J);return this.singleton=Y1(this.singleton,J.singleton),this.definitions=Y1(this.definitions,J.definitions),Y.getServer=()=>this.server,Y.event.request?.length&&(this.event.request=[...this.event.request||[],...Y.event.request||[]]),Y.event.mapResponse?.length&&(this.event.mapResponse=[...this.event.mapResponse||[],...Y.event.mapResponse||[]]),this.model(Y.definitions.type),Object.values(J.router.history).forEach(({method:Z,path:W,handler:q,hooks:M})=>{let{body:G,headers:B,query:N,params:P,cookie:w,response:H,...A}=X,S=G||B||N||P||w||H;this.add(Z,W,q,N$(A,{...M||{},error:M.error?Array.isArray(M.error)?[...M.error??[],...Y.event.error??[]]:[M.error,...Y.event.error??[]]:Y.event.error,standaloneValidator:S?[...M.standaloneValidator??[],{body:G,headers:B,query:N,params:P,cookie:w,response:H}]:M.standaloneValidator}))}),this}use(X){if(!X)return this;if(Array.isArray(X)){let Q=this;for(let J of X)Q=Q.use(J);return Q}return X instanceof Promise?(this.promisedModules.add(X.then((Q)=>{if(typeof Q=="function")return Q(this);if(Q instanceof $)return this._use(Q).compile();if(Q.constructor?.name==="Elysia")return this._use(Q).compile();if(typeof Q.default=="function")return Q.default(this);if(Q.default instanceof $)return this._use(Q.default);if(Q.constructor?.name==="Elysia")return this._use(Q.default);if(Q.constructor?.name==="_Elysia")return this._use(Q.default);try{return this._use(Q.default)}catch(J){throw console.error('Invalid plugin type. Expected Elysia instance, function, or module with "default" as Elysia instance or function that returns Elysia instance.'),J}}).then((Q)=>(Q&&typeof Q.compile=="function"&&Q.compile(),Q))),this):this._use(X)}propagatePromiseModules(X){if(X.promisedModules.size<=0)return this;for(let Q of X.promisedModules.promises)this.promisedModules.add(Q.then((J)=>{if(!J)return;let Y=this._use(J);return Y instanceof Promise?Y.then((Z)=>{Z?Z.compile():J.compile()}):J.compile()}));return this}_use(X){if(typeof X=="function"){let Y=X(this);return Y instanceof Promise?(this.promisedModules.add(Y.then((Z)=>{if(Z instanceof $){Z.getServer=()=>this.getServer(),Z.getGlobalRoutes=()=>this.getGlobalRoutes(),Z.getGlobalDefinitions=()=>this.getGlobalDefinitions(),Z.model(this.definitions.type),Z.error(this.definitions.error);for(let{method:W,path:q,handler:M,hooks:G}of Object.values(Z.router.history))this.add(W,q,M,G,void 0);return Z===this?void 0:(this.propagatePromiseModules(Z),Z)}return typeof Z=="function"?Z(this):typeof Z.default=="function"?Z.default(this):this._use(Z)}).then((Z)=>(Z&&typeof Z.compile=="function"&&Z.compile(),Z))),this):Y}this.propagatePromiseModules(X);let Q=X.config.name,J=X.config.seed;if(X.getParent=()=>this,X.getServer=()=>this.getServer(),X.getGlobalRoutes=()=>this.getGlobalRoutes(),X.getGlobalDefinitions=()=>this.getGlobalDefinitions(),X.standaloneValidator?.scoped&&(this.standaloneValidator.local?this.standaloneValidator.local=this.standaloneValidator.local.concat(X.standaloneValidator.scoped):this.standaloneValidator.local=X.standaloneValidator.scoped),X.standaloneValidator?.global&&(this.standaloneValidator.global?this.standaloneValidator.global=this.standaloneValidator.global.concat(X.standaloneValidator.global):this.standaloneValidator.global=X.standaloneValidator.global),A0(X["~parser"])&&(this["~parser"]={...X["~parser"],...this["~parser"]}),X.setHeaders&&this.headers(X.setHeaders),Q){Q in this.dependencies||(this.dependencies[Q]=[]);let Y=J!==void 0?v$(Q+JSON.stringify(J)):0;this.dependencies[Q].some(({checksum:Z})=>Y===Z)||(this.extender.macro={...this.extender.macro,...X.extender.macro},this.extender.higherOrderFunctions=this.extender.higherOrderFunctions.concat(X.extender.higherOrderFunctions))}else A0(X.extender.macro)&&(this.extender.macro={...this.extender.macro,...X.extender.macro}),X.extender.higherOrderFunctions.length&&(this.extender.higherOrderFunctions=this.extender.higherOrderFunctions.concat(X.extender.higherOrderFunctions));if(X.extender.higherOrderFunctions.length){VJ(this.extender.higherOrderFunctions);let Y=[];for(let Z=0;Z<this.extender.higherOrderFunctions.length;Z++){let W=this.extender.higherOrderFunctions[Z];W.checksum&&(Y.includes(W.checksum)&&(this.extender.higherOrderFunctions.splice(Z,1),Z--),Y.push(W.checksum))}Y.length=0}this.inference=UQ(this.inference,X.inference),A0(X.singleton.decorator)&&this.decorate(X.singleton.decorator),A0(X.singleton.store)&&this.state(X.singleton.store),A0(X.definitions.type)&&this.model(X.definitions.type),A0(X.definitions.error)&&this.error(X.definitions.error),A0(X.extender.macro)&&(this.extender.macro={...this.extender.macro,...X.extender.macro});for(let{method:Y,path:Z,handler:W,hooks:q}of Object.values(X.router.history))this.add(Y,Z,W,q);if(Q){Q in this.dependencies||(this.dependencies[Q]=[]);let Y=J!==void 0?v$(Q+JSON.stringify(J)):0;if(this.dependencies[Q].some(({checksum:Z})=>Y===Z))return this;this.dependencies[Q].push(this.config?.analytic?{name:X.config.name,seed:X.config.seed,checksum:Y,dependencies:X.dependencies,stack:X.telemetry?.stack,routes:X.router.history,decorators:X.singleton,store:X.singleton.store,error:X.definitions.error,derive:X.event.transform?.filter((Z)=>Z?.subType==="derive").map((Z)=>({fn:Z.toString(),stack:Error().stack??""})),resolve:X.event.transform?.filter((Z)=>Z?.subType==="resolve").map((Z)=>({fn:Z.toString(),stack:Error().stack??""}))}:{name:X.config.name,seed:X.config.seed,checksum:Y,dependencies:X.dependencies}),A0(X.event)&&(this.event=LJ(this.event,KJ(X.event),Y))}else A0(X.event)&&(this.event=LJ(this.event,KJ(X.event)));return X.validator.global&&(this.validator.global=N$(this.validator.global,{...X.validator.global})),X.validator.scoped&&(this.validator.local=N$(this.validator.local,{...X.validator.scoped})),this}macro(X,Q){if(typeof X=="string"&&!Q)throw Error("Macro function is required");return typeof X=="string"?this.extender.macro[X]=Q:this.extender.macro={...this.extender.macro,...X},this}applyMacro(X,Q=X,{iteration:J=0,applied:Y={}}={}){if(J>=16)return;let Z=this.extender.macro;for(let[W,q]of Object.entries(Q)){if(!(W in Z))continue;let M=typeof Z[W]=="function"?Z[W](q):Z[W];if(!M||typeof Z[W]=="object"&&q===!1)return;let G=v$(W+JSON.stringify(M.seed??q));if(!(G in Y)){Y[G]=!0;for(let[B,N]of Object.entries(M))if(B!=="seed"){if(B in LW){OW(X,B,N),delete X[W];continue}if(B==="detail"){X.detail||(X.detail={}),X.detail=Y1(X.detail,N,{mergeArray:!0}),delete X[W];continue}if(B in Z){this.applyMacro(X,{[B]:N},{applied:Y,iteration:J+1}),delete X[W];continue}switch((B==="derive"||B==="resolve")&&typeof N=="function"&&(N={fn:N,subType:B}),typeof X[B]){case"function":X[B]=[X[B],N];break;case"object":Array.isArray(X[B])?X[B].push(N):X[B]=[X[B],N];break;case"undefined":X[B]=N;break}delete X[W]}}}}mount(X,Q,J){if(X instanceof $||typeof X=="function"||X.length===0||X==="/"){let q=typeof X=="function"?X:X instanceof $?X.compile().fetch:Q instanceof $?Q.compile().fetch:typeof Q=="function"?Q:(()=>{throw Error("Invalid handler")})(),M=({request:G,path:B})=>q(new Request(uX(G.url,B),{method:G.method,headers:G.headers,signal:G.signal,credentials:G.credentials,referrerPolicy:G.referrerPolicy,duplex:G.duplex,redirect:G.redirect,mode:G.mode,keepalive:G.keepalive,integrity:G.integrity,body:G.body}));return this.route("ALL","/*",M,{parse:"none",...J,detail:{...J?.detail,hide:!0},config:{mount:q}}),this}let Y=Q instanceof $?Q.compile().fetch:typeof Q=="function"?Q:(()=>{throw Error("Invalid handler")})(),Z=X.length-(X.endsWith("*")?1:0),W=({request:q,path:M})=>Y(new Request(uX(q.url,M.slice(Z)||"/"),{method:q.method,headers:q.headers,signal:q.signal,credentials:q.credentials,referrerPolicy:q.referrerPolicy,duplex:q.duplex,redirect:q.redirect,mode:q.mode,keepalive:q.keepalive,integrity:q.integrity,body:q.body}));return this.route("ALL",X,W,{parse:"none",...J,detail:{...J?.detail,hide:!0},config:{mount:Y}}),this.route("ALL",X+(X.endsWith("/")?"*":"/*"),W,{parse:"none",...J,detail:{...J?.detail,hide:!0},config:{mount:Y}}),this}get(X,Q,J){return this.add("GET",X,Q,J),this}post(X,Q,J){return this.add("POST",X,Q,J),this}put(X,Q,J){return this.add("PUT",X,Q,J),this}patch(X,Q,J){return this.add("PATCH",X,Q,J),this}delete(X,Q,J){return this.add("DELETE",X,Q,J),this}options(X,Q,J){return this.add("OPTIONS",X,Q,J),this}all(X,Q,J){return this.add("ALL",X,Q,J),this}head(X,Q,J){return this.add("HEAD",X,Q,J),this}connect(X,Q,J){return this.add("CONNECT",X,Q,J),this}route(X,Q,J,Y){return this.add(X.toUpperCase(),Q,J,Y,Y?.config),this}ws(X,Q){return this["~adapter"].ws?this["~adapter"].ws(this,X,Q):console.warn("Current adapter doesn't support WebSocket"),this}state(X,Q,J){Q===void 0?(J=X,X={as:"append"},Q=""):J===void 0&&(typeof X=="string"?(J=Q,Q=X,X={as:"append"}):typeof X=="object"&&(J=Q,Q=""));let{as:Y}=X;if(typeof Q!="string")return this;switch(typeof J){case"object":return!J||!A0(J)?this:Q?((Q in this.singleton.store)?this.singleton.store[Q]=Y1(this.singleton.store[Q],J,{override:Y==="override"}):this.singleton.store[Q]=J,this):J===null?this:(this.singleton.store=Y1(this.singleton.store,J,{override:Y==="override"}),this);case"function":return Q?(Y==="override"||!(Q in this.singleton.store))&&(this.singleton.store[Q]=J):this.singleton.store=J(this.singleton.store),this;default:return(Y==="override"||!(Q in this.singleton.store))&&(this.singleton.store[Q]=J),this}}decorate(X,Q,J){Q===void 0?(J=X,X={as:"append"},Q=""):J===void 0&&(typeof X=="string"?(J=Q,Q=X,X={as:"append"}):typeof X=="object"&&(J=Q,Q=""));let{as:Y}=X;if(typeof Q!="string")return this;switch(typeof J){case"object":return Q?((Q in this.singleton.decorator)?this.singleton.decorator[Q]=Y1(this.singleton.decorator[Q],J,{override:Y==="override"}):this.singleton.decorator[Q]=J,this):J===null?this:(this.singleton.decorator=Y1(this.singleton.decorator,J,{override:Y==="override"}),this);case"function":return Q?(Y==="override"||!(Q in this.singleton.decorator))&&(this.singleton.decorator[Q]=J):this.singleton.decorator=J(this.singleton.decorator),this;default:return(Y==="override"||!(Q in this.singleton.decorator))&&(this.singleton.decorator[Q]=J),this}}derive(X,Q){Q||(Q=X,X={as:"local"});let J={subType:"derive",fn:Q};return this.onTransform(X,J)}model(X,Q){let J=(Y)=>{let Z={};for(let W in Y)"~standard"in Y[W]||(Z[W]=Y[W]);return Z};switch(typeof X){case"object":let Y={},Z=Object.entries(X);if(!Z.length)return this;for(let[M,G]of Z)M in this.definitions.type||("~standard"in G?this.definitions.type[M]=G:(Y[M]=this.definitions.type[M]=G,Y[M].$id??=`#/components/schemas/${M}`));return this.definitions.typebox=T.Module({...this.definitions.typebox.$defs,...Y}),this;case"function":let W=X(this.definitions.type);return this.definitions.type=W,this.definitions.typebox=T.Module(J(W)),this;case"string":if(!Q)break;if(this.definitions.type[X]=Q,"~standard"in Q)return this;let q={...Q,id:Q.$id??`#/components/schemas/${X}`};return this.definitions.typebox=T.Module({...this.definitions.typebox.$defs,...q}),this}return Q?(this.definitions.type[X]=Q,("~standard"in Q)?this:(this.definitions.typebox=T.Module({...this.definitions.typebox.$defs,[X]:Q}),this)):this}Ref(X){return T.Ref(X)}mapDerive(X,Q){Q||(Q=X,X={as:"local"});let J={subType:"mapDerive",fn:Q};return this.onTransform(X,J)}affix(X,Q,J){if(J==="")return this;let Y=["_","-"," "],Z=(G)=>G[0].toUpperCase()+G.slice(1),W=X==="prefix"?(G,B)=>Y.includes(G.at(-1)??"")?G+B:G+Z(B):Y.includes(J.at(-1)??"")?(G,B)=>B+G:(G,B)=>B+Z(G),q=(G)=>{let B={};switch(G){case"decorator":for(let N in this.singleton.decorator)B[W(J,N)]=this.singleton.decorator[N];this.singleton.decorator=B;break;case"state":for(let N in this.singleton.store)B[W(J,N)]=this.singleton.store[N];this.singleton.store=B;break;case"model":for(let N in this.definitions.type)B[W(J,N)]=this.definitions.type[N];this.definitions.type=B;break;case"error":for(let N in this.definitions.error)B[W(J,N)]=this.definitions.error[N];this.definitions.error=B;break}},M=Array.isArray(Q)?Q:[Q];for(let G of M.some((B)=>B==="all")?["decorator","state","model","error"]:M)q(G);return this}prefix(X,Q){return this.affix("prefix",X,Q)}suffix(X,Q){return this.affix("suffix",X,Q)}compile(){return this["~adapter"].beforeCompile?.(this),this["~adapter"].isWebStandard?(this.fetch=this.config.aot?LQ(this):ZY(this),typeof this.server?.reload=="function"&&this.server.reload({...this.server||{},fetch:this.fetch}),this):(typeof this.server?.reload=="function"&&this.server.reload(this.server||{}),this._handle=LQ(this),this)}get modules(){return this.promisedModules}},Z7=ZD;var WD=new Z7().get("/",()=>"OK"),W7=WD;var qD={...FQ,routes:W7},Ck=qD,Kk=FQ;export{Kk as meta,Ck as default};

//# debugId=E4E919579A1231EE64756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vZmFzdC1kZWNvZGUtdXJpLWNvbXBvbmVudEAxLjAuMS9ub2RlX21vZHVsZXMvZmFzdC1kZWNvZGUtdXJpLWNvbXBvbmVudC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9pZWVlNzU0QDEuMi4xL25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0Bib3Jld2l0K3RleHQtY29kZWNAMC4xLjEvbm9kZV9tb2R1bGVzL0Bib3Jld2l0L3RleHQtY29kZWMvbGliL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL3Rva2VuLXR5cGVzQDYuMS4xL25vZGVfbW9kdWxlcy90b2tlbi10eXBlcy9saWIvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vc3RydG9rM0AxMC4zLjQvbm9kZV9tb2R1bGVzL3N0cnRvazMvbGliL3N0cmVhbS9FcnJvcnMuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vc3RydG9rM0AxMC4zLjQvbm9kZV9tb2R1bGVzL3N0cnRvazMvbGliL3N0cmVhbS9BYnN0cmFjdFN0cmVhbVJlYWRlci5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9zdHJ0b2szQDEwLjMuNC9ub2RlX21vZHVsZXMvc3RydG9rMy9saWIvc3RyZWFtL1N0cmVhbVJlYWRlci5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9zdHJ0b2szQDEwLjMuNC9ub2RlX21vZHVsZXMvc3RydG9rMy9saWIvc3RyZWFtL1dlYlN0cmVhbVJlYWRlci5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9zdHJ0b2szQDEwLjMuNC9ub2RlX21vZHVsZXMvc3RydG9rMy9saWIvc3RyZWFtL1dlYlN0cmVhbUJ5b2JSZWFkZXIuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vc3RydG9rM0AxMC4zLjQvbm9kZV9tb2R1bGVzL3N0cnRvazMvbGliL3N0cmVhbS9XZWJTdHJlYW1EZWZhdWx0UmVhZGVyLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL3N0cnRvazNAMTAuMy40L25vZGVfbW9kdWxlcy9zdHJ0b2szL2xpYi9zdHJlYW0vV2ViU3RyZWFtUmVhZGVyRmFjdG9yeS5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9zdHJ0b2szQDEwLjMuNC9ub2RlX21vZHVsZXMvc3RydG9rMy9saWIvc3RyZWFtL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL3N0cnRvazNAMTAuMy40L25vZGVfbW9kdWxlcy9zdHJ0b2szL2xpYi9BYnN0cmFjdFRva2VuaXplci5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9zdHJ0b2szQDEwLjMuNC9ub2RlX21vZHVsZXMvc3RydG9rMy9saWIvUmVhZFN0cmVhbVRva2VuaXplci5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9zdHJ0b2szQDEwLjMuNC9ub2RlX21vZHVsZXMvc3RydG9rMy9saWIvQnVmZmVyVG9rZW5pemVyLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL3N0cnRvazNAMTAuMy40L25vZGVfbW9kdWxlcy9zdHJ0b2szL2xpYi9CbG9iVG9rZW5pemVyLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL3N0cnRvazNAMTAuMy40L25vZGVfbW9kdWxlcy9zdHJ0b2szL2xpYi9jb3JlLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL2ZmbGF0ZUAwLjguMi9ub2RlX21vZHVsZXMvZmZsYXRlL2VzbS9icm93c2VyLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL21zQDIuMS4zL25vZGVfbW9kdWxlcy9tcy9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9kZWJ1Z0A0LjQuMy9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9kZWJ1Z0A0LjQuMy9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHRva2VuaXplcitpbmZsYXRlQDAuMi43L25vZGVfbW9kdWxlcy9AdG9rZW5pemVyL2luZmxhdGUvbGliL1ppcFRva2VuLmpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0B0b2tlbml6ZXIraW5mbGF0ZUAwLjIuNy9ub2RlX21vZHVsZXMvQHRva2VuaXplci9pbmZsYXRlL2xpYi9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi91aW50OGFycmF5LWV4dHJhc0AxLjUuMC9ub2RlX21vZHVsZXMvdWludDhhcnJheS1leHRyYXMvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vZmlsZS10eXBlQDIxLjAuMC9ub2RlX21vZHVsZXMvZmlsZS10eXBlL3V0aWwuanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vZmlsZS10eXBlQDIxLjAuMC9ub2RlX21vZHVsZXMvZmlsZS10eXBlL3N1cHBvcnRlZC5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9maWxlLXR5cGVAMjEuMC4wL25vZGVfbW9kdWxlcy9maWxlLXR5cGUvY29yZS5qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9jb29raWVAMS4wLjIvbm9kZV9tb2R1bGVzL2Nvb2tpZS9kaXN0L2luZGV4LmpzIiwgIi4uL3NyYy9tZXRhLnRzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL21lbW9pcmlzdEAwLjQuMC9ub2RlX21vZHVsZXMvbWVtb2lyaXN0L2Rpc3QvaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2d1YXJkL3ZhbHVlLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9jbG9uZS92YWx1ZS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvY2xvbmUvdHlwZS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3ZhbHVlL2d1YXJkL2d1YXJkLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vc3lzdGVtL3BvbGljeS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvY3JlYXRlL2ltbXV0YWJsZS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvY3JlYXRlL3R5cGUubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2Vycm9yL2Vycm9yLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9zeW1ib2xzL3N5bWJvbHMubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2d1YXJkL2tpbmQubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2d1YXJkL3R5cGUubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3BhdHRlcm5zL3BhdHRlcm5zLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9yZWdpc3RyeS9mb3JtYXQubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3JlZ2lzdHJ5L3R5cGUubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3NldHMvc2V0Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9hbnkvYW55Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9hcnJheS9hcnJheS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvYXJndW1lbnQvYXJndW1lbnQubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2FzeW5jLWl0ZXJhdG9yL2FzeW5jLWl0ZXJhdG9yLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9jb21wdXRlZC9jb21wdXRlZC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvZGlzY2FyZC9kaXNjYXJkLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9uZXZlci9uZXZlci5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvbWFwcGVkL21hcHBlZC1yZXN1bHQubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2NvbnN0cnVjdG9yL2NvbnN0cnVjdG9yLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9mdW5jdGlvbi9mdW5jdGlvbi5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvdW5pb24vdW5pb24tY3JlYXRlLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS91bmlvbi91bmlvbi1ldmFsdWF0ZWQubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3VuaW9uL3VuaW9uLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS90ZW1wbGF0ZS1saXRlcmFsL3BhcnNlLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS90ZW1wbGF0ZS1saXRlcmFsL2Zpbml0ZS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvdGVtcGxhdGUtbGl0ZXJhbC9nZW5lcmF0ZS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvbGl0ZXJhbC9saXRlcmFsLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9ib29sZWFuL2Jvb2xlYW4ubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2JpZ2ludC9iaWdpbnQubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL251bWJlci9udW1iZXIubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3N0cmluZy9zdHJpbmcubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3RlbXBsYXRlLWxpdGVyYWwvc3ludGF4Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS90ZW1wbGF0ZS1saXRlcmFsL3BhdHRlcm4ubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3RlbXBsYXRlLWxpdGVyYWwvdW5pb24ubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3RlbXBsYXRlLWxpdGVyYWwvdGVtcGxhdGUtbGl0ZXJhbC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvaW5kZXhlZC9pbmRleGVkLXByb3BlcnR5LWtleXMubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2luZGV4ZWQvaW5kZXhlZC1mcm9tLW1hcHBlZC1yZXN1bHQubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2luZGV4ZWQvaW5kZXhlZC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvaW5kZXhlZC9pbmRleGVkLWZyb20tbWFwcGVkLWtleS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvaXRlcmF0b3IvaXRlcmF0b3IubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL29iamVjdC9vYmplY3QubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3Byb21pc2UvcHJvbWlzZS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvcmVhZG9ubHkvcmVhZG9ubHkubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3JlYWRvbmx5L3JlYWRvbmx5LWZyb20tbWFwcGVkLXJlc3VsdC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvdHVwbGUvdHVwbGUubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL21hcHBlZC9tYXBwZWQubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL29wdGlvbmFsL29wdGlvbmFsLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9vcHRpb25hbC9vcHRpb25hbC1mcm9tLW1hcHBlZC1yZXN1bHQubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2ludGVyc2VjdC9pbnRlcnNlY3QtY3JlYXRlLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9pbnRlcnNlY3QvaW50ZXJzZWN0LWV2YWx1YXRlZC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvaW50ZXJzZWN0L2ludGVyc2VjdC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvcmVmL3JlZi5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvYXdhaXRlZC9hd2FpdGVkLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9rZXlvZi9rZXlvZi1wcm9wZXJ0eS1rZXlzLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9rZXlvZi9rZXlvZi5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUva2V5b2Yva2V5b2YtZnJvbS1tYXBwZWQtcmVzdWx0Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9rZXlvZi9rZXlvZi1wcm9wZXJ0eS1lbnRyaWVzLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9jb21wb3NpdGUvY29tcG9zaXRlLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9kYXRlL2RhdGUubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL251bGwvbnVsbC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvc3ltYm9sL3N5bWJvbC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvdW5kZWZpbmVkL3VuZGVmaW5lZC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvdWludDhhcnJheS91aW50OGFycmF5Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS91bmtub3duL3Vua25vd24ubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2NvbnN0L2NvbnN0Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9jb25zdHJ1Y3Rvci1wYXJhbWV0ZXJzL2NvbnN0cnVjdG9yLXBhcmFtZXRlcnMubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2VudW0vZW51bS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvZXh0ZW5kcy9leHRlbmRzLWNoZWNrLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9leHRlbmRzL2V4dGVuZHMtZnJvbS1tYXBwZWQtcmVzdWx0Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9leHRlbmRzL2V4dGVuZHMubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2V4dGVuZHMvZXh0ZW5kcy1mcm9tLW1hcHBlZC1rZXkubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2V4dGVuZHMvZXh0ZW5kcy11bmRlZmluZWQubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2V4Y2x1ZGUvZXhjbHVkZS1mcm9tLXRlbXBsYXRlLWxpdGVyYWwubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2V4Y2x1ZGUvZXhjbHVkZS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvZXhjbHVkZS9leGNsdWRlLWZyb20tbWFwcGVkLXJlc3VsdC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvZXh0cmFjdC9leHRyYWN0LWZyb20tdGVtcGxhdGUtbGl0ZXJhbC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvZXh0cmFjdC9leHRyYWN0Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9leHRyYWN0L2V4dHJhY3QtZnJvbS1tYXBwZWQtcmVzdWx0Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9pbnN0YW5jZS10eXBlL2luc3RhbmNlLXR5cGUubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3JlYWRvbmx5LW9wdGlvbmFsL3JlYWRvbmx5LW9wdGlvbmFsLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9yZWNvcmQvcmVjb3JkLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9pbnN0YW50aWF0ZS9pbnN0YW50aWF0ZS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvaW50ZWdlci9pbnRlZ2VyLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9pbnRyaW5zaWMvaW50cmluc2ljLWZyb20tbWFwcGVkLWtleS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvaW50cmluc2ljL2ludHJpbnNpYy5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvaW50cmluc2ljL2NhcGl0YWxpemUubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2ludHJpbnNpYy9sb3dlcmNhc2UubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2ludHJpbnNpYy91bmNhcGl0YWxpemUubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL2ludHJpbnNpYy91cHBlcmNhc2UubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL29taXQvb21pdC1mcm9tLW1hcHBlZC1yZXN1bHQubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL29taXQvb21pdC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvb21pdC9vbWl0LWZyb20tbWFwcGVkLWtleS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvcGljay9waWNrLWZyb20tbWFwcGVkLXJlc3VsdC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvcGljay9waWNrLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9waWNrL3BpY2stZnJvbS1tYXBwZWQta2V5Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9wYXJ0aWFsL3BhcnRpYWwubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3BhcnRpYWwvcGFydGlhbC1mcm9tLW1hcHBlZC1yZXN1bHQubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3JlcXVpcmVkL3JlcXVpcmVkLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9yZXF1aXJlZC9yZXF1aXJlZC1mcm9tLW1hcHBlZC1yZXN1bHQubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL21vZHVsZS9jb21wdXRlLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9tb2R1bGUvbW9kdWxlLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9ub3Qvbm90Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdHlwZS9wYXJhbWV0ZXJzL3BhcmFtZXRlcnMubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3JlY3Vyc2l2ZS9yZWN1cnNpdmUubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3JlZ2V4cC9yZWdleHAubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3Jlc3QvcmVzdC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvcmV0dXJuLXR5cGUvcmV0dXJuLXR5cGUubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3RyYW5zZm9ybS90cmFuc2Zvcm0ubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3Vuc2FmZS91bnNhZmUubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS90eXBlL3ZvaWQvdm9pZC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3R5cGUvdHlwZS9pbmRleC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vZWx5c2lhQDEuNC4xMisxOGUzMjE0Y2VhZTEzYWFmL25vZGVfbW9kdWxlcy9lbHlzaWEvZGlzdC9pbmRleC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL2Vycm9ycy9mdW5jdGlvbi5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3ZhbHVlL2RlcmVmL2RlcmVmLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdmFsdWUvaGFzaC9oYXNoLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdmFsdWUvY2hlY2svY2hlY2subWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS9lcnJvcnMvZXJyb3JzLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdmFsdWUvYXNzZXJ0L2Fzc2VydC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3ZhbHVlL2Nsb25lL2Nsb25lLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdmFsdWUvY3JlYXRlL2NyZWF0ZS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3ZhbHVlL2Nhc3QvY2FzdC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3ZhbHVlL2NsZWFuL2NsZWFuLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdmFsdWUvY29udmVydC9jb252ZXJ0Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdmFsdWUvdHJhbnNmb3JtL2RlY29kZS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3ZhbHVlL3RyYW5zZm9ybS9lbmNvZGUubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS92YWx1ZS90cmFuc2Zvcm0vaGFzLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdmFsdWUvZGVjb2RlL2RlY29kZS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3ZhbHVlL2RlZmF1bHQvZGVmYXVsdC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3ZhbHVlL3BvaW50ZXIvcG9pbnRlci5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3ZhbHVlL2VxdWFsL2VxdWFsLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdmFsdWUvZGVsdGEvZGVsdGEubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL0BzaW5jbGFpcit0eXBlYm94QDAuMzQuNDEvbm9kZV9tb2R1bGVzL0BzaW5jbGFpci90eXBlYm94L2J1aWxkL2VzbS92YWx1ZS9lbmNvZGUvZW5jb2RlLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vdmFsdWUvbXV0YXRlL211dGF0ZS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vQHNpbmNsYWlyK3R5cGVib3hAMC4zNC40MS9ub2RlX21vZHVsZXMvQHNpbmNsYWlyL3R5cGVib3gvYnVpbGQvZXNtL3ZhbHVlL3BhcnNlL3BhcnNlLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9Ac2luY2xhaXIrdHlwZWJveEAwLjM0LjQxL25vZGVfbW9kdWxlcy9Ac2luY2xhaXIvdHlwZWJveC9idWlsZC9lc20vY29tcGlsZXIvY29tcGlsZXIubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL2VseXNpYUAxLjQuMTIrMThlMzIxNGNlYWUxM2FhZi9ub2RlX21vZHVsZXMvZWx5c2lhL2Rpc3QvdW5pdmVyc2FsL3V0aWxzLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9lbHlzaWFAMS40LjEyKzE4ZTMyMTRjZWFlMTNhYWYvbm9kZV9tb2R1bGVzL2VseXNpYS9kaXN0L3VuaXZlcnNhbC9maWxlLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9lbHlzaWFAMS40LjEyKzE4ZTMyMTRjZWFlMTNhYWYvbm9kZV9tb2R1bGVzL2VseXNpYS9kaXN0L3V0aWxzLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9lbHlzaWFAMS40LjEyKzE4ZTMyMTRjZWFlMTNhYWYvbm9kZV9tb2R1bGVzL2VseXNpYS9kaXN0L2Vycm9yLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9lbHlzaWFAMS40LjEyKzE4ZTMyMTRjZWFlMTNhYWYvbm9kZV9tb2R1bGVzL2VseXNpYS9kaXN0L3R5cGUtc3lzdGVtL3V0aWxzLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9lbHlzaWFAMS40LjEyKzE4ZTMyMTRjZWFlMTNhYWYvbm9kZV9tb2R1bGVzL2VseXNpYS9kaXN0L3R5cGUtc3lzdGVtL2Zvcm1hdC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vZWx5c2lhQDEuNC4xMisxOGUzMjE0Y2VhZTEzYWFmL25vZGVfbW9kdWxlcy9lbHlzaWEvZGlzdC90eXBlLXN5c3RlbS9pbmRleC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vZWx5c2lhQDEuNC4xMisxOGUzMjE0Y2VhZTEzYWFmL25vZGVfbW9kdWxlcy9lbHlzaWEvZGlzdC9jb29raWVzLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9lbHlzaWFAMS40LjEyKzE4ZTMyMTRjZWFlMTNhYWYvbm9kZV9tb2R1bGVzL2VseXNpYS9kaXN0L2FkYXB0ZXIvdXRpbHMubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL2VseXNpYUAxLjQuMTIrMThlMzIxNGNlYWUxM2FhZi9ub2RlX21vZHVsZXMvZWx5c2lhL2Rpc3QvYWRhcHRlci93ZWItc3RhbmRhcmQvaGFuZGxlci5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vZWx5c2lhQDEuNC4xMisxOGUzMjE0Y2VhZTEzYWFmL25vZGVfbW9kdWxlcy9lbHlzaWEvZGlzdC9hZGFwdGVyL3dlYi1zdGFuZGFyZC9pbmRleC5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vZWx5c2lhQDEuNC4xMisxOGUzMjE0Y2VhZTEzYWFmL25vZGVfbW9kdWxlcy9lbHlzaWEvZGlzdC9hZGFwdGVyL2Nsb3VkZmxhcmUtd29ya2VyL2luZGV4Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9lbHlzaWFAMS40LjEyKzE4ZTMyMTRjZWFlMTNhYWYvbm9kZV9tb2R1bGVzL2VseXNpYS9kaXN0L3N1Y3Jvc2UubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL2VseXNpYUAxLjQuMTIrMThlMzIxNGNlYWUxM2FhZi9ub2RlX21vZHVsZXMvZWx5c2lhL2Rpc3QvYWRhcHRlci9idW4vaGFuZGxlci5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vZWx5c2lhQDEuNC4xMisxOGUzMjE0Y2VhZTEzYWFmL25vZGVfbW9kdWxlcy9lbHlzaWEvZGlzdC9jb21wb3NlLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9lbHlzaWFAMS40LjEyKzE4ZTMyMTRjZWFlMTNhYWYvbm9kZV9tb2R1bGVzL2VseXNpYS9kaXN0L3BhcnNlLXF1ZXJ5Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9lbHlzaWFAMS40LjEyKzE4ZTMyMTRjZWFlMTNhYWYvbm9kZV9tb2R1bGVzL2VseXNpYS9kaXN0L3RyYWNlLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9leGFjdC1taXJyb3JAMC4yLjIrMjEyNmJhNDM5MWQ0N2ZmZC9ub2RlX21vZHVsZXMvZXhhY3QtbWlycm9yL2Rpc3QvaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL2VseXNpYUAxLjQuMTIrMThlMzIxNGNlYWUxM2FhZi9ub2RlX21vZHVsZXMvZWx5c2lhL2Rpc3Qvc2NoZW1hLm1qcyIsICIuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLmJ1bi9lbHlzaWFAMS40LjEyKzE4ZTMyMTRjZWFlMTNhYWYvbm9kZV9tb2R1bGVzL2VseXNpYS9kaXN0L2FkYXB0ZXIvYnVuL2NvbXBvc2UubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL2VseXNpYUAxLjQuMTIrMThlMzIxNGNlYWUxM2FhZi9ub2RlX21vZHVsZXMvZWx5c2lhL2Rpc3QvYWRhcHRlci9idW4vaGFuZGxlci1uYXRpdmUubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL2VseXNpYUAxLjQuMTIrMThlMzIxNGNlYWUxM2FhZi9ub2RlX21vZHVsZXMvZWx5c2lhL2Rpc3Qvd3MvaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL2VseXNpYUAxLjQuMTIrMThlMzIxNGNlYWUxM2FhZi9ub2RlX21vZHVsZXMvZWx5c2lhL2Rpc3QvYWRhcHRlci9idW4vaW5kZXgubWpzIiwgIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8uYnVuL2VseXNpYUAxLjQuMTIrMThlMzIxNGNlYWUxM2FhZi9ub2RlX21vZHVsZXMvZWx5c2lhL2Rpc3QvdW5pdmVyc2FsL2Vudi5tanMiLCAiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5idW4vZWx5c2lhQDEuNC4xMisxOGUzMjE0Y2VhZTEzYWFmL25vZGVfbW9kdWxlcy9lbHlzaWEvZGlzdC9keW5hbWljLWhhbmRsZS5tanMiLCAiLi4vc3JjL2VseWlzYS50cyIsICIuLi9pbmRleC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsKICAgICIndXNlIHN0cmljdCdcblxudmFyIFVURjhfQUNDRVBUID0gMTJcbnZhciBVVEY4X1JFSkVDVCA9IDBcbnZhciBVVEY4X0RBVEEgPSBbXG4gIC8vIFRoZSBmaXJzdCBwYXJ0IG9mIHRoZSB0YWJsZSBtYXBzIGJ5dGVzIHRvIGNoYXJhY3RlciB0byBhIHRyYW5zaXRpb24uXG4gIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsXG4gIDIsIDIsIDIsIDIsIDIsIDIsIDIsIDIsIDIsIDIsIDIsIDIsIDIsIDIsIDIsIDIsXG4gIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsXG4gIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsIDMsXG4gIDQsIDQsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsXG4gIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsXG4gIDYsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDgsIDcsIDcsXG4gIDEwLCA5LCA5LCA5LCAxMSwgNCwgNCwgNCwgNCwgNCwgNCwgNCwgNCwgNCwgNCwgNCxcblxuICAvLyBUaGUgc2Vjb25kIHBhcnQgb2YgdGhlIHRhYmxlIG1hcHMgYSBzdGF0ZSB0byBhIG5ldyBzdGF0ZSB3aGVuIGFkZGluZyBhXG4gIC8vIHRyYW5zaXRpb24uXG4gIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gIDEyLCAwLCAwLCAwLCAwLCAyNCwgMzYsIDQ4LCA2MCwgNzIsIDg0LCA5NixcbiAgMCwgMTIsIDEyLCAxMiwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgMCwgMCwgMCwgMjQsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gIDAsIDI0LCAyNCwgMjQsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsXG4gIDAsIDI0LCAyNCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgMCwgNDgsIDQ4LCA0OCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcbiAgMCwgMCwgNDgsIDQ4LCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLFxuICAwLCA0OCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCxcblxuICAvLyBUaGUgdGhpcmQgcGFydCBtYXBzIHRoZSBjdXJyZW50IHRyYW5zaXRpb24gdG8gYSBtYXNrIHRoYXQgbmVlZHMgdG8gYXBwbHlcbiAgLy8gdG8gdGhlIGJ5dGUuXG4gIDB4N0YsIDB4M0YsIDB4M0YsIDB4M0YsIDB4MDAsIDB4MUYsIDB4MEYsIDB4MEYsIDB4MEYsIDB4MDcsIDB4MDcsIDB4MDdcbl1cblxuZnVuY3Rpb24gZGVjb2RlVVJJQ29tcG9uZW50ICh1cmkpIHtcbiAgdmFyIHBlcmNlbnRQb3NpdGlvbiA9IHVyaS5pbmRleE9mKCclJylcbiAgaWYgKHBlcmNlbnRQb3NpdGlvbiA9PT0gLTEpIHJldHVybiB1cmlcblxuICB2YXIgbGVuZ3RoID0gdXJpLmxlbmd0aFxuICB2YXIgZGVjb2RlZCA9ICcnXG4gIHZhciBsYXN0ID0gMFxuICB2YXIgY29kZXBvaW50ID0gMFxuICB2YXIgc3RhcnRPZk9jdGV0cyA9IHBlcmNlbnRQb3NpdGlvblxuICB2YXIgc3RhdGUgPSBVVEY4X0FDQ0VQVFxuXG4gIHdoaWxlIChwZXJjZW50UG9zaXRpb24gPiAtMSAmJiBwZXJjZW50UG9zaXRpb24gPCBsZW5ndGgpIHtcbiAgICB2YXIgaGlnaCA9IGhleENvZGVUb0ludCh1cmlbcGVyY2VudFBvc2l0aW9uICsgMV0sIDQpXG4gICAgdmFyIGxvdyA9IGhleENvZGVUb0ludCh1cmlbcGVyY2VudFBvc2l0aW9uICsgMl0sIDApXG4gICAgdmFyIGJ5dGUgPSBoaWdoIHwgbG93XG4gICAgdmFyIHR5cGUgPSBVVEY4X0RBVEFbYnl0ZV1cbiAgICBzdGF0ZSA9IFVURjhfREFUQVsyNTYgKyBzdGF0ZSArIHR5cGVdXG4gICAgY29kZXBvaW50ID0gKGNvZGVwb2ludCA8PCA2KSB8IChieXRlICYgVVRGOF9EQVRBWzM2NCArIHR5cGVdKVxuXG4gICAgaWYgKHN0YXRlID09PSBVVEY4X0FDQ0VQVCkge1xuICAgICAgZGVjb2RlZCArPSB1cmkuc2xpY2UobGFzdCwgc3RhcnRPZk9jdGV0cylcblxuICAgICAgZGVjb2RlZCArPSAoY29kZXBvaW50IDw9IDB4RkZGRilcbiAgICAgICAgPyBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGVwb2ludClcbiAgICAgICAgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKFxuICAgICAgICAgICgweEQ3QzAgKyAoY29kZXBvaW50ID4+IDEwKSksXG4gICAgICAgICAgKDB4REMwMCArIChjb2RlcG9pbnQgJiAweDNGRikpXG4gICAgICAgIClcblxuICAgICAgY29kZXBvaW50ID0gMFxuICAgICAgbGFzdCA9IHBlcmNlbnRQb3NpdGlvbiArIDNcbiAgICAgIHBlcmNlbnRQb3NpdGlvbiA9IHN0YXJ0T2ZPY3RldHMgPSB1cmkuaW5kZXhPZignJScsIGxhc3QpXG4gICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gVVRGOF9SRUpFQ1QpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfSBlbHNlIHtcbiAgICAgIHBlcmNlbnRQb3NpdGlvbiArPSAzXG4gICAgICBpZiAocGVyY2VudFBvc2l0aW9uIDwgbGVuZ3RoICYmIHVyaS5jaGFyQ29kZUF0KHBlcmNlbnRQb3NpdGlvbikgPT09IDM3KSBjb250aW51ZVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGVjb2RlZCArIHVyaS5zbGljZShsYXN0KVxufVxuXG52YXIgSEVYID0ge1xuICAnMCc6IDAsXG4gICcxJzogMSxcbiAgJzInOiAyLFxuICAnMyc6IDMsXG4gICc0JzogNCxcbiAgJzUnOiA1LFxuICAnNic6IDYsXG4gICc3JzogNyxcbiAgJzgnOiA4LFxuICAnOSc6IDksXG4gICdhJzogMTAsXG4gICdBJzogMTAsXG4gICdiJzogMTEsXG4gICdCJzogMTEsXG4gICdjJzogMTIsXG4gICdDJzogMTIsXG4gICdkJzogMTMsXG4gICdEJzogMTMsXG4gICdlJzogMTQsXG4gICdFJzogMTQsXG4gICdmJzogMTUsXG4gICdGJzogMTVcbn1cblxuZnVuY3Rpb24gaGV4Q29kZVRvSW50IChjLCBzaGlmdCkge1xuICB2YXIgaSA9IEhFWFtjXVxuICByZXR1cm4gaSA9PT0gdW5kZWZpbmVkID8gMjU1IDogaSA8PCBzaGlmdFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlY29kZVVSSUNvbXBvbmVudFxuIiwKICAgICIvKiEgaWVlZTc1NC4gQlNELTMtQ2xhdXNlIExpY2Vuc2UuIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZy9vcGVuc291cmNlPiAqL1xuZXhwb3J0cy5yZWFkID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG1cbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIG5CaXRzID0gLTdcbiAgdmFyIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMFxuICB2YXIgZCA9IGlzTEUgPyAtMSA6IDFcbiAgdmFyIHMgPSBidWZmZXJbb2Zmc2V0ICsgaV1cblxuICBpICs9IGRcblxuICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBzID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBlTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IGUgPSAoZSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBtID0gZSAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBlID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBtTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IG0gPSAobSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBpZiAoZSA9PT0gMCkge1xuICAgIGUgPSAxIC0gZUJpYXNcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpXG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKVxuICAgIGUgPSBlIC0gZUJpYXNcbiAgfVxuICByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIE1hdGgucG93KDIsIGUgLSBtTGVuKVxufVxuXG5leHBvcnRzLndyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtLCBjXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBydCA9IChtTGVuID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMClcbiAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKVxuICB2YXIgZCA9IGlzTEUgPyAxIDogLTFcbiAgdmFyIHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDBcblxuICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKVxuXG4gIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgbSA9IGlzTmFOKHZhbHVlKSA/IDEgOiAwXG4gICAgZSA9IGVNYXhcbiAgfSBlbHNlIHtcbiAgICBlID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkgLyBNYXRoLkxOMilcbiAgICBpZiAodmFsdWUgKiAoYyA9IE1hdGgucG93KDIsIC1lKSkgPCAxKSB7XG4gICAgICBlLS1cbiAgICAgIGMgKj0gMlxuICAgIH1cbiAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIHZhbHVlICs9IHJ0IC8gY1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcylcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKytcbiAgICAgIGMgLz0gMlxuICAgIH1cblxuICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkge1xuICAgICAgbSA9IDBcbiAgICAgIGUgPSBlTWF4XG4gICAgfSBlbHNlIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgbSA9ICgodmFsdWUgKiBjKSAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSBlICsgZUJpYXNcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gMFxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cbiAgZSA9IChlIDw8IG1MZW4pIHwgbVxuICBlTGVuICs9IG1MZW5cbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZiwgaSArPSBkLCBlIC89IDI1NiwgZUxlbiAtPSA4KSB7fVxuXG4gIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxufVxuIiwKICAgICIvLyB0ZXh0LXBvbHlmaWxsLnRzXG4vLyBNaW5pbWFsIGVuY29kZS9kZWNvZGUgZm9yIHV0Zi04LCB1dGYtMTZsZSwgYXNjaWksIGxhdGluMSwgd2luZG93cy0xMjUyXG5jb25zdCBXSU5ET1dTXzEyNTJfRVhUUkEgPSB7XG4gICAgMHg4MDogXCLigqxcIiwgMHg4MjogXCLigJpcIiwgMHg4MzogXCLGklwiLCAweDg0OiBcIuKAnlwiLCAweDg1OiBcIuKAplwiLCAweDg2OiBcIuKAoFwiLFxuICAgIDB4ODc6IFwi4oChXCIsIDB4ODg6IFwiy4ZcIiwgMHg4OTogXCLigLBcIiwgMHg4YTogXCLFoFwiLCAweDhiOiBcIuKAuVwiLCAweDhjOiBcIsWSXCIsXG4gICAgMHg4ZTogXCLFvVwiLCAweDkxOiBcIuKAmFwiLCAweDkyOiBcIuKAmVwiLCAweDkzOiBcIuKAnFwiLCAweDk0OiBcIuKAnVwiLCAweDk1OiBcIuKAolwiLFxuICAgIDB4OTY6IFwi4oCTXCIsIDB4OTc6IFwi4oCUXCIsIDB4OTg6IFwiy5xcIiwgMHg5OTogXCLihKJcIiwgMHg5YTogXCLFoVwiLCAweDliOiBcIuKAulwiLFxuICAgIDB4OWM6IFwixZNcIiwgMHg5ZTogXCLFvlwiLCAweDlmOiBcIsW4XCIsXG59O1xuY29uc3QgV0lORE9XU18xMjUyX1JFVkVSU0UgPSB7fTtcbmZvciAoY29uc3QgW2NvZGUsIGNoYXJdIG9mIE9iamVjdC5lbnRyaWVzKFdJTkRPV1NfMTI1Ml9FWFRSQSkpIHtcbiAgICBXSU5ET1dTXzEyNTJfUkVWRVJTRVtjaGFyXSA9IE51bWJlci5wYXJzZUludChjb2RlKTtcbn1cbi8qKlxuICogRGVjb2RlIHRleHQgZnJvbSBiaW5hcnkgZGF0YVxuICogQHBhcmFtIGJ5dGVzIEJpbmFyeSBkYXRhXG4gKiBAcGFyYW0gZW5jb2RpbmcgRW5jb2RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRleHREZWNvZGUoYnl0ZXMsIGVuY29kaW5nID0gXCJ1dGYtOFwiKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIGNhc2UgXCJ1dGYtOFwiOlxuICAgICAgICBjYXNlIFwidXRmOFwiOlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzLlRleHREZWNvZGVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBnbG9iYWxUaGlzLlRleHREZWNvZGVyKFwidXRmLThcIikuZGVjb2RlKGJ5dGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWNvZGVVVEY4KGJ5dGVzKTtcbiAgICAgICAgY2FzZSBcInV0Zi0xNmxlXCI6XG4gICAgICAgICAgICByZXR1cm4gZGVjb2RlVVRGMTZMRShieXRlcyk7XG4gICAgICAgIGNhc2UgXCJhc2NpaVwiOlxuICAgICAgICAgICAgcmV0dXJuIGRlY29kZUFTQ0lJKGJ5dGVzKTtcbiAgICAgICAgY2FzZSBcImxhdGluMVwiOlxuICAgICAgICBjYXNlIFwiaXNvLTg4NTktMVwiOlxuICAgICAgICAgICAgcmV0dXJuIGRlY29kZUxhdGluMShieXRlcyk7XG4gICAgICAgIGNhc2UgXCJ3aW5kb3dzLTEyNTJcIjpcbiAgICAgICAgICAgIHJldHVybiBkZWNvZGVXaW5kb3dzMTI1MihieXRlcyk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgRW5jb2RpbmcgJyR7ZW5jb2Rpbmd9JyBub3Qgc3VwcG9ydGVkYCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHRleHRFbmNvZGUoaW5wdXQgPSBcIlwiLCBlbmNvZGluZyA9IFwidXRmLThcIikge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlIFwidXRmLThcIjpcbiAgICAgICAgY2FzZSBcInV0ZjhcIjpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcy5UZXh0RW5jb2RlciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgZ2xvYmFsVGhpcy5UZXh0RW5jb2RlcigpLmVuY29kZShpbnB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlVVRGOChpbnB1dCk7XG4gICAgICAgIGNhc2UgXCJ1dGYtMTZsZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGVuY29kZVVURjE2TEUoaW5wdXQpO1xuICAgICAgICBjYXNlIFwiYXNjaWlcIjpcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVBU0NJSShpbnB1dCk7XG4gICAgICAgIGNhc2UgXCJsYXRpbjFcIjpcbiAgICAgICAgY2FzZSBcImlzby04ODU5LTFcIjpcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVMYXRpbjEoaW5wdXQpO1xuICAgICAgICBjYXNlIFwid2luZG93cy0xMjUyXCI6XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlV2luZG93czEyNTIoaW5wdXQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYEVuY29kaW5nICcke2VuY29kaW5nfScgbm90IHN1cHBvcnRlZGApO1xuICAgIH1cbn1cbi8vIC0tLSBJbnRlcm5hbCBoZWxwZXJzIC0tLVxuZnVuY3Rpb24gZGVjb2RlVVRGOChieXRlcykge1xuICAgIGxldCBvdXQgPSBcIlwiO1xuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGJ5dGVzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBiMSA9IGJ5dGVzW2krK107XG4gICAgICAgIGlmIChiMSA8IDB4ODApIHtcbiAgICAgICAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGIxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiMSA8IDB4ZTApIHtcbiAgICAgICAgICAgIGNvbnN0IGIyID0gYnl0ZXNbaSsrXSAmIDB4M2Y7XG4gICAgICAgICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGIxICYgMHgxZikgPDwgNikgfCBiMik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYjEgPCAweGYwKSB7XG4gICAgICAgICAgICBjb25zdCBiMiA9IGJ5dGVzW2krK10gJiAweDNmO1xuICAgICAgICAgICAgY29uc3QgYjMgPSBieXRlc1tpKytdICYgMHgzZjtcbiAgICAgICAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYjEgJiAweDBmKSA8PCAxMikgfCAoYjIgPDwgNikgfCBiMyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBiMiA9IGJ5dGVzW2krK10gJiAweDNmO1xuICAgICAgICAgICAgY29uc3QgYjMgPSBieXRlc1tpKytdICYgMHgzZjtcbiAgICAgICAgICAgIGNvbnN0IGI0ID0gYnl0ZXNbaSsrXSAmIDB4M2Y7XG4gICAgICAgICAgICBsZXQgY3AgPSAoKGIxICYgMHgwNykgPDwgMTgpIHxcbiAgICAgICAgICAgICAgICAoYjIgPDwgMTIpIHxcbiAgICAgICAgICAgICAgICAoYjMgPDwgNikgfFxuICAgICAgICAgICAgICAgIGI0O1xuICAgICAgICAgICAgY3AgLT0gMHgxMDAwMDtcbiAgICAgICAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ZDgwMCArICgoY3AgPj4gMTApICYgMHgzZmYpLCAweGRjMDAgKyAoY3AgJiAweDNmZikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5mdW5jdGlvbiBkZWNvZGVVVEYxNkxFKGJ5dGVzKSB7XG4gICAgbGV0IG91dCA9IFwiXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSB8IChieXRlc1tpICsgMV0gPDwgOCkpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gZGVjb2RlQVNDSUkoYnl0ZXMpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSguLi5ieXRlcy5tYXAoKGIpID0+IGIgJiAweDdmKSk7XG59XG5mdW5jdGlvbiBkZWNvZGVMYXRpbjEoYnl0ZXMpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSguLi5ieXRlcyk7XG59XG5mdW5jdGlvbiBkZWNvZGVXaW5kb3dzMTI1MihieXRlcykge1xuICAgIGxldCBvdXQgPSBcIlwiO1xuICAgIGZvciAoY29uc3QgYiBvZiBieXRlcykge1xuICAgICAgICBpZiAoYiA+PSAweDgwICYmIGIgPD0gMHg5ZiAmJiBXSU5ET1dTXzEyNTJfRVhUUkFbYl0pIHtcbiAgICAgICAgICAgIG91dCArPSBXSU5ET1dTXzEyNTJfRVhUUkFbYl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gZW5jb2RlVVRGOChzdHIpIHtcbiAgICBjb25zdCBvdXQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjcCA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoY3AgPCAweDgwKSB7XG4gICAgICAgICAgICBvdXQucHVzaChjcCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3AgPCAweDgwMCkge1xuICAgICAgICAgICAgb3V0LnB1c2goMHhjMCB8IChjcCA+PiA2KSwgMHg4MCB8IChjcCAmIDB4M2YpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjcCA8IDB4MTAwMDApIHtcbiAgICAgICAgICAgIG91dC5wdXNoKDB4ZTAgfCAoY3AgPj4gMTIpLCAweDgwIHwgKChjcCA+PiA2KSAmIDB4M2YpLCAweDgwIHwgKGNwICYgMHgzZikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3V0LnB1c2goMHhmMCB8IChjcCA+PiAxOCksIDB4ODAgfCAoKGNwID4+IDEyKSAmIDB4M2YpLCAweDgwIHwgKChjcCA+PiA2KSAmIDB4M2YpLCAweDgwIHwgKGNwICYgMHgzZikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgVWludDhBcnJheShvdXQpO1xufVxuZnVuY3Rpb24gZW5jb2RlVVRGMTZMRShzdHIpIHtcbiAgICBjb25zdCBvdXQgPSBuZXcgVWludDhBcnJheShzdHIubGVuZ3RoICogMik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBvdXRbaSAqIDJdID0gY29kZSAmIDB4ZmY7XG4gICAgICAgIG91dFtpICogMiArIDFdID0gY29kZSA+PiA4O1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gZW5jb2RlQVNDSUkoc3RyKSB7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsuLi5zdHJdLm1hcCgoY2gpID0+IGNoLmNoYXJDb2RlQXQoMCkgJiAweDdmKSk7XG59XG5mdW5jdGlvbiBlbmNvZGVMYXRpbjEoc3RyKSB7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsuLi5zdHJdLm1hcCgoY2gpID0+IGNoLmNoYXJDb2RlQXQoMCkgJiAweGZmKSk7XG59XG5mdW5jdGlvbiBlbmNvZGVXaW5kb3dzMTI1MihzdHIpIHtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWy4uLnN0cl0ubWFwKChjaCkgPT4ge1xuICAgICAgICBjb25zdCBjb2RlID0gY2guY2hhckNvZGVBdCgwKTtcbiAgICAgICAgaWYgKGNvZGUgPD0gMHhmZilcbiAgICAgICAgICAgIHJldHVybiBjb2RlO1xuICAgICAgICBpZiAoV0lORE9XU18xMjUyX1JFVkVSU0VbY2hdICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gV0lORE9XU18xMjUyX1JFVkVSU0VbY2hdO1xuICAgICAgICByZXR1cm4gMHgzZjsgLy8gJz8nXG4gICAgfSkpO1xufVxuIiwKICAgICJpbXBvcnQgKiBhcyBpZWVlNzU0IGZyb20gJ2llZWU3NTQnO1xuaW1wb3J0IHsgdGV4dERlY29kZSB9IGZyb20gXCJAYm9yZXdpdC90ZXh0LWNvZGVjXCI7XG4vLyBQcmltaXRpdmUgdHlwZXNcbmZ1bmN0aW9uIGR2KGFycmF5KSB7XG4gICAgcmV0dXJuIG5ldyBEYXRhVmlldyhhcnJheS5idWZmZXIsIGFycmF5LmJ5dGVPZmZzZXQpO1xufVxuLypcbiAqIDgtYml0IHVuc2lnbmVkIGludGVnZXJcbiAqL1xuZXhwb3J0IGNvbnN0IFVJTlQ4ID0ge1xuICAgIGxlbjogMSxcbiAgICBnZXQoYXJyYXksIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZHYoYXJyYXkpLmdldFVpbnQ4KG9mZnNldCk7XG4gICAgfSxcbiAgICBwdXQoYXJyYXksIG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgZHYoYXJyYXkpLnNldFVpbnQ4KG9mZnNldCwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgMTtcbiAgICB9XG59O1xuLyoqXG4gKiAxNi1iaXQgdW5zaWduZWQgaW50ZWdlciwgTGl0dGxlIEVuZGlhbiBieXRlIG9yZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBVSU5UMTZfTEUgPSB7XG4gICAgbGVuOiAyLFxuICAgIGdldChhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBkdihhcnJheSkuZ2V0VWludDE2KG9mZnNldCwgdHJ1ZSk7XG4gICAgfSxcbiAgICBwdXQoYXJyYXksIG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgZHYoYXJyYXkpLnNldFVpbnQxNihvZmZzZXQsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDI7XG4gICAgfVxufTtcbi8qKlxuICogMTYtYml0IHVuc2lnbmVkIGludGVnZXIsIEJpZyBFbmRpYW4gYnl0ZSBvcmRlclxuICovXG5leHBvcnQgY29uc3QgVUlOVDE2X0JFID0ge1xuICAgIGxlbjogMixcbiAgICBnZXQoYXJyYXksIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZHYoYXJyYXkpLmdldFVpbnQxNihvZmZzZXQpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGR2KGFycmF5KS5zZXRVaW50MTYob2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyAyO1xuICAgIH1cbn07XG4vKipcbiAqIDI0LWJpdCB1bnNpZ25lZCBpbnRlZ2VyLCBMaXR0bGUgRW5kaWFuIGJ5dGUgb3JkZXJcbiAqL1xuZXhwb3J0IGNvbnN0IFVJTlQyNF9MRSA9IHtcbiAgICBsZW46IDMsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgZGF0YVZpZXcgPSBkdihhcnJheSk7XG4gICAgICAgIHJldHVybiBkYXRhVmlldy5nZXRVaW50OChvZmZzZXQpICsgKGRhdGFWaWV3LmdldFVpbnQxNihvZmZzZXQgKyAxLCB0cnVlKSA8PCA4KTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBkYXRhVmlldyA9IGR2KGFycmF5KTtcbiAgICAgICAgZGF0YVZpZXcuc2V0VWludDgob2Zmc2V0LCB2YWx1ZSAmIDB4ZmYpO1xuICAgICAgICBkYXRhVmlldy5zZXRVaW50MTYob2Zmc2V0ICsgMSwgdmFsdWUgPj4gOCwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyAzO1xuICAgIH1cbn07XG4vKipcbiAqIDI0LWJpdCB1bnNpZ25lZCBpbnRlZ2VyLCBCaWcgRW5kaWFuIGJ5dGUgb3JkZXJcbiAqL1xuZXhwb3J0IGNvbnN0IFVJTlQyNF9CRSA9IHtcbiAgICBsZW46IDMsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgZGF0YVZpZXcgPSBkdihhcnJheSk7XG4gICAgICAgIHJldHVybiAoZGF0YVZpZXcuZ2V0VWludDE2KG9mZnNldCkgPDwgOCkgKyBkYXRhVmlldy5nZXRVaW50OChvZmZzZXQgKyAyKTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBkYXRhVmlldyA9IGR2KGFycmF5KTtcbiAgICAgICAgZGF0YVZpZXcuc2V0VWludDE2KG9mZnNldCwgdmFsdWUgPj4gOCk7XG4gICAgICAgIGRhdGFWaWV3LnNldFVpbnQ4KG9mZnNldCArIDIsIHZhbHVlICYgMHhmZik7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyAzO1xuICAgIH1cbn07XG4vKipcbiAqIDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyLCBMaXR0bGUgRW5kaWFuIGJ5dGUgb3JkZXJcbiAqL1xuZXhwb3J0IGNvbnN0IFVJTlQzMl9MRSA9IHtcbiAgICBsZW46IDQsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGR2KGFycmF5KS5nZXRVaW50MzIob2Zmc2V0LCB0cnVlKTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBkdihhcnJheSkuc2V0VWludDMyKG9mZnNldCwgdmFsdWUsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgNDtcbiAgICB9XG59O1xuLyoqXG4gKiAzMi1iaXQgdW5zaWduZWQgaW50ZWdlciwgQmlnIEVuZGlhbiBieXRlIG9yZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBVSU5UMzJfQkUgPSB7XG4gICAgbGVuOiA0LFxuICAgIGdldChhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBkdihhcnJheSkuZ2V0VWludDMyKG9mZnNldCk7XG4gICAgfSxcbiAgICBwdXQoYXJyYXksIG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgZHYoYXJyYXkpLnNldFVpbnQzMihvZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDQ7XG4gICAgfVxufTtcbi8qKlxuICogOC1iaXQgc2lnbmVkIGludGVnZXJcbiAqL1xuZXhwb3J0IGNvbnN0IElOVDggPSB7XG4gICAgbGVuOiAxLFxuICAgIGdldChhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBkdihhcnJheSkuZ2V0SW50OChvZmZzZXQpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGR2KGFycmF5KS5zZXRJbnQ4KG9mZnNldCwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgMTtcbiAgICB9XG59O1xuLyoqXG4gKiAxNi1iaXQgc2lnbmVkIGludGVnZXIsIEJpZyBFbmRpYW4gYnl0ZSBvcmRlclxuICovXG5leHBvcnQgY29uc3QgSU5UMTZfQkUgPSB7XG4gICAgbGVuOiAyLFxuICAgIGdldChhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBkdihhcnJheSkuZ2V0SW50MTYob2Zmc2V0KTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBkdihhcnJheSkuc2V0SW50MTYob2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyAyO1xuICAgIH1cbn07XG4vKipcbiAqIDE2LWJpdCBzaWduZWQgaW50ZWdlciwgTGl0dGxlIEVuZGlhbiBieXRlIG9yZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBJTlQxNl9MRSA9IHtcbiAgICBsZW46IDIsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGR2KGFycmF5KS5nZXRJbnQxNihvZmZzZXQsIHRydWUpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGR2KGFycmF5KS5zZXRJbnQxNihvZmZzZXQsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDI7XG4gICAgfVxufTtcbi8qKlxuICogMjQtYml0IHNpZ25lZCBpbnRlZ2VyLCBMaXR0bGUgRW5kaWFuIGJ5dGUgb3JkZXJcbiAqL1xuZXhwb3J0IGNvbnN0IElOVDI0X0xFID0ge1xuICAgIGxlbjogMyxcbiAgICBnZXQoYXJyYXksIG9mZnNldCkge1xuICAgICAgICBjb25zdCB1bnNpZ25lZCA9IFVJTlQyNF9MRS5nZXQoYXJyYXksIG9mZnNldCk7XG4gICAgICAgIHJldHVybiB1bnNpZ25lZCA+IDB4N2ZmZmZmID8gdW5zaWduZWQgLSAweDEwMDAwMDAgOiB1bnNpZ25lZDtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBkYXRhVmlldyA9IGR2KGFycmF5KTtcbiAgICAgICAgZGF0YVZpZXcuc2V0VWludDgob2Zmc2V0LCB2YWx1ZSAmIDB4ZmYpO1xuICAgICAgICBkYXRhVmlldy5zZXRVaW50MTYob2Zmc2V0ICsgMSwgdmFsdWUgPj4gOCwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyAzO1xuICAgIH1cbn07XG4vKipcbiAqIDI0LWJpdCBzaWduZWQgaW50ZWdlciwgQmlnIEVuZGlhbiBieXRlIG9yZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBJTlQyNF9CRSA9IHtcbiAgICBsZW46IDMsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgdW5zaWduZWQgPSBVSU5UMjRfQkUuZ2V0KGFycmF5LCBvZmZzZXQpO1xuICAgICAgICByZXR1cm4gdW5zaWduZWQgPiAweDdmZmZmZiA/IHVuc2lnbmVkIC0gMHgxMDAwMDAwIDogdW5zaWduZWQ7XG4gICAgfSxcbiAgICBwdXQoYXJyYXksIG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgZGF0YVZpZXcgPSBkdihhcnJheSk7XG4gICAgICAgIGRhdGFWaWV3LnNldFVpbnQxNihvZmZzZXQsIHZhbHVlID4+IDgpO1xuICAgICAgICBkYXRhVmlldy5zZXRVaW50OChvZmZzZXQgKyAyLCB2YWx1ZSAmIDB4ZmYpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgMztcbiAgICB9XG59O1xuLyoqXG4gKiAzMi1iaXQgc2lnbmVkIGludGVnZXIsIEJpZyBFbmRpYW4gYnl0ZSBvcmRlclxuICovXG5leHBvcnQgY29uc3QgSU5UMzJfQkUgPSB7XG4gICAgbGVuOiA0LFxuICAgIGdldChhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBkdihhcnJheSkuZ2V0SW50MzIob2Zmc2V0KTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBkdihhcnJheSkuc2V0SW50MzIob2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyA0O1xuICAgIH1cbn07XG4vKipcbiAqIDMyLWJpdCBzaWduZWQgaW50ZWdlciwgQmlnIEVuZGlhbiBieXRlIG9yZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBJTlQzMl9MRSA9IHtcbiAgICBsZW46IDQsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGR2KGFycmF5KS5nZXRJbnQzMihvZmZzZXQsIHRydWUpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGR2KGFycmF5KS5zZXRJbnQzMihvZmZzZXQsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDQ7XG4gICAgfVxufTtcbi8qKlxuICogNjQtYml0IHVuc2lnbmVkIGludGVnZXIsIExpdHRsZSBFbmRpYW4gYnl0ZSBvcmRlclxuICovXG5leHBvcnQgY29uc3QgVUlOVDY0X0xFID0ge1xuICAgIGxlbjogOCxcbiAgICBnZXQoYXJyYXksIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZHYoYXJyYXkpLmdldEJpZ1VpbnQ2NChvZmZzZXQsIHRydWUpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGR2KGFycmF5KS5zZXRCaWdVaW50NjQob2Zmc2V0LCB2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyA4O1xuICAgIH1cbn07XG4vKipcbiAqIDY0LWJpdCBzaWduZWQgaW50ZWdlciwgTGl0dGxlIEVuZGlhbiBieXRlIG9yZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBJTlQ2NF9MRSA9IHtcbiAgICBsZW46IDgsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGR2KGFycmF5KS5nZXRCaWdJbnQ2NChvZmZzZXQsIHRydWUpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGR2KGFycmF5KS5zZXRCaWdJbnQ2NChvZmZzZXQsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDg7XG4gICAgfVxufTtcbi8qKlxuICogNjQtYml0IHVuc2lnbmVkIGludGVnZXIsIEJpZyBFbmRpYW4gYnl0ZSBvcmRlclxuICovXG5leHBvcnQgY29uc3QgVUlOVDY0X0JFID0ge1xuICAgIGxlbjogOCxcbiAgICBnZXQoYXJyYXksIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZHYoYXJyYXkpLmdldEJpZ1VpbnQ2NChvZmZzZXQpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGR2KGFycmF5KS5zZXRCaWdVaW50NjQob2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyA4O1xuICAgIH1cbn07XG4vKipcbiAqIDY0LWJpdCBzaWduZWQgaW50ZWdlciwgQmlnIEVuZGlhbiBieXRlIG9yZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBJTlQ2NF9CRSA9IHtcbiAgICBsZW46IDgsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGR2KGFycmF5KS5nZXRCaWdJbnQ2NChvZmZzZXQpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGR2KGFycmF5KS5zZXRCaWdJbnQ2NChvZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDg7XG4gICAgfVxufTtcbi8qKlxuICogSUVFRSA3NTQgMTYtYml0IChoYWxmIHByZWNpc2lvbikgZmxvYXQsIGJpZyBlbmRpYW5cbiAqL1xuZXhwb3J0IGNvbnN0IEZsb2F0MTZfQkUgPSB7XG4gICAgbGVuOiAyLFxuICAgIGdldChkYXRhVmlldywgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBpZWVlNzU0LnJlYWQoZGF0YVZpZXcsIG9mZnNldCwgZmFsc2UsIDEwLCB0aGlzLmxlbik7XG4gICAgfSxcbiAgICBwdXQoZGF0YVZpZXcsIG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgaWVlZTc1NC53cml0ZShkYXRhVmlldywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIDEwLCB0aGlzLmxlbik7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyB0aGlzLmxlbjtcbiAgICB9XG59O1xuLyoqXG4gKiBJRUVFIDc1NCAxNi1iaXQgKGhhbGYgcHJlY2lzaW9uKSBmbG9hdCwgbGl0dGxlIGVuZGlhblxuICovXG5leHBvcnQgY29uc3QgRmxvYXQxNl9MRSA9IHtcbiAgICBsZW46IDIsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGllZWU3NTQucmVhZChhcnJheSwgb2Zmc2V0LCB0cnVlLCAxMCwgdGhpcy5sZW4pO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGllZWU3NTQud3JpdGUoYXJyYXksIHZhbHVlLCBvZmZzZXQsIHRydWUsIDEwLCB0aGlzLmxlbik7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyB0aGlzLmxlbjtcbiAgICB9XG59O1xuLyoqXG4gKiBJRUVFIDc1NCAzMi1iaXQgKHNpbmdsZSBwcmVjaXNpb24pIGZsb2F0LCBiaWcgZW5kaWFuXG4gKi9cbmV4cG9ydCBjb25zdCBGbG9hdDMyX0JFID0ge1xuICAgIGxlbjogNCxcbiAgICBnZXQoYXJyYXksIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZHYoYXJyYXkpLmdldEZsb2F0MzIob2Zmc2V0KTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBkdihhcnJheSkuc2V0RmxvYXQzMihvZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDQ7XG4gICAgfVxufTtcbi8qKlxuICogSUVFRSA3NTQgMzItYml0IChzaW5nbGUgcHJlY2lzaW9uKSBmbG9hdCwgbGl0dGxlIGVuZGlhblxuICovXG5leHBvcnQgY29uc3QgRmxvYXQzMl9MRSA9IHtcbiAgICBsZW46IDQsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGR2KGFycmF5KS5nZXRGbG9hdDMyKG9mZnNldCwgdHJ1ZSk7XG4gICAgfSxcbiAgICBwdXQoYXJyYXksIG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgZHYoYXJyYXkpLnNldEZsb2F0MzIob2Zmc2V0LCB2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyA0O1xuICAgIH1cbn07XG4vKipcbiAqIElFRUUgNzU0IDY0LWJpdCAoZG91YmxlIHByZWNpc2lvbikgZmxvYXQsIGJpZyBlbmRpYW5cbiAqL1xuZXhwb3J0IGNvbnN0IEZsb2F0NjRfQkUgPSB7XG4gICAgbGVuOiA4LFxuICAgIGdldChhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBkdihhcnJheSkuZ2V0RmxvYXQ2NChvZmZzZXQpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGR2KGFycmF5KS5zZXRGbG9hdDY0KG9mZnNldCwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgODtcbiAgICB9XG59O1xuLyoqXG4gKiBJRUVFIDc1NCA2NC1iaXQgKGRvdWJsZSBwcmVjaXNpb24pIGZsb2F0LCBsaXR0bGUgZW5kaWFuXG4gKi9cbmV4cG9ydCBjb25zdCBGbG9hdDY0X0xFID0ge1xuICAgIGxlbjogOCxcbiAgICBnZXQoYXJyYXksIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZHYoYXJyYXkpLmdldEZsb2F0NjQob2Zmc2V0LCB0cnVlKTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBkdihhcnJheSkuc2V0RmxvYXQ2NChvZmZzZXQsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDg7XG4gICAgfVxufTtcbi8qKlxuICogSUVFRSA3NTQgODAtYml0IChleHRlbmRlZCBwcmVjaXNpb24pIGZsb2F0LCBiaWcgZW5kaWFuXG4gKi9cbmV4cG9ydCBjb25zdCBGbG9hdDgwX0JFID0ge1xuICAgIGxlbjogMTAsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGllZWU3NTQucmVhZChhcnJheSwgb2Zmc2V0LCBmYWxzZSwgNjMsIHRoaXMubGVuKTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBpZWVlNzU0LndyaXRlKGFycmF5LCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgNjMsIHRoaXMubGVuKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIHRoaXMubGVuO1xuICAgIH1cbn07XG4vKipcbiAqIElFRUUgNzU0IDgwLWJpdCAoZXh0ZW5kZWQgcHJlY2lzaW9uKSBmbG9hdCwgbGl0dGxlIGVuZGlhblxuICovXG5leHBvcnQgY29uc3QgRmxvYXQ4MF9MRSA9IHtcbiAgICBsZW46IDEwLFxuICAgIGdldChhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBpZWVlNzU0LnJlYWQoYXJyYXksIG9mZnNldCwgdHJ1ZSwgNjMsIHRoaXMubGVuKTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBpZWVlNzU0LndyaXRlKGFycmF5LCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCA2MywgdGhpcy5sZW4pO1xuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgdGhpcy5sZW47XG4gICAgfVxufTtcbi8qKlxuICogSWdub3JlIGEgZ2l2ZW4gbnVtYmVyIG9mIGJ5dGVzXG4gKi9cbmV4cG9ydCBjbGFzcyBJZ25vcmVUeXBlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbGVuIG51bWJlciBvZiBieXRlcyB0byBpZ25vcmVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihsZW4pIHtcbiAgICAgICAgdGhpcy5sZW4gPSBsZW47XG4gICAgfVxuICAgIC8vIFRvRG86IGRvbid0IHJlYWQsIGJ1dCBza2lwIGRhdGFcbiAgICBnZXQoX2FycmF5LCBfb2ZmKSB7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFVpbnQ4QXJyYXlUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcihsZW4pIHtcbiAgICAgICAgdGhpcy5sZW4gPSBsZW47XG4gICAgfVxuICAgIGdldChhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBhcnJheS5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIHRoaXMubGVuKTtcbiAgICB9XG59XG4vKipcbiAqIENvbnN1bWUgYSBmaXhlZCBudW1iZXIgb2YgYnl0ZXMgZnJvbSB0aGUgc3RyZWFtIGFuZCByZXR1cm4gYSBzdHJpbmcgd2l0aCBhIHNwZWNpZmllZCBlbmNvZGluZy5cbiAqIFN1cHBvcnRzIGFsbCBlbmNvZGluZ3Mgc3VwcG9ydGVkIGJ5IFRleHREZWNvZGVyLCBwbHVzICd3aW5kb3dzLTEyNTInLlxuICovXG5leHBvcnQgY2xhc3MgU3RyaW5nVHlwZSB7XG4gICAgY29uc3RydWN0b3IobGVuLCBlbmNvZGluZykge1xuICAgICAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICAgICAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nO1xuICAgIH1cbiAgICBnZXQoZGF0YSwgb2Zmc2V0ID0gMCkge1xuICAgICAgICBjb25zdCBieXRlcyA9IGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyB0aGlzLmxlbik7XG4gICAgICAgIHJldHVybiB0ZXh0RGVjb2RlKGJ5dGVzLCB0aGlzLmVuY29kaW5nKTtcbiAgICB9XG59XG4vKipcbiAqIEFOU0kgTGF0aW4gMSBTdHJpbmcgdXNpbmcgV2luZG93cy0xMjUyIChDb2RlIFBhZ2UgMTI1MilcbiAqIFdpbmRvd3MtMTI1MiBpcyBhIHN1cGVyc2V0IG9mIElTTyA4ODU5LTEgLyBMYXRpbi0xLlxuICovXG5leHBvcnQgY2xhc3MgQW5zaVN0cmluZ1R5cGUgZXh0ZW5kcyBTdHJpbmdUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcihsZW4pIHtcbiAgICAgICAgc3VwZXIobGVuLCAnd2luZG93cy0xMjUyJyk7XG4gICAgfVxufVxuIiwKICAgICJleHBvcnQgY29uc3QgZGVmYXVsdE1lc3NhZ2VzID0gJ0VuZC1PZi1TdHJlYW0nO1xuLyoqXG4gKiBUaHJvd24gb24gcmVhZCBvcGVyYXRpb24gb2YgdGhlIGVuZCBvZiBmaWxlIG9yIHN0cmVhbSBoYXMgYmVlbiByZWFjaGVkXG4gKi9cbmV4cG9ydCBjbGFzcyBFbmRPZlN0cmVhbUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihkZWZhdWx0TWVzc2FnZXMpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkVuZE9mU3RyZWFtRXJyb3JcIjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQWJvcnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gXCJUaGUgb3BlcmF0aW9uIHdhcyBhYm9ydGVkXCIpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQWJvcnRFcnJvclwiO1xuICAgIH1cbn1cbiIsCiAgICAiaW1wb3J0IHsgRW5kT2ZTdHJlYW1FcnJvciwgQWJvcnRFcnJvciB9IGZyb20gXCIuL0Vycm9ycy5qc1wiO1xuZXhwb3J0IGNsYXNzIEFic3RyYWN0U3RyZWFtUmVhZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5lbmRPZlN0cmVhbSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmludGVycnVwdGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdG9yZSBwZWVrZWQgZGF0YVxuICAgICAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBlZWtRdWV1ZSA9IFtdO1xuICAgIH1cbiAgICBhc3luYyBwZWVrKHVpbnQ4QXJyYXksIG1heUJlTGVzcyA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGJ5dGVzUmVhZCA9IGF3YWl0IHRoaXMucmVhZCh1aW50OEFycmF5LCBtYXlCZUxlc3MpO1xuICAgICAgICB0aGlzLnBlZWtRdWV1ZS5wdXNoKHVpbnQ4QXJyYXkuc3ViYXJyYXkoMCwgYnl0ZXNSZWFkKSk7IC8vIFB1dCByZWFkIGRhdGEgYmFjayB0byBwZWVrIGJ1ZmZlclxuICAgICAgICByZXR1cm4gYnl0ZXNSZWFkO1xuICAgIH1cbiAgICBhc3luYyByZWFkKGJ1ZmZlciwgbWF5QmVMZXNzID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGxldCBieXRlc1JlYWQgPSB0aGlzLnJlYWRGcm9tUGVla0J1ZmZlcihidWZmZXIpO1xuICAgICAgICBpZiAoIXRoaXMuZW5kT2ZTdHJlYW0pIHtcbiAgICAgICAgICAgIGJ5dGVzUmVhZCArPSBhd2FpdCB0aGlzLnJlYWRSZW1haW5kZXJGcm9tU3RyZWFtKGJ1ZmZlci5zdWJhcnJheShieXRlc1JlYWQpLCBtYXlCZUxlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChieXRlc1JlYWQgPT09IDAgJiYgIW1heUJlTGVzcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVuZE9mU3RyZWFtRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnl0ZXNSZWFkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGNodW5rIGZyb20gc3RyZWFtXG4gICAgICogQHBhcmFtIGJ1ZmZlciAtIFRhcmdldCBVaW50OEFycmF5IChvciBCdWZmZXIpIHRvIHN0b3JlIGRhdGEgcmVhZCBmcm9tIHN0cmVhbSBpblxuICAgICAqIEByZXR1cm5zIE51bWJlciBvZiBieXRlcyByZWFkXG4gICAgICovXG4gICAgcmVhZEZyb21QZWVrQnVmZmVyKGJ1ZmZlcikge1xuICAgICAgICBsZXQgcmVtYWluaW5nID0gYnVmZmVyLmxlbmd0aDtcbiAgICAgICAgbGV0IGJ5dGVzUmVhZCA9IDA7XG4gICAgICAgIC8vIGNvbnN1bWUgcGVla2VkIGRhdGEgZmlyc3RcbiAgICAgICAgd2hpbGUgKHRoaXMucGVla1F1ZXVlLmxlbmd0aCA+IDAgJiYgcmVtYWluaW5nID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcGVla0RhdGEgPSB0aGlzLnBlZWtRdWV1ZS5wb3AoKTsgLy8gRnJvbnQgb2YgcXVldWVcbiAgICAgICAgICAgIGlmICghcGVla0RhdGEpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwZWVrRGF0YSBzaG91bGQgYmUgZGVmaW5lZCcpO1xuICAgICAgICAgICAgY29uc3QgbGVuQ29weSA9IE1hdGgubWluKHBlZWtEYXRhLmxlbmd0aCwgcmVtYWluaW5nKTtcbiAgICAgICAgICAgIGJ1ZmZlci5zZXQocGVla0RhdGEuc3ViYXJyYXkoMCwgbGVuQ29weSksIGJ5dGVzUmVhZCk7XG4gICAgICAgICAgICBieXRlc1JlYWQgKz0gbGVuQ29weTtcbiAgICAgICAgICAgIHJlbWFpbmluZyAtPSBsZW5Db3B5O1xuICAgICAgICAgICAgaWYgKGxlbkNvcHkgPCBwZWVrRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyByZW1haW5kZXIgYmFjayB0byBxdWV1ZVxuICAgICAgICAgICAgICAgIHRoaXMucGVla1F1ZXVlLnB1c2gocGVla0RhdGEuc3ViYXJyYXkobGVuQ29weSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBieXRlc1JlYWQ7XG4gICAgfVxuICAgIGFzeW5jIHJlYWRSZW1haW5kZXJGcm9tU3RyZWFtKGJ1ZmZlciwgbWF5QmVMZXNzKSB7XG4gICAgICAgIGxldCBieXRlc1JlYWQgPSAwO1xuICAgICAgICAvLyBDb250aW51ZSByZWFkaW5nIGZyb20gc3RyZWFtIGlmIHJlcXVpcmVkXG4gICAgICAgIHdoaWxlIChieXRlc1JlYWQgPCBidWZmZXIubGVuZ3RoICYmICF0aGlzLmVuZE9mU3RyZWFtKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbnRlcnJ1cHRlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBYm9ydEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjaHVua0xlbiA9IGF3YWl0IHRoaXMucmVhZEZyb21TdHJlYW0oYnVmZmVyLnN1YmFycmF5KGJ5dGVzUmVhZCksIG1heUJlTGVzcyk7XG4gICAgICAgICAgICBpZiAoY2h1bmtMZW4gPT09IDApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBieXRlc1JlYWQgKz0gY2h1bmtMZW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtYXlCZUxlc3MgJiYgYnl0ZXNSZWFkIDwgYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVuZE9mU3RyZWFtRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnl0ZXNSZWFkO1xuICAgIH1cbn1cbiIsCiAgICAiaW1wb3J0IHsgQWJvcnRFcnJvciwgfSBmcm9tICcuL0Vycm9ycy5qcyc7XG5pbXBvcnQgeyBEZWZlcnJlZCB9IGZyb20gJy4vRGVmZXJyZWQuanMnO1xuaW1wb3J0IHsgQWJzdHJhY3RTdHJlYW1SZWFkZXIgfSBmcm9tIFwiLi9BYnN0cmFjdFN0cmVhbVJlYWRlci5qc1wiO1xuLyoqXG4gKiBOb2RlLmpzIFJlYWRhYmxlIFN0cmVhbSBSZWFkZXJcbiAqIFJlZjogaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9zdHJlYW0uaHRtbCNyZWFkYWJsZS1zdHJlYW1zXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHJlYW1SZWFkZXIgZXh0ZW5kcyBBYnN0cmFjdFN0cmVhbVJlYWRlciB7XG4gICAgY29uc3RydWN0b3Iocykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnMgPSBzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmZXJyZWQgdXNlZCBmb3IgcG9zdHBvbmVkIHJlYWQgcmVxdWVzdCAoYXMgbm90IGRhdGEgaXMgeWV0IGF2YWlsYWJsZSB0byByZWFkKVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZlcnJlZCA9IG51bGw7XG4gICAgICAgIGlmICghcy5yZWFkIHx8ICFzLm9uY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2Ygc3RyZWFtLlJlYWRhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zLm9uY2UoJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW5kT2ZTdHJlYW0gPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVmZXJyZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlZmVycmVkLnJlc29sdmUoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnMub25jZSgnZXJyb3InLCBlcnIgPT4gdGhpcy5yZWplY3QoZXJyKSk7XG4gICAgICAgIHRoaXMucy5vbmNlKCdjbG9zZScsICgpID0+IHRoaXMuYWJvcnQoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgY2h1bmsgZnJvbSBzdHJlYW1cbiAgICAgKiBAcGFyYW0gYnVmZmVyIFRhcmdldCBVaW50OEFycmF5IChvciBCdWZmZXIpIHRvIHN0b3JlIGRhdGEgcmVhZCBmcm9tIHN0cmVhbSBpblxuICAgICAqIEBwYXJhbSBtYXlCZUxlc3MgLSBJZiB0cnVlLCBtYXkgZmlsbCB0aGUgYnVmZmVyIHBhcnRpYWxseVxuICAgICAqIEByZXR1cm5zIE51bWJlciBvZiBieXRlcyByZWFkXG4gICAgICovXG4gICAgYXN5bmMgcmVhZEZyb21TdHJlYW0oYnVmZmVyLCBtYXlCZUxlc3MpIHtcbiAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgY29uc3QgcmVhZEJ1ZmZlciA9IHRoaXMucy5yZWFkKGJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICBpZiAocmVhZEJ1ZmZlcikge1xuICAgICAgICAgICAgYnVmZmVyLnNldChyZWFkQnVmZmVyKTtcbiAgICAgICAgICAgIHJldHVybiByZWFkQnVmZmVyLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgYnVmZmVyLFxuICAgICAgICAgICAgbWF5QmVMZXNzLFxuICAgICAgICAgICAgZGVmZXJyZWQ6IG5ldyBEZWZlcnJlZCgpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVmZXJyZWQgPSByZXF1ZXN0LmRlZmVycmVkO1xuICAgICAgICB0aGlzLnMub25jZSgncmVhZGFibGUnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlYWREZWZlcnJlZChyZXF1ZXN0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXF1ZXN0LmRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgZGVmZXJyZWQgcmVhZCByZXF1ZXN0XG4gICAgICogQHBhcmFtIHJlcXVlc3QgRGVmZXJyZWQgcmVhZCByZXF1ZXN0XG4gICAgICovXG4gICAgcmVhZERlZmVycmVkKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcmVhZEJ1ZmZlciA9IHRoaXMucy5yZWFkKHJlcXVlc3QuYnVmZmVyLmxlbmd0aCk7XG4gICAgICAgIGlmIChyZWFkQnVmZmVyKSB7XG4gICAgICAgICAgICByZXF1ZXN0LmJ1ZmZlci5zZXQocmVhZEJ1ZmZlcik7XG4gICAgICAgICAgICByZXF1ZXN0LmRlZmVycmVkLnJlc29sdmUocmVhZEJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5kZWZlcnJlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnMub25jZSgncmVhZGFibGUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkRGVmZXJyZWQocmVxdWVzdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWplY3QoZXJyKSB7XG4gICAgICAgIHRoaXMuaW50ZXJydXB0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5kZWZlcnJlZCkge1xuICAgICAgICAgICAgdGhpcy5kZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIHRoaXMuZGVmZXJyZWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGFib3J0KCkge1xuICAgICAgICB0aGlzLnJlamVjdChuZXcgQWJvcnRFcnJvcigpKTtcbiAgICB9XG4gICAgYXN5bmMgY2xvc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFib3J0KCk7XG4gICAgfVxufVxuIiwKICAgICJpbXBvcnQgeyBBYnN0cmFjdFN0cmVhbVJlYWRlciB9IGZyb20gXCIuL0Fic3RyYWN0U3RyZWFtUmVhZGVyLmpzXCI7XG5leHBvcnQgY2xhc3MgV2ViU3RyZWFtUmVhZGVyIGV4dGVuZHMgQWJzdHJhY3RTdHJlYW1SZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKHJlYWRlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJlYWRlciA9IHJlYWRlcjtcbiAgICB9XG4gICAgYXN5bmMgYWJvcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICAgIGFzeW5jIGNsb3NlKCkge1xuICAgICAgICB0aGlzLnJlYWRlci5yZWxlYXNlTG9jaygpO1xuICAgIH1cbn1cbiIsCiAgICAiaW1wb3J0IHsgV2ViU3RyZWFtUmVhZGVyIH0gZnJvbSAnLi9XZWJTdHJlYW1SZWFkZXIuanMnO1xuLyoqXG4gKiBSZWFkIGZyb20gYSBXZWJTdHJlYW0gdXNpbmcgYSBCWU9CIHJlYWRlclxuICogUmVmZXJlbmNlOiBodHRwczovL25vZGVqcy5vcmcvYXBpL3dlYnN0cmVhbXMuaHRtbCNjbGFzcy1yZWFkYWJsZXN0cmVhbWJ5b2JyZWFkZXJcbiAqL1xuZXhwb3J0IGNsYXNzIFdlYlN0cmVhbUJ5b2JSZWFkZXIgZXh0ZW5kcyBXZWJTdHJlYW1SZWFkZXIge1xuICAgIC8qKlxuICAgICAqIFJlYWQgZnJvbSBzdHJlYW1cbiAgICAgKiBAcGFyYW0gYnVmZmVyIC0gVGFyZ2V0IFVpbnQ4QXJyYXkgKG9yIEJ1ZmZlcikgdG8gc3RvcmUgZGF0YSByZWFkIGZyb20gc3RyZWFtIGluXG4gICAgICogQHBhcmFtIG1heUJlTGVzcyAtIElmIHRydWUsIG1heSBmaWxsIHRoZSBidWZmZXIgcGFydGlhbGx5XG4gICAgICogQHByb3RlY3RlZCBCeXRlcyByZWFkXG4gICAgICovXG4gICAgYXN5bmMgcmVhZEZyb21TdHJlYW0oYnVmZmVyLCBtYXlCZUxlc3MpIHtcbiAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnJlYWRlci5yZWFkKG5ldyBVaW50OEFycmF5KGJ1ZmZlci5sZW5ndGgpLCB7IG1pbjogbWF5QmVMZXNzID8gdW5kZWZpbmVkIDogYnVmZmVyLmxlbmd0aCB9KTtcbiAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICB0aGlzLmVuZE9mU3RyZWFtID0gcmVzdWx0LmRvbmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkge1xuICAgICAgICAgICAgYnVmZmVyLnNldChyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC52YWx1ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxufVxuIiwKICAgICJpbXBvcnQgeyBFbmRPZlN0cmVhbUVycm9yIH0gZnJvbSAnLi9FcnJvcnMuanMnO1xuaW1wb3J0IHsgQWJzdHJhY3RTdHJlYW1SZWFkZXIgfSBmcm9tIFwiLi9BYnN0cmFjdFN0cmVhbVJlYWRlci5qc1wiO1xuZXhwb3J0IGNsYXNzIFdlYlN0cmVhbURlZmF1bHRSZWFkZXIgZXh0ZW5kcyBBYnN0cmFjdFN0cmVhbVJlYWRlciB7XG4gICAgY29uc3RydWN0b3IocmVhZGVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmVhZGVyID0gcmVhZGVyO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG51bGw7IC8vIEludGVybmFsIGJ1ZmZlciB0byBzdG9yZSBleGNlc3MgZGF0YVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb3B5IGNodW5rIHRvIHRhcmdldCwgYW5kIHN0b3JlIHRoZSByZW1haW5kZXIgaW4gdGhpcy5idWZmZXJcbiAgICAgKi9cbiAgICB3cml0ZUNodW5rKHRhcmdldCwgY2h1bmspIHtcbiAgICAgICAgY29uc3Qgd3JpdHRlbiA9IE1hdGgubWluKGNodW5rLmxlbmd0aCwgdGFyZ2V0Lmxlbmd0aCk7XG4gICAgICAgIHRhcmdldC5zZXQoY2h1bmsuc3ViYXJyYXkoMCwgd3JpdHRlbikpO1xuICAgICAgICAvLyBBZGp1c3QgdGhlIHJlbWFpbmRlciBvZiB0aGUgYnVmZmVyXG4gICAgICAgIGlmICh3cml0dGVuIDwgY2h1bmsubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IGNodW5rLnN1YmFycmF5KHdyaXR0ZW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0dGVuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGZyb20gc3RyZWFtXG4gICAgICogQHBhcmFtIGJ1ZmZlciAtIFRhcmdldCBVaW50OEFycmF5IChvciBCdWZmZXIpIHRvIHN0b3JlIGRhdGEgcmVhZCBmcm9tIHN0cmVhbSBpblxuICAgICAqIEBwYXJhbSBtYXlCZUxlc3MgLSBJZiB0cnVlLCBtYXkgZmlsbCB0aGUgYnVmZmVyIHBhcnRpYWxseVxuICAgICAqIEBwcm90ZWN0ZWQgQnl0ZXMgcmVhZFxuICAgICAqL1xuICAgIGFzeW5jIHJlYWRGcm9tU3RyZWFtKGJ1ZmZlciwgbWF5QmVMZXNzKSB7XG4gICAgICAgIGlmIChidWZmZXIubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGxldCB0b3RhbEJ5dGVzUmVhZCA9IDA7XG4gICAgICAgIC8vIFNlcnZlIGZyb20gdGhlIGludGVybmFsIGJ1ZmZlciBmaXJzdFxuICAgICAgICBpZiAodGhpcy5idWZmZXIpIHtcbiAgICAgICAgICAgIHRvdGFsQnl0ZXNSZWFkICs9IHRoaXMud3JpdGVDaHVuayhidWZmZXIsIHRoaXMuYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb250aW51ZSByZWFkaW5nIGZyb20gdGhlIHN0cmVhbSBpZiBtb3JlIGRhdGEgaXMgbmVlZGVkXG4gICAgICAgIHdoaWxlICh0b3RhbEJ5dGVzUmVhZCA8IGJ1ZmZlci5sZW5ndGggJiYgIXRoaXMuZW5kT2ZTdHJlYW0pIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kT2ZTdHJlYW0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRvdGFsQnl0ZXNSZWFkICs9IHRoaXMud3JpdGVDaHVuayhidWZmZXIuc3ViYXJyYXkodG90YWxCeXRlc1JlYWQpLCByZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghbWF5QmVMZXNzICYmIHRvdGFsQnl0ZXNSZWFkID09PSAwICYmIHRoaXMuZW5kT2ZTdHJlYW0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFbmRPZlN0cmVhbUVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvdGFsQnl0ZXNSZWFkO1xuICAgIH1cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5pbnRlcnJ1cHRlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRlci5jYW5jZWwoKTtcbiAgICB9XG4gICAgYXN5bmMgY2xvc2UoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuYWJvcnQoKTtcbiAgICAgICAgdGhpcy5yZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgICB9XG59XG4iLAogICAgImltcG9ydCB7IFdlYlN0cmVhbUJ5b2JSZWFkZXIgfSBmcm9tICcuL1dlYlN0cmVhbUJ5b2JSZWFkZXIuanMnO1xuaW1wb3J0IHsgV2ViU3RyZWFtRGVmYXVsdFJlYWRlciB9IGZyb20gJy4vV2ViU3RyZWFtRGVmYXVsdFJlYWRlci5qcyc7XG5leHBvcnQgZnVuY3Rpb24gbWFrZVdlYlN0cmVhbVJlYWRlcihzdHJlYW0pIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKHsgbW9kZTogXCJieW9iXCIgfSk7XG4gICAgICAgIGlmIChyZWFkZXIgaW5zdGFuY2VvZiBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIpIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGRlZmF1bHQgcmVhZGVyIGluIGNhc2UgYG1vZGU6IGJ5b2JgIGlzIGlnbm9yZWRcbiAgICAgICAgICAgIHJldHVybiBuZXcgV2ViU3RyZWFtRGVmYXVsdFJlYWRlcihyZWFkZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgV2ViU3RyZWFtQnlvYlJlYWRlcihyZWFkZXIpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byBkZWZhdWx0IHJlYWRlciBpbiBjYXNlIGBtb2RlOiBieW9iYCByZWplY3RlZCBieSBhIGBUeXBlRXJyb3JgXG4gICAgICAgICAgICByZXR1cm4gbmV3IFdlYlN0cmVhbURlZmF1bHRSZWFkZXIoc3RyZWFtLmdldFJlYWRlcigpKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59XG4iLAogICAgImV4cG9ydCB7IEFib3J0RXJyb3IsIEVuZE9mU3RyZWFtRXJyb3IgfSBmcm9tICcuL0Vycm9ycy5qcyc7XG5leHBvcnQgeyBTdHJlYW1SZWFkZXIgfSBmcm9tICcuL1N0cmVhbVJlYWRlci5qcyc7XG5leHBvcnQgeyBXZWJTdHJlYW1CeW9iUmVhZGVyIH0gZnJvbSAnLi9XZWJTdHJlYW1CeW9iUmVhZGVyLmpzJztcbmV4cG9ydCB7IFdlYlN0cmVhbURlZmF1bHRSZWFkZXIgfSBmcm9tICcuL1dlYlN0cmVhbURlZmF1bHRSZWFkZXIuanMnO1xuZXhwb3J0IHsgbWFrZVdlYlN0cmVhbVJlYWRlciB9IGZyb20gJy4vV2ViU3RyZWFtUmVhZGVyRmFjdG9yeS5qcyc7XG4iLAogICAgImltcG9ydCB7IEVuZE9mU3RyZWFtRXJyb3IgfSBmcm9tICcuL3N0cmVhbS9pbmRleC5qcyc7XG4vKipcbiAqIENvcmUgdG9rZW5pemVyXG4gKi9cbmV4cG9ydCBjbGFzcyBBYnN0cmFjdFRva2VuaXplciB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBUb2tlbml6ZXIgb3B0aW9uc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubnVtQnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoOCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUb2tlbml6ZXItc3RyZWFtIHBvc2l0aW9uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gMDtcbiAgICAgICAgdGhpcy5vbkNsb3NlID0gb3B0aW9ucz8ub25DbG9zZTtcbiAgICAgICAgaWYgKG9wdGlvbnM/LmFib3J0U2lnbmFsKSB7XG4gICAgICAgICAgICBvcHRpb25zLmFib3J0U2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSB0b2tlbiBmcm9tIHRoZSB0b2tlbml6ZXItc3RyZWFtXG4gICAgICogQHBhcmFtIHRva2VuIC0gVGhlIHRva2VuIHRvIHJlYWRcbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gLSBJZiBwcm92aWRlZCwgdGhlIGRlc2lyZWQgcG9zaXRpb24gaW4gdGhlIHRva2VuaXplci1zdHJlYW1cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHdpdGggdG9rZW4gZGF0YVxuICAgICAqL1xuICAgIGFzeW5jIHJlYWRUb2tlbih0b2tlbiwgcG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IHVpbnQ4QXJyYXkgPSBuZXcgVWludDhBcnJheSh0b2tlbi5sZW4pO1xuICAgICAgICBjb25zdCBsZW4gPSBhd2FpdCB0aGlzLnJlYWRCdWZmZXIodWludDhBcnJheSwgeyBwb3NpdGlvbiB9KTtcbiAgICAgICAgaWYgKGxlbiA8IHRva2VuLmxlbilcbiAgICAgICAgICAgIHRocm93IG5ldyBFbmRPZlN0cmVhbUVycm9yKCk7XG4gICAgICAgIHJldHVybiB0b2tlbi5nZXQodWludDhBcnJheSwgMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlZWsgYSB0b2tlbiBmcm9tIHRoZSB0b2tlbml6ZXItc3RyZWFtLlxuICAgICAqIEBwYXJhbSB0b2tlbiAtIFRva2VuIHRvIHBlZWsgZnJvbSB0aGUgdG9rZW5pemVyLXN0cmVhbS5cbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gLSBPZmZzZXQgd2hlcmUgdG8gYmVnaW4gcmVhZGluZyB3aXRoaW4gdGhlIGZpbGUuIElmIHBvc2l0aW9uIGlzIG51bGwsIGRhdGEgd2lsbCBiZSByZWFkIGZyb20gdGhlIGN1cnJlbnQgZmlsZSBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHdpdGggdG9rZW4gZGF0YVxuICAgICAqL1xuICAgIGFzeW5jIHBlZWtUb2tlbih0b2tlbiwgcG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IHVpbnQ4QXJyYXkgPSBuZXcgVWludDhBcnJheSh0b2tlbi5sZW4pO1xuICAgICAgICBjb25zdCBsZW4gPSBhd2FpdCB0aGlzLnBlZWtCdWZmZXIodWludDhBcnJheSwgeyBwb3NpdGlvbiB9KTtcbiAgICAgICAgaWYgKGxlbiA8IHRva2VuLmxlbilcbiAgICAgICAgICAgIHRocm93IG5ldyBFbmRPZlN0cmVhbUVycm9yKCk7XG4gICAgICAgIHJldHVybiB0b2tlbi5nZXQodWludDhBcnJheSwgMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBudW1lcmljIHRva2VuIGZyb20gdGhlIHN0cmVhbVxuICAgICAqIEBwYXJhbSB0b2tlbiAtIE51bWVyaWMgdG9rZW5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHdpdGggbnVtYmVyXG4gICAgICovXG4gICAgYXN5bmMgcmVhZE51bWJlcih0b2tlbikge1xuICAgICAgICBjb25zdCBsZW4gPSBhd2FpdCB0aGlzLnJlYWRCdWZmZXIodGhpcy5udW1CdWZmZXIsIHsgbGVuZ3RoOiB0b2tlbi5sZW4gfSk7XG4gICAgICAgIGlmIChsZW4gPCB0b2tlbi5sZW4pXG4gICAgICAgICAgICB0aHJvdyBuZXcgRW5kT2ZTdHJlYW1FcnJvcigpO1xuICAgICAgICByZXR1cm4gdG9rZW4uZ2V0KHRoaXMubnVtQnVmZmVyLCAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIG51bWVyaWMgdG9rZW4gZnJvbSB0aGUgc3RyZWFtXG4gICAgICogQHBhcmFtIHRva2VuIC0gTnVtZXJpYyB0b2tlblxuICAgICAqIEByZXR1cm5zIFByb21pc2Ugd2l0aCBudW1iZXJcbiAgICAgKi9cbiAgICBhc3luYyBwZWVrTnVtYmVyKHRva2VuKSB7XG4gICAgICAgIGNvbnN0IGxlbiA9IGF3YWl0IHRoaXMucGVla0J1ZmZlcih0aGlzLm51bUJ1ZmZlciwgeyBsZW5ndGg6IHRva2VuLmxlbiB9KTtcbiAgICAgICAgaWYgKGxlbiA8IHRva2VuLmxlbilcbiAgICAgICAgICAgIHRocm93IG5ldyBFbmRPZlN0cmVhbUVycm9yKCk7XG4gICAgICAgIHJldHVybiB0b2tlbi5nZXQodGhpcy5udW1CdWZmZXIsIDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZ25vcmUgbnVtYmVyIG9mIGJ5dGVzLCBhZHZhbmNlcyB0aGUgcG9pbnRlciBpbiB1bmRlciB0b2tlbml6ZXItc3RyZWFtLlxuICAgICAqIEBwYXJhbSBsZW5ndGggLSBOdW1iZXIgb2YgYnl0ZXMgdG8gaWdub3JlXG4gICAgICogQHJldHVybiByZXNvbHZlcyB0aGUgbnVtYmVyIG9mIGJ5dGVzIGlnbm9yZWQsIGVxdWFscyBsZW5ndGggaWYgdGhpcyBhdmFpbGFibGUsIG90aGVyd2lzZSB0aGUgbnVtYmVyIG9mIGJ5dGVzIGF2YWlsYWJsZVxuICAgICAqL1xuICAgIGFzeW5jIGlnbm9yZShsZW5ndGgpIHtcbiAgICAgICAgaWYgKHRoaXMuZmlsZUluZm8uc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBieXRlc0xlZnQgPSB0aGlzLmZpbGVJbmZvLnNpemUgLSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKGxlbmd0aCA+IGJ5dGVzTGVmdCkge1xuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24gKz0gYnl0ZXNMZWZ0O1xuICAgICAgICAgICAgICAgIHJldHVybiBieXRlc0xlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3NpdGlvbiArPSBsZW5ndGg7XG4gICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICAgIGFzeW5jIGNsb3NlKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmFib3J0KCk7XG4gICAgICAgIGF3YWl0IHRoaXMub25DbG9zZT8uKCk7XG4gICAgfVxuICAgIG5vcm1hbGl6ZU9wdGlvbnModWludDhBcnJheSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuc3VwcG9ydHNSYW5kb21BY2Nlc3MoKSAmJiBvcHRpb25zICYmIG9wdGlvbnMucG9zaXRpb24gIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLnBvc2l0aW9uIDwgdGhpcy5wb3NpdGlvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdgb3B0aW9ucy5wb3NpdGlvbmAgbXVzdCBiZSBlcXVhbCBvciBncmVhdGVyIHRoYW4gYHRva2VuaXplci5wb3NpdGlvbmAnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ue1xuICAgICAgICAgICAgICAgIG1heUJlTGVzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIGxlbmd0aDogdWludDhBcnJheS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHRoaXMucG9zaXRpb25cbiAgICAgICAgICAgIH0sIC4uLm9wdGlvbnNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYWJvcnQoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsgLy8gSWdub3JlIGFib3J0IHNpZ25hbFxuICAgIH1cbn1cbiIsCiAgICAiaW1wb3J0IHsgQWJzdHJhY3RUb2tlbml6ZXIgfSBmcm9tICcuL0Fic3RyYWN0VG9rZW5pemVyLmpzJztcbmltcG9ydCB7IEVuZE9mU3RyZWFtRXJyb3IgfSBmcm9tICcuL3N0cmVhbS9pbmRleC5qcyc7XG5jb25zdCBtYXhCdWZmZXJTaXplID0gMjU2MDAwO1xuZXhwb3J0IGNsYXNzIFJlYWRTdHJlYW1Ub2tlbml6ZXIgZXh0ZW5kcyBBYnN0cmFjdFRva2VuaXplciB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0gc3RyZWFtUmVhZGVyIHN0cmVhbS1yZWFkZXIgdG8gcmVhZCBmcm9tXG4gICAgICogQHBhcmFtIG9wdGlvbnMgVG9rZW5pemVyIG9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzdHJlYW1SZWFkZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuc3RyZWFtUmVhZGVyID0gc3RyZWFtUmVhZGVyO1xuICAgICAgICB0aGlzLmZpbGVJbmZvID0gb3B0aW9ucz8uZmlsZUluZm8gPz8ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYnVmZmVyIGZyb20gdG9rZW5pemVyXG4gICAgICogQHBhcmFtIHVpbnQ4QXJyYXkgLSBUYXJnZXQgVWludDhBcnJheSB0byBmaWxsIHdpdGggZGF0YSByZWFkIGZyb20gdGhlIHRva2VuaXplci1zdHJlYW1cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlYWQgYmVoYXZpb3VyIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHdpdGggbnVtYmVyIG9mIGJ5dGVzIHJlYWRcbiAgICAgKi9cbiAgICBhc3luYyByZWFkQnVmZmVyKHVpbnQ4QXJyYXksIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgbm9ybU9wdGlvbnMgPSB0aGlzLm5vcm1hbGl6ZU9wdGlvbnModWludDhBcnJheSwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHNraXBCeXRlcyA9IG5vcm1PcHRpb25zLnBvc2l0aW9uIC0gdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgaWYgKHNraXBCeXRlcyA+IDApIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaWdub3JlKHNraXBCeXRlcyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkQnVmZmVyKHVpbnQ4QXJyYXksIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChza2lwQnl0ZXMgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BvcHRpb25zLnBvc2l0aW9uYCBtdXN0IGJlIGVxdWFsIG9yIGdyZWF0ZXIgdGhhbiBgdG9rZW5pemVyLnBvc2l0aW9uYCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub3JtT3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJ5dGVzUmVhZCA9IGF3YWl0IHRoaXMuc3RyZWFtUmVhZGVyLnJlYWQodWludDhBcnJheS5zdWJhcnJheSgwLCBub3JtT3B0aW9ucy5sZW5ndGgpLCBub3JtT3B0aW9ucy5tYXlCZUxlc3MpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uICs9IGJ5dGVzUmVhZDtcbiAgICAgICAgaWYgKCghb3B0aW9ucyB8fCAhb3B0aW9ucy5tYXlCZUxlc3MpICYmIGJ5dGVzUmVhZCA8IG5vcm1PcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVuZE9mU3RyZWFtRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnl0ZXNSZWFkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZWVrIChyZWFkIGFoZWFkKSBidWZmZXIgZnJvbSB0b2tlbml6ZXJcbiAgICAgKiBAcGFyYW0gdWludDhBcnJheSAtIFVpbnQ4QXJyYXkgKG9yIEJ1ZmZlcikgdG8gd3JpdGUgZGF0YSB0b1xuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gUmVhZCBiZWhhdmlvdXIgb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIFByb21pc2Ugd2l0aCBudW1iZXIgb2YgYnl0ZXMgcGVla2VkXG4gICAgICovXG4gICAgYXN5bmMgcGVla0J1ZmZlcih1aW50OEFycmF5LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG5vcm1PcHRpb25zID0gdGhpcy5ub3JtYWxpemVPcHRpb25zKHVpbnQ4QXJyYXksIG9wdGlvbnMpO1xuICAgICAgICBsZXQgYnl0ZXNSZWFkID0gMDtcbiAgICAgICAgaWYgKG5vcm1PcHRpb25zLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBza2lwQnl0ZXMgPSBub3JtT3B0aW9ucy5wb3NpdGlvbiAtIHRoaXMucG9zaXRpb247XG4gICAgICAgICAgICBpZiAoc2tpcEJ5dGVzID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNraXBCdWZmZXIgPSBuZXcgVWludDhBcnJheShub3JtT3B0aW9ucy5sZW5ndGggKyBza2lwQnl0ZXMpO1xuICAgICAgICAgICAgICAgIGJ5dGVzUmVhZCA9IGF3YWl0IHRoaXMucGVla0J1ZmZlcihza2lwQnVmZmVyLCB7IG1heUJlTGVzczogbm9ybU9wdGlvbnMubWF5QmVMZXNzIH0pO1xuICAgICAgICAgICAgICAgIHVpbnQ4QXJyYXkuc2V0KHNraXBCdWZmZXIuc3ViYXJyYXkoc2tpcEJ5dGVzKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ5dGVzUmVhZCAtIHNraXBCeXRlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChza2lwQnl0ZXMgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGVlayBmcm9tIGEgbmVnYXRpdmUgb2Zmc2V0IGluIGEgc3RyZWFtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vcm1PcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYnl0ZXNSZWFkID0gYXdhaXQgdGhpcy5zdHJlYW1SZWFkZXIucGVlayh1aW50OEFycmF5LnN1YmFycmF5KDAsIG5vcm1PcHRpb25zLmxlbmd0aCksIG5vcm1PcHRpb25zLm1heUJlTGVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnM/Lm1heUJlTGVzcyAmJiBlcnIgaW5zdGFuY2VvZiBFbmRPZlN0cmVhbUVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKCFub3JtT3B0aW9ucy5tYXlCZUxlc3MpICYmIGJ5dGVzUmVhZCA8IG5vcm1PcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFbmRPZlN0cmVhbUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ5dGVzUmVhZDtcbiAgICB9XG4gICAgYXN5bmMgaWdub3JlKGxlbmd0aCkge1xuICAgICAgICAvLyBkZWJ1ZyhgaWdub3JlICR7dGhpcy5wb3NpdGlvbn0uLi4ke3RoaXMucG9zaXRpb24gKyBsZW5ndGggLSAxfWApO1xuICAgICAgICBjb25zdCBidWZTaXplID0gTWF0aC5taW4obWF4QnVmZmVyU2l6ZSwgbGVuZ3RoKTtcbiAgICAgICAgY29uc3QgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYnVmU2l6ZSk7XG4gICAgICAgIGxldCB0b3RCeXRlc1JlYWQgPSAwO1xuICAgICAgICB3aGlsZSAodG90Qnl0ZXNSZWFkIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmcgPSBsZW5ndGggLSB0b3RCeXRlc1JlYWQ7XG4gICAgICAgICAgICBjb25zdCBieXRlc1JlYWQgPSBhd2FpdCB0aGlzLnJlYWRCdWZmZXIoYnVmLCB7IGxlbmd0aDogTWF0aC5taW4oYnVmU2l6ZSwgcmVtYWluaW5nKSB9KTtcbiAgICAgICAgICAgIGlmIChieXRlc1JlYWQgPCAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ5dGVzUmVhZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvdEJ5dGVzUmVhZCArPSBieXRlc1JlYWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvdEJ5dGVzUmVhZDtcbiAgICB9XG4gICAgYWJvcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cmVhbVJlYWRlci5hYm9ydCgpO1xuICAgIH1cbiAgICBhc3luYyBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtUmVhZGVyLmNsb3NlKCk7XG4gICAgfVxuICAgIHN1cHBvcnRzUmFuZG9tQWNjZXNzKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuIiwKICAgICJpbXBvcnQgeyBFbmRPZlN0cmVhbUVycm9yIH0gZnJvbSAnLi9zdHJlYW0vaW5kZXguanMnO1xuaW1wb3J0IHsgQWJzdHJhY3RUb2tlbml6ZXIgfSBmcm9tICcuL0Fic3RyYWN0VG9rZW5pemVyLmpzJztcbmV4cG9ydCBjbGFzcyBCdWZmZXJUb2tlbml6ZXIgZXh0ZW5kcyBBYnN0cmFjdFRva2VuaXplciB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IEJ1ZmZlclRva2VuaXplclxuICAgICAqIEBwYXJhbSB1aW50OEFycmF5IC0gVWludDhBcnJheSB0byB0b2tlbml6ZVxuICAgICAqIEBwYXJhbSBvcHRpb25zIFRva2VuaXplciBvcHRpb25zXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodWludDhBcnJheSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy51aW50OEFycmF5ID0gdWludDhBcnJheTtcbiAgICAgICAgdGhpcy5maWxlSW5mbyA9IHsgLi4ub3B0aW9ucz8uZmlsZUluZm8gPz8ge30sIC4uLnsgc2l6ZTogdWludDhBcnJheS5sZW5ndGggfSB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGJ1ZmZlciBmcm9tIHRva2VuaXplclxuICAgICAqIEBwYXJhbSB1aW50OEFycmF5IC0gVWludDhBcnJheSB0byB0b2tlbml6ZVxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gUmVhZCBiZWhhdmlvdXIgb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPG51bWJlcj59XG4gICAgICovXG4gICAgYXN5bmMgcmVhZEJ1ZmZlcih1aW50OEFycmF5LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zPy5wb3NpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG9wdGlvbnMucG9zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYnl0ZXNSZWFkID0gYXdhaXQgdGhpcy5wZWVrQnVmZmVyKHVpbnQ4QXJyYXksIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uICs9IGJ5dGVzUmVhZDtcbiAgICAgICAgcmV0dXJuIGJ5dGVzUmVhZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVlayAocmVhZCBhaGVhZCkgYnVmZmVyIGZyb20gdG9rZW5pemVyXG4gICAgICogQHBhcmFtIHVpbnQ4QXJyYXlcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlYWQgYmVoYXZpb3VyIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxudW1iZXI+fVxuICAgICAqL1xuICAgIGFzeW5jIHBlZWtCdWZmZXIodWludDhBcnJheSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBub3JtT3B0aW9ucyA9IHRoaXMubm9ybWFsaXplT3B0aW9ucyh1aW50OEFycmF5LCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgYnl0ZXMycmVhZCA9IE1hdGgubWluKHRoaXMudWludDhBcnJheS5sZW5ndGggLSBub3JtT3B0aW9ucy5wb3NpdGlvbiwgbm9ybU9wdGlvbnMubGVuZ3RoKTtcbiAgICAgICAgaWYgKCghbm9ybU9wdGlvbnMubWF5QmVMZXNzKSAmJiBieXRlczJyZWFkIDwgbm9ybU9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRW5kT2ZTdHJlYW1FcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHVpbnQ4QXJyYXkuc2V0KHRoaXMudWludDhBcnJheS5zdWJhcnJheShub3JtT3B0aW9ucy5wb3NpdGlvbiwgbm9ybU9wdGlvbnMucG9zaXRpb24gKyBieXRlczJyZWFkKSk7XG4gICAgICAgIHJldHVybiBieXRlczJyZWFkO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmNsb3NlKCk7XG4gICAgfVxuICAgIHN1cHBvcnRzUmFuZG9tQWNjZXNzKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc2V0UG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIH1cbn1cbiIsCiAgICAiaW1wb3J0IHsgRW5kT2ZTdHJlYW1FcnJvciB9IGZyb20gJy4vc3RyZWFtL2luZGV4LmpzJztcbmltcG9ydCB7IEFic3RyYWN0VG9rZW5pemVyIH0gZnJvbSAnLi9BYnN0cmFjdFRva2VuaXplci5qcyc7XG5leHBvcnQgY2xhc3MgQmxvYlRva2VuaXplciBleHRlbmRzIEFic3RyYWN0VG9rZW5pemVyIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgQnVmZmVyVG9rZW5pemVyXG4gICAgICogQHBhcmFtIGJsb2IgLSBVaW50OEFycmF5IHRvIHRva2VuaXplXG4gICAgICogQHBhcmFtIG9wdGlvbnMgVG9rZW5pemVyIG9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihibG9iLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmJsb2IgPSBibG9iO1xuICAgICAgICB0aGlzLmZpbGVJbmZvID0geyAuLi5vcHRpb25zPy5maWxlSW5mbyA/PyB7fSwgLi4ueyBzaXplOiBibG9iLnNpemUsIG1pbWVUeXBlOiBibG9iLnR5cGUgfSB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGJ1ZmZlciBmcm9tIHRva2VuaXplclxuICAgICAqIEBwYXJhbSB1aW50OEFycmF5IC0gVWludDhBcnJheSB0byB0b2tlbml6ZVxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gUmVhZCBiZWhhdmlvdXIgb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPG51bWJlcj59XG4gICAgICovXG4gICAgYXN5bmMgcmVhZEJ1ZmZlcih1aW50OEFycmF5LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zPy5wb3NpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG9wdGlvbnMucG9zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYnl0ZXNSZWFkID0gYXdhaXQgdGhpcy5wZWVrQnVmZmVyKHVpbnQ4QXJyYXksIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uICs9IGJ5dGVzUmVhZDtcbiAgICAgICAgcmV0dXJuIGJ5dGVzUmVhZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVlayAocmVhZCBhaGVhZCkgYnVmZmVyIGZyb20gdG9rZW5pemVyXG4gICAgICogQHBhcmFtIGJ1ZmZlclxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gUmVhZCBiZWhhdmlvdXIgb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPG51bWJlcj59XG4gICAgICovXG4gICAgYXN5bmMgcGVla0J1ZmZlcihidWZmZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgbm9ybU9wdGlvbnMgPSB0aGlzLm5vcm1hbGl6ZU9wdGlvbnMoYnVmZmVyLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgYnl0ZXMycmVhZCA9IE1hdGgubWluKHRoaXMuYmxvYi5zaXplIC0gbm9ybU9wdGlvbnMucG9zaXRpb24sIG5vcm1PcHRpb25zLmxlbmd0aCk7XG4gICAgICAgIGlmICgoIW5vcm1PcHRpb25zLm1heUJlTGVzcykgJiYgYnl0ZXMycmVhZCA8IG5vcm1PcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVuZE9mU3RyZWFtRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IHRoaXMuYmxvYi5zbGljZShub3JtT3B0aW9ucy5wb3NpdGlvbiwgbm9ybU9wdGlvbnMucG9zaXRpb24gKyBieXRlczJyZWFkKS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICBidWZmZXIuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgICAgIHJldHVybiBieXRlczJyZWFkO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmNsb3NlKCk7XG4gICAgfVxuICAgIHN1cHBvcnRzUmFuZG9tQWNjZXNzKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc2V0UG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIH1cbn1cbiIsCiAgICAiaW1wb3J0IHsgU3RyZWFtUmVhZGVyLCBtYWtlV2ViU3RyZWFtUmVhZGVyIH0gZnJvbSAnLi9zdHJlYW0vaW5kZXguanMnO1xuaW1wb3J0IHsgUmVhZFN0cmVhbVRva2VuaXplciB9IGZyb20gJy4vUmVhZFN0cmVhbVRva2VuaXplci5qcyc7XG5pbXBvcnQgeyBCdWZmZXJUb2tlbml6ZXIgfSBmcm9tICcuL0J1ZmZlclRva2VuaXplci5qcyc7XG5pbXBvcnQgeyBCbG9iVG9rZW5pemVyIH0gZnJvbSAnLi9CbG9iVG9rZW5pemVyLmpzJztcbmV4cG9ydCB7IEVuZE9mU3RyZWFtRXJyb3IsIEFib3J0RXJyb3IgfSBmcm9tICcuL3N0cmVhbS9pbmRleC5qcyc7XG5leHBvcnQgeyBBYnN0cmFjdFRva2VuaXplciB9IGZyb20gJy4vQWJzdHJhY3RUb2tlbml6ZXIuanMnO1xuLyoqXG4gKiBDb25zdHJ1Y3QgUmVhZFN0cmVhbVRva2VuaXplciBmcm9tIGdpdmVuIFN0cmVhbS5cbiAqIFdpbGwgc2V0IGZpbGVTaXplLCBpZiBwcm92aWRlZCBnaXZlbiBTdHJlYW0gaGFzIHNldCB0aGUgLnBhdGggcHJvcGVydHkvXG4gKiBAcGFyYW0gc3RyZWFtIC0gUmVhZCBmcm9tIE5vZGUuanMgU3RyZWFtLlJlYWRhYmxlXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFRva2VuaXplciBvcHRpb25zXG4gKiBAcmV0dXJucyBSZWFkU3RyZWFtVG9rZW5pemVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU3RyZWFtKHN0cmVhbSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHN0cmVhbVJlYWRlciA9IG5ldyBTdHJlYW1SZWFkZXIoc3RyZWFtKTtcbiAgICBjb25zdCBfb3B0aW9ucyA9IG9wdGlvbnMgPz8ge307XG4gICAgY29uc3QgY2hhaW5lZENsb3NlID0gX29wdGlvbnMub25DbG9zZTtcbiAgICBfb3B0aW9ucy5vbkNsb3NlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBzdHJlYW1SZWFkZXIuY2xvc2UoKTtcbiAgICAgICAgaWYgKGNoYWluZWRDbG9zZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNoYWluZWRDbG9zZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gbmV3IFJlYWRTdHJlYW1Ub2tlbml6ZXIoc3RyZWFtUmVhZGVyLCBfb3B0aW9ucyk7XG59XG4vKipcbiAqIENvbnN0cnVjdCBSZWFkU3RyZWFtVG9rZW5pemVyIGZyb20gZ2l2ZW4gUmVhZGFibGVTdHJlYW0gKFdlYlN0cmVhbSBBUEkpLlxuICogV2lsbCBzZXQgZmlsZVNpemUsIGlmIHByb3ZpZGVkIGdpdmVuIFN0cmVhbSBoYXMgc2V0IHRoZSAucGF0aCBwcm9wZXJ0eS9cbiAqIEBwYXJhbSB3ZWJTdHJlYW0gLSBSZWFkIGZyb20gTm9kZS5qcyBTdHJlYW0uUmVhZGFibGUgKG11c3QgYmUgYSBieXRlIHN0cmVhbSlcbiAqIEBwYXJhbSBvcHRpb25zIC0gVG9rZW5pemVyIG9wdGlvbnNcbiAqIEByZXR1cm5zIFJlYWRTdHJlYW1Ub2tlbml6ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21XZWJTdHJlYW0od2ViU3RyZWFtLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgd2ViU3RyZWFtUmVhZGVyID0gbWFrZVdlYlN0cmVhbVJlYWRlcih3ZWJTdHJlYW0pO1xuICAgIGNvbnN0IF9vcHRpb25zID0gb3B0aW9ucyA/PyB7fTtcbiAgICBjb25zdCBjaGFpbmVkQ2xvc2UgPSBfb3B0aW9ucy5vbkNsb3NlO1xuICAgIF9vcHRpb25zLm9uQ2xvc2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHdlYlN0cmVhbVJlYWRlci5jbG9zZSgpO1xuICAgICAgICBpZiAoY2hhaW5lZENsb3NlKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhaW5lZENsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBuZXcgUmVhZFN0cmVhbVRva2VuaXplcih3ZWJTdHJlYW1SZWFkZXIsIF9vcHRpb25zKTtcbn1cbi8qKlxuICogQ29uc3RydWN0IFJlYWRTdHJlYW1Ub2tlbml6ZXIgZnJvbSBnaXZlbiBCdWZmZXIuXG4gKiBAcGFyYW0gdWludDhBcnJheSAtIFVpbnQ4QXJyYXkgdG8gdG9rZW5pemVcbiAqIEBwYXJhbSBvcHRpb25zIC0gVG9rZW5pemVyIG9wdGlvbnNcbiAqIEByZXR1cm5zIEJ1ZmZlclRva2VuaXplclxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUJ1ZmZlcih1aW50OEFycmF5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBCdWZmZXJUb2tlbml6ZXIodWludDhBcnJheSwgb3B0aW9ucyk7XG59XG4vKipcbiAqIENvbnN0cnVjdCBSZWFkU3RyZWFtVG9rZW5pemVyIGZyb20gZ2l2ZW4gQmxvYi5cbiAqIEBwYXJhbSBibG9iIC0gVWludDhBcnJheSB0byB0b2tlbml6ZVxuICogQHBhcmFtIG9wdGlvbnMgLSBUb2tlbml6ZXIgb3B0aW9uc1xuICogQHJldHVybnMgQnVmZmVyVG9rZW5pemVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQmxvYihibG9iLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBCbG9iVG9rZW5pemVyKGJsb2IsIG9wdGlvbnMpO1xufVxuIiwKICAgICIvLyBERUZMQVRFIGlzIGEgY29tcGxleCBmb3JtYXQ7IHRvIHJlYWQgdGhpcyBjb2RlLCB5b3Ugc2hvdWxkIHByb2JhYmx5IGNoZWNrIHRoZSBSRkMgZmlyc3Q6XG4vLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMTk1MVxuLy8gWW91IG1heSBhbHNvIHdpc2ggdG8gdGFrZSBhIGxvb2sgYXQgdGhlIGd1aWRlIEkgbWFkZSBhYm91dCB0aGlzIHByb2dyYW06XG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xMDFhcnJvd3ovMjUzZjMxZWI1YWJjM2Q5Mjc1YWI5NDMwMDNmZmVjYWRcbi8vIFNvbWUgb2YgdGhlIGZvbGxvd2luZyBjb2RlIGlzIHNpbWlsYXIgdG8gdGhhdCBvZiBVWklQLmpzOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3Bob3RvcGVhL1VaSVAuanNcbi8vIEhvd2V2ZXIsIHRoZSB2YXN0IG1ham9yaXR5IG9mIHRoZSBjb2RlYmFzZSBoYXMgZGl2ZXJnZWQgZnJvbSBVWklQLmpzIHRvIGluY3JlYXNlIHBlcmZvcm1hbmNlIGFuZCByZWR1Y2UgYnVuZGxlIHNpemUuXG4vLyBTb21ldGltZXMgMCB3aWxsIGFwcGVhciB3aGVyZSAtMSB3b3VsZCBiZSBtb3JlIGFwcHJvcHJpYXRlLiBUaGlzIGlzIGJlY2F1c2UgdXNpbmcgYSB1aW50XG4vLyBpcyBiZXR0ZXIgZm9yIG1lbW9yeSBpbiBtb3N0IGVuZ2luZXMgKEkgKnRoaW5rKikuXG52YXIgY2gyID0ge307XG52YXIgd2sgPSAoZnVuY3Rpb24gKGMsIGlkLCBtc2csIHRyYW5zZmVyLCBjYikge1xuICAgIHZhciB3ID0gbmV3IFdvcmtlcihjaDJbaWRdIHx8IChjaDJbaWRdID0gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbXG4gICAgICAgIGMgKyAnO2FkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGZ1bmN0aW9uKGUpe2U9ZS5lcnJvcjtwb3N0TWVzc2FnZSh7JGUkOltlLm1lc3NhZ2UsZS5jb2RlLGUuc3RhY2tdfSl9KSdcbiAgICBdLCB7IHR5cGU6ICd0ZXh0L2phdmFzY3JpcHQnIH0pKSkpO1xuICAgIHcub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGQgPSBlLmRhdGEsIGVkID0gZC4kZSQ7XG4gICAgICAgIGlmIChlZCkge1xuICAgICAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcihlZFswXSk7XG4gICAgICAgICAgICBlcnJbJ2NvZGUnXSA9IGVkWzFdO1xuICAgICAgICAgICAgZXJyLnN0YWNrID0gZWRbMl07XG4gICAgICAgICAgICBjYihlcnIsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNiKG51bGwsIGQpO1xuICAgIH07XG4gICAgdy5wb3N0TWVzc2FnZShtc2csIHRyYW5zZmVyKTtcbiAgICByZXR1cm4gdztcbn0pO1xuXG4vLyBhbGlhc2VzIGZvciBzaG9ydGVyIGNvbXByZXNzZWQgY29kZSAobW9zdCBtaW5pZmVycyBkb24ndCBkbyB0aGlzKVxudmFyIHU4ID0gVWludDhBcnJheSwgdTE2ID0gVWludDE2QXJyYXksIGkzMiA9IEludDMyQXJyYXk7XG4vLyBmaXhlZCBsZW5ndGggZXh0cmEgYml0c1xudmFyIGZsZWIgPSBuZXcgdTgoWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDIsIDIsIDIsIDIsIDMsIDMsIDMsIDMsIDQsIDQsIDQsIDQsIDUsIDUsIDUsIDUsIDAsIC8qIHVudXNlZCAqLyAwLCAwLCAvKiBpbXBvc3NpYmxlICovIDBdKTtcbi8vIGZpeGVkIGRpc3RhbmNlIGV4dHJhIGJpdHNcbnZhciBmZGViID0gbmV3IHU4KFswLCAwLCAwLCAwLCAxLCAxLCAyLCAyLCAzLCAzLCA0LCA0LCA1LCA1LCA2LCA2LCA3LCA3LCA4LCA4LCA5LCA5LCAxMCwgMTAsIDExLCAxMSwgMTIsIDEyLCAxMywgMTMsIC8qIHVudXNlZCAqLyAwLCAwXSk7XG4vLyBjb2RlIGxlbmd0aCBpbmRleCBtYXBcbnZhciBjbGltID0gbmV3IHU4KFsxNiwgMTcsIDE4LCAwLCA4LCA3LCA5LCA2LCAxMCwgNSwgMTEsIDQsIDEyLCAzLCAxMywgMiwgMTQsIDEsIDE1XSk7XG4vLyBnZXQgYmFzZSwgcmV2ZXJzZSBpbmRleCBtYXAgZnJvbSBleHRyYSBiaXRzXG52YXIgZnJlYiA9IGZ1bmN0aW9uIChlYiwgc3RhcnQpIHtcbiAgICB2YXIgYiA9IG5ldyB1MTYoMzEpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzE7ICsraSkge1xuICAgICAgICBiW2ldID0gc3RhcnQgKz0gMSA8PCBlYltpIC0gMV07XG4gICAgfVxuICAgIC8vIG51bWJlcnMgaGVyZSBhcmUgYXQgbWF4IDE4IGJpdHNcbiAgICB2YXIgciA9IG5ldyBpMzIoYlszMF0pO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgMzA7ICsraSkge1xuICAgICAgICBmb3IgKHZhciBqID0gYltpXTsgaiA8IGJbaSArIDFdOyArK2opIHtcbiAgICAgICAgICAgIHJbal0gPSAoKGogLSBiW2ldKSA8PCA1KSB8IGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgYjogYiwgcjogciB9O1xufTtcbnZhciBfYSA9IGZyZWIoZmxlYiwgMiksIGZsID0gX2EuYiwgcmV2ZmwgPSBfYS5yO1xuLy8gd2UgY2FuIGlnbm9yZSB0aGUgZmFjdCB0aGF0IHRoZSBvdGhlciBudW1iZXJzIGFyZSB3cm9uZzsgdGhleSBuZXZlciBoYXBwZW4gYW55d2F5XG5mbFsyOF0gPSAyNTgsIHJldmZsWzI1OF0gPSAyODtcbnZhciBfYiA9IGZyZWIoZmRlYiwgMCksIGZkID0gX2IuYiwgcmV2ZmQgPSBfYi5yO1xuLy8gbWFwIG9mIHZhbHVlIHRvIHJldmVyc2UgKGFzc3VtaW5nIDE2IGJpdHMpXG52YXIgcmV2ID0gbmV3IHUxNigzMjc2OCk7XG5mb3IgKHZhciBpID0gMDsgaSA8IDMyNzY4OyArK2kpIHtcbiAgICAvLyByZXZlcnNlIHRhYmxlIGFsZ29yaXRobSBmcm9tIFNPXG4gICAgdmFyIHggPSAoKGkgJiAweEFBQUEpID4+IDEpIHwgKChpICYgMHg1NTU1KSA8PCAxKTtcbiAgICB4ID0gKCh4ICYgMHhDQ0NDKSA+PiAyKSB8ICgoeCAmIDB4MzMzMykgPDwgMik7XG4gICAgeCA9ICgoeCAmIDB4RjBGMCkgPj4gNCkgfCAoKHggJiAweDBGMEYpIDw8IDQpO1xuICAgIHJldltpXSA9ICgoKHggJiAweEZGMDApID4+IDgpIHwgKCh4ICYgMHgwMEZGKSA8PCA4KSkgPj4gMTtcbn1cbi8vIGNyZWF0ZSBodWZmbWFuIHRyZWUgZnJvbSB1OCBcIm1hcFwiOiBpbmRleCAtPiBjb2RlIGxlbmd0aCBmb3IgY29kZSBpbmRleFxuLy8gbWIgKG1heCBiaXRzKSBtdXN0IGJlIGF0IG1vc3QgMTVcbi8vIFRPRE86IG9wdGltaXplL3NwbGl0IHVwP1xudmFyIGhNYXAgPSAoZnVuY3Rpb24gKGNkLCBtYiwgcikge1xuICAgIHZhciBzID0gY2QubGVuZ3RoO1xuICAgIC8vIGluZGV4XG4gICAgdmFyIGkgPSAwO1xuICAgIC8vIHUxNiBcIm1hcFwiOiBpbmRleCAtPiAjIG9mIGNvZGVzIHdpdGggYml0IGxlbmd0aCA9IGluZGV4XG4gICAgdmFyIGwgPSBuZXcgdTE2KG1iKTtcbiAgICAvLyBsZW5ndGggb2YgY2QgbXVzdCBiZSAyODggKHRvdGFsICMgb2YgY29kZXMpXG4gICAgZm9yICg7IGkgPCBzOyArK2kpIHtcbiAgICAgICAgaWYgKGNkW2ldKVxuICAgICAgICAgICAgKytsW2NkW2ldIC0gMV07XG4gICAgfVxuICAgIC8vIHUxNiBcIm1hcFwiOiBpbmRleCAtPiBtaW5pbXVtIGNvZGUgZm9yIGJpdCBsZW5ndGggPSBpbmRleFxuICAgIHZhciBsZSA9IG5ldyB1MTYobWIpO1xuICAgIGZvciAoaSA9IDE7IGkgPCBtYjsgKytpKSB7XG4gICAgICAgIGxlW2ldID0gKGxlW2kgLSAxXSArIGxbaSAtIDFdKSA8PCAxO1xuICAgIH1cbiAgICB2YXIgY287XG4gICAgaWYgKHIpIHtcbiAgICAgICAgLy8gdTE2IFwibWFwXCI6IGluZGV4IC0+IG51bWJlciBvZiBhY3R1YWwgYml0cywgc3ltYm9sIGZvciBjb2RlXG4gICAgICAgIGNvID0gbmV3IHUxNigxIDw8IG1iKTtcbiAgICAgICAgLy8gYml0cyB0byByZW1vdmUgZm9yIHJldmVyc2VyXG4gICAgICAgIHZhciBydmIgPSAxNSAtIG1iO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgczsgKytpKSB7XG4gICAgICAgICAgICAvLyBpZ25vcmUgMCBsZW5ndGhzXG4gICAgICAgICAgICBpZiAoY2RbaV0pIHtcbiAgICAgICAgICAgICAgICAvLyBudW0gZW5jb2RpbmcgYm90aCBzeW1ib2wgYW5kIGJpdHMgcmVhZFxuICAgICAgICAgICAgICAgIHZhciBzdiA9IChpIDw8IDQpIHwgY2RbaV07XG4gICAgICAgICAgICAgICAgLy8gZnJlZSBiaXRzXG4gICAgICAgICAgICAgICAgdmFyIHJfMSA9IG1iIC0gY2RbaV07XG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgdmFsdWVcbiAgICAgICAgICAgICAgICB2YXIgdiA9IGxlW2NkW2ldIC0gMV0rKyA8PCByXzE7XG4gICAgICAgICAgICAgICAgLy8gbSBpcyBlbmQgdmFsdWVcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBtID0gdiB8ICgoMSA8PCByXzEpIC0gMSk7IHYgPD0gbTsgKyt2KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZXJ5IDE2IGJpdCB2YWx1ZSBzdGFydGluZyB3aXRoIHRoZSBjb2RlIHlpZWxkcyB0aGUgc2FtZSByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgY29bcmV2W3ZdID4+IHJ2Yl0gPSBzdjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvID0gbmV3IHUxNihzKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHM7ICsraSkge1xuICAgICAgICAgICAgaWYgKGNkW2ldKSB7XG4gICAgICAgICAgICAgICAgY29baV0gPSByZXZbbGVbY2RbaV0gLSAxXSsrXSA+PiAoMTUgLSBjZFtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvO1xufSk7XG4vLyBmaXhlZCBsZW5ndGggdHJlZVxudmFyIGZsdCA9IG5ldyB1OCgyODgpO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAxNDQ7ICsraSlcbiAgICBmbHRbaV0gPSA4O1xuZm9yICh2YXIgaSA9IDE0NDsgaSA8IDI1NjsgKytpKVxuICAgIGZsdFtpXSA9IDk7XG5mb3IgKHZhciBpID0gMjU2OyBpIDwgMjgwOyArK2kpXG4gICAgZmx0W2ldID0gNztcbmZvciAodmFyIGkgPSAyODA7IGkgPCAyODg7ICsraSlcbiAgICBmbHRbaV0gPSA4O1xuLy8gZml4ZWQgZGlzdGFuY2UgdHJlZVxudmFyIGZkdCA9IG5ldyB1OCgzMik7XG5mb3IgKHZhciBpID0gMDsgaSA8IDMyOyArK2kpXG4gICAgZmR0W2ldID0gNTtcbi8vIGZpeGVkIGxlbmd0aCBtYXBcbnZhciBmbG0gPSAvKiNfX1BVUkVfXyovIGhNYXAoZmx0LCA5LCAwKSwgZmxybSA9IC8qI19fUFVSRV9fKi8gaE1hcChmbHQsIDksIDEpO1xuLy8gZml4ZWQgZGlzdGFuY2UgbWFwXG52YXIgZmRtID0gLyojX19QVVJFX18qLyBoTWFwKGZkdCwgNSwgMCksIGZkcm0gPSAvKiNfX1BVUkVfXyovIGhNYXAoZmR0LCA1LCAxKTtcbi8vIGZpbmQgbWF4IG9mIGFycmF5XG52YXIgbWF4ID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgbSA9IGFbMF07XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChhW2ldID4gbSlcbiAgICAgICAgICAgIG0gPSBhW2ldO1xuICAgIH1cbiAgICByZXR1cm4gbTtcbn07XG4vLyByZWFkIGQsIHN0YXJ0aW5nIGF0IGJpdCBwIGFuZCBtYXNrIHdpdGggbVxudmFyIGJpdHMgPSBmdW5jdGlvbiAoZCwgcCwgbSkge1xuICAgIHZhciBvID0gKHAgLyA4KSB8IDA7XG4gICAgcmV0dXJuICgoZFtvXSB8IChkW28gKyAxXSA8PCA4KSkgPj4gKHAgJiA3KSkgJiBtO1xufTtcbi8vIHJlYWQgZCwgc3RhcnRpbmcgYXQgYml0IHAgY29udGludWluZyBmb3IgYXQgbGVhc3QgMTYgYml0c1xudmFyIGJpdHMxNiA9IGZ1bmN0aW9uIChkLCBwKSB7XG4gICAgdmFyIG8gPSAocCAvIDgpIHwgMDtcbiAgICByZXR1cm4gKChkW29dIHwgKGRbbyArIDFdIDw8IDgpIHwgKGRbbyArIDJdIDw8IDE2KSkgPj4gKHAgJiA3KSk7XG59O1xuLy8gZ2V0IGVuZCBvZiBieXRlXG52YXIgc2hmdCA9IGZ1bmN0aW9uIChwKSB7IHJldHVybiAoKHAgKyA3KSAvIDgpIHwgMDsgfTtcbi8vIHR5cGVkIGFycmF5IHNsaWNlIC0gYWxsb3dzIGdhcmJhZ2UgY29sbGVjdG9yIHRvIGZyZWUgb3JpZ2luYWwgcmVmZXJlbmNlLFxuLy8gd2hpbGUgYmVpbmcgbW9yZSBjb21wYXRpYmxlIHRoYW4gLnNsaWNlXG52YXIgc2xjID0gZnVuY3Rpb24gKHYsIHMsIGUpIHtcbiAgICBpZiAocyA9PSBudWxsIHx8IHMgPCAwKVxuICAgICAgICBzID0gMDtcbiAgICBpZiAoZSA9PSBudWxsIHx8IGUgPiB2Lmxlbmd0aClcbiAgICAgICAgZSA9IHYubGVuZ3RoO1xuICAgIC8vIGNhbid0IHVzZSAuY29uc3RydWN0b3IgaW4gY2FzZSB1c2VyLXN1cHBsaWVkXG4gICAgcmV0dXJuIG5ldyB1OCh2LnN1YmFycmF5KHMsIGUpKTtcbn07XG4vKipcbiAqIENvZGVzIGZvciBlcnJvcnMgZ2VuZXJhdGVkIHdpdGhpbiB0aGlzIGxpYnJhcnlcbiAqL1xuZXhwb3J0IHZhciBGbGF0ZUVycm9yQ29kZSA9IHtcbiAgICBVbmV4cGVjdGVkRU9GOiAwLFxuICAgIEludmFsaWRCbG9ja1R5cGU6IDEsXG4gICAgSW52YWxpZExlbmd0aExpdGVyYWw6IDIsXG4gICAgSW52YWxpZERpc3RhbmNlOiAzLFxuICAgIFN0cmVhbUZpbmlzaGVkOiA0LFxuICAgIE5vU3RyZWFtSGFuZGxlcjogNSxcbiAgICBJbnZhbGlkSGVhZGVyOiA2LFxuICAgIE5vQ2FsbGJhY2s6IDcsXG4gICAgSW52YWxpZFVURjg6IDgsXG4gICAgRXh0cmFGaWVsZFRvb0xvbmc6IDksXG4gICAgSW52YWxpZERhdGU6IDEwLFxuICAgIEZpbGVuYW1lVG9vTG9uZzogMTEsXG4gICAgU3RyZWFtRmluaXNoaW5nOiAxMixcbiAgICBJbnZhbGlkWmlwRGF0YTogMTMsXG4gICAgVW5rbm93bkNvbXByZXNzaW9uTWV0aG9kOiAxNFxufTtcbi8vIGVycm9yIGNvZGVzXG52YXIgZWMgPSBbXG4gICAgJ3VuZXhwZWN0ZWQgRU9GJyxcbiAgICAnaW52YWxpZCBibG9jayB0eXBlJyxcbiAgICAnaW52YWxpZCBsZW5ndGgvbGl0ZXJhbCcsXG4gICAgJ2ludmFsaWQgZGlzdGFuY2UnLFxuICAgICdzdHJlYW0gZmluaXNoZWQnLFxuICAgICdubyBzdHJlYW0gaGFuZGxlcicsXG4gICAgLFxuICAgICdubyBjYWxsYmFjaycsXG4gICAgJ2ludmFsaWQgVVRGLTggZGF0YScsXG4gICAgJ2V4dHJhIGZpZWxkIHRvbyBsb25nJyxcbiAgICAnZGF0ZSBub3QgaW4gcmFuZ2UgMTk4MC0yMDk5JyxcbiAgICAnZmlsZW5hbWUgdG9vIGxvbmcnLFxuICAgICdzdHJlYW0gZmluaXNoaW5nJyxcbiAgICAnaW52YWxpZCB6aXAgZGF0YSdcbiAgICAvLyBkZXRlcm1pbmVkIGJ5IHVua25vd24gY29tcHJlc3Npb24gbWV0aG9kXG5dO1xuO1xudmFyIGVyciA9IGZ1bmN0aW9uIChpbmQsIG1zZywgbnQpIHtcbiAgICB2YXIgZSA9IG5ldyBFcnJvcihtc2cgfHwgZWNbaW5kXSk7XG4gICAgZS5jb2RlID0gaW5kO1xuICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSlcbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZSwgZXJyKTtcbiAgICBpZiAoIW50KVxuICAgICAgICB0aHJvdyBlO1xuICAgIHJldHVybiBlO1xufTtcbi8vIGV4cGFuZHMgcmF3IERFRkxBVEUgZGF0YVxudmFyIGluZmx0ID0gZnVuY3Rpb24gKGRhdCwgc3QsIGJ1ZiwgZGljdCkge1xuICAgIC8vIHNvdXJjZSBsZW5ndGggICAgICAgZGljdCBsZW5ndGhcbiAgICB2YXIgc2wgPSBkYXQubGVuZ3RoLCBkbCA9IGRpY3QgPyBkaWN0Lmxlbmd0aCA6IDA7XG4gICAgaWYgKCFzbCB8fCBzdC5mICYmICFzdC5sKVxuICAgICAgICByZXR1cm4gYnVmIHx8IG5ldyB1OCgwKTtcbiAgICB2YXIgbm9CdWYgPSAhYnVmO1xuICAgIC8vIGhhdmUgdG8gZXN0aW1hdGUgc2l6ZVxuICAgIHZhciByZXNpemUgPSBub0J1ZiB8fCBzdC5pICE9IDI7XG4gICAgLy8gbm8gc3RhdGVcbiAgICB2YXIgbm9TdCA9IHN0Lmk7XG4gICAgLy8gQXNzdW1lcyByb3VnaGx5IDMzJSBjb21wcmVzc2lvbiByYXRpbyBhdmVyYWdlXG4gICAgaWYgKG5vQnVmKVxuICAgICAgICBidWYgPSBuZXcgdTgoc2wgKiAzKTtcbiAgICAvLyBlbnN1cmUgYnVmZmVyIGNhbiBmaXQgYXQgbGVhc3QgbCBlbGVtZW50c1xuICAgIHZhciBjYnVmID0gZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgdmFyIGJsID0gYnVmLmxlbmd0aDtcbiAgICAgICAgLy8gbmVlZCB0byBpbmNyZWFzZSBzaXplIHRvIGZpdFxuICAgICAgICBpZiAobCA+IGJsKSB7XG4gICAgICAgICAgICAvLyBEb3VibGUgb3Igc2V0IHRvIG5lY2Vzc2FyeSwgd2hpY2hldmVyIGlzIGdyZWF0ZXJcbiAgICAgICAgICAgIHZhciBuYnVmID0gbmV3IHU4KE1hdGgubWF4KGJsICogMiwgbCkpO1xuICAgICAgICAgICAgbmJ1Zi5zZXQoYnVmKTtcbiAgICAgICAgICAgIGJ1ZiA9IG5idWY7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vICBsYXN0IGNodW5rICAgICAgICAgYml0cG9zICAgICAgICAgICBieXRlc1xuICAgIHZhciBmaW5hbCA9IHN0LmYgfHwgMCwgcG9zID0gc3QucCB8fCAwLCBidCA9IHN0LmIgfHwgMCwgbG0gPSBzdC5sLCBkbSA9IHN0LmQsIGxidCA9IHN0Lm0sIGRidCA9IHN0Lm47XG4gICAgLy8gdG90YWwgYml0c1xuICAgIHZhciB0YnRzID0gc2wgKiA4O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKCFsbSkge1xuICAgICAgICAgICAgLy8gQkZJTkFMIC0gdGhpcyBpcyBvbmx5IDEgd2hlbiBsYXN0IGNodW5rIGlzIG5leHRcbiAgICAgICAgICAgIGZpbmFsID0gYml0cyhkYXQsIHBvcywgMSk7XG4gICAgICAgICAgICAvLyB0eXBlOiAwID0gbm8gY29tcHJlc3Npb24sIDEgPSBmaXhlZCBodWZmbWFuLCAyID0gZHluYW1pYyBodWZmbWFuXG4gICAgICAgICAgICB2YXIgdHlwZSA9IGJpdHMoZGF0LCBwb3MgKyAxLCAzKTtcbiAgICAgICAgICAgIHBvcyArPSAzO1xuICAgICAgICAgICAgaWYgKCF0eXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gZ28gdG8gZW5kIG9mIGJ5dGUgYm91bmRhcnlcbiAgICAgICAgICAgICAgICB2YXIgcyA9IHNoZnQocG9zKSArIDQsIGwgPSBkYXRbcyAtIDRdIHwgKGRhdFtzIC0gM10gPDwgOCksIHQgPSBzICsgbDtcbiAgICAgICAgICAgICAgICBpZiAodCA+IHNsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub1N0KVxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyKDApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZW5zdXJlIHNpemVcbiAgICAgICAgICAgICAgICBpZiAocmVzaXplKVxuICAgICAgICAgICAgICAgICAgICBjYnVmKGJ0ICsgbCk7XG4gICAgICAgICAgICAgICAgLy8gQ29weSBvdmVyIHVuY29tcHJlc3NlZCBkYXRhXG4gICAgICAgICAgICAgICAgYnVmLnNldChkYXQuc3ViYXJyYXkocywgdCksIGJ0KTtcbiAgICAgICAgICAgICAgICAvLyBHZXQgbmV3IGJpdHBvcywgdXBkYXRlIGJ5dGUgY291bnRcbiAgICAgICAgICAgICAgICBzdC5iID0gYnQgKz0gbCwgc3QucCA9IHBvcyA9IHQgKiA4LCBzdC5mID0gZmluYWw7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IDEpXG4gICAgICAgICAgICAgICAgbG0gPSBmbHJtLCBkbSA9IGZkcm0sIGxidCA9IDksIGRidCA9IDU7XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IDIpIHtcbiAgICAgICAgICAgICAgICAvLyAgbGl0ZXJhbCAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGhzXG4gICAgICAgICAgICAgICAgdmFyIGhMaXQgPSBiaXRzKGRhdCwgcG9zLCAzMSkgKyAyNTcsIGhjTGVuID0gYml0cyhkYXQsIHBvcyArIDEwLCAxNSkgKyA0O1xuICAgICAgICAgICAgICAgIHZhciB0bCA9IGhMaXQgKyBiaXRzKGRhdCwgcG9zICsgNSwgMzEpICsgMTtcbiAgICAgICAgICAgICAgICBwb3MgKz0gMTQ7XG4gICAgICAgICAgICAgICAgLy8gbGVuZ3RoK2Rpc3RhbmNlIHRyZWVcbiAgICAgICAgICAgICAgICB2YXIgbGR0ID0gbmV3IHU4KHRsKTtcbiAgICAgICAgICAgICAgICAvLyBjb2RlIGxlbmd0aCB0cmVlXG4gICAgICAgICAgICAgICAgdmFyIGNsdCA9IG5ldyB1OCgxOSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoY0xlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVzZSBpbmRleCBtYXAgdG8gZ2V0IHJlYWwgY29kZVxuICAgICAgICAgICAgICAgICAgICBjbHRbY2xpbVtpXV0gPSBiaXRzKGRhdCwgcG9zICsgaSAqIDMsIDcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwb3MgKz0gaGNMZW4gKiAzO1xuICAgICAgICAgICAgICAgIC8vIGNvZGUgbGVuZ3RocyBiaXRzXG4gICAgICAgICAgICAgICAgdmFyIGNsYiA9IG1heChjbHQpLCBjbGJtc2sgPSAoMSA8PCBjbGIpIC0gMTtcbiAgICAgICAgICAgICAgICAvLyBjb2RlIGxlbmd0aHMgbWFwXG4gICAgICAgICAgICAgICAgdmFyIGNsbSA9IGhNYXAoY2x0LCBjbGIsIDEpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGw7KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByID0gY2xtW2JpdHMoZGF0LCBwb3MsIGNsYm1zayldO1xuICAgICAgICAgICAgICAgICAgICAvLyBiaXRzIHJlYWRcbiAgICAgICAgICAgICAgICAgICAgcG9zICs9IHIgJiAxNTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3ltYm9sXG4gICAgICAgICAgICAgICAgICAgIHZhciBzID0gciA+PiA0O1xuICAgICAgICAgICAgICAgICAgICAvLyBjb2RlIGxlbmd0aCB0byBjb3B5XG4gICAgICAgICAgICAgICAgICAgIGlmIChzIDwgMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxkdFtpKytdID0gcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICBjb3B5ICAgY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gMCwgbiA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocyA9PSAxNilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuID0gMyArIGJpdHMoZGF0LCBwb3MsIDMpLCBwb3MgKz0gMiwgYyA9IGxkdFtpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzID09IDE3KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSAzICsgYml0cyhkYXQsIHBvcywgNyksIHBvcyArPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocyA9PSAxOClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuID0gMTEgKyBiaXRzKGRhdCwgcG9zLCAxMjcpLCBwb3MgKz0gNztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuLS0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGR0W2krK10gPSBjO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICAgIGxlbmd0aCB0cmVlICAgICAgICAgICAgICAgICBkaXN0YW5jZSB0cmVlXG4gICAgICAgICAgICAgICAgdmFyIGx0ID0gbGR0LnN1YmFycmF5KDAsIGhMaXQpLCBkdCA9IGxkdC5zdWJhcnJheShoTGl0KTtcbiAgICAgICAgICAgICAgICAvLyBtYXggbGVuZ3RoIGJpdHNcbiAgICAgICAgICAgICAgICBsYnQgPSBtYXgobHQpO1xuICAgICAgICAgICAgICAgIC8vIG1heCBkaXN0IGJpdHNcbiAgICAgICAgICAgICAgICBkYnQgPSBtYXgoZHQpO1xuICAgICAgICAgICAgICAgIGxtID0gaE1hcChsdCwgbGJ0LCAxKTtcbiAgICAgICAgICAgICAgICBkbSA9IGhNYXAoZHQsIGRidCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZXJyKDEpO1xuICAgICAgICAgICAgaWYgKHBvcyA+IHRidHMpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9TdClcbiAgICAgICAgICAgICAgICAgICAgZXJyKDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgYnVmZmVyIGNhbiBob2xkIHRoaXMgKyB0aGUgbGFyZ2VzdCBwb3NzaWJsZSBhZGRpdGlvblxuICAgICAgICAvLyBNYXhpbXVtIGNodW5rIHNpemUgKHByYWN0aWNhbGx5LCB0aGVvcmV0aWNhbGx5IGluZmluaXRlKSBpcyAyXjE3XG4gICAgICAgIGlmIChyZXNpemUpXG4gICAgICAgICAgICBjYnVmKGJ0ICsgMTMxMDcyKTtcbiAgICAgICAgdmFyIGxtcyA9ICgxIDw8IGxidCkgLSAxLCBkbXMgPSAoMSA8PCBkYnQpIC0gMTtcbiAgICAgICAgdmFyIGxwb3MgPSBwb3M7XG4gICAgICAgIGZvciAoOzsgbHBvcyA9IHBvcykge1xuICAgICAgICAgICAgLy8gYml0cyByZWFkLCBjb2RlXG4gICAgICAgICAgICB2YXIgYyA9IGxtW2JpdHMxNihkYXQsIHBvcykgJiBsbXNdLCBzeW0gPSBjID4+IDQ7XG4gICAgICAgICAgICBwb3MgKz0gYyAmIDE1O1xuICAgICAgICAgICAgaWYgKHBvcyA+IHRidHMpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9TdClcbiAgICAgICAgICAgICAgICAgICAgZXJyKDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjKVxuICAgICAgICAgICAgICAgIGVycigyKTtcbiAgICAgICAgICAgIGlmIChzeW0gPCAyNTYpXG4gICAgICAgICAgICAgICAgYnVmW2J0KytdID0gc3ltO1xuICAgICAgICAgICAgZWxzZSBpZiAoc3ltID09IDI1Nikge1xuICAgICAgICAgICAgICAgIGxwb3MgPSBwb3MsIGxtID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBhZGQgPSBzeW0gLSAyNTQ7XG4gICAgICAgICAgICAgICAgLy8gbm8gZXh0cmEgYml0cyBuZWVkZWQgaWYgbGVzc1xuICAgICAgICAgICAgICAgIGlmIChzeW0gPiAyNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBzeW0gLSAyNTcsIGIgPSBmbGViW2ldO1xuICAgICAgICAgICAgICAgICAgICBhZGQgPSBiaXRzKGRhdCwgcG9zLCAoMSA8PCBiKSAtIDEpICsgZmxbaV07XG4gICAgICAgICAgICAgICAgICAgIHBvcyArPSBiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkaXN0XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBkbVtiaXRzMTYoZGF0LCBwb3MpICYgZG1zXSwgZHN5bSA9IGQgPj4gNDtcbiAgICAgICAgICAgICAgICBpZiAoIWQpXG4gICAgICAgICAgICAgICAgICAgIGVycigzKTtcbiAgICAgICAgICAgICAgICBwb3MgKz0gZCAmIDE1O1xuICAgICAgICAgICAgICAgIHZhciBkdCA9IGZkW2RzeW1dO1xuICAgICAgICAgICAgICAgIGlmIChkc3ltID4gMykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IGZkZWJbZHN5bV07XG4gICAgICAgICAgICAgICAgICAgIGR0ICs9IGJpdHMxNihkYXQsIHBvcykgJiAoMSA8PCBiKSAtIDEsIHBvcyArPSBiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocG9zID4gdGJ0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9TdClcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycigwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXNpemUpXG4gICAgICAgICAgICAgICAgICAgIGNidWYoYnQgKyAxMzEwNzIpO1xuICAgICAgICAgICAgICAgIHZhciBlbmQgPSBidCArIGFkZDtcbiAgICAgICAgICAgICAgICBpZiAoYnQgPCBkdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2hpZnQgPSBkbCAtIGR0LCBkZW5kID0gTWF0aC5taW4oZHQsIGVuZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaGlmdCArIGJ0IDwgMClcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycigzKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGJ0IDwgZGVuZDsgKytidClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZltidF0gPSBkaWN0W3NoaWZ0ICsgYnRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKDsgYnQgPCBlbmQ7ICsrYnQpXG4gICAgICAgICAgICAgICAgICAgIGJ1ZltidF0gPSBidWZbYnQgLSBkdF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3QubCA9IGxtLCBzdC5wID0gbHBvcywgc3QuYiA9IGJ0LCBzdC5mID0gZmluYWw7XG4gICAgICAgIGlmIChsbSlcbiAgICAgICAgICAgIGZpbmFsID0gMSwgc3QubSA9IGxidCwgc3QuZCA9IGRtLCBzdC5uID0gZGJ0O1xuICAgIH0gd2hpbGUgKCFmaW5hbCk7XG4gICAgLy8gZG9uJ3QgcmVhbGxvY2F0ZSBmb3Igc3RyZWFtcyBvciB1c2VyIGJ1ZmZlcnNcbiAgICByZXR1cm4gYnQgIT0gYnVmLmxlbmd0aCAmJiBub0J1ZiA/IHNsYyhidWYsIDAsIGJ0KSA6IGJ1Zi5zdWJhcnJheSgwLCBidCk7XG59O1xuLy8gc3RhcnRpbmcgYXQgcCwgd3JpdGUgdGhlIG1pbmltdW0gbnVtYmVyIG9mIGJpdHMgdGhhdCBjYW4gaG9sZCB2IHRvIGRcbnZhciB3Yml0cyA9IGZ1bmN0aW9uIChkLCBwLCB2KSB7XG4gICAgdiA8PD0gcCAmIDc7XG4gICAgdmFyIG8gPSAocCAvIDgpIHwgMDtcbiAgICBkW29dIHw9IHY7XG4gICAgZFtvICsgMV0gfD0gdiA+PiA4O1xufTtcbi8vIHN0YXJ0aW5nIGF0IHAsIHdyaXRlIHRoZSBtaW5pbXVtIG51bWJlciBvZiBiaXRzICg+OCkgdGhhdCBjYW4gaG9sZCB2IHRvIGRcbnZhciB3Yml0czE2ID0gZnVuY3Rpb24gKGQsIHAsIHYpIHtcbiAgICB2IDw8PSBwICYgNztcbiAgICB2YXIgbyA9IChwIC8gOCkgfCAwO1xuICAgIGRbb10gfD0gdjtcbiAgICBkW28gKyAxXSB8PSB2ID4+IDg7XG4gICAgZFtvICsgMl0gfD0gdiA+PiAxNjtcbn07XG4vLyBjcmVhdGVzIGNvZGUgbGVuZ3RocyBmcm9tIGEgZnJlcXVlbmN5IHRhYmxlXG52YXIgaFRyZWUgPSBmdW5jdGlvbiAoZCwgbWIpIHtcbiAgICAvLyBOZWVkIGV4dHJhIGluZm8gdG8gbWFrZSBhIHRyZWVcbiAgICB2YXIgdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZC5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoZFtpXSlcbiAgICAgICAgICAgIHQucHVzaCh7IHM6IGksIGY6IGRbaV0gfSk7XG4gICAgfVxuICAgIHZhciBzID0gdC5sZW5ndGg7XG4gICAgdmFyIHQyID0gdC5zbGljZSgpO1xuICAgIGlmICghcylcbiAgICAgICAgcmV0dXJuIHsgdDogZXQsIGw6IDAgfTtcbiAgICBpZiAocyA9PSAxKSB7XG4gICAgICAgIHZhciB2ID0gbmV3IHU4KHRbMF0ucyArIDEpO1xuICAgICAgICB2W3RbMF0uc10gPSAxO1xuICAgICAgICByZXR1cm4geyB0OiB2LCBsOiAxIH07XG4gICAgfVxuICAgIHQuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5mIC0gYi5mOyB9KTtcbiAgICAvLyBhZnRlciBpMiByZWFjaGVzIGxhc3QgaW5kLCB3aWxsIGJlIHN0b3BwZWRcbiAgICAvLyBmcmVxIG11c3QgYmUgZ3JlYXRlciB0aGFuIGxhcmdlc3QgcG9zc2libGUgbnVtYmVyIG9mIHN5bWJvbHNcbiAgICB0LnB1c2goeyBzOiAtMSwgZjogMjUwMDEgfSk7XG4gICAgdmFyIGwgPSB0WzBdLCByID0gdFsxXSwgaTAgPSAwLCBpMSA9IDEsIGkyID0gMjtcbiAgICB0WzBdID0geyBzOiAtMSwgZjogbC5mICsgci5mLCBsOiBsLCByOiByIH07XG4gICAgLy8gZWZmaWNpZW50IGFsZ29yaXRobSBmcm9tIFVaSVAuanNcbiAgICAvLyBpMCBpcyBsb29rYmVoaW5kLCBpMiBpcyBsb29rYWhlYWQgLSBhZnRlciBwcm9jZXNzaW5nIHR3byBsb3ctZnJlcVxuICAgIC8vIHN5bWJvbHMgdGhhdCBjb21iaW5lZCBoYXZlIGhpZ2ggZnJlcSwgd2lsbCBzdGFydCBwcm9jZXNzaW5nIGkyIChoaWdoLWZyZXEsXG4gICAgLy8gbm9uLWNvbXBvc2l0ZSkgc3ltYm9scyBpbnN0ZWFkXG4gICAgLy8gc2VlIGh0dHBzOi8vcmVkZGl0LmNvbS9yL3Bob3RvcGVhL2NvbW1lbnRzL2lrZWtodC91emlwanNfcXVlc3Rpb25zL1xuICAgIHdoaWxlIChpMSAhPSBzIC0gMSkge1xuICAgICAgICBsID0gdFt0W2kwXS5mIDwgdFtpMl0uZiA/IGkwKysgOiBpMisrXTtcbiAgICAgICAgciA9IHRbaTAgIT0gaTEgJiYgdFtpMF0uZiA8IHRbaTJdLmYgPyBpMCsrIDogaTIrK107XG4gICAgICAgIHRbaTErK10gPSB7IHM6IC0xLCBmOiBsLmYgKyByLmYsIGw6IGwsIHI6IHIgfTtcbiAgICB9XG4gICAgdmFyIG1heFN5bSA9IHQyWzBdLnM7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBzOyArK2kpIHtcbiAgICAgICAgaWYgKHQyW2ldLnMgPiBtYXhTeW0pXG4gICAgICAgICAgICBtYXhTeW0gPSB0MltpXS5zO1xuICAgIH1cbiAgICAvLyBjb2RlIGxlbmd0aHNcbiAgICB2YXIgdHIgPSBuZXcgdTE2KG1heFN5bSArIDEpO1xuICAgIC8vIG1heCBiaXRzIGluIHRyZWVcbiAgICB2YXIgbWJ0ID0gbG4odFtpMSAtIDFdLCB0ciwgMCk7XG4gICAgaWYgKG1idCA+IG1iKSB7XG4gICAgICAgIC8vIG1vcmUgYWxnb3JpdGhtcyBmcm9tIFVaSVAuanNcbiAgICAgICAgLy8gVE9ETzogZmluZCBvdXQgaG93IHRoaXMgY29kZSB3b3JrcyAoZGVidClcbiAgICAgICAgLy8gIGluZCAgICBkZWJ0XG4gICAgICAgIHZhciBpID0gMCwgZHQgPSAwO1xuICAgICAgICAvLyAgICBsZWZ0ICAgICAgICAgICAgY29zdFxuICAgICAgICB2YXIgbGZ0ID0gbWJ0IC0gbWIsIGNzdCA9IDEgPDwgbGZ0O1xuICAgICAgICB0Mi5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiB0cltiLnNdIC0gdHJbYS5zXSB8fCBhLmYgLSBiLmY7IH0pO1xuICAgICAgICBmb3IgKDsgaSA8IHM7ICsraSkge1xuICAgICAgICAgICAgdmFyIGkyXzEgPSB0MltpXS5zO1xuICAgICAgICAgICAgaWYgKHRyW2kyXzFdID4gbWIpIHtcbiAgICAgICAgICAgICAgICBkdCArPSBjc3QgLSAoMSA8PCAobWJ0IC0gdHJbaTJfMV0pKTtcbiAgICAgICAgICAgICAgICB0cltpMl8xXSA9IG1iO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGR0ID4+PSBsZnQ7XG4gICAgICAgIHdoaWxlIChkdCA+IDApIHtcbiAgICAgICAgICAgIHZhciBpMl8yID0gdDJbaV0ucztcbiAgICAgICAgICAgIGlmICh0cltpMl8yXSA8IG1iKVxuICAgICAgICAgICAgICAgIGR0IC09IDEgPDwgKG1iIC0gdHJbaTJfMl0rKyAtIDEpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKDsgaSA+PSAwICYmIGR0OyAtLWkpIHtcbiAgICAgICAgICAgIHZhciBpMl8zID0gdDJbaV0ucztcbiAgICAgICAgICAgIGlmICh0cltpMl8zXSA9PSBtYikge1xuICAgICAgICAgICAgICAgIC0tdHJbaTJfM107XG4gICAgICAgICAgICAgICAgKytkdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtYnQgPSBtYjtcbiAgICB9XG4gICAgcmV0dXJuIHsgdDogbmV3IHU4KHRyKSwgbDogbWJ0IH07XG59O1xuLy8gZ2V0IHRoZSBtYXggbGVuZ3RoIGFuZCBhc3NpZ24gbGVuZ3RoIGNvZGVzXG52YXIgbG4gPSBmdW5jdGlvbiAobiwgbCwgZCkge1xuICAgIHJldHVybiBuLnMgPT0gLTFcbiAgICAgICAgPyBNYXRoLm1heChsbihuLmwsIGwsIGQgKyAxKSwgbG4obi5yLCBsLCBkICsgMSkpXG4gICAgICAgIDogKGxbbi5zXSA9IGQpO1xufTtcbi8vIGxlbmd0aCBjb2RlcyBnZW5lcmF0aW9uXG52YXIgbGMgPSBmdW5jdGlvbiAoYykge1xuICAgIHZhciBzID0gYy5sZW5ndGg7XG4gICAgLy8gTm90ZSB0aGF0IHRoZSBzZW1pY29sb24gd2FzIGludGVudGlvbmFsXG4gICAgd2hpbGUgKHMgJiYgIWNbLS1zXSlcbiAgICAgICAgO1xuICAgIHZhciBjbCA9IG5ldyB1MTYoKytzKTtcbiAgICAvLyAgaW5kICAgICAgbnVtICAgICAgICAgc3RyZWFrXG4gICAgdmFyIGNsaSA9IDAsIGNsbiA9IGNbMF0sIGNscyA9IDE7XG4gICAgdmFyIHcgPSBmdW5jdGlvbiAodikgeyBjbFtjbGkrK10gPSB2OyB9O1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IHM7ICsraSkge1xuICAgICAgICBpZiAoY1tpXSA9PSBjbG4gJiYgaSAhPSBzKVxuICAgICAgICAgICAgKytjbHM7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFjbG4gJiYgY2xzID4gMikge1xuICAgICAgICAgICAgICAgIGZvciAoOyBjbHMgPiAxMzg7IGNscyAtPSAxMzgpXG4gICAgICAgICAgICAgICAgICAgIHcoMzI3NTQpO1xuICAgICAgICAgICAgICAgIGlmIChjbHMgPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHcoY2xzID4gMTAgPyAoKGNscyAtIDExKSA8PCA1KSB8IDI4NjkwIDogKChjbHMgLSAzKSA8PCA1KSB8IDEyMzA1KTtcbiAgICAgICAgICAgICAgICAgICAgY2xzID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjbHMgPiAzKSB7XG4gICAgICAgICAgICAgICAgdyhjbG4pLCAtLWNscztcbiAgICAgICAgICAgICAgICBmb3IgKDsgY2xzID4gNjsgY2xzIC09IDYpXG4gICAgICAgICAgICAgICAgICAgIHcoODMwNCk7XG4gICAgICAgICAgICAgICAgaWYgKGNscyA+IDIpXG4gICAgICAgICAgICAgICAgICAgIHcoKChjbHMgLSAzKSA8PCA1KSB8IDgyMDgpLCBjbHMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGNscy0tKVxuICAgICAgICAgICAgICAgIHcoY2xuKTtcbiAgICAgICAgICAgIGNscyA9IDE7XG4gICAgICAgICAgICBjbG4gPSBjW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGM6IGNsLnN1YmFycmF5KDAsIGNsaSksIG46IHMgfTtcbn07XG4vLyBjYWxjdWxhdGUgdGhlIGxlbmd0aCBvZiBvdXRwdXQgZnJvbSB0cmVlLCBjb2RlIGxlbmd0aHNcbnZhciBjbGVuID0gZnVuY3Rpb24gKGNmLCBjbCkge1xuICAgIHZhciBsID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsLmxlbmd0aDsgKytpKVxuICAgICAgICBsICs9IGNmW2ldICogY2xbaV07XG4gICAgcmV0dXJuIGw7XG59O1xuLy8gd3JpdGVzIGEgZml4ZWQgYmxvY2tcbi8vIHJldHVybnMgdGhlIG5ldyBiaXQgcG9zXG52YXIgd2ZibGsgPSBmdW5jdGlvbiAob3V0LCBwb3MsIGRhdCkge1xuICAgIC8vIG5vIG5lZWQgdG8gd3JpdGUgMDAgYXMgdHlwZTogVHlwZWRBcnJheSBkZWZhdWx0cyB0byAwXG4gICAgdmFyIHMgPSBkYXQubGVuZ3RoO1xuICAgIHZhciBvID0gc2hmdChwb3MgKyAyKTtcbiAgICBvdXRbb10gPSBzICYgMjU1O1xuICAgIG91dFtvICsgMV0gPSBzID4+IDg7XG4gICAgb3V0W28gKyAyXSA9IG91dFtvXSBeIDI1NTtcbiAgICBvdXRbbyArIDNdID0gb3V0W28gKyAxXSBeIDI1NTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHM7ICsraSlcbiAgICAgICAgb3V0W28gKyBpICsgNF0gPSBkYXRbaV07XG4gICAgcmV0dXJuIChvICsgNCArIHMpICogODtcbn07XG4vLyB3cml0ZXMgYSBibG9ja1xudmFyIHdibGsgPSBmdW5jdGlvbiAoZGF0LCBvdXQsIGZpbmFsLCBzeW1zLCBsZiwgZGYsIGViLCBsaSwgYnMsIGJsLCBwKSB7XG4gICAgd2JpdHMob3V0LCBwKyssIGZpbmFsKTtcbiAgICArK2xmWzI1Nl07XG4gICAgdmFyIF9hID0gaFRyZWUobGYsIDE1KSwgZGx0ID0gX2EudCwgbWxiID0gX2EubDtcbiAgICB2YXIgX2IgPSBoVHJlZShkZiwgMTUpLCBkZHQgPSBfYi50LCBtZGIgPSBfYi5sO1xuICAgIHZhciBfYyA9IGxjKGRsdCksIGxjbHQgPSBfYy5jLCBubGMgPSBfYy5uO1xuICAgIHZhciBfZCA9IGxjKGRkdCksIGxjZHQgPSBfZC5jLCBuZGMgPSBfZC5uO1xuICAgIHZhciBsY2ZyZXEgPSBuZXcgdTE2KDE5KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxjbHQubGVuZ3RoOyArK2kpXG4gICAgICAgICsrbGNmcmVxW2xjbHRbaV0gJiAzMV07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsY2R0Lmxlbmd0aDsgKytpKVxuICAgICAgICArK2xjZnJlcVtsY2R0W2ldICYgMzFdO1xuICAgIHZhciBfZSA9IGhUcmVlKGxjZnJlcSwgNyksIGxjdCA9IF9lLnQsIG1sY2IgPSBfZS5sO1xuICAgIHZhciBubGNjID0gMTk7XG4gICAgZm9yICg7IG5sY2MgPiA0ICYmICFsY3RbY2xpbVtubGNjIC0gMV1dOyAtLW5sY2MpXG4gICAgICAgIDtcbiAgICB2YXIgZmxlbiA9IChibCArIDUpIDw8IDM7XG4gICAgdmFyIGZ0bGVuID0gY2xlbihsZiwgZmx0KSArIGNsZW4oZGYsIGZkdCkgKyBlYjtcbiAgICB2YXIgZHRsZW4gPSBjbGVuKGxmLCBkbHQpICsgY2xlbihkZiwgZGR0KSArIGViICsgMTQgKyAzICogbmxjYyArIGNsZW4obGNmcmVxLCBsY3QpICsgMiAqIGxjZnJlcVsxNl0gKyAzICogbGNmcmVxWzE3XSArIDcgKiBsY2ZyZXFbMThdO1xuICAgIGlmIChicyA+PSAwICYmIGZsZW4gPD0gZnRsZW4gJiYgZmxlbiA8PSBkdGxlbilcbiAgICAgICAgcmV0dXJuIHdmYmxrKG91dCwgcCwgZGF0LnN1YmFycmF5KGJzLCBicyArIGJsKSk7XG4gICAgdmFyIGxtLCBsbCwgZG0sIGRsO1xuICAgIHdiaXRzKG91dCwgcCwgMSArIChkdGxlbiA8IGZ0bGVuKSksIHAgKz0gMjtcbiAgICBpZiAoZHRsZW4gPCBmdGxlbikge1xuICAgICAgICBsbSA9IGhNYXAoZGx0LCBtbGIsIDApLCBsbCA9IGRsdCwgZG0gPSBoTWFwKGRkdCwgbWRiLCAwKSwgZGwgPSBkZHQ7XG4gICAgICAgIHZhciBsbG0gPSBoTWFwKGxjdCwgbWxjYiwgMCk7XG4gICAgICAgIHdiaXRzKG91dCwgcCwgbmxjIC0gMjU3KTtcbiAgICAgICAgd2JpdHMob3V0LCBwICsgNSwgbmRjIC0gMSk7XG4gICAgICAgIHdiaXRzKG91dCwgcCArIDEwLCBubGNjIC0gNCk7XG4gICAgICAgIHAgKz0gMTQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmxjYzsgKytpKVxuICAgICAgICAgICAgd2JpdHMob3V0LCBwICsgMyAqIGksIGxjdFtjbGltW2ldXSk7XG4gICAgICAgIHAgKz0gMyAqIG5sY2M7XG4gICAgICAgIHZhciBsY3RzID0gW2xjbHQsIGxjZHRdO1xuICAgICAgICBmb3IgKHZhciBpdCA9IDA7IGl0IDwgMjsgKytpdCkge1xuICAgICAgICAgICAgdmFyIGNsY3QgPSBsY3RzW2l0XTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xjdC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBsZW4gPSBjbGN0W2ldICYgMzE7XG4gICAgICAgICAgICAgICAgd2JpdHMob3V0LCBwLCBsbG1bbGVuXSksIHAgKz0gbGN0W2xlbl07XG4gICAgICAgICAgICAgICAgaWYgKGxlbiA+IDE1KVxuICAgICAgICAgICAgICAgICAgICB3Yml0cyhvdXQsIHAsIChjbGN0W2ldID4+IDUpICYgMTI3KSwgcCArPSBjbGN0W2ldID4+IDEyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsbSA9IGZsbSwgbGwgPSBmbHQsIGRtID0gZmRtLCBkbCA9IGZkdDtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaTsgKytpKSB7XG4gICAgICAgIHZhciBzeW0gPSBzeW1zW2ldO1xuICAgICAgICBpZiAoc3ltID4gMjU1KSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gKHN5bSA+PiAxOCkgJiAzMTtcbiAgICAgICAgICAgIHdiaXRzMTYob3V0LCBwLCBsbVtsZW4gKyAyNTddKSwgcCArPSBsbFtsZW4gKyAyNTddO1xuICAgICAgICAgICAgaWYgKGxlbiA+IDcpXG4gICAgICAgICAgICAgICAgd2JpdHMob3V0LCBwLCAoc3ltID4+IDIzKSAmIDMxKSwgcCArPSBmbGViW2xlbl07XG4gICAgICAgICAgICB2YXIgZHN0ID0gc3ltICYgMzE7XG4gICAgICAgICAgICB3Yml0czE2KG91dCwgcCwgZG1bZHN0XSksIHAgKz0gZGxbZHN0XTtcbiAgICAgICAgICAgIGlmIChkc3QgPiAzKVxuICAgICAgICAgICAgICAgIHdiaXRzMTYob3V0LCBwLCAoc3ltID4+IDUpICYgODE5MSksIHAgKz0gZmRlYltkc3RdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2JpdHMxNihvdXQsIHAsIGxtW3N5bV0pLCBwICs9IGxsW3N5bV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2JpdHMxNihvdXQsIHAsIGxtWzI1Nl0pO1xuICAgIHJldHVybiBwICsgbGxbMjU2XTtcbn07XG4vLyBkZWZsYXRlIG9wdGlvbnMgKG5pY2UgPDwgMTMpIHwgY2hhaW5cbnZhciBkZW8gPSAvKiNfX1BVUkVfXyovIG5ldyBpMzIoWzY1NTQwLCAxMzEwODAsIDEzMTA4OCwgMTMxMTA0LCAyNjIxNzYsIDEwNDg3MDQsIDEwNDg4MzIsIDIxMTQ1NjAsIDIxMTc2MzJdKTtcbi8vIGVtcHR5XG52YXIgZXQgPSAvKiNfX1BVUkVfXyovIG5ldyB1OCgwKTtcbi8vIGNvbXByZXNzZXMgZGF0YSBpbnRvIGEgcmF3IERFRkxBVEUgYnVmZmVyXG52YXIgZGZsdCA9IGZ1bmN0aW9uIChkYXQsIGx2bCwgcGx2bCwgcHJlLCBwb3N0LCBzdCkge1xuICAgIHZhciBzID0gc3QueiB8fCBkYXQubGVuZ3RoO1xuICAgIHZhciBvID0gbmV3IHU4KHByZSArIHMgKyA1ICogKDEgKyBNYXRoLmNlaWwocyAvIDcwMDApKSArIHBvc3QpO1xuICAgIC8vIHdyaXRpbmcgdG8gdGhpcyB3cml0ZXMgdG8gdGhlIG91dHB1dCBidWZmZXJcbiAgICB2YXIgdyA9IG8uc3ViYXJyYXkocHJlLCBvLmxlbmd0aCAtIHBvc3QpO1xuICAgIHZhciBsc3QgPSBzdC5sO1xuICAgIHZhciBwb3MgPSAoc3QuciB8fCAwKSAmIDc7XG4gICAgaWYgKGx2bCkge1xuICAgICAgICBpZiAocG9zKVxuICAgICAgICAgICAgd1swXSA9IHN0LnIgPj4gMztcbiAgICAgICAgdmFyIG9wdCA9IGRlb1tsdmwgLSAxXTtcbiAgICAgICAgdmFyIG4gPSBvcHQgPj4gMTMsIGMgPSBvcHQgJiA4MTkxO1xuICAgICAgICB2YXIgbXNrXzEgPSAoMSA8PCBwbHZsKSAtIDE7XG4gICAgICAgIC8vICAgIHByZXYgMi1ieXRlIHZhbCBtYXAgICAgY3VyciAyLWJ5dGUgdmFsIG1hcFxuICAgICAgICB2YXIgcHJldiA9IHN0LnAgfHwgbmV3IHUxNigzMjc2OCksIGhlYWQgPSBzdC5oIHx8IG5ldyB1MTYobXNrXzEgKyAxKTtcbiAgICAgICAgdmFyIGJzMV8xID0gTWF0aC5jZWlsKHBsdmwgLyAzKSwgYnMyXzEgPSAyICogYnMxXzE7XG4gICAgICAgIHZhciBoc2ggPSBmdW5jdGlvbiAoaSkgeyByZXR1cm4gKGRhdFtpXSBeIChkYXRbaSArIDFdIDw8IGJzMV8xKSBeIChkYXRbaSArIDJdIDw8IGJzMl8xKSkgJiBtc2tfMTsgfTtcbiAgICAgICAgLy8gMjQ1NzYgaXMgYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBtYXhpbXVtIHN5bWJvbHMgcGVyIGJsb2NrXG4gICAgICAgIC8vIDQyNCBidWZmZXIgZm9yIGxhc3QgYmxvY2tcbiAgICAgICAgdmFyIHN5bXMgPSBuZXcgaTMyKDI1MDAwKTtcbiAgICAgICAgLy8gbGVuZ3RoL2xpdGVyYWwgZnJlcSAgIGRpc3RhbmNlIGZyZXFcbiAgICAgICAgdmFyIGxmID0gbmV3IHUxNigyODgpLCBkZiA9IG5ldyB1MTYoMzIpO1xuICAgICAgICAvLyAgbC9sY250ICBleGJpdHMgIGluZGV4ICAgICAgICAgIGwvbGluZCAgd2FpdGR4ICAgICAgICAgIGJsa3Bvc1xuICAgICAgICB2YXIgbGNfMSA9IDAsIGViID0gMCwgaSA9IHN0LmkgfHwgMCwgbGkgPSAwLCB3aSA9IHN0LncgfHwgMCwgYnMgPSAwO1xuICAgICAgICBmb3IgKDsgaSArIDIgPCBzOyArK2kpIHtcbiAgICAgICAgICAgIC8vIGhhc2ggdmFsdWVcbiAgICAgICAgICAgIHZhciBodiA9IGhzaChpKTtcbiAgICAgICAgICAgIC8vIGluZGV4IG1vZCAzMjc2OCAgICBwcmV2aW91cyBpbmRleCBtb2RcbiAgICAgICAgICAgIHZhciBpbW9kID0gaSAmIDMyNzY3LCBwaW1vZCA9IGhlYWRbaHZdO1xuICAgICAgICAgICAgcHJldltpbW9kXSA9IHBpbW9kO1xuICAgICAgICAgICAgaGVhZFtodl0gPSBpbW9kO1xuICAgICAgICAgICAgLy8gV2UgYWx3YXlzIHNob3VsZCBtb2RpZnkgaGVhZCBhbmQgcHJldiwgYnV0IG9ubHkgYWRkIHN5bWJvbHMgaWZcbiAgICAgICAgICAgIC8vIHRoaXMgZGF0YSBpcyBub3QgeWV0IHByb2Nlc3NlZCAoXCJ3YWl0XCIgZm9yIHdhaXQgaW5kZXgpXG4gICAgICAgICAgICBpZiAod2kgPD0gaSkge1xuICAgICAgICAgICAgICAgIC8vIGJ5dGVzIHJlbWFpbmluZ1xuICAgICAgICAgICAgICAgIHZhciByZW0gPSBzIC0gaTtcbiAgICAgICAgICAgICAgICBpZiAoKGxjXzEgPiA3MDAwIHx8IGxpID4gMjQ1NzYpICYmIChyZW0gPiA0MjMgfHwgIWxzdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zID0gd2JsayhkYXQsIHcsIDAsIHN5bXMsIGxmLCBkZiwgZWIsIGxpLCBicywgaSAtIGJzLCBwb3MpO1xuICAgICAgICAgICAgICAgICAgICBsaSA9IGxjXzEgPSBlYiA9IDAsIGJzID0gaTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAyODY7ICsrailcbiAgICAgICAgICAgICAgICAgICAgICAgIGxmW2pdID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAzMDsgKytqKVxuICAgICAgICAgICAgICAgICAgICAgICAgZGZbal0gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAgbGVuICAgIGRpc3QgICBjaGFpblxuICAgICAgICAgICAgICAgIHZhciBsID0gMiwgZCA9IDAsIGNoXzEgPSBjLCBkaWYgPSBpbW9kIC0gcGltb2QgJiAzMjc2NztcbiAgICAgICAgICAgICAgICBpZiAocmVtID4gMiAmJiBodiA9PSBoc2goaSAtIGRpZikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heG4gPSBNYXRoLm1pbihuLCByZW0pIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heGQgPSBNYXRoLm1pbigzMjc2NywgaSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1heCBwb3NzaWJsZSBsZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90IGNhcHBlZCBhdCBkaWYgYmVjYXVzZSBkZWNvbXByZXNzb3JzIGltcGxlbWVudCBcInJvbGxpbmdcIiBpbmRleCBwb3B1bGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHZhciBtbCA9IE1hdGgubWluKDI1OCwgcmVtKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGRpZiA8PSBtYXhkICYmIC0tY2hfMSAmJiBpbW9kICE9IHBpbW9kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0W2kgKyBsXSA9PSBkYXRbaSArIGwgLSBkaWZdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5sID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgbmwgPCBtbCAmJiBkYXRbaSArIG5sXSA9PSBkYXRbaSArIG5sIC0gZGlmXTsgKytubClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChubCA+IGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IG5sLCBkID0gZGlmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBicmVhayBvdXQgZWFybHkgd2hlbiB3ZSByZWFjaCBcIm5pY2VcIiAod2UgYXJlIHNhdGlzZmllZCBlbm91Z2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChubCA+IG1heG4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm93LCBmaW5kIHRoZSByYXJlc3QgMi1ieXRlIHNlcXVlbmNlIHdpdGhpbiB0aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxlbmd0aCBvZiBsaXRlcmFscyBhbmQgc2VhcmNoIGZvciB0aGF0IGluc3RlYWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE11Y2ggZmFzdGVyIHRoYW4ganVzdCB1c2luZyB0aGUgc3RhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1tZCA9IE1hdGgubWluKGRpZiwgbmwgLSAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1kID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtbWQ7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpID0gaSAtIGRpZiArIGogJiAzMjc2NztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwdGkgPSBwcmV2W3RpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjZCA9IHRpIC0gcHRpICYgMzI3Njc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2QgPiBtZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZCA9IGNkLCBwaW1vZCA9IHRpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgdGhlIHByZXZpb3VzIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbW9kID0gcGltb2QsIHBpbW9kID0gcHJldltpbW9kXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZiArPSBpbW9kIC0gcGltb2QgJiAzMjc2NztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkIHdpbGwgYmUgbm9uemVybyBvbmx5IHdoZW4gYSBtYXRjaCB3YXMgZm91bmRcbiAgICAgICAgICAgICAgICBpZiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSBib3RoIGRpc3QgYW5kIGxlbiBkYXRhIGluIG9uZSBpbnQzMlxuICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhpcyBpcyByZWNvZ25pemVkIGFzIGEgbGVuL2Rpc3Qgd2l0aCAyOHRoIGJpdCAoMl4yOClcbiAgICAgICAgICAgICAgICAgICAgc3ltc1tsaSsrXSA9IDI2ODQzNTQ1NiB8IChyZXZmbFtsXSA8PCAxOCkgfCByZXZmZFtkXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbiA9IHJldmZsW2xdICYgMzEsIGRpbiA9IHJldmZkW2RdICYgMzE7XG4gICAgICAgICAgICAgICAgICAgIGViICs9IGZsZWJbbGluXSArIGZkZWJbZGluXTtcbiAgICAgICAgICAgICAgICAgICAgKytsZlsyNTcgKyBsaW5dO1xuICAgICAgICAgICAgICAgICAgICArK2RmW2Rpbl07XG4gICAgICAgICAgICAgICAgICAgIHdpID0gaSArIGw7XG4gICAgICAgICAgICAgICAgICAgICsrbGNfMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN5bXNbbGkrK10gPSBkYXRbaV07XG4gICAgICAgICAgICAgICAgICAgICsrbGZbZGF0W2ldXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gTWF0aC5tYXgoaSwgd2kpOyBpIDwgczsgKytpKSB7XG4gICAgICAgICAgICBzeW1zW2xpKytdID0gZGF0W2ldO1xuICAgICAgICAgICAgKytsZltkYXRbaV1dO1xuICAgICAgICB9XG4gICAgICAgIHBvcyA9IHdibGsoZGF0LCB3LCBsc3QsIHN5bXMsIGxmLCBkZiwgZWIsIGxpLCBicywgaSAtIGJzLCBwb3MpO1xuICAgICAgICBpZiAoIWxzdCkge1xuICAgICAgICAgICAgc3QuciA9IChwb3MgJiA3KSB8IHdbKHBvcyAvIDgpIHwgMF0gPDwgMztcbiAgICAgICAgICAgIC8vIHNoZnQocG9zKSBub3cgMSBsZXNzIGlmIHBvcyAmIDcgIT0gMFxuICAgICAgICAgICAgcG9zIC09IDc7XG4gICAgICAgICAgICBzdC5oID0gaGVhZCwgc3QucCA9IHByZXYsIHN0LmkgPSBpLCBzdC53ID0gd2k7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdC53IHx8IDA7IGkgPCBzICsgbHN0OyBpICs9IDY1NTM1KSB7XG4gICAgICAgICAgICAvLyBlbmRcbiAgICAgICAgICAgIHZhciBlID0gaSArIDY1NTM1O1xuICAgICAgICAgICAgaWYgKGUgPj0gcykge1xuICAgICAgICAgICAgICAgIC8vIHdyaXRlIGZpbmFsIGJsb2NrXG4gICAgICAgICAgICAgICAgd1socG9zIC8gOCkgfCAwXSA9IGxzdDtcbiAgICAgICAgICAgICAgICBlID0gcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcyA9IHdmYmxrKHcsIHBvcyArIDEsIGRhdC5zdWJhcnJheShpLCBlKSk7XG4gICAgICAgIH1cbiAgICAgICAgc3QuaSA9IHM7XG4gICAgfVxuICAgIHJldHVybiBzbGMobywgMCwgcHJlICsgc2hmdChwb3MpICsgcG9zdCk7XG59O1xuLy8gQ1JDMzIgdGFibGVcbnZhciBjcmN0ID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIHZhciB0ID0gbmV3IEludDMyQXJyYXkoMjU2KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gICAgICAgIHZhciBjID0gaSwgayA9IDk7XG4gICAgICAgIHdoaWxlICgtLWspXG4gICAgICAgICAgICBjID0gKChjICYgMSkgJiYgLTMwNjY3NDkxMikgXiAoYyA+Pj4gMSk7XG4gICAgICAgIHRbaV0gPSBjO1xuICAgIH1cbiAgICByZXR1cm4gdDtcbn0pKCk7XG4vLyBDUkMzMlxudmFyIGNyYyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYyA9IC0xO1xuICAgIHJldHVybiB7XG4gICAgICAgIHA6IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAvLyBjbG9zdXJlcyBoYXZlIGF3ZnVsIHBlcmZvcm1hbmNlXG4gICAgICAgICAgICB2YXIgY3IgPSBjO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgIGNyID0gY3JjdFsoY3IgJiAyNTUpIF4gZFtpXV0gXiAoY3IgPj4+IDgpO1xuICAgICAgICAgICAgYyA9IGNyO1xuICAgICAgICB9LFxuICAgICAgICBkOiBmdW5jdGlvbiAoKSB7IHJldHVybiB+YzsgfVxuICAgIH07XG59O1xuLy8gQWRsZXIzMlxudmFyIGFkbGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhID0gMSwgYiA9IDA7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcDogZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIC8vIGNsb3N1cmVzIGhhdmUgYXdmdWwgcGVyZm9ybWFuY2VcbiAgICAgICAgICAgIHZhciBuID0gYSwgbSA9IGI7XG4gICAgICAgICAgICB2YXIgbCA9IGQubGVuZ3RoIHwgMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpICE9IGw7KSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSBNYXRoLm1pbihpICsgMjY1NSwgbCk7XG4gICAgICAgICAgICAgICAgZm9yICg7IGkgPCBlOyArK2kpXG4gICAgICAgICAgICAgICAgICAgIG0gKz0gbiArPSBkW2ldO1xuICAgICAgICAgICAgICAgIG4gPSAobiAmIDY1NTM1KSArIDE1ICogKG4gPj4gMTYpLCBtID0gKG0gJiA2NTUzNSkgKyAxNSAqIChtID4+IDE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGEgPSBuLCBiID0gbTtcbiAgICAgICAgfSxcbiAgICAgICAgZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYSAlPSA2NTUyMSwgYiAlPSA2NTUyMTtcbiAgICAgICAgICAgIHJldHVybiAoYSAmIDI1NSkgPDwgMjQgfCAoYSAmIDB4RkYwMCkgPDwgOCB8IChiICYgMjU1KSA8PCA4IHwgKGIgPj4gOCk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbjtcbi8vIGRlZmxhdGUgd2l0aCBvcHRzXG52YXIgZG9wdCA9IGZ1bmN0aW9uIChkYXQsIG9wdCwgcHJlLCBwb3N0LCBzdCkge1xuICAgIGlmICghc3QpIHtcbiAgICAgICAgc3QgPSB7IGw6IDEgfTtcbiAgICAgICAgaWYgKG9wdC5kaWN0aW9uYXJ5KSB7XG4gICAgICAgICAgICB2YXIgZGljdCA9IG9wdC5kaWN0aW9uYXJ5LnN1YmFycmF5KC0zMjc2OCk7XG4gICAgICAgICAgICB2YXIgbmV3RGF0ID0gbmV3IHU4KGRpY3QubGVuZ3RoICsgZGF0Lmxlbmd0aCk7XG4gICAgICAgICAgICBuZXdEYXQuc2V0KGRpY3QpO1xuICAgICAgICAgICAgbmV3RGF0LnNldChkYXQsIGRpY3QubGVuZ3RoKTtcbiAgICAgICAgICAgIGRhdCA9IG5ld0RhdDtcbiAgICAgICAgICAgIHN0LncgPSBkaWN0Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGZsdChkYXQsIG9wdC5sZXZlbCA9PSBudWxsID8gNiA6IG9wdC5sZXZlbCwgb3B0Lm1lbSA9PSBudWxsID8gKHN0LmwgPyBNYXRoLmNlaWwoTWF0aC5tYXgoOCwgTWF0aC5taW4oMTMsIE1hdGgubG9nKGRhdC5sZW5ndGgpKSkgKiAxLjUpIDogMjApIDogKDEyICsgb3B0Lm1lbSksIHByZSwgcG9zdCwgc3QpO1xufTtcbi8vIFdhbG1hcnQgb2JqZWN0IHNwcmVhZFxudmFyIG1yZyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIG8gPSB7fTtcbiAgICBmb3IgKHZhciBrIGluIGEpXG4gICAgICAgIG9ba10gPSBhW2tdO1xuICAgIGZvciAodmFyIGsgaW4gYilcbiAgICAgICAgb1trXSA9IGJba107XG4gICAgcmV0dXJuIG87XG59O1xuLy8gd29ya2VyIGNsb25lXG4vLyBUaGlzIGlzIHBvc3NpYmx5IHRoZSBjcmF6aWVzdCBwYXJ0IG9mIHRoZSBlbnRpcmUgY29kZWJhc2UsIGRlc3BpdGUgaG93IHNpbXBsZSBpdCBtYXkgc2VlbS5cbi8vIFRoZSBvbmx5IHBhcmFtZXRlciB0byB0aGlzIGZ1bmN0aW9uIGlzIGEgY2xvc3VyZSB0aGF0IHJldHVybnMgYW4gYXJyYXkgb2YgdmFyaWFibGVzIG91dHNpZGUgb2YgdGhlIGZ1bmN0aW9uIHNjb3BlLlxuLy8gV2UncmUgZ29pbmcgdG8gdHJ5IHRvIGZpZ3VyZSBvdXQgdGhlIHZhcmlhYmxlIG5hbWVzIHVzZWQgaW4gdGhlIGNsb3N1cmUgYXMgc3RyaW5ncyBiZWNhdXNlIHRoYXQgaXMgY3J1Y2lhbCBmb3Igd29ya2VyaXphdGlvbi5cbi8vIFdlIHdpbGwgcmV0dXJuIGFuIG9iamVjdCBtYXBwaW5nIG9mIHRydWUgdmFyaWFibGUgbmFtZSB0byB2YWx1ZSAoYmFzaWNhbGx5LCB0aGUgY3VycmVudCBzY29wZSBhcyBhIEpTIG9iamVjdCkuXG4vLyBUaGUgcmVhc29uIHdlIGNhbid0IGp1c3QgdXNlIHRoZSBvcmlnaW5hbCB2YXJpYWJsZSBuYW1lcyBpcyBtaW5pZmllcnMgbWFuZ2xpbmcgdGhlIHRvcGxldmVsIHNjb3BlLlxuLy8gVGhpcyB0b29rIG1lIHRocmVlIHdlZWtzIHRvIGZpZ3VyZSBvdXQgaG93IHRvIGRvLlxudmFyIHdjbG4gPSBmdW5jdGlvbiAoZm4sIGZuU3RyLCB0ZCkge1xuICAgIHZhciBkdCA9IGZuKCk7XG4gICAgdmFyIHN0ID0gZm4udG9TdHJpbmcoKTtcbiAgICB2YXIga3MgPSBzdC5zbGljZShzdC5pbmRleE9mKCdbJykgKyAxLCBzdC5sYXN0SW5kZXhPZignXScpKS5yZXBsYWNlKC9cXHMrL2csICcnKS5zcGxpdCgnLCcpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZHQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHYgPSBkdFtpXSwgayA9IGtzW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHYgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZm5TdHIgKz0gJzsnICsgayArICc9JztcbiAgICAgICAgICAgIHZhciBzdF8xID0gdi50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKHYucHJvdG90eXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIGdsb2JhbCBvYmplY3RzXG4gICAgICAgICAgICAgICAgaWYgKHN0XzEuaW5kZXhPZignW25hdGl2ZSBjb2RlXScpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcEluZCA9IHN0XzEuaW5kZXhPZignICcsIDgpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgZm5TdHIgKz0gc3RfMS5zbGljZShzcEluZCwgc3RfMS5pbmRleE9mKCcoJywgc3BJbmQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZuU3RyICs9IHN0XzE7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHQgaW4gdi5wcm90b3R5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICBmblN0ciArPSAnOycgKyBrICsgJy5wcm90b3R5cGUuJyArIHQgKyAnPScgKyB2LnByb3RvdHlwZVt0XS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBmblN0ciArPSBzdF8xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRkW2tdID0gdjtcbiAgICB9XG4gICAgcmV0dXJuIGZuU3RyO1xufTtcbnZhciBjaCA9IFtdO1xuLy8gY2xvbmUgYnVmc1xudmFyIGNiZnMgPSBmdW5jdGlvbiAodikge1xuICAgIHZhciB0bCA9IFtdO1xuICAgIGZvciAodmFyIGsgaW4gdikge1xuICAgICAgICBpZiAodltrXS5idWZmZXIpIHtcbiAgICAgICAgICAgIHRsLnB1c2goKHZba10gPSBuZXcgdltrXS5jb25zdHJ1Y3Rvcih2W2tdKSkuYnVmZmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGw7XG59O1xuLy8gdXNlIGEgd29ya2VyIHRvIGV4ZWN1dGUgY29kZVxudmFyIHdya3IgPSBmdW5jdGlvbiAoZm5zLCBpbml0LCBpZCwgY2IpIHtcbiAgICBpZiAoIWNoW2lkXSkge1xuICAgICAgICB2YXIgZm5TdHIgPSAnJywgdGRfMSA9IHt9LCBtID0gZm5zLmxlbmd0aCAtIDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbTsgKytpKVxuICAgICAgICAgICAgZm5TdHIgPSB3Y2xuKGZuc1tpXSwgZm5TdHIsIHRkXzEpO1xuICAgICAgICBjaFtpZF0gPSB7IGM6IHdjbG4oZm5zW21dLCBmblN0ciwgdGRfMSksIGU6IHRkXzEgfTtcbiAgICB9XG4gICAgdmFyIHRkID0gbXJnKHt9LCBjaFtpZF0uZSk7XG4gICAgcmV0dXJuIHdrKGNoW2lkXS5jICsgJztvbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7Zm9yKHZhciBrIGluIGUuZGF0YSlzZWxmW2tdPWUuZGF0YVtrXTtvbm1lc3NhZ2U9JyArIGluaXQudG9TdHJpbmcoKSArICd9JywgaWQsIHRkLCBjYmZzKHRkKSwgY2IpO1xufTtcbi8vIGJhc2UgYXN5bmMgaW5mbGF0ZSBmblxudmFyIGJJbmZsdCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt1OCwgdTE2LCBpMzIsIGZsZWIsIGZkZWIsIGNsaW0sIGZsLCBmZCwgZmxybSwgZmRybSwgcmV2LCBlYywgaE1hcCwgbWF4LCBiaXRzLCBiaXRzMTYsIHNoZnQsIHNsYywgZXJyLCBpbmZsdCwgaW5mbGF0ZVN5bmMsIHBiZiwgZ29wdF07IH07XG52YXIgYkRmbHQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBbdTgsIHUxNiwgaTMyLCBmbGViLCBmZGViLCBjbGltLCByZXZmbCwgcmV2ZmQsIGZsbSwgZmx0LCBmZG0sIGZkdCwgcmV2LCBkZW8sIGV0LCBoTWFwLCB3Yml0cywgd2JpdHMxNiwgaFRyZWUsIGxuLCBsYywgY2xlbiwgd2ZibGssIHdibGssIHNoZnQsIHNsYywgZGZsdCwgZG9wdCwgZGVmbGF0ZVN5bmMsIHBiZl07IH07XG4vLyBnemlwIGV4dHJhXG52YXIgZ3plID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW2d6aCwgZ3pobCwgd2J5dGVzLCBjcmMsIGNyY3RdOyB9O1xuLy8gZ3VuemlwIGV4dHJhXG52YXIgZ3V6ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtnenMsIGd6bF07IH07XG4vLyB6bGliIGV4dHJhXG52YXIgemxlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW3psaCwgd2J5dGVzLCBhZGxlcl07IH07XG4vLyB1bnpsaWIgZXh0cmFcbnZhciB6dWxlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW3psc107IH07XG4vLyBwb3N0IGJ1ZlxudmFyIHBiZiA9IGZ1bmN0aW9uIChtc2cpIHsgcmV0dXJuIHBvc3RNZXNzYWdlKG1zZywgW21zZy5idWZmZXJdKTsgfTtcbi8vIGdldCBvcHRzXG52YXIgZ29wdCA9IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIHtcbiAgICBvdXQ6IG8uc2l6ZSAmJiBuZXcgdTgoby5zaXplKSxcbiAgICBkaWN0aW9uYXJ5OiBvLmRpY3Rpb25hcnlcbn07IH07XG4vLyBhc3luYyBoZWxwZXJcbnZhciBjYmlmeSA9IGZ1bmN0aW9uIChkYXQsIG9wdHMsIGZucywgaW5pdCwgaWQsIGNiKSB7XG4gICAgdmFyIHcgPSB3cmtyKGZucywgaW5pdCwgaWQsIGZ1bmN0aW9uIChlcnIsIGRhdCkge1xuICAgICAgICB3LnRlcm1pbmF0ZSgpO1xuICAgICAgICBjYihlcnIsIGRhdCk7XG4gICAgfSk7XG4gICAgdy5wb3N0TWVzc2FnZShbZGF0LCBvcHRzXSwgb3B0cy5jb25zdW1lID8gW2RhdC5idWZmZXJdIDogW10pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHcudGVybWluYXRlKCk7IH07XG59O1xuLy8gYXV0byBzdHJlYW1cbnZhciBhc3RybSA9IGZ1bmN0aW9uIChzdHJtKSB7XG4gICAgc3RybS5vbmRhdGEgPSBmdW5jdGlvbiAoZGF0LCBmaW5hbCkgeyByZXR1cm4gcG9zdE1lc3NhZ2UoW2RhdCwgZmluYWxdLCBbZGF0LmJ1ZmZlcl0pOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgaWYgKGV2LmRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICBzdHJtLnB1c2goZXYuZGF0YVswXSwgZXYuZGF0YVsxXSk7XG4gICAgICAgICAgICBwb3N0TWVzc2FnZShbZXYuZGF0YVswXS5sZW5ndGhdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBzdHJtLmZsdXNoKCk7XG4gICAgfTtcbn07XG4vLyBhc3luYyBzdHJlYW0gYXR0YWNoXG52YXIgYXN0cm1pZnkgPSBmdW5jdGlvbiAoZm5zLCBzdHJtLCBvcHRzLCBpbml0LCBpZCwgZmx1c2gsIGV4dCkge1xuICAgIHZhciB0O1xuICAgIHZhciB3ID0gd3JrcihmbnMsIGluaXQsIGlkLCBmdW5jdGlvbiAoZXJyLCBkYXQpIHtcbiAgICAgICAgaWYgKGVycilcbiAgICAgICAgICAgIHcudGVybWluYXRlKCksIHN0cm0ub25kYXRhLmNhbGwoc3RybSwgZXJyKTtcbiAgICAgICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoZGF0KSlcbiAgICAgICAgICAgIGV4dChkYXQpO1xuICAgICAgICBlbHNlIGlmIChkYXQubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIHN0cm0ucXVldWVkU2l6ZSAtPSBkYXRbMF07XG4gICAgICAgICAgICBpZiAoc3RybS5vbmRyYWluKVxuICAgICAgICAgICAgICAgIHN0cm0ub25kcmFpbihkYXRbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGRhdFsxXSlcbiAgICAgICAgICAgICAgICB3LnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgc3RybS5vbmRhdGEuY2FsbChzdHJtLCBlcnIsIGRhdFswXSwgZGF0WzFdKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHcucG9zdE1lc3NhZ2Uob3B0cyk7XG4gICAgc3RybS5xdWV1ZWRTaXplID0gMDtcbiAgICBzdHJtLnB1c2ggPSBmdW5jdGlvbiAoZCwgZikge1xuICAgICAgICBpZiAoIXN0cm0ub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAodClcbiAgICAgICAgICAgIHN0cm0ub25kYXRhKGVycig0LCAwLCAxKSwgbnVsbCwgISFmKTtcbiAgICAgICAgc3RybS5xdWV1ZWRTaXplICs9IGQubGVuZ3RoO1xuICAgICAgICB3LnBvc3RNZXNzYWdlKFtkLCB0ID0gZl0sIFtkLmJ1ZmZlcl0pO1xuICAgIH07XG4gICAgc3RybS50ZXJtaW5hdGUgPSBmdW5jdGlvbiAoKSB7IHcudGVybWluYXRlKCk7IH07XG4gICAgaWYgKGZsdXNoKSB7XG4gICAgICAgIHN0cm0uZmx1c2ggPSBmdW5jdGlvbiAoKSB7IHcucG9zdE1lc3NhZ2UoW10pOyB9O1xuICAgIH1cbn07XG4vLyByZWFkIDIgYnl0ZXNcbnZhciBiMiA9IGZ1bmN0aW9uIChkLCBiKSB7IHJldHVybiBkW2JdIHwgKGRbYiArIDFdIDw8IDgpOyB9O1xuLy8gcmVhZCA0IGJ5dGVzXG52YXIgYjQgPSBmdW5jdGlvbiAoZCwgYikgeyByZXR1cm4gKGRbYl0gfCAoZFtiICsgMV0gPDwgOCkgfCAoZFtiICsgMl0gPDwgMTYpIHwgKGRbYiArIDNdIDw8IDI0KSkgPj4+IDA7IH07XG52YXIgYjggPSBmdW5jdGlvbiAoZCwgYikgeyByZXR1cm4gYjQoZCwgYikgKyAoYjQoZCwgYiArIDQpICogNDI5NDk2NzI5Nik7IH07XG4vLyB3cml0ZSBieXRlc1xudmFyIHdieXRlcyA9IGZ1bmN0aW9uIChkLCBiLCB2KSB7XG4gICAgZm9yICg7IHY7ICsrYilcbiAgICAgICAgZFtiXSA9IHYsIHYgPj4+PSA4O1xufTtcbi8vIGd6aXAgaGVhZGVyXG52YXIgZ3poID0gZnVuY3Rpb24gKGMsIG8pIHtcbiAgICB2YXIgZm4gPSBvLmZpbGVuYW1lO1xuICAgIGNbMF0gPSAzMSwgY1sxXSA9IDEzOSwgY1syXSA9IDgsIGNbOF0gPSBvLmxldmVsIDwgMiA/IDQgOiBvLmxldmVsID09IDkgPyAyIDogMCwgY1s5XSA9IDM7IC8vIGFzc3VtZSBVbml4XG4gICAgaWYgKG8ubXRpbWUgIT0gMClcbiAgICAgICAgd2J5dGVzKGMsIDQsIE1hdGguZmxvb3IobmV3IERhdGUoby5tdGltZSB8fCBEYXRlLm5vdygpKSAvIDEwMDApKTtcbiAgICBpZiAoZm4pIHtcbiAgICAgICAgY1szXSA9IDg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGZuLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgY1tpICsgMTBdID0gZm4uY2hhckNvZGVBdChpKTtcbiAgICB9XG59O1xuLy8gZ3ppcCBmb290ZXI6IC04IHRvIC00ID0gQ1JDLCAtNCB0byAtMCBpcyBsZW5ndGhcbi8vIGd6aXAgc3RhcnRcbnZhciBnenMgPSBmdW5jdGlvbiAoZCkge1xuICAgIGlmIChkWzBdICE9IDMxIHx8IGRbMV0gIT0gMTM5IHx8IGRbMl0gIT0gOClcbiAgICAgICAgZXJyKDYsICdpbnZhbGlkIGd6aXAgZGF0YScpO1xuICAgIHZhciBmbGcgPSBkWzNdO1xuICAgIHZhciBzdCA9IDEwO1xuICAgIGlmIChmbGcgJiA0KVxuICAgICAgICBzdCArPSAoZFsxMF0gfCBkWzExXSA8PCA4KSArIDI7XG4gICAgZm9yICh2YXIgenMgPSAoZmxnID4+IDMgJiAxKSArIChmbGcgPj4gNCAmIDEpOyB6cyA+IDA7IHpzIC09ICFkW3N0KytdKVxuICAgICAgICA7XG4gICAgcmV0dXJuIHN0ICsgKGZsZyAmIDIpO1xufTtcbi8vIGd6aXAgbGVuZ3RoXG52YXIgZ3psID0gZnVuY3Rpb24gKGQpIHtcbiAgICB2YXIgbCA9IGQubGVuZ3RoO1xuICAgIHJldHVybiAoZFtsIC0gNF0gfCBkW2wgLSAzXSA8PCA4IHwgZFtsIC0gMl0gPDwgMTYgfCBkW2wgLSAxXSA8PCAyNCkgPj4+IDA7XG59O1xuLy8gZ3ppcCBoZWFkZXIgbGVuZ3RoXG52YXIgZ3pobCA9IGZ1bmN0aW9uIChvKSB7IHJldHVybiAxMCArIChvLmZpbGVuYW1lID8gby5maWxlbmFtZS5sZW5ndGggKyAxIDogMCk7IH07XG4vLyB6bGliIGhlYWRlclxudmFyIHpsaCA9IGZ1bmN0aW9uIChjLCBvKSB7XG4gICAgdmFyIGx2ID0gby5sZXZlbCwgZmwgPSBsdiA9PSAwID8gMCA6IGx2IDwgNiA/IDEgOiBsdiA9PSA5ID8gMyA6IDI7XG4gICAgY1swXSA9IDEyMCwgY1sxXSA9IChmbCA8PCA2KSB8IChvLmRpY3Rpb25hcnkgJiYgMzIpO1xuICAgIGNbMV0gfD0gMzEgLSAoKGNbMF0gPDwgOCkgfCBjWzFdKSAlIDMxO1xuICAgIGlmIChvLmRpY3Rpb25hcnkpIHtcbiAgICAgICAgdmFyIGggPSBhZGxlcigpO1xuICAgICAgICBoLnAoby5kaWN0aW9uYXJ5KTtcbiAgICAgICAgd2J5dGVzKGMsIDIsIGguZCgpKTtcbiAgICB9XG59O1xuLy8gemxpYiBzdGFydFxudmFyIHpscyA9IGZ1bmN0aW9uIChkLCBkaWN0KSB7XG4gICAgaWYgKChkWzBdICYgMTUpICE9IDggfHwgKGRbMF0gPj4gNCkgPiA3IHx8ICgoZFswXSA8PCA4IHwgZFsxXSkgJSAzMSkpXG4gICAgICAgIGVycig2LCAnaW52YWxpZCB6bGliIGRhdGEnKTtcbiAgICBpZiAoKGRbMV0gPj4gNSAmIDEpID09ICshZGljdClcbiAgICAgICAgZXJyKDYsICdpbnZhbGlkIHpsaWIgZGF0YTogJyArIChkWzFdICYgMzIgPyAnbmVlZCcgOiAndW5leHBlY3RlZCcpICsgJyBkaWN0aW9uYXJ5Jyk7XG4gICAgcmV0dXJuIChkWzFdID4+IDMgJiA0KSArIDI7XG59O1xuZnVuY3Rpb24gU3RybU9wdChvcHRzLCBjYikge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PSAnZnVuY3Rpb24nKVxuICAgICAgICBjYiA9IG9wdHMsIG9wdHMgPSB7fTtcbiAgICB0aGlzLm9uZGF0YSA9IGNiO1xuICAgIHJldHVybiBvcHRzO1xufVxuLyoqXG4gKiBTdHJlYW1pbmcgREVGTEFURSBjb21wcmVzc2lvblxuICovXG52YXIgRGVmbGF0ZSA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWZsYXRlKG9wdHMsIGNiKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0cyA9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgY2IgPSBvcHRzLCBvcHRzID0ge307XG4gICAgICAgIHRoaXMub25kYXRhID0gY2I7XG4gICAgICAgIHRoaXMubyA9IG9wdHMgfHwge307XG4gICAgICAgIHRoaXMucyA9IHsgbDogMCwgaTogMzI3NjgsIHc6IDMyNzY4LCB6OiAzMjc2OCB9O1xuICAgICAgICAvLyBCdWZmZXIgbGVuZ3RoIG11c3QgYWx3YXlzIGJlIDAgbW9kIDMyNzY4IGZvciBpbmRleCBjYWxjdWxhdGlvbnMgdG8gYmUgY29ycmVjdCB3aGVuIG1vZGlmeWluZyBoZWFkIGFuZCBwcmV2XG4gICAgICAgIC8vIDk4MzA0ID0gMzI3NjggKGxvb2tiYWNrKSArIDY1NTM2IChjb21tb24gY2h1bmsgc2l6ZSlcbiAgICAgICAgdGhpcy5iID0gbmV3IHU4KDk4MzA0KTtcbiAgICAgICAgaWYgKHRoaXMuby5kaWN0aW9uYXJ5KSB7XG4gICAgICAgICAgICB2YXIgZGljdCA9IHRoaXMuby5kaWN0aW9uYXJ5LnN1YmFycmF5KC0zMjc2OCk7XG4gICAgICAgICAgICB0aGlzLmIuc2V0KGRpY3QsIDMyNzY4IC0gZGljdC5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5zLmkgPSAzMjc2OCAtIGRpY3QubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfVxuICAgIERlZmxhdGUucHJvdG90eXBlLnAgPSBmdW5jdGlvbiAoYywgZikge1xuICAgICAgICB0aGlzLm9uZGF0YShkb3B0KGMsIHRoaXMubywgMCwgMCwgdGhpcy5zKSwgZik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSBkZWZsYXRlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBEZWZsYXRlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAodGhpcy5zLmwpXG4gICAgICAgICAgICBlcnIoNCk7XG4gICAgICAgIHZhciBlbmRMZW4gPSBjaHVuay5sZW5ndGggKyB0aGlzLnMuejtcbiAgICAgICAgaWYgKGVuZExlbiA+IHRoaXMuYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChlbmRMZW4gPiAyICogdGhpcy5iLmxlbmd0aCAtIDMyNzY4KSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0J1ZiA9IG5ldyB1OChlbmRMZW4gJiAtMzI3NjgpO1xuICAgICAgICAgICAgICAgIG5ld0J1Zi5zZXQodGhpcy5iLnN1YmFycmF5KDAsIHRoaXMucy56KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5iID0gbmV3QnVmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNwbGl0ID0gdGhpcy5iLmxlbmd0aCAtIHRoaXMucy56O1xuICAgICAgICAgICAgdGhpcy5iLnNldChjaHVuay5zdWJhcnJheSgwLCBzcGxpdCksIHRoaXMucy56KTtcbiAgICAgICAgICAgIHRoaXMucy56ID0gdGhpcy5iLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMucCh0aGlzLmIsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuYi5zZXQodGhpcy5iLnN1YmFycmF5KC0zMjc2OCkpO1xuICAgICAgICAgICAgdGhpcy5iLnNldChjaHVuay5zdWJhcnJheShzcGxpdCksIDMyNzY4KTtcbiAgICAgICAgICAgIHRoaXMucy56ID0gY2h1bmsubGVuZ3RoIC0gc3BsaXQgKyAzMjc2ODtcbiAgICAgICAgICAgIHRoaXMucy5pID0gMzI3NjYsIHRoaXMucy53ID0gMzI3Njg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmIuc2V0KGNodW5rLCB0aGlzLnMueik7XG4gICAgICAgICAgICB0aGlzLnMueiArPSBjaHVuay5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zLmwgPSBmaW5hbCAmIDE7XG4gICAgICAgIGlmICh0aGlzLnMueiA+IHRoaXMucy53ICsgODE5MSB8fCBmaW5hbCkge1xuICAgICAgICAgICAgdGhpcy5wKHRoaXMuYiwgZmluYWwgfHwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5zLncgPSB0aGlzLnMuaSwgdGhpcy5zLmkgLT0gMjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmx1c2hlcyBidWZmZXJlZCB1bmNvbXByZXNzZWQgZGF0YS4gVXNlZnVsIHRvIGltbWVkaWF0ZWx5IHJldHJpZXZlIHRoZVxuICAgICAqIGRlZmxhdGVkIG91dHB1dCBmb3Igc21hbGwgaW5wdXRzLlxuICAgICAqL1xuICAgIERlZmxhdGUucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAodGhpcy5zLmwpXG4gICAgICAgICAgICBlcnIoNCk7XG4gICAgICAgIHRoaXMucCh0aGlzLmIsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zLncgPSB0aGlzLnMuaSwgdGhpcy5zLmkgLT0gMjtcbiAgICB9O1xuICAgIHJldHVybiBEZWZsYXRlO1xufSgpKTtcbmV4cG9ydCB7IERlZmxhdGUgfTtcbi8qKlxuICogQXN5bmNocm9ub3VzIHN0cmVhbWluZyBERUZMQVRFIGNvbXByZXNzaW9uXG4gKi9cbnZhciBBc3luY0RlZmxhdGUgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXN5bmNEZWZsYXRlKG9wdHMsIGNiKSB7XG4gICAgICAgIGFzdHJtaWZ5KFtcbiAgICAgICAgICAgIGJEZmx0LFxuICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gW2FzdHJtLCBEZWZsYXRlXTsgfVxuICAgICAgICBdLCB0aGlzLCBTdHJtT3B0LmNhbGwodGhpcywgb3B0cywgY2IpLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIHZhciBzdHJtID0gbmV3IERlZmxhdGUoZXYuZGF0YSk7XG4gICAgICAgICAgICBvbm1lc3NhZ2UgPSBhc3RybShzdHJtKTtcbiAgICAgICAgfSwgNiwgMSk7XG4gICAgfVxuICAgIHJldHVybiBBc3luY0RlZmxhdGU7XG59KCkpO1xuZXhwb3J0IHsgQXN5bmNEZWZsYXRlIH07XG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZShkYXRhLCBvcHRzLCBjYikge1xuICAgIGlmICghY2IpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2YgY2IgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZXJyKDcpO1xuICAgIHJldHVybiBjYmlmeShkYXRhLCBvcHRzLCBbXG4gICAgICAgIGJEZmx0LFxuICAgIF0sIGZ1bmN0aW9uIChldikgeyByZXR1cm4gcGJmKGRlZmxhdGVTeW5jKGV2LmRhdGFbMF0sIGV2LmRhdGFbMV0pKTsgfSwgMCwgY2IpO1xufVxuLyoqXG4gKiBDb21wcmVzc2VzIGRhdGEgd2l0aCBERUZMQVRFIHdpdGhvdXQgYW55IHdyYXBwZXJcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGNvbXByZXNzXG4gKiBAcGFyYW0gb3B0cyBUaGUgY29tcHJlc3Npb24gb3B0aW9uc1xuICogQHJldHVybnMgVGhlIGRlZmxhdGVkIHZlcnNpb24gb2YgdGhlIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmxhdGVTeW5jKGRhdGEsIG9wdHMpIHtcbiAgICByZXR1cm4gZG9wdChkYXRhLCBvcHRzIHx8IHt9LCAwLCAwKTtcbn1cbi8qKlxuICogU3RyZWFtaW5nIERFRkxBVEUgZGVjb21wcmVzc2lvblxuICovXG52YXIgSW5mbGF0ZSA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbmZsYXRlKG9wdHMsIGNiKSB7XG4gICAgICAgIC8vIG5vIFN0cm1PcHQgaGVyZSB0byBhdm9pZCBhZGRpbmcgdG8gd29ya2VyaXplclxuICAgICAgICBpZiAodHlwZW9mIG9wdHMgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgICAgICB0aGlzLm9uZGF0YSA9IGNiO1xuICAgICAgICB2YXIgZGljdCA9IG9wdHMgJiYgb3B0cy5kaWN0aW9uYXJ5ICYmIG9wdHMuZGljdGlvbmFyeS5zdWJhcnJheSgtMzI3NjgpO1xuICAgICAgICB0aGlzLnMgPSB7IGk6IDAsIGI6IGRpY3QgPyBkaWN0Lmxlbmd0aCA6IDAgfTtcbiAgICAgICAgdGhpcy5vID0gbmV3IHU4KDMyNzY4KTtcbiAgICAgICAgdGhpcy5wID0gbmV3IHU4KDApO1xuICAgICAgICBpZiAoZGljdClcbiAgICAgICAgICAgIHRoaXMuby5zZXQoZGljdCk7XG4gICAgfVxuICAgIEluZmxhdGUucHJvdG90eXBlLmUgPSBmdW5jdGlvbiAoYykge1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAodGhpcy5kKVxuICAgICAgICAgICAgZXJyKDQpO1xuICAgICAgICBpZiAoIXRoaXMucC5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLnAgPSBjO1xuICAgICAgICBlbHNlIGlmIChjLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIG4gPSBuZXcgdTgodGhpcy5wLmxlbmd0aCArIGMubGVuZ3RoKTtcbiAgICAgICAgICAgIG4uc2V0KHRoaXMucCksIG4uc2V0KGMsIHRoaXMucC5sZW5ndGgpLCB0aGlzLnAgPSBuO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbmZsYXRlLnByb3RvdHlwZS5jID0gZnVuY3Rpb24gKGZpbmFsKSB7XG4gICAgICAgIHRoaXMucy5pID0gKyh0aGlzLmQgPSBmaW5hbCB8fCBmYWxzZSk7XG4gICAgICAgIHZhciBidHMgPSB0aGlzLnMuYjtcbiAgICAgICAgdmFyIGR0ID0gaW5mbHQodGhpcy5wLCB0aGlzLnMsIHRoaXMubyk7XG4gICAgICAgIHRoaXMub25kYXRhKHNsYyhkdCwgYnRzLCB0aGlzLnMuYiksIHRoaXMuZCk7XG4gICAgICAgIHRoaXMubyA9IHNsYyhkdCwgdGhpcy5zLmIgLSAzMjc2OCksIHRoaXMucy5iID0gdGhpcy5vLmxlbmd0aDtcbiAgICAgICAgdGhpcy5wID0gc2xjKHRoaXMucCwgKHRoaXMucy5wIC8gOCkgfCAwKSwgdGhpcy5zLnAgJj0gNztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIGluZmxhdGVkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgZmluYWwgY2h1bmtcbiAgICAgKi9cbiAgICBJbmZsYXRlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICB0aGlzLmUoY2h1bmspLCB0aGlzLmMoZmluYWwpO1xuICAgIH07XG4gICAgcmV0dXJuIEluZmxhdGU7XG59KCkpO1xuZXhwb3J0IHsgSW5mbGF0ZSB9O1xuLyoqXG4gKiBBc3luY2hyb25vdXMgc3RyZWFtaW5nIERFRkxBVEUgZGVjb21wcmVzc2lvblxuICovXG52YXIgQXN5bmNJbmZsYXRlID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFzeW5jSW5mbGF0ZShvcHRzLCBjYikge1xuICAgICAgICBhc3RybWlmeShbXG4gICAgICAgICAgICBiSW5mbHQsXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBbYXN0cm0sIEluZmxhdGVdOyB9XG4gICAgICAgIF0sIHRoaXMsIFN0cm1PcHQuY2FsbCh0aGlzLCBvcHRzLCBjYiksIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgdmFyIHN0cm0gPSBuZXcgSW5mbGF0ZShldi5kYXRhKTtcbiAgICAgICAgICAgIG9ubWVzc2FnZSA9IGFzdHJtKHN0cm0pO1xuICAgICAgICB9LCA3LCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIEFzeW5jSW5mbGF0ZTtcbn0oKSk7XG5leHBvcnQgeyBBc3luY0luZmxhdGUgfTtcbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlKGRhdGEsIG9wdHMsIGNiKSB7XG4gICAgaWYgKCFjYilcbiAgICAgICAgY2IgPSBvcHRzLCBvcHRzID0ge307XG4gICAgaWYgKHR5cGVvZiBjYiAhPSAnZnVuY3Rpb24nKVxuICAgICAgICBlcnIoNyk7XG4gICAgcmV0dXJuIGNiaWZ5KGRhdGEsIG9wdHMsIFtcbiAgICAgICAgYkluZmx0XG4gICAgXSwgZnVuY3Rpb24gKGV2KSB7IHJldHVybiBwYmYoaW5mbGF0ZVN5bmMoZXYuZGF0YVswXSwgZ29wdChldi5kYXRhWzFdKSkpOyB9LCAxLCBjYik7XG59XG4vKipcbiAqIEV4cGFuZHMgREVGTEFURSBkYXRhIHdpdGggbm8gd3JhcHBlclxuICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gZGVjb21wcmVzc1xuICogQHBhcmFtIG9wdHMgVGhlIGRlY29tcHJlc3Npb24gb3B0aW9uc1xuICogQHJldHVybnMgVGhlIGRlY29tcHJlc3NlZCB2ZXJzaW9uIG9mIHRoZSBkYXRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlU3luYyhkYXRhLCBvcHRzKSB7XG4gICAgcmV0dXJuIGluZmx0KGRhdGEsIHsgaTogMiB9LCBvcHRzICYmIG9wdHMub3V0LCBvcHRzICYmIG9wdHMuZGljdGlvbmFyeSk7XG59XG4vLyBiZWZvcmUgeW91IHllbGwgYXQgbWUgZm9yIG5vdCBqdXN0IHVzaW5nIGV4dGVuZHMsIG15IHJlYXNvbiBpcyB0aGF0IFRTIGluaGVyaXRhbmNlIGlzIGhhcmQgdG8gd29ya2VyaXplLlxuLyoqXG4gKiBTdHJlYW1pbmcgR1pJUCBjb21wcmVzc2lvblxuICovXG52YXIgR3ppcCA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHemlwKG9wdHMsIGNiKSB7XG4gICAgICAgIHRoaXMuYyA9IGNyYygpO1xuICAgICAgICB0aGlzLmwgPSAwO1xuICAgICAgICB0aGlzLnYgPSAxO1xuICAgICAgICBEZWZsYXRlLmNhbGwodGhpcywgb3B0cywgY2IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSBHWklQcGVkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIEd6aXAucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIHRoaXMuYy5wKGNodW5rKTtcbiAgICAgICAgdGhpcy5sICs9IGNodW5rLmxlbmd0aDtcbiAgICAgICAgRGVmbGF0ZS5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsIGNodW5rLCBmaW5hbCk7XG4gICAgfTtcbiAgICBHemlwLnByb3RvdHlwZS5wID0gZnVuY3Rpb24gKGMsIGYpIHtcbiAgICAgICAgdmFyIHJhdyA9IGRvcHQoYywgdGhpcy5vLCB0aGlzLnYgJiYgZ3pobCh0aGlzLm8pLCBmICYmIDgsIHRoaXMucyk7XG4gICAgICAgIGlmICh0aGlzLnYpXG4gICAgICAgICAgICBnemgocmF3LCB0aGlzLm8pLCB0aGlzLnYgPSAwO1xuICAgICAgICBpZiAoZilcbiAgICAgICAgICAgIHdieXRlcyhyYXcsIHJhdy5sZW5ndGggLSA4LCB0aGlzLmMuZCgpKSwgd2J5dGVzKHJhdywgcmF3Lmxlbmd0aCAtIDQsIHRoaXMubCk7XG4gICAgICAgIHRoaXMub25kYXRhKHJhdywgZik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGbHVzaGVzIGJ1ZmZlcmVkIHVuY29tcHJlc3NlZCBkYXRhLiBVc2VmdWwgdG8gaW1tZWRpYXRlbHkgcmV0cmlldmUgdGhlXG4gICAgICogR1pJUHBlZCBvdXRwdXQgZm9yIHNtYWxsIGlucHV0cy5cbiAgICAgKi9cbiAgICBHemlwLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgRGVmbGF0ZS5wcm90b3R5cGUuZmx1c2guY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBHemlwO1xufSgpKTtcbmV4cG9ydCB7IEd6aXAgfTtcbi8qKlxuICogQXN5bmNocm9ub3VzIHN0cmVhbWluZyBHWklQIGNvbXByZXNzaW9uXG4gKi9cbnZhciBBc3luY0d6aXAgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXN5bmNHemlwKG9wdHMsIGNiKSB7XG4gICAgICAgIGFzdHJtaWZ5KFtcbiAgICAgICAgICAgIGJEZmx0LFxuICAgICAgICAgICAgZ3plLFxuICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gW2FzdHJtLCBEZWZsYXRlLCBHemlwXTsgfVxuICAgICAgICBdLCB0aGlzLCBTdHJtT3B0LmNhbGwodGhpcywgb3B0cywgY2IpLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIHZhciBzdHJtID0gbmV3IEd6aXAoZXYuZGF0YSk7XG4gICAgICAgICAgICBvbm1lc3NhZ2UgPSBhc3RybShzdHJtKTtcbiAgICAgICAgfSwgOCwgMSk7XG4gICAgfVxuICAgIHJldHVybiBBc3luY0d6aXA7XG59KCkpO1xuZXhwb3J0IHsgQXN5bmNHemlwIH07XG5leHBvcnQgZnVuY3Rpb24gZ3ppcChkYXRhLCBvcHRzLCBjYikge1xuICAgIGlmICghY2IpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2YgY2IgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZXJyKDcpO1xuICAgIHJldHVybiBjYmlmeShkYXRhLCBvcHRzLCBbXG4gICAgICAgIGJEZmx0LFxuICAgICAgICBnemUsXG4gICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtnemlwU3luY107IH1cbiAgICBdLCBmdW5jdGlvbiAoZXYpIHsgcmV0dXJuIHBiZihnemlwU3luYyhldi5kYXRhWzBdLCBldi5kYXRhWzFdKSk7IH0sIDIsIGNiKTtcbn1cbi8qKlxuICogQ29tcHJlc3NlcyBkYXRhIHdpdGggR1pJUFxuICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gY29tcHJlc3NcbiAqIEBwYXJhbSBvcHRzIFRoZSBjb21wcmVzc2lvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBUaGUgZ3ppcHBlZCB2ZXJzaW9uIG9mIHRoZSBkYXRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnemlwU3luYyhkYXRhLCBvcHRzKSB7XG4gICAgaWYgKCFvcHRzKVxuICAgICAgICBvcHRzID0ge307XG4gICAgdmFyIGMgPSBjcmMoKSwgbCA9IGRhdGEubGVuZ3RoO1xuICAgIGMucChkYXRhKTtcbiAgICB2YXIgZCA9IGRvcHQoZGF0YSwgb3B0cywgZ3pobChvcHRzKSwgOCksIHMgPSBkLmxlbmd0aDtcbiAgICByZXR1cm4gZ3poKGQsIG9wdHMpLCB3Ynl0ZXMoZCwgcyAtIDgsIGMuZCgpKSwgd2J5dGVzKGQsIHMgLSA0LCBsKSwgZDtcbn1cbi8qKlxuICogU3RyZWFtaW5nIHNpbmdsZSBvciBtdWx0aS1tZW1iZXIgR1pJUCBkZWNvbXByZXNzaW9uXG4gKi9cbnZhciBHdW56aXAgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR3VuemlwKG9wdHMsIGNiKSB7XG4gICAgICAgIHRoaXMudiA9IDE7XG4gICAgICAgIHRoaXMuciA9IDA7XG4gICAgICAgIEluZmxhdGUuY2FsbCh0aGlzLCBvcHRzLCBjYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIEdVTlpJUHBlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBHdW56aXAucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIEluZmxhdGUucHJvdG90eXBlLmUuY2FsbCh0aGlzLCBjaHVuayk7XG4gICAgICAgIHRoaXMuciArPSBjaHVuay5sZW5ndGg7XG4gICAgICAgIGlmICh0aGlzLnYpIHtcbiAgICAgICAgICAgIHZhciBwID0gdGhpcy5wLnN1YmFycmF5KHRoaXMudiAtIDEpO1xuICAgICAgICAgICAgdmFyIHMgPSBwLmxlbmd0aCA+IDMgPyBnenMocCkgOiA0O1xuICAgICAgICAgICAgaWYgKHMgPiBwLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmICghZmluYWwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudiA+IDEgJiYgdGhpcy5vbm1lbWJlcikge1xuICAgICAgICAgICAgICAgIHRoaXMub25tZW1iZXIodGhpcy5yIC0gcC5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wID0gcC5zdWJhcnJheShzKSwgdGhpcy52ID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBuZWNlc3NhcnkgdG8gcHJldmVudCBUUyBmcm9tIHVzaW5nIHRoZSBjbG9zdXJlIHZhbHVlXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIGZvciB3b3JrZXJpemF0aW9uIHRvIGZ1bmN0aW9uIGNvcnJlY3RseVxuICAgICAgICBJbmZsYXRlLnByb3RvdHlwZS5jLmNhbGwodGhpcywgZmluYWwpO1xuICAgICAgICAvLyBwcm9jZXNzIGNvbmNhdGVuYXRlZCBHWklQXG4gICAgICAgIGlmICh0aGlzLnMuZiAmJiAhdGhpcy5zLmwgJiYgIWZpbmFsKSB7XG4gICAgICAgICAgICB0aGlzLnYgPSBzaGZ0KHRoaXMucy5wKSArIDk7XG4gICAgICAgICAgICB0aGlzLnMgPSB7IGk6IDAgfTtcbiAgICAgICAgICAgIHRoaXMubyA9IG5ldyB1OCgwKTtcbiAgICAgICAgICAgIHRoaXMucHVzaChuZXcgdTgoMCksIGZpbmFsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEd1bnppcDtcbn0oKSk7XG5leHBvcnQgeyBHdW56aXAgfTtcbi8qKlxuICogQXN5bmNocm9ub3VzIHN0cmVhbWluZyBzaW5nbGUgb3IgbXVsdGktbWVtYmVyIEdaSVAgZGVjb21wcmVzc2lvblxuICovXG52YXIgQXN5bmNHdW56aXAgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXN5bmNHdW56aXAob3B0cywgY2IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgYXN0cm1pZnkoW1xuICAgICAgICAgICAgYkluZmx0LFxuICAgICAgICAgICAgZ3V6ZSxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFthc3RybSwgSW5mbGF0ZSwgR3VuemlwXTsgfVxuICAgICAgICBdLCB0aGlzLCBTdHJtT3B0LmNhbGwodGhpcywgb3B0cywgY2IpLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIHZhciBzdHJtID0gbmV3IEd1bnppcChldi5kYXRhKTtcbiAgICAgICAgICAgIHN0cm0ub25tZW1iZXIgPSBmdW5jdGlvbiAob2Zmc2V0KSB7IHJldHVybiBwb3N0TWVzc2FnZShvZmZzZXQpOyB9O1xuICAgICAgICAgICAgb25tZXNzYWdlID0gYXN0cm0oc3RybSk7XG4gICAgICAgIH0sIDksIDAsIGZ1bmN0aW9uIChvZmZzZXQpIHsgcmV0dXJuIF90aGlzLm9ubWVtYmVyICYmIF90aGlzLm9ubWVtYmVyKG9mZnNldCk7IH0pO1xuICAgIH1cbiAgICByZXR1cm4gQXN5bmNHdW56aXA7XG59KCkpO1xuZXhwb3J0IHsgQXN5bmNHdW56aXAgfTtcbmV4cG9ydCBmdW5jdGlvbiBndW56aXAoZGF0YSwgb3B0cywgY2IpIHtcbiAgICBpZiAoIWNiKVxuICAgICAgICBjYiA9IG9wdHMsIG9wdHMgPSB7fTtcbiAgICBpZiAodHlwZW9mIGNiICE9ICdmdW5jdGlvbicpXG4gICAgICAgIGVycig3KTtcbiAgICByZXR1cm4gY2JpZnkoZGF0YSwgb3B0cywgW1xuICAgICAgICBiSW5mbHQsXG4gICAgICAgIGd1emUsXG4gICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtndW56aXBTeW5jXTsgfVxuICAgIF0sIGZ1bmN0aW9uIChldikgeyByZXR1cm4gcGJmKGd1bnppcFN5bmMoZXYuZGF0YVswXSwgZXYuZGF0YVsxXSkpOyB9LCAzLCBjYik7XG59XG4vKipcbiAqIEV4cGFuZHMgR1pJUCBkYXRhXG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBkZWNvbXByZXNzXG4gKiBAcGFyYW0gb3B0cyBUaGUgZGVjb21wcmVzc2lvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBUaGUgZGVjb21wcmVzc2VkIHZlcnNpb24gb2YgdGhlIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGd1bnppcFN5bmMoZGF0YSwgb3B0cykge1xuICAgIHZhciBzdCA9IGd6cyhkYXRhKTtcbiAgICBpZiAoc3QgKyA4ID4gZGF0YS5sZW5ndGgpXG4gICAgICAgIGVycig2LCAnaW52YWxpZCBnemlwIGRhdGEnKTtcbiAgICByZXR1cm4gaW5mbHQoZGF0YS5zdWJhcnJheShzdCwgLTgpLCB7IGk6IDIgfSwgb3B0cyAmJiBvcHRzLm91dCB8fCBuZXcgdTgoZ3psKGRhdGEpKSwgb3B0cyAmJiBvcHRzLmRpY3Rpb25hcnkpO1xufVxuLyoqXG4gKiBTdHJlYW1pbmcgWmxpYiBjb21wcmVzc2lvblxuICovXG52YXIgWmxpYiA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBabGliKG9wdHMsIGNiKSB7XG4gICAgICAgIHRoaXMuYyA9IGFkbGVyKCk7XG4gICAgICAgIHRoaXMudiA9IDE7XG4gICAgICAgIERlZmxhdGUuY2FsbCh0aGlzLCBvcHRzLCBjYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIHpsaWJiZWRcbiAgICAgKiBAcGFyYW0gY2h1bmsgVGhlIGNodW5rIHRvIHB1c2hcbiAgICAgKiBAcGFyYW0gZmluYWwgV2hldGhlciB0aGlzIGlzIHRoZSBsYXN0IGNodW5rXG4gICAgICovXG4gICAgWmxpYi5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZmluYWwpIHtcbiAgICAgICAgdGhpcy5jLnAoY2h1bmspO1xuICAgICAgICBEZWZsYXRlLnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcywgY2h1bmssIGZpbmFsKTtcbiAgICB9O1xuICAgIFpsaWIucHJvdG90eXBlLnAgPSBmdW5jdGlvbiAoYywgZikge1xuICAgICAgICB2YXIgcmF3ID0gZG9wdChjLCB0aGlzLm8sIHRoaXMudiAmJiAodGhpcy5vLmRpY3Rpb25hcnkgPyA2IDogMiksIGYgJiYgNCwgdGhpcy5zKTtcbiAgICAgICAgaWYgKHRoaXMudilcbiAgICAgICAgICAgIHpsaChyYXcsIHRoaXMubyksIHRoaXMudiA9IDA7XG4gICAgICAgIGlmIChmKVxuICAgICAgICAgICAgd2J5dGVzKHJhdywgcmF3Lmxlbmd0aCAtIDQsIHRoaXMuYy5kKCkpO1xuICAgICAgICB0aGlzLm9uZGF0YShyYXcsIGYpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmx1c2hlcyBidWZmZXJlZCB1bmNvbXByZXNzZWQgZGF0YS4gVXNlZnVsIHRvIGltbWVkaWF0ZWx5IHJldHJpZXZlIHRoZVxuICAgICAqIHpsaWJiZWQgb3V0cHV0IGZvciBzbWFsbCBpbnB1dHMuXG4gICAgICovXG4gICAgWmxpYi5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIERlZmxhdGUucHJvdG90eXBlLmZsdXNoLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gWmxpYjtcbn0oKSk7XG5leHBvcnQgeyBabGliIH07XG4vKipcbiAqIEFzeW5jaHJvbm91cyBzdHJlYW1pbmcgWmxpYiBjb21wcmVzc2lvblxuICovXG52YXIgQXN5bmNabGliID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFzeW5jWmxpYihvcHRzLCBjYikge1xuICAgICAgICBhc3RybWlmeShbXG4gICAgICAgICAgICBiRGZsdCxcbiAgICAgICAgICAgIHpsZSxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFthc3RybSwgRGVmbGF0ZSwgWmxpYl07IH1cbiAgICAgICAgXSwgdGhpcywgU3RybU9wdC5jYWxsKHRoaXMsIG9wdHMsIGNiKSwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICB2YXIgc3RybSA9IG5ldyBabGliKGV2LmRhdGEpO1xuICAgICAgICAgICAgb25tZXNzYWdlID0gYXN0cm0oc3RybSk7XG4gICAgICAgIH0sIDEwLCAxKTtcbiAgICB9XG4gICAgcmV0dXJuIEFzeW5jWmxpYjtcbn0oKSk7XG5leHBvcnQgeyBBc3luY1psaWIgfTtcbmV4cG9ydCBmdW5jdGlvbiB6bGliKGRhdGEsIG9wdHMsIGNiKSB7XG4gICAgaWYgKCFjYilcbiAgICAgICAgY2IgPSBvcHRzLCBvcHRzID0ge307XG4gICAgaWYgKHR5cGVvZiBjYiAhPSAnZnVuY3Rpb24nKVxuICAgICAgICBlcnIoNyk7XG4gICAgcmV0dXJuIGNiaWZ5KGRhdGEsIG9wdHMsIFtcbiAgICAgICAgYkRmbHQsXG4gICAgICAgIHpsZSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gW3psaWJTeW5jXTsgfVxuICAgIF0sIGZ1bmN0aW9uIChldikgeyByZXR1cm4gcGJmKHpsaWJTeW5jKGV2LmRhdGFbMF0sIGV2LmRhdGFbMV0pKTsgfSwgNCwgY2IpO1xufVxuLyoqXG4gKiBDb21wcmVzcyBkYXRhIHdpdGggWmxpYlxuICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gY29tcHJlc3NcbiAqIEBwYXJhbSBvcHRzIFRoZSBjb21wcmVzc2lvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBUaGUgemxpYi1jb21wcmVzc2VkIHZlcnNpb24gb2YgdGhlIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHpsaWJTeW5jKGRhdGEsIG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpXG4gICAgICAgIG9wdHMgPSB7fTtcbiAgICB2YXIgYSA9IGFkbGVyKCk7XG4gICAgYS5wKGRhdGEpO1xuICAgIHZhciBkID0gZG9wdChkYXRhLCBvcHRzLCBvcHRzLmRpY3Rpb25hcnkgPyA2IDogMiwgNCk7XG4gICAgcmV0dXJuIHpsaChkLCBvcHRzKSwgd2J5dGVzKGQsIGQubGVuZ3RoIC0gNCwgYS5kKCkpLCBkO1xufVxuLyoqXG4gKiBTdHJlYW1pbmcgWmxpYiBkZWNvbXByZXNzaW9uXG4gKi9cbnZhciBVbnpsaWIgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVW56bGliKG9wdHMsIGNiKSB7XG4gICAgICAgIEluZmxhdGUuY2FsbCh0aGlzLCBvcHRzLCBjYik7XG4gICAgICAgIHRoaXMudiA9IG9wdHMgJiYgb3B0cy5kaWN0aW9uYXJ5ID8gMiA6IDE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIHVuemxpYmJlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBVbnpsaWIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIEluZmxhdGUucHJvdG90eXBlLmUuY2FsbCh0aGlzLCBjaHVuayk7XG4gICAgICAgIGlmICh0aGlzLnYpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnAubGVuZ3RoIDwgNiAmJiAhZmluYWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5wID0gdGhpcy5wLnN1YmFycmF5KHpscyh0aGlzLnAsIHRoaXMudiAtIDEpKSwgdGhpcy52ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmluYWwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnAubGVuZ3RoIDwgNClcbiAgICAgICAgICAgICAgICBlcnIoNiwgJ2ludmFsaWQgemxpYiBkYXRhJyk7XG4gICAgICAgICAgICB0aGlzLnAgPSB0aGlzLnAuc3ViYXJyYXkoMCwgLTQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5lY2Vzc2FyeSB0byBwcmV2ZW50IFRTIGZyb20gdXNpbmcgdGhlIGNsb3N1cmUgdmFsdWVcbiAgICAgICAgLy8gVGhpcyBhbGxvd3MgZm9yIHdvcmtlcml6YXRpb24gdG8gZnVuY3Rpb24gY29ycmVjdGx5XG4gICAgICAgIEluZmxhdGUucHJvdG90eXBlLmMuY2FsbCh0aGlzLCBmaW5hbCk7XG4gICAgfTtcbiAgICByZXR1cm4gVW56bGliO1xufSgpKTtcbmV4cG9ydCB7IFVuemxpYiB9O1xuLyoqXG4gKiBBc3luY2hyb25vdXMgc3RyZWFtaW5nIFpsaWIgZGVjb21wcmVzc2lvblxuICovXG52YXIgQXN5bmNVbnpsaWIgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXN5bmNVbnpsaWIob3B0cywgY2IpIHtcbiAgICAgICAgYXN0cm1pZnkoW1xuICAgICAgICAgICAgYkluZmx0LFxuICAgICAgICAgICAgenVsZSxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFthc3RybSwgSW5mbGF0ZSwgVW56bGliXTsgfVxuICAgICAgICBdLCB0aGlzLCBTdHJtT3B0LmNhbGwodGhpcywgb3B0cywgY2IpLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIHZhciBzdHJtID0gbmV3IFVuemxpYihldi5kYXRhKTtcbiAgICAgICAgICAgIG9ubWVzc2FnZSA9IGFzdHJtKHN0cm0pO1xuICAgICAgICB9LCAxMSwgMCk7XG4gICAgfVxuICAgIHJldHVybiBBc3luY1VuemxpYjtcbn0oKSk7XG5leHBvcnQgeyBBc3luY1VuemxpYiB9O1xuZXhwb3J0IGZ1bmN0aW9uIHVuemxpYihkYXRhLCBvcHRzLCBjYikge1xuICAgIGlmICghY2IpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2YgY2IgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZXJyKDcpO1xuICAgIHJldHVybiBjYmlmeShkYXRhLCBvcHRzLCBbXG4gICAgICAgIGJJbmZsdCxcbiAgICAgICAgenVsZSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gW3VuemxpYlN5bmNdOyB9XG4gICAgXSwgZnVuY3Rpb24gKGV2KSB7IHJldHVybiBwYmYodW56bGliU3luYyhldi5kYXRhWzBdLCBnb3B0KGV2LmRhdGFbMV0pKSk7IH0sIDUsIGNiKTtcbn1cbi8qKlxuICogRXhwYW5kcyBabGliIGRhdGFcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGRlY29tcHJlc3NcbiAqIEBwYXJhbSBvcHRzIFRoZSBkZWNvbXByZXNzaW9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIFRoZSBkZWNvbXByZXNzZWQgdmVyc2lvbiBvZiB0aGUgZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW56bGliU3luYyhkYXRhLCBvcHRzKSB7XG4gICAgcmV0dXJuIGluZmx0KGRhdGEuc3ViYXJyYXkoemxzKGRhdGEsIG9wdHMgJiYgb3B0cy5kaWN0aW9uYXJ5KSwgLTQpLCB7IGk6IDIgfSwgb3B0cyAmJiBvcHRzLm91dCwgb3B0cyAmJiBvcHRzLmRpY3Rpb25hcnkpO1xufVxuLy8gRGVmYXVsdCBhbGdvcml0aG0gZm9yIGNvbXByZXNzaW9uICh1c2VkIGJlY2F1c2UgaGF2aW5nIGEga25vd24gb3V0cHV0IHNpemUgYWxsb3dzIGZhc3RlciBkZWNvbXByZXNzaW9uKVxuZXhwb3J0IHsgZ3ppcCBhcyBjb21wcmVzcywgQXN5bmNHemlwIGFzIEFzeW5jQ29tcHJlc3MgfTtcbmV4cG9ydCB7IGd6aXBTeW5jIGFzIGNvbXByZXNzU3luYywgR3ppcCBhcyBDb21wcmVzcyB9O1xuLyoqXG4gKiBTdHJlYW1pbmcgR1pJUCwgWmxpYiwgb3IgcmF3IERFRkxBVEUgZGVjb21wcmVzc2lvblxuICovXG52YXIgRGVjb21wcmVzcyA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWNvbXByZXNzKG9wdHMsIGNiKSB7XG4gICAgICAgIHRoaXMubyA9IFN0cm1PcHQuY2FsbCh0aGlzLCBvcHRzLCBjYikgfHwge307XG4gICAgICAgIHRoaXMuRyA9IEd1bnppcDtcbiAgICAgICAgdGhpcy5JID0gSW5mbGF0ZTtcbiAgICAgICAgdGhpcy5aID0gVW56bGliO1xuICAgIH1cbiAgICAvLyBpbml0IHN1YnN0cmVhbVxuICAgIC8vIG92ZXJyaWRlbiBieSBBc3luY0RlY29tcHJlc3NcbiAgICBEZWNvbXByZXNzLnByb3RvdHlwZS5pID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnMub25kYXRhID0gZnVuY3Rpb24gKGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgIF90aGlzLm9uZGF0YShkYXQsIGZpbmFsKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIGRlY29tcHJlc3NlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBEZWNvbXByZXNzLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAoIXRoaXMucykge1xuICAgICAgICAgICAgaWYgKHRoaXMucCAmJiB0aGlzLnAubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG4gPSBuZXcgdTgodGhpcy5wLmxlbmd0aCArIGNodW5rLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgbi5zZXQodGhpcy5wKSwgbi5zZXQoY2h1bmssIHRoaXMucC5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMucCA9IGNodW5rO1xuICAgICAgICAgICAgaWYgKHRoaXMucC5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zID0gKHRoaXMucFswXSA9PSAzMSAmJiB0aGlzLnBbMV0gPT0gMTM5ICYmIHRoaXMucFsyXSA9PSA4KVxuICAgICAgICAgICAgICAgICAgICA/IG5ldyB0aGlzLkcodGhpcy5vKVxuICAgICAgICAgICAgICAgICAgICA6ICgodGhpcy5wWzBdICYgMTUpICE9IDggfHwgKHRoaXMucFswXSA+PiA0KSA+IDcgfHwgKCh0aGlzLnBbMF0gPDwgOCB8IHRoaXMucFsxXSkgJSAzMSkpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyB0aGlzLkkodGhpcy5vKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgdGhpcy5aKHRoaXMubyk7XG4gICAgICAgICAgICAgICAgdGhpcy5pKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zLnB1c2godGhpcy5wLCBmaW5hbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnMucHVzaChjaHVuaywgZmluYWwpO1xuICAgIH07XG4gICAgcmV0dXJuIERlY29tcHJlc3M7XG59KCkpO1xuZXhwb3J0IHsgRGVjb21wcmVzcyB9O1xuLyoqXG4gKiBBc3luY2hyb25vdXMgc3RyZWFtaW5nIEdaSVAsIFpsaWIsIG9yIHJhdyBERUZMQVRFIGRlY29tcHJlc3Npb25cbiAqL1xudmFyIEFzeW5jRGVjb21wcmVzcyA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBc3luY0RlY29tcHJlc3Mob3B0cywgY2IpIHtcbiAgICAgICAgRGVjb21wcmVzcy5jYWxsKHRoaXMsIG9wdHMsIGNiKTtcbiAgICAgICAgdGhpcy5xdWV1ZWRTaXplID0gMDtcbiAgICAgICAgdGhpcy5HID0gQXN5bmNHdW56aXA7XG4gICAgICAgIHRoaXMuSSA9IEFzeW5jSW5mbGF0ZTtcbiAgICAgICAgdGhpcy5aID0gQXN5bmNVbnpsaWI7XG4gICAgfVxuICAgIEFzeW5jRGVjb21wcmVzcy5wcm90b3R5cGUuaSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5zLm9uZGF0YSA9IGZ1bmN0aW9uIChlcnIsIGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgIF90aGlzLm9uZGF0YShlcnIsIGRhdCwgZmluYWwpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnMub25kcmFpbiA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgICAgICBfdGhpcy5xdWV1ZWRTaXplIC09IHNpemU7XG4gICAgICAgICAgICBpZiAoX3RoaXMub25kcmFpbilcbiAgICAgICAgICAgICAgICBfdGhpcy5vbmRyYWluKHNpemUpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgY2h1bmsgdG8gYmUgZGVjb21wcmVzc2VkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIEFzeW5jRGVjb21wcmVzcy5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZmluYWwpIHtcbiAgICAgICAgdGhpcy5xdWV1ZWRTaXplICs9IGNodW5rLmxlbmd0aDtcbiAgICAgICAgRGVjb21wcmVzcy5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsIGNodW5rLCBmaW5hbCk7XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNEZWNvbXByZXNzO1xufSgpKTtcbmV4cG9ydCB7IEFzeW5jRGVjb21wcmVzcyB9O1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29tcHJlc3MoZGF0YSwgb3B0cywgY2IpIHtcbiAgICBpZiAoIWNiKVxuICAgICAgICBjYiA9IG9wdHMsIG9wdHMgPSB7fTtcbiAgICBpZiAodHlwZW9mIGNiICE9ICdmdW5jdGlvbicpXG4gICAgICAgIGVycig3KTtcbiAgICByZXR1cm4gKGRhdGFbMF0gPT0gMzEgJiYgZGF0YVsxXSA9PSAxMzkgJiYgZGF0YVsyXSA9PSA4KVxuICAgICAgICA/IGd1bnppcChkYXRhLCBvcHRzLCBjYilcbiAgICAgICAgOiAoKGRhdGFbMF0gJiAxNSkgIT0gOCB8fCAoZGF0YVswXSA+PiA0KSA+IDcgfHwgKChkYXRhWzBdIDw8IDggfCBkYXRhWzFdKSAlIDMxKSlcbiAgICAgICAgICAgID8gaW5mbGF0ZShkYXRhLCBvcHRzLCBjYilcbiAgICAgICAgICAgIDogdW56bGliKGRhdGEsIG9wdHMsIGNiKTtcbn1cbi8qKlxuICogRXhwYW5kcyBjb21wcmVzc2VkIEdaSVAsIFpsaWIsIG9yIHJhdyBERUZMQVRFIGRhdGEsIGF1dG9tYXRpY2FsbHkgZGV0ZWN0aW5nIHRoZSBmb3JtYXRcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGRlY29tcHJlc3NcbiAqIEBwYXJhbSBvcHRzIFRoZSBkZWNvbXByZXNzaW9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIFRoZSBkZWNvbXByZXNzZWQgdmVyc2lvbiBvZiB0aGUgZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb21wcmVzc1N5bmMoZGF0YSwgb3B0cykge1xuICAgIHJldHVybiAoZGF0YVswXSA9PSAzMSAmJiBkYXRhWzFdID09IDEzOSAmJiBkYXRhWzJdID09IDgpXG4gICAgICAgID8gZ3VuemlwU3luYyhkYXRhLCBvcHRzKVxuICAgICAgICA6ICgoZGF0YVswXSAmIDE1KSAhPSA4IHx8IChkYXRhWzBdID4+IDQpID4gNyB8fCAoKGRhdGFbMF0gPDwgOCB8IGRhdGFbMV0pICUgMzEpKVxuICAgICAgICAgICAgPyBpbmZsYXRlU3luYyhkYXRhLCBvcHRzKVxuICAgICAgICAgICAgOiB1bnpsaWJTeW5jKGRhdGEsIG9wdHMpO1xufVxuLy8gZmxhdHRlbiBhIGRpcmVjdG9yeSBzdHJ1Y3R1cmVcbnZhciBmbHRuID0gZnVuY3Rpb24gKGQsIHAsIHQsIG8pIHtcbiAgICBmb3IgKHZhciBrIGluIGQpIHtcbiAgICAgICAgdmFyIHZhbCA9IGRba10sIG4gPSBwICsgaywgb3AgPSBvO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKVxuICAgICAgICAgICAgb3AgPSBtcmcobywgdmFsWzFdKSwgdmFsID0gdmFsWzBdO1xuICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgdTgpXG4gICAgICAgICAgICB0W25dID0gW3ZhbCwgb3BdO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRbbiArPSAnLyddID0gW25ldyB1OCgwKSwgb3BdO1xuICAgICAgICAgICAgZmx0bih2YWwsIG4sIHQsIG8pO1xuICAgICAgICB9XG4gICAgfVxufTtcbi8vIHRleHQgZW5jb2RlclxudmFyIHRlID0gdHlwZW9mIFRleHRFbmNvZGVyICE9ICd1bmRlZmluZWQnICYmIC8qI19fUFVSRV9fKi8gbmV3IFRleHRFbmNvZGVyKCk7XG4vLyB0ZXh0IGRlY29kZXJcbnZhciB0ZCA9IHR5cGVvZiBUZXh0RGVjb2RlciAhPSAndW5kZWZpbmVkJyAmJiAvKiNfX1BVUkVfXyovIG5ldyBUZXh0RGVjb2RlcigpO1xuLy8gdGV4dCBkZWNvZGVyIHN0cmVhbVxudmFyIHRkcyA9IDA7XG50cnkge1xuICAgIHRkLmRlY29kZShldCwgeyBzdHJlYW06IHRydWUgfSk7XG4gICAgdGRzID0gMTtcbn1cbmNhdGNoIChlKSB7IH1cbi8vIGRlY29kZSBVVEY4XG52YXIgZHV0ZjggPSBmdW5jdGlvbiAoZCkge1xuICAgIGZvciAodmFyIHIgPSAnJywgaSA9IDA7Oykge1xuICAgICAgICB2YXIgYyA9IGRbaSsrXTtcbiAgICAgICAgdmFyIGViID0gKGMgPiAxMjcpICsgKGMgPiAyMjMpICsgKGMgPiAyMzkpO1xuICAgICAgICBpZiAoaSArIGViID4gZC5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4geyBzOiByLCByOiBzbGMoZCwgaSAtIDEpIH07XG4gICAgICAgIGlmICghZWIpXG4gICAgICAgICAgICByICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XG4gICAgICAgIGVsc2UgaWYgKGViID09IDMpIHtcbiAgICAgICAgICAgIGMgPSAoKGMgJiAxNSkgPDwgMTggfCAoZFtpKytdICYgNjMpIDw8IDEyIHwgKGRbaSsrXSAmIDYzKSA8PCA2IHwgKGRbaSsrXSAmIDYzKSkgLSA2NTUzNixcbiAgICAgICAgICAgICAgICByICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYgfCAoYyA+PiAxMCksIDU2MzIwIHwgKGMgJiAxMDIzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZWIgJiAxKVxuICAgICAgICAgICAgciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgMzEpIDw8IDYgfCAoZFtpKytdICYgNjMpKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgMTUpIDw8IDEyIHwgKGRbaSsrXSAmIDYzKSA8PCA2IHwgKGRbaSsrXSAmIDYzKSk7XG4gICAgfVxufTtcbi8qKlxuICogU3RyZWFtaW5nIFVURi04IGRlY29kaW5nXG4gKi9cbnZhciBEZWNvZGVVVEY4ID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBVVEYtOCBkZWNvZGluZyBzdHJlYW1cbiAgICAgKiBAcGFyYW0gY2IgVGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbmV2ZXIgZGF0YSBpcyBkZWNvZGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gRGVjb2RlVVRGOChjYikge1xuICAgICAgICB0aGlzLm9uZGF0YSA9IGNiO1xuICAgICAgICBpZiAodGRzKVxuICAgICAgICAgICAgdGhpcy50ID0gbmV3IFRleHREZWNvZGVyKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucCA9IGV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSBkZWNvZGVkIGZyb20gVVRGLTggYmluYXJ5XG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIERlY29kZVVURjgucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIGlmICghdGhpcy5vbmRhdGEpXG4gICAgICAgICAgICBlcnIoNSk7XG4gICAgICAgIGZpbmFsID0gISFmaW5hbDtcbiAgICAgICAgaWYgKHRoaXMudCkge1xuICAgICAgICAgICAgdGhpcy5vbmRhdGEodGhpcy50LmRlY29kZShjaHVuaywgeyBzdHJlYW06IHRydWUgfSksIGZpbmFsKTtcbiAgICAgICAgICAgIGlmIChmaW5hbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnQuZGVjb2RlKCkubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBlcnIoOCk7XG4gICAgICAgICAgICAgICAgdGhpcy50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMucClcbiAgICAgICAgICAgIGVycig0KTtcbiAgICAgICAgdmFyIGRhdCA9IG5ldyB1OCh0aGlzLnAubGVuZ3RoICsgY2h1bmsubGVuZ3RoKTtcbiAgICAgICAgZGF0LnNldCh0aGlzLnApO1xuICAgICAgICBkYXQuc2V0KGNodW5rLCB0aGlzLnAubGVuZ3RoKTtcbiAgICAgICAgdmFyIF9hID0gZHV0ZjgoZGF0KSwgcyA9IF9hLnMsIHIgPSBfYS5yO1xuICAgICAgICBpZiAoZmluYWwpIHtcbiAgICAgICAgICAgIGlmIChyLmxlbmd0aClcbiAgICAgICAgICAgICAgICBlcnIoOCk7XG4gICAgICAgICAgICB0aGlzLnAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucCA9IHI7XG4gICAgICAgIHRoaXMub25kYXRhKHMsIGZpbmFsKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWNvZGVVVEY4O1xufSgpKTtcbmV4cG9ydCB7IERlY29kZVVURjggfTtcbi8qKlxuICogU3RyZWFtaW5nIFVURi04IGVuY29kaW5nXG4gKi9cbnZhciBFbmNvZGVVVEY4ID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBVVEYtOCBkZWNvZGluZyBzdHJlYW1cbiAgICAgKiBAcGFyYW0gY2IgVGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbmV2ZXIgZGF0YSBpcyBlbmNvZGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gRW5jb2RlVVRGOChjYikge1xuICAgICAgICB0aGlzLm9uZGF0YSA9IGNiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSBlbmNvZGVkIHRvIFVURi04XG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBzdHJpbmcgZGF0YSB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIEVuY29kZVVURjgucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIGlmICghdGhpcy5vbmRhdGEpXG4gICAgICAgICAgICBlcnIoNSk7XG4gICAgICAgIGlmICh0aGlzLmQpXG4gICAgICAgICAgICBlcnIoNCk7XG4gICAgICAgIHRoaXMub25kYXRhKHN0clRvVTgoY2h1bmspLCB0aGlzLmQgPSBmaW5hbCB8fCBmYWxzZSk7XG4gICAgfTtcbiAgICByZXR1cm4gRW5jb2RlVVRGODtcbn0oKSk7XG5leHBvcnQgeyBFbmNvZGVVVEY4IH07XG4vKipcbiAqIENvbnZlcnRzIGEgc3RyaW5nIGludG8gYSBVaW50OEFycmF5IGZvciB1c2Ugd2l0aCBjb21wcmVzc2lvbi9kZWNvbXByZXNzaW9uIG1ldGhvZHNcbiAqIEBwYXJhbSBzdHIgVGhlIHN0cmluZyB0byBlbmNvZGVcbiAqIEBwYXJhbSBsYXRpbjEgV2hldGhlciBvciBub3QgdG8gaW50ZXJwcmV0IHRoZSBkYXRhIGFzIExhdGluLTEuIFRoaXMgc2hvdWxkXG4gKiAgICAgICAgICAgICAgIG5vdCBuZWVkIHRvIGJlIHRydWUgdW5sZXNzIGRlY29kaW5nIGEgYmluYXJ5IHN0cmluZy5cbiAqIEByZXR1cm5zIFRoZSBzdHJpbmcgZW5jb2RlZCBpbiBVVEYtOC9MYXRpbi0xIGJpbmFyeVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyVG9VOChzdHIsIGxhdGluMSkge1xuICAgIGlmIChsYXRpbjEpIHtcbiAgICAgICAgdmFyIGFyXzEgPSBuZXcgdTgoc3RyLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgYXJfMVtpXSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICByZXR1cm4gYXJfMTtcbiAgICB9XG4gICAgaWYgKHRlKVxuICAgICAgICByZXR1cm4gdGUuZW5jb2RlKHN0cik7XG4gICAgdmFyIGwgPSBzdHIubGVuZ3RoO1xuICAgIHZhciBhciA9IG5ldyB1OChzdHIubGVuZ3RoICsgKHN0ci5sZW5ndGggPj4gMSkpO1xuICAgIHZhciBhaSA9IDA7XG4gICAgdmFyIHcgPSBmdW5jdGlvbiAodikgeyBhclthaSsrXSA9IHY7IH07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgaWYgKGFpICsgNSA+IGFyLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIG4gPSBuZXcgdTgoYWkgKyA4ICsgKChsIC0gaSkgPDwgMSkpO1xuICAgICAgICAgICAgbi5zZXQoYXIpO1xuICAgICAgICAgICAgYXIgPSBuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjIDwgMTI4IHx8IGxhdGluMSlcbiAgICAgICAgICAgIHcoYyk7XG4gICAgICAgIGVsc2UgaWYgKGMgPCAyMDQ4KVxuICAgICAgICAgICAgdygxOTIgfCAoYyA+PiA2KSksIHcoMTI4IHwgKGMgJiA2MykpO1xuICAgICAgICBlbHNlIGlmIChjID4gNTUyOTUgJiYgYyA8IDU3MzQ0KVxuICAgICAgICAgICAgYyA9IDY1NTM2ICsgKGMgJiAxMDIzIDw8IDEwKSB8IChzdHIuY2hhckNvZGVBdCgrK2kpICYgMTAyMyksXG4gICAgICAgICAgICAgICAgdygyNDAgfCAoYyA+PiAxOCkpLCB3KDEyOCB8ICgoYyA+PiAxMikgJiA2MykpLCB3KDEyOCB8ICgoYyA+PiA2KSAmIDYzKSksIHcoMTI4IHwgKGMgJiA2MykpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB3KDIyNCB8IChjID4+IDEyKSksIHcoMTI4IHwgKChjID4+IDYpICYgNjMpKSwgdygxMjggfCAoYyAmIDYzKSk7XG4gICAgfVxuICAgIHJldHVybiBzbGMoYXIsIDAsIGFpKTtcbn1cbi8qKlxuICogQ29udmVydHMgYSBVaW50OEFycmF5IHRvIGEgc3RyaW5nXG4gKiBAcGFyYW0gZGF0IFRoZSBkYXRhIHRvIGRlY29kZSB0byBzdHJpbmdcbiAqIEBwYXJhbSBsYXRpbjEgV2hldGhlciBvciBub3QgdG8gaW50ZXJwcmV0IHRoZSBkYXRhIGFzIExhdGluLTEuIFRoaXMgc2hvdWxkXG4gKiAgICAgICAgICAgICAgIG5vdCBuZWVkIHRvIGJlIHRydWUgdW5sZXNzIGVuY29kaW5nIHRvIGJpbmFyeSBzdHJpbmcuXG4gKiBAcmV0dXJucyBUaGUgb3JpZ2luYWwgVVRGLTgvTGF0aW4tMSBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0ckZyb21VOChkYXQsIGxhdGluMSkge1xuICAgIGlmIChsYXRpbjEpIHtcbiAgICAgICAgdmFyIHIgPSAnJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXQubGVuZ3RoOyBpICs9IDE2Mzg0KVxuICAgICAgICAgICAgciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGRhdC5zdWJhcnJheShpLCBpICsgMTYzODQpKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRkKSB7XG4gICAgICAgIHJldHVybiB0ZC5kZWNvZGUoZGF0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBfYSA9IGR1dGY4KGRhdCksIHMgPSBfYS5zLCByID0gX2EucjtcbiAgICAgICAgaWYgKHIubGVuZ3RoKVxuICAgICAgICAgICAgZXJyKDgpO1xuICAgICAgICByZXR1cm4gcztcbiAgICB9XG59XG47XG4vLyBkZWZsYXRlIGJpdCBmbGFnXG52YXIgZGJmID0gZnVuY3Rpb24gKGwpIHsgcmV0dXJuIGwgPT0gMSA/IDMgOiBsIDwgNiA/IDIgOiBsID09IDkgPyAxIDogMDsgfTtcbi8vIHNraXAgbG9jYWwgemlwIGhlYWRlclxudmFyIHNsemggPSBmdW5jdGlvbiAoZCwgYikgeyByZXR1cm4gYiArIDMwICsgYjIoZCwgYiArIDI2KSArIGIyKGQsIGIgKyAyOCk7IH07XG4vLyByZWFkIHppcCBoZWFkZXJcbnZhciB6aCA9IGZ1bmN0aW9uIChkLCBiLCB6KSB7XG4gICAgdmFyIGZubCA9IGIyKGQsIGIgKyAyOCksIGZuID0gc3RyRnJvbVU4KGQuc3ViYXJyYXkoYiArIDQ2LCBiICsgNDYgKyBmbmwpLCAhKGIyKGQsIGIgKyA4KSAmIDIwNDgpKSwgZXMgPSBiICsgNDYgKyBmbmwsIGJzID0gYjQoZCwgYiArIDIwKTtcbiAgICB2YXIgX2EgPSB6ICYmIGJzID09IDQyOTQ5NjcyOTUgPyB6NjRlKGQsIGVzKSA6IFticywgYjQoZCwgYiArIDI0KSwgYjQoZCwgYiArIDQyKV0sIHNjID0gX2FbMF0sIHN1ID0gX2FbMV0sIG9mZiA9IF9hWzJdO1xuICAgIHJldHVybiBbYjIoZCwgYiArIDEwKSwgc2MsIHN1LCBmbiwgZXMgKyBiMihkLCBiICsgMzApICsgYjIoZCwgYiArIDMyKSwgb2ZmXTtcbn07XG4vLyByZWFkIHppcDY0IGV4dHJhIGZpZWxkXG52YXIgejY0ZSA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICg7IGIyKGQsIGIpICE9IDE7IGIgKz0gNCArIGIyKGQsIGIgKyAyKSlcbiAgICAgICAgO1xuICAgIHJldHVybiBbYjgoZCwgYiArIDEyKSwgYjgoZCwgYiArIDQpLCBiOChkLCBiICsgMjApXTtcbn07XG4vLyBleHRyYSBmaWVsZCBsZW5ndGhcbnZhciBleGZsID0gZnVuY3Rpb24gKGV4KSB7XG4gICAgdmFyIGxlID0gMDtcbiAgICBpZiAoZXgpIHtcbiAgICAgICAgZm9yICh2YXIgayBpbiBleCkge1xuICAgICAgICAgICAgdmFyIGwgPSBleFtrXS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobCA+IDY1NTM1KVxuICAgICAgICAgICAgICAgIGVycig5KTtcbiAgICAgICAgICAgIGxlICs9IGwgKyA0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsZTtcbn07XG4vLyB3cml0ZSB6aXAgaGVhZGVyXG52YXIgd3poID0gZnVuY3Rpb24gKGQsIGIsIGYsIGZuLCB1LCBjLCBjZSwgY28pIHtcbiAgICB2YXIgZmwgPSBmbi5sZW5ndGgsIGV4ID0gZi5leHRyYSwgY29sID0gY28gJiYgY28ubGVuZ3RoO1xuICAgIHZhciBleGwgPSBleGZsKGV4KTtcbiAgICB3Ynl0ZXMoZCwgYiwgY2UgIT0gbnVsbCA/IDB4MjAxNEI1MCA6IDB4NDAzNEI1MCksIGIgKz0gNDtcbiAgICBpZiAoY2UgIT0gbnVsbClcbiAgICAgICAgZFtiKytdID0gMjAsIGRbYisrXSA9IGYub3M7XG4gICAgZFtiXSA9IDIwLCBiICs9IDI7IC8vIHNwZWMgY29tcGxpYW5jZT8gd2hhdCdzIHRoYXQ/XG4gICAgZFtiKytdID0gKGYuZmxhZyA8PCAxKSB8IChjIDwgMCAmJiA4KSwgZFtiKytdID0gdSAmJiA4O1xuICAgIGRbYisrXSA9IGYuY29tcHJlc3Npb24gJiAyNTUsIGRbYisrXSA9IGYuY29tcHJlc3Npb24gPj4gODtcbiAgICB2YXIgZHQgPSBuZXcgRGF0ZShmLm10aW1lID09IG51bGwgPyBEYXRlLm5vdygpIDogZi5tdGltZSksIHkgPSBkdC5nZXRGdWxsWWVhcigpIC0gMTk4MDtcbiAgICBpZiAoeSA8IDAgfHwgeSA+IDExOSlcbiAgICAgICAgZXJyKDEwKTtcbiAgICB3Ynl0ZXMoZCwgYiwgKHkgPDwgMjUpIHwgKChkdC5nZXRNb250aCgpICsgMSkgPDwgMjEpIHwgKGR0LmdldERhdGUoKSA8PCAxNikgfCAoZHQuZ2V0SG91cnMoKSA8PCAxMSkgfCAoZHQuZ2V0TWludXRlcygpIDw8IDUpIHwgKGR0LmdldFNlY29uZHMoKSA+PiAxKSksIGIgKz0gNDtcbiAgICBpZiAoYyAhPSAtMSkge1xuICAgICAgICB3Ynl0ZXMoZCwgYiwgZi5jcmMpO1xuICAgICAgICB3Ynl0ZXMoZCwgYiArIDQsIGMgPCAwID8gLWMgLSAyIDogYyk7XG4gICAgICAgIHdieXRlcyhkLCBiICsgOCwgZi5zaXplKTtcbiAgICB9XG4gICAgd2J5dGVzKGQsIGIgKyAxMiwgZmwpO1xuICAgIHdieXRlcyhkLCBiICsgMTQsIGV4bCksIGIgKz0gMTY7XG4gICAgaWYgKGNlICE9IG51bGwpIHtcbiAgICAgICAgd2J5dGVzKGQsIGIsIGNvbCk7XG4gICAgICAgIHdieXRlcyhkLCBiICsgNiwgZi5hdHRycyk7XG4gICAgICAgIHdieXRlcyhkLCBiICsgMTAsIGNlKSwgYiArPSAxNDtcbiAgICB9XG4gICAgZC5zZXQoZm4sIGIpO1xuICAgIGIgKz0gZmw7XG4gICAgaWYgKGV4bCkge1xuICAgICAgICBmb3IgKHZhciBrIGluIGV4KSB7XG4gICAgICAgICAgICB2YXIgZXhmID0gZXhba10sIGwgPSBleGYubGVuZ3RoO1xuICAgICAgICAgICAgd2J5dGVzKGQsIGIsICtrKTtcbiAgICAgICAgICAgIHdieXRlcyhkLCBiICsgMiwgbCk7XG4gICAgICAgICAgICBkLnNldChleGYsIGIgKyA0KSwgYiArPSA0ICsgbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29sKVxuICAgICAgICBkLnNldChjbywgYiksIGIgKz0gY29sO1xuICAgIHJldHVybiBiO1xufTtcbi8vIHdyaXRlIHppcCBmb290ZXIgKGVuZCBvZiBjZW50cmFsIGRpcmVjdG9yeSlcbnZhciB3emYgPSBmdW5jdGlvbiAobywgYiwgYywgZCwgZSkge1xuICAgIHdieXRlcyhvLCBiLCAweDYwNTRCNTApOyAvLyBza2lwIGRpc2tcbiAgICB3Ynl0ZXMobywgYiArIDgsIGMpO1xuICAgIHdieXRlcyhvLCBiICsgMTAsIGMpO1xuICAgIHdieXRlcyhvLCBiICsgMTIsIGQpO1xuICAgIHdieXRlcyhvLCBiICsgMTYsIGUpO1xufTtcbi8qKlxuICogQSBwYXNzLXRocm91Z2ggc3RyZWFtIHRvIGtlZXAgZGF0YSB1bmNvbXByZXNzZWQgaW4gYSBaSVAgYXJjaGl2ZS5cbiAqL1xudmFyIFppcFBhc3NUaHJvdWdoID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwYXNzLXRocm91Z2ggc3RyZWFtIHRoYXQgY2FuIGJlIGFkZGVkIHRvIFpJUCBhcmNoaXZlc1xuICAgICAqIEBwYXJhbSBmaWxlbmFtZSBUaGUgZmlsZW5hbWUgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBkYXRhIHN0cmVhbVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFppcFBhc3NUaHJvdWdoKGZpbGVuYW1lKSB7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBmaWxlbmFtZTtcbiAgICAgICAgdGhpcy5jID0gY3JjKCk7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuY29tcHJlc3Npb24gPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgYSBjaHVuayBhbmQgcHVzaGVzIHRvIHRoZSBvdXRwdXQgc3RyZWFtLiBZb3UgY2FuIG92ZXJyaWRlIHRoaXNcbiAgICAgKiBtZXRob2QgaW4gYSBzdWJjbGFzcyBmb3IgY3VzdG9tIGJlaGF2aW9yLCBidXQgYnkgZGVmYXVsdCB0aGlzIHBhc3Nlc1xuICAgICAqIHRoZSBkYXRhIHRocm91Z2guIFlvdSBtdXN0IGNhbGwgdGhpcy5vbmRhdGEoZXJyLCBjaHVuaywgZmluYWwpIGF0IHNvbWVcbiAgICAgKiBwb2ludCBpbiB0aGlzIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gY2h1bmsgVGhlIGNodW5rIHRvIHByb2Nlc3NcbiAgICAgKiBAcGFyYW0gZmluYWwgV2hldGhlciB0aGlzIGlzIHRoZSBsYXN0IGNodW5rXG4gICAgICovXG4gICAgWmlwUGFzc1Rocm91Z2gucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIHRoaXMub25kYXRhKG51bGwsIGNodW5rLCBmaW5hbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSBhZGRlZC4gSWYgeW91IGFyZSBzdWJjbGFzc2luZyB0aGlzIHdpdGggYSBjdXN0b21cbiAgICAgKiBjb21wcmVzc2lvbiBhbGdvcml0aG0sIG5vdGUgdGhhdCB5b3UgbXVzdCBwdXNoIGRhdGEgZnJvbSB0aGUgc291cmNlXG4gICAgICogZmlsZSBvbmx5LCBwcmUtY29tcHJlc3Npb24uXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIFppcFBhc3NUaHJvdWdoLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICB0aGlzLmMucChjaHVuayk7XG4gICAgICAgIHRoaXMuc2l6ZSArPSBjaHVuay5sZW5ndGg7XG4gICAgICAgIGlmIChmaW5hbClcbiAgICAgICAgICAgIHRoaXMuY3JjID0gdGhpcy5jLmQoKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzKGNodW5rLCBmaW5hbCB8fCBmYWxzZSk7XG4gICAgfTtcbiAgICByZXR1cm4gWmlwUGFzc1Rocm91Z2g7XG59KCkpO1xuZXhwb3J0IHsgWmlwUGFzc1Rocm91Z2ggfTtcbi8vIEkgZG9uJ3QgZXh0ZW5kIGJlY2F1c2UgVHlwZVNjcmlwdCBleHRlbnNpb24gYWRkcyAxa0Igb2YgcnVudGltZSBibG9hdFxuLyoqXG4gKiBTdHJlYW1pbmcgREVGTEFURSBjb21wcmVzc2lvbiBmb3IgWklQIGFyY2hpdmVzLiBQcmVmZXIgdXNpbmcgQXN5bmNaaXBEZWZsYXRlXG4gKiBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gKi9cbnZhciBaaXBEZWZsYXRlID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBERUZMQVRFIHN0cmVhbSB0aGF0IGNhbiBiZSBhZGRlZCB0byBaSVAgYXJjaGl2ZXNcbiAgICAgKiBAcGFyYW0gZmlsZW5hbWUgVGhlIGZpbGVuYW1lIHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgZGF0YSBzdHJlYW1cbiAgICAgKiBAcGFyYW0gb3B0cyBUaGUgY29tcHJlc3Npb24gb3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFppcERlZmxhdGUoZmlsZW5hbWUsIG9wdHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCFvcHRzKVxuICAgICAgICAgICAgb3B0cyA9IHt9O1xuICAgICAgICBaaXBQYXNzVGhyb3VnaC5jYWxsKHRoaXMsIGZpbGVuYW1lKTtcbiAgICAgICAgdGhpcy5kID0gbmV3IERlZmxhdGUob3B0cywgZnVuY3Rpb24gKGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgIF90aGlzLm9uZGF0YShudWxsLCBkYXQsIGZpbmFsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29tcHJlc3Npb24gPSA4O1xuICAgICAgICB0aGlzLmZsYWcgPSBkYmYob3B0cy5sZXZlbCk7XG4gICAgfVxuICAgIFppcERlZmxhdGUucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmQucHVzaChjaHVuaywgZmluYWwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLm9uZGF0YShlLCBudWxsLCBmaW5hbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIGRlZmxhdGVkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIFppcERlZmxhdGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIFppcFBhc3NUaHJvdWdoLnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcywgY2h1bmssIGZpbmFsKTtcbiAgICB9O1xuICAgIHJldHVybiBaaXBEZWZsYXRlO1xufSgpKTtcbmV4cG9ydCB7IFppcERlZmxhdGUgfTtcbi8qKlxuICogQXN5bmNocm9ub3VzIHN0cmVhbWluZyBERUZMQVRFIGNvbXByZXNzaW9uIGZvciBaSVAgYXJjaGl2ZXNcbiAqL1xudmFyIEFzeW5jWmlwRGVmbGF0ZSA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFzeW5jaHJvbm91cyBERUZMQVRFIHN0cmVhbSB0aGF0IGNhbiBiZSBhZGRlZCB0byBaSVAgYXJjaGl2ZXNcbiAgICAgKiBAcGFyYW0gZmlsZW5hbWUgVGhlIGZpbGVuYW1lIHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgZGF0YSBzdHJlYW1cbiAgICAgKiBAcGFyYW0gb3B0cyBUaGUgY29tcHJlc3Npb24gb3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFzeW5jWmlwRGVmbGF0ZShmaWxlbmFtZSwgb3B0cykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIW9wdHMpXG4gICAgICAgICAgICBvcHRzID0ge307XG4gICAgICAgIFppcFBhc3NUaHJvdWdoLmNhbGwodGhpcywgZmlsZW5hbWUpO1xuICAgICAgICB0aGlzLmQgPSBuZXcgQXN5bmNEZWZsYXRlKG9wdHMsIGZ1bmN0aW9uIChlcnIsIGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgIF90aGlzLm9uZGF0YShlcnIsIGRhdCwgZmluYWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb21wcmVzc2lvbiA9IDg7XG4gICAgICAgIHRoaXMuZmxhZyA9IGRiZihvcHRzLmxldmVsKTtcbiAgICAgICAgdGhpcy50ZXJtaW5hdGUgPSB0aGlzLmQudGVybWluYXRlO1xuICAgIH1cbiAgICBBc3luY1ppcERlZmxhdGUucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIHRoaXMuZC5wdXNoKGNodW5rLCBmaW5hbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSBkZWZsYXRlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBBc3luY1ppcERlZmxhdGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIFppcFBhc3NUaHJvdWdoLnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcywgY2h1bmssIGZpbmFsKTtcbiAgICB9O1xuICAgIHJldHVybiBBc3luY1ppcERlZmxhdGU7XG59KCkpO1xuZXhwb3J0IHsgQXN5bmNaaXBEZWZsYXRlIH07XG4vLyBUT0RPOiBCZXR0ZXIgdHJlZSBzaGFraW5nXG4vKipcbiAqIEEgemlwcGFibGUgYXJjaGl2ZSB0byB3aGljaCBmaWxlcyBjYW4gaW5jcmVtZW50YWxseSBiZSBhZGRlZFxuICovXG52YXIgWmlwID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gZW1wdHkgWklQIGFyY2hpdmUgdG8gd2hpY2ggZmlsZXMgY2FuIGJlIGFkZGVkXG4gICAgICogQHBhcmFtIGNiIFRoZSBjYWxsYmFjayB0byBjYWxsIHdoZW5ldmVyIGRhdGEgZm9yIHRoZSBnZW5lcmF0ZWQgWklQIGFyY2hpdmVcbiAgICAgKiAgICAgICAgICAgaXMgYXZhaWxhYmxlXG4gICAgICovXG4gICAgZnVuY3Rpb24gWmlwKGNiKSB7XG4gICAgICAgIHRoaXMub25kYXRhID0gY2I7XG4gICAgICAgIHRoaXMudSA9IFtdO1xuICAgICAgICB0aGlzLmQgPSAxO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgZmlsZSB0byB0aGUgWklQIGFyY2hpdmVcbiAgICAgKiBAcGFyYW0gZmlsZSBUaGUgZmlsZSBzdHJlYW0gdG8gYWRkXG4gICAgICovXG4gICAgWmlwLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICAvLyBmaW5pc2hpbmcgb3IgZmluaXNoZWRcbiAgICAgICAgaWYgKHRoaXMuZCAmIDIpXG4gICAgICAgICAgICB0aGlzLm9uZGF0YShlcnIoNCArICh0aGlzLmQgJiAxKSAqIDgsIDAsIDEpLCBudWxsLCBmYWxzZSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGYgPSBzdHJUb1U4KGZpbGUuZmlsZW5hbWUpLCBmbF8xID0gZi5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgY29tID0gZmlsZS5jb21tZW50LCBvID0gY29tICYmIHN0clRvVTgoY29tKTtcbiAgICAgICAgICAgIHZhciB1ID0gZmxfMSAhPSBmaWxlLmZpbGVuYW1lLmxlbmd0aCB8fCAobyAmJiAoY29tLmxlbmd0aCAhPSBvLmxlbmd0aCkpO1xuICAgICAgICAgICAgdmFyIGhsXzEgPSBmbF8xICsgZXhmbChmaWxlLmV4dHJhKSArIDMwO1xuICAgICAgICAgICAgaWYgKGZsXzEgPiA2NTUzNSlcbiAgICAgICAgICAgICAgICB0aGlzLm9uZGF0YShlcnIoMTEsIDAsIDEpLCBudWxsLCBmYWxzZSk7XG4gICAgICAgICAgICB2YXIgaGVhZGVyID0gbmV3IHU4KGhsXzEpO1xuICAgICAgICAgICAgd3poKGhlYWRlciwgMCwgZmlsZSwgZiwgdSwgLTEpO1xuICAgICAgICAgICAgdmFyIGNoa3NfMSA9IFtoZWFkZXJdO1xuICAgICAgICAgICAgdmFyIHBBbGxfMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGNoa3NfMiA9IGNoa3NfMTsgX2kgPCBjaGtzXzIubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGsgPSBjaGtzXzJbX2ldO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbmRhdGEobnVsbCwgY2hrLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNoa3NfMSA9IFtdO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciB0cl8xID0gdGhpcy5kO1xuICAgICAgICAgICAgdGhpcy5kID0gMDtcbiAgICAgICAgICAgIHZhciBpbmRfMSA9IHRoaXMudS5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgdWZfMSA9IG1yZyhmaWxlLCB7XG4gICAgICAgICAgICAgICAgZjogZixcbiAgICAgICAgICAgICAgICB1OiB1LFxuICAgICAgICAgICAgICAgIG86IG8sXG4gICAgICAgICAgICAgICAgdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS50ZXJtaW5hdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlLnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBwQWxsXzEoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBueHQgPSBfdGhpcy51W2luZF8xICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnh0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG54dC5yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJfMSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgY2xfMSA9IDA7XG4gICAgICAgICAgICBmaWxlLm9uZGF0YSA9IGZ1bmN0aW9uIChlcnIsIGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uZGF0YShlcnIsIGRhdCwgZmluYWwpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNsXzEgKz0gZGF0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgY2hrc18xLnB1c2goZGF0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGQgPSBuZXcgdTgoMTYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2J5dGVzKGRkLCAwLCAweDgwNzRCNTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2J5dGVzKGRkLCA0LCBmaWxlLmNyYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3Ynl0ZXMoZGQsIDgsIGNsXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2J5dGVzKGRkLCAxMiwgZmlsZS5zaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoa3NfMS5wdXNoKGRkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVmXzEuYyA9IGNsXzEsIHVmXzEuYiA9IGhsXzEgKyBjbF8xICsgMTYsIHVmXzEuY3JjID0gZmlsZS5jcmMsIHVmXzEuc2l6ZSA9IGZpbGUuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cl8xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmXzEucigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJfMSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHJfMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHBBbGxfMSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnUucHVzaCh1Zl8xKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5kcyB0aGUgcHJvY2VzcyBvZiBhZGRpbmcgZmlsZXMgYW5kIHByZXBhcmVzIHRvIGVtaXQgdGhlIGZpbmFsIGNodW5rcy5cbiAgICAgKiBUaGlzICptdXN0KiBiZSBjYWxsZWQgYWZ0ZXIgYWRkaW5nIGFsbCBkZXNpcmVkIGZpbGVzIGZvciB0aGUgcmVzdWx0aW5nXG4gICAgICogWklQIGZpbGUgdG8gd29yayBwcm9wZXJseS5cbiAgICAgKi9cbiAgICBaaXAucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuZCAmIDIpIHtcbiAgICAgICAgICAgIHRoaXMub25kYXRhKGVycig0ICsgKHRoaXMuZCAmIDEpICogOCwgMCwgMSksIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmQpXG4gICAgICAgICAgICB0aGlzLmUoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy51LnB1c2goe1xuICAgICAgICAgICAgICAgIHI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuZCAmIDEpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy51LnNwbGljZSgtMSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHQ6IGZ1bmN0aW9uICgpIHsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZCA9IDM7XG4gICAgfTtcbiAgICBaaXAucHJvdG90eXBlLmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBidCA9IDAsIGwgPSAwLCB0bCA9IDA7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnU7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZiA9IF9hW19pXTtcbiAgICAgICAgICAgIHRsICs9IDQ2ICsgZi5mLmxlbmd0aCArIGV4ZmwoZi5leHRyYSkgKyAoZi5vID8gZi5vLmxlbmd0aCA6IDApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXQgPSBuZXcgdTgodGwgKyAyMik7XG4gICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSB0aGlzLnU7IF9iIDwgX2MubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICB2YXIgZiA9IF9jW19iXTtcbiAgICAgICAgICAgIHd6aChvdXQsIGJ0LCBmLCBmLmYsIGYudSwgLWYuYyAtIDIsIGwsIGYubyk7XG4gICAgICAgICAgICBidCArPSA0NiArIGYuZi5sZW5ndGggKyBleGZsKGYuZXh0cmEpICsgKGYubyA/IGYuby5sZW5ndGggOiAwKSwgbCArPSBmLmI7XG4gICAgICAgIH1cbiAgICAgICAgd3pmKG91dCwgYnQsIHRoaXMudS5sZW5ndGgsIHRsLCBsKTtcbiAgICAgICAgdGhpcy5vbmRhdGEobnVsbCwgb3V0LCB0cnVlKTtcbiAgICAgICAgdGhpcy5kID0gMjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgbWV0aG9kIHRvIHRlcm1pbmF0ZSBhbnkgaW50ZXJuYWwgd29ya2VycyB1c2VkIGJ5IHRoZSBzdHJlYW0uIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byBhZGQoKSB3aWxsIGZhaWwuXG4gICAgICovXG4gICAgWmlwLnByb3RvdHlwZS50ZXJtaW5hdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnU7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZiA9IF9hW19pXTtcbiAgICAgICAgICAgIGYudCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZCA9IDI7XG4gICAgfTtcbiAgICByZXR1cm4gWmlwO1xufSgpKTtcbmV4cG9ydCB7IFppcCB9O1xuZXhwb3J0IGZ1bmN0aW9uIHppcChkYXRhLCBvcHRzLCBjYikge1xuICAgIGlmICghY2IpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2YgY2IgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZXJyKDcpO1xuICAgIHZhciByID0ge307XG4gICAgZmx0bihkYXRhLCAnJywgciwgb3B0cyk7XG4gICAgdmFyIGsgPSBPYmplY3Qua2V5cyhyKTtcbiAgICB2YXIgbGZ0ID0gay5sZW5ndGgsIG8gPSAwLCB0b3QgPSAwO1xuICAgIHZhciBzbGZ0ID0gbGZ0LCBmaWxlcyA9IG5ldyBBcnJheShsZnQpO1xuICAgIHZhciB0ZXJtID0gW107XG4gICAgdmFyIHRBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVybS5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHRlcm1baV0oKTtcbiAgICB9O1xuICAgIHZhciBjYmQgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBtdChmdW5jdGlvbiAoKSB7IGNiKGEsIGIpOyB9KTtcbiAgICB9O1xuICAgIG10KGZ1bmN0aW9uICgpIHsgY2JkID0gY2I7IH0pO1xuICAgIHZhciBjYmYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvdXQgPSBuZXcgdTgodG90ICsgMjIpLCBvZSA9IG8sIGNkbCA9IHRvdCAtIG87XG4gICAgICAgIHRvdCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xmdDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZiA9IGZpbGVzW2ldO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgbCA9IGYuYy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgd3poKG91dCwgdG90LCBmLCBmLmYsIGYudSwgbCk7XG4gICAgICAgICAgICAgICAgdmFyIGJhZGQgPSAzMCArIGYuZi5sZW5ndGggKyBleGZsKGYuZXh0cmEpO1xuICAgICAgICAgICAgICAgIHZhciBsb2MgPSB0b3QgKyBiYWRkO1xuICAgICAgICAgICAgICAgIG91dC5zZXQoZi5jLCBsb2MpO1xuICAgICAgICAgICAgICAgIHd6aChvdXQsIG8sIGYsIGYuZiwgZi51LCBsLCB0b3QsIGYubSksIG8gKz0gMTYgKyBiYWRkICsgKGYubSA/IGYubS5sZW5ndGggOiAwKSwgdG90ID0gbG9jICsgbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNiZChlLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB3emYob3V0LCBvLCBmaWxlcy5sZW5ndGgsIGNkbCwgb2UpO1xuICAgICAgICBjYmQobnVsbCwgb3V0KTtcbiAgICB9O1xuICAgIGlmICghbGZ0KVxuICAgICAgICBjYmYoKTtcbiAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHZhciBmbiA9IGtbaV07XG4gICAgICAgIHZhciBfYSA9IHJbZm5dLCBmaWxlID0gX2FbMF0sIHAgPSBfYVsxXTtcbiAgICAgICAgdmFyIGMgPSBjcmMoKSwgc2l6ZSA9IGZpbGUubGVuZ3RoO1xuICAgICAgICBjLnAoZmlsZSk7XG4gICAgICAgIHZhciBmID0gc3RyVG9VOChmbiksIHMgPSBmLmxlbmd0aDtcbiAgICAgICAgdmFyIGNvbSA9IHAuY29tbWVudCwgbSA9IGNvbSAmJiBzdHJUb1U4KGNvbSksIG1zID0gbSAmJiBtLmxlbmd0aDtcbiAgICAgICAgdmFyIGV4bCA9IGV4ZmwocC5leHRyYSk7XG4gICAgICAgIHZhciBjb21wcmVzc2lvbiA9IHAubGV2ZWwgPT0gMCA/IDAgOiA4O1xuICAgICAgICB2YXIgY2JsID0gZnVuY3Rpb24gKGUsIGQpIHtcbiAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgICAgdEFsbCgpO1xuICAgICAgICAgICAgICAgIGNiZChlLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBsID0gZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZmlsZXNbaV0gPSBtcmcocCwge1xuICAgICAgICAgICAgICAgICAgICBzaXplOiBzaXplLFxuICAgICAgICAgICAgICAgICAgICBjcmM6IGMuZCgpLFxuICAgICAgICAgICAgICAgICAgICBjOiBkLFxuICAgICAgICAgICAgICAgICAgICBmOiBmLFxuICAgICAgICAgICAgICAgICAgICBtOiBtLFxuICAgICAgICAgICAgICAgICAgICB1OiBzICE9IGZuLmxlbmd0aCB8fCAobSAmJiAoY29tLmxlbmd0aCAhPSBtcykpLFxuICAgICAgICAgICAgICAgICAgICBjb21wcmVzc2lvbjogY29tcHJlc3Npb25cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvICs9IDMwICsgcyArIGV4bCArIGw7XG4gICAgICAgICAgICAgICAgdG90ICs9IDc2ICsgMiAqIChzICsgZXhsKSArIChtcyB8fCAwKSArIGw7XG4gICAgICAgICAgICAgICAgaWYgKCEtLWxmdClcbiAgICAgICAgICAgICAgICAgICAgY2JmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChzID4gNjU1MzUpXG4gICAgICAgICAgICBjYmwoZXJyKDExLCAwLCAxKSwgbnVsbCk7XG4gICAgICAgIGlmICghY29tcHJlc3Npb24pXG4gICAgICAgICAgICBjYmwobnVsbCwgZmlsZSk7XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAxNjAwMDApIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY2JsKG51bGwsIGRlZmxhdGVTeW5jKGZpbGUsIHApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY2JsKGUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRlcm0ucHVzaChkZWZsYXRlKGZpbGUsIHAsIGNibCkpO1xuICAgIH07XG4gICAgLy8gQ2Fubm90IHVzZSBsZnQgYmVjYXVzZSBpdCBjYW4gZGVjcmVhc2VcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsZnQ7ICsraSkge1xuICAgICAgICBfbG9vcF8xKGkpO1xuICAgIH1cbiAgICByZXR1cm4gdEFsbDtcbn1cbi8qKlxuICogU3luY2hyb25vdXNseSBjcmVhdGVzIGEgWklQIGZpbGUuIFByZWZlciB1c2luZyBgemlwYCBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gKiB3aXRoIG1vcmUgdGhhbiBvbmUgZmlsZS5cbiAqIEBwYXJhbSBkYXRhIFRoZSBkaXJlY3Rvcnkgc3RydWN0dXJlIGZvciB0aGUgWklQIGFyY2hpdmVcbiAqIEBwYXJhbSBvcHRzIFRoZSBtYWluIG9wdGlvbnMsIG1lcmdlZCB3aXRoIHBlci1maWxlIG9wdGlvbnNcbiAqIEByZXR1cm5zIFRoZSBnZW5lcmF0ZWQgWklQIGFyY2hpdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHppcFN5bmMoZGF0YSwgb3B0cykge1xuICAgIGlmICghb3B0cylcbiAgICAgICAgb3B0cyA9IHt9O1xuICAgIHZhciByID0ge307XG4gICAgdmFyIGZpbGVzID0gW107XG4gICAgZmx0bihkYXRhLCAnJywgciwgb3B0cyk7XG4gICAgdmFyIG8gPSAwO1xuICAgIHZhciB0b3QgPSAwO1xuICAgIGZvciAodmFyIGZuIGluIHIpIHtcbiAgICAgICAgdmFyIF9hID0gcltmbl0sIGZpbGUgPSBfYVswXSwgcCA9IF9hWzFdO1xuICAgICAgICB2YXIgY29tcHJlc3Npb24gPSBwLmxldmVsID09IDAgPyAwIDogODtcbiAgICAgICAgdmFyIGYgPSBzdHJUb1U4KGZuKSwgcyA9IGYubGVuZ3RoO1xuICAgICAgICB2YXIgY29tID0gcC5jb21tZW50LCBtID0gY29tICYmIHN0clRvVTgoY29tKSwgbXMgPSBtICYmIG0ubGVuZ3RoO1xuICAgICAgICB2YXIgZXhsID0gZXhmbChwLmV4dHJhKTtcbiAgICAgICAgaWYgKHMgPiA2NTUzNSlcbiAgICAgICAgICAgIGVycigxMSk7XG4gICAgICAgIHZhciBkID0gY29tcHJlc3Npb24gPyBkZWZsYXRlU3luYyhmaWxlLCBwKSA6IGZpbGUsIGwgPSBkLmxlbmd0aDtcbiAgICAgICAgdmFyIGMgPSBjcmMoKTtcbiAgICAgICAgYy5wKGZpbGUpO1xuICAgICAgICBmaWxlcy5wdXNoKG1yZyhwLCB7XG4gICAgICAgICAgICBzaXplOiBmaWxlLmxlbmd0aCxcbiAgICAgICAgICAgIGNyYzogYy5kKCksXG4gICAgICAgICAgICBjOiBkLFxuICAgICAgICAgICAgZjogZixcbiAgICAgICAgICAgIG06IG0sXG4gICAgICAgICAgICB1OiBzICE9IGZuLmxlbmd0aCB8fCAobSAmJiAoY29tLmxlbmd0aCAhPSBtcykpLFxuICAgICAgICAgICAgbzogbyxcbiAgICAgICAgICAgIGNvbXByZXNzaW9uOiBjb21wcmVzc2lvblxuICAgICAgICB9KSk7XG4gICAgICAgIG8gKz0gMzAgKyBzICsgZXhsICsgbDtcbiAgICAgICAgdG90ICs9IDc2ICsgMiAqIChzICsgZXhsKSArIChtcyB8fCAwKSArIGw7XG4gICAgfVxuICAgIHZhciBvdXQgPSBuZXcgdTgodG90ICsgMjIpLCBvZSA9IG8sIGNkbCA9IHRvdCAtIG87XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgZiA9IGZpbGVzW2ldO1xuICAgICAgICB3emgob3V0LCBmLm8sIGYsIGYuZiwgZi51LCBmLmMubGVuZ3RoKTtcbiAgICAgICAgdmFyIGJhZGQgPSAzMCArIGYuZi5sZW5ndGggKyBleGZsKGYuZXh0cmEpO1xuICAgICAgICBvdXQuc2V0KGYuYywgZi5vICsgYmFkZCk7XG4gICAgICAgIHd6aChvdXQsIG8sIGYsIGYuZiwgZi51LCBmLmMubGVuZ3RoLCBmLm8sIGYubSksIG8gKz0gMTYgKyBiYWRkICsgKGYubSA/IGYubS5sZW5ndGggOiAwKTtcbiAgICB9XG4gICAgd3pmKG91dCwgbywgZmlsZXMubGVuZ3RoLCBjZGwsIG9lKTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdHJlYW1pbmcgcGFzcy10aHJvdWdoIGRlY29tcHJlc3Npb24gZm9yIFpJUCBhcmNoaXZlc1xuICovXG52YXIgVW56aXBQYXNzVGhyb3VnaCA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVbnppcFBhc3NUaHJvdWdoKCkge1xuICAgIH1cbiAgICBVbnppcFBhc3NUaHJvdWdoLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGRhdGEsIGZpbmFsKSB7XG4gICAgICAgIHRoaXMub25kYXRhKG51bGwsIGRhdGEsIGZpbmFsKTtcbiAgICB9O1xuICAgIFVuemlwUGFzc1Rocm91Z2guY29tcHJlc3Npb24gPSAwO1xuICAgIHJldHVybiBVbnppcFBhc3NUaHJvdWdoO1xufSgpKTtcbmV4cG9ydCB7IFVuemlwUGFzc1Rocm91Z2ggfTtcbi8qKlxuICogU3RyZWFtaW5nIERFRkxBVEUgZGVjb21wcmVzc2lvbiBmb3IgWklQIGFyY2hpdmVzLiBQcmVmZXIgQXN5bmNaaXBJbmZsYXRlIGZvclxuICogYmV0dGVyIHBlcmZvcm1hbmNlLlxuICovXG52YXIgVW56aXBJbmZsYXRlID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBERUZMQVRFIGRlY29tcHJlc3Npb24gdGhhdCBjYW4gYmUgdXNlZCBpbiBaSVAgYXJjaGl2ZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBVbnppcEluZmxhdGUoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuaSA9IG5ldyBJbmZsYXRlKGZ1bmN0aW9uIChkYXQsIGZpbmFsKSB7XG4gICAgICAgICAgICBfdGhpcy5vbmRhdGEobnVsbCwgZGF0LCBmaW5hbCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBVbnppcEluZmxhdGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoZGF0YSwgZmluYWwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuaS5wdXNoKGRhdGEsIGZpbmFsKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5vbmRhdGEoZSwgbnVsbCwgZmluYWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBVbnppcEluZmxhdGUuY29tcHJlc3Npb24gPSA4O1xuICAgIHJldHVybiBVbnppcEluZmxhdGU7XG59KCkpO1xuZXhwb3J0IHsgVW56aXBJbmZsYXRlIH07XG4vKipcbiAqIEFzeW5jaHJvbm91cyBzdHJlYW1pbmcgREVGTEFURSBkZWNvbXByZXNzaW9uIGZvciBaSVAgYXJjaGl2ZXNcbiAqL1xudmFyIEFzeW5jVW56aXBJbmZsYXRlID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBERUZMQVRFIGRlY29tcHJlc3Npb24gdGhhdCBjYW4gYmUgdXNlZCBpbiBaSVAgYXJjaGl2ZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBc3luY1VuemlwSW5mbGF0ZShfLCBzeikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoc3ogPCAzMjAwMDApIHtcbiAgICAgICAgICAgIHRoaXMuaSA9IG5ldyBJbmZsYXRlKGZ1bmN0aW9uIChkYXQsIGZpbmFsKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub25kYXRhKG51bGwsIGRhdCwgZmluYWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmkgPSBuZXcgQXN5bmNJbmZsYXRlKGZ1bmN0aW9uIChlcnIsIGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbmRhdGEoZXJyLCBkYXQsIGZpbmFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGUgPSB0aGlzLmkudGVybWluYXRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIEFzeW5jVW56aXBJbmZsYXRlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGRhdGEsIGZpbmFsKSB7XG4gICAgICAgIGlmICh0aGlzLmkudGVybWluYXRlKVxuICAgICAgICAgICAgZGF0YSA9IHNsYyhkYXRhLCAwKTtcbiAgICAgICAgdGhpcy5pLnB1c2goZGF0YSwgZmluYWwpO1xuICAgIH07XG4gICAgQXN5bmNVbnppcEluZmxhdGUuY29tcHJlc3Npb24gPSA4O1xuICAgIHJldHVybiBBc3luY1VuemlwSW5mbGF0ZTtcbn0oKSk7XG5leHBvcnQgeyBBc3luY1VuemlwSW5mbGF0ZSB9O1xuLyoqXG4gKiBBIFpJUCBhcmNoaXZlIGRlY29tcHJlc3Npb24gc3RyZWFtIHRoYXQgZW1pdHMgZmlsZXMgYXMgdGhleSBhcmUgZGlzY292ZXJlZFxuICovXG52YXIgVW56aXAgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFpJUCBkZWNvbXByZXNzaW9uIHN0cmVhbVxuICAgICAqIEBwYXJhbSBjYiBUaGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuZXZlciBhIGZpbGUgaW4gdGhlIFpJUCBhcmNoaXZlIGlzIGZvdW5kXG4gICAgICovXG4gICAgZnVuY3Rpb24gVW56aXAoY2IpIHtcbiAgICAgICAgdGhpcy5vbmZpbGUgPSBjYjtcbiAgICAgICAgdGhpcy5rID0gW107XG4gICAgICAgIHRoaXMubyA9IHtcbiAgICAgICAgICAgIDA6IFVuemlwUGFzc1Rocm91Z2hcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wID0gZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIHVuemlwcGVkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIFVuemlwLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMub25maWxlKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAoIXRoaXMucClcbiAgICAgICAgICAgIGVycig0KTtcbiAgICAgICAgaWYgKHRoaXMuYyA+IDApIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSBNYXRoLm1pbih0aGlzLmMsIGNodW5rLmxlbmd0aCk7XG4gICAgICAgICAgICB2YXIgdG9BZGQgPSBjaHVuay5zdWJhcnJheSgwLCBsZW4pO1xuICAgICAgICAgICAgdGhpcy5jIC09IGxlbjtcbiAgICAgICAgICAgIGlmICh0aGlzLmQpXG4gICAgICAgICAgICAgICAgdGhpcy5kLnB1c2godG9BZGQsICF0aGlzLmMpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMua1swXS5wdXNoKHRvQWRkKTtcbiAgICAgICAgICAgIGNodW5rID0gY2h1bmsuc3ViYXJyYXkobGVuKTtcbiAgICAgICAgICAgIGlmIChjaHVuay5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaChjaHVuaywgZmluYWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGYgPSAwLCBpID0gMCwgaXMgPSB2b2lkIDAsIGJ1ZiA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICghdGhpcy5wLmxlbmd0aClcbiAgICAgICAgICAgICAgICBidWYgPSBjaHVuaztcbiAgICAgICAgICAgIGVsc2UgaWYgKCFjaHVuay5sZW5ndGgpXG4gICAgICAgICAgICAgICAgYnVmID0gdGhpcy5wO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnVmID0gbmV3IHU4KHRoaXMucC5sZW5ndGggKyBjaHVuay5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGJ1Zi5zZXQodGhpcy5wKSwgYnVmLnNldChjaHVuaywgdGhpcy5wLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbCA9IGJ1Zi5sZW5ndGgsIG9jID0gdGhpcy5jLCBhZGQgPSBvYyAmJiB0aGlzLmQ7XG4gICAgICAgICAgICB2YXIgX2xvb3BfMiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdmFyIHNpZyA9IGI0KGJ1ZiwgaSk7XG4gICAgICAgICAgICAgICAgaWYgKHNpZyA9PSAweDQwMzRCNTApIHtcbiAgICAgICAgICAgICAgICAgICAgZiA9IDEsIGlzID0gaTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc18xLmQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzXzEuYyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiZiA9IGIyKGJ1ZiwgaSArIDYpLCBjbXBfMSA9IGIyKGJ1ZiwgaSArIDgpLCB1ID0gYmYgJiAyMDQ4LCBkZCA9IGJmICYgOCwgZm5sID0gYjIoYnVmLCBpICsgMjYpLCBlcyA9IGIyKGJ1ZiwgaSArIDI4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGwgPiBpICsgMzAgKyBmbmwgKyBlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoa3NfMyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLmsudW5zaGlmdChjaGtzXzMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZiA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2NfMSA9IGI0KGJ1ZiwgaSArIDE4KSwgc3VfMSA9IGI0KGJ1ZiwgaSArIDIyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbl8xID0gc3RyRnJvbVU4KGJ1Zi5zdWJhcnJheShpICsgMzAsIGkgKz0gMzAgKyBmbmwpLCAhdSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NfMSA9PSA0Mjk0OTY3Mjk1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBkZCA/IFstMl0gOiB6NjRlKGJ1ZiwgaSksIHNjXzEgPSBfYVswXSwgc3VfMSA9IF9hWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NfMSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSArPSBlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jID0gc2NfMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkXzE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZV8xID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZuXzEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHJlc3Npb246IGNtcF8xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmlsZV8xLm9uZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycig1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzY18xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV8xLm9uZGF0YShudWxsLCBldCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN0ciA9IF90aGlzLm9bY21wXzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdHIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV8xLm9uZGF0YShlcnIoMTQsICd1bmtub3duIGNvbXByZXNzaW9uIHR5cGUgJyArIGNtcF8xLCAxKSwgbnVsbCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZF8xID0gc2NfMSA8IDAgPyBuZXcgY3RyKGZuXzEpIDogbmV3IGN0cihmbl8xLCBzY18xLCBzdV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRfMS5vbmRhdGEgPSBmdW5jdGlvbiAoZXJyLCBkYXQsIGZpbmFsKSB7IGZpbGVfMS5vbmRhdGEoZXJyLCBkYXQsIGZpbmFsKTsgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgY2hrc180ID0gY2hrc18zOyBfaSA8IGNoa3NfNC5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ID0gY2hrc180W19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkXzEucHVzaChkYXQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5rWzBdID09IGNoa3NfMyAmJiBfdGhpcy5jKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmQgPSBkXzE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZF8xLnB1c2goZXQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRfMSAmJiBkXzEudGVybWluYXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZF8xLnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NfMSA+PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfMS5zaXplID0gc2NfMSwgZmlsZV8xLm9yaWdpbmFsU2l6ZSA9IHN1XzE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEub25maWxlKGZpbGVfMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYnJlYWtcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpZyA9PSAweDgwNzRCNTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzID0gaSArPSAxMiArIChvYyA9PSAtMiAmJiA4KSwgZiA9IDMsIHRoaXNfMS5jID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImJyZWFrXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnID09IDB4MjAxNEI1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXMgPSBpIC09IDQsIGYgPSAzLCB0aGlzXzEuYyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJicmVha1wiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciB0aGlzXzEgPSB0aGlzO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBsIC0gNDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlXzEgPSBfbG9vcF8yKCk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlXzEgPT09IFwiYnJlYWtcIilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnAgPSBldDtcbiAgICAgICAgICAgIGlmIChvYyA8IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0ID0gZiA/IGJ1Zi5zdWJhcnJheSgwLCBpcyAtIDEyIC0gKG9jID09IC0yICYmIDgpIC0gKGI0KGJ1ZiwgaXMgLSAxNikgPT0gMHg4MDc0QjUwICYmIDQpKSA6IGJ1Zi5zdWJhcnJheSgwLCBpKTtcbiAgICAgICAgICAgICAgICBpZiAoYWRkKVxuICAgICAgICAgICAgICAgICAgICBhZGQucHVzaChkYXQsICEhZik7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmtbKyhmID09IDIpXS5wdXNoKGRhdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZiAmIDIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaChidWYuc3ViYXJyYXkoaSksIGZpbmFsKTtcbiAgICAgICAgICAgIHRoaXMucCA9IGJ1Zi5zdWJhcnJheShpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmluYWwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmMpXG4gICAgICAgICAgICAgICAgZXJyKDEzKTtcbiAgICAgICAgICAgIHRoaXMucCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGRlY29kZXIgd2l0aCB0aGUgc3RyZWFtLCBhbGxvd2luZyBmb3IgZmlsZXMgY29tcHJlc3NlZCB3aXRoXG4gICAgICogdGhlIGNvbXByZXNzaW9uIHR5cGUgcHJvdmlkZWQgdG8gYmUgZXhwYW5kZWQgY29ycmVjdGx5XG4gICAgICogQHBhcmFtIGRlY29kZXIgVGhlIGRlY29kZXIgY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBVbnppcC5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgICAgICB0aGlzLm9bZGVjb2Rlci5jb21wcmVzc2lvbl0gPSBkZWNvZGVyO1xuICAgIH07XG4gICAgcmV0dXJuIFVuemlwO1xufSgpKTtcbmV4cG9ydCB7IFVuemlwIH07XG52YXIgbXQgPSB0eXBlb2YgcXVldWVNaWNyb3Rhc2sgPT0gJ2Z1bmN0aW9uJyA/IHF1ZXVlTWljcm90YXNrIDogdHlwZW9mIHNldFRpbWVvdXQgPT0gJ2Z1bmN0aW9uJyA/IHNldFRpbWVvdXQgOiBmdW5jdGlvbiAoZm4pIHsgZm4oKTsgfTtcbmV4cG9ydCBmdW5jdGlvbiB1bnppcChkYXRhLCBvcHRzLCBjYikge1xuICAgIGlmICghY2IpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2YgY2IgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZXJyKDcpO1xuICAgIHZhciB0ZXJtID0gW107XG4gICAgdmFyIHRBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVybS5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHRlcm1baV0oKTtcbiAgICB9O1xuICAgIHZhciBmaWxlcyA9IHt9O1xuICAgIHZhciBjYmQgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBtdChmdW5jdGlvbiAoKSB7IGNiKGEsIGIpOyB9KTtcbiAgICB9O1xuICAgIG10KGZ1bmN0aW9uICgpIHsgY2JkID0gY2I7IH0pO1xuICAgIHZhciBlID0gZGF0YS5sZW5ndGggLSAyMjtcbiAgICBmb3IgKDsgYjQoZGF0YSwgZSkgIT0gMHg2MDU0QjUwOyAtLWUpIHtcbiAgICAgICAgaWYgKCFlIHx8IGRhdGEubGVuZ3RoIC0gZSA+IDY1NTU4KSB7XG4gICAgICAgICAgICBjYmQoZXJyKDEzLCAwLCAxKSwgbnVsbCk7XG4gICAgICAgICAgICByZXR1cm4gdEFsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICA7XG4gICAgdmFyIGxmdCA9IGIyKGRhdGEsIGUgKyA4KTtcbiAgICBpZiAobGZ0KSB7XG4gICAgICAgIHZhciBjID0gbGZ0O1xuICAgICAgICB2YXIgbyA9IGI0KGRhdGEsIGUgKyAxNik7XG4gICAgICAgIHZhciB6ID0gbyA9PSA0Mjk0OTY3Mjk1IHx8IGMgPT0gNjU1MzU7XG4gICAgICAgIGlmICh6KSB7XG4gICAgICAgICAgICB2YXIgemUgPSBiNChkYXRhLCBlIC0gMTIpO1xuICAgICAgICAgICAgeiA9IGI0KGRhdGEsIHplKSA9PSAweDYwNjRCNTA7XG4gICAgICAgICAgICBpZiAoeikge1xuICAgICAgICAgICAgICAgIGMgPSBsZnQgPSBiNChkYXRhLCB6ZSArIDMyKTtcbiAgICAgICAgICAgICAgICBvID0gYjQoZGF0YSwgemUgKyA0OCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZsdHIgPSBvcHRzICYmIG9wdHMuZmlsdGVyO1xuICAgICAgICB2YXIgX2xvb3BfMyA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB6aChkYXRhLCBvLCB6KSwgY18xID0gX2FbMF0sIHNjID0gX2FbMV0sIHN1ID0gX2FbMl0sIGZuID0gX2FbM10sIG5vID0gX2FbNF0sIG9mZiA9IF9hWzVdLCBiID0gc2x6aChkYXRhLCBvZmYpO1xuICAgICAgICAgICAgbyA9IG5vO1xuICAgICAgICAgICAgdmFyIGNibCA9IGZ1bmN0aW9uIChlLCBkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdEFsbCgpO1xuICAgICAgICAgICAgICAgICAgICBjYmQoZSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzW2ZuXSA9IGQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICghLS1sZnQpXG4gICAgICAgICAgICAgICAgICAgICAgICBjYmQobnVsbCwgZmlsZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIWZsdHIgfHwgZmx0cih7XG4gICAgICAgICAgICAgICAgbmFtZTogZm4sXG4gICAgICAgICAgICAgICAgc2l6ZTogc2MsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxTaXplOiBzdSxcbiAgICAgICAgICAgICAgICBjb21wcmVzc2lvbjogY18xXG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIGlmICghY18xKVxuICAgICAgICAgICAgICAgICAgICBjYmwobnVsbCwgc2xjKGRhdGEsIGIsIGIgKyBzYykpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNfMSA9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmZsID0gZGF0YS5zdWJhcnJheShiLCBiICsgc2MpO1xuICAgICAgICAgICAgICAgICAgICAvLyBTeW5jaHJvbm91c2x5IGRlY29tcHJlc3MgdW5kZXIgNTEyS0IsIG9yIGJhcmVseS1jb21wcmVzc2VkIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1IDwgNTI0Mjg4IHx8IHNjID4gMC44ICogc3UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2JsKG51bGwsIGluZmxhdGVTeW5jKGluZmwsIHsgb3V0OiBuZXcgdTgoc3UpIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2JsKGUsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm0ucHVzaChpbmZsYXRlKGluZmwsIHsgc2l6ZTogc3UgfSwgY2JsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY2JsKGVycigxNCwgJ3Vua25vd24gY29tcHJlc3Npb24gdHlwZSAnICsgY18xLCAxKSwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY2JsKG51bGwsIG51bGwpO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGM7ICsraSkge1xuICAgICAgICAgICAgX2xvb3BfMyhpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlXG4gICAgICAgIGNiZChudWxsLCB7fSk7XG4gICAgcmV0dXJuIHRBbGw7XG59XG4vKipcbiAqIFN5bmNocm9ub3VzbHkgZGVjb21wcmVzc2VzIGEgWklQIGFyY2hpdmUuIFByZWZlciB1c2luZyBgdW56aXBgIGZvciBiZXR0ZXJcbiAqIHBlcmZvcm1hbmNlIHdpdGggbW9yZSB0aGFuIG9uZSBmaWxlLlxuICogQHBhcmFtIGRhdGEgVGhlIHJhdyBjb21wcmVzc2VkIFpJUCBmaWxlXG4gKiBAcGFyYW0gb3B0cyBUaGUgWklQIGV4dHJhY3Rpb24gb3B0aW9uc1xuICogQHJldHVybnMgVGhlIGRlY29tcHJlc3NlZCBmaWxlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdW56aXBTeW5jKGRhdGEsIG9wdHMpIHtcbiAgICB2YXIgZmlsZXMgPSB7fTtcbiAgICB2YXIgZSA9IGRhdGEubGVuZ3RoIC0gMjI7XG4gICAgZm9yICg7IGI0KGRhdGEsIGUpICE9IDB4NjA1NEI1MDsgLS1lKSB7XG4gICAgICAgIGlmICghZSB8fCBkYXRhLmxlbmd0aCAtIGUgPiA2NTU1OClcbiAgICAgICAgICAgIGVycigxMyk7XG4gICAgfVxuICAgIDtcbiAgICB2YXIgYyA9IGIyKGRhdGEsIGUgKyA4KTtcbiAgICBpZiAoIWMpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICB2YXIgbyA9IGI0KGRhdGEsIGUgKyAxNik7XG4gICAgdmFyIHogPSBvID09IDQyOTQ5NjcyOTUgfHwgYyA9PSA2NTUzNTtcbiAgICBpZiAoeikge1xuICAgICAgICB2YXIgemUgPSBiNChkYXRhLCBlIC0gMTIpO1xuICAgICAgICB6ID0gYjQoZGF0YSwgemUpID09IDB4NjA2NEI1MDtcbiAgICAgICAgaWYgKHopIHtcbiAgICAgICAgICAgIGMgPSBiNChkYXRhLCB6ZSArIDMyKTtcbiAgICAgICAgICAgIG8gPSBiNChkYXRhLCB6ZSArIDQ4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgZmx0ciA9IG9wdHMgJiYgb3B0cy5maWx0ZXI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjOyArK2kpIHtcbiAgICAgICAgdmFyIF9hID0gemgoZGF0YSwgbywgeiksIGNfMiA9IF9hWzBdLCBzYyA9IF9hWzFdLCBzdSA9IF9hWzJdLCBmbiA9IF9hWzNdLCBubyA9IF9hWzRdLCBvZmYgPSBfYVs1XSwgYiA9IHNsemgoZGF0YSwgb2ZmKTtcbiAgICAgICAgbyA9IG5vO1xuICAgICAgICBpZiAoIWZsdHIgfHwgZmx0cih7XG4gICAgICAgICAgICBuYW1lOiBmbixcbiAgICAgICAgICAgIHNpemU6IHNjLFxuICAgICAgICAgICAgb3JpZ2luYWxTaXplOiBzdSxcbiAgICAgICAgICAgIGNvbXByZXNzaW9uOiBjXzJcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIGlmICghY18yKVxuICAgICAgICAgICAgICAgIGZpbGVzW2ZuXSA9IHNsYyhkYXRhLCBiLCBiICsgc2MpO1xuICAgICAgICAgICAgZWxzZSBpZiAoY18yID09IDgpXG4gICAgICAgICAgICAgICAgZmlsZXNbZm5dID0gaW5mbGF0ZVN5bmMoZGF0YS5zdWJhcnJheShiLCBiICsgc2MpLCB7IG91dDogbmV3IHU4KHN1KSB9KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBlcnIoMTQsICd1bmtub3duIGNvbXByZXNzaW9uIHR5cGUgJyArIGNfMik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZpbGVzO1xufVxuIiwKICAgICIvKipcbiAqIEhlbHBlcnMuXG4gKi9cblxudmFyIHMgPSAxMDAwO1xudmFyIG0gPSBzICogNjA7XG52YXIgaCA9IG0gKiA2MDtcbnZhciBkID0gaCAqIDI0O1xudmFyIHcgPSBkICogNztcbnZhciB5ID0gZCAqIDM2NS4yNTtcblxuLyoqXG4gKiBQYXJzZSBvciBmb3JtYXQgdGhlIGdpdmVuIGB2YWxgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogIC0gYGxvbmdgIHZlcmJvc2UgZm9ybWF0dGluZyBbZmFsc2VdXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSB2YWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEB0aHJvd3Mge0Vycm9yfSB0aHJvdyBhbiBlcnJvciBpZiB2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIG51bWJlclxuICogQHJldHVybiB7U3RyaW5nfE51bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCkpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKC0/KD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnd2Vla3MnOlxuICAgIGNhc2UgJ3dlZWsnOlxuICAgIGNhc2UgJ3cnOlxuICAgICAgcmV0dXJuIG4gKiB3O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBkLCAnZGF5Jyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgaCwgJ2hvdXInKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBtLCAnbWludXRlJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgcywgJ3NlY29uZCcpO1xuICB9XG4gIHJldHVybiBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbXNBYnMsIG4sIG5hbWUpIHtcbiAgdmFyIGlzUGx1cmFsID0gbXNBYnMgPj0gbiAqIDEuNTtcbiAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBuKSArICcgJyArIG5hbWUgKyAoaXNQbHVyYWwgPyAncycgOiAnJyk7XG59XG4iLAogICAgIlxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICovXG5cbmZ1bmN0aW9uIHNldHVwKGVudikge1xuXHRjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnO1xuXHRjcmVhdGVEZWJ1Zy5kZWZhdWx0ID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmNvZXJjZSA9IGNvZXJjZTtcblx0Y3JlYXRlRGVidWcuZGlzYWJsZSA9IGRpc2FibGU7XG5cdGNyZWF0ZURlYnVnLmVuYWJsZSA9IGVuYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlZCA9IGVuYWJsZWQ7XG5cdGNyZWF0ZURlYnVnLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblx0Y3JlYXRlRGVidWcuZGVzdHJveSA9IGRlc3Ryb3k7XG5cblx0T2JqZWN0LmtleXMoZW52KS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0Y3JlYXRlRGVidWdba2V5XSA9IGVudltrZXldO1xuXHR9KTtcblxuXHQvKipcblx0KiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cblx0Ki9cblxuXHRjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuXHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdC8qKlxuXHQqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cblx0KlxuXHQqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cblx0Ki9cblx0Y3JlYXRlRGVidWcuZm9ybWF0dGVycyA9IHt9O1xuXG5cdC8qKlxuXHQqIFNlbGVjdHMgYSBjb2xvciBmb3IgYSBkZWJ1ZyBuYW1lc3BhY2Vcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGUgZGVidWcgaW5zdGFuY2UgdG8gYmUgY29sb3JlZFxuXHQqIEByZXR1cm4ge051bWJlcnxTdHJpbmd9IEFuIEFOU0kgY29sb3IgY29kZSBmb3IgdGhlIGdpdmVuIG5hbWVzcGFjZVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiBzZWxlY3RDb2xvcihuYW1lc3BhY2UpIHtcblx0XHRsZXQgaGFzaCA9IDA7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzcGFjZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0aGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgbmFtZXNwYWNlLmNoYXJDb2RlQXQoaSk7XG5cdFx0XHRoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuXHRcdH1cblxuXHRcdHJldHVybiBjcmVhdGVEZWJ1Zy5jb2xvcnNbTWF0aC5hYnMoaGFzaCkgJSBjcmVhdGVEZWJ1Zy5jb2xvcnMubGVuZ3RoXTtcblx0fVxuXHRjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvciA9IHNlbGVjdENvbG9yO1xuXG5cdC8qKlxuXHQqIENyZWF0ZSBhIGRlYnVnZ2VyIHdpdGggdGhlIGdpdmVuIGBuYW1lc3BhY2VgLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuXHQqIEByZXR1cm4ge0Z1bmN0aW9ufVxuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGNyZWF0ZURlYnVnKG5hbWVzcGFjZSkge1xuXHRcdGxldCBwcmV2VGltZTtcblx0XHRsZXQgZW5hYmxlT3ZlcnJpZGUgPSBudWxsO1xuXHRcdGxldCBuYW1lc3BhY2VzQ2FjaGU7XG5cdFx0bGV0IGVuYWJsZWRDYWNoZTtcblxuXHRcdGZ1bmN0aW9uIGRlYnVnKC4uLmFyZ3MpIHtcblx0XHRcdC8vIERpc2FibGVkP1xuXHRcdFx0aWYgKCFkZWJ1Zy5lbmFibGVkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3Qgc2VsZiA9IGRlYnVnO1xuXG5cdFx0XHQvLyBTZXQgYGRpZmZgIHRpbWVzdGFtcFxuXHRcdFx0Y29uc3QgY3VyciA9IE51bWJlcihuZXcgRGF0ZSgpKTtcblx0XHRcdGNvbnN0IG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTtcblx0XHRcdHNlbGYuZGlmZiA9IG1zO1xuXHRcdFx0c2VsZi5wcmV2ID0gcHJldlRpbWU7XG5cdFx0XHRzZWxmLmN1cnIgPSBjdXJyO1xuXHRcdFx0cHJldlRpbWUgPSBjdXJyO1xuXG5cdFx0XHRhcmdzWzBdID0gY3JlYXRlRGVidWcuY29lcmNlKGFyZ3NbMF0pO1xuXG5cdFx0XHRpZiAodHlwZW9mIGFyZ3NbMF0gIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdC8vIEFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG5cdFx0XHRcdGFyZ3MudW5zaGlmdCgnJU8nKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcblx0XHRcdGxldCBpbmRleCA9IDA7XG5cdFx0XHRhcmdzWzBdID0gYXJnc1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywgKG1hdGNoLCBmb3JtYXQpID0+IHtcblx0XHRcdFx0Ly8gSWYgd2UgZW5jb3VudGVyIGFuIGVzY2FwZWQgJSB0aGVuIGRvbid0IGluY3JlYXNlIHRoZSBhcnJheSBpbmRleFxuXHRcdFx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdFx0XHRyZXR1cm4gJyUnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdGNvbnN0IGZvcm1hdHRlciA9IGNyZWF0ZURlYnVnLmZvcm1hdHRlcnNbZm9ybWF0XTtcblx0XHRcdFx0aWYgKHR5cGVvZiBmb3JtYXR0ZXIgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRjb25zdCB2YWwgPSBhcmdzW2luZGV4XTtcblx0XHRcdFx0XHRtYXRjaCA9IGZvcm1hdHRlci5jYWxsKHNlbGYsIHZhbCk7XG5cblx0XHRcdFx0XHQvLyBOb3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG5cdFx0XHRcdFx0YXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0XHRcdGluZGV4LS07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG5cdFx0XHRjcmVhdGVEZWJ1Zy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cblx0XHRcdGNvbnN0IGxvZ0ZuID0gc2VsZi5sb2cgfHwgY3JlYXRlRGVidWcubG9nO1xuXHRcdFx0bG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cdFx0fVxuXG5cdFx0ZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuXHRcdGRlYnVnLnVzZUNvbG9ycyA9IGNyZWF0ZURlYnVnLnVzZUNvbG9ycygpO1xuXHRcdGRlYnVnLmNvbG9yID0gY3JlYXRlRGVidWcuc2VsZWN0Q29sb3IobmFtZXNwYWNlKTtcblx0XHRkZWJ1Zy5leHRlbmQgPSBleHRlbmQ7XG5cdFx0ZGVidWcuZGVzdHJveSA9IGNyZWF0ZURlYnVnLmRlc3Ryb3k7IC8vIFhYWCBUZW1wb3JhcnkuIFdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlxuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGRlYnVnLCAnZW5hYmxlZCcsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdFx0Z2V0OiAoKSA9PiB7XG5cdFx0XHRcdGlmIChlbmFibGVPdmVycmlkZSAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBlbmFibGVPdmVycmlkZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobmFtZXNwYWNlc0NhY2hlICE9PSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzKSB7XG5cdFx0XHRcdFx0bmFtZXNwYWNlc0NhY2hlID0gY3JlYXRlRGVidWcubmFtZXNwYWNlcztcblx0XHRcdFx0XHRlbmFibGVkQ2FjaGUgPSBjcmVhdGVEZWJ1Zy5lbmFibGVkKG5hbWVzcGFjZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZW5hYmxlZENhY2hlO1xuXHRcdFx0fSxcblx0XHRcdHNldDogdiA9PiB7XG5cdFx0XHRcdGVuYWJsZU92ZXJyaWRlID0gdjtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG5cdFx0aWYgKHR5cGVvZiBjcmVhdGVEZWJ1Zy5pbml0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRjcmVhdGVEZWJ1Zy5pbml0KGRlYnVnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGVidWc7XG5cdH1cblxuXHRmdW5jdGlvbiBleHRlbmQobmFtZXNwYWNlLCBkZWxpbWl0ZXIpIHtcblx0XHRjb25zdCBuZXdEZWJ1ZyA9IGNyZWF0ZURlYnVnKHRoaXMubmFtZXNwYWNlICsgKHR5cGVvZiBkZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gJzonIDogZGVsaW1pdGVyKSArIG5hbWVzcGFjZSk7XG5cdFx0bmV3RGVidWcubG9nID0gdGhpcy5sb2c7XG5cdFx0cmV0dXJuIG5ld0RlYnVnO1xuXHR9XG5cblx0LyoqXG5cdCogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuXHQqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG5cdFx0Y3JlYXRlRGVidWcuc2F2ZShuYW1lc3BhY2VzKTtcblx0XHRjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzID0gbmFtZXNwYWNlcztcblxuXHRcdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdFx0Y3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcblxuXHRcdGNvbnN0IHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJylcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9cXHMrL2csICcsJylcblx0XHRcdC5zcGxpdCgnLCcpXG5cdFx0XHQuZmlsdGVyKEJvb2xlYW4pO1xuXG5cdFx0Zm9yIChjb25zdCBucyBvZiBzcGxpdCkge1xuXHRcdFx0aWYgKG5zWzBdID09PSAnLScpIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcuc2tpcHMucHVzaChucy5zbGljZSgxKSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjcmVhdGVEZWJ1Zy5uYW1lcy5wdXNoKG5zKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBzdHJpbmcgbWF0Y2hlcyBhIG5hbWVzcGFjZSB0ZW1wbGF0ZSwgaG9ub3Jpbmdcblx0ICogYXN0ZXJpc2tzIGFzIHdpbGRjYXJkcy5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdGVtcGxhdGVcblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICovXG5cdGZ1bmN0aW9uIG1hdGNoZXNUZW1wbGF0ZShzZWFyY2gsIHRlbXBsYXRlKSB7XG5cdFx0bGV0IHNlYXJjaEluZGV4ID0gMDtcblx0XHRsZXQgdGVtcGxhdGVJbmRleCA9IDA7XG5cdFx0bGV0IHN0YXJJbmRleCA9IC0xO1xuXHRcdGxldCBtYXRjaEluZGV4ID0gMDtcblxuXHRcdHdoaWxlIChzZWFyY2hJbmRleCA8IHNlYXJjaC5sZW5ndGgpIHtcblx0XHRcdGlmICh0ZW1wbGF0ZUluZGV4IDwgdGVtcGxhdGUubGVuZ3RoICYmICh0ZW1wbGF0ZVt0ZW1wbGF0ZUluZGV4XSA9PT0gc2VhcmNoW3NlYXJjaEluZGV4XSB8fCB0ZW1wbGF0ZVt0ZW1wbGF0ZUluZGV4XSA9PT0gJyonKSkge1xuXHRcdFx0XHQvLyBNYXRjaCBjaGFyYWN0ZXIgb3IgcHJvY2VlZCB3aXRoIHdpbGRjYXJkXG5cdFx0XHRcdGlmICh0ZW1wbGF0ZVt0ZW1wbGF0ZUluZGV4XSA9PT0gJyonKSB7XG5cdFx0XHRcdFx0c3RhckluZGV4ID0gdGVtcGxhdGVJbmRleDtcblx0XHRcdFx0XHRtYXRjaEluZGV4ID0gc2VhcmNoSW5kZXg7XG5cdFx0XHRcdFx0dGVtcGxhdGVJbmRleCsrOyAvLyBTa2lwIHRoZSAnKidcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZWFyY2hJbmRleCsrO1xuXHRcdFx0XHRcdHRlbXBsYXRlSW5kZXgrKztcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChzdGFySW5kZXggIT09IC0xKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmVnYXRlZC1jb25kaXRpb25cblx0XHRcdFx0Ly8gQmFja3RyYWNrIHRvIHRoZSBsYXN0ICcqJyBhbmQgdHJ5IHRvIG1hdGNoIG1vcmUgY2hhcmFjdGVyc1xuXHRcdFx0XHR0ZW1wbGF0ZUluZGV4ID0gc3RhckluZGV4ICsgMTtcblx0XHRcdFx0bWF0Y2hJbmRleCsrO1xuXHRcdFx0XHRzZWFyY2hJbmRleCA9IG1hdGNoSW5kZXg7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7IC8vIE5vIG1hdGNoXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gSGFuZGxlIHRyYWlsaW5nICcqJyBpbiB0ZW1wbGF0ZVxuXHRcdHdoaWxlICh0ZW1wbGF0ZUluZGV4IDwgdGVtcGxhdGUubGVuZ3RoICYmIHRlbXBsYXRlW3RlbXBsYXRlSW5kZXhdID09PSAnKicpIHtcblx0XHRcdHRlbXBsYXRlSW5kZXgrKztcblx0XHR9XG5cblx0XHRyZXR1cm4gdGVtcGxhdGVJbmRleCA9PT0gdGVtcGxhdGUubGVuZ3RoO1xuXHR9XG5cblx0LyoqXG5cdCogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG5cdCpcblx0KiBAcmV0dXJuIHtTdHJpbmd9IG5hbWVzcGFjZXNcblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBkaXNhYmxlKCkge1xuXHRcdGNvbnN0IG5hbWVzcGFjZXMgPSBbXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5uYW1lcyxcblx0XHRcdC4uLmNyZWF0ZURlYnVnLnNraXBzLm1hcChuYW1lc3BhY2UgPT4gJy0nICsgbmFtZXNwYWNlKVxuXHRcdF0uam9pbignLCcpO1xuXHRcdGNyZWF0ZURlYnVnLmVuYWJsZSgnJyk7XG5cdFx0cmV0dXJuIG5hbWVzcGFjZXM7XG5cdH1cblxuXHQvKipcblx0KiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG5cdFx0Zm9yIChjb25zdCBza2lwIG9mIGNyZWF0ZURlYnVnLnNraXBzKSB7XG5cdFx0XHRpZiAobWF0Y2hlc1RlbXBsYXRlKG5hbWUsIHNraXApKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IG5zIG9mIGNyZWF0ZURlYnVnLm5hbWVzKSB7XG5cdFx0XHRpZiAobWF0Y2hlc1RlbXBsYXRlKG5hbWUsIG5zKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvKipcblx0KiBDb2VyY2UgYHZhbGAuXG5cdCpcblx0KiBAcGFyYW0ge01peGVkfSB2YWxcblx0KiBAcmV0dXJuIHtNaXhlZH1cblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuXHRcdGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0cmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxuXG5cdC8qKlxuXHQqIFhYWCBETyBOT1QgVVNFLiBUaGlzIGlzIGEgdGVtcG9yYXJ5IHN0dWIgZnVuY3Rpb24uXG5cdCogWFhYIEl0IFdJTEwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlxuXHQqL1xuXHRmdW5jdGlvbiBkZXN0cm95KCkge1xuXHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHR9XG5cblx0Y3JlYXRlRGVidWcuZW5hYmxlKGNyZWF0ZURlYnVnLmxvYWQoKSk7XG5cblx0cmV0dXJuIGNyZWF0ZURlYnVnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldHVwO1xuIiwKICAgICIvKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSB3ZWIgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbmV4cG9ydHMuc2F2ZSA9IHNhdmU7XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG5leHBvcnRzLnN0b3JhZ2UgPSBsb2NhbHN0b3JhZ2UoKTtcbmV4cG9ydHMuZGVzdHJveSA9ICgoKSA9PiB7XG5cdGxldCB3YXJuZWQgPSBmYWxzZTtcblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmICghd2FybmVkKSB7XG5cdFx0XHR3YXJuZWQgPSB0cnVlO1xuXHRcdFx0Y29uc29sZS53YXJuKCdJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuJyk7XG5cdFx0fVxuXHR9O1xufSkoKTtcblxuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbXG5cdCcjMDAwMENDJyxcblx0JyMwMDAwRkYnLFxuXHQnIzAwMzNDQycsXG5cdCcjMDAzM0ZGJyxcblx0JyMwMDY2Q0MnLFxuXHQnIzAwNjZGRicsXG5cdCcjMDA5OUNDJyxcblx0JyMwMDk5RkYnLFxuXHQnIzAwQ0MwMCcsXG5cdCcjMDBDQzMzJyxcblx0JyMwMENDNjYnLFxuXHQnIzAwQ0M5OScsXG5cdCcjMDBDQ0NDJyxcblx0JyMwMENDRkYnLFxuXHQnIzMzMDBDQycsXG5cdCcjMzMwMEZGJyxcblx0JyMzMzMzQ0MnLFxuXHQnIzMzMzNGRicsXG5cdCcjMzM2NkNDJyxcblx0JyMzMzY2RkYnLFxuXHQnIzMzOTlDQycsXG5cdCcjMzM5OUZGJyxcblx0JyMzM0NDMDAnLFxuXHQnIzMzQ0MzMycsXG5cdCcjMzNDQzY2Jyxcblx0JyMzM0NDOTknLFxuXHQnIzMzQ0NDQycsXG5cdCcjMzNDQ0ZGJyxcblx0JyM2NjAwQ0MnLFxuXHQnIzY2MDBGRicsXG5cdCcjNjYzM0NDJyxcblx0JyM2NjMzRkYnLFxuXHQnIzY2Q0MwMCcsXG5cdCcjNjZDQzMzJyxcblx0JyM5OTAwQ0MnLFxuXHQnIzk5MDBGRicsXG5cdCcjOTkzM0NDJyxcblx0JyM5OTMzRkYnLFxuXHQnIzk5Q0MwMCcsXG5cdCcjOTlDQzMzJyxcblx0JyNDQzAwMDAnLFxuXHQnI0NDMDAzMycsXG5cdCcjQ0MwMDY2Jyxcblx0JyNDQzAwOTknLFxuXHQnI0NDMDBDQycsXG5cdCcjQ0MwMEZGJyxcblx0JyNDQzMzMDAnLFxuXHQnI0NDMzMzMycsXG5cdCcjQ0MzMzY2Jyxcblx0JyNDQzMzOTknLFxuXHQnI0NDMzNDQycsXG5cdCcjQ0MzM0ZGJyxcblx0JyNDQzY2MDAnLFxuXHQnI0NDNjYzMycsXG5cdCcjQ0M5OTAwJyxcblx0JyNDQzk5MzMnLFxuXHQnI0NDQ0MwMCcsXG5cdCcjQ0NDQzMzJyxcblx0JyNGRjAwMDAnLFxuXHQnI0ZGMDAzMycsXG5cdCcjRkYwMDY2Jyxcblx0JyNGRjAwOTknLFxuXHQnI0ZGMDBDQycsXG5cdCcjRkYwMEZGJyxcblx0JyNGRjMzMDAnLFxuXHQnI0ZGMzMzMycsXG5cdCcjRkYzMzY2Jyxcblx0JyNGRjMzOTknLFxuXHQnI0ZGMzNDQycsXG5cdCcjRkYzM0ZGJyxcblx0JyNGRjY2MDAnLFxuXHQnI0ZGNjYzMycsXG5cdCcjRkY5OTAwJyxcblx0JyNGRjk5MzMnLFxuXHQnI0ZGQ0MwMCcsXG5cdCcjRkZDQzMzJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuXHQvLyBOQjogSW4gYW4gRWxlY3Ryb24gcHJlbG9hZCBzY3JpcHQsIGRvY3VtZW50IHdpbGwgYmUgZGVmaW5lZCBidXQgbm90IGZ1bGx5XG5cdC8vIGluaXRpYWxpemVkLiBTaW5jZSB3ZSBrbm93IHdlJ3JlIGluIENocm9tZSwgd2UnbGwganVzdCBkZXRlY3QgdGhpcyBjYXNlXG5cdC8vIGV4cGxpY2l0bHlcblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wcm9jZXNzICYmICh3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInIHx8IHdpbmRvdy5wcm9jZXNzLl9fbndqcykpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIEludGVybmV0IEV4cGxvcmVyIGFuZCBFZGdlIGRvIG5vdCBzdXBwb3J0IGNvbG9ycy5cblx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oZWRnZXx0cmlkZW50KVxcLyhcXGQrKS8pKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0bGV0IG07XG5cblx0Ly8gSXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcblx0Ly8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJldHVybi1hc3NpZ25cblx0cmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UpIHx8XG5cdFx0Ly8gSXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuXHRcdCh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCAod2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSkpIHx8XG5cdFx0Ly8gSXMgZmlyZWZveCA+PSB2MzE/XG5cdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzXG5cdFx0KHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgKG0gPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSkgJiYgcGFyc2VJbnQobVsxXSwgMTApID49IDMxKSB8fFxuXHRcdC8vIERvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcblx0XHQodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuXHRhcmdzWzBdID0gKHRoaXMudXNlQ29sb3JzID8gJyVjJyA6ICcnKSArXG5cdFx0dGhpcy5uYW1lc3BhY2UgK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKSArXG5cdFx0YXJnc1swXSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyVjICcgOiAnICcpICtcblx0XHQnKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG5cdGlmICghdGhpcy51c2VDb2xvcnMpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcblx0YXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0Jyk7XG5cblx0Ly8gVGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcblx0Ly8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuXHQvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cblx0bGV0IGluZGV4ID0gMDtcblx0bGV0IGxhc3RDID0gMDtcblx0YXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIG1hdGNoID0+IHtcblx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aW5kZXgrKztcblx0XHRpZiAobWF0Y2ggPT09ICclYycpIHtcblx0XHRcdC8vIFdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuXHRcdFx0Ly8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcblx0XHRcdGxhc3RDID0gaW5kZXg7XG5cdFx0fVxuXHR9KTtcblxuXHRhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5kZWJ1ZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqIElmIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYXZhaWxhYmxlLCBmYWxscyBiYWNrXG4gKiB0byBgY29uc29sZS5sb2dgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMubG9nID0gY29uc29sZS5kZWJ1ZyB8fCBjb25zb2xlLmxvZyB8fCAoKCkgPT4ge30pO1xuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG5cdHRyeSB7XG5cdFx0aWYgKG5hbWVzcGFjZXMpIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5zZXRJdGVtKCdkZWJ1ZycsIG5hbWVzcGFjZXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGxvYWQoKSB7XG5cdGxldCByO1xuXHR0cnkge1xuXHRcdHIgPSBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnZGVidWcnKSB8fCBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnREVCVUcnKSA7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG5cblx0Ly8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuXHRpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcblx0XHRyID0gcHJvY2Vzcy5lbnYuREVCVUc7XG5cdH1cblxuXHRyZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzYWZhcmkgdGhyb3dzXG4gKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZVxuICogYW5kIHlvdSBhdHRlbXB0IHRvIGFjY2VzcyBpdC5cbiAqXG4gKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG5cdHRyeSB7XG5cdFx0Ly8gVFZNTEtpdCAoQXBwbGUgVFYgSlMgUnVudGltZSkgZG9lcyBub3QgaGF2ZSBhIHdpbmRvdyBvYmplY3QsIGp1c3QgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dFxuXHRcdC8vIFRoZSBCcm93c2VyIGFsc28gaGFzIGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHQuXG5cdFx0cmV0dXJuIGxvY2FsU3RvcmFnZTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NvbW1vbicpKGV4cG9ydHMpO1xuXG5jb25zdCB7Zm9ybWF0dGVyc30gPSBtb2R1bGUuZXhwb3J0cztcblxuLyoqXG4gKiBNYXAgJWogdG8gYEpTT04uc3RyaW5naWZ5KClgLCBzaW5jZSBubyBXZWIgSW5zcGVjdG9ycyBkbyB0aGF0IGJ5IGRlZmF1bHQuXG4gKi9cblxuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24gKHYpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVycm9yLm1lc3NhZ2U7XG5cdH1cbn07XG4iLAogICAgIi8qKlxuICogUmVmIGh0dHBzOi8vcGt3YXJlLmNhY2hlZmx5Lm5ldC93ZWJkb2NzL2Nhc2VzdHVkaWVzL0FQUE5PVEUuVFhUXG4gKi9cbmltcG9ydCB7IFVJTlQxNl9MRSwgVUlOVDMyX0xFIH0gZnJvbSBcInRva2VuLXR5cGVzXCI7XG5leHBvcnQgY29uc3QgU2lnbmF0dXJlID0ge1xuICAgIExvY2FsRmlsZUhlYWRlcjogMHgwNDAzNGI1MCxcbiAgICBEYXRhRGVzY3JpcHRvcjogMHgwODA3NGI1MCxcbiAgICBDZW50cmFsRmlsZUhlYWRlcjogMHgwMjAxNGI1MCxcbiAgICBFbmRPZkNlbnRyYWxEaXJlY3Rvcnk6IDB4MDYwNTRiNTBcbn07XG5leHBvcnQgY29uc3QgRGF0YURlc2NyaXB0b3IgPSB7XG4gICAgZ2V0KGFycmF5KSB7XG4gICAgICAgIGNvbnN0IGZsYWdzID0gVUlOVDE2X0xFLmdldChhcnJheSwgNik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaWduYXR1cmU6IFVJTlQzMl9MRS5nZXQoYXJyYXksIDApLFxuICAgICAgICAgICAgY29tcHJlc3NlZFNpemU6IFVJTlQzMl9MRS5nZXQoYXJyYXksIDgpLFxuICAgICAgICAgICAgdW5jb21wcmVzc2VkU2l6ZTogVUlOVDMyX0xFLmdldChhcnJheSwgMTIpLFxuICAgICAgICB9O1xuICAgIH0sIGxlbjogMTZcbn07XG4vKipcbiAqIEZpcnN0IHBhcnQgb2YgdGhlIFpJUCBMb2NhbCBGaWxlIEhlYWRlclxuICogT2Zmc2V0IHwgQnl0ZXN8IERlc2NyaXB0aW9uXG4gKiAtLS0tLS0tfC0tLS0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgICAgIDAgfCAgICA0IHwgU2lnbmF0dXJlICgweDA0MDM0YjUwKVxuICogICAgICA0IHwgICAgMiB8IE1pbmltdW0gdmVyc2lvbiBuZWVkZWQgdG8gZXh0cmFjdFxuICogICAgICA2IHwgICAgMiB8IEJpdCBmbGFnXG4gKiAgICAgIDggfCAgICAyIHwgQ29tcHJlc3Npb24gbWV0aG9kXG4gKiAgICAgMTAgfCAgICAyIHwgRmlsZSBsYXN0IG1vZGlmaWNhdGlvbiB0aW1lIChNUy1ET1MgZm9ybWF0KVxuICogICAgIDEyIHwgICAgMiB8IEZpbGUgbGFzdCBtb2RpZmljYXRpb24gZGF0ZSAoTVMtRE9TIGZvcm1hdClcbiAqICAgICAxNCB8ICAgIDQgfCBDUkMtMzIgb2YgdW5jb21wcmVzc2VkIGRhdGFcbiAqICAgICAxOCB8ICAgIDQgfCBDb21wcmVzc2VkIHNpemVcbiAqICAgICAyMiB8ICAgIDQgfCBVbmNvbXByZXNzZWQgc2l6ZVxuICogICAgIDI2IHwgICAgMiB8IEZpbGUgbmFtZSBsZW5ndGggKG4pXG4gKiAgICAgMjggfCAgICAyIHwgRXh0cmEgZmllbGQgbGVuZ3RoIChtKVxuICogICAgIDMwIHwgICAgbiB8IEZpbGUgbmFtZVxuICogMzAgKyBuIHwgICAgbSB8IEV4dHJhIGZpZWxkXG4gKi9cbmV4cG9ydCBjb25zdCBMb2NhbEZpbGVIZWFkZXJUb2tlbiA9IHtcbiAgICBnZXQoYXJyYXkpIHtcbiAgICAgICAgY29uc3QgZmxhZ3MgPSBVSU5UMTZfTEUuZ2V0KGFycmF5LCA2KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNpZ25hdHVyZTogVUlOVDMyX0xFLmdldChhcnJheSwgMCksXG4gICAgICAgICAgICBtaW5WZXJzaW9uOiBVSU5UMTZfTEUuZ2V0KGFycmF5LCA0KSxcbiAgICAgICAgICAgIGRhdGFEZXNjcmlwdG9yOiAhIShmbGFncyAmIDB4MDAwOCksXG4gICAgICAgICAgICBjb21wcmVzc2VkTWV0aG9kOiBVSU5UMTZfTEUuZ2V0KGFycmF5LCA4KSxcbiAgICAgICAgICAgIGNvbXByZXNzZWRTaXplOiBVSU5UMzJfTEUuZ2V0KGFycmF5LCAxOCksXG4gICAgICAgICAgICB1bmNvbXByZXNzZWRTaXplOiBVSU5UMzJfTEUuZ2V0KGFycmF5LCAyMiksXG4gICAgICAgICAgICBmaWxlbmFtZUxlbmd0aDogVUlOVDE2X0xFLmdldChhcnJheSwgMjYpLFxuICAgICAgICAgICAgZXh0cmFGaWVsZExlbmd0aDogVUlOVDE2X0xFLmdldChhcnJheSwgMjgpLFxuICAgICAgICAgICAgZmlsZW5hbWU6IG51bGxcbiAgICAgICAgfTtcbiAgICB9LCBsZW46IDMwXG59O1xuLyoqXG4gKiA0LjMuMTYgIEVuZCBvZiBjZW50cmFsIGRpcmVjdG9yeSByZWNvcmQ6XG4gKiAgZW5kIG9mIGNlbnRyYWwgZGlyIHNpZ25hdHVyZSAoMHgwNjA2NGI1MCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgYnl0ZXNcbiAqICBudW1iZXIgb2YgdGhpcyBkaXNrICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiBieXRlc1xuICogIG51bWJlciBvZiB0aGUgZGlzayB3aXRoIHRoZSBzdGFydCBvZiB0aGUgY2VudHJhbCBkaXJlY3RvcnkgICAgICAgICAgICAgICAgICAgICAyIGJ5dGVzXG4gKiAgdG90YWwgbnVtYmVyIG9mIGVudHJpZXMgaW4gdGhlIGNlbnRyYWwgZGlyZWN0b3J5IG9uIHRoaXMgZGlzayAgICAgICAgICAgICAgICAgIDIgYnl0ZXNcbiAqICB0b3RhbCBudW1iZXIgb2YgZW50cmllcyBpbiB0aGUgc2l6ZSBvZiB0aGUgY2VudHJhbCBkaXJlY3RvcnkgICAgICAgICAgICAgICAgICAgMiBieXRlc1xuICogIHNpemVPZlRoZUNlbnRyYWxEaXJlY3RvcnkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IGJ5dGVzXG4gKiAgb2Zmc2V0IG9mIHN0YXJ0IG9mIGNlbnRyYWwgZGlyZWN0b3J5IHdpdGggcmVzcGVjdCB0byB0aGUgc3RhcnRpbmcgZGlzayBudW1iZXIgIDQgYnl0ZXNcbiAqICAuWklQIGZpbGUgY29tbWVudCBsZW5ndGggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiBieXRlc1xuICogIC5aSVAgZmlsZSBjb21tZW50ICAgICAgICh2YXJpYWJsZSBzaXplKVxuICovXG5leHBvcnQgY29uc3QgRW5kT2ZDZW50cmFsRGlyZWN0b3J5UmVjb3JkVG9rZW4gPSB7XG4gICAgZ2V0KGFycmF5KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaWduYXR1cmU6IFVJTlQzMl9MRS5nZXQoYXJyYXksIDApLFxuICAgICAgICAgICAgbnJPZlRoaXNEaXNrOiBVSU5UMTZfTEUuZ2V0KGFycmF5LCA0KSxcbiAgICAgICAgICAgIG5yT2ZUaGlzRGlza1dpdGhUaGVTdGFydDogVUlOVDE2X0xFLmdldChhcnJheSwgNiksXG4gICAgICAgICAgICBuck9mRW50cmllc09uVGhpc0Rpc2s6IFVJTlQxNl9MRS5nZXQoYXJyYXksIDgpLFxuICAgICAgICAgICAgbnJPZkVudHJpZXNPZlNpemU6IFVJTlQxNl9MRS5nZXQoYXJyYXksIDEwKSxcbiAgICAgICAgICAgIHNpemVPZkNkOiBVSU5UMzJfTEUuZ2V0KGFycmF5LCAxMiksXG4gICAgICAgICAgICBvZmZzZXRPZlN0YXJ0T2ZDZDogVUlOVDMyX0xFLmdldChhcnJheSwgMTYpLFxuICAgICAgICAgICAgemlwRmlsZUNvbW1lbnRMZW5ndGg6IFVJTlQxNl9MRS5nZXQoYXJyYXksIDIwKSxcbiAgICAgICAgfTtcbiAgICB9LCBsZW46IDIyXG59O1xuLyoqXG4gKiBGaWxlIGhlYWRlcjpcbiAqICAgIGNlbnRyYWwgZmlsZSBoZWFkZXIgc2lnbmF0dXJlICAgNCBieXRlcyAgIDAgKDB4MDIwMTRiNTApXG4gKiAgICB2ZXJzaW9uIG1hZGUgYnkgICAgICAgICAgICAgICAgIDIgYnl0ZXMgICA0XG4gKiAgICB2ZXJzaW9uIG5lZWRlZCB0byBleHRyYWN0ICAgICAgIDIgYnl0ZXMgICA2XG4gKiAgICBnZW5lcmFsIHB1cnBvc2UgYml0IGZsYWcgICAgICAgIDIgYnl0ZXMgICA4XG4gKiAgICBjb21wcmVzc2lvbiBtZXRob2QgICAgICAgICAgICAgIDIgYnl0ZXMgIDEwXG4gKiAgICBsYXN0IG1vZCBmaWxlIHRpbWUgICAgICAgICAgICAgIDIgYnl0ZXMgIDEyXG4gKiAgICBsYXN0IG1vZCBmaWxlIGRhdGUgICAgICAgICAgICAgIDIgYnl0ZXMgIDE0XG4gKiAgICBjcmMtMzIgICAgICAgICAgICAgICAgICAgICAgICAgIDQgYnl0ZXMgIDE2XG4gKiAgICBjb21wcmVzc2VkIHNpemUgICAgICAgICAgICAgICAgIDQgYnl0ZXMgIDIwXG4gKiAgICB1bmNvbXByZXNzZWQgc2l6ZSAgICAgICAgICAgICAgIDQgYnl0ZXMgIDI0XG4gKiAgICBmaWxlIG5hbWUgbGVuZ3RoICAgICAgICAgICAgICAgIDIgYnl0ZXMgIDI4XG4gKiAgICBleHRyYSBmaWVsZCBsZW5ndGggICAgICAgICAgICAgIDIgYnl0ZXMgIDMwXG4gKiAgICBmaWxlIGNvbW1lbnQgbGVuZ3RoICAgICAgICAgICAgIDIgYnl0ZXMgIDMyXG4gKiAgICBkaXNrIG51bWJlciBzdGFydCAgICAgICAgICAgICAgIDIgYnl0ZXMgIDM0XG4gKiAgICBpbnRlcm5hbCBmaWxlIGF0dHJpYnV0ZXMgICAgICAgIDIgYnl0ZXMgIDM2XG4gKiAgICBleHRlcm5hbCBmaWxlIGF0dHJpYnV0ZXMgICAgICAgIDQgYnl0ZXMgIDM4XG4gKiAgICByZWxhdGl2ZSBvZmZzZXQgb2YgbG9jYWwgaGVhZGVyIDQgYnl0ZXMgIDQyXG4gKi9cbmV4cG9ydCBjb25zdCBGaWxlSGVhZGVyID0ge1xuICAgIGdldChhcnJheSkge1xuICAgICAgICBjb25zdCBmbGFncyA9IFVJTlQxNl9MRS5nZXQoYXJyYXksIDgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2lnbmF0dXJlOiBVSU5UMzJfTEUuZ2V0KGFycmF5LCAwKSxcbiAgICAgICAgICAgIG1pblZlcnNpb246IFVJTlQxNl9MRS5nZXQoYXJyYXksIDYpLFxuICAgICAgICAgICAgZGF0YURlc2NyaXB0b3I6ICEhKGZsYWdzICYgMHgwMDA4KSxcbiAgICAgICAgICAgIGNvbXByZXNzZWRNZXRob2Q6IFVJTlQxNl9MRS5nZXQoYXJyYXksIDEwKSxcbiAgICAgICAgICAgIGNvbXByZXNzZWRTaXplOiBVSU5UMzJfTEUuZ2V0KGFycmF5LCAyMCksXG4gICAgICAgICAgICB1bmNvbXByZXNzZWRTaXplOiBVSU5UMzJfTEUuZ2V0KGFycmF5LCAyNCksXG4gICAgICAgICAgICBmaWxlbmFtZUxlbmd0aDogVUlOVDE2X0xFLmdldChhcnJheSwgMjgpLFxuICAgICAgICAgICAgZXh0cmFGaWVsZExlbmd0aDogVUlOVDE2X0xFLmdldChhcnJheSwgMzApLFxuICAgICAgICAgICAgZmlsZUNvbW1lbnRMZW5ndGg6IFVJTlQxNl9MRS5nZXQoYXJyYXksIDMyKSxcbiAgICAgICAgICAgIHJlbGF0aXZlT2Zmc2V0T2ZMb2NhbEhlYWRlcjogVUlOVDMyX0xFLmdldChhcnJheSwgNDIpLFxuICAgICAgICAgICAgZmlsZW5hbWU6IG51bGxcbiAgICAgICAgfTtcbiAgICB9LCBsZW46IDQ2XG59O1xuIiwKICAgICJpbXBvcnQgeyBTdHJpbmdUeXBlLCBVSU5UMzJfTEUgfSBmcm9tICd0b2tlbi10eXBlcyc7XG5pbXBvcnQgeyBkZWNvbXByZXNzU3luYyB9IGZyb20gJ2ZmbGF0ZSc7XG5pbXBvcnQgaW5pdERlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCB7IERhdGFEZXNjcmlwdG9yLCBFbmRPZkNlbnRyYWxEaXJlY3RvcnlSZWNvcmRUb2tlbiwgRmlsZUhlYWRlciwgTG9jYWxGaWxlSGVhZGVyVG9rZW4sIFNpZ25hdHVyZSB9IGZyb20gXCIuL1ppcFRva2VuLmpzXCI7XG5mdW5jdGlvbiBzaWduYXR1cmVUb0FycmF5KHNpZ25hdHVyZSkge1xuICAgIGNvbnN0IHNpZ25hdHVyZUJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoVUlOVDMyX0xFLmxlbik7XG4gICAgVUlOVDMyX0xFLnB1dChzaWduYXR1cmVCeXRlcywgMCwgc2lnbmF0dXJlKTtcbiAgICByZXR1cm4gc2lnbmF0dXJlQnl0ZXM7XG59XG5jb25zdCBkZWJ1ZyA9IGluaXREZWJ1ZygndG9rZW5pemVyOmluZmxhdGUnKTtcbmNvbnN0IHN5bmNCdWZmZXJTaXplID0gMjU2ICogMTAyNDtcbmNvbnN0IGRkU2lnbmF0dXJlQXJyYXkgPSBzaWduYXR1cmVUb0FycmF5KFNpZ25hdHVyZS5EYXRhRGVzY3JpcHRvcik7XG5jb25zdCBlb2NkU2lnbmF0dXJlQnl0ZXMgPSBzaWduYXR1cmVUb0FycmF5KFNpZ25hdHVyZS5FbmRPZkNlbnRyYWxEaXJlY3RvcnkpO1xuZXhwb3J0IGNsYXNzIFppcEhhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKHRva2VuaXplcikge1xuICAgICAgICB0aGlzLnRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICAgICAgdGhpcy5zeW5jQnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoc3luY0J1ZmZlclNpemUpO1xuICAgIH1cbiAgICBhc3luYyBpc1ppcCgpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucGVla1NpZ25hdHVyZSgpID09PSBTaWduYXR1cmUuTG9jYWxGaWxlSGVhZGVyO1xuICAgIH1cbiAgICBwZWVrU2lnbmF0dXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbml6ZXIucGVla1Rva2VuKFVJTlQzMl9MRSk7XG4gICAgfVxuICAgIGFzeW5jIGZpbmRFbmRPZkNlbnRyYWxEaXJlY3RvcnlMb2NhdG9yKCkge1xuICAgICAgICBjb25zdCByYW5kb21SZWFkVG9rZW5pemVyID0gdGhpcy50b2tlbml6ZXI7XG4gICAgICAgIGNvbnN0IGNodW5rTGVuZ3RoID0gTWF0aC5taW4oMTYgKiAxMDI0LCByYW5kb21SZWFkVG9rZW5pemVyLmZpbGVJbmZvLnNpemUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLnN5bmNCdWZmZXIuc3ViYXJyYXkoMCwgY2h1bmtMZW5ndGgpO1xuICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkQnVmZmVyKGJ1ZmZlciwgeyBwb3NpdGlvbjogcmFuZG9tUmVhZFRva2VuaXplci5maWxlSW5mby5zaXplIC0gY2h1bmtMZW5ndGggfSk7XG4gICAgICAgIC8vIFNlYXJjaCB0aGUgYnVmZmVyIGZyb20gZW5kIHRvIGJlZ2lubmluZyBmb3IgRU9DRCBzaWduYXR1cmVcbiAgICAgICAgLy8gY29uc3Qgc2lnbmF0dXJlID0gMHgwNjA1NGI1MDtcbiAgICAgICAgZm9yIChsZXQgaSA9IGJ1ZmZlci5sZW5ndGggLSA0OyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgLy8gQ29tcGFyZSA0IGJ5dGVzIGRpcmVjdGx5IHdpdGhvdXQgY2FsbGluZyByZWFkVUludDMyTEVcbiAgICAgICAgICAgIGlmIChidWZmZXJbaV0gPT09IGVvY2RTaWduYXR1cmVCeXRlc1swXSAmJlxuICAgICAgICAgICAgICAgIGJ1ZmZlcltpICsgMV0gPT09IGVvY2RTaWduYXR1cmVCeXRlc1sxXSAmJlxuICAgICAgICAgICAgICAgIGJ1ZmZlcltpICsgMl0gPT09IGVvY2RTaWduYXR1cmVCeXRlc1syXSAmJlxuICAgICAgICAgICAgICAgIGJ1ZmZlcltpICsgM10gPT09IGVvY2RTaWduYXR1cmVCeXRlc1szXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5kb21SZWFkVG9rZW5pemVyLmZpbGVJbmZvLnNpemUgLSBjaHVua0xlbmd0aCArIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBhc3luYyByZWFkQ2VudHJhbERpcmVjdG9yeSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRva2VuaXplci5zdXBwb3J0c1JhbmRvbUFjY2VzcygpKSB7XG4gICAgICAgICAgICBkZWJ1ZygnQ2Fubm90IHJlYWRpbmcgY2VudHJhbC1kaXJlY3Rvcnkgd2l0aG91dCByYW5kb20tcmVhZCBzdXBwb3J0Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVidWcoJ1JlYWRpbmcgY2VudHJhbC1kaXJlY3RvcnkuLi4nKTtcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy50b2tlbml6ZXIucG9zaXRpb247XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGF3YWl0IHRoaXMuZmluZEVuZE9mQ2VudHJhbERpcmVjdG9yeUxvY2F0b3IoKTtcbiAgICAgICAgaWYgKG9mZnNldCA+IDApIHtcbiAgICAgICAgICAgIGRlYnVnKCdDZW50cmFsLWRpcmVjdG9yeSAzMi1iaXQgc2lnbmF0dXJlIGZvdW5kJyk7XG4gICAgICAgICAgICBjb25zdCBlb2NkSGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKEVuZE9mQ2VudHJhbERpcmVjdG9yeVJlY29yZFRva2VuLCBvZmZzZXQpO1xuICAgICAgICAgICAgY29uc3QgZmlsZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMudG9rZW5pemVyLnNldFBvc2l0aW9uKGVvY2RIZWFkZXIub2Zmc2V0T2ZTdGFydE9mQ2QpO1xuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBlb2NkSGVhZGVyLm5yT2ZFbnRyaWVzT2ZTaXplOyArK24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRyeSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihGaWxlSGVhZGVyKTtcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkuc2lnbmF0dXJlICE9PSBTaWduYXR1cmUuQ2VudHJhbEZpbGVIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBDZW50cmFsLUZpbGUtSGVhZGVyIHNpZ25hdHVyZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbnRyeS5maWxlbmFtZSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgU3RyaW5nVHlwZShlbnRyeS5maWxlbmFtZUxlbmd0aCwgJ3V0Zi04JykpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShlbnRyeS5leHRyYUZpZWxkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoZW50cnkuZmlsZUNvbW1lbnRMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGZpbGVzLnB1c2goZW50cnkpO1xuICAgICAgICAgICAgICAgIGRlYnVnKGBBZGQgY2VudHJhbC1kaXJlY3RvcnkgZmlsZS1lbnRyeTogbj0ke24gKyAxfS8ke2ZpbGVzLmxlbmd0aH06IGZpbGVuYW1lPSR7ZmlsZXNbbl0uZmlsZW5hbWV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRva2VuaXplci5zZXRQb3NpdGlvbihwb3MpO1xuICAgICAgICAgICAgcmV0dXJuIGZpbGVzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9rZW5pemVyLnNldFBvc2l0aW9uKHBvcyk7XG4gICAgfVxuICAgIGFzeW5jIHVuemlwKGZpbGVDYikge1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gYXdhaXQgdGhpcy5yZWFkQ2VudHJhbERpcmVjdG9yeSgpO1xuICAgICAgICBpZiAoZW50cmllcykge1xuICAgICAgICAgICAgLy8gVXNlIENlbnRyYWwgRGlyZWN0b3J5IHRvIGl0ZXJhdGUgb3ZlciBmaWxlc1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXRlcmF0ZU92ZXJDZW50cmFsRGlyZWN0b3J5KGVudHJpZXMsIGZpbGVDYik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2NhbiBaaXAgZmlsZXMgZm9yIGxvY2FsLWZpbGUtaGVhZGVyXG4gICAgICAgIGxldCBzdG9wID0gZmFsc2U7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGNvbnN0IHppcEhlYWRlciA9IGF3YWl0IHRoaXMucmVhZExvY2FsRmlsZUhlYWRlcigpO1xuICAgICAgICAgICAgaWYgKCF6aXBIZWFkZXIpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gZmlsZUNiKHppcEhlYWRlcik7XG4gICAgICAgICAgICBzdG9wID0gISFuZXh0LnN0b3A7XG4gICAgICAgICAgICBsZXQgZmlsZURhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoemlwSGVhZGVyLmV4dHJhRmllbGRMZW5ndGgpO1xuICAgICAgICAgICAgaWYgKHppcEhlYWRlci5kYXRhRGVzY3JpcHRvciAmJiB6aXBIZWFkZXIuY29tcHJlc3NlZFNpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaHVua3MgPSBbXTtcbiAgICAgICAgICAgICAgICBsZXQgbGVuID0gc3luY0J1ZmZlclNpemU7XG4gICAgICAgICAgICAgICAgZGVidWcoJ0NvbXByZXNzZWQtZmlsZS1zaXplIHVua25vd24sIHNjYW5uaW5nIGZvciBuZXh0IGRhdGEtZGVzY3JpcHRvci1zaWduYXR1cmUuLi4uJyk7XG4gICAgICAgICAgICAgICAgbGV0IG5leHRIZWFkZXJJbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0SGVhZGVySW5kZXggPCAwICYmIGxlbiA9PT0gc3luY0J1ZmZlclNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVuID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucGVla0J1ZmZlcih0aGlzLnN5bmNCdWZmZXIsIHsgbWF5QmVMZXNzOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICBuZXh0SGVhZGVySW5kZXggPSBpbmRleE9mKHRoaXMuc3luY0J1ZmZlci5zdWJhcnJheSgwLCBsZW4pLCBkZFNpZ25hdHVyZUFycmF5KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IG5leHRIZWFkZXJJbmRleCA+PSAwID8gbmV4dEhlYWRlckluZGV4IDogbGVuO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dC5oYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkQnVmZmVyKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtzLnB1c2goZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNb3ZlIHBvc2l0aW9uIHRvIHRoZSBuZXh0IGhlYWRlciBpZiBmb3VuZCwgc2tpcCB0aGUgd2hvbGUgYnVmZmVyIG90aGVyd2lzZVxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKHNpemUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlYnVnKGBGb3VuZCBkYXRhLWRlc2NyaXB0b3Itc2lnbmF0dXJlIGF0IHBvcz0ke3RoaXMudG9rZW5pemVyLnBvc2l0aW9ufWApO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0LmhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbmZsYXRlKHppcEhlYWRlciwgbWVyZ2VBcnJheXMoY2h1bmtzKSwgbmV4dC5oYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobmV4dC5oYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKGBSZWFkaW5nIGNvbXByZXNzZWQtZmlsZS1kYXRhOiAke3ppcEhlYWRlci5jb21wcmVzc2VkU2l6ZX0gYnl0ZXNgKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsZURhdGEgPSBuZXcgVWludDhBcnJheSh6aXBIZWFkZXIuY29tcHJlc3NlZFNpemUpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkQnVmZmVyKGZpbGVEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbmZsYXRlKHppcEhlYWRlciwgZmlsZURhdGEsIG5leHQuaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhgSWdub3JpbmcgY29tcHJlc3NlZC1maWxlLWRhdGE6ICR7emlwSGVhZGVyLmNvbXByZXNzZWRTaXplfSBieXRlc2ApO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoemlwSGVhZGVyLmNvbXByZXNzZWRTaXplKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWJ1ZyhgUmVhZGluZyBkYXRhLWRlc2NyaXB0b3IgYXQgcG9zPSR7dGhpcy50b2tlbml6ZXIucG9zaXRpb259YCk7XG4gICAgICAgICAgICBpZiAoemlwSGVhZGVyLmRhdGFEZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICAgICAgLy8gYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKERhdGFEZXNjcmlwdG9yLmxlbik7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YURlc2NyaXB0b3IgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oRGF0YURlc2NyaXB0b3IpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhRGVzY3JpcHRvci5zaWduYXR1cmUgIT09IDB4MDgwNzRiNTApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBkYXRhLWRlc2NyaXB0b3Itc2lnbmF0dXJlIGF0IHBvc2l0aW9uICR7dGhpcy50b2tlbml6ZXIucG9zaXRpb24gLSBEYXRhRGVzY3JpcHRvci5sZW59YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICghc3RvcCk7XG4gICAgfVxuICAgIGFzeW5jIGl0ZXJhdGVPdmVyQ2VudHJhbERpcmVjdG9yeShlbnRyaWVzLCBmaWxlQ2IpIHtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlSGVhZGVyIG9mIGVudHJpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBmaWxlQ2IoZmlsZUhlYWRlcik7XG4gICAgICAgICAgICBpZiAobmV4dC5oYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b2tlbml6ZXIuc2V0UG9zaXRpb24oZmlsZUhlYWRlci5yZWxhdGl2ZU9mZnNldE9mTG9jYWxIZWFkZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHppcEhlYWRlciA9IGF3YWl0IHRoaXMucmVhZExvY2FsRmlsZUhlYWRlcigpO1xuICAgICAgICAgICAgICAgIGlmICh6aXBIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKHppcEhlYWRlci5leHRyYUZpZWxkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZURhdGEgPSBuZXcgVWludDhBcnJheShmaWxlSGVhZGVyLmNvbXByZXNzZWRTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZEJ1ZmZlcihmaWxlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5mbGF0ZSh6aXBIZWFkZXIsIGZpbGVEYXRhLCBuZXh0LmhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXh0LnN0b3ApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5mbGF0ZSh6aXBIZWFkZXIsIGZpbGVEYXRhLCBjYikge1xuICAgICAgICBpZiAoemlwSGVhZGVyLmNvbXByZXNzZWRNZXRob2QgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBjYihmaWxlRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVidWcoYERlY29tcHJlc3MgZmlsZW5hbWU9JHt6aXBIZWFkZXIuZmlsZW5hbWV9LCBjb21wcmVzc2VkLXNpemU9JHtmaWxlRGF0YS5sZW5ndGh9YCk7XG4gICAgICAgIGNvbnN0IHVuY29tcHJlc3NlZERhdGEgPSBkZWNvbXByZXNzU3luYyhmaWxlRGF0YSk7XG4gICAgICAgIHJldHVybiBjYih1bmNvbXByZXNzZWREYXRhKTtcbiAgICB9XG4gICAgYXN5bmMgcmVhZExvY2FsRmlsZUhlYWRlcigpIHtcbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucGVla1Rva2VuKFVJTlQzMl9MRSk7XG4gICAgICAgIGlmIChzaWduYXR1cmUgPT09IFNpZ25hdHVyZS5Mb2NhbEZpbGVIZWFkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihMb2NhbEZpbGVIZWFkZXJUb2tlbik7XG4gICAgICAgICAgICBoZWFkZXIuZmlsZW5hbWUgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IFN0cmluZ1R5cGUoaGVhZGVyLmZpbGVuYW1lTGVuZ3RoLCAndXRmLTgnKSk7XG4gICAgICAgICAgICByZXR1cm4gaGVhZGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaWduYXR1cmUgPT09IFNpZ25hdHVyZS5DZW50cmFsRmlsZUhlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaWduYXR1cmUgPT09IDB4RTAxMUNGRDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRW5jcnlwdGVkIFpJUCcpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBzaWduYXR1cmUnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbmRleE9mKGJ1ZmZlciwgcG9ydGlvbikge1xuICAgIGNvbnN0IGJ1ZmZlckxlbmd0aCA9IGJ1ZmZlci5sZW5ndGg7XG4gICAgY29uc3QgcG9ydGlvbkxlbmd0aCA9IHBvcnRpb24ubGVuZ3RoO1xuICAgIC8vIFJldHVybiAtMSBpZiB0aGUgcG9ydGlvbiBpcyBsb25nZXIgdGhhbiB0aGUgYnVmZmVyXG4gICAgaWYgKHBvcnRpb25MZW5ndGggPiBidWZmZXJMZW5ndGgpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICAvLyBTZWFyY2ggZm9yIHRoZSBwb3J0aW9uIGluIHRoZSBidWZmZXJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBidWZmZXJMZW5ndGggLSBwb3J0aW9uTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwb3J0aW9uTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChidWZmZXJbaSArIGpdICE9PSBwb3J0aW9uW2pdKSB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybiBpOyAvLyBSZXR1cm4gdGhlIHN0YXJ0aW5nIG9mZnNldFxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTsgLy8gTm90IGZvdW5kXG59XG5mdW5jdGlvbiBtZXJnZUFycmF5cyhjaHVua3MpIHtcbiAgICAvLyBDb25jYXRlbmF0ZSBjaHVua3MgaW50byBhIHNpbmdsZSBVaW50OEFycmF5XG4gICAgY29uc3QgdG90YWxMZW5ndGggPSBjaHVua3MucmVkdWNlKChhY2MsIGN1cnIpID0+IGFjYyArIGN1cnIubGVuZ3RoLCAwKTtcbiAgICBjb25zdCBtZXJnZWRBcnJheSA9IG5ldyBVaW50OEFycmF5KHRvdGFsTGVuZ3RoKTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGNvbnN0IGNodW5rIG9mIGNodW5rcykge1xuICAgICAgICBtZXJnZWRBcnJheS5zZXQoY2h1bmssIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSBjaHVuay5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiBtZXJnZWRBcnJheTtcbn1cbiIsCiAgICAiY29uc3Qgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgdWludDhBcnJheVN0cmluZ2lmaWVkID0gJ1tvYmplY3QgVWludDhBcnJheV0nO1xuY29uc3QgYXJyYXlCdWZmZXJTdHJpbmdpZmllZCA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XG5cbmZ1bmN0aW9uIGlzVHlwZSh2YWx1ZSwgdHlwZUNvbnN0cnVjdG9yLCB0eXBlU3RyaW5naWZpZWQpIHtcblx0aWYgKCF2YWx1ZSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmICh2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gdHlwZUNvbnN0cnVjdG9yKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRyZXR1cm4gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IHR5cGVTdHJpbmdpZmllZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVWludDhBcnJheSh2YWx1ZSkge1xuXHRyZXR1cm4gaXNUeXBlKHZhbHVlLCBVaW50OEFycmF5LCB1aW50OEFycmF5U3RyaW5naWZpZWQpO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKHZhbHVlKSB7XG5cdHJldHVybiBpc1R5cGUodmFsdWUsIEFycmF5QnVmZmVyLCBhcnJheUJ1ZmZlclN0cmluZ2lmaWVkKTtcbn1cblxuZnVuY3Rpb24gaXNVaW50OEFycmF5T3JBcnJheUJ1ZmZlcih2YWx1ZSkge1xuXHRyZXR1cm4gaXNVaW50OEFycmF5KHZhbHVlKSB8fCBpc0FycmF5QnVmZmVyKHZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFVpbnQ4QXJyYXkodmFsdWUpIHtcblx0aWYgKCFpc1VpbnQ4QXJyYXkodmFsdWUpKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgXFxgVWludDhBcnJheVxcYCwgZ290IFxcYCR7dHlwZW9mIHZhbHVlfVxcYGApO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRVaW50OEFycmF5T3JBcnJheUJ1ZmZlcih2YWx1ZSkge1xuXHRpZiAoIWlzVWludDhBcnJheU9yQXJyYXlCdWZmZXIodmFsdWUpKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgXFxgVWludDhBcnJheVxcYCBvciBcXGBBcnJheUJ1ZmZlclxcYCwgZ290IFxcYCR7dHlwZW9mIHZhbHVlfVxcYGApO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1VpbnQ4QXJyYXkodmFsdWUpIHtcblx0aWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcblx0XHRyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodmFsdWUpO1xuXHR9XG5cblx0aWYgKEFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZSkpIHtcblx0XHRyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodmFsdWUuYnVmZmVyLCB2YWx1ZS5ieXRlT2Zmc2V0LCB2YWx1ZS5ieXRlTGVuZ3RoKTtcblx0fVxuXG5cdHRocm93IG5ldyBUeXBlRXJyb3IoYFVuc3VwcG9ydGVkIHZhbHVlLCBnb3QgXFxgJHt0eXBlb2YgdmFsdWV9XFxgLmApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0VWludDhBcnJheXMoYXJyYXlzLCB0b3RhbExlbmd0aCkge1xuXHRpZiAoYXJyYXlzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiBuZXcgVWludDhBcnJheSgwKTtcblx0fVxuXG5cdHRvdGFsTGVuZ3RoID8/PSBhcnJheXMucmVkdWNlKChhY2N1bXVsYXRvciwgY3VycmVudFZhbHVlKSA9PiBhY2N1bXVsYXRvciArIGN1cnJlbnRWYWx1ZS5sZW5ndGgsIDApO1xuXG5cdGNvbnN0IHJldHVyblZhbHVlID0gbmV3IFVpbnQ4QXJyYXkodG90YWxMZW5ndGgpO1xuXG5cdGxldCBvZmZzZXQgPSAwO1xuXHRmb3IgKGNvbnN0IGFycmF5IG9mIGFycmF5cykge1xuXHRcdGFzc2VydFVpbnQ4QXJyYXkoYXJyYXkpO1xuXHRcdHJldHVyblZhbHVlLnNldChhcnJheSwgb2Zmc2V0KTtcblx0XHRvZmZzZXQgKz0gYXJyYXkubGVuZ3RoO1xuXHR9XG5cblx0cmV0dXJuIHJldHVyblZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXJlVWludDhBcnJheXNFcXVhbChhLCBiKSB7XG5cdGFzc2VydFVpbnQ4QXJyYXkoYSk7XG5cdGFzc2VydFVpbnQ4QXJyYXkoYik7XG5cblx0aWYgKGEgPT09IGIpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9uby1mb3ItbG9vcFxuXHRmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYS5sZW5ndGg7IGluZGV4KyspIHtcblx0XHRpZiAoYVtpbmRleF0gIT09IGJbaW5kZXhdKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlVWludDhBcnJheXMoYSwgYikge1xuXHRhc3NlcnRVaW50OEFycmF5KGEpO1xuXHRhc3NlcnRVaW50OEFycmF5KGIpO1xuXG5cdGNvbnN0IGxlbmd0aCA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XG5cblx0Zm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuXHRcdGNvbnN0IGRpZmYgPSBhW2luZGV4XSAtIGJbaW5kZXhdO1xuXHRcdGlmIChkaWZmICE9PSAwKSB7XG5cdFx0XHRyZXR1cm4gTWF0aC5zaWduKGRpZmYpO1xuXHRcdH1cblx0fVxuXG5cdC8vIEF0IHRoaXMgcG9pbnQsIGFsbCB0aGUgY29tcGFyZWQgZWxlbWVudHMgYXJlIGVxdWFsLlxuXHQvLyBUaGUgc2hvcnRlciBhcnJheSBzaG91bGQgY29tZSBmaXJzdCBpZiB0aGUgYXJyYXlzIGFyZSBvZiBkaWZmZXJlbnQgbGVuZ3Rocy5cblx0cmV0dXJuIE1hdGguc2lnbihhLmxlbmd0aCAtIGIubGVuZ3RoKTtcbn1cblxuY29uc3QgY2FjaGVkRGVjb2RlcnMgPSB7XG5cdHV0Zjg6IG5ldyBnbG9iYWxUaGlzLlRleHREZWNvZGVyKCd1dGY4JyksXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdWludDhBcnJheVRvU3RyaW5nKGFycmF5LCBlbmNvZGluZyA9ICd1dGY4Jykge1xuXHRhc3NlcnRVaW50OEFycmF5T3JBcnJheUJ1ZmZlcihhcnJheSk7XG5cdGNhY2hlZERlY29kZXJzW2VuY29kaW5nXSA/Pz0gbmV3IGdsb2JhbFRoaXMuVGV4dERlY29kZXIoZW5jb2RpbmcpO1xuXHRyZXR1cm4gY2FjaGVkRGVjb2RlcnNbZW5jb2RpbmddLmRlY29kZShhcnJheSk7XG59XG5cbmZ1bmN0aW9uIGFzc2VydFN0cmluZyh2YWx1ZSkge1xuXHRpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIFxcYHN0cmluZ1xcYCwgZ290IFxcYCR7dHlwZW9mIHZhbHVlfVxcYGApO1xuXHR9XG59XG5cbmNvbnN0IGNhY2hlZEVuY29kZXIgPSBuZXcgZ2xvYmFsVGhpcy5UZXh0RW5jb2RlcigpO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nVG9VaW50OEFycmF5KHN0cmluZykge1xuXHRhc3NlcnRTdHJpbmcoc3RyaW5nKTtcblx0cmV0dXJuIGNhY2hlZEVuY29kZXIuZW5jb2RlKHN0cmluZyk7XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQmFzZTY0VXJsKGJhc2U2NCkge1xuXHRyZXR1cm4gYmFzZTY0LnJlcGxhY2VBbGwoJysnLCAnLScpLnJlcGxhY2VBbGwoJy8nLCAnXycpLnJlcGxhY2UoLz0rJC8sICcnKTtcbn1cblxuZnVuY3Rpb24gYmFzZTY0VXJsVG9CYXNlNjQoYmFzZTY0dXJsKSB7XG5cdGNvbnN0IGJhc2U2NCA9IGJhc2U2NHVybC5yZXBsYWNlQWxsKCctJywgJysnKS5yZXBsYWNlQWxsKCdfJywgJy8nKTtcblx0Y29uc3QgcGFkZGluZyA9ICg0IC0gKGJhc2U2NC5sZW5ndGggJSA0KSkgJSA0O1xuXHRyZXR1cm4gYmFzZTY0ICsgJz0nLnJlcGVhdChwYWRkaW5nKTtcbn1cblxuLy8gUmVmZXJlbmNlOiBodHRwczovL3BodW9jLm5nL2NvbGxlY3Rpb24vdGhpcy12cy10aGF0L2NvbmNhdC12cy1wdXNoL1xuLy8gSW1wb3J0YW50OiBLZWVwIHRoaXMgdmFsdWUgZGl2aXNpYmxlIGJ5IDMgc28gaW50ZXJtZWRpYXRlIGNodW5rcyBwcm9kdWNlIG5vIEJhc2U2NCBwYWRkaW5nLlxuY29uc3QgTUFYX0JMT0NLX1NJWkUgPSA2NV81MzU7XG5cbmV4cG9ydCBmdW5jdGlvbiB1aW50OEFycmF5VG9CYXNlNjQoYXJyYXksIHt1cmxTYWZlID0gZmFsc2V9ID0ge30pIHtcblx0YXNzZXJ0VWludDhBcnJheShhcnJheSk7XG5cblx0bGV0IGJhc2U2NCA9ICcnO1xuXG5cdGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhcnJheS5sZW5ndGg7IGluZGV4ICs9IE1BWF9CTE9DS19TSVpFKSB7XG5cdFx0Y29uc3QgY2h1bmsgPSBhcnJheS5zdWJhcnJheShpbmRleCwgaW5kZXggKyBNQVhfQkxPQ0tfU0laRSk7XG5cdFx0Ly8gUmVxdWlyZWQgYXMgYGJ0b2FgIGFuZCBgYXRvYmAgZG9uJ3QgcHJvcGVybHkgc3VwcG9ydCBVbmljb2RlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0dsb3NzYXJ5L0Jhc2U2NCN0aGVfdW5pY29kZV9wcm9ibGVtXG5cdFx0YmFzZTY0ICs9IGdsb2JhbFRoaXMuYnRvYShTdHJpbmcuZnJvbUNvZGVQb2ludC5hcHBseSh1bmRlZmluZWQsIGNodW5rKSk7XG5cdH1cblxuXHRyZXR1cm4gdXJsU2FmZSA/IGJhc2U2NFRvQmFzZTY0VXJsKGJhc2U2NCkgOiBiYXNlNjQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjRUb1VpbnQ4QXJyYXkoYmFzZTY0U3RyaW5nKSB7XG5cdGFzc2VydFN0cmluZyhiYXNlNjRTdHJpbmcpO1xuXHRyZXR1cm4gVWludDhBcnJheS5mcm9tKGdsb2JhbFRoaXMuYXRvYihiYXNlNjRVcmxUb0Jhc2U2NChiYXNlNjRTdHJpbmcpKSwgeCA9PiB4LmNvZGVQb2ludEF0KDApKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvQmFzZTY0KHN0cmluZywge3VybFNhZmUgPSBmYWxzZX0gPSB7fSkge1xuXHRhc3NlcnRTdHJpbmcoc3RyaW5nKTtcblx0cmV0dXJuIHVpbnQ4QXJyYXlUb0Jhc2U2NChzdHJpbmdUb1VpbnQ4QXJyYXkoc3RyaW5nKSwge3VybFNhZmV9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NFRvU3RyaW5nKGJhc2U2NFN0cmluZykge1xuXHRhc3NlcnRTdHJpbmcoYmFzZTY0U3RyaW5nKTtcblx0cmV0dXJuIHVpbnQ4QXJyYXlUb1N0cmluZyhiYXNlNjRUb1VpbnQ4QXJyYXkoYmFzZTY0U3RyaW5nKSk7XG59XG5cbmNvbnN0IGJ5dGVUb0hleExvb2t1cFRhYmxlID0gQXJyYXkuZnJvbSh7bGVuZ3RoOiAyNTZ9LCAoXywgaW5kZXgpID0+IGluZGV4LnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVpbnQ4QXJyYXlUb0hleChhcnJheSkge1xuXHRhc3NlcnRVaW50OEFycmF5KGFycmF5KTtcblxuXHQvLyBDb25jYXRlbmF0aW5nIGEgc3RyaW5nIGlzIGZhc3RlciB0aGFuIHVzaW5nIGFuIGFycmF5LlxuXHRsZXQgaGV4U3RyaW5nID0gJyc7XG5cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vbm8tZm9yLWxvb3AgLS0gTWF4IHBlcmZvcm1hbmNlIGlzIGNyaXRpY2FsLlxuXHRmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYXJyYXkubGVuZ3RoOyBpbmRleCsrKSB7XG5cdFx0aGV4U3RyaW5nICs9IGJ5dGVUb0hleExvb2t1cFRhYmxlW2FycmF5W2luZGV4XV07XG5cdH1cblxuXHRyZXR1cm4gaGV4U3RyaW5nO1xufVxuXG5jb25zdCBoZXhUb0RlY2ltYWxMb29rdXBUYWJsZSA9IHtcblx0MDogMCxcblx0MTogMSxcblx0MjogMixcblx0MzogMyxcblx0NDogNCxcblx0NTogNSxcblx0NjogNixcblx0NzogNyxcblx0ODogOCxcblx0OTogOSxcblx0YTogMTAsXG5cdGI6IDExLFxuXHRjOiAxMixcblx0ZDogMTMsXG5cdGU6IDE0LFxuXHRmOiAxNSxcblx0QTogMTAsXG5cdEI6IDExLFxuXHRDOiAxMixcblx0RDogMTMsXG5cdEU6IDE0LFxuXHRGOiAxNSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb1VpbnQ4QXJyYXkoaGV4U3RyaW5nKSB7XG5cdGFzc2VydFN0cmluZyhoZXhTdHJpbmcpO1xuXG5cdGlmIChoZXhTdHJpbmcubGVuZ3RoICUgMiAhPT0gMCkge1xuXHRcdHRocm93IG5ldyBFcnJvcignSW52YWxpZCBIZXggc3RyaW5nIGxlbmd0aC4nKTtcblx0fVxuXG5cdGNvbnN0IHJlc3VsdExlbmd0aCA9IGhleFN0cmluZy5sZW5ndGggLyAyO1xuXHRjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KHJlc3VsdExlbmd0aCk7XG5cblx0Zm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJlc3VsdExlbmd0aDsgaW5kZXgrKykge1xuXHRcdGNvbnN0IGhpZ2hOaWJibGUgPSBoZXhUb0RlY2ltYWxMb29rdXBUYWJsZVtoZXhTdHJpbmdbaW5kZXggKiAyXV07XG5cdFx0Y29uc3QgbG93TmliYmxlID0gaGV4VG9EZWNpbWFsTG9va3VwVGFibGVbaGV4U3RyaW5nWyhpbmRleCAqIDIpICsgMV1dO1xuXG5cdFx0aWYgKGhpZ2hOaWJibGUgPT09IHVuZGVmaW5lZCB8fCBsb3dOaWJibGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIEhleCBjaGFyYWN0ZXIgZW5jb3VudGVyZWQgYXQgcG9zaXRpb24gJHtpbmRleCAqIDJ9YCk7XG5cdFx0fVxuXG5cdFx0Ynl0ZXNbaW5kZXhdID0gKGhpZ2hOaWJibGUgPDwgNCkgfCBsb3dOaWJibGU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYml0d2lzZVxuXHR9XG5cblx0cmV0dXJuIGJ5dGVzO1xufVxuXG4vKipcbkBwYXJhbSB7RGF0YVZpZXd9IHZpZXdcbkByZXR1cm5zIHtudW1iZXJ9XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVpbnRCRSh2aWV3KSB7XG5cdGNvbnN0IHtieXRlTGVuZ3RofSA9IHZpZXc7XG5cblx0aWYgKGJ5dGVMZW5ndGggPT09IDYpIHtcblx0XHRyZXR1cm4gKHZpZXcuZ2V0VWludDE2KDApICogKDIgKiogMzIpKSArIHZpZXcuZ2V0VWludDMyKDIpO1xuXHR9XG5cblx0aWYgKGJ5dGVMZW5ndGggPT09IDUpIHtcblx0XHRyZXR1cm4gKHZpZXcuZ2V0VWludDgoMCkgKiAoMiAqKiAzMikpICsgdmlldy5nZXRVaW50MzIoMSk7XG5cdH1cblxuXHRpZiAoYnl0ZUxlbmd0aCA9PT0gNCkge1xuXHRcdHJldHVybiB2aWV3LmdldFVpbnQzMigwKTtcblx0fVxuXG5cdGlmIChieXRlTGVuZ3RoID09PSAzKSB7XG5cdFx0cmV0dXJuICh2aWV3LmdldFVpbnQ4KDApICogKDIgKiogMTYpKSArIHZpZXcuZ2V0VWludDE2KDEpO1xuXHR9XG5cblx0aWYgKGJ5dGVMZW5ndGggPT09IDIpIHtcblx0XHRyZXR1cm4gdmlldy5nZXRVaW50MTYoMCk7XG5cdH1cblxuXHRpZiAoYnl0ZUxlbmd0aCA9PT0gMSkge1xuXHRcdHJldHVybiB2aWV3LmdldFVpbnQ4KDApO1xuXHR9XG59XG5cbi8qKlxuQHBhcmFtIHtVaW50OEFycmF5fSBhcnJheVxuQHBhcmFtIHtVaW50OEFycmF5fSB2YWx1ZVxuQHJldHVybnMge251bWJlcn1cbiovXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUpIHtcblx0Y29uc3QgYXJyYXlMZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdGNvbnN0IHZhbHVlTGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuXG5cdGlmICh2YWx1ZUxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiAtMTtcblx0fVxuXG5cdGlmICh2YWx1ZUxlbmd0aCA+IGFycmF5TGVuZ3RoKSB7XG5cdFx0cmV0dXJuIC0xO1xuXHR9XG5cblx0Y29uc3QgdmFsaWRPZmZzZXRMZW5ndGggPSBhcnJheUxlbmd0aCAtIHZhbHVlTGVuZ3RoO1xuXG5cdGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPD0gdmFsaWRPZmZzZXRMZW5ndGg7IGluZGV4KyspIHtcblx0XHRsZXQgaXNNYXRjaCA9IHRydWU7XG5cdFx0Zm9yIChsZXQgaW5kZXgyID0gMDsgaW5kZXgyIDwgdmFsdWVMZW5ndGg7IGluZGV4MisrKSB7XG5cdFx0XHRpZiAoYXJyYXlbaW5kZXggKyBpbmRleDJdICE9PSB2YWx1ZVtpbmRleDJdKSB7XG5cdFx0XHRcdGlzTWF0Y2ggPSBmYWxzZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGlzTWF0Y2gpIHtcblx0XHRcdHJldHVybiBpbmRleDtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gLTE7XG59XG5cbi8qKlxuQHBhcmFtIHtVaW50OEFycmF5fSBhcnJheVxuQHBhcmFtIHtVaW50OEFycmF5fSB2YWx1ZVxuQHJldHVybnMge2Jvb2xlYW59XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGluY2x1ZGVzKGFycmF5LCB2YWx1ZSkge1xuXHRyZXR1cm4gaW5kZXhPZihhcnJheSwgdmFsdWUpICE9PSAtMTtcbn1cbiIsCiAgICAiaW1wb3J0IHtTdHJpbmdUeXBlfSBmcm9tICd0b2tlbi10eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdUb0J5dGVzKHN0cmluZykge1xuXHRyZXR1cm4gWy4uLnN0cmluZ10ubWFwKGNoYXJhY3RlciA9PiBjaGFyYWN0ZXIuY2hhckNvZGVBdCgwKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgdW5pY29ybi9wcmVmZXItY29kZS1wb2ludFxufVxuXG4vKipcbkNoZWNrcyB3aGV0aGVyIHRoZSBUQVIgY2hlY2tzdW0gaXMgdmFsaWQuXG5cbkBwYXJhbSB7VWludDhBcnJheX0gYXJyYXlCdWZmZXIgLSBUaGUgVEFSIGhlYWRlciBgW29mZnNldCAuLi4gb2Zmc2V0ICsgNTEyXWAuXG5AcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gVEFSIGhlYWRlciBvZmZzZXQuXG5AcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBUQVIgY2hlY2tzdW0gaXMgdmFsaWQsIG90aGVyd2lzZSBgZmFsc2VgLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiB0YXJIZWFkZXJDaGVja3N1bU1hdGNoZXMoYXJyYXlCdWZmZXIsIG9mZnNldCA9IDApIHtcblx0Y29uc3QgcmVhZFN1bSA9IE51bWJlci5wYXJzZUludChuZXcgU3RyaW5nVHlwZSg2KS5nZXQoYXJyYXlCdWZmZXIsIDE0OCkucmVwbGFjZSgvXFwwLiokLywgJycpLnRyaW0oKSwgOCk7IC8vIFJlYWQgc3VtIGluIGhlYWRlclxuXHRpZiAoTnVtYmVyLmlzTmFOKHJlYWRTdW0pKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0bGV0IHN1bSA9IDggKiAweDIwOyAvLyBJbml0aWFsaXplIHNpZ25lZCBiaXQgc3VtXG5cblx0Zm9yIChsZXQgaW5kZXggPSBvZmZzZXQ7IGluZGV4IDwgb2Zmc2V0ICsgMTQ4OyBpbmRleCsrKSB7XG5cdFx0c3VtICs9IGFycmF5QnVmZmVyW2luZGV4XTtcblx0fVxuXG5cdGZvciAobGV0IGluZGV4ID0gb2Zmc2V0ICsgMTU2OyBpbmRleCA8IG9mZnNldCArIDUxMjsgaW5kZXgrKykge1xuXHRcdHN1bSArPSBhcnJheUJ1ZmZlcltpbmRleF07XG5cdH1cblxuXHRyZXR1cm4gcmVhZFN1bSA9PT0gc3VtO1xufVxuXG4vKipcbklEMyBVSU5UMzIgc3luYy1zYWZlIHRva2VuaXplciB0b2tlbi5cbjI4IGJpdHMgKHJlcHJlc2VudGluZyB1cCB0byAyNTZNQikgaW50ZWdlciwgdGhlIG1zYiBpcyAwIHRvIGF2b2lkIFwiZmFsc2Ugc3luY3NpZ25hbHNcIi5cbiovXG5leHBvcnQgY29uc3QgdWludDMyU3luY1NhZmVUb2tlbiA9IHtcblx0Z2V0OiAoYnVmZmVyLCBvZmZzZXQpID0+IChidWZmZXJbb2Zmc2V0ICsgM10gJiAweDdGKSB8ICgoYnVmZmVyW29mZnNldCArIDJdKSA8PCA3KSB8ICgoYnVmZmVyW29mZnNldCArIDFdKSA8PCAxNCkgfCAoKGJ1ZmZlcltvZmZzZXRdKSA8PCAyMSksXG5cdGxlbjogNCxcbn07XG4iLAogICAgImV4cG9ydCBjb25zdCBleHRlbnNpb25zID0gW1xuXHQnanBnJyxcblx0J3BuZycsXG5cdCdhcG5nJyxcblx0J2dpZicsXG5cdCd3ZWJwJyxcblx0J2ZsaWYnLFxuXHQneGNmJyxcblx0J2NyMicsXG5cdCdjcjMnLFxuXHQnb3JmJyxcblx0J2FydycsXG5cdCdkbmcnLFxuXHQnbmVmJyxcblx0J3J3MicsXG5cdCdyYWYnLFxuXHQndGlmJyxcblx0J2JtcCcsXG5cdCdpY25zJyxcblx0J2p4cicsXG5cdCdwc2QnLFxuXHQnaW5kZCcsXG5cdCd6aXAnLFxuXHQndGFyJyxcblx0J3JhcicsXG5cdCdneicsXG5cdCdiejInLFxuXHQnN3onLFxuXHQnZG1nJyxcblx0J21wNCcsXG5cdCdtaWQnLFxuXHQnbWt2Jyxcblx0J3dlYm0nLFxuXHQnbW92Jyxcblx0J2F2aScsXG5cdCdtcGcnLFxuXHQnbXAyJyxcblx0J21wMycsXG5cdCdtNGEnLFxuXHQnb2dhJyxcblx0J29nZycsXG5cdCdvZ3YnLFxuXHQnb3B1cycsXG5cdCdmbGFjJyxcblx0J3dhdicsXG5cdCdzcHgnLFxuXHQnYW1yJyxcblx0J3BkZicsXG5cdCdlcHViJyxcblx0J2VsZicsXG5cdCdtYWNobycsXG5cdCdleGUnLFxuXHQnc3dmJyxcblx0J3J0ZicsXG5cdCd3YXNtJyxcblx0J3dvZmYnLFxuXHQnd29mZjInLFxuXHQnZW90Jyxcblx0J3R0ZicsXG5cdCdvdGYnLFxuXHQndHRjJyxcblx0J2ljbycsXG5cdCdmbHYnLFxuXHQncHMnLFxuXHQneHonLFxuXHQnc3FsaXRlJyxcblx0J25lcycsXG5cdCdjcngnLFxuXHQneHBpJyxcblx0J2NhYicsXG5cdCdkZWInLFxuXHQnYXInLFxuXHQncnBtJyxcblx0J1onLFxuXHQnbHonLFxuXHQnY2ZiJyxcblx0J214ZicsXG5cdCdtdHMnLFxuXHQnYmxlbmQnLFxuXHQnYnBnJyxcblx0J2RvY3gnLFxuXHQncHB0eCcsXG5cdCd4bHN4Jyxcblx0JzNncCcsXG5cdCczZzInLFxuXHQnajJjJyxcblx0J2pwMicsXG5cdCdqcG0nLFxuXHQnanB4Jyxcblx0J21qMicsXG5cdCdhaWYnLFxuXHQncWNwJyxcblx0J29kdCcsXG5cdCdvZHMnLFxuXHQnb2RwJyxcblx0J3htbCcsXG5cdCdtb2JpJyxcblx0J2hlaWMnLFxuXHQnY3VyJyxcblx0J2t0eCcsXG5cdCdhcGUnLFxuXHQnd3YnLFxuXHQnZGNtJyxcblx0J2ljcycsXG5cdCdnbGInLFxuXHQncGNhcCcsXG5cdCdkc2YnLFxuXHQnbG5rJyxcblx0J2FsaWFzJyxcblx0J3ZvYycsXG5cdCdhYzMnLFxuXHQnbTR2Jyxcblx0J200cCcsXG5cdCdtNGInLFxuXHQnZjR2Jyxcblx0J2Y0cCcsXG5cdCdmNGInLFxuXHQnZjRhJyxcblx0J21pZScsXG5cdCdhc2YnLFxuXHQnb2dtJyxcblx0J29neCcsXG5cdCdtcGMnLFxuXHQnYXJyb3cnLFxuXHQnc2hwJyxcblx0J2FhYycsXG5cdCdtcDEnLFxuXHQnaXQnLFxuXHQnczNtJyxcblx0J3htJyxcblx0J3NrcCcsXG5cdCdhdmlmJyxcblx0J2VwcycsXG5cdCdsemgnLFxuXHQncGdwJyxcblx0J2FzYXInLFxuXHQnc3RsJyxcblx0J2NobScsXG5cdCczbWYnLFxuXHQnenN0Jyxcblx0J2p4bCcsXG5cdCd2Y2YnLFxuXHQnamxzJyxcblx0J3BzdCcsXG5cdCdkd2cnLFxuXHQncGFycXVldCcsXG5cdCdjbGFzcycsXG5cdCdhcmonLFxuXHQnY3BpbycsXG5cdCdhY2UnLFxuXHQnYXZybycsXG5cdCdpY2MnLFxuXHQnZmJ4Jyxcblx0J3ZzZHgnLFxuXHQndnR0Jyxcblx0J2FwaycsXG5cdCdkcmMnLFxuXHQnbHo0Jyxcblx0J3BvdHgnLFxuXHQneGx0eCcsXG5cdCdkb3R4Jyxcblx0J3hsdG0nLFxuXHQnb3R0Jyxcblx0J290cycsXG5cdCdvdHAnLFxuXHQnb2RnJyxcblx0J290ZycsXG5cdCd4bHNtJyxcblx0J2RvY20nLFxuXHQnZG90bScsXG5cdCdwb3RtJyxcblx0J3BwdG0nLFxuXHQnamFyJyxcblx0J3JtJyxcblx0J3Bwc20nLFxuXHQncHBzeCcsXG5dO1xuXG5leHBvcnQgY29uc3QgbWltZVR5cGVzID0gW1xuXHQnaW1hZ2UvanBlZycsXG5cdCdpbWFnZS9wbmcnLFxuXHQnaW1hZ2UvZ2lmJyxcblx0J2ltYWdlL3dlYnAnLFxuXHQnaW1hZ2UvZmxpZicsXG5cdCdpbWFnZS94LXhjZicsXG5cdCdpbWFnZS94LWNhbm9uLWNyMicsXG5cdCdpbWFnZS94LWNhbm9uLWNyMycsXG5cdCdpbWFnZS90aWZmJyxcblx0J2ltYWdlL2JtcCcsXG5cdCdpbWFnZS92bmQubXMtcGhvdG8nLFxuXHQnaW1hZ2Uvdm5kLmFkb2JlLnBob3Rvc2hvcCcsXG5cdCdhcHBsaWNhdGlvbi94LWluZGVzaWduJyxcblx0J2FwcGxpY2F0aW9uL2VwdWIremlwJyxcblx0J2FwcGxpY2F0aW9uL3gteHBpbnN0YWxsJyxcblx0J2FwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50LnNsaWRlc2hvdy5tYWNyb2VuYWJsZWQuMTInLFxuXHQnYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC50ZXh0Jyxcblx0J2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuc3ByZWFkc2hlZXQnLFxuXHQnYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5wcmVzZW50YXRpb24nLFxuXHQnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnQnLFxuXHQnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnByZXNlbnRhdGlvbm1sLnByZXNlbnRhdGlvbicsXG5cdCdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldCcsXG5cdCdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwuc2xpZGVzaG93Jyxcblx0J2FwcGxpY2F0aW9uL3ppcCcsXG5cdCdhcHBsaWNhdGlvbi94LXRhcicsXG5cdCdhcHBsaWNhdGlvbi94LXJhci1jb21wcmVzc2VkJyxcblx0J2FwcGxpY2F0aW9uL2d6aXAnLFxuXHQnYXBwbGljYXRpb24veC1iemlwMicsXG5cdCdhcHBsaWNhdGlvbi94LTd6LWNvbXByZXNzZWQnLFxuXHQnYXBwbGljYXRpb24veC1hcHBsZS1kaXNraW1hZ2UnLFxuXHQnYXBwbGljYXRpb24vdm5kLmFwYWNoZS5hcnJvdy5maWxlJyxcblx0J3ZpZGVvL21wNCcsXG5cdCdhdWRpby9taWRpJyxcblx0J3ZpZGVvL21hdHJvc2thJyxcblx0J3ZpZGVvL3dlYm0nLFxuXHQndmlkZW8vcXVpY2t0aW1lJyxcblx0J3ZpZGVvL3ZuZC5hdmknLFxuXHQnYXVkaW8vd2F2Jyxcblx0J2F1ZGlvL3FjZWxwJyxcblx0J2F1ZGlvL3gtbXMtYXNmJyxcblx0J3ZpZGVvL3gtbXMtYXNmJyxcblx0J2FwcGxpY2F0aW9uL3ZuZC5tcy1hc2YnLFxuXHQndmlkZW8vbXBlZycsXG5cdCd2aWRlby8zZ3BwJyxcblx0J2F1ZGlvL21wZWcnLFxuXHQnYXVkaW8vbXA0JywgLy8gUkZDIDQzMzdcblx0J3ZpZGVvL29nZycsXG5cdCdhdWRpby9vZ2cnLFxuXHQnYXVkaW8vb2dnOyBjb2RlY3M9b3B1cycsXG5cdCdhcHBsaWNhdGlvbi9vZ2cnLFxuXHQnYXVkaW8vZmxhYycsXG5cdCdhdWRpby9hcGUnLFxuXHQnYXVkaW8vd2F2cGFjaycsXG5cdCdhdWRpby9hbXInLFxuXHQnYXBwbGljYXRpb24vcGRmJyxcblx0J2FwcGxpY2F0aW9uL3gtZWxmJyxcblx0J2FwcGxpY2F0aW9uL3gtbWFjaC1iaW5hcnknLFxuXHQnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyxcblx0J2FwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoJyxcblx0J2FwcGxpY2F0aW9uL3J0ZicsXG5cdCdhcHBsaWNhdGlvbi93YXNtJyxcblx0J2ZvbnQvd29mZicsXG5cdCdmb250L3dvZmYyJyxcblx0J2FwcGxpY2F0aW9uL3ZuZC5tcy1mb250b2JqZWN0Jyxcblx0J2ZvbnQvdHRmJyxcblx0J2ZvbnQvb3RmJyxcblx0J2ZvbnQvY29sbGVjdGlvbicsXG5cdCdpbWFnZS94LWljb24nLFxuXHQndmlkZW8veC1mbHYnLFxuXHQnYXBwbGljYXRpb24vcG9zdHNjcmlwdCcsXG5cdCdhcHBsaWNhdGlvbi9lcHMnLFxuXHQnYXBwbGljYXRpb24veC14eicsXG5cdCdhcHBsaWNhdGlvbi94LXNxbGl0ZTMnLFxuXHQnYXBwbGljYXRpb24veC1uaW50ZW5kby1uZXMtcm9tJyxcblx0J2FwcGxpY2F0aW9uL3gtZ29vZ2xlLWNocm9tZS1leHRlbnNpb24nLFxuXHQnYXBwbGljYXRpb24vdm5kLm1zLWNhYi1jb21wcmVzc2VkJyxcblx0J2FwcGxpY2F0aW9uL3gtZGViJyxcblx0J2FwcGxpY2F0aW9uL3gtdW5peC1hcmNoaXZlJyxcblx0J2FwcGxpY2F0aW9uL3gtcnBtJyxcblx0J2FwcGxpY2F0aW9uL3gtY29tcHJlc3MnLFxuXHQnYXBwbGljYXRpb24veC1semlwJyxcblx0J2FwcGxpY2F0aW9uL3gtY2ZiJyxcblx0J2FwcGxpY2F0aW9uL3gtbWllJyxcblx0J2FwcGxpY2F0aW9uL214ZicsXG5cdCd2aWRlby9tcDJ0Jyxcblx0J2FwcGxpY2F0aW9uL3gtYmxlbmRlcicsXG5cdCdpbWFnZS9icGcnLFxuXHQnaW1hZ2UvajJjJyxcblx0J2ltYWdlL2pwMicsXG5cdCdpbWFnZS9qcHgnLFxuXHQnaW1hZ2UvanBtJyxcblx0J2ltYWdlL21qMicsXG5cdCdhdWRpby9haWZmJyxcblx0J2FwcGxpY2F0aW9uL3htbCcsXG5cdCdhcHBsaWNhdGlvbi94LW1vYmlwb2NrZXQtZWJvb2snLFxuXHQnaW1hZ2UvaGVpZicsXG5cdCdpbWFnZS9oZWlmLXNlcXVlbmNlJyxcblx0J2ltYWdlL2hlaWMnLFxuXHQnaW1hZ2UvaGVpYy1zZXF1ZW5jZScsXG5cdCdpbWFnZS9pY25zJyxcblx0J2ltYWdlL2t0eCcsXG5cdCdhcHBsaWNhdGlvbi9kaWNvbScsXG5cdCdhdWRpby94LW11c2VwYWNrJyxcblx0J3RleHQvY2FsZW5kYXInLFxuXHQndGV4dC92Y2FyZCcsXG5cdCd0ZXh0L3Z0dCcsXG5cdCdtb2RlbC9nbHRmLWJpbmFyeScsXG5cdCdhcHBsaWNhdGlvbi92bmQudGNwZHVtcC5wY2FwJyxcblx0J2F1ZGlvL3gtZHNmJywgLy8gTm9uLXN0YW5kYXJkXG5cdCdhcHBsaWNhdGlvbi94Lm1zLnNob3J0Y3V0JywgLy8gSW52ZW50ZWQgYnkgdXNcblx0J2FwcGxpY2F0aW9uL3guYXBwbGUuYWxpYXMnLCAvLyBJbnZlbnRlZCBieSB1c1xuXHQnYXVkaW8veC12b2MnLFxuXHQnYXVkaW8vdm5kLmRvbGJ5LmRkLXJhdycsXG5cdCdhdWRpby94LW00YScsXG5cdCdpbWFnZS9hcG5nJyxcblx0J2ltYWdlL3gtb2x5bXB1cy1vcmYnLFxuXHQnaW1hZ2UveC1zb255LWFydycsXG5cdCdpbWFnZS94LWFkb2JlLWRuZycsXG5cdCdpbWFnZS94LW5pa29uLW5lZicsXG5cdCdpbWFnZS94LXBhbmFzb25pYy1ydzInLFxuXHQnaW1hZ2UveC1mdWppZmlsbS1yYWYnLFxuXHQndmlkZW8veC1tNHYnLFxuXHQndmlkZW8vM2dwcDInLFxuXHQnYXBwbGljYXRpb24veC1lc3JpLXNoYXBlJyxcblx0J2F1ZGlvL2FhYycsXG5cdCdhdWRpby94LWl0Jyxcblx0J2F1ZGlvL3gtczNtJyxcblx0J2F1ZGlvL3gteG0nLFxuXHQndmlkZW8vTVAxUycsXG5cdCd2aWRlby9NUDJQJyxcblx0J2FwcGxpY2F0aW9uL3ZuZC5za2V0Y2h1cC5za3AnLFxuXHQnaW1hZ2UvYXZpZicsXG5cdCdhcHBsaWNhdGlvbi94LWx6aC1jb21wcmVzc2VkJyxcblx0J2FwcGxpY2F0aW9uL3BncC1lbmNyeXB0ZWQnLFxuXHQnYXBwbGljYXRpb24veC1hc2FyJyxcblx0J21vZGVsL3N0bCcsXG5cdCdhcHBsaWNhdGlvbi92bmQubXMtaHRtbGhlbHAnLFxuXHQnbW9kZWwvM21mJyxcblx0J2ltYWdlL2p4bCcsXG5cdCdhcHBsaWNhdGlvbi96c3RkJyxcblx0J2ltYWdlL2pscycsXG5cdCdhcHBsaWNhdGlvbi92bmQubXMtb3V0bG9vaycsXG5cdCdpbWFnZS92bmQuZHdnJyxcblx0J2FwcGxpY2F0aW9uL3ZuZC5hcGFjaGUucGFycXVldCcsXG5cdCdhcHBsaWNhdGlvbi9qYXZhLXZtJyxcblx0J2FwcGxpY2F0aW9uL3gtYXJqJyxcblx0J2FwcGxpY2F0aW9uL3gtY3BpbycsXG5cdCdhcHBsaWNhdGlvbi94LWFjZS1jb21wcmVzc2VkJyxcblx0J2FwcGxpY2F0aW9uL2F2cm8nLFxuXHQnYXBwbGljYXRpb24vdm5kLmljY3Byb2ZpbGUnLFxuXHQnYXBwbGljYXRpb24veC5hdXRvZGVzay5mYngnLCAvLyBJbnZlbnRlZCBieSB1c1xuXHQnYXBwbGljYXRpb24vdm5kLnZpc2lvJyxcblx0J2FwcGxpY2F0aW9uL3ZuZC5hbmRyb2lkLnBhY2thZ2UtYXJjaGl2ZScsXG5cdCdhcHBsaWNhdGlvbi92bmQuZ29vZ2xlLmRyYWNvJywgLy8gSW52ZW50ZWQgYnkgdXNcblx0J2FwcGxpY2F0aW9uL3gtbHo0JywgLy8gSW52ZW50ZWQgYnkgdXNcblx0J2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC50ZW1wbGF0ZScsXG5cdCdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC50ZW1wbGF0ZScsXG5cdCdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC50ZW1wbGF0ZScsXG5cdCdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwudGVtcGxhdGUubWFjcm9lbmFibGVkLjEyJyxcblx0J2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQudGV4dC10ZW1wbGF0ZScsXG5cdCdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnNwcmVhZHNoZWV0LXRlbXBsYXRlJyxcblx0J2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQucHJlc2VudGF0aW9uLXRlbXBsYXRlJyxcblx0J2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuZ3JhcGhpY3MnLFxuXHQnYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5ncmFwaGljcy10ZW1wbGF0ZScsXG5cdCdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuc2hlZXQubWFjcm9lbmFibGVkLjEyJyxcblx0J2FwcGxpY2F0aW9uL3ZuZC5tcy13b3JkLmRvY3VtZW50Lm1hY3JvZW5hYmxlZC4xMicsXG5cdCdhcHBsaWNhdGlvbi92bmQubXMtd29yZC50ZW1wbGF0ZS5tYWNyb2VuYWJsZWQuMTInLFxuXHQnYXBwbGljYXRpb24vdm5kLm1zLXBvd2VycG9pbnQudGVtcGxhdGUubWFjcm9lbmFibGVkLjEyJyxcblx0J2FwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50LnByZXNlbnRhdGlvbi5tYWNyb2VuYWJsZWQuMTInLFxuXHQnYXBwbGljYXRpb24vamF2YS1hcmNoaXZlJyxcblx0J2FwcGxpY2F0aW9uL3ZuZC5ybi1yZWFsbWVkaWEnLFxuXTtcbiIsCiAgICAiLyoqXG5QcmltYXJ5IGVudHJ5IHBvaW50LCBOb2RlLmpzIHNwZWNpZmljIGVudHJ5IHBvaW50IGlzIGluZGV4LmpzXG4qL1xuXG5pbXBvcnQgKiBhcyBUb2tlbiBmcm9tICd0b2tlbi10eXBlcyc7XG5pbXBvcnQgKiBhcyBzdHJ0b2szIGZyb20gJ3N0cnRvazMvY29yZSc7XG5pbXBvcnQge1ppcEhhbmRsZXJ9IGZyb20gJ0B0b2tlbml6ZXIvaW5mbGF0ZSc7XG5pbXBvcnQge2dldFVpbnRCRX0gZnJvbSAndWludDhhcnJheS1leHRyYXMnO1xuaW1wb3J0IHtcblx0c3RyaW5nVG9CeXRlcyxcblx0dGFySGVhZGVyQ2hlY2tzdW1NYXRjaGVzLFxuXHR1aW50MzJTeW5jU2FmZVRva2VuLFxufSBmcm9tICcuL3V0aWwuanMnO1xuaW1wb3J0IHtleHRlbnNpb25zLCBtaW1lVHlwZXN9IGZyb20gJy4vc3VwcG9ydGVkLmpzJztcblxuZXhwb3J0IGNvbnN0IHJlYXNvbmFibGVEZXRlY3Rpb25TaXplSW5CeXRlcyA9IDQxMDA7IC8vIEEgZmFpciBhbW91bnQgb2YgZmlsZS10eXBlcyBhcmUgZGV0ZWN0YWJsZSB3aXRoaW4gdGhpcyByYW5nZS5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbGVUeXBlRnJvbVN0cmVhbShzdHJlYW0sIG9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBGaWxlVHlwZVBhcnNlcihvcHRpb25zKS5mcm9tU3RyZWFtKHN0cmVhbSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaWxlVHlwZUZyb21CdWZmZXIoaW5wdXQsIG9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBGaWxlVHlwZVBhcnNlcihvcHRpb25zKS5mcm9tQnVmZmVyKGlucHV0KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbGVUeXBlRnJvbUJsb2IoYmxvYiwgb3B0aW9ucykge1xuXHRyZXR1cm4gbmV3IEZpbGVUeXBlUGFyc2VyKG9wdGlvbnMpLmZyb21CbG9iKGJsb2IpO1xufVxuXG5mdW5jdGlvbiBnZXRGaWxlVHlwZUZyb21NaW1lVHlwZShtaW1lVHlwZSkge1xuXHRtaW1lVHlwZSA9IG1pbWVUeXBlLnRvTG93ZXJDYXNlKCk7XG5cdHN3aXRjaCAobWltZVR5cGUpIHtcblx0XHRjYXNlICdhcHBsaWNhdGlvbi9lcHViK3ppcCc6XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdlcHViJyxcblx0XHRcdFx0bWltZTogbWltZVR5cGUsXG5cdFx0XHR9O1xuXHRcdGNhc2UgJ2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQudGV4dCc6XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdvZHQnLFxuXHRcdFx0XHRtaW1lOiBtaW1lVHlwZSxcblx0XHRcdH07XG5cdFx0Y2FzZSAnYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC50ZXh0LXRlbXBsYXRlJzpcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ290dCcsXG5cdFx0XHRcdG1pbWU6IG1pbWVUeXBlLFxuXHRcdFx0fTtcblx0XHRjYXNlICdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnNwcmVhZHNoZWV0Jzpcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ29kcycsXG5cdFx0XHRcdG1pbWU6IG1pbWVUeXBlLFxuXHRcdFx0fTtcblx0XHRjYXNlICdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnNwcmVhZHNoZWV0LXRlbXBsYXRlJzpcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ290cycsXG5cdFx0XHRcdG1pbWU6IG1pbWVUeXBlLFxuXHRcdFx0fTtcblx0XHRjYXNlICdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnByZXNlbnRhdGlvbic6XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdvZHAnLFxuXHRcdFx0XHRtaW1lOiBtaW1lVHlwZSxcblx0XHRcdH07XG5cdFx0Y2FzZSAnYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5wcmVzZW50YXRpb24tdGVtcGxhdGUnOlxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnb3RwJyxcblx0XHRcdFx0bWltZTogbWltZVR5cGUsXG5cdFx0XHR9O1xuXHRcdGNhc2UgJ2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuZ3JhcGhpY3MnOlxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnb2RnJyxcblx0XHRcdFx0bWltZTogbWltZVR5cGUsXG5cdFx0XHR9O1xuXHRcdGNhc2UgJ2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuZ3JhcGhpY3MtdGVtcGxhdGUnOlxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnb3RnJyxcblx0XHRcdFx0bWltZTogbWltZVR5cGUsXG5cdFx0XHR9O1xuXHRcdGNhc2UgJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC5zbGlkZXNob3cnOlxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAncHBzeCcsXG5cdFx0XHRcdG1pbWU6IG1pbWVUeXBlLFxuXHRcdFx0fTtcblx0XHRjYXNlICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldCc6XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICd4bHN4Jyxcblx0XHRcdFx0bWltZTogbWltZVR5cGUsXG5cdFx0XHR9O1xuXHRcdGNhc2UgJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbC5zaGVldC5tYWNyb2VuYWJsZWQnOlxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAneGxzbScsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuc2hlZXQubWFjcm9lbmFibGVkLjEyJyxcblx0XHRcdH07XG5cdFx0Y2FzZSAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwudGVtcGxhdGUnOlxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAneGx0eCcsXG5cdFx0XHRcdG1pbWU6IG1pbWVUeXBlLFxuXHRcdFx0fTtcblx0XHRjYXNlICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwudGVtcGxhdGUubWFjcm9lbmFibGVkJzpcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3hsdG0nLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLnRlbXBsYXRlLm1hY3JvZW5hYmxlZC4xMicsXG5cdFx0XHR9O1xuXHRcdGNhc2UgJ2FwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50LnNsaWRlc2hvdy5tYWNyb2VuYWJsZWQnOlxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAncHBzbScsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQubXMtcG93ZXJwb2ludC5zbGlkZXNob3cubWFjcm9lbmFibGVkLjEyJyxcblx0XHRcdH07XG5cdFx0Y2FzZSAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnQnOlxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnZG9jeCcsXG5cdFx0XHRcdG1pbWU6IG1pbWVUeXBlLFxuXHRcdFx0fTtcblx0XHRjYXNlICdhcHBsaWNhdGlvbi92bmQubXMtd29yZC5kb2N1bWVudC5tYWNyb2VuYWJsZWQnOlxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnZG9jbScsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQubXMtd29yZC5kb2N1bWVudC5tYWNyb2VuYWJsZWQuMTInLFxuXHRcdFx0fTtcblx0XHRjYXNlICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC50ZW1wbGF0ZSc6XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdkb3R4Jyxcblx0XHRcdFx0bWltZTogbWltZVR5cGUsXG5cdFx0XHR9O1xuXHRcdGNhc2UgJ2FwcGxpY2F0aW9uL3ZuZC5tcy13b3JkLnRlbXBsYXRlLm1hY3JvZW5hYmxlZHRlbXBsYXRlJzpcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ2RvdG0nLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vdm5kLm1zLXdvcmQudGVtcGxhdGUubWFjcm9lbmFibGVkLjEyJyxcblx0XHRcdH07XG5cdFx0Y2FzZSAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnByZXNlbnRhdGlvbm1sLnRlbXBsYXRlJzpcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3BvdHgnLFxuXHRcdFx0XHRtaW1lOiBtaW1lVHlwZSxcblx0XHRcdH07XG5cdFx0Y2FzZSAnYXBwbGljYXRpb24vdm5kLm1zLXBvd2VycG9pbnQudGVtcGxhdGUubWFjcm9lbmFibGVkJzpcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3BvdG0nLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vdm5kLm1zLXBvd2VycG9pbnQudGVtcGxhdGUubWFjcm9lbmFibGVkLjEyJyxcblx0XHRcdH07XG5cdFx0Y2FzZSAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnByZXNlbnRhdGlvbm1sLnByZXNlbnRhdGlvbic6XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdwcHR4Jyxcblx0XHRcdFx0bWltZTogbWltZVR5cGUsXG5cdFx0XHR9O1xuXHRcdGNhc2UgJ2FwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50LnByZXNlbnRhdGlvbi5tYWNyb2VuYWJsZWQnOlxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAncHB0bScsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQubXMtcG93ZXJwb2ludC5wcmVzZW50YXRpb24ubWFjcm9lbmFibGVkLjEyJyxcblx0XHRcdH07XG5cdFx0Y2FzZSAnYXBwbGljYXRpb24vdm5kLm1zLXZpc2lvLmRyYXdpbmcnOlxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAndnNkeCcsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQudmlzaW8nLFxuXHRcdFx0fTtcblx0XHRjYXNlICdhcHBsaWNhdGlvbi92bmQubXMtcGFja2FnZS4zZG1hbnVmYWN0dXJpbmctM2Rtb2RlbCt4bWwnOlxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnM21mJyxcblx0XHRcdFx0bWltZTogJ21vZGVsLzNtZicsXG5cdFx0XHR9O1xuXHRcdGRlZmF1bHQ6XG5cdH1cbn1cblxuZnVuY3Rpb24gX2NoZWNrKGJ1ZmZlciwgaGVhZGVycywgb3B0aW9ucykge1xuXHRvcHRpb25zID0ge1xuXHRcdG9mZnNldDogMCxcblx0XHQuLi5vcHRpb25zLFxuXHR9O1xuXG5cdGZvciAoY29uc3QgW2luZGV4LCBoZWFkZXJdIG9mIGhlYWRlcnMuZW50cmllcygpKSB7XG5cdFx0Ly8gSWYgYSBiaXRtYXNrIGlzIHNldFxuXHRcdGlmIChvcHRpb25zLm1hc2spIHtcblx0XHRcdC8vIElmIGhlYWRlciBkb2Vzbid0IGVxdWFsIGBidWZgIHdpdGggYml0cyBtYXNrZWQgb2ZmXG5cdFx0XHRpZiAoaGVhZGVyICE9PSAob3B0aW9ucy5tYXNrW2luZGV4XSAmIGJ1ZmZlcltpbmRleCArIG9wdGlvbnMub2Zmc2V0XSkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoaGVhZGVyICE9PSBidWZmZXJbaW5kZXggKyBvcHRpb25zLm9mZnNldF0pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbGVUeXBlRnJvbVRva2VuaXplcih0b2tlbml6ZXIsIG9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBGaWxlVHlwZVBhcnNlcihvcHRpb25zKS5mcm9tVG9rZW5pemVyKHRva2VuaXplcik7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaWxlVHlwZVN0cmVhbSh3ZWJTdHJlYW0sIG9wdGlvbnMpIHtcblx0cmV0dXJuIG5ldyBGaWxlVHlwZVBhcnNlcihvcHRpb25zKS50b0RldGVjdGlvblN0cmVhbSh3ZWJTdHJlYW0sIG9wdGlvbnMpO1xufVxuXG5leHBvcnQgY2xhc3MgRmlsZVR5cGVQYXJzZXIge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0dGhpcy5vcHRpb25zID0ge1xuXHRcdFx0bXBlZ09mZnNldFRvbGVyYW5jZTogMCxcblx0XHRcdC4uLm9wdGlvbnMsXG5cdFx0fTtcblxuXHRcdHRoaXMuZGV0ZWN0b3JzID0gWy4uLihvcHRpb25zPy5jdXN0b21EZXRlY3RvcnMgPz8gW10pLFxuXHRcdFx0e2lkOiAnY29yZScsIGRldGVjdDogdGhpcy5kZXRlY3RDb25maWRlbnR9LFxuXHRcdFx0e2lkOiAnY29yZS5pbXByZWNpc2UnLCBkZXRlY3Q6IHRoaXMuZGV0ZWN0SW1wcmVjaXNlfV07XG5cdFx0dGhpcy50b2tlbml6ZXJPcHRpb25zID0ge1xuXHRcdFx0YWJvcnRTaWduYWw6IG9wdGlvbnM/LnNpZ25hbCxcblx0XHR9O1xuXHR9XG5cblx0YXN5bmMgZnJvbVRva2VuaXplcih0b2tlbml6ZXIpIHtcblx0XHRjb25zdCBpbml0aWFsUG9zaXRpb24gPSB0b2tlbml6ZXIucG9zaXRpb247XG5cblx0XHQvLyBJdGVyYXRlIHRocm91Z2ggYWxsIGZpbGUtdHlwZSBkZXRlY3RvcnNcblx0XHRmb3IgKGNvbnN0IGRldGVjdG9yIG9mIHRoaXMuZGV0ZWN0b3JzKSB7XG5cdFx0XHRjb25zdCBmaWxlVHlwZSA9IGF3YWl0IGRldGVjdG9yLmRldGVjdCh0b2tlbml6ZXIpO1xuXHRcdFx0aWYgKGZpbGVUeXBlKSB7XG5cdFx0XHRcdHJldHVybiBmaWxlVHlwZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGluaXRpYWxQb3NpdGlvbiAhPT0gdG9rZW5pemVyLnBvc2l0aW9uKSB7XG5cdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7IC8vIENhbm5vdCBwcm9jZWVkIHNjYW5uaW5nIG9mIHRoZSB0b2tlbml6ZXIgaXMgYXQgYW4gYXJiaXRyYXJ5IHBvc2l0aW9uXG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgZnJvbUJ1ZmZlcihpbnB1dCkge1xuXHRcdGlmICghKGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBpbnB1dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgdGhlIFxcYGlucHV0XFxgIGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgXFxgVWludDhBcnJheVxcYCBvciBcXGBBcnJheUJ1ZmZlclxcYCwgZ290IFxcYCR7dHlwZW9mIGlucHV0fVxcYGApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGJ1ZmZlciA9IGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSA/IGlucHV0IDogbmV3IFVpbnQ4QXJyYXkoaW5wdXQpO1xuXG5cdFx0aWYgKCEoYnVmZmVyPy5sZW5ndGggPiAxKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmZyb21Ub2tlbml6ZXIoc3RydG9rMy5mcm9tQnVmZmVyKGJ1ZmZlciwgdGhpcy50b2tlbml6ZXJPcHRpb25zKSk7XG5cdH1cblxuXHRhc3luYyBmcm9tQmxvYihibG9iKSB7XG5cdFx0cmV0dXJuIHRoaXMuZnJvbVN0cmVhbShibG9iLnN0cmVhbSgpKTtcblx0fVxuXG5cdGFzeW5jIGZyb21TdHJlYW0oc3RyZWFtKSB7XG5cdFx0Y29uc3QgdG9rZW5pemVyID0gYXdhaXQgc3RydG9rMy5mcm9tV2ViU3RyZWFtKHN0cmVhbSwgdGhpcy50b2tlbml6ZXJPcHRpb25zKTtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIGF3YWl0IHRoaXMuZnJvbVRva2VuaXplcih0b2tlbml6ZXIpO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRhd2FpdCB0b2tlbml6ZXIuY2xvc2UoKTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyB0b0RldGVjdGlvblN0cmVhbShzdHJlYW0sIG9wdGlvbnMpIHtcblx0XHRjb25zdCB7c2FtcGxlU2l6ZSA9IHJlYXNvbmFibGVEZXRlY3Rpb25TaXplSW5CeXRlc30gPSBvcHRpb25zO1xuXHRcdGxldCBkZXRlY3RlZEZpbGVUeXBlO1xuXHRcdGxldCBmaXJzdENodW5rO1xuXG5cdFx0Y29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcih7bW9kZTogJ2J5b2InfSk7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIFJlYWQgdGhlIGZpcnN0IGNodW5rIGZyb20gdGhlIHN0cmVhbVxuXHRcdFx0Y29uc3Qge3ZhbHVlOiBjaHVuaywgZG9uZX0gPSBhd2FpdCByZWFkZXIucmVhZChuZXcgVWludDhBcnJheShzYW1wbGVTaXplKSk7XG5cdFx0XHRmaXJzdENodW5rID0gY2h1bms7XG5cdFx0XHRpZiAoIWRvbmUgJiYgY2h1bmspIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBBdHRlbXB0IHRvIGRldGVjdCB0aGUgZmlsZSB0eXBlIGZyb20gdGhlIGNodW5rXG5cdFx0XHRcdFx0ZGV0ZWN0ZWRGaWxlVHlwZSA9IGF3YWl0IHRoaXMuZnJvbUJ1ZmZlcihjaHVuay5zdWJhcnJheSgwLCBzYW1wbGVTaXplKSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0aWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBzdHJ0b2szLkVuZE9mU3RyZWFtRXJyb3IpKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgbm9uLUVuZE9mU3RyZWFtRXJyb3Jcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRkZXRlY3RlZEZpbGVUeXBlID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGZpcnN0Q2h1bmsgPSBjaHVuaztcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0cmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIEVuc3VyZSB0aGUgcmVhZGVyIGlzIHJlbGVhc2VkXG5cdFx0fVxuXG5cdFx0Ly8gQ3JlYXRlIGEgbmV3IFJlYWRhYmxlU3RyZWFtIHRvIG1hbmFnZSBsb2NraW5nIGlzc3Vlc1xuXHRcdGNvbnN0IHRyYW5zZm9ybVN0cmVhbSA9IG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuXHRcdFx0YXN5bmMgc3RhcnQoY29udHJvbGxlcikge1xuXHRcdFx0XHRjb250cm9sbGVyLmVucXVldWUoZmlyc3RDaHVuayk7IC8vIEVucXVldWUgdGhlIGluaXRpYWwgY2h1bmtcblx0XHRcdH0sXG5cdFx0XHR0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcblx0XHRcdFx0Ly8gUGFzcyB0aHJvdWdoIHRoZSBjaHVua3Mgd2l0aG91dCBtb2RpZmljYXRpb25cblx0XHRcdFx0Y29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHRjb25zdCBuZXdTdHJlYW0gPSBzdHJlYW0ucGlwZVRocm91Z2godHJhbnNmb3JtU3RyZWFtKTtcblx0XHRuZXdTdHJlYW0uZmlsZVR5cGUgPSBkZXRlY3RlZEZpbGVUeXBlO1xuXG5cdFx0cmV0dXJuIG5ld1N0cmVhbTtcblx0fVxuXG5cdGNoZWNrKGhlYWRlciwgb3B0aW9ucykge1xuXHRcdHJldHVybiBfY2hlY2sodGhpcy5idWZmZXIsIGhlYWRlciwgb3B0aW9ucyk7XG5cdH1cblxuXHRjaGVja1N0cmluZyhoZWFkZXIsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5jaGVjayhzdHJpbmdUb0J5dGVzKGhlYWRlciksIG9wdGlvbnMpO1xuXHR9XG5cblx0Ly8gRGV0ZWN0aW9ucyB3aXRoIGEgaGlnaCBkZWdyZWUgb2YgY2VydGFpbnR5IGluIGlkZW50aWZ5aW5nIHRoZSBjb3JyZWN0IGZpbGUgdHlwZVxuXHRkZXRlY3RDb25maWRlbnQgPSBhc3luYyB0b2tlbml6ZXIgPT4ge1xuXHRcdHRoaXMuYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkocmVhc29uYWJsZURldGVjdGlvblNpemVJbkJ5dGVzKTtcblxuXHRcdC8vIEtlZXAgcmVhZGluZyB1bnRpbCBFT0YgaWYgdGhlIGZpbGUgc2l6ZSBpcyB1bmtub3duLlxuXHRcdGlmICh0b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuXHRcdH1cblxuXHRcdHRoaXMudG9rZW5pemVyID0gdG9rZW5pemVyO1xuXG5cdFx0YXdhaXQgdG9rZW5pemVyLnBlZWtCdWZmZXIodGhpcy5idWZmZXIsIHtsZW5ndGg6IDEyLCBtYXlCZUxlc3M6IHRydWV9KTtcblxuXHRcdC8vIC0tIDItYnl0ZSBzaWduYXR1cmVzIC0tXG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHg0MiwgMHg0RF0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdibXAnLFxuXHRcdFx0XHRtaW1lOiAnaW1hZ2UvYm1wJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4MEIsIDB4NzddKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnYWMzJyxcblx0XHRcdFx0bWltZTogJ2F1ZGlvL3ZuZC5kb2xieS5kZC1yYXcnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHg3OCwgMHgwMV0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdkbWcnLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC1hcHBsZS1kaXNraW1hZ2UnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHg0RCwgMHg1QV0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdleGUnLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4MjUsIDB4MjFdKSkge1xuXHRcdFx0YXdhaXQgdG9rZW5pemVyLnBlZWtCdWZmZXIodGhpcy5idWZmZXIsIHtsZW5ndGg6IDI0LCBtYXlCZUxlc3M6IHRydWV9KTtcblxuXHRcdFx0aWYgKFxuXHRcdFx0XHR0aGlzLmNoZWNrU3RyaW5nKCdQUy1BZG9iZS0nLCB7b2Zmc2V0OiAyfSlcblx0XHRcdFx0JiYgdGhpcy5jaGVja1N0cmluZygnIEVQU0YtJywge29mZnNldDogMTR9KVxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXh0OiAnZXBzJyxcblx0XHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vZXBzJyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAncHMnLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vcG9zdHNjcmlwdCcsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmIChcblx0XHRcdHRoaXMuY2hlY2soWzB4MUYsIDB4QTBdKVxuXHRcdFx0fHwgdGhpcy5jaGVjayhbMHgxRiwgMHg5RF0pXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdaJyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtY29tcHJlc3MnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHhDNywgMHg3MV0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdjcGlvJyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtY3BpbycsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDYwLCAweEVBXSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ2FyaicsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LWFyaicsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIC0tIDMtYnl0ZSBzaWduYXR1cmVzIC0tXG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHhFRiwgMHhCQiwgMHhCRl0pKSB7IC8vIFVURi04LUJPTVxuXHRcdFx0Ly8gU3RyaXAgb2ZmIFVURi04LUJPTVxuXHRcdFx0dGhpcy50b2tlbml6ZXIuaWdub3JlKDMpO1xuXHRcdFx0cmV0dXJuIHRoaXMuZGV0ZWN0Q29uZmlkZW50KHRva2VuaXplcik7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4NDcsIDB4NDksIDB4NDZdKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnZ2lmJyxcblx0XHRcdFx0bWltZTogJ2ltYWdlL2dpZicsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDQ5LCAweDQ5LCAweEJDXSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ2p4cicsXG5cdFx0XHRcdG1pbWU6ICdpbWFnZS92bmQubXMtcGhvdG8nLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHgxRiwgMHg4QiwgMHg4XSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ2d6Jyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL2d6aXAnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHg0MiwgMHg1QSwgMHg2OF0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdiejInLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC1iemlwMicsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrU3RyaW5nKCdJRDMnKSkge1xuXHRcdFx0YXdhaXQgdG9rZW5pemVyLmlnbm9yZSg2KTsgLy8gU2tpcCBJRDMgaGVhZGVyIHVudGlsIHRoZSBoZWFkZXIgc2l6ZVxuXHRcdFx0Y29uc3QgaWQzSGVhZGVyTGVuZ3RoID0gYXdhaXQgdG9rZW5pemVyLnJlYWRUb2tlbih1aW50MzJTeW5jU2FmZVRva2VuKTtcblx0XHRcdGlmICh0b2tlbml6ZXIucG9zaXRpb24gKyBpZDNIZWFkZXJMZW5ndGggPiB0b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSkge1xuXHRcdFx0XHQvLyBHdWVzcyBmaWxlIHR5cGUgYmFzZWQgb24gSUQzIGhlYWRlciBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGV4dDogJ21wMycsXG5cdFx0XHRcdFx0bWltZTogJ2F1ZGlvL21wZWcnLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRhd2FpdCB0b2tlbml6ZXIuaWdub3JlKGlkM0hlYWRlckxlbmd0aCk7XG5cdFx0XHRyZXR1cm4gdGhpcy5mcm9tVG9rZW5pemVyKHRva2VuaXplcik7IC8vIFNraXAgSUQzIGhlYWRlciwgcmVjdXJzaW9uXG5cdFx0fVxuXG5cdFx0Ly8gTXVzZXBhY2ssIFNWN1xuXHRcdGlmICh0aGlzLmNoZWNrU3RyaW5nKCdNUCsnKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnbXBjJyxcblx0XHRcdFx0bWltZTogJ2F1ZGlvL3gtbXVzZXBhY2snLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAoXG5cdFx0XHQodGhpcy5idWZmZXJbMF0gPT09IDB4NDMgfHwgdGhpcy5idWZmZXJbMF0gPT09IDB4NDYpXG5cdFx0XHQmJiB0aGlzLmNoZWNrKFsweDU3LCAweDUzXSwge29mZnNldDogMX0pXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdzd2YnLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyAtLSA0LWJ5dGUgc2lnbmF0dXJlcyAtLVxuXG5cdFx0Ly8gUmVxdWlyZXMgYSBzYW1wbGUgc2l6ZSBvZiA0IGJ5dGVzXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4RkYsIDB4RDgsIDB4RkZdKSkge1xuXHRcdFx0aWYgKHRoaXMuY2hlY2soWzB4RjddLCB7b2Zmc2V0OiAzfSkpIHsgLy8gSlBHNy9TT0Y1NSwgaW5kaWNhdGluZyBhIElTTy9JRUMgMTQ0OTUgLyBKUEVHLUxTIGZpbGVcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRleHQ6ICdqbHMnLFxuXHRcdFx0XHRcdG1pbWU6ICdpbWFnZS9qbHMnLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdqcGcnLFxuXHRcdFx0XHRtaW1lOiAnaW1hZ2UvanBlZycsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDRGLCAweDYyLCAweDZBLCAweDAxXSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ2F2cm8nLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vYXZybycsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrU3RyaW5nKCdGTElGJykpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ2ZsaWYnLFxuXHRcdFx0XHRtaW1lOiAnaW1hZ2UvZmxpZicsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrU3RyaW5nKCc4QlBTJykpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3BzZCcsXG5cdFx0XHRcdG1pbWU6ICdpbWFnZS92bmQuYWRvYmUucGhvdG9zaG9wJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gTXVzZXBhY2ssIFNWOFxuXHRcdGlmICh0aGlzLmNoZWNrU3RyaW5nKCdNUENLJykpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ21wYycsXG5cdFx0XHRcdG1pbWU6ICdhdWRpby94LW11c2VwYWNrJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJ0ZPUk0nKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnYWlmJyxcblx0XHRcdFx0bWltZTogJ2F1ZGlvL2FpZmYnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja1N0cmluZygnaWNucycsIHtvZmZzZXQ6IDB9KSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnaWNucycsXG5cdFx0XHRcdG1pbWU6ICdpbWFnZS9pY25zJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gWmlwLWJhc2VkIGZpbGUgZm9ybWF0c1xuXHRcdC8vIE5lZWQgdG8gYmUgYmVmb3JlIHRoZSBgemlwYCBjaGVja1xuXHRcdGlmICh0aGlzLmNoZWNrKFsweDUwLCAweDRCLCAweDMsIDB4NF0pKSB7IC8vIExvY2FsIGZpbGUgaGVhZGVyIHNpZ25hdHVyZVxuXHRcdFx0bGV0IGZpbGVUeXBlO1xuXHRcdFx0YXdhaXQgbmV3IFppcEhhbmRsZXIodG9rZW5pemVyKS51bnppcCh6aXBIZWFkZXIgPT4ge1xuXHRcdFx0XHRzd2l0Y2ggKHppcEhlYWRlci5maWxlbmFtZSkge1xuXHRcdFx0XHRcdGNhc2UgJ01FVEEtSU5GL21vemlsbGEucnNhJzpcblx0XHRcdFx0XHRcdGZpbGVUeXBlID0ge1xuXHRcdFx0XHRcdFx0XHRleHQ6ICd4cGknLFxuXHRcdFx0XHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC14cGluc3RhbGwnLFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdHN0b3A6IHRydWUsXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGNhc2UgJ01FVEEtSU5GL01BTklGRVNULk1GJzpcblx0XHRcdFx0XHRcdGZpbGVUeXBlID0ge1xuXHRcdFx0XHRcdFx0XHRleHQ6ICdqYXInLFxuXHRcdFx0XHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vamF2YS1hcmNoaXZlJyxcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRzdG9wOiB0cnVlLFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRjYXNlICdtaW1ldHlwZSc6XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRhc3luYyBoYW5kbGVyKGZpbGVEYXRhKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gVXNlIFRleHREZWNvZGVyIHRvIGRlY29kZSB0aGUgVVRGLTggZW5jb2RlZCBkYXRhXG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgbWltZVR5cGUgPSBuZXcgVGV4dERlY29kZXIoJ3V0Zi04JykuZGVjb2RlKGZpbGVEYXRhKS50cmltKCk7XG5cdFx0XHRcdFx0XHRcdFx0ZmlsZVR5cGUgPSBnZXRGaWxlVHlwZUZyb21NaW1lVHlwZShtaW1lVHlwZSk7XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHN0b3A6IHRydWUsXG5cdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0Y2FzZSAnW0NvbnRlbnRfVHlwZXNdLnhtbCc6XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRhc3luYyBoYW5kbGVyKGZpbGVEYXRhKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gVXNlIFRleHREZWNvZGVyIHRvIGRlY29kZSB0aGUgVVRGLTggZW5jb2RlZCBkYXRhXG5cdFx0XHRcdFx0XHRcdFx0bGV0IHhtbENvbnRlbnQgPSBuZXcgVGV4dERlY29kZXIoJ3V0Zi04JykuZGVjb2RlKGZpbGVEYXRhKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBlbmRQb3MgPSB4bWxDb250ZW50LmluZGV4T2YoJy5tYWluK3htbFwiJyk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGVuZFBvcyA9PT0gLTEpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IG1pbWVUeXBlID0gJ2FwcGxpY2F0aW9uL3ZuZC5tcy1wYWNrYWdlLjNkbWFudWZhY3R1cmluZy0zZG1vZGVsK3htbCc7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoeG1sQ29udGVudC5pbmNsdWRlcyhgQ29udGVudFR5cGU9XCIke21pbWVUeXBlfVwiYCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZmlsZVR5cGUgPSBnZXRGaWxlVHlwZUZyb21NaW1lVHlwZShtaW1lVHlwZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdHhtbENvbnRlbnQgPSB4bWxDb250ZW50LnNsaWNlKDAsIE1hdGgubWF4KDAsIGVuZFBvcykpO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgZmlyc3RQb3MgPSB4bWxDb250ZW50Lmxhc3RJbmRleE9mKCdcIicpO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgbWltZVR5cGUgPSB4bWxDb250ZW50LnNsaWNlKE1hdGgubWF4KDAsIGZpcnN0UG9zICsgMSkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZmlsZVR5cGUgPSBnZXRGaWxlVHlwZUZyb21NaW1lVHlwZShtaW1lVHlwZSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRzdG9wOiB0cnVlLFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0aWYgKC9jbGFzc2VzXFxkKlxcLmRleC8udGVzdCh6aXBIZWFkZXIuZmlsZW5hbWUpKSB7XG5cdFx0XHRcdFx0XHRcdGZpbGVUeXBlID0ge1xuXHRcdFx0XHRcdFx0XHRcdGV4dDogJ2FwaycsXG5cdFx0XHRcdFx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3ZuZC5hbmRyb2lkLnBhY2thZ2UtYXJjaGl2ZScsXG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdHJldHVybiB7c3RvcDogdHJ1ZX07XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiB7fTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiBmaWxlVHlwZSA/PyB7XG5cdFx0XHRcdGV4dDogJ3ppcCcsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi96aXAnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja1N0cmluZygnT2dnUycpKSB7XG5cdFx0XHQvLyBUaGlzIGlzIGFuIE9HRyBjb250YWluZXJcblx0XHRcdGF3YWl0IHRva2VuaXplci5pZ25vcmUoMjgpO1xuXHRcdFx0Y29uc3QgdHlwZSA9IG5ldyBVaW50OEFycmF5KDgpO1xuXHRcdFx0YXdhaXQgdG9rZW5pemVyLnJlYWRCdWZmZXIodHlwZSk7XG5cblx0XHRcdC8vIE5lZWRzIHRvIGJlIGJlZm9yZSBgb2dnYCBjaGVja1xuXHRcdFx0aWYgKF9jaGVjayh0eXBlLCBbMHg0RiwgMHg3MCwgMHg3NSwgMHg3MywgMHg0OCwgMHg2NSwgMHg2MSwgMHg2NF0pKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXh0OiAnb3B1cycsXG5cdFx0XHRcdFx0bWltZTogJ2F1ZGlvL29nZzsgY29kZWNzPW9wdXMnLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiAnIHRoZW9yYScgaW4gaGVhZGVyLlxuXHRcdFx0aWYgKF9jaGVjayh0eXBlLCBbMHg4MCwgMHg3NCwgMHg2OCwgMHg2NSwgMHg2RiwgMHg3MiwgMHg2MV0pKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXh0OiAnb2d2Jyxcblx0XHRcdFx0XHRtaW1lOiAndmlkZW8vb2dnJyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgJ1xceDAxdmlkZW8nIGluIGhlYWRlci5cblx0XHRcdGlmIChfY2hlY2sodHlwZSwgWzB4MDEsIDB4NzYsIDB4NjksIDB4NjQsIDB4NjUsIDB4NkYsIDB4MDBdKSkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGV4dDogJ29nbScsXG5cdFx0XHRcdFx0bWltZTogJ3ZpZGVvL29nZycsXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmICcgRkxBQycgaW4gaGVhZGVyICBodHRwczovL3hpcGgub3JnL2ZsYWMvZmFxLmh0bWxcblx0XHRcdGlmIChfY2hlY2sodHlwZSwgWzB4N0YsIDB4NDYsIDB4NEMsIDB4NDEsIDB4NDNdKSkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGV4dDogJ29nYScsXG5cdFx0XHRcdFx0bWltZTogJ2F1ZGlvL29nZycsXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdC8vICdTcGVleCAgJyBpbiBoZWFkZXIgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3BlZXhcblx0XHRcdGlmIChfY2hlY2sodHlwZSwgWzB4NTMsIDB4NzAsIDB4NjUsIDB4NjUsIDB4NzgsIDB4MjAsIDB4MjBdKSkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGV4dDogJ3NweCcsXG5cdFx0XHRcdFx0bWltZTogJ2F1ZGlvL29nZycsXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmICdcXHgwMXZvcmJpcycgaW4gaGVhZGVyXG5cdFx0XHRpZiAoX2NoZWNrKHR5cGUsIFsweDAxLCAweDc2LCAweDZGLCAweDcyLCAweDYyLCAweDY5LCAweDczXSkpIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRleHQ6ICdvZ2cnLFxuXHRcdFx0XHRcdG1pbWU6ICdhdWRpby9vZ2cnLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBEZWZhdWx0IE9HRyBjb250YWluZXIgaHR0cHM6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvbWVkaWEtdHlwZXMvYXBwbGljYXRpb24vb2dnXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdvZ3gnLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vb2dnJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5jaGVjayhbMHg1MCwgMHg0Ql0pXG5cdFx0XHQmJiAodGhpcy5idWZmZXJbMl0gPT09IDB4MyB8fCB0aGlzLmJ1ZmZlclsyXSA9PT0gMHg1IHx8IHRoaXMuYnVmZmVyWzJdID09PSAweDcpXG5cdFx0XHQmJiAodGhpcy5idWZmZXJbM10gPT09IDB4NCB8fCB0aGlzLmJ1ZmZlclszXSA9PT0gMHg2IHx8IHRoaXMuYnVmZmVyWzNdID09PSAweDgpXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICd6aXAnLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vemlwJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJ01UaGQnKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnbWlkJyxcblx0XHRcdFx0bWltZTogJ2F1ZGlvL21pZGknLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAoXG5cdFx0XHR0aGlzLmNoZWNrU3RyaW5nKCd3T0ZGJylcblx0XHRcdCYmIChcblx0XHRcdFx0dGhpcy5jaGVjayhbMHgwMCwgMHgwMSwgMHgwMCwgMHgwMF0sIHtvZmZzZXQ6IDR9KVxuXHRcdFx0XHR8fCB0aGlzLmNoZWNrU3RyaW5nKCdPVFRPJywge29mZnNldDogNH0pXG5cdFx0XHQpXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICd3b2ZmJyxcblx0XHRcdFx0bWltZTogJ2ZvbnQvd29mZicsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmIChcblx0XHRcdHRoaXMuY2hlY2tTdHJpbmcoJ3dPRjInKVxuXHRcdFx0JiYgKFxuXHRcdFx0XHR0aGlzLmNoZWNrKFsweDAwLCAweDAxLCAweDAwLCAweDAwXSwge29mZnNldDogNH0pXG5cdFx0XHRcdHx8IHRoaXMuY2hlY2tTdHJpbmcoJ09UVE8nLCB7b2Zmc2V0OiA0fSlcblx0XHRcdClcblx0XHQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3dvZmYyJyxcblx0XHRcdFx0bWltZTogJ2ZvbnQvd29mZjInLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHhENCwgMHhDMywgMHhCMiwgMHhBMV0pIHx8IHRoaXMuY2hlY2soWzB4QTEsIDB4QjIsIDB4QzMsIDB4RDRdKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAncGNhcCcsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQudGNwZHVtcC5wY2FwJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gU29ueSBEU0QgU3RyZWFtIEZpbGUgKERTRilcblx0XHRpZiAodGhpcy5jaGVja1N0cmluZygnRFNEICcpKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdkc2YnLFxuXHRcdFx0XHRtaW1lOiAnYXVkaW8veC1kc2YnLCAvLyBOb24tc3RhbmRhcmRcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJ0xaSVAnKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnbHonLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC1semlwJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJ2ZMYUMnKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnZmxhYycsXG5cdFx0XHRcdG1pbWU6ICdhdWRpby9mbGFjJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4NDIsIDB4NTAsIDB4NDcsIDB4RkJdKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnYnBnJyxcblx0XHRcdFx0bWltZTogJ2ltYWdlL2JwZycsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrU3RyaW5nKCd3dnBrJykpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3d2Jyxcblx0XHRcdFx0bWltZTogJ2F1ZGlvL3dhdnBhY2snLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja1N0cmluZygnJVBERicpKSB7XG5cdFx0XHQvLyBBc3N1bWUgdGhpcyBpcyBqdXN0IGEgbm9ybWFsIFBERlxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAncGRmJyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3BkZicsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDAwLCAweDYxLCAweDczLCAweDZEXSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3dhc20nLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vd2FzbScsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIFRJRkYsIGxpdHRsZS1lbmRpYW4gdHlwZVxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDQ5LCAweDQ5XSkpIHtcblx0XHRcdGNvbnN0IGZpbGVUeXBlID0gYXdhaXQgdGhpcy5yZWFkVGlmZkhlYWRlcihmYWxzZSk7XG5cdFx0XHRpZiAoZmlsZVR5cGUpIHtcblx0XHRcdFx0cmV0dXJuIGZpbGVUeXBlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFRJRkYsIGJpZy1lbmRpYW4gdHlwZVxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDRELCAweDREXSkpIHtcblx0XHRcdGNvbnN0IGZpbGVUeXBlID0gYXdhaXQgdGhpcy5yZWFkVGlmZkhlYWRlcih0cnVlKTtcblx0XHRcdGlmIChmaWxlVHlwZSkge1xuXHRcdFx0XHRyZXR1cm4gZmlsZVR5cGU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJ01BQyAnKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnYXBlJyxcblx0XHRcdFx0bWltZTogJ2F1ZGlvL2FwZScsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9maWxlL2ZpbGUvYmxvYi9tYXN0ZXIvbWFnaWMvTWFnZGlyL21hdHJvc2thXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4MUEsIDB4NDUsIDB4REYsIDB4QTNdKSkgeyAvLyBSb290IGVsZW1lbnQ6IEVCTUxcblx0XHRcdGFzeW5jIGZ1bmN0aW9uIHJlYWRGaWVsZCgpIHtcblx0XHRcdFx0Y29uc3QgbXNiID0gYXdhaXQgdG9rZW5pemVyLnBlZWtOdW1iZXIoVG9rZW4uVUlOVDgpO1xuXHRcdFx0XHRsZXQgbWFzayA9IDB4ODA7XG5cdFx0XHRcdGxldCBpYyA9IDA7IC8vIDAgPSBBLCAxID0gQiwgMiA9IEMsIDMgPSBEXG5cblx0XHRcdFx0d2hpbGUgKChtc2IgJiBtYXNrKSA9PT0gMCAmJiBtYXNrICE9PSAwKSB7XG5cdFx0XHRcdFx0KytpYztcblx0XHRcdFx0XHRtYXNrID4+PSAxO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgaWQgPSBuZXcgVWludDhBcnJheShpYyArIDEpO1xuXHRcdFx0XHRhd2FpdCB0b2tlbml6ZXIucmVhZEJ1ZmZlcihpZCk7XG5cdFx0XHRcdHJldHVybiBpZDtcblx0XHRcdH1cblxuXHRcdFx0YXN5bmMgZnVuY3Rpb24gcmVhZEVsZW1lbnQoKSB7XG5cdFx0XHRcdGNvbnN0IGlkRmllbGQgPSBhd2FpdCByZWFkRmllbGQoKTtcblx0XHRcdFx0Y29uc3QgbGVuZ3RoRmllbGQgPSBhd2FpdCByZWFkRmllbGQoKTtcblxuXHRcdFx0XHRsZW5ndGhGaWVsZFswXSBePSAweDgwID4+IChsZW5ndGhGaWVsZC5sZW5ndGggLSAxKTtcblx0XHRcdFx0Y29uc3QgbnJMZW5ndGggPSBNYXRoLm1pbig2LCBsZW5ndGhGaWVsZC5sZW5ndGgpOyAvLyBKYXZhU2NyaXB0IGNhbiBtYXggcmVhZCA2IGJ5dGVzIGludGVnZXJcblxuXHRcdFx0XHRjb25zdCBpZFZpZXcgPSBuZXcgRGF0YVZpZXcoaWRGaWVsZC5idWZmZXIpO1xuXHRcdFx0XHRjb25zdCBsZW5ndGhWaWV3ID0gbmV3IERhdGFWaWV3KGxlbmd0aEZpZWxkLmJ1ZmZlciwgbGVuZ3RoRmllbGQubGVuZ3RoIC0gbnJMZW5ndGgsIG5yTGVuZ3RoKTtcblxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGlkOiBnZXRVaW50QkUoaWRWaWV3KSxcblx0XHRcdFx0XHRsZW46IGdldFVpbnRCRShsZW5ndGhWaWV3KSxcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0YXN5bmMgZnVuY3Rpb24gcmVhZENoaWxkcmVuKGNoaWxkcmVuKSB7XG5cdFx0XHRcdHdoaWxlIChjaGlsZHJlbiA+IDApIHtcblx0XHRcdFx0XHRjb25zdCBlbGVtZW50ID0gYXdhaXQgcmVhZEVsZW1lbnQoKTtcblx0XHRcdFx0XHRpZiAoZWxlbWVudC5pZCA9PT0gMHg0Ml84Mikge1xuXHRcdFx0XHRcdFx0Y29uc3QgcmF3VmFsdWUgPSBhd2FpdCB0b2tlbml6ZXIucmVhZFRva2VuKG5ldyBUb2tlbi5TdHJpbmdUeXBlKGVsZW1lbnQubGVuKSk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmF3VmFsdWUucmVwbGFjZUFsbCgvXFwwMC4qJC9nLCAnJyk7IC8vIFJldHVybiBEb2NUeXBlXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YXdhaXQgdG9rZW5pemVyLmlnbm9yZShlbGVtZW50Lmxlbik7IC8vIGlnbm9yZSBwYXlsb2FkXG5cdFx0XHRcdFx0LS1jaGlsZHJlbjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCByZSA9IGF3YWl0IHJlYWRFbGVtZW50KCk7XG5cdFx0XHRjb25zdCBkb2N1bWVudFR5cGUgPSBhd2FpdCByZWFkQ2hpbGRyZW4ocmUubGVuKTtcblxuXHRcdFx0c3dpdGNoIChkb2N1bWVudFR5cGUpIHtcblx0XHRcdFx0Y2FzZSAnd2VibSc6XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdGV4dDogJ3dlYm0nLFxuXHRcdFx0XHRcdFx0bWltZTogJ3ZpZGVvL3dlYm0nLFxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0Y2FzZSAnbWF0cm9za2EnOlxuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRleHQ6ICdta3YnLFxuXHRcdFx0XHRcdFx0bWltZTogJ3ZpZGVvL21hdHJvc2thJyxcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrU3RyaW5nKCdTUUxpJykpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3NxbGl0ZScsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LXNxbGl0ZTMnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHg0RSwgMHg0NSwgMHg1MywgMHgxQV0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICduZXMnLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC1uaW50ZW5kby1uZXMtcm9tJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJ0NyMjQnKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnY3J4Jyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtZ29vZ2xlLWNocm9tZS1leHRlbnNpb24nLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAoXG5cdFx0XHR0aGlzLmNoZWNrU3RyaW5nKCdNU0NGJylcblx0XHRcdHx8IHRoaXMuY2hlY2tTdHJpbmcoJ0lTYygnKVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnY2FiJyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1jYWItY29tcHJlc3NlZCcsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweEVELCAweEFCLCAweEVFLCAweERCXSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3JwbScsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LXJwbScsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweEM1LCAweEQwLCAweEQzLCAweEM2XSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ2VwcycsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi9lcHMnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHgyOCwgMHhCNSwgMHgyRiwgMHhGRF0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICd6c3QnLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24venN0ZCcsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDdGLCAweDQ1LCAweDRDLCAweDQ2XSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ2VsZicsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LWVsZicsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDIxLCAweDQyLCAweDQ0LCAweDRFXSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3BzdCcsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQubXMtb3V0bG9vaycsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrU3RyaW5nKCdQQVIxJykgfHwgdGhpcy5jaGVja1N0cmluZygnUEFSRScpKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdwYXJxdWV0Jyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3ZuZC5hcGFjaGUucGFycXVldCcsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrU3RyaW5nKCd0dGNmJykpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3R0YycsXG5cdFx0XHRcdG1pbWU6ICdmb250L2NvbGxlY3Rpb24nLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHhDRiwgMHhGQSwgMHhFRCwgMHhGRV0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdtYWNobycsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LW1hY2gtYmluYXJ5Jyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4MDQsIDB4MjIsIDB4NEQsIDB4MThdKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnbHo0Jyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtbHo0JywgLy8gSW52ZW50ZWQgYnkgdXNcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gLS0gNS1ieXRlIHNpZ25hdHVyZXMgLS1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDRGLCAweDU0LCAweDU0LCAweDRGLCAweDAwXSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ290ZicsXG5cdFx0XHRcdG1pbWU6ICdmb250L290ZicsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrU3RyaW5nKCcjIUFNUicpKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdhbXInLFxuXHRcdFx0XHRtaW1lOiAnYXVkaW8vYW1yJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJ3tcXFxccnRmJykpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3J0ZicsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi9ydGYnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHg0NiwgMHg0QywgMHg1NiwgMHgwMV0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdmbHYnLFxuXHRcdFx0XHRtaW1lOiAndmlkZW8veC1mbHYnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja1N0cmluZygnSU1QTScpKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdpdCcsXG5cdFx0XHRcdG1pbWU6ICdhdWRpby94LWl0Jyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5jaGVja1N0cmluZygnLWxoMC0nLCB7b2Zmc2V0OiAyfSlcblx0XHRcdHx8IHRoaXMuY2hlY2tTdHJpbmcoJy1saDEtJywge29mZnNldDogMn0pXG5cdFx0XHR8fCB0aGlzLmNoZWNrU3RyaW5nKCctbGgyLScsIHtvZmZzZXQ6IDJ9KVxuXHRcdFx0fHwgdGhpcy5jaGVja1N0cmluZygnLWxoMy0nLCB7b2Zmc2V0OiAyfSlcblx0XHRcdHx8IHRoaXMuY2hlY2tTdHJpbmcoJy1saDQtJywge29mZnNldDogMn0pXG5cdFx0XHR8fCB0aGlzLmNoZWNrU3RyaW5nKCctbGg1LScsIHtvZmZzZXQ6IDJ9KVxuXHRcdFx0fHwgdGhpcy5jaGVja1N0cmluZygnLWxoNi0nLCB7b2Zmc2V0OiAyfSlcblx0XHRcdHx8IHRoaXMuY2hlY2tTdHJpbmcoJy1saDctJywge29mZnNldDogMn0pXG5cdFx0XHR8fCB0aGlzLmNoZWNrU3RyaW5nKCctbHpzLScsIHtvZmZzZXQ6IDJ9KVxuXHRcdFx0fHwgdGhpcy5jaGVja1N0cmluZygnLWx6NC0nLCB7b2Zmc2V0OiAyfSlcblx0XHRcdHx8IHRoaXMuY2hlY2tTdHJpbmcoJy1sejUtJywge29mZnNldDogMn0pXG5cdFx0XHR8fCB0aGlzLmNoZWNrU3RyaW5nKCctbGhkLScsIHtvZmZzZXQ6IDJ9KVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnbHpoJyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtbHpoLWNvbXByZXNzZWQnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBNUEVHIHByb2dyYW0gc3RyZWFtIChQUyBvciBNUEVHLVBTKVxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDAwLCAweDAwLCAweDAxLCAweEJBXSkpIHtcblx0XHRcdC8vICBNUEVHLVBTLCBNUEVHLTEgUGFydCAxXG5cdFx0XHRpZiAodGhpcy5jaGVjayhbMHgyMV0sIHtvZmZzZXQ6IDQsIG1hc2s6IFsweEYxXX0pKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXh0OiAnbXBnJywgLy8gTWF5IGFsc28gYmUgLnBzLCAubXBlZ1xuXHRcdFx0XHRcdG1pbWU6ICd2aWRlby9NUDFTJyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTVBFRy1QUywgTVBFRy0yIFBhcnQgMVxuXHRcdFx0aWYgKHRoaXMuY2hlY2soWzB4NDRdLCB7b2Zmc2V0OiA0LCBtYXNrOiBbMHhDNF19KSkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGV4dDogJ21wZycsIC8vIE1heSBhbHNvIGJlIC5tcGcsIC5tMnAsIC52b2Igb3IgLnN1YlxuXHRcdFx0XHRcdG1pbWU6ICd2aWRlby9NUDJQJyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja1N0cmluZygnSVRTRicpKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdjaG0nLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vdm5kLm1zLWh0bWxoZWxwJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4Q0EsIDB4RkUsIDB4QkEsIDB4QkVdKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnY2xhc3MnLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vamF2YS12bScsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrU3RyaW5nKCcuUk1GJykpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3JtJyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3ZuZC5ybi1yZWFsbWVkaWEnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyAtLSA1LWJ5dGUgc2lnbmF0dXJlcyAtLVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJ0RSQUNPJykpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ2RyYycsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQuZ29vZ2xlLmRyYWNvJywgLy8gSW52ZW50ZWQgYnkgdXNcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gLS0gNi1ieXRlIHNpZ25hdHVyZXMgLS1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweEZELCAweDM3LCAweDdBLCAweDU4LCAweDVBLCAweDAwXSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3h6Jyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gteHonLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja1N0cmluZygnPD94bWwgJykpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3htbCcsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94bWwnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHgzNywgMHg3QSwgMHhCQywgMHhBRiwgMHgyNywgMHgxQ10pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICc3eicsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LTd6LWNvbXByZXNzZWQnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAoXG5cdFx0XHR0aGlzLmNoZWNrKFsweDUyLCAweDYxLCAweDcyLCAweDIxLCAweDFBLCAweDddKVxuXHRcdFx0JiYgKHRoaXMuYnVmZmVyWzZdID09PSAweDAgfHwgdGhpcy5idWZmZXJbNl0gPT09IDB4MSlcblx0XHQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3JhcicsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LXJhci1jb21wcmVzc2VkJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJ3NvbGlkICcpKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdzdGwnLFxuXHRcdFx0XHRtaW1lOiAnbW9kZWwvc3RsJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJ0FDJykpIHtcblx0XHRcdGNvbnN0IHZlcnNpb24gPSBuZXcgVG9rZW4uU3RyaW5nVHlwZSg0LCAnbGF0aW4xJykuZ2V0KHRoaXMuYnVmZmVyLCAyKTtcblx0XHRcdGlmICh2ZXJzaW9uLm1hdGNoKCdeZConKSAmJiB2ZXJzaW9uID49IDEwMDAgJiYgdmVyc2lvbiA8PSAxMDUwKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXh0OiAnZHdnJyxcblx0XHRcdFx0XHRtaW1lOiAnaW1hZ2Uvdm5kLmR3ZycsXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJzA3MDcwNycpKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdjcGlvJyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtY3BpbycsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIC0tIDctYnl0ZSBzaWduYXR1cmVzIC0tXG5cblx0XHRpZiAodGhpcy5jaGVja1N0cmluZygnQkxFTkRFUicpKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdibGVuZCcsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LWJsZW5kZXInLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja1N0cmluZygnITxhcmNoPicpKSB7XG5cdFx0XHRhd2FpdCB0b2tlbml6ZXIuaWdub3JlKDgpO1xuXHRcdFx0Y29uc3Qgc3RyaW5nID0gYXdhaXQgdG9rZW5pemVyLnJlYWRUb2tlbihuZXcgVG9rZW4uU3RyaW5nVHlwZSgxMywgJ2FzY2lpJykpO1xuXHRcdFx0aWYgKHN0cmluZyA9PT0gJ2RlYmlhbi1iaW5hcnknKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXh0OiAnZGViJyxcblx0XHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC1kZWInLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdhcicsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LXVuaXgtYXJjaGl2ZScsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmIChcblx0XHRcdHRoaXMuY2hlY2tTdHJpbmcoJ1dFQlZUVCcpXG5cdFx0XHQmJlx0KFxuXHRcdFx0XHQvLyBPbmUgb2YgTEYsIENSLCB0YWIsIHNwYWNlLCBvciBlbmQgb2YgZmlsZSBtdXN0IGZvbGxvdyBcIldFQlZUVFwiIHBlciB0aGUgc3BlYyAoc2VlIGBmaXh0dXJlL2ZpeHR1cmUtdnR0LSoudnR0YCBmb3IgZXhhbXBsZXMpLiBOb3RlIHRoYXQgYFxcMGAgaXMgdGVjaG5pY2FsbHkgdGhlIG51bGwgY2hhcmFjdGVyICh0aGVyZSBpcyBubyBzdWNoIHRoaW5nIGFzIGFuIEVPRiBjaGFyYWN0ZXIpLiBIb3dldmVyLCBjaGVja2luZyBmb3IgYFxcMGAgZ2l2ZXMgdXMgdGhlIHNhbWUgcmVzdWx0IGFzIGNoZWNraW5nIGZvciB0aGUgZW5kIG9mIHRoZSBzdHJlYW0uXG5cdFx0XHRcdChbJ1xcbicsICdcXHInLCAnXFx0JywgJyAnLCAnXFwwJ10uc29tZShjaGFyNyA9PiB0aGlzLmNoZWNrU3RyaW5nKGNoYXI3LCB7b2Zmc2V0OiA2fSkpKSlcblx0XHQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3Z0dCcsXG5cdFx0XHRcdG1pbWU6ICd0ZXh0L3Z0dCcsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIC0tIDgtYnl0ZSBzaWduYXR1cmVzIC0tXG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHg4OSwgMHg1MCwgMHg0RSwgMHg0NywgMHgwRCwgMHgwQSwgMHgxQSwgMHgwQV0pKSB7XG5cdFx0XHQvLyBBUE5HIGZvcm1hdCAoaHR0cHM6Ly93aWtpLm1vemlsbGEub3JnL0FQTkdfU3BlY2lmaWNhdGlvbilcblx0XHRcdC8vIDEuIEZpbmQgdGhlIGZpcnN0IElEQVQgKGltYWdlIGRhdGEpIGNodW5rICg0OSA0NCA0MSA1NClcblx0XHRcdC8vIDIuIENoZWNrIGlmIHRoZXJlIGlzIGFuIFwiYWNUTFwiIGNodW5rIGJlZm9yZSB0aGUgSURBVCBvbmUgKDYxIDYzIDU0IDRDKVxuXG5cdFx0XHQvLyBPZmZzZXQgY2FsY3VsYXRlZCBhcyBmb2xsb3dzOlxuXHRcdFx0Ly8gLSA4IGJ5dGVzOiBQTkcgc2lnbmF0dXJlXG5cdFx0XHQvLyAtIDQgKGxlbmd0aCkgKyA0IChjaHVuayB0eXBlKSArIDEzIChjaHVuayBkYXRhKSArIDQgKENSQyk6IElIRFIgY2h1bmtcblxuXHRcdFx0YXdhaXQgdG9rZW5pemVyLmlnbm9yZSg4KTsgLy8gaWdub3JlIFBORyBzaWduYXR1cmVcblxuXHRcdFx0YXN5bmMgZnVuY3Rpb24gcmVhZENodW5rSGVhZGVyKCkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGxlbmd0aDogYXdhaXQgdG9rZW5pemVyLnJlYWRUb2tlbihUb2tlbi5JTlQzMl9CRSksXG5cdFx0XHRcdFx0dHlwZTogYXdhaXQgdG9rZW5pemVyLnJlYWRUb2tlbihuZXcgVG9rZW4uU3RyaW5nVHlwZSg0LCAnbGF0aW4xJykpLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRkbyB7XG5cdFx0XHRcdGNvbnN0IGNodW5rID0gYXdhaXQgcmVhZENodW5rSGVhZGVyKCk7XG5cdFx0XHRcdGlmIChjaHVuay5sZW5ndGggPCAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuOyAvLyBJbnZhbGlkIGNodW5rIGxlbmd0aFxuXHRcdFx0XHR9XG5cblx0XHRcdFx0c3dpdGNoIChjaHVuay50eXBlKSB7XG5cdFx0XHRcdFx0Y2FzZSAnSURBVCc6XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRleHQ6ICdwbmcnLFxuXHRcdFx0XHRcdFx0XHRtaW1lOiAnaW1hZ2UvcG5nJyxcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0Y2FzZSAnYWNUTCc6XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRleHQ6ICdhcG5nJyxcblx0XHRcdFx0XHRcdFx0bWltZTogJ2ltYWdlL2FwbmcnLFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0YXdhaXQgdG9rZW5pemVyLmlnbm9yZShjaHVuay5sZW5ndGggKyA0KTsgLy8gSWdub3JlIGNodW5rLWRhdGEgKyBDUkNcblx0XHRcdFx0fVxuXHRcdFx0fSB3aGlsZSAodG9rZW5pemVyLnBvc2l0aW9uICsgOCA8IHRva2VuaXplci5maWxlSW5mby5zaXplKTtcblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAncG5nJyxcblx0XHRcdFx0bWltZTogJ2ltYWdlL3BuZycsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDQxLCAweDUyLCAweDUyLCAweDRGLCAweDU3LCAweDMxLCAweDAwLCAweDAwXSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ2Fycm93Jyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3ZuZC5hcGFjaGUuYXJyb3cuZmlsZScsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDY3LCAweDZDLCAweDU0LCAweDQ2LCAweDAyLCAweDAwLCAweDAwLCAweDAwXSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ2dsYicsXG5cdFx0XHRcdG1pbWU6ICdtb2RlbC9nbHRmLWJpbmFyeScsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIGBtb3ZgIGZvcm1hdCB2YXJpYW50c1xuXHRcdGlmIChcblx0XHRcdHRoaXMuY2hlY2soWzB4NjYsIDB4NzIsIDB4NjUsIDB4NjVdLCB7b2Zmc2V0OiA0fSkgLy8gYGZyZWVgXG5cdFx0XHR8fCB0aGlzLmNoZWNrKFsweDZELCAweDY0LCAweDYxLCAweDc0XSwge29mZnNldDogNH0pIC8vIGBtZGF0YCBNSlBFR1xuXHRcdFx0fHwgdGhpcy5jaGVjayhbMHg2RCwgMHg2RiwgMHg2RiwgMHg3Nl0sIHtvZmZzZXQ6IDR9KSAvLyBgbW9vdmBcblx0XHRcdHx8IHRoaXMuY2hlY2soWzB4NzcsIDB4NjksIDB4NjQsIDB4NjVdLCB7b2Zmc2V0OiA0fSkgLy8gYHdpZGVgXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdtb3YnLFxuXHRcdFx0XHRtaW1lOiAndmlkZW8vcXVpY2t0aW1lJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gLS0gOS1ieXRlIHNpZ25hdHVyZXMgLS1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDQ5LCAweDQ5LCAweDUyLCAweDRGLCAweDA4LCAweDAwLCAweDAwLCAweDAwLCAweDE4XSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ29yZicsXG5cdFx0XHRcdG1pbWU6ICdpbWFnZS94LW9seW1wdXMtb3JmJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJ2dpbXAgeGNmICcpKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICd4Y2YnLFxuXHRcdFx0XHRtaW1lOiAnaW1hZ2UveC14Y2YnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBGaWxlIFR5cGUgQm94IChodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fYmFzZV9tZWRpYV9maWxlX2Zvcm1hdClcblx0XHQvLyBJdCdzIG5vdCByZXF1aXJlZCB0byBiZSBmaXJzdCwgYnV0IGl0J3MgcmVjb21tZW5kZWQgdG8gYmUuIEFsbW9zdCBhbGwgSVNPIGJhc2UgbWVkaWEgZmlsZXMgc3RhcnQgd2l0aCBgZnR5cGAgYm94LlxuXHRcdC8vIGBmdHlwYCBib3ggbXVzdCBjb250YWluIGEgYnJhbmQgbWFqb3IgaWRlbnRpZmllciwgd2hpY2ggbXVzdCBjb25zaXN0IG9mIElTTyA4ODU5LTEgcHJpbnRhYmxlIGNoYXJhY3RlcnMuXG5cdFx0Ly8gSGVyZSB3ZSBjaGVjayBmb3IgODg1OS0xIHByaW50YWJsZSBjaGFyYWN0ZXJzIChmb3Igc2ltcGxpY2l0eSwgaXQncyBhIG1hc2sgd2hpY2ggYWxzbyBjYXRjaGVzIG9uZSBub24tcHJpbnRhYmxlIGNoYXJhY3RlcikuXG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5jaGVja1N0cmluZygnZnR5cCcsIHtvZmZzZXQ6IDR9KVxuXHRcdFx0JiYgKHRoaXMuYnVmZmVyWzhdICYgMHg2MCkgIT09IDB4MDAgLy8gQnJhbmQgbWFqb3IsIGZpcnN0IGNoYXJhY3RlciBBU0NJST9cblx0XHQpIHtcblx0XHRcdC8vIFRoZXkgYWxsIGNhbiBoYXZlIE1JTUUgYHZpZGVvL21wNGAgZXhjZXB0IGBhcHBsaWNhdGlvbi9tcDRgIHNwZWNpYWwtY2FzZSB3aGljaCBpcyBoYXJkIHRvIGRldGVjdC5cblx0XHRcdC8vIEZvciBzb21lIGNhc2VzLCB3ZSdyZSBzcGVjaWZpYywgZXZlcnl0aGluZyBlbHNlIGZhbGxzIHRvIGB2aWRlby9tcDRgIHdpdGggYG1wNGAgZXh0ZW5zaW9uLlxuXHRcdFx0Y29uc3QgYnJhbmRNYWpvciA9IG5ldyBUb2tlbi5TdHJpbmdUeXBlKDQsICdsYXRpbjEnKS5nZXQodGhpcy5idWZmZXIsIDgpLnJlcGxhY2UoJ1xcMCcsICcgJykudHJpbSgpO1xuXHRcdFx0c3dpdGNoIChicmFuZE1ham9yKSB7XG5cdFx0XHRcdGNhc2UgJ2F2aWYnOlxuXHRcdFx0XHRjYXNlICdhdmlzJzpcblx0XHRcdFx0XHRyZXR1cm4ge2V4dDogJ2F2aWYnLCBtaW1lOiAnaW1hZ2UvYXZpZid9O1xuXHRcdFx0XHRjYXNlICdtaWYxJzpcblx0XHRcdFx0XHRyZXR1cm4ge2V4dDogJ2hlaWMnLCBtaW1lOiAnaW1hZ2UvaGVpZid9O1xuXHRcdFx0XHRjYXNlICdtc2YxJzpcblx0XHRcdFx0XHRyZXR1cm4ge2V4dDogJ2hlaWMnLCBtaW1lOiAnaW1hZ2UvaGVpZi1zZXF1ZW5jZSd9O1xuXHRcdFx0XHRjYXNlICdoZWljJzpcblx0XHRcdFx0Y2FzZSAnaGVpeCc6XG5cdFx0XHRcdFx0cmV0dXJuIHtleHQ6ICdoZWljJywgbWltZTogJ2ltYWdlL2hlaWMnfTtcblx0XHRcdFx0Y2FzZSAnaGV2Yyc6XG5cdFx0XHRcdGNhc2UgJ2hldngnOlxuXHRcdFx0XHRcdHJldHVybiB7ZXh0OiAnaGVpYycsIG1pbWU6ICdpbWFnZS9oZWljLXNlcXVlbmNlJ307XG5cdFx0XHRcdGNhc2UgJ3F0Jzpcblx0XHRcdFx0XHRyZXR1cm4ge2V4dDogJ21vdicsIG1pbWU6ICd2aWRlby9xdWlja3RpbWUnfTtcblx0XHRcdFx0Y2FzZSAnTTRWJzpcblx0XHRcdFx0Y2FzZSAnTTRWSCc6XG5cdFx0XHRcdGNhc2UgJ000VlAnOlxuXHRcdFx0XHRcdHJldHVybiB7ZXh0OiAnbTR2JywgbWltZTogJ3ZpZGVvL3gtbTR2J307XG5cdFx0XHRcdGNhc2UgJ000UCc6XG5cdFx0XHRcdFx0cmV0dXJuIHtleHQ6ICdtNHAnLCBtaW1lOiAndmlkZW8vbXA0J307XG5cdFx0XHRcdGNhc2UgJ000Qic6XG5cdFx0XHRcdFx0cmV0dXJuIHtleHQ6ICdtNGInLCBtaW1lOiAnYXVkaW8vbXA0J307XG5cdFx0XHRcdGNhc2UgJ000QSc6XG5cdFx0XHRcdFx0cmV0dXJuIHtleHQ6ICdtNGEnLCBtaW1lOiAnYXVkaW8veC1tNGEnfTtcblx0XHRcdFx0Y2FzZSAnRjRWJzpcblx0XHRcdFx0XHRyZXR1cm4ge2V4dDogJ2Y0dicsIG1pbWU6ICd2aWRlby9tcDQnfTtcblx0XHRcdFx0Y2FzZSAnRjRQJzpcblx0XHRcdFx0XHRyZXR1cm4ge2V4dDogJ2Y0cCcsIG1pbWU6ICd2aWRlby9tcDQnfTtcblx0XHRcdFx0Y2FzZSAnRjRBJzpcblx0XHRcdFx0XHRyZXR1cm4ge2V4dDogJ2Y0YScsIG1pbWU6ICdhdWRpby9tcDQnfTtcblx0XHRcdFx0Y2FzZSAnRjRCJzpcblx0XHRcdFx0XHRyZXR1cm4ge2V4dDogJ2Y0YicsIG1pbWU6ICdhdWRpby9tcDQnfTtcblx0XHRcdFx0Y2FzZSAnY3J4Jzpcblx0XHRcdFx0XHRyZXR1cm4ge2V4dDogJ2NyMycsIG1pbWU6ICdpbWFnZS94LWNhbm9uLWNyMyd9O1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdGlmIChicmFuZE1ham9yLnN0YXJ0c1dpdGgoJzNnJykpIHtcblx0XHRcdFx0XHRcdGlmIChicmFuZE1ham9yLnN0YXJ0c1dpdGgoJzNnMicpKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB7ZXh0OiAnM2cyJywgbWltZTogJ3ZpZGVvLzNncHAyJ307XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiB7ZXh0OiAnM2dwJywgbWltZTogJ3ZpZGVvLzNncHAnfTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4ge2V4dDogJ21wNCcsIG1pbWU6ICd2aWRlby9tcDQnfTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyAtLSAxMi1ieXRlIHNpZ25hdHVyZXMgLS1cblxuXHRcdC8vIFJJRkYgZmlsZSBmb3JtYXQgd2hpY2ggbWlnaHQgYmUgQVZJLCBXQVYsIFFDUCwgZXRjXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4NTIsIDB4NDksIDB4NDYsIDB4NDZdKSkge1xuXHRcdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJ1dFQlAnLCB7b2Zmc2V0OiA4fSkpIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRleHQ6ICd3ZWJwJyxcblx0XHRcdFx0XHRtaW1lOiAnaW1hZ2Uvd2VicCcsXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmNoZWNrKFsweDQxLCAweDU2LCAweDQ5XSwge29mZnNldDogOH0pKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXh0OiAnYXZpJyxcblx0XHRcdFx0XHRtaW1lOiAndmlkZW8vdm5kLmF2aScsXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmNoZWNrKFsweDU3LCAweDQxLCAweDU2LCAweDQ1XSwge29mZnNldDogOH0pKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXh0OiAnd2F2Jyxcblx0XHRcdFx0XHRtaW1lOiAnYXVkaW8vd2F2Jyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUUxDTSwgUUNQIGZpbGVcblx0XHRcdGlmICh0aGlzLmNoZWNrKFsweDUxLCAweDRDLCAweDQzLCAweDREXSwge29mZnNldDogOH0pKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXh0OiAncWNwJyxcblx0XHRcdFx0XHRtaW1lOiAnYXVkaW8vcWNlbHAnLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDQ5LCAweDQ5LCAweDU1LCAweDAwLCAweDE4LCAweDAwLCAweDAwLCAweDAwLCAweDg4LCAweEU3LCAweDc0LCAweEQ4XSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3J3MicsXG5cdFx0XHRcdG1pbWU6ICdpbWFnZS94LXBhbmFzb25pYy1ydzInLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBBU0ZfSGVhZGVyX09iamVjdCBmaXJzdCA4MCBieXRlc1xuXHRcdGlmICh0aGlzLmNoZWNrKFsweDMwLCAweDI2LCAweEIyLCAweDc1LCAweDhFLCAweDY2LCAweENGLCAweDExLCAweEE2LCAweEQ5XSkpIHtcblx0XHRcdGFzeW5jIGZ1bmN0aW9uIHJlYWRIZWFkZXIoKSB7XG5cdFx0XHRcdGNvbnN0IGd1aWQgPSBuZXcgVWludDhBcnJheSgxNik7XG5cdFx0XHRcdGF3YWl0IHRva2VuaXplci5yZWFkQnVmZmVyKGd1aWQpO1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGlkOiBndWlkLFxuXHRcdFx0XHRcdHNpemU6IE51bWJlcihhd2FpdCB0b2tlbml6ZXIucmVhZFRva2VuKFRva2VuLlVJTlQ2NF9MRSkpLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRhd2FpdCB0b2tlbml6ZXIuaWdub3JlKDMwKTtcblx0XHRcdC8vIFNlYXJjaCBmb3IgaGVhZGVyIHNob3VsZCBiZSBpbiBmaXJzdCAxS0Igb2YgZmlsZS5cblx0XHRcdHdoaWxlICh0b2tlbml6ZXIucG9zaXRpb24gKyAyNCA8IHRva2VuaXplci5maWxlSW5mby5zaXplKSB7XG5cdFx0XHRcdGNvbnN0IGhlYWRlciA9IGF3YWl0IHJlYWRIZWFkZXIoKTtcblx0XHRcdFx0bGV0IHBheWxvYWQgPSBoZWFkZXIuc2l6ZSAtIDI0O1xuXHRcdFx0XHRpZiAoX2NoZWNrKGhlYWRlci5pZCwgWzB4OTEsIDB4MDcsIDB4REMsIDB4QjcsIDB4QjcsIDB4QTksIDB4Q0YsIDB4MTEsIDB4OEUsIDB4RTYsIDB4MDAsIDB4QzAsIDB4MEMsIDB4MjAsIDB4NTMsIDB4NjVdKSkge1xuXHRcdFx0XHRcdC8vIFN5bmMgb24gU3RyZWFtLVByb3BlcnRpZXMtT2JqZWN0IChCN0RDMDc5MS1BOUI3LTExQ0YtOEVFNi0wMEMwMEMyMDUzNjUpXG5cdFx0XHRcdFx0Y29uc3QgdHlwZUlkID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuXHRcdFx0XHRcdHBheWxvYWQgLT0gYXdhaXQgdG9rZW5pemVyLnJlYWRCdWZmZXIodHlwZUlkKTtcblxuXHRcdFx0XHRcdGlmIChfY2hlY2sodHlwZUlkLCBbMHg0MCwgMHg5RSwgMHg2OSwgMHhGOCwgMHg0RCwgMHg1QiwgMHhDRiwgMHgxMSwgMHhBOCwgMHhGRCwgMHgwMCwgMHg4MCwgMHg1RiwgMHg1QywgMHg0NCwgMHgyQl0pKSB7XG5cdFx0XHRcdFx0XHQvLyBGb3VuZCBhdWRpbzpcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdGV4dDogJ2FzZicsXG5cdFx0XHRcdFx0XHRcdG1pbWU6ICdhdWRpby94LW1zLWFzZicsXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChfY2hlY2sodHlwZUlkLCBbMHhDMCwgMHhFRiwgMHgxOSwgMHhCQywgMHg0RCwgMHg1QiwgMHhDRiwgMHgxMSwgMHhBOCwgMHhGRCwgMHgwMCwgMHg4MCwgMHg1RiwgMHg1QywgMHg0NCwgMHgyQl0pKSB7XG5cdFx0XHRcdFx0XHQvLyBGb3VuZCB2aWRlbzpcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdGV4dDogJ2FzZicsXG5cdFx0XHRcdFx0XHRcdG1pbWU6ICd2aWRlby94LW1zLWFzZicsXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YXdhaXQgdG9rZW5pemVyLmlnbm9yZShwYXlsb2FkKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRGVmYXVsdCB0byBBU0YgZ2VuZXJpYyBleHRlbnNpb25cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ2FzZicsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQubXMtYXNmJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4QUIsIDB4NEIsIDB4NTQsIDB4NTgsIDB4MjAsIDB4MzEsIDB4MzEsIDB4QkIsIDB4MEQsIDB4MEEsIDB4MUEsIDB4MEFdKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAna3R4Jyxcblx0XHRcdFx0bWltZTogJ2ltYWdlL2t0eCcsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICgodGhpcy5jaGVjayhbMHg3RSwgMHgxMCwgMHgwNF0pIHx8IHRoaXMuY2hlY2soWzB4N0UsIDB4MTgsIDB4MDRdKSkgJiYgdGhpcy5jaGVjayhbMHgzMCwgMHg0RCwgMHg0OSwgMHg0NV0sIHtvZmZzZXQ6IDR9KSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnbWllJyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtbWllJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4MjcsIDB4MEEsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDBdLCB7b2Zmc2V0OiAyfSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3NocCcsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LWVzcmktc2hhcGUnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHhGRiwgMHg0RiwgMHhGRiwgMHg1MV0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdqMmMnLFxuXHRcdFx0XHRtaW1lOiAnaW1hZ2UvajJjJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4MDAsIDB4MDAsIDB4MDAsIDB4MEMsIDB4NkEsIDB4NTAsIDB4MjAsIDB4MjAsIDB4MEQsIDB4MEEsIDB4ODcsIDB4MEFdKSkge1xuXHRcdFx0Ly8gSlBFRy0yMDAwIGZhbWlseVxuXG5cdFx0XHRhd2FpdCB0b2tlbml6ZXIuaWdub3JlKDIwKTtcblx0XHRcdGNvbnN0IHR5cGUgPSBhd2FpdCB0b2tlbml6ZXIucmVhZFRva2VuKG5ldyBUb2tlbi5TdHJpbmdUeXBlKDQsICdhc2NpaScpKTtcblx0XHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0XHRjYXNlICdqcDIgJzpcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0ZXh0OiAnanAyJyxcblx0XHRcdFx0XHRcdG1pbWU6ICdpbWFnZS9qcDInLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdGNhc2UgJ2pweCAnOlxuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRleHQ6ICdqcHgnLFxuXHRcdFx0XHRcdFx0bWltZTogJ2ltYWdlL2pweCcsXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0Y2FzZSAnanBtICc6XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdGV4dDogJ2pwbScsXG5cdFx0XHRcdFx0XHRtaW1lOiAnaW1hZ2UvanBtJyxcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRjYXNlICdtanAyJzpcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0ZXh0OiAnbWoyJyxcblx0XHRcdFx0XHRcdG1pbWU6ICdpbWFnZS9tajInLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChcblx0XHRcdHRoaXMuY2hlY2soWzB4RkYsIDB4MEFdKVxuXHRcdFx0fHwgdGhpcy5jaGVjayhbMHgwMCwgMHgwMCwgMHgwMCwgMHgwQywgMHg0QSwgMHg1OCwgMHg0QywgMHgyMCwgMHgwRCwgMHgwQSwgMHg4NywgMHgwQV0pXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdqeGwnLFxuXHRcdFx0XHRtaW1lOiAnaW1hZ2UvanhsJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4RkUsIDB4RkZdKSkgeyAvLyBVVEYtMTYtQk9NLUxFXG5cdFx0XHRpZiAodGhpcy5jaGVjayhbMCwgNjAsIDAsIDYzLCAwLCAxMjAsIDAsIDEwOSwgMCwgMTA4XSwge29mZnNldDogMn0pKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXh0OiAneG1sJyxcblx0XHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veG1sJyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDsgLy8gU29tZSB1bmtub3duIHRleHQgYmFzZWQgZm9ybWF0XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4RDAsIDB4Q0YsIDB4MTEsIDB4RTAsIDB4QTEsIDB4QjEsIDB4MUEsIDB4RTFdKSkge1xuXHRcdFx0Ly8gRGV0ZWN0ZWQgTWljcm9zb2Z0IENvbXBvdW5kIEZpbGUgQmluYXJ5IEZpbGUgKE1TLUNGQikgRm9ybWF0LlxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnY2ZiJyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtY2ZiJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gSW5jcmVhc2Ugc2FtcGxlIHNpemUgZnJvbSAxMiB0byAyNTYuXG5cdFx0YXdhaXQgdG9rZW5pemVyLnBlZWtCdWZmZXIodGhpcy5idWZmZXIsIHtsZW5ndGg6IE1hdGgubWluKDI1NiwgdG9rZW5pemVyLmZpbGVJbmZvLnNpemUpLCBtYXlCZUxlc3M6IHRydWV9KTtcblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDYxLCAweDYzLCAweDczLCAweDcwXSwge29mZnNldDogMzZ9KSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnaWNjJyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3ZuZC5pY2Nwcm9maWxlJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gQUNFOiByZXF1aXJlcyAxNCBieXRlcyBpbiB0aGUgYnVmZmVyXG5cdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJyoqQUNFJywge29mZnNldDogN30pICYmIHRoaXMuY2hlY2tTdHJpbmcoJyoqJywge29mZnNldDogMTJ9KSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnYWNlJyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtYWNlLWNvbXByZXNzZWQnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyAtLSAxNS1ieXRlIHNpZ25hdHVyZXMgLS1cblxuXHRcdGlmICh0aGlzLmNoZWNrU3RyaW5nKCdCRUdJTjonKSkge1xuXHRcdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJ1ZDQVJEJywge29mZnNldDogNn0pKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXh0OiAndmNmJyxcblx0XHRcdFx0XHRtaW1lOiAndGV4dC92Y2FyZCcsXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmNoZWNrU3RyaW5nKCdWQ0FMRU5EQVInLCB7b2Zmc2V0OiA2fSkpIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRleHQ6ICdpY3MnLFxuXHRcdFx0XHRcdG1pbWU6ICd0ZXh0L2NhbGVuZGFyJyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBgcmFmYCBpcyBoZXJlIGp1c3QgdG8ga2VlcCBhbGwgdGhlIHJhdyBpbWFnZSBkZXRlY3RvcnMgdG9nZXRoZXIuXG5cdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJ0ZVSklGSUxNQ0NELVJBVycpKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdyYWYnLFxuXHRcdFx0XHRtaW1lOiAnaW1hZ2UveC1mdWppZmlsbS1yYWYnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja1N0cmluZygnRXh0ZW5kZWQgTW9kdWxlOicpKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICd4bScsXG5cdFx0XHRcdG1pbWU6ICdhdWRpby94LXhtJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJ0NyZWF0aXZlIFZvaWNlIEZpbGUnKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAndm9jJyxcblx0XHRcdFx0bWltZTogJ2F1ZGlvL3gtdm9jJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4MDQsIDB4MDAsIDB4MDAsIDB4MDBdKSAmJiB0aGlzLmJ1ZmZlci5sZW5ndGggPj0gMTYpIHsgLy8gUm91Z2ggJiBxdWljayBjaGVjayBQaWNrbGUvQVNBUlxuXHRcdFx0Y29uc3QganNvblNpemUgPSBuZXcgRGF0YVZpZXcodGhpcy5idWZmZXIuYnVmZmVyKS5nZXRVaW50MzIoMTIsIHRydWUpO1xuXG5cdFx0XHRpZiAoanNvblNpemUgPiAxMiAmJiB0aGlzLmJ1ZmZlci5sZW5ndGggPj0ganNvblNpemUgKyAxNikge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbnN0IGhlYWRlciA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZSh0aGlzLmJ1ZmZlci5zdWJhcnJheSgxNiwganNvblNpemUgKyAxNikpO1xuXHRcdFx0XHRcdGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKGhlYWRlcik7XG5cdFx0XHRcdFx0Ly8gQ2hlY2sgaWYgUGlja2xlIGlzIEFTQVJcblx0XHRcdFx0XHRpZiAoanNvbi5maWxlcykgeyAvLyBGaW5hbCBjaGVjaywgYXNzdXJpbmcgUGlja2xlL0FTQVIgZm9ybWF0XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRleHQ6ICdhc2FyJyxcblx0XHRcdFx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtYXNhcicsXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCB7fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDA2LCAweDBFLCAweDJCLCAweDM0LCAweDAyLCAweDA1LCAweDAxLCAweDAxLCAweDBELCAweDAxLCAweDAyLCAweDAxLCAweDAxLCAweDAyXSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ214ZicsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi9teGYnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja1N0cmluZygnU0NSTScsIHtvZmZzZXQ6IDQ0fSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3MzbScsXG5cdFx0XHRcdG1pbWU6ICdhdWRpby94LXMzbScsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIFJhdyBNUEVHLTIgdHJhbnNwb3J0IHN0cmVhbSAoMTg4LWJ5dGUgcGFja2V0cylcblx0XHRpZiAodGhpcy5jaGVjayhbMHg0N10pICYmIHRoaXMuY2hlY2soWzB4NDddLCB7b2Zmc2V0OiAxODh9KSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnbXRzJyxcblx0XHRcdFx0bWltZTogJ3ZpZGVvL21wMnQnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBCbHUtcmF5IERpc2MgQXVkaW8tVmlkZW8gKEJEQVYpIE1QRUctMiB0cmFuc3BvcnQgc3RyZWFtIGhhcyA0LWJ5dGUgVFBfZXh0cmFfaGVhZGVyIGJlZm9yZSBlYWNoIDE4OC1ieXRlIHBhY2tldFxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDQ3XSwge29mZnNldDogNH0pICYmIHRoaXMuY2hlY2soWzB4NDddLCB7b2Zmc2V0OiAxOTZ9KSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnbXRzJyxcblx0XHRcdFx0bWltZTogJ3ZpZGVvL21wMnQnLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHg0MiwgMHg0RiwgMHg0RiwgMHg0QiwgMHg0RCwgMHg0RiwgMHg0MiwgMHg0OV0sIHtvZmZzZXQ6IDYwfSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ21vYmknLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC1tb2JpcG9ja2V0LWVib29rJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4NDQsIDB4NDksIDB4NDMsIDB4NERdLCB7b2Zmc2V0OiAxMjh9KSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnZGNtJyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL2RpY29tJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4NEMsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIDB4MTQsIDB4MDIsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4QzAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4NDZdKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnbG5rJyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gubXMuc2hvcnRjdXQnLCAvLyBJbnZlbnRlZCBieSB1c1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHg2MiwgMHg2RiwgMHg2RiwgMHg2QiwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHg2RCwgMHg2MSwgMHg3MiwgMHg2QiwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMF0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdhbGlhcycsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LmFwcGxlLmFsaWFzJywgLy8gSW52ZW50ZWQgYnkgdXNcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tTdHJpbmcoJ0theWRhcmEgRkJYIEJpbmFyeSAgXFx1MDAwMCcpKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdmYngnLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC5hdXRvZGVzay5mYngnLCAvLyBJbnZlbnRlZCBieSB1c1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAoXG5cdFx0XHR0aGlzLmNoZWNrKFsweDRDLCAweDUwXSwge29mZnNldDogMzR9KVxuXHRcdFx0JiYgKFxuXHRcdFx0XHR0aGlzLmNoZWNrKFsweDAwLCAweDAwLCAweDAxXSwge29mZnNldDogOH0pXG5cdFx0XHRcdHx8IHRoaXMuY2hlY2soWzB4MDEsIDB4MDAsIDB4MDJdLCB7b2Zmc2V0OiA4fSlcblx0XHRcdFx0fHwgdGhpcy5jaGVjayhbMHgwMiwgMHgwMCwgMHgwMl0sIHtvZmZzZXQ6IDh9KVxuXHRcdFx0KVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnZW90Jyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1mb250b2JqZWN0Jyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4MDYsIDB4MDYsIDB4RUQsIDB4RjUsIDB4RDgsIDB4MUQsIDB4NDYsIDB4RTUsIDB4QkQsIDB4MzEsIDB4RUYsIDB4RTcsIDB4RkUsIDB4NzQsIDB4QjcsIDB4MURdKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnaW5kZCcsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LWluZGVzaWduJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gSW5jcmVhc2Ugc2FtcGxlIHNpemUgZnJvbSAyNTYgdG8gNTEyXG5cdFx0YXdhaXQgdG9rZW5pemVyLnBlZWtCdWZmZXIodGhpcy5idWZmZXIsIHtsZW5ndGg6IE1hdGgubWluKDUxMiwgdG9rZW5pemVyLmZpbGVJbmZvLnNpemUpLCBtYXlCZUxlc3M6IHRydWV9KTtcblxuXHRcdC8vIFJlcXVpcmVzIGEgYnVmZmVyIHNpemUgb2YgNTEyIGJ5dGVzXG5cdFx0aWYgKCh0aGlzLmNoZWNrU3RyaW5nKCd1c3RhcicsIHtvZmZzZXQ6IDI1N30pICYmICh0aGlzLmNoZWNrU3RyaW5nKCdcXDAnLCB7b2Zmc2V0OiAyNjJ9KSB8fCB0aGlzLmNoZWNrU3RyaW5nKCcgJywge29mZnNldDogMjYyfSkpKVxuXHRcdFx0fHwgKHRoaXMuY2hlY2soWzAsIDAsIDAsIDAsIDAsIDBdLCB7b2Zmc2V0OiAyNTd9KSAmJiB0YXJIZWFkZXJDaGVja3N1bU1hdGNoZXModGhpcy5idWZmZXIpKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAndGFyJyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtdGFyJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2soWzB4RkYsIDB4RkVdKSkgeyAvLyBVVEYtMTYtQk9NLUJFXG5cdFx0XHRpZiAodGhpcy5jaGVjayhbNjAsIDAsIDYzLCAwLCAxMjAsIDAsIDEwOSwgMCwgMTA4LCAwXSwge29mZnNldDogMn0pKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXh0OiAneG1sJyxcblx0XHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veG1sJyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMuY2hlY2soWzB4RkYsIDB4MEUsIDB4NTMsIDB4MDAsIDB4NkIsIDB4MDAsIDB4NjUsIDB4MDAsIDB4NzQsIDB4MDAsIDB4NjMsIDB4MDAsIDB4NjgsIDB4MDAsIDB4NTUsIDB4MDAsIDB4NzAsIDB4MDAsIDB4MjAsIDB4MDAsIDB4NEQsIDB4MDAsIDB4NkYsIDB4MDAsIDB4NjQsIDB4MDAsIDB4NjUsIDB4MDAsIDB4NkMsIDB4MDBdLCB7b2Zmc2V0OiAyfSkpIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRleHQ6ICdza3AnLFxuXHRcdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQuc2tldGNodXAuc2twJyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDsgLy8gU29tZSB0ZXh0IGJhc2VkIGZvcm1hdFxuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrU3RyaW5nKCctLS0tLUJFR0lOIFBHUCBNRVNTQUdFLS0tLS0nKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAncGdwJyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3BncC1lbmNyeXB0ZWQnLFxuXHRcdFx0fTtcblx0XHR9XG5cdH07XG5cdC8vIERldGVjdGlvbnMgd2l0aCBsaW1pdGVkIHN1cHBvcnRpbmcgZGF0YSwgcmVzdWx0aW5nIGluIGEgaGlnaGVyIGxpa2VsaWhvb2Qgb2YgZmFsc2UgcG9zaXRpdmVzXG5cdGRldGVjdEltcHJlY2lzZSA9IGFzeW5jIHRva2VuaXplciA9PiB7XG5cdFx0dGhpcy5idWZmZXIgPSBuZXcgVWludDhBcnJheShyZWFzb25hYmxlRGV0ZWN0aW9uU2l6ZUluQnl0ZXMpO1xuXG5cdFx0Ly8gUmVhZCBpbml0aWFsIHNhbXBsZSBzaXplIG9mIDggYnl0ZXNcblx0XHRhd2FpdCB0b2tlbml6ZXIucGVla0J1ZmZlcih0aGlzLmJ1ZmZlciwge2xlbmd0aDogTWF0aC5taW4oOCwgdG9rZW5pemVyLmZpbGVJbmZvLnNpemUpLCBtYXlCZUxlc3M6IHRydWV9KTtcblxuXHRcdGlmIChcblx0XHRcdHRoaXMuY2hlY2soWzB4MCwgMHgwLCAweDEsIDB4QkFdKVxuXHRcdFx0fHwgdGhpcy5jaGVjayhbMHgwLCAweDAsIDB4MSwgMHhCM10pXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdtcGcnLFxuXHRcdFx0XHRtaW1lOiAndmlkZW8vbXBlZycsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDAwLCAweDAxLCAweDAwLCAweDAwLCAweDAwXSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3R0ZicsXG5cdFx0XHRcdG1pbWU6ICdmb250L3R0ZicsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrKFsweDAwLCAweDAwLCAweDAxLCAweDAwXSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ2ljbycsXG5cdFx0XHRcdG1pbWU6ICdpbWFnZS94LWljb24nLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVjayhbMHgwMCwgMHgwMCwgMHgwMiwgMHgwMF0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdjdXInLFxuXHRcdFx0XHRtaW1lOiAnaW1hZ2UveC1pY29uJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gQWRqdXN0IGJ1ZmZlciB0byBgbXBlZ09mZnNldFRvbGVyYW5jZWBcblx0XHRhd2FpdCB0b2tlbml6ZXIucGVla0J1ZmZlcih0aGlzLmJ1ZmZlciwge2xlbmd0aDogTWF0aC5taW4oMiArIHRoaXMub3B0aW9ucy5tcGVnT2Zmc2V0VG9sZXJhbmNlLCB0b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSksIG1heUJlTGVzczogdHJ1ZX0pO1xuXG5cdFx0Ly8gQ2hlY2sgTVBFRyAxIG9yIDIgTGF5ZXIgMyBoZWFkZXIsIG9yICdsYXllciAwJyBmb3IgQURUUyAoTVBFRyBzeW5jLXdvcmQgMHhGRkUpXG5cdFx0aWYgKHRoaXMuYnVmZmVyLmxlbmd0aCA+PSAoMiArIHRoaXMub3B0aW9ucy5tcGVnT2Zmc2V0VG9sZXJhbmNlKSkge1xuXHRcdFx0Zm9yIChsZXQgZGVwdGggPSAwOyBkZXB0aCA8PSB0aGlzLm9wdGlvbnMubXBlZ09mZnNldFRvbGVyYW5jZTsgKytkZXB0aCkge1xuXHRcdFx0XHRjb25zdCB0eXBlID0gdGhpcy5zY2FuTXBlZyhkZXB0aCk7XG5cdFx0XHRcdGlmICh0eXBlKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHR5cGU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0YXN5bmMgcmVhZFRpZmZUYWcoYmlnRW5kaWFuKSB7XG5cdFx0Y29uc3QgdGFnSWQgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oYmlnRW5kaWFuID8gVG9rZW4uVUlOVDE2X0JFIDogVG9rZW4uVUlOVDE2X0xFKTtcblx0XHR0aGlzLnRva2VuaXplci5pZ25vcmUoMTApO1xuXHRcdHN3aXRjaCAodGFnSWQpIHtcblx0XHRcdGNhc2UgNTBfMzQxOlxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGV4dDogJ2FydycsXG5cdFx0XHRcdFx0bWltZTogJ2ltYWdlL3gtc29ueS1hcncnLFxuXHRcdFx0XHR9O1xuXHRcdFx0Y2FzZSA1MF83MDY6XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXh0OiAnZG5nJyxcblx0XHRcdFx0XHRtaW1lOiAnaW1hZ2UveC1hZG9iZS1kbmcnLFxuXHRcdFx0XHR9O1xuXHRcdFx0ZGVmYXVsdDpcblx0XHR9XG5cdH1cblxuXHRhc3luYyByZWFkVGlmZklGRChiaWdFbmRpYW4pIHtcblx0XHRjb25zdCBudW1iZXJPZlRhZ3MgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oYmlnRW5kaWFuID8gVG9rZW4uVUlOVDE2X0JFIDogVG9rZW4uVUlOVDE2X0xFKTtcblx0XHRmb3IgKGxldCBuID0gMDsgbiA8IG51bWJlck9mVGFnczsgKytuKSB7XG5cdFx0XHRjb25zdCBmaWxlVHlwZSA9IGF3YWl0IHRoaXMucmVhZFRpZmZUYWcoYmlnRW5kaWFuKTtcblx0XHRcdGlmIChmaWxlVHlwZSkge1xuXHRcdFx0XHRyZXR1cm4gZmlsZVR5cGU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgcmVhZFRpZmZIZWFkZXIoYmlnRW5kaWFuKSB7XG5cdFx0Y29uc3QgdmVyc2lvbiA9IChiaWdFbmRpYW4gPyBUb2tlbi5VSU5UMTZfQkUgOiBUb2tlbi5VSU5UMTZfTEUpLmdldCh0aGlzLmJ1ZmZlciwgMik7XG5cdFx0Y29uc3QgaWZkT2Zmc2V0ID0gKGJpZ0VuZGlhbiA/IFRva2VuLlVJTlQzMl9CRSA6IFRva2VuLlVJTlQzMl9MRSkuZ2V0KHRoaXMuYnVmZmVyLCA0KTtcblxuXHRcdGlmICh2ZXJzaW9uID09PSA0Mikge1xuXHRcdFx0Ly8gVElGRiBmaWxlIGhlYWRlclxuXHRcdFx0aWYgKGlmZE9mZnNldCA+PSA2KSB7XG5cdFx0XHRcdGlmICh0aGlzLmNoZWNrU3RyaW5nKCdDUicsIHtvZmZzZXQ6IDh9KSkge1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRleHQ6ICdjcjInLFxuXHRcdFx0XHRcdFx0bWltZTogJ2ltYWdlL3gtY2Fub24tY3IyJyxcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGlmZE9mZnNldCA+PSA4KSB7XG5cdFx0XHRcdFx0Y29uc3Qgc29tZUlkMSA9IChiaWdFbmRpYW4gPyBUb2tlbi5VSU5UMTZfQkUgOiBUb2tlbi5VSU5UMTZfTEUpLmdldCh0aGlzLmJ1ZmZlciwgOCk7XG5cdFx0XHRcdFx0Y29uc3Qgc29tZUlkMiA9IChiaWdFbmRpYW4gPyBUb2tlbi5VSU5UMTZfQkUgOiBUb2tlbi5VSU5UMTZfTEUpLmdldCh0aGlzLmJ1ZmZlciwgMTApO1xuXG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0KHNvbWVJZDEgPT09IDB4MUMgJiYgc29tZUlkMiA9PT0gMHhGRSlcblx0XHRcdFx0XHRcdHx8IChzb21lSWQxID09PSAweDFGICYmIHNvbWVJZDIgPT09IDB4MEIpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRleHQ6ICduZWYnLFxuXHRcdFx0XHRcdFx0XHRtaW1lOiAnaW1hZ2UveC1uaWtvbi1uZWYnLFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0YXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKGlmZE9mZnNldCk7XG5cdFx0XHRjb25zdCBmaWxlVHlwZSA9IGF3YWl0IHRoaXMucmVhZFRpZmZJRkQoYmlnRW5kaWFuKTtcblx0XHRcdHJldHVybiBmaWxlVHlwZSA/PyB7XG5cdFx0XHRcdGV4dDogJ3RpZicsXG5cdFx0XHRcdG1pbWU6ICdpbWFnZS90aWZmJyxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHZlcnNpb24gPT09IDQzKSB7XHQvLyBCaWcgVElGRiBmaWxlIGhlYWRlclxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAndGlmJyxcblx0XHRcdFx0bWltZTogJ2ltYWdlL3RpZmYnLFxuXHRcdFx0fTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0U2NhbiBjaGVjayBNUEVHIDEgb3IgMiBMYXllciAzIGhlYWRlciwgb3IgJ2xheWVyIDAnIGZvciBBRFRTIChNUEVHIHN5bmMtd29yZCAweEZGRSkuXG5cblx0QHBhcmFtIG9mZnNldCAtIE9mZnNldCB0byBzY2FuIGZvciBzeW5jLXByZWFtYmxlLlxuXHRAcmV0dXJucyB7e2V4dDogc3RyaW5nLCBtaW1lOiBzdHJpbmd9fVxuXHQqL1xuXHRzY2FuTXBlZyhvZmZzZXQpIHtcblx0XHRpZiAodGhpcy5jaGVjayhbMHhGRiwgMHhFMF0sIHtvZmZzZXQsIG1hc2s6IFsweEZGLCAweEUwXX0pKSB7XG5cdFx0XHRpZiAodGhpcy5jaGVjayhbMHgxMF0sIHtvZmZzZXQ6IG9mZnNldCArIDEsIG1hc2s6IFsweDE2XX0pKSB7XG5cdFx0XHRcdC8vIENoZWNrIGZvciAoQURUUykgTVBFRy0yXG5cdFx0XHRcdGlmICh0aGlzLmNoZWNrKFsweDA4XSwge29mZnNldDogb2Zmc2V0ICsgMSwgbWFzazogWzB4MDhdfSkpIHtcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0ZXh0OiAnYWFjJyxcblx0XHRcdFx0XHRcdG1pbWU6ICdhdWRpby9hYWMnLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBNdXN0IGJlIChBRFRTKSBNUEVHLTRcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRleHQ6ICdhYWMnLFxuXHRcdFx0XHRcdG1pbWU6ICdhdWRpby9hYWMnLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNUEVHIDEgb3IgMiBMYXllciAzIGhlYWRlclxuXHRcdFx0Ly8gQ2hlY2sgZm9yIE1QRUcgbGF5ZXIgM1xuXHRcdFx0aWYgKHRoaXMuY2hlY2soWzB4MDJdLCB7b2Zmc2V0OiBvZmZzZXQgKyAxLCBtYXNrOiBbMHgwNl19KSkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGV4dDogJ21wMycsXG5cdFx0XHRcdFx0bWltZTogJ2F1ZGlvL21wZWcnLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDaGVjayBmb3IgTVBFRyBsYXllciAyXG5cdFx0XHRpZiAodGhpcy5jaGVjayhbMHgwNF0sIHtvZmZzZXQ6IG9mZnNldCArIDEsIG1hc2s6IFsweDA2XX0pKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXh0OiAnbXAyJyxcblx0XHRcdFx0XHRtaW1lOiAnYXVkaW8vbXBlZycsXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdC8vIENoZWNrIGZvciBNUEVHIGxheWVyIDFcblx0XHRcdGlmICh0aGlzLmNoZWNrKFsweDA2XSwge29mZnNldDogb2Zmc2V0ICsgMSwgbWFzazogWzB4MDZdfSkpIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRleHQ6ICdtcDEnLFxuXHRcdFx0XHRcdG1pbWU6ICdhdWRpby9tcGVnJyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGNvbnN0IHN1cHBvcnRlZEV4dGVuc2lvbnMgPSBuZXcgU2V0KGV4dGVuc2lvbnMpO1xuZXhwb3J0IGNvbnN0IHN1cHBvcnRlZE1pbWVUeXBlcyA9IG5ldyBTZXQobWltZVR5cGVzKTtcbiIsCiAgICAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlID0gcGFyc2U7XG5leHBvcnRzLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbi8qKlxuICogUmVnRXhwIHRvIG1hdGNoIGNvb2tpZS1uYW1lIGluIFJGQyA2MjY1IHNlYyA0LjEuMVxuICogVGhpcyByZWZlcnMgb3V0IHRvIHRoZSBvYnNvbGV0ZWQgZGVmaW5pdGlvbiBvZiB0b2tlbiBpbiBSRkMgMjYxNiBzZWMgMi4yXG4gKiB3aGljaCBoYXMgYmVlbiByZXBsYWNlZCBieSB0aGUgdG9rZW4gZGVmaW5pdGlvbiBpbiBSRkMgNzIzMCBhcHBlbmRpeCBCLlxuICpcbiAqIGNvb2tpZS1uYW1lICAgICAgID0gdG9rZW5cbiAqIHRva2VuICAgICAgICAgICAgID0gMSp0Y2hhclxuICogdGNoYXIgICAgICAgICAgICAgPSBcIiFcIiAvIFwiI1wiIC8gXCIkXCIgLyBcIiVcIiAvIFwiJlwiIC8gXCInXCIgL1xuICogICAgICAgICAgICAgICAgICAgICBcIipcIiAvIFwiK1wiIC8gXCItXCIgLyBcIi5cIiAvIFwiXlwiIC8gXCJfXCIgL1xuICogICAgICAgICAgICAgICAgICAgICBcImBcIiAvIFwifFwiIC8gXCJ+XCIgLyBESUdJVCAvIEFMUEhBXG4gKlxuICogTm90ZTogQWxsb3dpbmcgbW9yZSBjaGFyYWN0ZXJzIC0gaHR0cHM6Ly9naXRodWIuY29tL2pzaHR0cC9jb29raWUvaXNzdWVzLzE5MVxuICogQWxsb3cgc2FtZSByYW5nZSBhcyBjb29raWUgdmFsdWUsIGV4Y2VwdCBgPWAsIHdoaWNoIGRlbGltaXRzIGVuZCBvZiBuYW1lLlxuICovXG5jb25zdCBjb29raWVOYW1lUmVnRXhwID0gL15bXFx1MDAyMS1cXHUwMDNBXFx1MDAzQ1xcdTAwM0UtXFx1MDA3RV0rJC87XG4vKipcbiAqIFJlZ0V4cCB0byBtYXRjaCBjb29raWUtdmFsdWUgaW4gUkZDIDYyNjUgc2VjIDQuMS4xXG4gKlxuICogY29va2llLXZhbHVlICAgICAgPSAqY29va2llLW9jdGV0IC8gKCBEUVVPVEUgKmNvb2tpZS1vY3RldCBEUVVPVEUgKVxuICogY29va2llLW9jdGV0ICAgICAgPSAleDIxIC8gJXgyMy0yQiAvICV4MkQtM0EgLyAleDNDLTVCIC8gJXg1RC03RVxuICogICAgICAgICAgICAgICAgICAgICA7IFVTLUFTQ0lJIGNoYXJhY3RlcnMgZXhjbHVkaW5nIENUTHMsXG4gKiAgICAgICAgICAgICAgICAgICAgIDsgd2hpdGVzcGFjZSBEUVVPVEUsIGNvbW1hLCBzZW1pY29sb24sXG4gKiAgICAgICAgICAgICAgICAgICAgIDsgYW5kIGJhY2tzbGFzaFxuICpcbiAqIEFsbG93aW5nIG1vcmUgY2hhcmFjdGVyczogaHR0cHM6Ly9naXRodWIuY29tL2pzaHR0cC9jb29raWUvaXNzdWVzLzE5MVxuICogQ29tbWEsIGJhY2tzbGFzaCwgYW5kIERRVU9URSBhcmUgbm90IHBhcnQgb2YgdGhlIHBhcnNpbmcgYWxnb3JpdGhtLlxuICovXG5jb25zdCBjb29raWVWYWx1ZVJlZ0V4cCA9IC9eW1xcdTAwMjEtXFx1MDAzQVxcdTAwM0MtXFx1MDA3RV0qJC87XG4vKipcbiAqIFJlZ0V4cCB0byBtYXRjaCBkb21haW4tdmFsdWUgaW4gUkZDIDYyNjUgc2VjIDQuMS4xXG4gKlxuICogZG9tYWluLXZhbHVlICAgICAgPSA8c3ViZG9tYWluPlxuICogICAgICAgICAgICAgICAgICAgICA7IGRlZmluZWQgaW4gW1JGQzEwMzRdLCBTZWN0aW9uIDMuNSwgYXNcbiAqICAgICAgICAgICAgICAgICAgICAgOyBlbmhhbmNlZCBieSBbUkZDMTEyM10sIFNlY3Rpb24gMi4xXG4gKiA8c3ViZG9tYWluPiAgICAgICA9IDxsYWJlbD4gfCA8c3ViZG9tYWluPiBcIi5cIiA8bGFiZWw+XG4gKiA8bGFiZWw+ICAgICAgICAgICA9IDxsZXQtZGlnPiBbIFsgPGxkaC1zdHI+IF0gPGxldC1kaWc+IF1cbiAqICAgICAgICAgICAgICAgICAgICAgTGFiZWxzIG11c3QgYmUgNjMgY2hhcmFjdGVycyBvciBsZXNzLlxuICogICAgICAgICAgICAgICAgICAgICAnbGV0LWRpZycgbm90ICdsZXR0ZXInIGluIHRoZSBmaXJzdCBjaGFyLCBwZXIgUkZDMTEyM1xuICogPGxkaC1zdHI+ICAgICAgICAgPSA8bGV0LWRpZy1oeXA+IHwgPGxldC1kaWctaHlwPiA8bGRoLXN0cj5cbiAqIDxsZXQtZGlnLWh5cD4gICAgID0gPGxldC1kaWc+IHwgXCItXCJcbiAqIDxsZXQtZGlnPiAgICAgICAgID0gPGxldHRlcj4gfCA8ZGlnaXQ+XG4gKiA8bGV0dGVyPiAgICAgICAgICA9IGFueSBvbmUgb2YgdGhlIDUyIGFscGhhYmV0aWMgY2hhcmFjdGVycyBBIHRocm91Z2ggWiBpblxuICogICAgICAgICAgICAgICAgICAgICB1cHBlciBjYXNlIGFuZCBhIHRocm91Z2ggeiBpbiBsb3dlciBjYXNlXG4gKiA8ZGlnaXQ+ICAgICAgICAgICA9IGFueSBvbmUgb2YgdGhlIHRlbiBkaWdpdHMgMCB0aHJvdWdoIDlcbiAqXG4gKiBLZWVwIHN1cHBvcnQgZm9yIGxlYWRpbmcgZG90OiBodHRwczovL2dpdGh1Yi5jb20vanNodHRwL2Nvb2tpZS9pc3N1ZXMvMTczXG4gKlxuICogPiAoTm90ZSB0aGF0IGEgbGVhZGluZyAleDJFIChcIi5cIiksIGlmIHByZXNlbnQsIGlzIGlnbm9yZWQgZXZlbiB0aG91Z2ggdGhhdFxuICogY2hhcmFjdGVyIGlzIG5vdCBwZXJtaXR0ZWQsIGJ1dCBhIHRyYWlsaW5nICV4MkUgKFwiLlwiKSwgaWYgcHJlc2VudCwgd2lsbFxuICogY2F1c2UgdGhlIHVzZXIgYWdlbnQgdG8gaWdub3JlIHRoZSBhdHRyaWJ1dGUuKVxuICovXG5jb25zdCBkb21haW5WYWx1ZVJlZ0V4cCA9IC9eKFsuXT9bYS16MC05XShbYS16MC05LV17MCw2MX1bYS16MC05XSk/KShbLl1bYS16MC05XShbYS16MC05LV17MCw2MX1bYS16MC05XSk/KSokL2k7XG4vKipcbiAqIFJlZ0V4cCB0byBtYXRjaCBwYXRoLXZhbHVlIGluIFJGQyA2MjY1IHNlYyA0LjEuMVxuICpcbiAqIHBhdGgtdmFsdWUgICAgICAgID0gPGFueSBDSEFSIGV4Y2VwdCBDVExzIG9yIFwiO1wiPlxuICogQ0hBUiAgICAgICAgICAgICAgPSAleDAxLTdGXG4gKiAgICAgICAgICAgICAgICAgICAgIDsgZGVmaW5lZCBpbiBSRkMgNTIzNCBhcHBlbmRpeCBCLjFcbiAqL1xuY29uc3QgcGF0aFZhbHVlUmVnRXhwID0gL15bXFx1MDAyMC1cXHUwMDNBXFx1MDAzRC1cXHUwMDdFXSokLztcbmNvbnN0IF9fdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgTnVsbE9iamVjdCA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4ge1xuICAgIGNvbnN0IEMgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgQy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHJldHVybiBDO1xufSkoKTtcbi8qKlxuICogUGFyc2UgYSBjb29raWUgaGVhZGVyLlxuICpcbiAqIFBhcnNlIHRoZSBnaXZlbiBjb29raWUgaGVhZGVyIHN0cmluZyBpbnRvIGFuIG9iamVjdFxuICogVGhlIG9iamVjdCBoYXMgdGhlIHZhcmlvdXMgY29va2llcyBhcyBrZXlzKG5hbWVzKSA9PiB2YWx1ZXNcbiAqL1xuZnVuY3Rpb24gcGFyc2Uoc3RyLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgb2JqID0gbmV3IE51bGxPYmplY3QoKTtcbiAgICBjb25zdCBsZW4gPSBzdHIubGVuZ3RoO1xuICAgIC8vIFJGQyA2MjY1IHNlYyA0LjEuMSwgUkZDIDI2MTYgMi4yIGRlZmluZXMgYSBjb29raWUgbmFtZSBjb25zaXN0cyBvZiBvbmUgY2hhciBtaW5pbXVtLCBwbHVzICc9Jy5cbiAgICBpZiAobGVuIDwgMilcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICBjb25zdCBkZWMgPSBvcHRpb25zPy5kZWNvZGUgfHwgZGVjb2RlO1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgZG8ge1xuICAgICAgICBjb25zdCBlcUlkeCA9IHN0ci5pbmRleE9mKFwiPVwiLCBpbmRleCk7XG4gICAgICAgIGlmIChlcUlkeCA9PT0gLTEpXG4gICAgICAgICAgICBicmVhazsgLy8gTm8gbW9yZSBjb29raWUgcGFpcnMuXG4gICAgICAgIGNvbnN0IGNvbG9uSWR4ID0gc3RyLmluZGV4T2YoXCI7XCIsIGluZGV4KTtcbiAgICAgICAgY29uc3QgZW5kSWR4ID0gY29sb25JZHggPT09IC0xID8gbGVuIDogY29sb25JZHg7XG4gICAgICAgIGlmIChlcUlkeCA+IGVuZElkeCkge1xuICAgICAgICAgICAgLy8gYmFja3RyYWNrIG9uIHByaW9yIHNlbWljb2xvblxuICAgICAgICAgICAgaW5kZXggPSBzdHIubGFzdEluZGV4T2YoXCI7XCIsIGVxSWR4IC0gMSkgKyAxO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5U3RhcnRJZHggPSBzdGFydEluZGV4KHN0ciwgaW5kZXgsIGVxSWR4KTtcbiAgICAgICAgY29uc3Qga2V5RW5kSWR4ID0gZW5kSW5kZXgoc3RyLCBlcUlkeCwga2V5U3RhcnRJZHgpO1xuICAgICAgICBjb25zdCBrZXkgPSBzdHIuc2xpY2Uoa2V5U3RhcnRJZHgsIGtleUVuZElkeCk7XG4gICAgICAgIC8vIG9ubHkgYXNzaWduIG9uY2VcbiAgICAgICAgaWYgKG9ialtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCB2YWxTdGFydElkeCA9IHN0YXJ0SW5kZXgoc3RyLCBlcUlkeCArIDEsIGVuZElkeCk7XG4gICAgICAgICAgICBsZXQgdmFsRW5kSWR4ID0gZW5kSW5kZXgoc3RyLCBlbmRJZHgsIHZhbFN0YXJ0SWR4KTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZGVjKHN0ci5zbGljZSh2YWxTdGFydElkeCwgdmFsRW5kSWR4KSk7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gZW5kSWR4ICsgMTtcbiAgICB9IHdoaWxlIChpbmRleCA8IGxlbik7XG4gICAgcmV0dXJuIG9iajtcbn1cbmZ1bmN0aW9uIHN0YXJ0SW5kZXgoc3RyLCBpbmRleCwgbWF4KSB7XG4gICAgZG8ge1xuICAgICAgICBjb25zdCBjb2RlID0gc3RyLmNoYXJDb2RlQXQoaW5kZXgpO1xuICAgICAgICBpZiAoY29kZSAhPT0gMHgyMCAvKiAgICovICYmIGNvZGUgIT09IDB4MDkgLyogXFx0ICovKVxuICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH0gd2hpbGUgKCsraW5kZXggPCBtYXgpO1xuICAgIHJldHVybiBtYXg7XG59XG5mdW5jdGlvbiBlbmRJbmRleChzdHIsIGluZGV4LCBtaW4pIHtcbiAgICB3aGlsZSAoaW5kZXggPiBtaW4pIHtcbiAgICAgICAgY29uc3QgY29kZSA9IHN0ci5jaGFyQ29kZUF0KC0taW5kZXgpO1xuICAgICAgICBpZiAoY29kZSAhPT0gMHgyMCAvKiAgICovICYmIGNvZGUgIT09IDB4MDkgLyogXFx0ICovKVxuICAgICAgICAgICAgcmV0dXJuIGluZGV4ICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIG1pbjtcbn1cbi8qKlxuICogU2VyaWFsaXplIGRhdGEgaW50byBhIGNvb2tpZSBoZWFkZXIuXG4gKlxuICogU2VyaWFsaXplIGEgbmFtZSB2YWx1ZSBwYWlyIGludG8gYSBjb29raWUgc3RyaW5nIHN1aXRhYmxlIGZvclxuICogaHR0cCBoZWFkZXJzLiBBbiBvcHRpb25hbCBvcHRpb25zIG9iamVjdCBzcGVjaWZpZXMgY29va2llIHBhcmFtZXRlcnMuXG4gKlxuICogc2VyaWFsaXplKCdmb28nLCAnYmFyJywgeyBodHRwT25seTogdHJ1ZSB9KVxuICogICA9PiBcImZvbz1iYXI7IGh0dHBPbmx5XCJcbiAqL1xuZnVuY3Rpb24gc2VyaWFsaXplKG5hbWUsIHZhbCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGVuYyA9IG9wdGlvbnM/LmVuY29kZSB8fCBlbmNvZGVVUklDb21wb25lbnQ7XG4gICAgaWYgKCFjb29raWVOYW1lUmVnRXhwLnRlc3QobmFtZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgYXJndW1lbnQgbmFtZSBpcyBpbnZhbGlkOiAke25hbWV9YCk7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gZW5jKHZhbCk7XG4gICAgaWYgKCFjb29raWVWYWx1ZVJlZ0V4cC50ZXN0KHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBhcmd1bWVudCB2YWwgaXMgaW52YWxpZDogJHt2YWx9YCk7XG4gICAgfVxuICAgIGxldCBzdHIgPSBuYW1lICsgXCI9XCIgKyB2YWx1ZTtcbiAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgaWYgKG9wdGlvbnMubWF4QWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG9wdGlvbnMubWF4QWdlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgb3B0aW9uIG1heEFnZSBpcyBpbnZhbGlkOiAke29wdGlvbnMubWF4QWdlfWApO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSBcIjsgTWF4LUFnZT1cIiArIG9wdGlvbnMubWF4QWdlO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5kb21haW4pIHtcbiAgICAgICAgaWYgKCFkb21haW5WYWx1ZVJlZ0V4cC50ZXN0KG9wdGlvbnMuZG9tYWluKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgb3B0aW9uIGRvbWFpbiBpcyBpbnZhbGlkOiAke29wdGlvbnMuZG9tYWlufWApO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSBcIjsgRG9tYWluPVwiICsgb3B0aW9ucy5kb21haW47XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnBhdGgpIHtcbiAgICAgICAgaWYgKCFwYXRoVmFsdWVSZWdFeHAudGVzdChvcHRpb25zLnBhdGgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBvcHRpb24gcGF0aCBpcyBpbnZhbGlkOiAke29wdGlvbnMucGF0aH1gKTtcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gXCI7IFBhdGg9XCIgKyBvcHRpb25zLnBhdGg7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmV4cGlyZXMpIHtcbiAgICAgICAgaWYgKCFpc0RhdGUob3B0aW9ucy5leHBpcmVzKSB8fFxuICAgICAgICAgICAgIU51bWJlci5pc0Zpbml0ZShvcHRpb25zLmV4cGlyZXMudmFsdWVPZigpKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgb3B0aW9uIGV4cGlyZXMgaXMgaW52YWxpZDogJHtvcHRpb25zLmV4cGlyZXN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9IFwiOyBFeHBpcmVzPVwiICsgb3B0aW9ucy5leHBpcmVzLnRvVVRDU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmh0dHBPbmx5KSB7XG4gICAgICAgIHN0ciArPSBcIjsgSHR0cE9ubHlcIjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuc2VjdXJlKSB7XG4gICAgICAgIHN0ciArPSBcIjsgU2VjdXJlXCI7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnBhcnRpdGlvbmVkKSB7XG4gICAgICAgIHN0ciArPSBcIjsgUGFydGl0aW9uZWRcIjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMucHJpb3JpdHkpIHtcbiAgICAgICAgY29uc3QgcHJpb3JpdHkgPSB0eXBlb2Ygb3B0aW9ucy5wcmlvcml0eSA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgPyBvcHRpb25zLnByaW9yaXR5LnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBzd2l0Y2ggKHByaW9yaXR5KSB7XG4gICAgICAgICAgICBjYXNlIFwibG93XCI6XG4gICAgICAgICAgICAgICAgc3RyICs9IFwiOyBQcmlvcml0eT1Mb3dcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtZWRpdW1cIjpcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCI7IFByaW9yaXR5PU1lZGl1bVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImhpZ2hcIjpcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCI7IFByaW9yaXR5PUhpZ2hcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgb3B0aW9uIHByaW9yaXR5IGlzIGludmFsaWQ6ICR7b3B0aW9ucy5wcmlvcml0eX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0aW9ucy5zYW1lU2l0ZSkge1xuICAgICAgICBjb25zdCBzYW1lU2l0ZSA9IHR5cGVvZiBvcHRpb25zLnNhbWVTaXRlID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICA/IG9wdGlvbnMuc2FtZVNpdGUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgOiBvcHRpb25zLnNhbWVTaXRlO1xuICAgICAgICBzd2l0Y2ggKHNhbWVTaXRlKSB7XG4gICAgICAgICAgICBjYXNlIHRydWU6XG4gICAgICAgICAgICBjYXNlIFwic3RyaWN0XCI6XG4gICAgICAgICAgICAgICAgc3RyICs9IFwiOyBTYW1lU2l0ZT1TdHJpY3RcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJsYXhcIjpcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCI7IFNhbWVTaXRlPUxheFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCI7IFNhbWVTaXRlPU5vbmVcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgb3B0aW9uIHNhbWVTaXRlIGlzIGludmFsaWQ6ICR7b3B0aW9ucy5zYW1lU2l0ZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyO1xufVxuLyoqXG4gKiBVUkwtZGVjb2RlIHN0cmluZyB2YWx1ZS4gT3B0aW1pemVkIHRvIHNraXAgbmF0aXZlIGNhbGwgd2hlbiBubyAlLlxuICovXG5mdW5jdGlvbiBkZWNvZGUoc3RyKSB7XG4gICAgaWYgKHN0ci5pbmRleE9mKFwiJVwiKSA9PT0gLTEpXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHIpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbn1cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHZhbHVlIGlzIGEgRGF0ZS5cbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICAgIHJldHVybiBfX3RvU3RyaW5nLmNhbGwodmFsKSA9PT0gXCJbb2JqZWN0IERhdGVdXCI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLAogICAgImltcG9ydCB0eXBlIHsgUGx1Z2luTWV0YVR5cGUgfSBmcm9tICdAZG9ja3N0YXQvdHlwaW5ncy90eXBlcydcblxuZXhwb3J0IGNvbnN0IFBsdWdpbk1ldGE6IFBsdWdpbk1ldGFUeXBlID0ge1xuXHRuYW1lOiAnRG9ja1N0YWNrcycsXG5cdGRlc2NyaXB0aW9uOlxuXHRcdCdUaGlzIFBsdWdpbiBhbGxvd3MgZm9yIGRlcGxveWluZyBzbyBjYWxsZWQgc3RhY2tzLiBTdGFja3MgYXJlIHByZWJ1aWx0IGRvY2tlciBjb21wb3NlIGZpbGUsIHdpdGggdGVtcHBsYXRpbmcgYW5kIHBsdWdpbiBzdXBwb3J0Jyxcblx0cmVwb3NpdG9yeTogJ2l0czRuaWsvZG9ja3N0YXQ6ZGV2L2FwcHMvZG9ja3N0b3JlJyxcblx0dmVyc2lvbjogJzEuMC4wJyxcblx0dGFnczogWydjb21wb3NlJywgJ21hbmFnZW1lbnQnXSxcblx0YXV0aG9yOiB7XG5cdFx0ZW1haWw6ICdpbmZvQGl0c25pay5kZScsXG5cdFx0bGljZW5zZTogJ01JVCcsXG5cdFx0bmFtZTogJ0l0czROaWsnLFxuXHRcdHdlYnNpdGU6ICdodHRwczovL2dpdGh1Yi5jb20vSXRzNE5paycsXG5cdH0sXG5cdG1hbmlmZXN0OiAnc3JjL2NvbnRlbnQvcGx1Z2lucy9kb2Nrc3RhY2tzL21hbmlmZXN0LnltbCcsXG5cdHJlcG9UeXBlOiAnZ2l0aHViJyxcbn1cbiIsCiAgICAiLy8gc3JjL2luZGV4LnRzXG52YXIgY3JlYXRlTm9kZSA9IChwYXJ0LCBpbmVydCkgPT4ge1xuICBjb25zdCBpbmVydE1hcCA9IGluZXJ0Py5sZW5ndGggPyB7fSA6IG51bGw7XG4gIGlmIChpbmVydE1hcClcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGluZXJ0KVxuICAgICAgaW5lcnRNYXBbY2hpbGQucGFydC5jaGFyQ29kZUF0KDApXSA9IGNoaWxkO1xuICByZXR1cm4ge1xuICAgIHBhcnQsXG4gICAgc3RvcmU6IG51bGwsXG4gICAgaW5lcnQ6IGluZXJ0TWFwLFxuICAgIHBhcmFtczogbnVsbCxcbiAgICB3aWxkY2FyZFN0b3JlOiBudWxsXG4gIH07XG59O1xudmFyIGNsb25lTm9kZSA9IChub2RlLCBwYXJ0KSA9PiAoe1xuICAuLi5ub2RlLFxuICBwYXJ0XG59KTtcbnZhciBjcmVhdGVQYXJhbU5vZGUgPSAobmFtZSkgPT4gKHtcbiAgbmFtZSxcbiAgc3RvcmU6IG51bGwsXG4gIGluZXJ0OiBudWxsXG59KTtcbnZhciBNZW1vaXJpc3QgPSBjbGFzcyBfTWVtb2lyaXN0IHtcbiAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICBpZiAoY29uZmlnLmxhenkpXG4gICAgICB0aGlzLmZpbmQgPSB0aGlzLmxhenlGaW5kO1xuICAgIGlmIChjb25maWcub25QYXJhbSAmJiAhQXJyYXkuaXNBcnJheShjb25maWcub25QYXJhbSkpXG4gICAgICB0aGlzLmNvbmZpZy5vblBhcmFtID0gW1xuICAgICAgICB0aGlzLmNvbmZpZy5vblBhcmFtXG4gICAgICBdO1xuICB9XG4gIHJvb3QgPSB7fTtcbiAgaGlzdG9yeSA9IFtdO1xuICBkZWZlcnJlZCA9IFtdO1xuICBzdGF0aWMgcmVnZXggPSB7XG4gICAgc3RhdGljOiAvOi4rPyg/PVxcL3wkKS8sXG4gICAgcGFyYW1zOiAvOi4rPyg/PVxcL3wkKS9nLFxuICAgIG9wdGlvbmFsUGFyYW1zOiAvKFxcLzpcXHcrXFw/KS9nXG4gIH07XG4gIGxhenlGaW5kID0gKG1ldGhvZCwgdXJsKSA9PiB7XG4gICAgaWYgKCF0aGlzLmNvbmZpZy5sYXp5KVxuICAgICAgcmV0dXJuIHRoaXMuZmluZDtcbiAgICB0aGlzLmJ1aWxkKCk7XG4gICAgcmV0dXJuIHRoaXMuZmluZChtZXRob2QsIHVybCk7XG4gIH07XG4gIGJ1aWxkKCkge1xuICAgIGlmICghdGhpcy5jb25maWcubGF6eSlcbiAgICAgIHJldHVybjtcbiAgICBmb3IgKGNvbnN0IFttZXRob2QsIHBhdGgsIHN0b3JlXSBvZiB0aGlzLmRlZmVycmVkKVxuICAgICAgdGhpcy5hZGQobWV0aG9kLCBwYXRoLCBzdG9yZSwgeyBsYXp5OiBmYWxzZSwgaWdub3JlSGlzdG9yeTogdHJ1ZSB9KTtcbiAgICB0aGlzLmRlZmVycmVkID0gW107XG4gICAgdGhpcy5maW5kID0gKG1ldGhvZCwgdXJsKSA9PiB7XG4gICAgICBjb25zdCByb290ID0gdGhpcy5yb290W21ldGhvZF07XG4gICAgICBpZiAoIXJvb3QpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIG1hdGNoUm91dGUoXG4gICAgICAgIHVybCxcbiAgICAgICAgdXJsLmxlbmd0aCxcbiAgICAgICAgcm9vdCxcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy5jb25maWcub25QYXJhbVxuICAgICAgKTtcbiAgICB9O1xuICB9XG4gIGFkZChtZXRob2QsIHBhdGgsIHN0b3JlLCB7XG4gICAgaWdub3JlRXJyb3IgPSBmYWxzZSxcbiAgICBpZ25vcmVIaXN0b3J5ID0gZmFsc2UsXG4gICAgbGF6eSA9IHRoaXMuY29uZmlnLmxhenlcbiAgfSA9IHt9KSB7XG4gICAgaWYgKGxhenkpIHtcbiAgICAgIHRoaXMuZmluZCA9IHRoaXMubGF6eUZpbmQ7XG4gICAgICB0aGlzLmRlZmVycmVkLnB1c2goW21ldGhvZCwgcGF0aCwgc3RvcmVdKTtcbiAgICAgIHJldHVybiBzdG9yZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSBcInN0cmluZ1wiKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlJvdXRlIHBhdGggbXVzdCBiZSBhIHN0cmluZ1wiKTtcbiAgICBpZiAocGF0aCA9PT0gXCJcIilcbiAgICAgIHBhdGggPSBcIi9cIjtcbiAgICBlbHNlIGlmIChwYXRoWzBdICE9PSBcIi9cIilcbiAgICAgIHBhdGggPSBgLyR7cGF0aH1gO1xuICAgIGNvbnN0IGlzV2lsZGNhcmQgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV0gPT09IFwiKlwiO1xuICAgIGNvbnN0IG9wdGlvbmFsUGFyYW1zID0gcGF0aC5tYXRjaChfTWVtb2lyaXN0LnJlZ2V4Lm9wdGlvbmFsUGFyYW1zKTtcbiAgICBpZiAob3B0aW9uYWxQYXJhbXMpIHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsUGF0aCA9IHBhdGgucmVwbGFjZUFsbChcIj9cIiwgXCJcIik7XG4gICAgICB0aGlzLmFkZChtZXRob2QsIG9yaWdpbmFsUGF0aCwgc3RvcmUsIHtcbiAgICAgICAgaWdub3JlRXJyb3IsXG4gICAgICAgIGlnbm9yZUhpc3RvcnksXG4gICAgICAgIGxhenlcbiAgICAgIH0pO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25hbFBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgbmV3UGF0aCA9IHBhdGgucmVwbGFjZShvcHRpb25hbFBhcmFtc1tpXSwgXCJcIik7XG4gICAgICAgIHRoaXMuYWRkKG1ldGhvZCwgbmV3UGF0aCwgc3RvcmUsIHtcbiAgICAgICAgICBpZ25vcmVFcnJvcjogdHJ1ZSxcbiAgICAgICAgICBpZ25vcmVIaXN0b3J5LFxuICAgICAgICAgIGxhenlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RvcmU7XG4gICAgfVxuICAgIGlmIChvcHRpb25hbFBhcmFtcylcbiAgICAgIHBhdGggPSBwYXRoLnJlcGxhY2VBbGwoXCI/XCIsIFwiXCIpO1xuICAgIGlmICh0aGlzLmhpc3RvcnkuZmluZCgoW20sIHAsIHNdKSA9PiBtID09PSBtZXRob2QgJiYgcCA9PT0gcGF0aCkpXG4gICAgICByZXR1cm4gc3RvcmU7XG4gICAgaWYgKGlzV2lsZGNhcmQgfHwgb3B0aW9uYWxQYXJhbXMgJiYgcGF0aC5jaGFyQ29kZUF0KHBhdGgubGVuZ3RoIC0gMSkgPT09IDYzKVxuICAgICAgcGF0aCA9IHBhdGguc2xpY2UoMCwgLTEpO1xuICAgIGlmICghaWdub3JlSGlzdG9yeSlcbiAgICAgIHRoaXMuaGlzdG9yeS5wdXNoKFttZXRob2QsIHBhdGgsIHN0b3JlXSk7XG4gICAgY29uc3QgaW5lcnRQYXJ0cyA9IHBhdGguc3BsaXQoX01lbW9pcmlzdC5yZWdleC5zdGF0aWMpO1xuICAgIGNvbnN0IHBhcmFtUGFydHMgPSBwYXRoLm1hdGNoKF9NZW1vaXJpc3QucmVnZXgucGFyYW1zKSB8fCBbXTtcbiAgICBpZiAoaW5lcnRQYXJ0c1tpbmVydFBhcnRzLmxlbmd0aCAtIDFdID09PSBcIlwiKVxuICAgICAgaW5lcnRQYXJ0cy5wb3AoKTtcbiAgICBsZXQgbm9kZTtcbiAgICBpZiAoIXRoaXMucm9vdFttZXRob2RdKVxuICAgICAgbm9kZSA9IHRoaXMucm9vdFttZXRob2RdID0gY3JlYXRlTm9kZShcIi9cIik7XG4gICAgZWxzZVxuICAgICAgbm9kZSA9IHRoaXMucm9vdFttZXRob2RdO1xuICAgIGxldCBwYXJhbVBhcnRzSW5kZXggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5lcnRQYXJ0cy5sZW5ndGg7ICsraSkge1xuICAgICAgbGV0IHBhcnQgPSBpbmVydFBhcnRzW2ldO1xuICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtID0gcGFyYW1QYXJ0c1twYXJhbVBhcnRzSW5kZXgrK10uc2xpY2UoMSk7XG4gICAgICAgIGlmIChub2RlLnBhcmFtcyA9PT0gbnVsbClcbiAgICAgICAgICBub2RlLnBhcmFtcyA9IGNyZWF0ZVBhcmFtTm9kZShwYXJhbSk7XG4gICAgICAgIGVsc2UgaWYgKG5vZGUucGFyYW1zLm5hbWUgIT09IHBhcmFtKSB7XG4gICAgICAgICAgaWYgKGlnbm9yZUVycm9yKVxuICAgICAgICAgICAgcmV0dXJuIHN0b3JlO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYENhbm5vdCBjcmVhdGUgcm91dGUgXCIke3BhdGh9XCIgd2l0aCBwYXJhbWV0ZXIgXCIke3BhcmFtfVwiIGJlY2F1c2UgYSByb3V0ZSBhbHJlYWR5IGV4aXN0cyB3aXRoIGEgZGlmZmVyZW50IHBhcmFtZXRlciBuYW1lIChcIiR7bm9kZS5wYXJhbXMubmFtZX1cIikgaW4gdGhlIHNhbWUgbG9jYXRpb25gXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IG5vZGUucGFyYW1zO1xuICAgICAgICBpZiAocGFyYW1zLmluZXJ0ID09PSBudWxsKSB7XG4gICAgICAgICAgbm9kZSA9IHBhcmFtcy5pbmVydCA9IGNyZWF0ZU5vZGUocGFydCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IHBhcmFtcy5pbmVydDtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGogPSAwOyA7ICkge1xuICAgICAgICBpZiAoaiA9PT0gcGFydC5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAoaiA8IG5vZGUucGFydC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IGNsb25lTm9kZShub2RlLCBub2RlLnBhcnQuc2xpY2UoaikpO1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihub2RlLCBjcmVhdGVOb2RlKHBhcnQsIFtjaGlsZE5vZGVdKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqID09PSBub2RlLnBhcnQubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKG5vZGUuaW5lcnQgPT09IG51bGwpXG4gICAgICAgICAgICBub2RlLmluZXJ0ID0ge307XG4gICAgICAgICAgY29uc3QgaW5lcnQgPSBub2RlLmluZXJ0W3BhcnQuY2hhckNvZGVBdChqKV07XG4gICAgICAgICAgaWYgKGluZXJ0KSB7XG4gICAgICAgICAgICBub2RlID0gaW5lcnQ7XG4gICAgICAgICAgICBwYXJ0ID0gcGFydC5zbGljZShqKTtcbiAgICAgICAgICAgIGogPSAwO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IGNyZWF0ZU5vZGUocGFydC5zbGljZShqKSk7XG4gICAgICAgICAgbm9kZS5pbmVydFtwYXJ0LmNoYXJDb2RlQXQoaildID0gY2hpbGROb2RlO1xuICAgICAgICAgIG5vZGUgPSBjaGlsZE5vZGU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRbal0gIT09IG5vZGUucGFydFtqXSkge1xuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQ2hpbGQgPSBjbG9uZU5vZGUobm9kZSwgbm9kZS5wYXJ0LnNsaWNlKGopKTtcbiAgICAgICAgICBjb25zdCBuZXdDaGlsZCA9IGNyZWF0ZU5vZGUocGFydC5zbGljZShqKSk7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICBjcmVhdGVOb2RlKG5vZGUucGFydC5zbGljZSgwLCBqKSwgW1xuICAgICAgICAgICAgICBleGlzdGluZ0NoaWxkLFxuICAgICAgICAgICAgICBuZXdDaGlsZFxuICAgICAgICAgICAgXSlcbiAgICAgICAgICApO1xuICAgICAgICAgIG5vZGUgPSBuZXdDaGlsZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICArK2o7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwYXJhbVBhcnRzSW5kZXggPCBwYXJhbVBhcnRzLmxlbmd0aCkge1xuICAgICAgY29uc3QgcGFyYW0gPSBwYXJhbVBhcnRzW3BhcmFtUGFydHNJbmRleF07XG4gICAgICBjb25zdCBuYW1lID0gcGFyYW0uc2xpY2UoMSk7XG4gICAgICBpZiAobm9kZS5wYXJhbXMgPT09IG51bGwpXG4gICAgICAgIG5vZGUucGFyYW1zID0gY3JlYXRlUGFyYW1Ob2RlKG5hbWUpO1xuICAgICAgZWxzZSBpZiAobm9kZS5wYXJhbXMubmFtZSAhPT0gbmFtZSkge1xuICAgICAgICBpZiAoaWdub3JlRXJyb3IpXG4gICAgICAgICAgcmV0dXJuIHN0b3JlO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYENhbm5vdCBjcmVhdGUgcm91dGUgXCIke3BhdGh9XCIgd2l0aCBwYXJhbWV0ZXIgXCIke25hbWV9XCIgYmVjYXVzZSBhIHJvdXRlIGFscmVhZHkgZXhpc3RzIHdpdGggYSBkaWZmZXJlbnQgcGFyYW1ldGVyIG5hbWUgKFwiJHtub2RlLnBhcmFtcy5uYW1lfVwiKSBpbiB0aGUgc2FtZSBsb2NhdGlvbmBcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUucGFyYW1zLnN0b3JlID09PSBudWxsKVxuICAgICAgICBub2RlLnBhcmFtcy5zdG9yZSA9IHN0b3JlO1xuICAgICAgcmV0dXJuIG5vZGUucGFyYW1zLnN0b3JlO1xuICAgIH1cbiAgICBpZiAoaXNXaWxkY2FyZCkge1xuICAgICAgaWYgKG5vZGUud2lsZGNhcmRTdG9yZSA9PT0gbnVsbClcbiAgICAgICAgbm9kZS53aWxkY2FyZFN0b3JlID0gc3RvcmU7XG4gICAgICByZXR1cm4gbm9kZS53aWxkY2FyZFN0b3JlO1xuICAgIH1cbiAgICBpZiAobm9kZS5zdG9yZSA9PT0gbnVsbClcbiAgICAgIG5vZGUuc3RvcmUgPSBzdG9yZTtcbiAgICByZXR1cm4gbm9kZS5zdG9yZTtcbiAgfVxuICBmaW5kKG1ldGhvZCwgdXJsKSB7XG4gICAgY29uc3Qgcm9vdCA9IHRoaXMucm9vdFttZXRob2RdO1xuICAgIGlmICghcm9vdClcbiAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiBtYXRjaFJvdXRlKFxuICAgICAgdXJsLFxuICAgICAgdXJsLmxlbmd0aCxcbiAgICAgIHJvb3QsXG4gICAgICAwLFxuICAgICAgdGhpcy5jb25maWcub25QYXJhbVxuICAgICk7XG4gIH1cbn07XG52YXIgbWF0Y2hSb3V0ZSA9ICh1cmwsIHVybExlbmd0aCwgbm9kZSwgc3RhcnRJbmRleCwgb25QYXJhbSkgPT4ge1xuICBjb25zdCBwYXJ0ID0gbm9kZS5wYXJ0O1xuICBjb25zdCBsZW5ndGggPSBwYXJ0Lmxlbmd0aDtcbiAgY29uc3QgZW5kSW5kZXggPSBzdGFydEluZGV4ICsgbGVuZ3RoO1xuICBpZiAobGVuZ3RoID4gMSkge1xuICAgIGlmIChlbmRJbmRleCA+IHVybExlbmd0aClcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChsZW5ndGggPCAxNSkge1xuICAgICAgZm9yIChsZXQgaSA9IDEsIGogPSBzdGFydEluZGV4ICsgMTsgaSA8IGxlbmd0aDsgKytpLCArK2opXG4gICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaSkgIT09IHVybC5jaGFyQ29kZUF0KGopKVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAodXJsLnNsaWNlKHN0YXJ0SW5kZXgsIGVuZEluZGV4KSAhPT0gcGFydClcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChlbmRJbmRleCA9PT0gdXJsTGVuZ3RoKSB7XG4gICAgaWYgKG5vZGUuc3RvcmUgIT09IG51bGwpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdG9yZTogbm9kZS5zdG9yZSxcbiAgICAgICAgcGFyYW1zOiB7fVxuICAgICAgfTtcbiAgICBpZiAobm9kZS53aWxkY2FyZFN0b3JlICE9PSBudWxsKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcmU6IG5vZGUud2lsZGNhcmRTdG9yZSxcbiAgICAgICAgcGFyYW1zOiB7IFwiKlwiOiBcIlwiIH1cbiAgICAgIH07XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKG5vZGUuaW5lcnQgIT09IG51bGwpIHtcbiAgICBjb25zdCBpbmVydCA9IG5vZGUuaW5lcnRbdXJsLmNoYXJDb2RlQXQoZW5kSW5kZXgpXTtcbiAgICBpZiAoaW5lcnQgIT09IHZvaWQgMCkge1xuICAgICAgY29uc3Qgcm91dGUgPSBtYXRjaFJvdXRlKHVybCwgdXJsTGVuZ3RoLCBpbmVydCwgZW5kSW5kZXgsIG9uUGFyYW0pO1xuICAgICAgaWYgKHJvdXRlICE9PSBudWxsKVxuICAgICAgICByZXR1cm4gcm91dGU7XG4gICAgfVxuICB9XG4gIGlmIChub2RlLnBhcmFtcyAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHsgc3RvcmUsIG5hbWUsIGluZXJ0IH0gPSBub2RlLnBhcmFtcztcbiAgICBjb25zdCBzbGFzaEluZGV4ID0gdXJsLmluZGV4T2YoXCIvXCIsIGVuZEluZGV4KTtcbiAgICBpZiAoc2xhc2hJbmRleCAhPT0gZW5kSW5kZXgpIHtcbiAgICAgIGlmIChzbGFzaEluZGV4ID09PSAtMSB8fCBzbGFzaEluZGV4ID49IHVybExlbmd0aCkge1xuICAgICAgICBpZiAoc3RvcmUgIT09IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7fTtcbiAgICAgICAgICBwYXJhbXNbbmFtZV0gPSB1cmwuc3Vic3RyaW5nKGVuZEluZGV4LCB1cmxMZW5ndGgpO1xuICAgICAgICAgIGlmIChvblBhcmFtKVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvblBhcmFtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGxldCB0ZW1wID0gb25QYXJhbVtpXShwYXJhbXNbbmFtZV0sIG5hbWUpO1xuICAgICAgICAgICAgICBpZiAodGVtcCAhPT0gdm9pZCAwKVxuICAgICAgICAgICAgICAgIHBhcmFtc1tuYW1lXSA9IHRlbXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0b3JlLFxuICAgICAgICAgICAgcGFyYW1zXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpbmVydCAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCByb3V0ZSA9IG1hdGNoUm91dGUoXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHVybExlbmd0aCxcbiAgICAgICAgICBpbmVydCxcbiAgICAgICAgICBzbGFzaEluZGV4LFxuICAgICAgICAgIG9uUGFyYW1cbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHJvdXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgcm91dGUucGFyYW1zW25hbWVdID0gdXJsLnN1YnN0cmluZyhlbmRJbmRleCwgc2xhc2hJbmRleCk7XG4gICAgICAgICAgaWYgKG9uUGFyYW0pXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9uUGFyYW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgbGV0IHRlbXAgPSBvblBhcmFtW2ldKHJvdXRlLnBhcmFtc1tuYW1lXSwgbmFtZSk7XG4gICAgICAgICAgICAgIGlmICh0ZW1wICE9PSB2b2lkIDApXG4gICAgICAgICAgICAgICAgcm91dGUucGFyYW1zW25hbWVdID0gdGVtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcm91dGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKG5vZGUud2lsZGNhcmRTdG9yZSAhPT0gbnVsbClcbiAgICByZXR1cm4ge1xuICAgICAgc3RvcmU6IG5vZGUud2lsZGNhcmRTdG9yZSxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBcIipcIjogdXJsLnN1YnN0cmluZyhlbmRJbmRleCwgdXJsTGVuZ3RoKVxuICAgICAgfVxuICAgIH07XG4gIHJldHVybiBudWxsO1xufTtcbnZhciBzcmNfZGVmYXVsdCA9IE1lbW9pcmlzdDtcbmV4cG9ydCB7XG4gIE1lbW9pcmlzdCxcbiAgc3JjX2RlZmF1bHQgYXMgZGVmYXVsdFxufTtcbiIsCiAgICAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFByb3BlcnR5S2V5XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGhhcyB0aGlzIHByb3BlcnR5IGtleSAqL1xuZXhwb3J0IGZ1bmN0aW9uIEhhc1Byb3BlcnR5S2V5KHZhbHVlLCBrZXkpIHtcbiAgICByZXR1cm4ga2V5IGluIHZhbHVlO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE9iamVjdCBJbnN0YW5jZXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYW4gYXN5bmMgaXRlcmF0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0FzeW5jSXRlcmF0b3IodmFsdWUpIHtcbiAgICByZXR1cm4gSXNPYmplY3QodmFsdWUpICYmICFJc0FycmF5KHZhbHVlKSAmJiAhSXNVaW50OEFycmF5KHZhbHVlKSAmJiBTeW1ib2wuYXN5bmNJdGVyYXRvciBpbiB2YWx1ZTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhbiBhcnJheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYmlnaW50ICovXG5leHBvcnQgZnVuY3Rpb24gSXNCaWdJbnQodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnYmlnaW50Jztcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhIGJvb2xlYW4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0Jvb2xlYW4odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbic7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYSBEYXRlIG9iamVjdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzRGF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuRGF0ZTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhIGZ1bmN0aW9uICovXG5leHBvcnQgZnVuY3Rpb24gSXNGdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYW4gaXRlcmF0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0l0ZXJhdG9yKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzT2JqZWN0KHZhbHVlKSAmJiAhSXNBcnJheSh2YWx1ZSkgJiYgIUlzVWludDhBcnJheSh2YWx1ZSkgJiYgU3ltYm9sLml0ZXJhdG9yIGluIHZhbHVlO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIG51bGwgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc051bGwodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgbnVtYmVyICovXG5leHBvcnQgZnVuY3Rpb24gSXNOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJztcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhbiBvYmplY3QgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc09iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIFJlZ0V4cCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzUmVnRXhwKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5SZWdFeHA7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgc3RyaW5nICovXG5leHBvcnQgZnVuY3Rpb24gSXNTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBzeW1ib2wgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1N5bWJvbCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzeW1ib2wnO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIGEgVWludDhBcnJheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVWludDhBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuVWludDhBcnJheTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyB1bmRlZmluZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1VuZGVmaW5lZCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xufVxuIiwKICAgICJpbXBvcnQgKiBhcyBWYWx1ZUd1YXJkIGZyb20gJy4uL2d1YXJkL3ZhbHVlLm1qcyc7XG5mdW5jdGlvbiBBcnJheVR5cGUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUubWFwKCh2YWx1ZSkgPT4gVmlzaXQodmFsdWUpKTtcbn1cbmZ1bmN0aW9uIERhdGVUeXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlLmdldFRpbWUoKSk7XG59XG5mdW5jdGlvbiBVaW50OEFycmF5VHlwZSh2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheSh2YWx1ZSk7XG59XG5mdW5jdGlvbiBSZWdFeHBUeXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAodmFsdWUuc291cmNlLCB2YWx1ZS5mbGFncyk7XG59XG5mdW5jdGlvbiBPYmplY3RUeXBlKHZhbHVlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gVmlzaXQodmFsdWVba2V5XSk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gVmlzaXQodmFsdWVba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFZpc2l0KHZhbHVlKSB7XG4gICAgcmV0dXJuIChWYWx1ZUd1YXJkLklzQXJyYXkodmFsdWUpID8gQXJyYXlUeXBlKHZhbHVlKSA6XG4gICAgICAgIFZhbHVlR3VhcmQuSXNEYXRlKHZhbHVlKSA/IERhdGVUeXBlKHZhbHVlKSA6XG4gICAgICAgICAgICBWYWx1ZUd1YXJkLklzVWludDhBcnJheSh2YWx1ZSkgPyBVaW50OEFycmF5VHlwZSh2YWx1ZSkgOlxuICAgICAgICAgICAgICAgIFZhbHVlR3VhcmQuSXNSZWdFeHAodmFsdWUpID8gUmVnRXhwVHlwZSh2YWx1ZSkgOlxuICAgICAgICAgICAgICAgICAgICBWYWx1ZUd1YXJkLklzT2JqZWN0KHZhbHVlKSA/IE9iamVjdFR5cGUodmFsdWUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlKTtcbn1cbi8qKiBDbG9uZXMgYSB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIENsb25lKHZhbHVlKSB7XG4gICAgcmV0dXJuIFZpc2l0KHZhbHVlKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ2xvbmUgfSBmcm9tICcuL3ZhbHVlLm1qcyc7XG4vKiogQ2xvbmVzIGEgUmVzdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIENsb25lUmVzdChzY2hlbWFzKSB7XG4gICAgcmV0dXJuIHNjaGVtYXMubWFwKChzY2hlbWEpID0+IENsb25lVHlwZShzY2hlbWEpKTtcbn1cbi8qKiBDbG9uZXMgYSBUeXBlICovXG5leHBvcnQgZnVuY3Rpb24gQ2xvbmVUeXBlKHNjaGVtYSwgb3B0aW9ucykge1xuICAgIHJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgPyBDbG9uZShzY2hlbWEpIDogQ2xvbmUoeyAuLi5vcHRpb25zLCAuLi5zY2hlbWEgfSk7XG59XG4iLAogICAgIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBJdGVyYXRvcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYW4gYXN5bmMgaXRlcmF0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0FzeW5jSXRlcmF0b3IodmFsdWUpIHtcbiAgICByZXR1cm4gSXNPYmplY3QodmFsdWUpICYmIGdsb2JhbFRoaXMuU3ltYm9sLmFzeW5jSXRlcmF0b3IgaW4gdmFsdWU7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYW4gaXRlcmF0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0l0ZXJhdG9yKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzT2JqZWN0KHZhbHVlKSAmJiBnbG9iYWxUaGlzLlN5bWJvbC5pdGVyYXRvciBpbiB2YWx1ZTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBPYmplY3QgSW5zdGFuY2VzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBhIGNsYXNzICovXG5leHBvcnQgZnVuY3Rpb24gSXNTdGFuZGFyZE9iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiBJc09iamVjdCh2YWx1ZSkgJiYgKGdsb2JhbFRoaXMuT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKSA9PT0gT2JqZWN0LnByb3RvdHlwZSB8fCBnbG9iYWxUaGlzLk9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSkgPT09IG51bGwpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIGFuIGluc3RhbmNlIG9mIGEgY2xhc3MgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0luc3RhbmNlT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIElzT2JqZWN0KHZhbHVlKSAmJiAhSXNBcnJheSh2YWx1ZSkgJiYgSXNGdW5jdGlvbih2YWx1ZS5jb25zdHJ1Y3RvcikgJiYgdmFsdWUuY29uc3RydWN0b3IubmFtZSAhPT0gJ09iamVjdCc7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSmF2YVNjcmlwdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhIFByb21pc2UgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLlByb21pc2U7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYSBEYXRlICovXG5leHBvcnQgZnVuY3Rpb24gSXNEYXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRGF0ZSAmJiBnbG9iYWxUaGlzLk51bWJlci5pc0Zpbml0ZSh2YWx1ZS5nZXRUaW1lKCkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIGFuIGluc3RhbmNlIG9mIE1hcDxLLCBUPiAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTWFwKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5NYXA7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYW4gaW5zdGFuY2Ugb2YgU2V0PFQ+ICovXG5leHBvcnQgZnVuY3Rpb24gSXNTZXQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLlNldDtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBSZWdFeHAgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1JlZ0V4cCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuUmVnRXhwO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIGEgdHlwZWQgYXJyYXkgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gZ2xvYmFsVGhpcy5BcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBJbnQ4QXJyYXkgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0ludDhBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuSW50OEFycmF5O1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBVaW50OEFycmF5ICovXG5leHBvcnQgZnVuY3Rpb24gSXNVaW50OEFycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5VaW50OEFycmF5O1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBVaW50OENsYW1wZWRBcnJheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVWludDhDbGFtcGVkQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLlVpbnQ4Q2xhbXBlZEFycmF5O1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBJbnQxNkFycmF5ICovXG5leHBvcnQgZnVuY3Rpb24gSXNJbnQxNkFycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5JbnQxNkFycmF5O1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBVaW50MTZBcnJheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVWludDE2QXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLlVpbnQxNkFycmF5O1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBJbnQzMkFycmF5ICovXG5leHBvcnQgZnVuY3Rpb24gSXNJbnQzMkFycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5JbnQzMkFycmF5O1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBVaW50MzJBcnJheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVWludDMyQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLlVpbnQzMkFycmF5O1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBGbG9hdDMyQXJyYXkgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0Zsb2F0MzJBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuRmxvYXQzMkFycmF5O1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBGbG9hdDY0QXJyYXkgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0Zsb2F0NjRBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuRmxvYXQ2NEFycmF5O1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBCaWdJbnQ2NEFycmF5ICovXG5leHBvcnQgZnVuY3Rpb24gSXNCaWdJbnQ2NEFycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5CaWdJbnQ2NEFycmF5O1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBCaWdVaW50NjRBcnJheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQmlnVWludDY0QXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLkJpZ1VpbnQ2NEFycmF5O1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFByb3BlcnR5S2V5XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGhhcyB0aGlzIHByb3BlcnR5IGtleSAqL1xuZXhwb3J0IGZ1bmN0aW9uIEhhc1Byb3BlcnR5S2V5KHZhbHVlLCBrZXkpIHtcbiAgICByZXR1cm4ga2V5IGluIHZhbHVlO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0YW5kYXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIFJldHVybnMgdHJ1ZSBvZiB0aGlzIHZhbHVlIGlzIGFuIG9iamVjdCB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gSXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jztcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhbiBhcnJheSwgYnV0IG5vdCBhIHR5cGVkIGFycmF5ICovXG5leHBvcnQgZnVuY3Rpb24gSXNBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiBnbG9iYWxUaGlzLkFycmF5LmlzQXJyYXkodmFsdWUpICYmICFnbG9iYWxUaGlzLkFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYW4gdW5kZWZpbmVkICovXG5leHBvcnQgZnVuY3Rpb24gSXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZDtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhbiBudWxsICovXG5leHBvcnQgZnVuY3Rpb24gSXNOdWxsKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIGFuIGJvb2xlYW4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0Jvb2xlYW4odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbic7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYW4gbnVtYmVyICovXG5leHBvcnQgZnVuY3Rpb24gSXNOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJztcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhbiBpbnRlZ2VyICovXG5leHBvcnQgZnVuY3Rpb24gSXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgcmV0dXJuIGdsb2JhbFRoaXMuTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYmlnaW50ICovXG5leHBvcnQgZnVuY3Rpb24gSXNCaWdJbnQodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnYmlnaW50Jztcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBzdHJpbmcgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1N0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIGEgZnVuY3Rpb24gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2YWx1ZSBpcyBhIHN5bWJvbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzU3ltYm9sKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N5bWJvbCc7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgYSB2YWx1ZSB0eXBlIHN1Y2ggYXMgbnVtYmVyLCBzdHJpbmcsIGJvb2xlYW4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1ZhbHVlVHlwZSh2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNCaWdJbnQodmFsdWUpIHx8XG4gICAgICAgIElzQm9vbGVhbih2YWx1ZSkgfHxcbiAgICAgICAgSXNOdWxsKHZhbHVlKSB8fFxuICAgICAgICBJc051bWJlcih2YWx1ZSkgfHxcbiAgICAgICAgSXNTdHJpbmcodmFsdWUpIHx8XG4gICAgICAgIElzU3ltYm9sKHZhbHVlKSB8fFxuICAgICAgICBJc1VuZGVmaW5lZCh2YWx1ZSkpO1xufVxuIiwKICAgICJpbXBvcnQgeyBJc09iamVjdCwgSXNBcnJheSwgSXNOdW1iZXIsIElzVW5kZWZpbmVkIH0gZnJvbSAnLi4vdmFsdWUvZ3VhcmQvaW5kZXgubWpzJztcbmV4cG9ydCB2YXIgVHlwZVN5c3RlbVBvbGljeTtcbihmdW5jdGlvbiAoVHlwZVN5c3RlbVBvbGljeSkge1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFR5cGVTeXN0ZW1Qb2xpY3k6IEluc3RhbmNpbmdcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmVzIHRoZSBpbnN0YW50aWF0aW9uIGJlaGF2aW9yIG9mIFR5cGVCb3ggdHlwZXMuIFRoZSBgZGVmYXVsdGAgb3B0aW9uIGFzc2lnbnMgcmF3IEphdmFTY3JpcHRcbiAgICAgKiByZWZlcmVuY2VzIGZvciBlbWJlZGRlZCB0eXBlcywgd2hpY2ggbWF5IGNhdXNlIHNpZGUgZWZmZWN0cyBpZiB0eXBlIHByb3BlcnRpZXMgYXJlIGV4cGxpY2l0bHkgdXBkYXRlZFxuICAgICAqIG91dHNpZGUgdGhlIFR5cGVCb3ggdHlwZSBidWlsZGVyLiBUaGUgYGNsb25lYCBvcHRpb24gY3JlYXRlcyBjb3BpZXMgb2YgYW55IHNoYXJlZCB0eXBlcyB1cG9uIGNyZWF0aW9uLFxuICAgICAqIHByZXZlbnRpbmcgdW5pbnRlbmRlZCBzaWRlIGVmZmVjdHMuIFRoZSBgZnJlZXplYCBvcHRpb24gYXBwbGllcyBgT2JqZWN0LmZyZWV6ZSgpYCB0byB0aGUgdHlwZSwgbWFraW5nXG4gICAgICogaXQgZnVsbHkgcmVhZG9ubHkgYW5kIGltbXV0YWJsZS4gSW1wbGVtZW50YXRpb25zIHNob3VsZCB1c2UgYGRlZmF1bHRgIHdoZW5ldmVyIHBvc3NpYmxlLCBhcyBpdCBpcyB0aGVcbiAgICAgKiBmYXN0ZXN0IHdheSB0byBpbnN0YW50aWF0ZSB0eXBlcy4gVGhlIGRlZmF1bHQgc2V0dGluZyBpcyBgZGVmYXVsdGAuXG4gICAgICovXG4gICAgVHlwZVN5c3RlbVBvbGljeS5JbnN0YW5jZU1vZGUgPSAnZGVmYXVsdCc7XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gVHlwZVN5c3RlbVBvbGljeTogQ2hlY2tpbmdcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKiogU2V0cyB3aGV0aGVyIFR5cGVCb3ggc2hvdWxkIGFzc2VydCBvcHRpb25hbCBwcm9wZXJ0aWVzIHVzaW5nIHRoZSBUeXBlU2NyaXB0IGBleGFjdE9wdGlvbmFsUHJvcGVydHlUeXBlc2AgYXNzZXJ0aW9uIHBvbGljeS4gVGhlIGRlZmF1bHQgaXMgYGZhbHNlYCAqL1xuICAgIFR5cGVTeXN0ZW1Qb2xpY3kuRXhhY3RPcHRpb25hbFByb3BlcnR5VHlwZXMgPSBmYWxzZTtcbiAgICAvKiogU2V0cyB3aGV0aGVyIGFycmF5cyBzaG91bGQgYmUgdHJlYXRlZCBhcyBhIGtpbmQgb2Ygb2JqZWN0cy4gVGhlIGRlZmF1bHQgaXMgYGZhbHNlYCAqL1xuICAgIFR5cGVTeXN0ZW1Qb2xpY3kuQWxsb3dBcnJheU9iamVjdCA9IGZhbHNlO1xuICAgIC8qKiBTZXRzIHdoZXRoZXIgYE5hTmAgb3IgYEluZmluaXR5YCBzaG91bGQgYmUgdHJlYXRlZCBhcyB2YWxpZCBudW1lcmljIHZhbHVlcy4gVGhlIGRlZmF1bHQgaXMgYGZhbHNlYCAqL1xuICAgIFR5cGVTeXN0ZW1Qb2xpY3kuQWxsb3dOYU4gPSBmYWxzZTtcbiAgICAvKiogU2V0cyB3aGV0aGVyIGBudWxsYCBzaG91bGQgdmFsaWRhdGUgZm9yIHZvaWQgdHlwZXMuIFRoZSBkZWZhdWx0IGlzIGBmYWxzZWAgKi9cbiAgICBUeXBlU3lzdGVtUG9saWN5LkFsbG93TnVsbFZvaWQgPSBmYWxzZTtcbiAgICAvKiogQ2hlY2tzIHRoaXMgdmFsdWUgdXNpbmcgdGhlIEV4YWN0T3B0aW9uYWxQcm9wZXJ0eVR5cGVzIHBvbGljeSAqL1xuICAgIGZ1bmN0aW9uIElzRXhhY3RPcHRpb25hbFByb3BlcnR5KHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIFR5cGVTeXN0ZW1Qb2xpY3kuRXhhY3RPcHRpb25hbFByb3BlcnR5VHlwZXMgPyBrZXkgaW4gdmFsdWUgOiB2YWx1ZVtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIFR5cGVTeXN0ZW1Qb2xpY3kuSXNFeGFjdE9wdGlvbmFsUHJvcGVydHkgPSBJc0V4YWN0T3B0aW9uYWxQcm9wZXJ0eTtcbiAgICAvKiogQ2hlY2tzIHRoaXMgdmFsdWUgdXNpbmcgdGhlIEFsbG93QXJyYXlPYmplY3RzIHBvbGljeSAqL1xuICAgIGZ1bmN0aW9uIElzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBpc09iamVjdCA9IElzT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIFR5cGVTeXN0ZW1Qb2xpY3kuQWxsb3dBcnJheU9iamVjdCA/IGlzT2JqZWN0IDogaXNPYmplY3QgJiYgIUlzQXJyYXkodmFsdWUpO1xuICAgIH1cbiAgICBUeXBlU3lzdGVtUG9saWN5LklzT2JqZWN0TGlrZSA9IElzT2JqZWN0TGlrZTtcbiAgICAvKiogQ2hlY2tzIHRoaXMgdmFsdWUgYXMgYSByZWNvcmQgdXNpbmcgdGhlIEFsbG93QXJyYXlPYmplY3RzIHBvbGljeSAqL1xuICAgIGZ1bmN0aW9uIElzUmVjb3JkTGlrZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gSXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpO1xuICAgIH1cbiAgICBUeXBlU3lzdGVtUG9saWN5LklzUmVjb3JkTGlrZSA9IElzUmVjb3JkTGlrZTtcbiAgICAvKiogQ2hlY2tzIHRoaXMgdmFsdWUgdXNpbmcgdGhlIEFsbG93TmFOIHBvbGljeSAqL1xuICAgIGZ1bmN0aW9uIElzTnVtYmVyTGlrZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gVHlwZVN5c3RlbVBvbGljeS5BbGxvd05hTiA/IElzTnVtYmVyKHZhbHVlKSA6IE51bWJlci5pc0Zpbml0ZSh2YWx1ZSk7XG4gICAgfVxuICAgIFR5cGVTeXN0ZW1Qb2xpY3kuSXNOdW1iZXJMaWtlID0gSXNOdW1iZXJMaWtlO1xuICAgIC8qKiBDaGVja3MgdGhpcyB2YWx1ZSB1c2luZyB0aGUgQWxsb3dWb2lkTnVsbCBwb2xpY3kgKi9cbiAgICBmdW5jdGlvbiBJc1ZvaWRMaWtlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGlzVW5kZWZpbmVkID0gSXNVbmRlZmluZWQodmFsdWUpO1xuICAgICAgICByZXR1cm4gVHlwZVN5c3RlbVBvbGljeS5BbGxvd051bGxWb2lkID8gaXNVbmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwgOiBpc1VuZGVmaW5lZDtcbiAgICB9XG4gICAgVHlwZVN5c3RlbVBvbGljeS5Jc1ZvaWRMaWtlID0gSXNWb2lkTGlrZTtcbn0pKFR5cGVTeXN0ZW1Qb2xpY3kgfHwgKFR5cGVTeXN0ZW1Qb2xpY3kgPSB7fSkpO1xuIiwKICAgICJpbXBvcnQgKiBhcyBWYWx1ZUd1YXJkIGZyb20gJy4uL2d1YXJkL3ZhbHVlLm1qcyc7XG5mdW5jdGlvbiBJbW11dGFibGVBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiBnbG9iYWxUaGlzLk9iamVjdC5mcmVlemUodmFsdWUpLm1hcCgodmFsdWUpID0+IEltbXV0YWJsZSh2YWx1ZSkpO1xufVxuZnVuY3Rpb24gSW1tdXRhYmxlRGF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIEltbXV0YWJsZVVpbnQ4QXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBJbW11dGFibGVSZWdFeHAodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBJbW11dGFibGVPYmplY3QodmFsdWUpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBJbW11dGFibGUodmFsdWVba2V5XSk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gSW1tdXRhYmxlKHZhbHVlW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gZ2xvYmFsVGhpcy5PYmplY3QuZnJlZXplKHJlc3VsdCk7XG59XG4vKiogU3BlY2lhbGl6ZWQgZGVlcCBpbW11dGFibGUgdmFsdWUuIEFwcGxpZXMgZnJlZXplIHJlY3Vyc2l2ZWx5IHRvIHRoZSBnaXZlbiB2YWx1ZSAqL1xuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gSW1tdXRhYmxlKHZhbHVlKSB7XG4gICAgcmV0dXJuIChWYWx1ZUd1YXJkLklzQXJyYXkodmFsdWUpID8gSW1tdXRhYmxlQXJyYXkodmFsdWUpIDpcbiAgICAgICAgVmFsdWVHdWFyZC5Jc0RhdGUodmFsdWUpID8gSW1tdXRhYmxlRGF0ZSh2YWx1ZSkgOlxuICAgICAgICAgICAgVmFsdWVHdWFyZC5Jc1VpbnQ4QXJyYXkodmFsdWUpID8gSW1tdXRhYmxlVWludDhBcnJheSh2YWx1ZSkgOlxuICAgICAgICAgICAgICAgIFZhbHVlR3VhcmQuSXNSZWdFeHAodmFsdWUpID8gSW1tdXRhYmxlUmVnRXhwKHZhbHVlKSA6XG4gICAgICAgICAgICAgICAgICAgIFZhbHVlR3VhcmQuSXNPYmplY3QodmFsdWUpID8gSW1tdXRhYmxlT2JqZWN0KHZhbHVlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSk7XG59XG4iLAogICAgImltcG9ydCB7IFR5cGVTeXN0ZW1Qb2xpY3kgfSBmcm9tICcuLi8uLi9zeXN0ZW0vcG9saWN5Lm1qcyc7XG5pbXBvcnQgeyBJbW11dGFibGUgfSBmcm9tICcuL2ltbXV0YWJsZS5tanMnO1xuaW1wb3J0IHsgQ2xvbmUgfSBmcm9tICcuLi9jbG9uZS92YWx1ZS5tanMnO1xuLyoqIENyZWF0ZXMgVHlwZUJveCBzY2hlbWF0aWNzIHVzaW5nIHRoZSBjb25maWd1cmVkIEluc3RhbmNlTW9kZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZVR5cGUoc2NoZW1hLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gb3B0aW9ucyAhPT0gdW5kZWZpbmVkID8geyAuLi5vcHRpb25zLCAuLi5zY2hlbWEgfSA6IHNjaGVtYTtcbiAgICBzd2l0Y2ggKFR5cGVTeXN0ZW1Qb2xpY3kuSW5zdGFuY2VNb2RlKSB7XG4gICAgICAgIGNhc2UgJ2ZyZWV6ZSc6XG4gICAgICAgICAgICByZXR1cm4gSW1tdXRhYmxlKHJlc3VsdCk7XG4gICAgICAgIGNhc2UgJ2Nsb25lJzpcbiAgICAgICAgICAgIHJldHVybiBDbG9uZShyZXN1bHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4iLAogICAgIi8qKiBUaGUgYmFzZSBFcnJvciB0eXBlIHRocm93biBmb3IgYWxsIFR5cGVCb3ggZXhjZXB0aW9ucyAgKi9cbmV4cG9ydCBjbGFzcyBUeXBlQm94RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB9XG59XG4iLAogICAgIi8qKiBTeW1ib2wga2V5IGFwcGxpZWQgdG8gdHJhbnNmb3JtIHR5cGVzICovXG5leHBvcnQgY29uc3QgVHJhbnNmb3JtS2luZCA9IFN5bWJvbC5mb3IoJ1R5cGVCb3guVHJhbnNmb3JtJyk7XG4vKiogU3ltYm9sIGtleSBhcHBsaWVkIHRvIHJlYWRvbmx5IHR5cGVzICovXG5leHBvcnQgY29uc3QgUmVhZG9ubHlLaW5kID0gU3ltYm9sLmZvcignVHlwZUJveC5SZWFkb25seScpO1xuLyoqIFN5bWJvbCBrZXkgYXBwbGllZCB0byBvcHRpb25hbCB0eXBlcyAqL1xuZXhwb3J0IGNvbnN0IE9wdGlvbmFsS2luZCA9IFN5bWJvbC5mb3IoJ1R5cGVCb3guT3B0aW9uYWwnKTtcbi8qKiBTeW1ib2wga2V5IGFwcGxpZWQgdG8gdHlwZXMgKi9cbmV4cG9ydCBjb25zdCBIaW50ID0gU3ltYm9sLmZvcignVHlwZUJveC5IaW50Jyk7XG4vKiogU3ltYm9sIGtleSBhcHBsaWVkIHRvIHR5cGVzICovXG5leHBvcnQgY29uc3QgS2luZCA9IFN5bWJvbC5mb3IoJ1R5cGVCb3guS2luZCcpO1xuIiwKICAgICJpbXBvcnQgKiBhcyBWYWx1ZUd1YXJkIGZyb20gJy4vdmFsdWUubWpzJztcbmltcG9ydCB7IEtpbmQsIEhpbnQsIFRyYW5zZm9ybUtpbmQsIFJlYWRvbmx5S2luZCwgT3B0aW9uYWxLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaGFzIGEgUmVhZG9ubHkgc3ltYm9sICovXG5leHBvcnQgZnVuY3Rpb24gSXNSZWFkb25seSh2YWx1ZSkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzT2JqZWN0KHZhbHVlKSAmJiB2YWx1ZVtSZWFkb25seUtpbmRdID09PSAnUmVhZG9ubHknO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaGFzIGEgT3B0aW9uYWwgc3ltYm9sICovXG5leHBvcnQgZnVuY3Rpb24gSXNPcHRpb25hbCh2YWx1ZSkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzT2JqZWN0KHZhbHVlKSAmJiB2YWx1ZVtPcHRpb25hbEtpbmRdID09PSAnT3B0aW9uYWwnO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUQW55ICovXG5leHBvcnQgZnVuY3Rpb24gSXNBbnkodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdBbnknKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEFyZ3VtZW50ICovXG5leHBvcnQgZnVuY3Rpb24gSXNBcmd1bWVudCh2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ0FyZ3VtZW50Jyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRBcnJheSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdBcnJheScpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUQXN5bmNJdGVyYXRvciAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQXN5bmNJdGVyYXRvcih2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ0FzeW5jSXRlcmF0b3InKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEJpZ0ludCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQmlnSW50KHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnQmlnSW50Jyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRCb29sZWFuICovXG5leHBvcnQgZnVuY3Rpb24gSXNCb29sZWFuKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnQm9vbGVhbicpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUQ29tcHV0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0NvbXB1dGVkKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnQ29tcHV0ZWQnKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVENvbnN0cnVjdG9yICovXG5leHBvcnQgZnVuY3Rpb24gSXNDb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ0NvbnN0cnVjdG9yJyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFREYXRlICovXG5leHBvcnQgZnVuY3Rpb24gSXNEYXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnRGF0ZScpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBURnVuY3Rpb24gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnRnVuY3Rpb24nKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEludGVnZXIgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0ltcG9ydCh2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ0ltcG9ydCcpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUSW50ZWdlciAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzSW50ZWdlcih2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ0ludGVnZXInKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gc2NoZW1hIGlzIFRQcm9wZXJ0aWVzICovXG5leHBvcnQgZnVuY3Rpb24gSXNQcm9wZXJ0aWVzKHZhbHVlKSB7XG4gICAgcmV0dXJuIFZhbHVlR3VhcmQuSXNPYmplY3QodmFsdWUpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUSW50ZXJzZWN0ICovXG5leHBvcnQgZnVuY3Rpb24gSXNJbnRlcnNlY3QodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdJbnRlcnNlY3QnKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEl0ZXJhdG9yICovXG5leHBvcnQgZnVuY3Rpb24gSXNJdGVyYXRvcih2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ0l0ZXJhdG9yJyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgVEtpbmQgd2l0aCB0aGUgZ2l2ZW4gbmFtZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0tpbmRPZih2YWx1ZSwga2luZCkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzT2JqZWN0KHZhbHVlKSAmJiBLaW5kIGluIHZhbHVlICYmIHZhbHVlW0tpbmRdID09PSBraW5kO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUTGl0ZXJhbDxzdHJpbmc+ICovXG5leHBvcnQgZnVuY3Rpb24gSXNMaXRlcmFsU3RyaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzTGl0ZXJhbCh2YWx1ZSkgJiYgVmFsdWVHdWFyZC5Jc1N0cmluZyh2YWx1ZS5jb25zdCk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRMaXRlcmFsPG51bWJlcj4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0xpdGVyYWxOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gSXNMaXRlcmFsKHZhbHVlKSAmJiBWYWx1ZUd1YXJkLklzTnVtYmVyKHZhbHVlLmNvbnN0KTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVExpdGVyYWw8Ym9vbGVhbj4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0xpdGVyYWxCb29sZWFuKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzTGl0ZXJhbCh2YWx1ZSkgJiYgVmFsdWVHdWFyZC5Jc0Jvb2xlYW4odmFsdWUuY29uc3QpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUTGl0ZXJhbFZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gSXNMaXRlcmFsVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gVmFsdWVHdWFyZC5Jc0Jvb2xlYW4odmFsdWUpIHx8IFZhbHVlR3VhcmQuSXNOdW1iZXIodmFsdWUpIHx8IFZhbHVlR3VhcmQuSXNTdHJpbmcodmFsdWUpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUTGl0ZXJhbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTGl0ZXJhbCh2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ0xpdGVyYWwnKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBUTWFwcGVkS2V5ICovXG5leHBvcnQgZnVuY3Rpb24gSXNNYXBwZWRLZXkodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdNYXBwZWRLZXknKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVE1hcHBlZFJlc3VsdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTWFwcGVkUmVzdWx0KHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnTWFwcGVkUmVzdWx0Jyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFROZXZlciAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTmV2ZXIodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdOZXZlcicpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUTm90ICovXG5leHBvcnQgZnVuY3Rpb24gSXNOb3QodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdOb3QnKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVE51bGwgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc051bGwodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdOdWxsJyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFROdW1iZXIgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc051bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ051bWJlcicpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUT2JqZWN0ICovXG5leHBvcnQgZnVuY3Rpb24gSXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdPYmplY3QnKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVFByb21pc2UgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdQcm9taXNlJyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRSZWNvcmQgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1JlY29yZCh2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ1JlY29yZCcpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaXMgVFJlY3Vyc2l2ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzUmVjdXJzaXZlKHZhbHVlKSB7XG4gICAgcmV0dXJuIFZhbHVlR3VhcmQuSXNPYmplY3QodmFsdWUpICYmIEhpbnQgaW4gdmFsdWUgJiYgdmFsdWVbSGludF0gPT09ICdSZWN1cnNpdmUnO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUUmVmICovXG5leHBvcnQgZnVuY3Rpb24gSXNSZWYodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdSZWYnKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVFJlZ0V4cCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzUmVnRXhwKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnUmVnRXhwJyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRTdHJpbmcgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1N0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ1N0cmluZycpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUU3ltYm9sICovXG5leHBvcnQgZnVuY3Rpb24gSXNTeW1ib2wodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdTeW1ib2wnKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVFRlbXBsYXRlTGl0ZXJhbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVGVtcGxhdGVMaXRlcmFsKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnVGVtcGxhdGVMaXRlcmFsJyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRUaGlzICovXG5leHBvcnQgZnVuY3Rpb24gSXNUaGlzKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnVGhpcycpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIG9mIHRoaXMgdmFsdWUgaXMgVFRyYW5zZm9ybSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVHJhbnNmb3JtKHZhbHVlKSB7XG4gICAgcmV0dXJuIFZhbHVlR3VhcmQuSXNPYmplY3QodmFsdWUpICYmIFRyYW5zZm9ybUtpbmQgaW4gdmFsdWU7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRUdXBsZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVHVwbGUodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdUdXBsZScpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUVW5kZWZpbmVkICovXG5leHBvcnQgZnVuY3Rpb24gSXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICByZXR1cm4gSXNLaW5kT2YodmFsdWUsICdVbmRlZmluZWQnKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVFVuaW9uICovXG5leHBvcnQgZnVuY3Rpb24gSXNVbmlvbih2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ1VuaW9uJyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRVaW50OEFycmF5ICovXG5leHBvcnQgZnVuY3Rpb24gSXNVaW50OEFycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnVWludDhBcnJheScpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUVW5rbm93biAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVW5rbm93bih2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ1Vua25vd24nKTtcbn1cbi8qKiBgW0tpbmQtT25seV1gIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSByYXcgVFVuc2FmZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVW5zYWZlKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnVW5zYWZlJyk7XG59XG4vKiogYFtLaW5kLU9ubHldYCBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRWb2lkICovXG5leHBvcnQgZnVuY3Rpb24gSXNWb2lkKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzS2luZE9mKHZhbHVlLCAnVm9pZCcpO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUS2luZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzS2luZCh2YWx1ZSkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzT2JqZWN0KHZhbHVlKSAmJiBLaW5kIGluIHZhbHVlICYmIFZhbHVlR3VhcmQuSXNTdHJpbmcodmFsdWVbS2luZF0pO1xufVxuLyoqIGBbS2luZC1Pbmx5XWAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUU2NoZW1hICovXG5leHBvcnQgZnVuY3Rpb24gSXNTY2hlbWEodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzQW55KHZhbHVlKSB8fFxuICAgICAgICBJc0FyZ3VtZW50KHZhbHVlKSB8fFxuICAgICAgICBJc0FycmF5KHZhbHVlKSB8fFxuICAgICAgICBJc0Jvb2xlYW4odmFsdWUpIHx8XG4gICAgICAgIElzQmlnSW50KHZhbHVlKSB8fFxuICAgICAgICBJc0FzeW5jSXRlcmF0b3IodmFsdWUpIHx8XG4gICAgICAgIElzQ29tcHV0ZWQodmFsdWUpIHx8XG4gICAgICAgIElzQ29uc3RydWN0b3IodmFsdWUpIHx8XG4gICAgICAgIElzRGF0ZSh2YWx1ZSkgfHxcbiAgICAgICAgSXNGdW5jdGlvbih2YWx1ZSkgfHxcbiAgICAgICAgSXNJbnRlZ2VyKHZhbHVlKSB8fFxuICAgICAgICBJc0ludGVyc2VjdCh2YWx1ZSkgfHxcbiAgICAgICAgSXNJdGVyYXRvcih2YWx1ZSkgfHxcbiAgICAgICAgSXNMaXRlcmFsKHZhbHVlKSB8fFxuICAgICAgICBJc01hcHBlZEtleSh2YWx1ZSkgfHxcbiAgICAgICAgSXNNYXBwZWRSZXN1bHQodmFsdWUpIHx8XG4gICAgICAgIElzTmV2ZXIodmFsdWUpIHx8XG4gICAgICAgIElzTm90KHZhbHVlKSB8fFxuICAgICAgICBJc051bGwodmFsdWUpIHx8XG4gICAgICAgIElzTnVtYmVyKHZhbHVlKSB8fFxuICAgICAgICBJc09iamVjdCh2YWx1ZSkgfHxcbiAgICAgICAgSXNQcm9taXNlKHZhbHVlKSB8fFxuICAgICAgICBJc1JlY29yZCh2YWx1ZSkgfHxcbiAgICAgICAgSXNSZWYodmFsdWUpIHx8XG4gICAgICAgIElzUmVnRXhwKHZhbHVlKSB8fFxuICAgICAgICBJc1N0cmluZyh2YWx1ZSkgfHxcbiAgICAgICAgSXNTeW1ib2wodmFsdWUpIHx8XG4gICAgICAgIElzVGVtcGxhdGVMaXRlcmFsKHZhbHVlKSB8fFxuICAgICAgICBJc1RoaXModmFsdWUpIHx8XG4gICAgICAgIElzVHVwbGUodmFsdWUpIHx8XG4gICAgICAgIElzVW5kZWZpbmVkKHZhbHVlKSB8fFxuICAgICAgICBJc1VuaW9uKHZhbHVlKSB8fFxuICAgICAgICBJc1VpbnQ4QXJyYXkodmFsdWUpIHx8XG4gICAgICAgIElzVW5rbm93bih2YWx1ZSkgfHxcbiAgICAgICAgSXNVbnNhZmUodmFsdWUpIHx8XG4gICAgICAgIElzVm9pZCh2YWx1ZSkgfHxcbiAgICAgICAgSXNLaW5kKHZhbHVlKSk7XG59XG4iLAogICAgImltcG9ydCAqIGFzIFZhbHVlR3VhcmQgZnJvbSAnLi92YWx1ZS5tanMnO1xuaW1wb3J0IHsgS2luZCwgSGludCwgVHJhbnNmb3JtS2luZCwgUmVhZG9ubHlLaW5kLCBPcHRpb25hbEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUeXBlQm94RXJyb3IgfSBmcm9tICcuLi9lcnJvci9pbmRleC5tanMnO1xuZXhwb3J0IGNsYXNzIFR5cGVHdWFyZFVua25vd25UeXBlRXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xufVxuY29uc3QgS25vd25UeXBlcyA9IFtcbiAgICAnQXJndW1lbnQnLFxuICAgICdBbnknLFxuICAgICdBcnJheScsXG4gICAgJ0FzeW5jSXRlcmF0b3InLFxuICAgICdCaWdJbnQnLFxuICAgICdCb29sZWFuJyxcbiAgICAnQ29tcHV0ZWQnLFxuICAgICdDb25zdHJ1Y3RvcicsXG4gICAgJ0RhdGUnLFxuICAgICdFbnVtJyxcbiAgICAnRnVuY3Rpb24nLFxuICAgICdJbnRlZ2VyJyxcbiAgICAnSW50ZXJzZWN0JyxcbiAgICAnSXRlcmF0b3InLFxuICAgICdMaXRlcmFsJyxcbiAgICAnTWFwcGVkS2V5JyxcbiAgICAnTWFwcGVkUmVzdWx0JyxcbiAgICAnTm90JyxcbiAgICAnTnVsbCcsXG4gICAgJ051bWJlcicsXG4gICAgJ09iamVjdCcsXG4gICAgJ1Byb21pc2UnLFxuICAgICdSZWNvcmQnLFxuICAgICdSZWYnLFxuICAgICdSZWdFeHAnLFxuICAgICdTdHJpbmcnLFxuICAgICdTeW1ib2wnLFxuICAgICdUZW1wbGF0ZUxpdGVyYWwnLFxuICAgICdUaGlzJyxcbiAgICAnVHVwbGUnLFxuICAgICdVbmRlZmluZWQnLFxuICAgICdVbmlvbicsXG4gICAgJ1VpbnQ4QXJyYXknLFxuICAgICdVbmtub3duJyxcbiAgICAnVm9pZCcsXG5dO1xuZnVuY3Rpb24gSXNQYXR0ZXJuKHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbmV3IFJlZ0V4cCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBJc0NvbnRyb2xDaGFyYWN0ZXJGcmVlKHZhbHVlKSB7XG4gICAgaWYgKCFWYWx1ZUd1YXJkLklzU3RyaW5nKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY29kZSA9IHZhbHVlLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmICgoY29kZSA+PSA3ICYmIGNvZGUgPD0gMTMpIHx8IGNvZGUgPT09IDI3IHx8IGNvZGUgPT09IDEyNykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gSXNBZGRpdGlvbmFsUHJvcGVydGllcyh2YWx1ZSkge1xuICAgIHJldHVybiBJc09wdGlvbmFsQm9vbGVhbih2YWx1ZSkgfHwgSXNTY2hlbWEodmFsdWUpO1xufVxuZnVuY3Rpb24gSXNPcHRpb25hbEJpZ0ludCh2YWx1ZSkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzVW5kZWZpbmVkKHZhbHVlKSB8fCBWYWx1ZUd1YXJkLklzQmlnSW50KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIElzT3B0aW9uYWxOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gVmFsdWVHdWFyZC5Jc1VuZGVmaW5lZCh2YWx1ZSkgfHwgVmFsdWVHdWFyZC5Jc051bWJlcih2YWx1ZSk7XG59XG5mdW5jdGlvbiBJc09wdGlvbmFsQm9vbGVhbih2YWx1ZSkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzVW5kZWZpbmVkKHZhbHVlKSB8fCBWYWx1ZUd1YXJkLklzQm9vbGVhbih2YWx1ZSk7XG59XG5mdW5jdGlvbiBJc09wdGlvbmFsU3RyaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIFZhbHVlR3VhcmQuSXNVbmRlZmluZWQodmFsdWUpIHx8IFZhbHVlR3VhcmQuSXNTdHJpbmcodmFsdWUpO1xufVxuZnVuY3Rpb24gSXNPcHRpb25hbFBhdHRlcm4odmFsdWUpIHtcbiAgICByZXR1cm4gVmFsdWVHdWFyZC5Jc1VuZGVmaW5lZCh2YWx1ZSkgfHwgKFZhbHVlR3VhcmQuSXNTdHJpbmcodmFsdWUpICYmIElzQ29udHJvbENoYXJhY3RlckZyZWUodmFsdWUpICYmIElzUGF0dGVybih2YWx1ZSkpO1xufVxuZnVuY3Rpb24gSXNPcHRpb25hbEZvcm1hdCh2YWx1ZSkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzVW5kZWZpbmVkKHZhbHVlKSB8fCAoVmFsdWVHdWFyZC5Jc1N0cmluZyh2YWx1ZSkgJiYgSXNDb250cm9sQ2hhcmFjdGVyRnJlZSh2YWx1ZSkpO1xufVxuZnVuY3Rpb24gSXNPcHRpb25hbFNjaGVtYSh2YWx1ZSkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzVW5kZWZpbmVkKHZhbHVlKSB8fCBJc1NjaGVtYSh2YWx1ZSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE1vZGlmaWVyc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKiogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmFsdWUgaGFzIGEgUmVhZG9ubHkgc3ltYm9sICovXG5leHBvcnQgZnVuY3Rpb24gSXNSZWFkb25seSh2YWx1ZSkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzT2JqZWN0KHZhbHVlKSAmJiB2YWx1ZVtSZWFkb25seUtpbmRdID09PSAnUmVhZG9ubHknO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGhhcyBhIE9wdGlvbmFsIHN5bWJvbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzT3B0aW9uYWwodmFsdWUpIHtcbiAgICByZXR1cm4gVmFsdWVHdWFyZC5Jc09iamVjdCh2YWx1ZSkgJiYgdmFsdWVbT3B0aW9uYWxLaW5kXSA9PT0gJ09wdGlvbmFsJztcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEFueSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQW55KHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ0FueScpICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUQXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0FyZ3VtZW50KHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ0FyZ3VtZW50JykgJiZcbiAgICAgICAgVmFsdWVHdWFyZC5Jc051bWJlcih2YWx1ZS5pbmRleCkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEFycmF5ICovXG5leHBvcnQgZnVuY3Rpb24gSXNBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdBcnJheScpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdhcnJheScgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpICYmXG4gICAgICAgIElzU2NoZW1hKHZhbHVlLml0ZW1zKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLm1pbkl0ZW1zKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLm1heEl0ZW1zKSAmJlxuICAgICAgICBJc09wdGlvbmFsQm9vbGVhbih2YWx1ZS51bmlxdWVJdGVtcykgJiZcbiAgICAgICAgSXNPcHRpb25hbFNjaGVtYSh2YWx1ZS5jb250YWlucykgJiZcbiAgICAgICAgSXNPcHRpb25hbE51bWJlcih2YWx1ZS5taW5Db250YWlucykgJiZcbiAgICAgICAgSXNPcHRpb25hbE51bWJlcih2YWx1ZS5tYXhDb250YWlucykpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEFzeW5jSXRlcmF0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0FzeW5jSXRlcmF0b3IodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnQXN5bmNJdGVyYXRvcicpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdBc3luY0l0ZXJhdG9yJyAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkgJiZcbiAgICAgICAgSXNTY2hlbWEodmFsdWUuaXRlbXMpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRCaWdJbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0JpZ0ludCh2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdCaWdJbnQnKSAmJlxuICAgICAgICB2YWx1ZS50eXBlID09PSAnYmlnaW50JyAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkgJiZcbiAgICAgICAgSXNPcHRpb25hbEJpZ0ludCh2YWx1ZS5leGNsdXNpdmVNYXhpbXVtKSAmJlxuICAgICAgICBJc09wdGlvbmFsQmlnSW50KHZhbHVlLmV4Y2x1c2l2ZU1pbmltdW0pICYmXG4gICAgICAgIElzT3B0aW9uYWxCaWdJbnQodmFsdWUubWF4aW11bSkgJiZcbiAgICAgICAgSXNPcHRpb25hbEJpZ0ludCh2YWx1ZS5taW5pbXVtKSAmJlxuICAgICAgICBJc09wdGlvbmFsQmlnSW50KHZhbHVlLm11bHRpcGxlT2YpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRCb29sZWFuICovXG5leHBvcnQgZnVuY3Rpb24gSXNCb29sZWFuKHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ0Jvb2xlYW4nKSAmJlxuICAgICAgICB2YWx1ZS50eXBlID09PSAnYm9vbGVhbicgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRDb21wdXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzQ29tcHV0ZWQodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnQ29tcHV0ZWQnKSAmJlxuICAgICAgICBWYWx1ZUd1YXJkLklzU3RyaW5nKHZhbHVlLnRhcmdldCkgJiZcbiAgICAgICAgVmFsdWVHdWFyZC5Jc0FycmF5KHZhbHVlLnBhcmFtZXRlcnMpICYmXG4gICAgICAgIHZhbHVlLnBhcmFtZXRlcnMuZXZlcnkoKHNjaGVtYSkgPT4gSXNTY2hlbWEoc2NoZW1hKSkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVENvbnN0cnVjdG9yICovXG5leHBvcnQgZnVuY3Rpb24gSXNDb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdDb25zdHJ1Y3RvcicpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdDb25zdHJ1Y3RvcicgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpICYmXG4gICAgICAgIFZhbHVlR3VhcmQuSXNBcnJheSh2YWx1ZS5wYXJhbWV0ZXJzKSAmJlxuICAgICAgICB2YWx1ZS5wYXJhbWV0ZXJzLmV2ZXJ5KHNjaGVtYSA9PiBJc1NjaGVtYShzY2hlbWEpKSAmJlxuICAgICAgICBJc1NjaGVtYSh2YWx1ZS5yZXR1cm5zKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBURGF0ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzRGF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdEYXRlJykgJiZcbiAgICAgICAgdmFsdWUudHlwZSA9PT0gJ0RhdGUnICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLmV4Y2x1c2l2ZU1heGltdW1UaW1lc3RhbXApICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUuZXhjbHVzaXZlTWluaW11bVRpbWVzdGFtcCkgJiZcbiAgICAgICAgSXNPcHRpb25hbE51bWJlcih2YWx1ZS5tYXhpbXVtVGltZXN0YW1wKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLm1pbmltdW1UaW1lc3RhbXApICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUubXVsdGlwbGVPZlRpbWVzdGFtcCkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEZ1bmN0aW9uICovXG5leHBvcnQgZnVuY3Rpb24gSXNGdW5jdGlvbih2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdGdW5jdGlvbicpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdGdW5jdGlvbicgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpICYmXG4gICAgICAgIFZhbHVlR3VhcmQuSXNBcnJheSh2YWx1ZS5wYXJhbWV0ZXJzKSAmJlxuICAgICAgICB2YWx1ZS5wYXJhbWV0ZXJzLmV2ZXJ5KHNjaGVtYSA9PiBJc1NjaGVtYShzY2hlbWEpKSAmJlxuICAgICAgICBJc1NjaGVtYSh2YWx1ZS5yZXR1cm5zKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUSW1wb3J0ICovXG5leHBvcnQgZnVuY3Rpb24gSXNJbXBvcnQodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnSW1wb3J0JykgJiZcbiAgICAgICAgVmFsdWVHdWFyZC5IYXNQcm9wZXJ0eUtleSh2YWx1ZSwgJyRkZWZzJykgJiZcbiAgICAgICAgVmFsdWVHdWFyZC5Jc09iamVjdCh2YWx1ZS4kZGVmcykgJiZcbiAgICAgICAgSXNQcm9wZXJ0aWVzKHZhbHVlLiRkZWZzKSAmJlxuICAgICAgICBWYWx1ZUd1YXJkLkhhc1Byb3BlcnR5S2V5KHZhbHVlLCAnJHJlZicpICYmXG4gICAgICAgIFZhbHVlR3VhcmQuSXNTdHJpbmcodmFsdWUuJHJlZikgJiZcbiAgICAgICAgdmFsdWUuJHJlZiBpbiB2YWx1ZS4kZGVmcyAvLyByZXF1aXJlZFxuICAgICk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUSW50ZWdlciAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzSW50ZWdlcih2YWx1ZSkge1xuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdJbnRlZ2VyJykgJiZcbiAgICAgICAgdmFsdWUudHlwZSA9PT0gJ2ludGVnZXInICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLmV4Y2x1c2l2ZU1heGltdW0pICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUuZXhjbHVzaXZlTWluaW11bSkgJiZcbiAgICAgICAgSXNPcHRpb25hbE51bWJlcih2YWx1ZS5tYXhpbXVtKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLm1pbmltdW0pICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUubXVsdGlwbGVPZikpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gc2NoZW1hIGlzIFRQcm9wZXJ0aWVzICovXG5leHBvcnQgZnVuY3Rpb24gSXNQcm9wZXJ0aWVzKHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChWYWx1ZUd1YXJkLklzT2JqZWN0KHZhbHVlKSAmJlxuICAgICAgICBPYmplY3QuZW50cmllcyh2YWx1ZSkuZXZlcnkoKFtrZXksIHNjaGVtYV0pID0+IElzQ29udHJvbENoYXJhY3RlckZyZWUoa2V5KSAmJiBJc1NjaGVtYShzY2hlbWEpKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUSW50ZXJzZWN0ICovXG5leHBvcnQgZnVuY3Rpb24gSXNJbnRlcnNlY3QodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnSW50ZXJzZWN0JykgJiZcbiAgICAgICAgKFZhbHVlR3VhcmQuSXNTdHJpbmcodmFsdWUudHlwZSkgJiYgdmFsdWUudHlwZSAhPT0gJ29iamVjdCcgPyBmYWxzZSA6IHRydWUpICYmXG4gICAgICAgIFZhbHVlR3VhcmQuSXNBcnJheSh2YWx1ZS5hbGxPZikgJiZcbiAgICAgICAgdmFsdWUuYWxsT2YuZXZlcnkoc2NoZW1hID0+IElzU2NoZW1hKHNjaGVtYSkgJiYgIUlzVHJhbnNmb3JtKHNjaGVtYSkpICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUudHlwZSkgJiZcbiAgICAgICAgKElzT3B0aW9uYWxCb29sZWFuKHZhbHVlLnVuZXZhbHVhdGVkUHJvcGVydGllcykgfHwgSXNPcHRpb25hbFNjaGVtYSh2YWx1ZS51bmV2YWx1YXRlZFByb3BlcnRpZXMpKSAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEl0ZXJhdG9yICovXG5leHBvcnQgZnVuY3Rpb24gSXNJdGVyYXRvcih2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdJdGVyYXRvcicpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdJdGVyYXRvcicgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpICYmXG4gICAgICAgIElzU2NoZW1hKHZhbHVlLml0ZW1zKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIFRLaW5kIHdpdGggdGhlIGdpdmVuIG5hbWUuICovXG5leHBvcnQgZnVuY3Rpb24gSXNLaW5kT2YodmFsdWUsIGtpbmQpIHtcbiAgICByZXR1cm4gVmFsdWVHdWFyZC5Jc09iamVjdCh2YWx1ZSkgJiYgS2luZCBpbiB2YWx1ZSAmJiB2YWx1ZVtLaW5kXSA9PT0ga2luZDtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRMaXRlcmFsPHN0cmluZz4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0xpdGVyYWxTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gSXNMaXRlcmFsKHZhbHVlKSAmJiBWYWx1ZUd1YXJkLklzU3RyaW5nKHZhbHVlLmNvbnN0KTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRMaXRlcmFsPG51bWJlcj4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0xpdGVyYWxOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gSXNMaXRlcmFsKHZhbHVlKSAmJiBWYWx1ZUd1YXJkLklzTnVtYmVyKHZhbHVlLmNvbnN0KTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRMaXRlcmFsPGJvb2xlYW4+ICovXG5leHBvcnQgZnVuY3Rpb24gSXNMaXRlcmFsQm9vbGVhbih2YWx1ZSkge1xuICAgIHJldHVybiBJc0xpdGVyYWwodmFsdWUpICYmIFZhbHVlR3VhcmQuSXNCb29sZWFuKHZhbHVlLmNvbnN0KTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRMaXRlcmFsICovXG5leHBvcnQgZnVuY3Rpb24gSXNMaXRlcmFsKHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ0xpdGVyYWwnKSAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkgJiYgSXNMaXRlcmFsVmFsdWUodmFsdWUuY29uc3QpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgVExpdGVyYWxWYWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTGl0ZXJhbFZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIFZhbHVlR3VhcmQuSXNCb29sZWFuKHZhbHVlKSB8fCBWYWx1ZUd1YXJkLklzTnVtYmVyKHZhbHVlKSB8fCBWYWx1ZUd1YXJkLklzU3RyaW5nKHZhbHVlKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgVE1hcHBlZEtleSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTWFwcGVkS2V5KHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ01hcHBlZEtleScpICYmXG4gICAgICAgIFZhbHVlR3VhcmQuSXNBcnJheSh2YWx1ZS5rZXlzKSAmJlxuICAgICAgICB2YWx1ZS5rZXlzLmV2ZXJ5KGtleSA9PiBWYWx1ZUd1YXJkLklzTnVtYmVyKGtleSkgfHwgVmFsdWVHdWFyZC5Jc1N0cmluZyhrZXkpKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUTWFwcGVkUmVzdWx0ICovXG5leHBvcnQgZnVuY3Rpb24gSXNNYXBwZWRSZXN1bHQodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnTWFwcGVkUmVzdWx0JykgJiZcbiAgICAgICAgSXNQcm9wZXJ0aWVzKHZhbHVlLnByb3BlcnRpZXMpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFROZXZlciAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTmV2ZXIodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnTmV2ZXInKSAmJlxuICAgICAgICBWYWx1ZUd1YXJkLklzT2JqZWN0KHZhbHVlLm5vdCkgJiZcbiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUubm90KS5sZW5ndGggPT09IDApO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVE5vdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTm90KHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ05vdCcpICYmXG4gICAgICAgIElzU2NoZW1hKHZhbHVlLm5vdCkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVE51bGwgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc051bGwodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnTnVsbCcpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdudWxsJyAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVE51bWJlciAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzTnVtYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ051bWJlcicpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdudW1iZXInICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLmV4Y2x1c2l2ZU1heGltdW0pICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUuZXhjbHVzaXZlTWluaW11bSkgJiZcbiAgICAgICAgSXNPcHRpb25hbE51bWJlcih2YWx1ZS5tYXhpbXVtKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLm1pbmltdW0pICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUubXVsdGlwbGVPZikpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVE9iamVjdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzT2JqZWN0KHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ09iamVjdCcpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdvYmplY3QnICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSAmJlxuICAgICAgICBJc1Byb3BlcnRpZXModmFsdWUucHJvcGVydGllcykgJiZcbiAgICAgICAgSXNBZGRpdGlvbmFsUHJvcGVydGllcyh2YWx1ZS5hZGRpdGlvbmFsUHJvcGVydGllcykgJiZcbiAgICAgICAgSXNPcHRpb25hbE51bWJlcih2YWx1ZS5taW5Qcm9wZXJ0aWVzKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLm1heFByb3BlcnRpZXMpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRQcm9taXNlICovXG5leHBvcnQgZnVuY3Rpb24gSXNQcm9taXNlKHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ1Byb21pc2UnKSAmJlxuICAgICAgICB2YWx1ZS50eXBlID09PSAnUHJvbWlzZScgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpICYmXG4gICAgICAgIElzU2NoZW1hKHZhbHVlLml0ZW0pKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRSZWNvcmQgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1JlY29yZCh2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdSZWNvcmQnKSAmJlxuICAgICAgICB2YWx1ZS50eXBlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkgJiZcbiAgICAgICAgSXNBZGRpdGlvbmFsUHJvcGVydGllcyh2YWx1ZS5hZGRpdGlvbmFsUHJvcGVydGllcykgJiZcbiAgICAgICAgVmFsdWVHdWFyZC5Jc09iamVjdCh2YWx1ZS5wYXR0ZXJuUHJvcGVydGllcykgJiZcbiAgICAgICAgKChzY2hlbWEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpO1xuICAgICAgICAgICAgcmV0dXJuIChrZXlzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgICAgIElzUGF0dGVybihrZXlzWzBdKSAmJlxuICAgICAgICAgICAgICAgIFZhbHVlR3VhcmQuSXNPYmplY3Qoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKSAmJlxuICAgICAgICAgICAgICAgIElzU2NoZW1hKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1trZXlzWzBdXSkpO1xuICAgICAgICB9KSh2YWx1ZSkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHZhbHVlIGlzIFRSZWN1cnNpdmUgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1JlY3Vyc2l2ZSh2YWx1ZSkge1xuICAgIHJldHVybiBWYWx1ZUd1YXJkLklzT2JqZWN0KHZhbHVlKSAmJiBIaW50IGluIHZhbHVlICYmIHZhbHVlW0hpbnRdID09PSAnUmVjdXJzaXZlJztcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRSZWYgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1JlZih2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdSZWYnKSAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkgJiZcbiAgICAgICAgVmFsdWVHdWFyZC5Jc1N0cmluZyh2YWx1ZS4kcmVmKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUUmVnRXhwICovXG5leHBvcnQgZnVuY3Rpb24gSXNSZWdFeHAodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnUmVnRXhwJykgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpICYmXG4gICAgICAgIFZhbHVlR3VhcmQuSXNTdHJpbmcodmFsdWUuc291cmNlKSAmJlxuICAgICAgICBWYWx1ZUd1YXJkLklzU3RyaW5nKHZhbHVlLmZsYWdzKSAmJlxuICAgICAgICBJc09wdGlvbmFsTnVtYmVyKHZhbHVlLm1heExlbmd0aCkgJiZcbiAgICAgICAgSXNPcHRpb25hbE51bWJlcih2YWx1ZS5taW5MZW5ndGgpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRTdHJpbmcgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1N0cmluZyh2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdTdHJpbmcnKSAmJlxuICAgICAgICB2YWx1ZS50eXBlID09PSAnc3RyaW5nJyAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkgJiZcbiAgICAgICAgSXNPcHRpb25hbE51bWJlcih2YWx1ZS5taW5MZW5ndGgpICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUubWF4TGVuZ3RoKSAmJlxuICAgICAgICBJc09wdGlvbmFsUGF0dGVybih2YWx1ZS5wYXR0ZXJuKSAmJlxuICAgICAgICBJc09wdGlvbmFsRm9ybWF0KHZhbHVlLmZvcm1hdCkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVFN5bWJvbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzU3ltYm9sKHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ1N5bWJvbCcpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICdzeW1ib2wnICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUVGVtcGxhdGVMaXRlcmFsICovXG5leHBvcnQgZnVuY3Rpb24gSXNUZW1wbGF0ZUxpdGVyYWwodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnVGVtcGxhdGVMaXRlcmFsJykgJiZcbiAgICAgICAgdmFsdWUudHlwZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgVmFsdWVHdWFyZC5Jc1N0cmluZyh2YWx1ZS5wYXR0ZXJuKSAmJlxuICAgICAgICB2YWx1ZS5wYXR0ZXJuWzBdID09PSAnXicgJiZcbiAgICAgICAgdmFsdWUucGF0dGVyblt2YWx1ZS5wYXR0ZXJuLmxlbmd0aCAtIDFdID09PSAnJCcpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVFRoaXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1RoaXModmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnVGhpcycpICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSAmJlxuICAgICAgICBWYWx1ZUd1YXJkLklzU3RyaW5nKHZhbHVlLiRyZWYpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgb2YgdGhpcyB2YWx1ZSBpcyBUVHJhbnNmb3JtICovXG5leHBvcnQgZnVuY3Rpb24gSXNUcmFuc2Zvcm0odmFsdWUpIHtcbiAgICByZXR1cm4gVmFsdWVHdWFyZC5Jc09iamVjdCh2YWx1ZSkgJiYgVHJhbnNmb3JtS2luZCBpbiB2YWx1ZTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRUdXBsZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVHVwbGUodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnVHVwbGUnKSAmJlxuICAgICAgICB2YWx1ZS50eXBlID09PSAnYXJyYXknICYmXG4gICAgICAgIElzT3B0aW9uYWxTdHJpbmcodmFsdWUuJGlkKSAmJlxuICAgICAgICBWYWx1ZUd1YXJkLklzTnVtYmVyKHZhbHVlLm1pbkl0ZW1zKSAmJlxuICAgICAgICBWYWx1ZUd1YXJkLklzTnVtYmVyKHZhbHVlLm1heEl0ZW1zKSAmJlxuICAgICAgICB2YWx1ZS5taW5JdGVtcyA9PT0gdmFsdWUubWF4SXRlbXMgJiZcbiAgICAgICAgKCggLy8gZW1wdHlcbiAgICAgICAgVmFsdWVHdWFyZC5Jc1VuZGVmaW5lZCh2YWx1ZS5pdGVtcykgJiZcbiAgICAgICAgICAgIFZhbHVlR3VhcmQuSXNVbmRlZmluZWQodmFsdWUuYWRkaXRpb25hbEl0ZW1zKSAmJlxuICAgICAgICAgICAgdmFsdWUubWluSXRlbXMgPT09IDApIHx8IChWYWx1ZUd1YXJkLklzQXJyYXkodmFsdWUuaXRlbXMpICYmXG4gICAgICAgICAgICB2YWx1ZS5pdGVtcy5ldmVyeShzY2hlbWEgPT4gSXNTY2hlbWEoc2NoZW1hKSkpKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUVW5kZWZpbmVkICovXG5leHBvcnQgZnVuY3Rpb24gSXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnVW5kZWZpbmVkJykgJiZcbiAgICAgICAgdmFsdWUudHlwZSA9PT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRVbmlvbjxMaXRlcmFsPHN0cmluZyB8IG51bWJlcj5bXT4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1VuaW9uTGl0ZXJhbCh2YWx1ZSkge1xuICAgIHJldHVybiBJc1VuaW9uKHZhbHVlKSAmJiB2YWx1ZS5hbnlPZi5ldmVyeSgoc2NoZW1hKSA9PiBJc0xpdGVyYWxTdHJpbmcoc2NoZW1hKSB8fCBJc0xpdGVyYWxOdW1iZXIoc2NoZW1hKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUVW5pb24gKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1VuaW9uKHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ1VuaW9uJykgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpICYmXG4gICAgICAgIFZhbHVlR3VhcmQuSXNPYmplY3QodmFsdWUpICYmXG4gICAgICAgIFZhbHVlR3VhcmQuSXNBcnJheSh2YWx1ZS5hbnlPZikgJiZcbiAgICAgICAgdmFsdWUuYW55T2YuZXZlcnkoc2NoZW1hID0+IElzU2NoZW1hKHNjaGVtYSkpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIFRVaW50OEFycmF5ICovXG5leHBvcnQgZnVuY3Rpb24gSXNVaW50OEFycmF5KHZhbHVlKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc0tpbmRPZih2YWx1ZSwgJ1VpbnQ4QXJyYXknKSAmJlxuICAgICAgICB2YWx1ZS50eXBlID09PSAnVWludDhBcnJheScgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpICYmXG4gICAgICAgIElzT3B0aW9uYWxOdW1iZXIodmFsdWUubWluQnl0ZUxlbmd0aCkgJiZcbiAgICAgICAgSXNPcHRpb25hbE51bWJlcih2YWx1ZS5tYXhCeXRlTGVuZ3RoKSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUVW5rbm93biAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVW5rbm93bih2YWx1ZSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNLaW5kT2YodmFsdWUsICdVbmtub3duJykgJiZcbiAgICAgICAgSXNPcHRpb25hbFN0cmluZyh2YWx1ZS4kaWQpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgcmF3IFRVbnNhZmUgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1Vuc2FmZSh2YWx1ZSkge1xuICAgIHJldHVybiBJc0tpbmRPZih2YWx1ZSwgJ1Vuc2FmZScpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVFZvaWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc1ZvaWQodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKElzS2luZE9mKHZhbHVlLCAnVm9pZCcpICYmXG4gICAgICAgIHZhbHVlLnR5cGUgPT09ICd2b2lkJyAmJlxuICAgICAgICBJc09wdGlvbmFsU3RyaW5nKHZhbHVlLiRpZCkpO1xufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgVEtpbmQgKi9cbmV4cG9ydCBmdW5jdGlvbiBJc0tpbmQodmFsdWUpIHtcbiAgICByZXR1cm4gVmFsdWVHdWFyZC5Jc09iamVjdCh2YWx1ZSkgJiYgS2luZCBpbiB2YWx1ZSAmJiBWYWx1ZUd1YXJkLklzU3RyaW5nKHZhbHVlW0tpbmRdKSAmJiAhS25vd25UeXBlcy5pbmNsdWRlcyh2YWx1ZVtLaW5kXSk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBUU2NoZW1hICovXG5leHBvcnQgZnVuY3Rpb24gSXNTY2hlbWEodmFsdWUpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKFZhbHVlR3VhcmQuSXNPYmplY3QodmFsdWUpKSAmJiAoSXNBbnkodmFsdWUpIHx8XG4gICAgICAgIElzQXJndW1lbnQodmFsdWUpIHx8XG4gICAgICAgIElzQXJyYXkodmFsdWUpIHx8XG4gICAgICAgIElzQm9vbGVhbih2YWx1ZSkgfHxcbiAgICAgICAgSXNCaWdJbnQodmFsdWUpIHx8XG4gICAgICAgIElzQXN5bmNJdGVyYXRvcih2YWx1ZSkgfHxcbiAgICAgICAgSXNDb21wdXRlZCh2YWx1ZSkgfHxcbiAgICAgICAgSXNDb25zdHJ1Y3Rvcih2YWx1ZSkgfHxcbiAgICAgICAgSXNEYXRlKHZhbHVlKSB8fFxuICAgICAgICBJc0Z1bmN0aW9uKHZhbHVlKSB8fFxuICAgICAgICBJc0ludGVnZXIodmFsdWUpIHx8XG4gICAgICAgIElzSW50ZXJzZWN0KHZhbHVlKSB8fFxuICAgICAgICBJc0l0ZXJhdG9yKHZhbHVlKSB8fFxuICAgICAgICBJc0xpdGVyYWwodmFsdWUpIHx8XG4gICAgICAgIElzTWFwcGVkS2V5KHZhbHVlKSB8fFxuICAgICAgICBJc01hcHBlZFJlc3VsdCh2YWx1ZSkgfHxcbiAgICAgICAgSXNOZXZlcih2YWx1ZSkgfHxcbiAgICAgICAgSXNOb3QodmFsdWUpIHx8XG4gICAgICAgIElzTnVsbCh2YWx1ZSkgfHxcbiAgICAgICAgSXNOdW1iZXIodmFsdWUpIHx8XG4gICAgICAgIElzT2JqZWN0KHZhbHVlKSB8fFxuICAgICAgICBJc1Byb21pc2UodmFsdWUpIHx8XG4gICAgICAgIElzUmVjb3JkKHZhbHVlKSB8fFxuICAgICAgICBJc1JlZih2YWx1ZSkgfHxcbiAgICAgICAgSXNSZWdFeHAodmFsdWUpIHx8XG4gICAgICAgIElzU3RyaW5nKHZhbHVlKSB8fFxuICAgICAgICBJc1N5bWJvbCh2YWx1ZSkgfHxcbiAgICAgICAgSXNUZW1wbGF0ZUxpdGVyYWwodmFsdWUpIHx8XG4gICAgICAgIElzVGhpcyh2YWx1ZSkgfHxcbiAgICAgICAgSXNUdXBsZSh2YWx1ZSkgfHxcbiAgICAgICAgSXNVbmRlZmluZWQodmFsdWUpIHx8XG4gICAgICAgIElzVW5pb24odmFsdWUpIHx8XG4gICAgICAgIElzVWludDhBcnJheSh2YWx1ZSkgfHxcbiAgICAgICAgSXNVbmtub3duKHZhbHVlKSB8fFxuICAgICAgICBJc1Vuc2FmZSh2YWx1ZSkgfHxcbiAgICAgICAgSXNWb2lkKHZhbHVlKSB8fFxuICAgICAgICBJc0tpbmQodmFsdWUpKTtcbn1cbiIsCiAgICAiZXhwb3J0IGNvbnN0IFBhdHRlcm5Cb29sZWFuID0gJyh0cnVlfGZhbHNlKSc7XG5leHBvcnQgY29uc3QgUGF0dGVybk51bWJlciA9ICcoMHxbMS05XVswLTldKiknO1xuZXhwb3J0IGNvbnN0IFBhdHRlcm5TdHJpbmcgPSAnKC4qKSc7XG5leHBvcnQgY29uc3QgUGF0dGVybk5ldmVyID0gJyg/IS4qKSc7XG5leHBvcnQgY29uc3QgUGF0dGVybkJvb2xlYW5FeGFjdCA9IGBeJHtQYXR0ZXJuQm9vbGVhbn0kYDtcbmV4cG9ydCBjb25zdCBQYXR0ZXJuTnVtYmVyRXhhY3QgPSBgXiR7UGF0dGVybk51bWJlcn0kYDtcbmV4cG9ydCBjb25zdCBQYXR0ZXJuU3RyaW5nRXhhY3QgPSBgXiR7UGF0dGVyblN0cmluZ30kYDtcbmV4cG9ydCBjb25zdCBQYXR0ZXJuTmV2ZXJFeGFjdCA9IGBeJHtQYXR0ZXJuTmV2ZXJ9JGA7XG4iLAogICAgIi8qKiBBIHJlZ2lzdHJ5IGZvciB1c2VyIGRlZmluZWQgc3RyaW5nIGZvcm1hdHMgKi9cbmNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcbi8qKiBSZXR1cm5zIHRoZSBlbnRyaWVzIGluIHRoaXMgcmVnaXN0cnkgKi9cbmV4cG9ydCBmdW5jdGlvbiBFbnRyaWVzKCkge1xuICAgIHJldHVybiBuZXcgTWFwKG1hcCk7XG59XG4vKiogQ2xlYXJzIGFsbCB1c2VyIGRlZmluZWQgc3RyaW5nIGZvcm1hdHMgKi9cbmV4cG9ydCBmdW5jdGlvbiBDbGVhcigpIHtcbiAgICByZXR1cm4gbWFwLmNsZWFyKCk7XG59XG4vKiogRGVsZXRlcyBhIHJlZ2lzdGVyZWQgZm9ybWF0ICovXG5leHBvcnQgZnVuY3Rpb24gRGVsZXRlKGZvcm1hdCkge1xuICAgIHJldHVybiBtYXAuZGVsZXRlKGZvcm1hdCk7XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSB1c2VyIGRlZmluZWQgc3RyaW5nIGZvcm1hdCBleGlzdHMgKi9cbmV4cG9ydCBmdW5jdGlvbiBIYXMoZm9ybWF0KSB7XG4gICAgcmV0dXJuIG1hcC5oYXMoZm9ybWF0KTtcbn1cbi8qKiBTZXRzIGEgdmFsaWRhdGlvbiBmdW5jdGlvbiBmb3IgYSB1c2VyIGRlZmluZWQgc3RyaW5nIGZvcm1hdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNldChmb3JtYXQsIGZ1bmMpIHtcbiAgICBtYXAuc2V0KGZvcm1hdCwgZnVuYyk7XG59XG4vKiogR2V0cyBhIHZhbGlkYXRpb24gZnVuY3Rpb24gZm9yIGEgdXNlciBkZWZpbmVkIHN0cmluZyBmb3JtYXQgKi9cbmV4cG9ydCBmdW5jdGlvbiBHZXQoZm9ybWF0KSB7XG4gICAgcmV0dXJuIG1hcC5nZXQoZm9ybWF0KTtcbn1cbiIsCiAgICAiLyoqIEEgcmVnaXN0cnkgZm9yIHVzZXIgZGVmaW5lZCB0eXBlcyAqL1xuY29uc3QgbWFwID0gbmV3IE1hcCgpO1xuLyoqIFJldHVybnMgdGhlIGVudHJpZXMgaW4gdGhpcyByZWdpc3RyeSAqL1xuZXhwb3J0IGZ1bmN0aW9uIEVudHJpZXMoKSB7XG4gICAgcmV0dXJuIG5ldyBNYXAobWFwKTtcbn1cbi8qKiBDbGVhcnMgYWxsIHVzZXIgZGVmaW5lZCB0eXBlcyAqL1xuZXhwb3J0IGZ1bmN0aW9uIENsZWFyKCkge1xuICAgIHJldHVybiBtYXAuY2xlYXIoKTtcbn1cbi8qKiBEZWxldGVzIGEgcmVnaXN0ZXJlZCB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gRGVsZXRlKGtpbmQpIHtcbiAgICByZXR1cm4gbWFwLmRlbGV0ZShraW5kKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyByZWdpc3RyeSBjb250YWlucyB0aGlzIGtpbmQgKi9cbmV4cG9ydCBmdW5jdGlvbiBIYXMoa2luZCkge1xuICAgIHJldHVybiBtYXAuaGFzKGtpbmQpO1xufVxuLyoqIFNldHMgYSB2YWxpZGF0aW9uIGZ1bmN0aW9uIGZvciBhIHVzZXIgZGVmaW5lZCB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gU2V0KGtpbmQsIGZ1bmMpIHtcbiAgICBtYXAuc2V0KGtpbmQsIGZ1bmMpO1xufVxuLyoqIEdldHMgYSBjdXN0b20gdmFsaWRhdGlvbiBmdW5jdGlvbiBmb3IgYSB1c2VyIGRlZmluZWQgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIEdldChraW5kKSB7XG4gICAgcmV0dXJuIG1hcC5nZXQoa2luZCk7XG59XG4iLAogICAgIi8qKiBSZXR1cm5zIHRydWUgaWYgZWxlbWVudCByaWdodCBpcyBpbiB0aGUgc2V0IG9mIGxlZnQgKi9cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIFNldEluY2x1ZGVzKFQsIFMpIHtcbiAgICByZXR1cm4gVC5pbmNsdWRlcyhTKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgbGVmdCBpcyBhIHN1YnNldCBvZiByaWdodCAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNldElzU3Vic2V0KFQsIFMpIHtcbiAgICByZXR1cm4gVC5ldmVyeSgoTCkgPT4gU2V0SW5jbHVkZXMoUywgTCkpO1xufVxuLyoqIFJldHVybnMgYSBkaXN0aW5jdCBzZXQgb2YgZWxlbWVudHMgKi9cbmV4cG9ydCBmdW5jdGlvbiBTZXREaXN0aW5jdChUKSB7XG4gICAgcmV0dXJuIFsuLi5uZXcgU2V0KFQpXTtcbn1cbi8qKiBSZXR1cm5zIHRoZSBJbnRlcnNlY3Qgb2YgdGhlIGdpdmVuIHNldHMgKi9cbmV4cG9ydCBmdW5jdGlvbiBTZXRJbnRlcnNlY3QoVCwgUykge1xuICAgIHJldHVybiBULmZpbHRlcigoTCkgPT4gUy5pbmNsdWRlcyhMKSk7XG59XG4vKiogUmV0dXJucyB0aGUgVW5pb24gb2YgdGhlIGdpdmVuIHNldHMgKi9cbmV4cG9ydCBmdW5jdGlvbiBTZXRVbmlvbihULCBTKSB7XG4gICAgcmV0dXJuIFsuLi5ULCAuLi5TXTtcbn1cbi8qKiBSZXR1cm5zIHRoZSBDb21wbGVtZW50IGJ5IG9taXR0aW5nIGVsZW1lbnRzIGluIFQgdGhhdCBhcmUgaW4gUyAqL1xuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gU2V0Q29tcGxlbWVudChULCBTKSB7XG4gICAgcmV0dXJuIFQuZmlsdGVyKEwgPT4gIVMuaW5jbHVkZXMoTCkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBTZXRJbnRlcnNlY3RNYW55UmVzb2x2ZShULCBJbml0KSB7XG4gICAgcmV0dXJuIFQucmVkdWNlKChBY2MsIEwpID0+IHtcbiAgICAgICAgcmV0dXJuIFNldEludGVyc2VjdChBY2MsIEwpO1xuICAgIH0sIEluaXQpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gU2V0SW50ZXJzZWN0TWFueShUKSB7XG4gICAgcmV0dXJuIChULmxlbmd0aCA9PT0gMVxuICAgICAgICA/IFRbMF1cbiAgICAgICAgLy8gVXNlIGxlZnQgdG8gaW5pdGlhbGl6ZSB0aGUgYWNjdW11bGF0b3IgZm9yIHJlc29sdmVcbiAgICAgICAgOiBULmxlbmd0aCA+IDFcbiAgICAgICAgICAgID8gU2V0SW50ZXJzZWN0TWFueVJlc29sdmUoVC5zbGljZSgxKSwgVFswXSlcbiAgICAgICAgICAgIDogW10pO1xufVxuLyoqIFJldHVybnMgdGhlIFVuaW9uIG9mIG11bHRpcGxlIHNldHMgKi9cbmV4cG9ydCBmdW5jdGlvbiBTZXRVbmlvbk1hbnkoVCkge1xuICAgIGNvbnN0IEFjYyA9IFtdO1xuICAgIGZvciAoY29uc3QgTCBvZiBUKVxuICAgICAgICBBY2MucHVzaCguLi5MKTtcbiAgICByZXR1cm4gQWNjO1xufVxuIiwKICAgICJpbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYW4gQW55IHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBBbnkob3B0aW9ucykge1xuICAgIHJldHVybiBDcmVhdGVUeXBlKHsgW0tpbmRdOiAnQW55JyB9LCBvcHRpb25zKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYW4gQXJyYXkgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFycmF5KGl0ZW1zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIENyZWF0ZVR5cGUoeyBbS2luZF06ICdBcnJheScsIHR5cGU6ICdhcnJheScsIGl0ZW1zIH0sIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL3R5cGUubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKYXZhU2NyaXB0XWAgQ3JlYXRlcyBhbiBBcmd1bWVudCBUeXBlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFyZ3VtZW50KGluZGV4KSB7XG4gICAgcmV0dXJuIENyZWF0ZVR5cGUoeyBbS2luZF06ICdBcmd1bWVudCcsIGluZGV4IH0pO1xufVxuIiwKICAgICJpbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG4vKiogYFtKYXZhU2NyaXB0XWAgQ3JlYXRlcyBhIEFzeW5jSXRlcmF0b3IgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoaXRlbXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gQ3JlYXRlVHlwZSh7IFtLaW5kXTogJ0FzeW5jSXRlcmF0b3InLCB0eXBlOiAnQXN5bmNJdGVyYXRvcicsIGl0ZW1zIH0sIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9zeW1ib2xzLm1qcyc7XG4vKiogYFtJbnRlcm5hbF1gIENyZWF0ZXMgYSBkZWZlcnJlZCBjb21wdXRlZCB0eXBlLiBUaGlzIHR5cGUgaXMgdXNlZCBleGNsdXNpdmVseSBpbiBtb2R1bGVzIHRvIGRlZmVyIHJlc29sdXRpb24gb2YgY29tcHV0YWJsZSB0eXBlcyB0aGF0IGNvbnRhaW4gaW50ZXJpb3IgcmVmZXJlbmNlcyAgKi9cbmV4cG9ydCBmdW5jdGlvbiBDb21wdXRlZCh0YXJnZXQsIHBhcmFtZXRlcnMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gQ3JlYXRlVHlwZSh7IFtLaW5kXTogJ0NvbXB1dGVkJywgdGFyZ2V0LCBwYXJhbWV0ZXJzIH0sIG9wdGlvbnMpO1xufVxuIiwKICAgICJmdW5jdGlvbiBEaXNjYXJkS2V5KHZhbHVlLCBrZXkpIHtcbiAgICBjb25zdCB7IFtrZXldOiBfLCAuLi5yZXN0IH0gPSB2YWx1ZTtcbiAgICByZXR1cm4gcmVzdDtcbn1cbi8qKiBEaXNjYXJkcyBwcm9wZXJ0eSBrZXlzIGZyb20gdGhlIGdpdmVuIHZhbHVlLiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgYSBzaGFsbG93IENsb25lLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIERpc2NhcmQodmFsdWUsIGtleXMpIHtcbiAgICByZXR1cm4ga2V5cy5yZWR1Y2UoKGFjYywga2V5KSA9PiBEaXNjYXJkS2V5KGFjYywga2V5KSwgdmFsdWUpO1xufVxuIiwKICAgICJpbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL3R5cGUubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhIE5ldmVyIHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBOZXZlcihvcHRpb25zKSB7XG4gICAgcmV0dXJuIENyZWF0ZVR5cGUoeyBbS2luZF06ICdOZXZlcicsIG5vdDoge30gfSwgb3B0aW9ucyk7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIE1hcHBlZFJlc3VsdChwcm9wZXJ0aWVzKSB7XG4gICAgcmV0dXJuIENyZWF0ZVR5cGUoe1xuICAgICAgICBbS2luZF06ICdNYXBwZWRSZXN1bHQnLFxuICAgICAgICBwcm9wZXJ0aWVzXG4gICAgfSk7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0phdmFTY3JpcHRdYCBDcmVhdGVzIGEgQ29uc3RydWN0b3IgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvbnN0cnVjdG9yKHBhcmFtZXRlcnMsIHJldHVybnMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gQ3JlYXRlVHlwZSh7IFtLaW5kXTogJ0NvbnN0cnVjdG9yJywgdHlwZTogJ0NvbnN0cnVjdG9yJywgcGFyYW1ldGVycywgcmV0dXJucyB9LCBvcHRpb25zKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIGBbSmF2YVNjcmlwdF1gIENyZWF0ZXMgYSBGdW5jdGlvbiB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gRnVuY3Rpb24ocGFyYW1ldGVycywgcmV0dXJucywgb3B0aW9ucykge1xuICAgIHJldHVybiBDcmVhdGVUeXBlKHsgW0tpbmRdOiAnRnVuY3Rpb24nLCB0eXBlOiAnRnVuY3Rpb24nLCBwYXJhbWV0ZXJzLCByZXR1cm5zIH0sIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL3R5cGUubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG5leHBvcnQgZnVuY3Rpb24gVW5pb25DcmVhdGUoVCwgb3B0aW9ucykge1xuICAgIHJldHVybiBDcmVhdGVUeXBlKHsgW0tpbmRdOiAnVW5pb24nLCBhbnlPZjogVCB9LCBvcHRpb25zKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBPcHRpb25hbEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBEaXNjYXJkIH0gZnJvbSAnLi4vZGlzY2FyZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgTmV2ZXIgfSBmcm9tICcuLi9uZXZlci9pbmRleC5tanMnO1xuaW1wb3J0IHsgT3B0aW9uYWwgfSBmcm9tICcuLi9vcHRpb25hbC9pbmRleC5tanMnO1xuaW1wb3J0IHsgVW5pb25DcmVhdGUgfSBmcm9tICcuL3VuaW9uLWNyZWF0ZS5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNPcHRpb25hbCB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gSXNVbmlvbk9wdGlvbmFsKHR5cGVzKSB7XG4gICAgcmV0dXJuIHR5cGVzLnNvbWUodHlwZSA9PiBJc09wdGlvbmFsKHR5cGUpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gUmVtb3ZlT3B0aW9uYWxGcm9tUmVzdCh0eXBlcykge1xuICAgIHJldHVybiB0eXBlcy5tYXAobGVmdCA9PiBJc09wdGlvbmFsKGxlZnQpID8gUmVtb3ZlT3B0aW9uYWxGcm9tVHlwZShsZWZ0KSA6IGxlZnQpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBSZW1vdmVPcHRpb25hbEZyb21UeXBlKFQpIHtcbiAgICByZXR1cm4gKERpc2NhcmQoVCwgW09wdGlvbmFsS2luZF0pKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gUmVzb2x2ZVVuaW9uKHR5cGVzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgaXNPcHRpb25hbCA9IElzVW5pb25PcHRpb25hbCh0eXBlcyk7XG4gICAgcmV0dXJuIChpc09wdGlvbmFsXG4gICAgICAgID8gT3B0aW9uYWwoVW5pb25DcmVhdGUoUmVtb3ZlT3B0aW9uYWxGcm9tUmVzdCh0eXBlcyksIG9wdGlvbnMpKVxuICAgICAgICA6IFVuaW9uQ3JlYXRlKFJlbW92ZU9wdGlvbmFsRnJvbVJlc3QodHlwZXMpLCBvcHRpb25zKSk7XG59XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhbiBldmFsdWF0ZWQgVW5pb24gdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFVuaW9uRXZhbHVhdGVkKFQsIG9wdGlvbnMpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKFQubGVuZ3RoID09PSAxID8gQ3JlYXRlVHlwZShUWzBdLCBvcHRpb25zKSA6XG4gICAgICAgIFQubGVuZ3RoID09PSAwID8gTmV2ZXIob3B0aW9ucykgOlxuICAgICAgICAgICAgUmVzb2x2ZVVuaW9uKFQsIG9wdGlvbnMpKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgTmV2ZXIgfSBmcm9tICcuLi9uZXZlci9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBVbmlvbkNyZWF0ZSB9IGZyb20gJy4vdW5pb24tY3JlYXRlLm1qcyc7XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhIFVuaW9uIHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBVbmlvbih0eXBlcywgb3B0aW9ucykge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAodHlwZXMubGVuZ3RoID09PSAwID8gTmV2ZXIob3B0aW9ucykgOlxuICAgICAgICB0eXBlcy5sZW5ndGggPT09IDEgPyBDcmVhdGVUeXBlKHR5cGVzWzBdLCBvcHRpb25zKSA6XG4gICAgICAgICAgICBVbmlvbkNyZWF0ZSh0eXBlcywgb3B0aW9ucykpO1xufVxuIiwKICAgICJpbXBvcnQgeyBUeXBlQm94RXJyb3IgfSBmcm9tICcuLi9lcnJvci9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUZW1wbGF0ZUxpdGVyYWxQYXJzZXJFcnJvclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVMaXRlcmFsUGFyc2VyRXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVW5lc2NhcGVcbi8vXG4vLyBVbmVzY2FwZSBmb3IgdGhlc2UgY29udHJvbCBjaGFyYWN0ZXJzIHNwZWNpZmljYWxseS4gTm90ZSB0aGF0IHRoaXNcbi8vIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIG9uIG5vbiB1bmlvbiBncm91cCBjb250ZW50LCBhbmQgd2hlcmUgd2Vcbi8vIHN0aWxsIHdhbnQgdG8gYWxsb3cgdGhlIHVzZXIgdG8gZW1iZWQgY29udHJvbCBjaGFyYWN0ZXJzIGluIHRoYXRcbi8vIGNvbnRlbnQuIEZvciByZXZpZXcuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFVuZXNjYXBlKHBhdHRlcm4pIHtcbiAgICByZXR1cm4gcGF0dGVyblxuICAgICAgICAucmVwbGFjZSgvXFxcXFxcJC9nLCAnJCcpXG4gICAgICAgIC5yZXBsYWNlKC9cXFxcXFwqL2csICcqJylcbiAgICAgICAgLnJlcGxhY2UoL1xcXFxcXF4vZywgJ14nKVxuICAgICAgICAucmVwbGFjZSgvXFxcXFxcfC9nLCAnfCcpXG4gICAgICAgIC5yZXBsYWNlKC9cXFxcXFwoL2csICcoJylcbiAgICAgICAgLnJlcGxhY2UoL1xcXFxcXCkvZywgJyknKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENvbnRyb2wgQ2hhcmFjdGVyc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gSXNOb25Fc2NhcGVkKHBhdHRlcm4sIGluZGV4LCBjaGFyKSB7XG4gICAgcmV0dXJuIHBhdHRlcm5baW5kZXhdID09PSBjaGFyICYmIHBhdHRlcm4uY2hhckNvZGVBdChpbmRleCAtIDEpICE9PSA5Mjtcbn1cbmZ1bmN0aW9uIElzT3BlblBhcmVuKHBhdHRlcm4sIGluZGV4KSB7XG4gICAgcmV0dXJuIElzTm9uRXNjYXBlZChwYXR0ZXJuLCBpbmRleCwgJygnKTtcbn1cbmZ1bmN0aW9uIElzQ2xvc2VQYXJlbihwYXR0ZXJuLCBpbmRleCkge1xuICAgIHJldHVybiBJc05vbkVzY2FwZWQocGF0dGVybiwgaW5kZXgsICcpJyk7XG59XG5mdW5jdGlvbiBJc1NlcGFyYXRvcihwYXR0ZXJuLCBpbmRleCkge1xuICAgIHJldHVybiBJc05vbkVzY2FwZWQocGF0dGVybiwgaW5kZXgsICd8Jyk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDb250cm9sIEdyb3Vwc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gSXNHcm91cChwYXR0ZXJuKSB7XG4gICAgaWYgKCEoSXNPcGVuUGFyZW4ocGF0dGVybiwgMCkgJiYgSXNDbG9zZVBhcmVuKHBhdHRlcm4sIHBhdHRlcm4ubGVuZ3RoIC0gMSkpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcGF0dGVybi5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKElzT3BlblBhcmVuKHBhdHRlcm4sIGluZGV4KSlcbiAgICAgICAgICAgIGNvdW50ICs9IDE7XG4gICAgICAgIGlmIChJc0Nsb3NlUGFyZW4ocGF0dGVybiwgaW5kZXgpKVxuICAgICAgICAgICAgY291bnQgLT0gMTtcbiAgICAgICAgaWYgKGNvdW50ID09PSAwICYmIGluZGV4ICE9PSBwYXR0ZXJuLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBJbkdyb3VwKHBhdHRlcm4pIHtcbiAgICByZXR1cm4gcGF0dGVybi5zbGljZSgxLCBwYXR0ZXJuLmxlbmd0aCAtIDEpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBJc1ByZWNlZGVuY2VPcihwYXR0ZXJuKSB7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcGF0dGVybi5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKElzT3BlblBhcmVuKHBhdHRlcm4sIGluZGV4KSlcbiAgICAgICAgICAgIGNvdW50ICs9IDE7XG4gICAgICAgIGlmIChJc0Nsb3NlUGFyZW4ocGF0dGVybiwgaW5kZXgpKVxuICAgICAgICAgICAgY291bnQgLT0gMTtcbiAgICAgICAgaWYgKElzU2VwYXJhdG9yKHBhdHRlcm4sIGluZGV4KSAmJiBjb3VudCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIElzUHJlY2VkZW5jZUFuZChwYXR0ZXJuKSB7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHBhdHRlcm4ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGlmIChJc09wZW5QYXJlbihwYXR0ZXJuLCBpbmRleCkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBPcihwYXR0ZXJuKSB7XG4gICAgbGV0IFtjb3VudCwgc3RhcnRdID0gWzAsIDBdO1xuICAgIGNvbnN0IGV4cHJlc3Npb25zID0gW107XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHBhdHRlcm4ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGlmIChJc09wZW5QYXJlbihwYXR0ZXJuLCBpbmRleCkpXG4gICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICBpZiAoSXNDbG9zZVBhcmVuKHBhdHRlcm4sIGluZGV4KSlcbiAgICAgICAgICAgIGNvdW50IC09IDE7XG4gICAgICAgIGlmIChJc1NlcGFyYXRvcihwYXR0ZXJuLCBpbmRleCkgJiYgY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gcGF0dGVybi5zbGljZShzdGFydCwgaW5kZXgpO1xuICAgICAgICAgICAgaWYgKHJhbmdlLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbnMucHVzaChUZW1wbGF0ZUxpdGVyYWxQYXJzZShyYW5nZSkpO1xuICAgICAgICAgICAgc3RhcnQgPSBpbmRleCArIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmFuZ2UgPSBwYXR0ZXJuLnNsaWNlKHN0YXJ0KTtcbiAgICBpZiAocmFuZ2UubGVuZ3RoID4gMClcbiAgICAgICAgZXhwcmVzc2lvbnMucHVzaChUZW1wbGF0ZUxpdGVyYWxQYXJzZShyYW5nZSkpO1xuICAgIGlmIChleHByZXNzaW9ucy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiB7IHR5cGU6ICdjb25zdCcsIGNvbnN0OiAnJyB9O1xuICAgIGlmIChleHByZXNzaW9ucy5sZW5ndGggPT09IDEpXG4gICAgICAgIHJldHVybiBleHByZXNzaW9uc1swXTtcbiAgICByZXR1cm4geyB0eXBlOiAnb3InLCBleHByOiBleHByZXNzaW9ucyB9O1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBBbmQocGF0dGVybikge1xuICAgIGZ1bmN0aW9uIEdyb3VwKHZhbHVlLCBpbmRleCkge1xuICAgICAgICBpZiAoIUlzT3BlblBhcmVuKHZhbHVlLCBpbmRleCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVMaXRlcmFsUGFyc2VyRXJyb3IoYFRlbXBsYXRlTGl0ZXJhbFBhcnNlcjogSW5kZXggbXVzdCBwb2ludCB0byBvcGVuIHBhcmVuc2ApO1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBmb3IgKGxldCBzY2FuID0gaW5kZXg7IHNjYW4gPCB2YWx1ZS5sZW5ndGg7IHNjYW4rKykge1xuICAgICAgICAgICAgaWYgKElzT3BlblBhcmVuKHZhbHVlLCBzY2FuKSlcbiAgICAgICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICAgICAgaWYgKElzQ2xvc2VQYXJlbih2YWx1ZSwgc2NhbikpXG4gICAgICAgICAgICAgICAgY291bnQgLT0gMTtcbiAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gW2luZGV4LCBzY2FuXTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVMaXRlcmFsUGFyc2VyRXJyb3IoYFRlbXBsYXRlTGl0ZXJhbFBhcnNlcjogVW5jbG9zZWQgZ3JvdXAgcGFyZW5zIGluIGV4cHJlc3Npb25gKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmFuZ2UocGF0dGVybiwgaW5kZXgpIHtcbiAgICAgICAgZm9yIChsZXQgc2NhbiA9IGluZGV4OyBzY2FuIDwgcGF0dGVybi5sZW5ndGg7IHNjYW4rKykge1xuICAgICAgICAgICAgaWYgKElzT3BlblBhcmVuKHBhdHRlcm4sIHNjYW4pKVxuICAgICAgICAgICAgICAgIHJldHVybiBbaW5kZXgsIHNjYW5dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbaW5kZXgsIHBhdHRlcm4ubGVuZ3RoXTtcbiAgICB9XG4gICAgY29uc3QgZXhwcmVzc2lvbnMgPSBbXTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcGF0dGVybi5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKElzT3BlblBhcmVuKHBhdHRlcm4sIGluZGV4KSkge1xuICAgICAgICAgICAgY29uc3QgW3N0YXJ0LCBlbmRdID0gR3JvdXAocGF0dGVybiwgaW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBwYXR0ZXJuLnNsaWNlKHN0YXJ0LCBlbmQgKyAxKTtcbiAgICAgICAgICAgIGV4cHJlc3Npb25zLnB1c2goVGVtcGxhdGVMaXRlcmFsUGFyc2UocmFuZ2UpKTtcbiAgICAgICAgICAgIGluZGV4ID0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgW3N0YXJ0LCBlbmRdID0gUmFuZ2UocGF0dGVybiwgaW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBwYXR0ZXJuLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgICAgICAgICAgaWYgKHJhbmdlLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbnMucHVzaChUZW1wbGF0ZUxpdGVyYWxQYXJzZShyYW5nZSkpO1xuICAgICAgICAgICAgaW5kZXggPSBlbmQgLSAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoKGV4cHJlc3Npb25zLmxlbmd0aCA9PT0gMCkgPyB7IHR5cGU6ICdjb25zdCcsIGNvbnN0OiAnJyB9IDpcbiAgICAgICAgKGV4cHJlc3Npb25zLmxlbmd0aCA9PT0gMSkgPyBleHByZXNzaW9uc1swXSA6XG4gICAgICAgICAgICB7IHR5cGU6ICdhbmQnLCBleHByOiBleHByZXNzaW9ucyB9KTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVGVtcGxhdGVMaXRlcmFsUGFyc2Vcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIFBhcnNlcyBhIHBhdHRlcm4gYW5kIHJldHVybnMgYW4gZXhwcmVzc2lvbiB0cmVlICovXG5leHBvcnQgZnVuY3Rpb24gVGVtcGxhdGVMaXRlcmFsUGFyc2UocGF0dGVybikge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNHcm91cChwYXR0ZXJuKSA/IFRlbXBsYXRlTGl0ZXJhbFBhcnNlKEluR3JvdXAocGF0dGVybikpIDpcbiAgICAgICAgSXNQcmVjZWRlbmNlT3IocGF0dGVybikgPyBPcihwYXR0ZXJuKSA6XG4gICAgICAgICAgICBJc1ByZWNlZGVuY2VBbmQocGF0dGVybikgPyBBbmQocGF0dGVybikgOlxuICAgICAgICAgICAgICAgIHsgdHlwZTogJ2NvbnN0JywgY29uc3Q6IFVuZXNjYXBlKHBhdHRlcm4pIH0pO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUZW1wbGF0ZUxpdGVyYWxQYXJzZUV4YWN0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKiBQYXJzZXMgYSBwYXR0ZXJuIGFuZCBzdHJpcHMgZm9yd2FyZCBhbmQgdHJhaWxpbmcgXiBhbmQgJCAqL1xuZXhwb3J0IGZ1bmN0aW9uIFRlbXBsYXRlTGl0ZXJhbFBhcnNlRXhhY3QocGF0dGVybikge1xuICAgIHJldHVybiBUZW1wbGF0ZUxpdGVyYWxQYXJzZShwYXR0ZXJuLnNsaWNlKDEsIHBhdHRlcm4ubGVuZ3RoIC0gMSkpO1xufVxuIiwKICAgICJpbXBvcnQgeyBUZW1wbGF0ZUxpdGVyYWxQYXJzZUV4YWN0IH0gZnJvbSAnLi9wYXJzZS5tanMnO1xuaW1wb3J0IHsgVHlwZUJveEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVGVtcGxhdGVMaXRlcmFsRmluaXRlRXJyb3Jcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIFRlbXBsYXRlTGl0ZXJhbEZpbml0ZUVycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSXNUZW1wbGF0ZUxpdGVyYWxGaW5pdGVDaGVja1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIElzTnVtYmVyRXhwcmVzc2lvbihleHByZXNzaW9uKSB7XG4gICAgcmV0dXJuIChleHByZXNzaW9uLnR5cGUgPT09ICdvcicgJiZcbiAgICAgICAgZXhwcmVzc2lvbi5leHByLmxlbmd0aCA9PT0gMiAmJlxuICAgICAgICBleHByZXNzaW9uLmV4cHJbMF0udHlwZSA9PT0gJ2NvbnN0JyAmJlxuICAgICAgICBleHByZXNzaW9uLmV4cHJbMF0uY29uc3QgPT09ICcwJyAmJlxuICAgICAgICBleHByZXNzaW9uLmV4cHJbMV0udHlwZSA9PT0gJ2NvbnN0JyAmJlxuICAgICAgICBleHByZXNzaW9uLmV4cHJbMV0uY29uc3QgPT09ICdbMS05XVswLTldKicpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBJc0Jvb2xlYW5FeHByZXNzaW9uKGV4cHJlc3Npb24pIHtcbiAgICByZXR1cm4gKGV4cHJlc3Npb24udHlwZSA9PT0gJ29yJyAmJlxuICAgICAgICBleHByZXNzaW9uLmV4cHIubGVuZ3RoID09PSAyICYmXG4gICAgICAgIGV4cHJlc3Npb24uZXhwclswXS50eXBlID09PSAnY29uc3QnICYmXG4gICAgICAgIGV4cHJlc3Npb24uZXhwclswXS5jb25zdCA9PT0gJ3RydWUnICYmXG4gICAgICAgIGV4cHJlc3Npb24uZXhwclsxXS50eXBlID09PSAnY29uc3QnICYmXG4gICAgICAgIGV4cHJlc3Npb24uZXhwclsxXS5jb25zdCA9PT0gJ2ZhbHNlJyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIElzU3RyaW5nRXhwcmVzc2lvbihleHByZXNzaW9uKSB7XG4gICAgcmV0dXJuIGV4cHJlc3Npb24udHlwZSA9PT0gJ2NvbnN0JyAmJiBleHByZXNzaW9uLmNvbnN0ID09PSAnLionO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBJc1RlbXBsYXRlTGl0ZXJhbEV4cHJlc3Npb25GaW5pdGVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gSXNUZW1wbGF0ZUxpdGVyYWxFeHByZXNzaW9uRmluaXRlKGV4cHJlc3Npb24pIHtcbiAgICByZXR1cm4gKElzTnVtYmVyRXhwcmVzc2lvbihleHByZXNzaW9uKSB8fCBJc1N0cmluZ0V4cHJlc3Npb24oZXhwcmVzc2lvbikgPyBmYWxzZSA6XG4gICAgICAgIElzQm9vbGVhbkV4cHJlc3Npb24oZXhwcmVzc2lvbikgPyB0cnVlIDpcbiAgICAgICAgICAgIChleHByZXNzaW9uLnR5cGUgPT09ICdhbmQnKSA/IGV4cHJlc3Npb24uZXhwci5ldmVyeSgoZXhwcikgPT4gSXNUZW1wbGF0ZUxpdGVyYWxFeHByZXNzaW9uRmluaXRlKGV4cHIpKSA6XG4gICAgICAgICAgICAgICAgKGV4cHJlc3Npb24udHlwZSA9PT0gJ29yJykgPyBleHByZXNzaW9uLmV4cHIuZXZlcnkoKGV4cHIpID0+IElzVGVtcGxhdGVMaXRlcmFsRXhwcmVzc2lvbkZpbml0ZShleHByKSkgOlxuICAgICAgICAgICAgICAgICAgICAoZXhwcmVzc2lvbi50eXBlID09PSAnY29uc3QnKSA/IHRydWUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgKCgpID0+IHsgdGhyb3cgbmV3IFRlbXBsYXRlTGl0ZXJhbEZpbml0ZUVycm9yKGBVbmtub3duIGV4cHJlc3Npb24gdHlwZWApOyB9KSgpKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBUZW1wbGF0ZUxpdGVyYWwgcmVzb2x2ZXMgdG8gYSBmaW5pdGUgc2V0IG9mIHZhbHVlcyAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzVGVtcGxhdGVMaXRlcmFsRmluaXRlKHNjaGVtYSkge1xuICAgIGNvbnN0IGV4cHJlc3Npb24gPSBUZW1wbGF0ZUxpdGVyYWxQYXJzZUV4YWN0KHNjaGVtYS5wYXR0ZXJuKTtcbiAgICByZXR1cm4gSXNUZW1wbGF0ZUxpdGVyYWxFeHByZXNzaW9uRmluaXRlKGV4cHJlc3Npb24pO1xufVxuIiwKICAgICJpbXBvcnQgeyBJc1RlbXBsYXRlTGl0ZXJhbEV4cHJlc3Npb25GaW5pdGUgfSBmcm9tICcuL2Zpbml0ZS5tanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVMaXRlcmFsUGFyc2VFeGFjdCB9IGZyb20gJy4vcGFyc2UubWpzJztcbmltcG9ydCB7IFR5cGVCb3hFcnJvciB9IGZyb20gJy4uL2Vycm9yL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRlbXBsYXRlTGl0ZXJhbEdlbmVyYXRlRXJyb3Jcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIFRlbXBsYXRlTGl0ZXJhbEdlbmVyYXRlRXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUZW1wbGF0ZUxpdGVyYWxFeHByZXNzaW9uR2VuZXJhdGVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiogR2VuZXJhdGVSZWR1Y2UoYnVmZmVyKSB7XG4gICAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDEpXG4gICAgICAgIHJldHVybiB5aWVsZCogYnVmZmVyWzBdO1xuICAgIGZvciAoY29uc3QgbGVmdCBvZiBidWZmZXJbMF0pIHtcbiAgICAgICAgZm9yIChjb25zdCByaWdodCBvZiBHZW5lcmF0ZVJlZHVjZShidWZmZXIuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB5aWVsZCBgJHtsZWZ0fSR7cmlnaHR9YDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24qIEdlbmVyYXRlQW5kKGV4cHJlc3Npb24pIHtcbiAgICByZXR1cm4geWllbGQqIEdlbmVyYXRlUmVkdWNlKGV4cHJlc3Npb24uZXhwci5tYXAoKGV4cHIpID0+IFsuLi5UZW1wbGF0ZUxpdGVyYWxFeHByZXNzaW9uR2VuZXJhdGUoZXhwcildKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uKiBHZW5lcmF0ZU9yKGV4cHJlc3Npb24pIHtcbiAgICBmb3IgKGNvbnN0IGV4cHIgb2YgZXhwcmVzc2lvbi5leHByKVxuICAgICAgICB5aWVsZCogVGVtcGxhdGVMaXRlcmFsRXhwcmVzc2lvbkdlbmVyYXRlKGV4cHIpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiogR2VuZXJhdGVDb25zdChleHByZXNzaW9uKSB7XG4gICAgcmV0dXJuIHlpZWxkIGV4cHJlc3Npb24uY29uc3Q7XG59XG5leHBvcnQgZnVuY3Rpb24qIFRlbXBsYXRlTGl0ZXJhbEV4cHJlc3Npb25HZW5lcmF0ZShleHByZXNzaW9uKSB7XG4gICAgcmV0dXJuIGV4cHJlc3Npb24udHlwZSA9PT0gJ2FuZCdcbiAgICAgICAgPyB5aWVsZCogR2VuZXJhdGVBbmQoZXhwcmVzc2lvbilcbiAgICAgICAgOiBleHByZXNzaW9uLnR5cGUgPT09ICdvcidcbiAgICAgICAgICAgID8geWllbGQqIEdlbmVyYXRlT3IoZXhwcmVzc2lvbilcbiAgICAgICAgICAgIDogZXhwcmVzc2lvbi50eXBlID09PSAnY29uc3QnXG4gICAgICAgICAgICAgICAgPyB5aWVsZCogR2VuZXJhdGVDb25zdChleHByZXNzaW9uKVxuICAgICAgICAgICAgICAgIDogKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlTGl0ZXJhbEdlbmVyYXRlRXJyb3IoJ1Vua25vd24gZXhwcmVzc2lvbicpO1xuICAgICAgICAgICAgICAgIH0pKCk7XG59XG4vKiogR2VuZXJhdGVzIGEgdHVwbGUgb2Ygc3RyaW5ncyBmcm9tIHRoZSBnaXZlbiBUZW1wbGF0ZUxpdGVyYWwuIFJldHVybnMgYW4gZW1wdHkgdHVwbGUgaWYgaW5maW5pdGUuICovXG5leHBvcnQgZnVuY3Rpb24gVGVtcGxhdGVMaXRlcmFsR2VuZXJhdGUoc2NoZW1hKSB7XG4gICAgY29uc3QgZXhwcmVzc2lvbiA9IFRlbXBsYXRlTGl0ZXJhbFBhcnNlRXhhY3Qoc2NoZW1hLnBhdHRlcm4pO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNUZW1wbGF0ZUxpdGVyYWxFeHByZXNzaW9uRmluaXRlKGV4cHJlc3Npb24pXG4gICAgICAgID8gWy4uLlRlbXBsYXRlTGl0ZXJhbEV4cHJlc3Npb25HZW5lcmF0ZShleHByZXNzaW9uKV1cbiAgICAgICAgOiBbXSk7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0pzb25dYCBDcmVhdGVzIGEgTGl0ZXJhbCB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gTGl0ZXJhbCh2YWx1ZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBDcmVhdGVUeXBlKHtcbiAgICAgICAgW0tpbmRdOiAnTGl0ZXJhbCcsXG4gICAgICAgIGNvbnN0OiB2YWx1ZSxcbiAgICAgICAgdHlwZTogdHlwZW9mIHZhbHVlLFxuICAgIH0sIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS9pbmRleC5tanMnO1xuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBCb29sZWFuIHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBCb29sZWFuKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gQ3JlYXRlVHlwZSh7IFtLaW5kXTogJ0Jvb2xlYW4nLCB0eXBlOiAnYm9vbGVhbicgfSwgb3B0aW9ucyk7XG59XG4iLAogICAgImltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL2luZGV4Lm1qcyc7XG4vKiogYFtKYXZhU2NyaXB0XWAgQ3JlYXRlcyBhIEJpZ0ludCB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gQmlnSW50KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gQ3JlYXRlVHlwZSh7IFtLaW5kXTogJ0JpZ0ludCcsIHR5cGU6ICdiaWdpbnQnIH0sIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL3R5cGUubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhIE51bWJlciB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gTnVtYmVyKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gQ3JlYXRlVHlwZSh7IFtLaW5kXTogJ051bWJlcicsIHR5cGU6ICdudW1iZXInIH0sIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL3R5cGUubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhIFN0cmluZyB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gU3RyaW5nKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gQ3JlYXRlVHlwZSh7IFtLaW5kXTogJ1N0cmluZycsIHR5cGU6ICdzdHJpbmcnIH0sIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBMaXRlcmFsIH0gZnJvbSAnLi4vbGl0ZXJhbC9pbmRleC5tanMnO1xuaW1wb3J0IHsgQm9vbGVhbiB9IGZyb20gJy4uL2Jvb2xlYW4vaW5kZXgubWpzJztcbmltcG9ydCB7IEJpZ0ludCB9IGZyb20gJy4uL2JpZ2ludC9pbmRleC5tanMnO1xuaW1wb3J0IHsgTnVtYmVyIH0gZnJvbSAnLi4vbnVtYmVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBTdHJpbmcgfSBmcm9tICcuLi9zdHJpbmcvaW5kZXgubWpzJztcbmltcG9ydCB7IFVuaW9uRXZhbHVhdGVkIH0gZnJvbSAnLi4vdW5pb24vaW5kZXgubWpzJztcbmltcG9ydCB7IE5ldmVyIH0gZnJvbSAnLi4vbmV2ZXIvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3ludGF4UGFyc2Vyc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uKiBGcm9tVW5pb24oc3ludGF4KSB7XG4gICAgY29uc3QgdHJpbSA9IHN5bnRheC50cmltKCkucmVwbGFjZSgvXCJ8Jy9nLCAnJyk7XG4gICAgcmV0dXJuICh0cmltID09PSAnYm9vbGVhbicgPyB5aWVsZCBCb29sZWFuKCkgOlxuICAgICAgICB0cmltID09PSAnbnVtYmVyJyA/IHlpZWxkIE51bWJlcigpIDpcbiAgICAgICAgICAgIHRyaW0gPT09ICdiaWdpbnQnID8geWllbGQgQmlnSW50KCkgOlxuICAgICAgICAgICAgICAgIHRyaW0gPT09ICdzdHJpbmcnID8geWllbGQgU3RyaW5nKCkgOlxuICAgICAgICAgICAgICAgICAgICB5aWVsZCAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGl0ZXJhbHMgPSB0cmltLnNwbGl0KCd8JykubWFwKChsaXRlcmFsKSA9PiBMaXRlcmFsKGxpdGVyYWwudHJpbSgpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGxpdGVyYWxzLmxlbmd0aCA9PT0gMCA/IE5ldmVyKCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpdGVyYWxzLmxlbmd0aCA9PT0gMSA/IGxpdGVyYWxzWzBdIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVW5pb25FdmFsdWF0ZWQobGl0ZXJhbHMpKTtcbiAgICAgICAgICAgICAgICAgICAgfSkoKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uKiBGcm9tVGVybWluYWwoc3ludGF4KSB7XG4gICAgaWYgKHN5bnRheFsxXSAhPT0gJ3snKSB7XG4gICAgICAgIGNvbnN0IEwgPSBMaXRlcmFsKCckJyk7XG4gICAgICAgIGNvbnN0IFIgPSBGcm9tU3ludGF4KHN5bnRheC5zbGljZSgxKSk7XG4gICAgICAgIHJldHVybiB5aWVsZCogW0wsIC4uLlJdO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMjsgaSA8IHN5bnRheC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc3ludGF4W2ldID09PSAnfScpIHtcbiAgICAgICAgICAgIGNvbnN0IEwgPSBGcm9tVW5pb24oc3ludGF4LnNsaWNlKDIsIGkpKTtcbiAgICAgICAgICAgIGNvbnN0IFIgPSBGcm9tU3ludGF4KHN5bnRheC5zbGljZShpICsgMSkpO1xuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBbLi4uTCwgLi4uUl07XG4gICAgICAgIH1cbiAgICB9XG4gICAgeWllbGQgTGl0ZXJhbChzeW50YXgpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiogRnJvbVN5bnRheChzeW50YXgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN5bnRheC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc3ludGF4W2ldID09PSAnJCcpIHtcbiAgICAgICAgICAgIGNvbnN0IEwgPSBMaXRlcmFsKHN5bnRheC5zbGljZSgwLCBpKSk7XG4gICAgICAgICAgICBjb25zdCBSID0gRnJvbVRlcm1pbmFsKHN5bnRheC5zbGljZShpKSk7XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIFtMLCAuLi5SXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB5aWVsZCBMaXRlcmFsKHN5bnRheCk7XG59XG4vKiogUGFyc2VzIFRlbXBsYXRlTGl0ZXJhbFN5bnRheCBhbmQgcmV0dXJucyBhIHR1cGxlIG9mIFRlbXBsYXRlTGl0ZXJhbEtpbmRzICovXG5leHBvcnQgZnVuY3Rpb24gVGVtcGxhdGVMaXRlcmFsU3ludGF4KHN5bnRheCkge1xuICAgIHJldHVybiBbLi4uRnJvbVN5bnRheChzeW50YXgpXTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgUGF0dGVybk51bWJlciwgUGF0dGVyblN0cmluZywgUGF0dGVybkJvb2xlYW4gfSBmcm9tICcuLi9wYXR0ZXJucy9pbmRleC5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IFR5cGVCb3hFcnJvciB9IGZyb20gJy4uL2Vycm9yL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc1RlbXBsYXRlTGl0ZXJhbCwgSXNVbmlvbiwgSXNOdW1iZXIsIElzSW50ZWdlciwgSXNCaWdJbnQsIElzU3RyaW5nLCBJc0xpdGVyYWwsIElzQm9vbGVhbiB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVGVtcGxhdGVMaXRlcmFsUGF0dGVybkVycm9yXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZUxpdGVyYWxQYXR0ZXJuRXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUZW1wbGF0ZUxpdGVyYWxQYXR0ZXJuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIEVzY2FwZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFwkJicpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBWaXNpdChzY2hlbWEsIGFjYykge1xuICAgIHJldHVybiAoSXNUZW1wbGF0ZUxpdGVyYWwoc2NoZW1hKSA/IHNjaGVtYS5wYXR0ZXJuLnNsaWNlKDEsIHNjaGVtYS5wYXR0ZXJuLmxlbmd0aCAtIDEpIDpcbiAgICAgICAgSXNVbmlvbihzY2hlbWEpID8gYCgke3NjaGVtYS5hbnlPZi5tYXAoKHNjaGVtYSkgPT4gVmlzaXQoc2NoZW1hLCBhY2MpKS5qb2luKCd8Jyl9KWAgOlxuICAgICAgICAgICAgSXNOdW1iZXIoc2NoZW1hKSA/IGAke2FjY30ke1BhdHRlcm5OdW1iZXJ9YCA6XG4gICAgICAgICAgICAgICAgSXNJbnRlZ2VyKHNjaGVtYSkgPyBgJHthY2N9JHtQYXR0ZXJuTnVtYmVyfWAgOlxuICAgICAgICAgICAgICAgICAgICBJc0JpZ0ludChzY2hlbWEpID8gYCR7YWNjfSR7UGF0dGVybk51bWJlcn1gIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIElzU3RyaW5nKHNjaGVtYSkgPyBgJHthY2N9JHtQYXR0ZXJuU3RyaW5nfWAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzTGl0ZXJhbChzY2hlbWEpID8gYCR7YWNjfSR7RXNjYXBlKHNjaGVtYS5jb25zdC50b1N0cmluZygpKX1gIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNCb29sZWFuKHNjaGVtYSkgPyBgJHthY2N9JHtQYXR0ZXJuQm9vbGVhbn1gIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoKSA9PiB7IHRocm93IG5ldyBUZW1wbGF0ZUxpdGVyYWxQYXR0ZXJuRXJyb3IoYFVuZXhwZWN0ZWQgS2luZCAnJHtzY2hlbWFbS2luZF19J2ApOyB9KSgpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBUZW1wbGF0ZUxpdGVyYWxQYXR0ZXJuKGtpbmRzKSB7XG4gICAgcmV0dXJuIGBeJHtraW5kcy5tYXAoKHNjaGVtYSkgPT4gVmlzaXQoc2NoZW1hLCAnJykpLmpvaW4oJycpfVxcJGA7XG59XG4iLAogICAgImltcG9ydCB7IFVuaW9uRXZhbHVhdGVkIH0gZnJvbSAnLi4vdW5pb24vaW5kZXgubWpzJztcbmltcG9ydCB7IExpdGVyYWwgfSBmcm9tICcuLi9saXRlcmFsL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUZW1wbGF0ZUxpdGVyYWxHZW5lcmF0ZSB9IGZyb20gJy4vZ2VuZXJhdGUubWpzJztcbi8qKiBSZXR1cm5zIGEgVW5pb24gZnJvbSB0aGUgZ2l2ZW4gVGVtcGxhdGVMaXRlcmFsICovXG5leHBvcnQgZnVuY3Rpb24gVGVtcGxhdGVMaXRlcmFsVG9VbmlvbihzY2hlbWEpIHtcbiAgICBjb25zdCBSID0gVGVtcGxhdGVMaXRlcmFsR2VuZXJhdGUoc2NoZW1hKTtcbiAgICBjb25zdCBMID0gUi5tYXAoKFMpID0+IExpdGVyYWwoUykpO1xuICAgIHJldHVybiBVbmlvbkV2YWx1YXRlZChMKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBUZW1wbGF0ZUxpdGVyYWxTeW50YXggfSBmcm9tICcuL3N5bnRheC5tanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVMaXRlcmFsUGF0dGVybiB9IGZyb20gJy4vcGF0dGVybi5tanMnO1xuaW1wb3J0IHsgSXNTdHJpbmcgfSBmcm9tICcuLi9ndWFyZC92YWx1ZS5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0pzb25dYCBDcmVhdGVzIGEgVGVtcGxhdGVMaXRlcmFsIHR5cGUgKi9cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIFRlbXBsYXRlTGl0ZXJhbCh1bnJlc29sdmVkLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcGF0dGVybiA9IElzU3RyaW5nKHVucmVzb2x2ZWQpXG4gICAgICAgID8gVGVtcGxhdGVMaXRlcmFsUGF0dGVybihUZW1wbGF0ZUxpdGVyYWxTeW50YXgodW5yZXNvbHZlZCkpXG4gICAgICAgIDogVGVtcGxhdGVMaXRlcmFsUGF0dGVybih1bnJlc29sdmVkKTtcbiAgICByZXR1cm4gQ3JlYXRlVHlwZSh7IFtLaW5kXTogJ1RlbXBsYXRlTGl0ZXJhbCcsIHR5cGU6ICdzdHJpbmcnLCBwYXR0ZXJuIH0sIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBUZW1wbGF0ZUxpdGVyYWxHZW5lcmF0ZSB9IGZyb20gJy4uL3RlbXBsYXRlLWxpdGVyYWwvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzVGVtcGxhdGVMaXRlcmFsLCBJc1VuaW9uLCBJc0xpdGVyYWwsIElzTnVtYmVyLCBJc0ludGVnZXIgfSBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21UZW1wbGF0ZUxpdGVyYWwodGVtcGxhdGVMaXRlcmFsKSB7XG4gICAgY29uc3Qga2V5cyA9IFRlbXBsYXRlTGl0ZXJhbEdlbmVyYXRlKHRlbXBsYXRlTGl0ZXJhbCk7XG4gICAgcmV0dXJuIGtleXMubWFwKGtleSA9PiBrZXkudG9TdHJpbmcoKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Vbmlvbih0eXBlcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAoY29uc3QgdHlwZSBvZiB0eXBlcylcbiAgICAgICAgcmVzdWx0LnB1c2goLi4uSW5kZXhQcm9wZXJ0eUtleXModHlwZSkpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21MaXRlcmFsKGxpdGVyYWxWYWx1ZSkge1xuICAgIHJldHVybiAoW2xpdGVyYWxWYWx1ZS50b1N0cmluZygpXSAvLyBUUyA1LjQgb2JzZXJ2ZXMgVExpdGVyYWxWYWx1ZSBhcyBub3QgaGF2aW5nIGEgdG9TdHJpbmcoKVxuICAgICk7XG59XG4vKiogUmV0dXJucyBhIHR1cGxlIG9mIFByb3BlcnR5S2V5cyBkZXJpdmVkIGZyb20gdGhlIGdpdmVuIFRTY2hlbWEgKi9cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIEluZGV4UHJvcGVydHlLZXlzKHR5cGUpIHtcbiAgICByZXR1cm4gWy4uLm5ldyBTZXQoKElzVGVtcGxhdGVMaXRlcmFsKHR5cGUpID8gRnJvbVRlbXBsYXRlTGl0ZXJhbCh0eXBlKSA6XG4gICAgICAgICAgICBJc1VuaW9uKHR5cGUpID8gRnJvbVVuaW9uKHR5cGUuYW55T2YpIDpcbiAgICAgICAgICAgICAgICBJc0xpdGVyYWwodHlwZSkgPyBGcm9tTGl0ZXJhbCh0eXBlLmNvbnN0KSA6XG4gICAgICAgICAgICAgICAgICAgIElzTnVtYmVyKHR5cGUpID8gWydbbnVtYmVyXSddIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIElzSW50ZWdlcih0eXBlKSA/IFsnW251bWJlcl0nXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW10pKV07XG59XG4iLAogICAgImltcG9ydCB7IE1hcHBlZFJlc3VsdCB9IGZyb20gJy4uL21hcHBlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgSW5kZXhQcm9wZXJ0eUtleXMgfSBmcm9tICcuL2luZGV4ZWQtcHJvcGVydHkta2V5cy5tanMnO1xuaW1wb3J0IHsgSW5kZXggfSBmcm9tICcuL2luZGV4Lm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9wZXJ0aWVzKHR5cGUsIHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEsyIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BlcnRpZXMpKSB7XG4gICAgICAgIHJlc3VsdFtLMl0gPSBJbmRleCh0eXBlLCBJbmRleFByb3BlcnR5S2V5cyhwcm9wZXJ0aWVzW0syXSksIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTWFwcGVkUmVzdWx0KHR5cGUsIG1hcHBlZFJlc3VsdCwgb3B0aW9ucykge1xuICAgIHJldHVybiBGcm9tUHJvcGVydGllcyh0eXBlLCBtYXBwZWRSZXN1bHQucHJvcGVydGllcywgb3B0aW9ucyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBJbmRleEZyb21NYXBwZWRSZXN1bHQodHlwZSwgbWFwcGVkUmVzdWx0LCBvcHRpb25zKSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IEZyb21NYXBwZWRSZXN1bHQodHlwZSwgbWFwcGVkUmVzdWx0LCBvcHRpb25zKTtcbiAgICByZXR1cm4gTWFwcGVkUmVzdWx0KHByb3BlcnRpZXMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL3R5cGUubWpzJztcbmltcG9ydCB7IFR5cGVCb3hFcnJvciB9IGZyb20gJy4uL2Vycm9yL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDb21wdXRlZCB9IGZyb20gJy4uL2NvbXB1dGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBOZXZlciB9IGZyb20gJy4uL25ldmVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBJbnRlcnNlY3RFdmFsdWF0ZWQgfSBmcm9tICcuLi9pbnRlcnNlY3QvaW5kZXgubWpzJztcbmltcG9ydCB7IFVuaW9uRXZhbHVhdGVkIH0gZnJvbSAnLi4vdW5pb24vaW5kZXgubWpzJztcbmltcG9ydCB7IEluZGV4UHJvcGVydHlLZXlzIH0gZnJvbSAnLi9pbmRleGVkLXByb3BlcnR5LWtleXMubWpzJztcbmltcG9ydCB7IEluZGV4RnJvbU1hcHBlZEtleSB9IGZyb20gJy4vaW5kZXhlZC1mcm9tLW1hcHBlZC1rZXkubWpzJztcbmltcG9ydCB7IEluZGV4RnJvbU1hcHBlZFJlc3VsdCB9IGZyb20gJy4vaW5kZXhlZC1mcm9tLW1hcHBlZC1yZXN1bHQubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzQXJyYXksIElzSW50ZXJzZWN0LCBJc09iamVjdCwgSXNNYXBwZWRLZXksIElzTWFwcGVkUmVzdWx0LCBJc05ldmVyLCBJc1NjaGVtYSwgSXNUdXBsZSwgSXNVbmlvbiwgSXNSZWYgfSBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZXN0KHR5cGVzLCBrZXkpIHtcbiAgICByZXR1cm4gdHlwZXMubWFwKHR5cGUgPT4gSW5kZXhGcm9tUHJvcGVydHlLZXkodHlwZSwga2V5KSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21JbnRlcnNlY3RSZXN0KHR5cGVzKSB7XG4gICAgcmV0dXJuIHR5cGVzLmZpbHRlcih0eXBlID0+ICFJc05ldmVyKHR5cGUpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUludGVyc2VjdCh0eXBlcywga2V5KSB7XG4gICAgcmV0dXJuIChJbnRlcnNlY3RFdmFsdWF0ZWQoRnJvbUludGVyc2VjdFJlc3QoRnJvbVJlc3QodHlwZXMsIGtleSkpKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21VbmlvblJlc3QodHlwZXMpIHtcbiAgICByZXR1cm4gKHR5cGVzLnNvbWUoTCA9PiBJc05ldmVyKEwpKVxuICAgICAgICA/IFtdXG4gICAgICAgIDogdHlwZXMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5pb24odHlwZXMsIGtleSkge1xuICAgIHJldHVybiAoVW5pb25FdmFsdWF0ZWQoRnJvbVVuaW9uUmVzdChGcm9tUmVzdCh0eXBlcywga2V5KSkpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVR1cGxlKHR5cGVzLCBrZXkpIHtcbiAgICByZXR1cm4gKGtleSBpbiB0eXBlcyA/IHR5cGVzW2tleV0gOlxuICAgICAgICBrZXkgPT09ICdbbnVtYmVyXScgPyBVbmlvbkV2YWx1YXRlZCh0eXBlcykgOlxuICAgICAgICAgICAgTmV2ZXIoKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21BcnJheSh0eXBlLCBrZXkpIHtcbiAgICByZXR1cm4gKGtleSA9PT0gJ1tudW1iZXJdJ1xuICAgICAgICA/IHR5cGVcbiAgICAgICAgOiBOZXZlcigpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnR5KHByb3BlcnRpZXMsIHByb3BlcnR5S2V5KSB7XG4gICAgcmV0dXJuIChwcm9wZXJ0eUtleSBpbiBwcm9wZXJ0aWVzID8gcHJvcGVydGllc1twcm9wZXJ0eUtleV0gOiBOZXZlcigpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIEluZGV4RnJvbVByb3BlcnR5S2V5KHR5cGUsIHByb3BlcnR5S2V5KSB7XG4gICAgcmV0dXJuIChJc0ludGVyc2VjdCh0eXBlKSA/IEZyb21JbnRlcnNlY3QodHlwZS5hbGxPZiwgcHJvcGVydHlLZXkpIDpcbiAgICAgICAgSXNVbmlvbih0eXBlKSA/IEZyb21Vbmlvbih0eXBlLmFueU9mLCBwcm9wZXJ0eUtleSkgOlxuICAgICAgICAgICAgSXNUdXBsZSh0eXBlKSA/IEZyb21UdXBsZSh0eXBlLml0ZW1zID8/IFtdLCBwcm9wZXJ0eUtleSkgOlxuICAgICAgICAgICAgICAgIElzQXJyYXkodHlwZSkgPyBGcm9tQXJyYXkodHlwZS5pdGVtcywgcHJvcGVydHlLZXkpIDpcbiAgICAgICAgICAgICAgICAgICAgSXNPYmplY3QodHlwZSkgPyBGcm9tUHJvcGVydHkodHlwZS5wcm9wZXJ0aWVzLCBwcm9wZXJ0eUtleSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgTmV2ZXIoKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBJbmRleEZyb21Qcm9wZXJ0eUtleXModHlwZSwgcHJvcGVydHlLZXlzKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5S2V5cy5tYXAocHJvcGVydHlLZXkgPT4gSW5kZXhGcm9tUHJvcGVydHlLZXkodHlwZSwgcHJvcGVydHlLZXkpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVNjaGVtYSh0eXBlLCBwcm9wZXJ0eUtleXMpIHtcbiAgICByZXR1cm4gKFVuaW9uRXZhbHVhdGVkKEluZGV4RnJvbVByb3BlcnR5S2V5cyh0eXBlLCBwcm9wZXJ0eUtleXMpKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBJbmRleEZyb21Db21wdXRlZCh0eXBlLCBrZXkpIHtcbiAgICByZXR1cm4gQ29tcHV0ZWQoJ0luZGV4JywgW3R5cGUsIGtleV0pO1xufVxuLyoqIGBbSnNvbl1gIFJldHVybnMgYW4gSW5kZXhlZCBwcm9wZXJ0eSB0eXBlIGZvciB0aGUgZ2l2ZW4ga2V5cyAqL1xuZXhwb3J0IGZ1bmN0aW9uIEluZGV4KHR5cGUsIGtleSwgb3B0aW9ucykge1xuICAgIC8vIGNvbXB1dGVkLXR5cGVcbiAgICBpZiAoSXNSZWYodHlwZSkgfHwgSXNSZWYoa2V5KSkge1xuICAgICAgICBjb25zdCBlcnJvciA9IGBJbmRleCB0eXBlcyB1c2luZyBSZWYgcGFyYW1ldGVycyByZXF1aXJlIGJvdGggVHlwZSBhbmQgS2V5IHRvIGJlIG9mIFRTY2hlbWFgO1xuICAgICAgICBpZiAoIUlzU2NoZW1hKHR5cGUpIHx8ICFJc1NjaGVtYShrZXkpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVCb3hFcnJvcihlcnJvcik7XG4gICAgICAgIHJldHVybiBDb21wdXRlZCgnSW5kZXgnLCBbdHlwZSwga2V5XSk7XG4gICAgfVxuICAgIC8vIG1hcHBlZC10eXBlc1xuICAgIGlmIChJc01hcHBlZFJlc3VsdChrZXkpKVxuICAgICAgICByZXR1cm4gSW5kZXhGcm9tTWFwcGVkUmVzdWx0KHR5cGUsIGtleSwgb3B0aW9ucyk7XG4gICAgaWYgKElzTWFwcGVkS2V5KGtleSkpXG4gICAgICAgIHJldHVybiBJbmRleEZyb21NYXBwZWRLZXkodHlwZSwga2V5LCBvcHRpb25zKTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gQ3JlYXRlVHlwZShJc1NjaGVtYShrZXkpXG4gICAgICAgID8gRnJvbVNjaGVtYSh0eXBlLCBJbmRleFByb3BlcnR5S2V5cyhrZXkpKVxuICAgICAgICA6IEZyb21TY2hlbWEodHlwZSwga2V5KSwgb3B0aW9ucyk7XG59XG4iLAogICAgImltcG9ydCB7IEluZGV4IH0gZnJvbSAnLi9pbmRleGVkLm1qcyc7XG5pbXBvcnQgeyBNYXBwZWRSZXN1bHQgfSBmcm9tICcuLi9tYXBwZWQvaW5kZXgubWpzJztcbmltcG9ydCB7IENsb25lIH0gZnJvbSAnLi4vY2xvbmUvdmFsdWUubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gTWFwcGVkSW5kZXhQcm9wZXJ0eUtleSh0eXBlLCBrZXksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4geyBba2V5XTogSW5kZXgodHlwZSwgW2tleV0sIENsb25lKG9wdGlvbnMpKSB9O1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBNYXBwZWRJbmRleFByb3BlcnR5S2V5cyh0eXBlLCBwcm9wZXJ0eUtleXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcHJvcGVydHlLZXlzLnJlZHVjZSgocmVzdWx0LCBsZWZ0KSA9PiB7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3VsdCwgLi4uTWFwcGVkSW5kZXhQcm9wZXJ0eUtleSh0eXBlLCBsZWZ0LCBvcHRpb25zKSB9O1xuICAgIH0sIHt9KTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gTWFwcGVkSW5kZXhQcm9wZXJ0aWVzKHR5cGUsIG1hcHBlZEtleSwgb3B0aW9ucykge1xuICAgIHJldHVybiBNYXBwZWRJbmRleFByb3BlcnR5S2V5cyh0eXBlLCBtYXBwZWRLZXkua2V5cywgb3B0aW9ucyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBJbmRleEZyb21NYXBwZWRLZXkodHlwZSwgbWFwcGVkS2V5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IE1hcHBlZEluZGV4UHJvcGVydGllcyh0eXBlLCBtYXBwZWRLZXksIG9wdGlvbnMpO1xuICAgIHJldHVybiBNYXBwZWRSZXN1bHQocHJvcGVydGllcyk7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0phdmFTY3JpcHRdYCBDcmVhdGVzIGFuIEl0ZXJhdG9yIHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBJdGVyYXRvcihpdGVtcywgb3B0aW9ucykge1xuICAgIHJldHVybiBDcmVhdGVUeXBlKHsgW0tpbmRdOiAnSXRlcmF0b3InLCB0eXBlOiAnSXRlcmF0b3InLCBpdGVtcyB9LCBvcHRpb25zKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNPcHRpb25hbCB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbmZ1bmN0aW9uIFJlcXVpcmVkS2V5cyhwcm9wZXJ0aWVzKSB7XG4gICAgY29uc3Qga2V5cyA9IFtdO1xuICAgIGZvciAobGV0IGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGlmICghSXNPcHRpb25hbChwcm9wZXJ0aWVzW2tleV0pKVxuICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIHJldHVybiBrZXlzO1xufVxuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYW4gT2JqZWN0IHR5cGUgKi9cbmZ1bmN0aW9uIF9PYmplY3QocHJvcGVydGllcywgb3B0aW9ucykge1xuICAgIGNvbnN0IHJlcXVpcmVkID0gUmVxdWlyZWRLZXlzKHByb3BlcnRpZXMpO1xuICAgIGNvbnN0IHNjaGVtYXRpYyA9IHJlcXVpcmVkLmxlbmd0aCA+IDAgPyB7IFtLaW5kXTogJ09iamVjdCcsIHR5cGU6ICdvYmplY3QnLCBwcm9wZXJ0aWVzLCByZXF1aXJlZCB9IDogeyBbS2luZF06ICdPYmplY3QnLCB0eXBlOiAnb2JqZWN0JywgcHJvcGVydGllcyB9O1xuICAgIHJldHVybiBDcmVhdGVUeXBlKHNjaGVtYXRpYywgb3B0aW9ucyk7XG59XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhbiBPYmplY3QgdHlwZSAqL1xuZXhwb3J0IHZhciBPYmplY3QgPSBfT2JqZWN0O1xuIiwKICAgICJpbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL3R5cGUubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKYXZhU2NyaXB0XWAgQ3JlYXRlcyBhIFByb21pc2UgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFByb21pc2UoaXRlbSwgb3B0aW9ucykge1xuICAgIHJldHVybiBDcmVhdGVUeXBlKHsgW0tpbmRdOiAnUHJvbWlzZScsIHR5cGU6ICdQcm9taXNlJywgaXRlbSB9LCBvcHRpb25zKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBSZWFkb25seUtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBEaXNjYXJkIH0gZnJvbSAnLi4vZGlzY2FyZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgUmVhZG9ubHlGcm9tTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi9yZWFkb25seS1mcm9tLW1hcHBlZC1yZXN1bHQubWpzJztcbmltcG9ydCB7IElzTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuZnVuY3Rpb24gUmVtb3ZlUmVhZG9ubHkoc2NoZW1hKSB7XG4gICAgcmV0dXJuIENyZWF0ZVR5cGUoRGlzY2FyZChzY2hlbWEsIFtSZWFkb25seUtpbmRdKSk7XG59XG5mdW5jdGlvbiBBZGRSZWFkb25seShzY2hlbWEpIHtcbiAgICByZXR1cm4gQ3JlYXRlVHlwZSh7IC4uLnNjaGVtYSwgW1JlYWRvbmx5S2luZF06ICdSZWFkb25seScgfSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFJlYWRvbmx5V2l0aEZsYWcoc2NoZW1hLCBGKSB7XG4gICAgcmV0dXJuIChGID09PSBmYWxzZVxuICAgICAgICA/IFJlbW92ZVJlYWRvbmx5KHNjaGVtYSlcbiAgICAgICAgOiBBZGRSZWFkb25seShzY2hlbWEpKTtcbn1cbi8qKiBgW0pzb25dYCBDcmVhdGVzIGEgUmVhZG9ubHkgcHJvcGVydHkgKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWFkb25seShzY2hlbWEsIGVuYWJsZSkge1xuICAgIGNvbnN0IEYgPSBlbmFibGUgPz8gdHJ1ZTtcbiAgICByZXR1cm4gSXNNYXBwZWRSZXN1bHQoc2NoZW1hKSA/IFJlYWRvbmx5RnJvbU1hcHBlZFJlc3VsdChzY2hlbWEsIEYpIDogUmVhZG9ubHlXaXRoRmxhZyhzY2hlbWEsIEYpO1xufVxuIiwKICAgICJpbXBvcnQgeyBNYXBwZWRSZXN1bHQgfSBmcm9tICcuLi9tYXBwZWQvaW5kZXgubWpzJztcbmltcG9ydCB7IFJlYWRvbmx5IH0gZnJvbSAnLi9yZWFkb25seS5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydGllcyhLLCBGKSB7XG4gICAgY29uc3QgQWNjID0ge307XG4gICAgZm9yIChjb25zdCBLMiBvZiBnbG9iYWxUaGlzLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKEspKVxuICAgICAgICBBY2NbSzJdID0gUmVhZG9ubHkoS1tLMl0sIEYpO1xuICAgIHJldHVybiBBY2M7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21NYXBwZWRSZXN1bHQoUiwgRikge1xuICAgIHJldHVybiBGcm9tUHJvcGVydGllcyhSLnByb3BlcnRpZXMsIEYpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gUmVhZG9ubHlGcm9tTWFwcGVkUmVzdWx0KFIsIEYpIHtcbiAgICBjb25zdCBQID0gRnJvbU1hcHBlZFJlc3VsdChSLCBGKTtcbiAgICByZXR1cm4gTWFwcGVkUmVzdWx0KFApO1xufVxuIiwKICAgICJpbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL3R5cGUubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhIFR1cGxlIHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBUdXBsZSh0eXBlcywgb3B0aW9ucykge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiBDcmVhdGVUeXBlKHR5cGVzLmxlbmd0aCA+IDAgP1xuICAgICAgICB7IFtLaW5kXTogJ1R1cGxlJywgdHlwZTogJ2FycmF5JywgaXRlbXM6IHR5cGVzLCBhZGRpdGlvbmFsSXRlbXM6IGZhbHNlLCBtaW5JdGVtczogdHlwZXMubGVuZ3RoLCBtYXhJdGVtczogdHlwZXMubGVuZ3RoIH0gOlxuICAgICAgICB7IFtLaW5kXTogJ1R1cGxlJywgdHlwZTogJ2FycmF5JywgbWluSXRlbXM6IHR5cGVzLmxlbmd0aCwgbWF4SXRlbXM6IHR5cGVzLmxlbmd0aCB9LCBvcHRpb25zKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgS2luZCwgT3B0aW9uYWxLaW5kLCBSZWFkb25seUtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBEaXNjYXJkIH0gZnJvbSAnLi4vZGlzY2FyZC9pbmRleC5tanMnO1xuLy8gZXZhbHVhdGlvbiB0eXBlc1xuaW1wb3J0IHsgQXJyYXkgfSBmcm9tICcuLi9hcnJheS9pbmRleC5tanMnO1xuaW1wb3J0IHsgQXN5bmNJdGVyYXRvciB9IGZyb20gJy4uL2FzeW5jLWl0ZXJhdG9yL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDb25zdHJ1Y3RvciB9IGZyb20gJy4uL2NvbnN0cnVjdG9yL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBGdW5jdGlvbiBhcyBGdW5jdGlvblR5cGUgfSBmcm9tICcuLi9mdW5jdGlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgSW5kZXhQcm9wZXJ0eUtleXMgfSBmcm9tICcuLi9pbmRleGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBJbnRlcnNlY3QgfSBmcm9tICcuLi9pbnRlcnNlY3QvaW5kZXgubWpzJztcbmltcG9ydCB7IEl0ZXJhdG9yIH0gZnJvbSAnLi4vaXRlcmF0b3IvaW5kZXgubWpzJztcbmltcG9ydCB7IExpdGVyYWwgfSBmcm9tICcuLi9saXRlcmFsL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPYmplY3QgfSBmcm9tICcuLi9vYmplY3QvaW5kZXgubWpzJztcbmltcG9ydCB7IE9wdGlvbmFsIH0gZnJvbSAnLi4vb3B0aW9uYWwvaW5kZXgubWpzJztcbmltcG9ydCB7IFByb21pc2UgfSBmcm9tICcuLi9wcm9taXNlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBSZWFkb25seSB9IGZyb20gJy4uL3JlYWRvbmx5L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUdXBsZSB9IGZyb20gJy4uL3R1cGxlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBVbmlvbiB9IGZyb20gJy4uL3VuaW9uL2luZGV4Lm1qcyc7XG4vLyBvcGVyYXRvclxuaW1wb3J0IHsgU2V0SW5jbHVkZXMgfSBmcm9tICcuLi9zZXRzL2luZGV4Lm1qcyc7XG4vLyBtYXBwaW5nIHR5cGVzXG5pbXBvcnQgeyBNYXBwZWRSZXN1bHQgfSBmcm9tICcuL21hcHBlZC1yZXN1bHQubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzQXJyYXksIElzQXN5bmNJdGVyYXRvciwgSXNDb25zdHJ1Y3RvciwgSXNGdW5jdGlvbiwgSXNJbnRlcnNlY3QsIElzSXRlcmF0b3IsIElzUmVhZG9ubHksIElzTWFwcGVkUmVzdWx0LCBJc01hcHBlZEtleSwgSXNPYmplY3QsIElzT3B0aW9uYWwsIElzUHJvbWlzZSwgSXNTY2hlbWEsIElzVHVwbGUsIElzVW5pb24gfSBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21NYXBwZWRSZXN1bHQoSywgUCkge1xuICAgIHJldHVybiAoSyBpbiBQXG4gICAgICAgID8gRnJvbVNjaGVtYVR5cGUoSywgUFtLXSlcbiAgICAgICAgOiBNYXBwZWRSZXN1bHQoUCkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBNYXBwZWRLZXlUb0tub3duTWFwcGVkUmVzdWx0UHJvcGVydGllcyhLKSB7XG4gICAgcmV0dXJuIHsgW0tdOiBMaXRlcmFsKEspIH07XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIE1hcHBlZEtleVRvVW5rbm93bk1hcHBlZFJlc3VsdFByb3BlcnRpZXMoUCkge1xuICAgIGNvbnN0IEFjYyA9IHt9O1xuICAgIGZvciAoY29uc3QgTCBvZiBQKVxuICAgICAgICBBY2NbTF0gPSBMaXRlcmFsKEwpO1xuICAgIHJldHVybiBBY2M7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIE1hcHBlZEtleVRvTWFwcGVkUmVzdWx0UHJvcGVydGllcyhLLCBQKSB7XG4gICAgcmV0dXJuIChTZXRJbmNsdWRlcyhQLCBLKVxuICAgICAgICA/IE1hcHBlZEtleVRvS25vd25NYXBwZWRSZXN1bHRQcm9wZXJ0aWVzKEspXG4gICAgICAgIDogTWFwcGVkS2V5VG9Vbmtub3duTWFwcGVkUmVzdWx0UHJvcGVydGllcyhQKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21NYXBwZWRLZXkoSywgUCkge1xuICAgIGNvbnN0IFIgPSBNYXBwZWRLZXlUb01hcHBlZFJlc3VsdFByb3BlcnRpZXMoSywgUCk7XG4gICAgcmV0dXJuIEZyb21NYXBwZWRSZXN1bHQoSywgUik7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZXN0KEssIFQpIHtcbiAgICByZXR1cm4gVC5tYXAoTCA9PiBGcm9tU2NoZW1hVHlwZShLLCBMKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9wZXJ0aWVzKEssIFQpIHtcbiAgICBjb25zdCBBY2MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEsyIG9mIGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoVCkpXG4gICAgICAgIEFjY1tLMl0gPSBGcm9tU2NoZW1hVHlwZShLLCBUW0syXSk7XG4gICAgcmV0dXJuIEFjYztcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVNjaGVtYVR5cGUoSywgVCkge1xuICAgIC8vIHJlcXVpcmVkIHRvIHJldGFpbiB1c2VyIGRlZmluZWQgb3B0aW9ucyBmb3IgbWFwcGVkIHR5cGVcbiAgICBjb25zdCBvcHRpb25zID0geyAuLi5UIH07XG4gICAgcmV0dXJuIChcbiAgICAvLyB1bmV2YWx1YXRlZCBtb2RpZmllciB0eXBlc1xuICAgIElzT3B0aW9uYWwoVCkgPyBPcHRpb25hbChGcm9tU2NoZW1hVHlwZShLLCBEaXNjYXJkKFQsIFtPcHRpb25hbEtpbmRdKSkpIDpcbiAgICAgICAgSXNSZWFkb25seShUKSA/IFJlYWRvbmx5KEZyb21TY2hlbWFUeXBlKEssIERpc2NhcmQoVCwgW1JlYWRvbmx5S2luZF0pKSkgOlxuICAgICAgICAgICAgLy8gdW5ldmFsdWF0ZWQgbWFwcGVkIHR5cGVzXG4gICAgICAgICAgICBJc01hcHBlZFJlc3VsdChUKSA/IEZyb21NYXBwZWRSZXN1bHQoSywgVC5wcm9wZXJ0aWVzKSA6XG4gICAgICAgICAgICAgICAgSXNNYXBwZWRLZXkoVCkgPyBGcm9tTWFwcGVkS2V5KEssIFQua2V5cykgOlxuICAgICAgICAgICAgICAgICAgICAvLyB1bmV2YWx1YXRlZCB0eXBlc1xuICAgICAgICAgICAgICAgICAgICBJc0NvbnN0cnVjdG9yKFQpID8gQ29uc3RydWN0b3IoRnJvbVJlc3QoSywgVC5wYXJhbWV0ZXJzKSwgRnJvbVNjaGVtYVR5cGUoSywgVC5yZXR1cm5zKSwgb3B0aW9ucykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgSXNGdW5jdGlvbihUKSA/IEZ1bmN0aW9uVHlwZShGcm9tUmVzdChLLCBULnBhcmFtZXRlcnMpLCBGcm9tU2NoZW1hVHlwZShLLCBULnJldHVybnMpLCBvcHRpb25zKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNBc3luY0l0ZXJhdG9yKFQpID8gQXN5bmNJdGVyYXRvcihGcm9tU2NoZW1hVHlwZShLLCBULml0ZW1zKSwgb3B0aW9ucykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc0l0ZXJhdG9yKFQpID8gSXRlcmF0b3IoRnJvbVNjaGVtYVR5cGUoSywgVC5pdGVtcyksIG9wdGlvbnMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzSW50ZXJzZWN0KFQpID8gSW50ZXJzZWN0KEZyb21SZXN0KEssIFQuYWxsT2YpLCBvcHRpb25zKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNVbmlvbihUKSA/IFVuaW9uKEZyb21SZXN0KEssIFQuYW55T2YpLCBvcHRpb25zKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzVHVwbGUoVCkgPyBUdXBsZShGcm9tUmVzdChLLCBULml0ZW1zID8/IFtdKSwgb3B0aW9ucykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNPYmplY3QoVCkgPyBPYmplY3QoRnJvbVByb3BlcnRpZXMoSywgVC5wcm9wZXJ0aWVzKSwgb3B0aW9ucykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzQXJyYXkoVCkgPyBBcnJheShGcm9tU2NoZW1hVHlwZShLLCBULml0ZW1zKSwgb3B0aW9ucykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc1Byb21pc2UoVCkgPyBQcm9taXNlKEZyb21TY2hlbWFUeXBlKEssIFQuaXRlbSksIG9wdGlvbnMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFQpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gTWFwcGVkRnVuY3Rpb25SZXR1cm5UeXBlKEssIFQpIHtcbiAgICBjb25zdCBBY2MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEwgb2YgSylcbiAgICAgICAgQWNjW0xdID0gRnJvbVNjaGVtYVR5cGUoTCwgVCk7XG4gICAgcmV0dXJuIEFjYztcbn1cbi8qKiBgW0pzb25dYCBDcmVhdGVzIGEgTWFwcGVkIG9iamVjdCB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gTWFwcGVkKGtleSwgbWFwLCBvcHRpb25zKSB7XG4gICAgY29uc3QgSyA9IElzU2NoZW1hKGtleSkgPyBJbmRleFByb3BlcnR5S2V5cyhrZXkpIDoga2V5O1xuICAgIGNvbnN0IFJUID0gbWFwKHsgW0tpbmRdOiAnTWFwcGVkS2V5Jywga2V5czogSyB9KTtcbiAgICBjb25zdCBSID0gTWFwcGVkRnVuY3Rpb25SZXR1cm5UeXBlKEssIFJUKTtcbiAgICByZXR1cm4gT2JqZWN0KFIsIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL3R5cGUubWpzJztcbmltcG9ydCB7IE9wdGlvbmFsS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IERpc2NhcmQgfSBmcm9tICcuLi9kaXNjYXJkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPcHRpb25hbEZyb21NYXBwZWRSZXN1bHQgfSBmcm9tICcuL29wdGlvbmFsLWZyb20tbWFwcGVkLXJlc3VsdC5tanMnO1xuaW1wb3J0IHsgSXNNYXBwZWRSZXN1bHQgfSBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG5mdW5jdGlvbiBSZW1vdmVPcHRpb25hbChzY2hlbWEpIHtcbiAgICByZXR1cm4gQ3JlYXRlVHlwZShEaXNjYXJkKHNjaGVtYSwgW09wdGlvbmFsS2luZF0pKTtcbn1cbmZ1bmN0aW9uIEFkZE9wdGlvbmFsKHNjaGVtYSkge1xuICAgIHJldHVybiBDcmVhdGVUeXBlKHsgLi4uc2NoZW1hLCBbT3B0aW9uYWxLaW5kXTogJ09wdGlvbmFsJyB9KTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gT3B0aW9uYWxXaXRoRmxhZyhzY2hlbWEsIEYpIHtcbiAgICByZXR1cm4gKEYgPT09IGZhbHNlXG4gICAgICAgID8gUmVtb3ZlT3B0aW9uYWwoc2NoZW1hKVxuICAgICAgICA6IEFkZE9wdGlvbmFsKHNjaGVtYSkpO1xufVxuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBPcHRpb25hbCBwcm9wZXJ0eSAqL1xuZXhwb3J0IGZ1bmN0aW9uIE9wdGlvbmFsKHNjaGVtYSwgZW5hYmxlKSB7XG4gICAgY29uc3QgRiA9IGVuYWJsZSA/PyB0cnVlO1xuICAgIHJldHVybiBJc01hcHBlZFJlc3VsdChzY2hlbWEpID8gT3B0aW9uYWxGcm9tTWFwcGVkUmVzdWx0KHNjaGVtYSwgRikgOiBPcHRpb25hbFdpdGhGbGFnKHNjaGVtYSwgRik7XG59XG4iLAogICAgImltcG9ydCB7IE1hcHBlZFJlc3VsdCB9IGZyb20gJy4uL21hcHBlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgT3B0aW9uYWwgfSBmcm9tICcuL29wdGlvbmFsLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9wZXJ0aWVzKFAsIEYpIHtcbiAgICBjb25zdCBBY2MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEsyIG9mIGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoUCkpXG4gICAgICAgIEFjY1tLMl0gPSBPcHRpb25hbChQW0syXSwgRik7XG4gICAgcmV0dXJuIEFjYztcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU1hcHBlZFJlc3VsdChSLCBGKSB7XG4gICAgcmV0dXJuIEZyb21Qcm9wZXJ0aWVzKFIucHJvcGVydGllcywgRik7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBPcHRpb25hbEZyb21NYXBwZWRSZXN1bHQoUiwgRikge1xuICAgIGNvbnN0IFAgPSBGcm9tTWFwcGVkUmVzdWx0KFIsIEYpO1xuICAgIHJldHVybiBNYXBwZWRSZXN1bHQoUCk7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzT2JqZWN0LCBJc1NjaGVtYSB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSW50ZXJzZWN0Q3JlYXRlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIEludGVyc2VjdENyZWF0ZShULCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBhbGxPYmplY3RzID0gVC5ldmVyeSgoc2NoZW1hKSA9PiBJc09iamVjdChzY2hlbWEpKTtcbiAgICBjb25zdCBjbG9uZWRVbmV2YWx1YXRlZFByb3BlcnRpZXMgPSBJc1NjaGVtYShvcHRpb25zLnVuZXZhbHVhdGVkUHJvcGVydGllcylcbiAgICAgICAgPyB7IHVuZXZhbHVhdGVkUHJvcGVydGllczogb3B0aW9ucy51bmV2YWx1YXRlZFByb3BlcnRpZXMgfVxuICAgICAgICA6IHt9O1xuICAgIHJldHVybiBDcmVhdGVUeXBlKChvcHRpb25zLnVuZXZhbHVhdGVkUHJvcGVydGllcyA9PT0gZmFsc2UgfHwgSXNTY2hlbWEob3B0aW9ucy51bmV2YWx1YXRlZFByb3BlcnRpZXMpIHx8IGFsbE9iamVjdHNcbiAgICAgICAgPyB7IC4uLmNsb25lZFVuZXZhbHVhdGVkUHJvcGVydGllcywgW0tpbmRdOiAnSW50ZXJzZWN0JywgdHlwZTogJ29iamVjdCcsIGFsbE9mOiBUIH1cbiAgICAgICAgOiB7IC4uLmNsb25lZFVuZXZhbHVhdGVkUHJvcGVydGllcywgW0tpbmRdOiAnSW50ZXJzZWN0JywgYWxsT2Y6IFQgfSksIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBPcHRpb25hbEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL3R5cGUubWpzJztcbmltcG9ydCB7IERpc2NhcmQgfSBmcm9tICcuLi9kaXNjYXJkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBOZXZlciB9IGZyb20gJy4uL25ldmVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPcHRpb25hbCB9IGZyb20gJy4uL29wdGlvbmFsL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBJbnRlcnNlY3RDcmVhdGUgfSBmcm9tICcuL2ludGVyc2VjdC1jcmVhdGUubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzT3B0aW9uYWwsIElzVHJhbnNmb3JtIH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBJc0ludGVyc2VjdE9wdGlvbmFsKHR5cGVzKSB7XG4gICAgcmV0dXJuIHR5cGVzLmV2ZXJ5KGxlZnQgPT4gSXNPcHRpb25hbChsZWZ0KSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFJlbW92ZU9wdGlvbmFsRnJvbVR5cGUodHlwZSkge1xuICAgIHJldHVybiAoRGlzY2FyZCh0eXBlLCBbT3B0aW9uYWxLaW5kXSkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBSZW1vdmVPcHRpb25hbEZyb21SZXN0KHR5cGVzKSB7XG4gICAgcmV0dXJuIHR5cGVzLm1hcChsZWZ0ID0+IElzT3B0aW9uYWwobGVmdCkgPyBSZW1vdmVPcHRpb25hbEZyb21UeXBlKGxlZnQpIDogbGVmdCk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFJlc29sdmVJbnRlcnNlY3QodHlwZXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gKElzSW50ZXJzZWN0T3B0aW9uYWwodHlwZXMpXG4gICAgICAgID8gT3B0aW9uYWwoSW50ZXJzZWN0Q3JlYXRlKFJlbW92ZU9wdGlvbmFsRnJvbVJlc3QodHlwZXMpLCBvcHRpb25zKSlcbiAgICAgICAgOiBJbnRlcnNlY3RDcmVhdGUoUmVtb3ZlT3B0aW9uYWxGcm9tUmVzdCh0eXBlcyksIG9wdGlvbnMpKTtcbn1cbi8qKiBgW0pzb25dYCBDcmVhdGVzIGFuIGV2YWx1YXRlZCBJbnRlcnNlY3QgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIEludGVyc2VjdEV2YWx1YXRlZCh0eXBlcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKHR5cGVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgcmV0dXJuIENyZWF0ZVR5cGUodHlwZXNbMF0sIG9wdGlvbnMpO1xuICAgIGlmICh0eXBlcy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBOZXZlcihvcHRpb25zKTtcbiAgICBpZiAodHlwZXMuc29tZSgoc2NoZW1hKSA9PiBJc1RyYW5zZm9ybShzY2hlbWEpKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW50ZXJzZWN0IHRyYW5zZm9ybSB0eXBlcycpO1xuICAgIHJldHVybiBSZXNvbHZlSW50ZXJzZWN0KHR5cGVzLCBvcHRpb25zKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBOZXZlciB9IGZyb20gJy4uL25ldmVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBJbnRlcnNlY3RDcmVhdGUgfSBmcm9tICcuL2ludGVyc2VjdC1jcmVhdGUubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzVHJhbnNmb3JtIH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYW4gZXZhbHVhdGVkIEludGVyc2VjdCB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gSW50ZXJzZWN0KHR5cGVzLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgcmV0dXJuIENyZWF0ZVR5cGUodHlwZXNbMF0sIG9wdGlvbnMpO1xuICAgIGlmICh0eXBlcy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBOZXZlcihvcHRpb25zKTtcbiAgICBpZiAodHlwZXMuc29tZSgoc2NoZW1hKSA9PiBJc1RyYW5zZm9ybShzY2hlbWEpKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW50ZXJzZWN0IHRyYW5zZm9ybSB0eXBlcycpO1xuICAgIHJldHVybiBJbnRlcnNlY3RDcmVhdGUodHlwZXMsIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBUeXBlQm94RXJyb3IgfSBmcm9tICcuLi9lcnJvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBSZWYgdHlwZS4gVGhlIHJlZmVyZW5jZWQgdHlwZSBtdXN0IGNvbnRhaW4gYSAkaWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWYoLi4uYXJncykge1xuICAgIGNvbnN0IFskcmVmLCBvcHRpb25zXSA9IHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJyA/IFthcmdzWzBdLCBhcmdzWzFdXSA6IFthcmdzWzBdLiRpZCwgYXJnc1sxXV07XG4gICAgaWYgKHR5cGVvZiAkcmVmICE9PSAnc3RyaW5nJylcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVCb3hFcnJvcignUmVmOiAkcmVmIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICByZXR1cm4gQ3JlYXRlVHlwZSh7IFtLaW5kXTogJ1JlZicsICRyZWYgfSwgb3B0aW9ucyk7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgQ29tcHV0ZWQgfSBmcm9tICcuLi9jb21wdXRlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgSW50ZXJzZWN0IH0gZnJvbSAnLi4vaW50ZXJzZWN0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBVbmlvbiB9IGZyb20gJy4uL3VuaW9uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBSZWYgfSBmcm9tICcuLi9yZWYvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzSW50ZXJzZWN0LCBJc1VuaW9uLCBJc1Byb21pc2UsIElzUmVmLCBJc0NvbXB1dGVkIH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQ29tcHV0ZWQodGFyZ2V0LCBwYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIENvbXB1dGVkKCdBd2FpdGVkJywgW0NvbXB1dGVkKHRhcmdldCwgcGFyYW1ldGVycyldKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVJlZigkcmVmKSB7XG4gICAgcmV0dXJuIENvbXB1dGVkKCdBd2FpdGVkJywgW1JlZigkcmVmKV0pO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tSW50ZXJzZWN0KHR5cGVzKSB7XG4gICAgcmV0dXJuIEludGVyc2VjdChGcm9tUmVzdCh0eXBlcykpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5pb24odHlwZXMpIHtcbiAgICByZXR1cm4gVW5pb24oRnJvbVJlc3QodHlwZXMpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb21pc2UodHlwZSkge1xuICAgIHJldHVybiBBd2FpdGVkKHR5cGUpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUmVzdCh0eXBlcykge1xuICAgIHJldHVybiB0eXBlcy5tYXAodHlwZSA9PiBBd2FpdGVkKHR5cGUpKTtcbn1cbi8qKiBgW0phdmFTY3JpcHRdYCBDb25zdHJ1Y3RzIGEgdHlwZSBieSByZWN1cnNpdmVseSB1bndyYXBwaW5nIFByb21pc2UgdHlwZXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBBd2FpdGVkKHR5cGUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gQ3JlYXRlVHlwZShJc0NvbXB1dGVkKHR5cGUpID8gRnJvbUNvbXB1dGVkKHR5cGUudGFyZ2V0LCB0eXBlLnBhcmFtZXRlcnMpIDogSXNJbnRlcnNlY3QodHlwZSkgPyBGcm9tSW50ZXJzZWN0KHR5cGUuYWxsT2YpIDogSXNVbmlvbih0eXBlKSA/IEZyb21Vbmlvbih0eXBlLmFueU9mKSA6IElzUHJvbWlzZSh0eXBlKSA/IEZyb21Qcm9taXNlKHR5cGUuaXRlbSkgOiBJc1JlZih0eXBlKSA/IEZyb21SZWYodHlwZS4kcmVmKSA6IHR5cGUsIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBTZXRVbmlvbk1hbnksIFNldEludGVyc2VjdE1hbnkgfSBmcm9tICcuLi9zZXRzL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc0ludGVyc2VjdCwgSXNVbmlvbiwgSXNUdXBsZSwgSXNBcnJheSwgSXNPYmplY3QsIElzUmVjb3JkIH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUmVzdCh0eXBlcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAoY29uc3QgTCBvZiB0eXBlcylcbiAgICAgICAgcmVzdWx0LnB1c2goS2V5T2ZQcm9wZXJ0eUtleXMoTCkpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21JbnRlcnNlY3QodHlwZXMpIHtcbiAgICBjb25zdCBwcm9wZXJ0eUtleXNBcnJheSA9IEZyb21SZXN0KHR5cGVzKTtcbiAgICBjb25zdCBwcm9wZXJ0eUtleXMgPSBTZXRVbmlvbk1hbnkocHJvcGVydHlLZXlzQXJyYXkpO1xuICAgIHJldHVybiBwcm9wZXJ0eUtleXM7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Vbmlvbih0eXBlcykge1xuICAgIGNvbnN0IHByb3BlcnR5S2V5c0FycmF5ID0gRnJvbVJlc3QodHlwZXMpO1xuICAgIGNvbnN0IHByb3BlcnR5S2V5cyA9IFNldEludGVyc2VjdE1hbnkocHJvcGVydHlLZXlzQXJyYXkpO1xuICAgIHJldHVybiBwcm9wZXJ0eUtleXM7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21UdXBsZSh0eXBlcykge1xuICAgIHJldHVybiB0eXBlcy5tYXAoKF8sIGluZGV4ZXIpID0+IGluZGV4ZXIudG9TdHJpbmcoKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21BcnJheShfKSB7XG4gICAgcmV0dXJuIChbJ1tudW1iZXJdJ10pO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydGllcyhUKSB7XG4gICAgcmV0dXJuIChnbG9iYWxUaGlzLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFQpKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRnJvbVBhdHRlcm5Qcm9wZXJ0aWVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVBhdHRlcm5Qcm9wZXJ0aWVzKHBhdHRlcm5Qcm9wZXJ0aWVzKSB7XG4gICAgaWYgKCFpbmNsdWRlUGF0dGVyblByb3BlcnRpZXMpXG4gICAgICAgIHJldHVybiBbXTtcbiAgICBjb25zdCBwYXR0ZXJuUHJvcGVydHlLZXlzID0gZ2xvYmFsVGhpcy5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwYXR0ZXJuUHJvcGVydGllcyk7XG4gICAgcmV0dXJuIHBhdHRlcm5Qcm9wZXJ0eUtleXMubWFwKGtleSA9PiB7XG4gICAgICAgIHJldHVybiAoa2V5WzBdID09PSAnXicgJiYga2V5W2tleS5sZW5ndGggLSAxXSA9PT0gJyQnKVxuICAgICAgICAgICAgPyBrZXkuc2xpY2UoMSwga2V5Lmxlbmd0aCAtIDEpXG4gICAgICAgICAgICA6IGtleTtcbiAgICB9KTtcbn1cbi8qKiBSZXR1cm5zIGEgdHVwbGUgb2YgUHJvcGVydHlLZXlzIGRlcml2ZWQgZnJvbSB0aGUgZ2l2ZW4gVFNjaGVtYS4gKi9cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIEtleU9mUHJvcGVydHlLZXlzKHR5cGUpIHtcbiAgICByZXR1cm4gKElzSW50ZXJzZWN0KHR5cGUpID8gRnJvbUludGVyc2VjdCh0eXBlLmFsbE9mKSA6XG4gICAgICAgIElzVW5pb24odHlwZSkgPyBGcm9tVW5pb24odHlwZS5hbnlPZikgOlxuICAgICAgICAgICAgSXNUdXBsZSh0eXBlKSA/IEZyb21UdXBsZSh0eXBlLml0ZW1zID8/IFtdKSA6XG4gICAgICAgICAgICAgICAgSXNBcnJheSh0eXBlKSA/IEZyb21BcnJheSh0eXBlLml0ZW1zKSA6XG4gICAgICAgICAgICAgICAgICAgIElzT2JqZWN0KHR5cGUpID8gRnJvbVByb3BlcnRpZXModHlwZS5wcm9wZXJ0aWVzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBJc1JlY29yZCh0eXBlKSA/IEZyb21QYXR0ZXJuUHJvcGVydGllcyh0eXBlLnBhdHRlcm5Qcm9wZXJ0aWVzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW10pO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gS2V5T2ZQYXR0ZXJuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5sZXQgaW5jbHVkZVBhdHRlcm5Qcm9wZXJ0aWVzID0gZmFsc2U7XG4vKiogUmV0dXJucyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBwYXR0ZXJuIGRlcml2ZWQgZnJvbSB0aGUgZ2l2ZW4gVFNjaGVtYSAqL1xuZXhwb3J0IGZ1bmN0aW9uIEtleU9mUGF0dGVybihzY2hlbWEpIHtcbiAgICBpbmNsdWRlUGF0dGVyblByb3BlcnRpZXMgPSB0cnVlO1xuICAgIGNvbnN0IGtleXMgPSBLZXlPZlByb3BlcnR5S2V5cyhzY2hlbWEpO1xuICAgIGluY2x1ZGVQYXR0ZXJuUHJvcGVydGllcyA9IGZhbHNlO1xuICAgIGNvbnN0IHBhdHRlcm4gPSBrZXlzLm1hcCgoa2V5KSA9PiBgKCR7a2V5fSlgKTtcbiAgICByZXR1cm4gYF4oJHtwYXR0ZXJuLmpvaW4oJ3wnKX0pJGA7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgTGl0ZXJhbCB9IGZyb20gJy4uL2xpdGVyYWwvaW5kZXgubWpzJztcbmltcG9ydCB7IE51bWJlciB9IGZyb20gJy4uL251bWJlci9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ29tcHV0ZWQgfSBmcm9tICcuLi9jb21wdXRlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgUmVmIH0gZnJvbSAnLi4vcmVmL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLZXlPZlByb3BlcnR5S2V5cyB9IGZyb20gJy4va2V5b2YtcHJvcGVydHkta2V5cy5tanMnO1xuaW1wb3J0IHsgVW5pb25FdmFsdWF0ZWQgfSBmcm9tICcuLi91bmlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgS2V5T2ZGcm9tTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi9rZXlvZi1mcm9tLW1hcHBlZC1yZXN1bHQubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzTWFwcGVkUmVzdWx0LCBJc1JlZiwgSXNDb21wdXRlZCB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUNvbXB1dGVkKHRhcmdldCwgcGFyYW1ldGVycykge1xuICAgIHJldHVybiBDb21wdXRlZCgnS2V5T2YnLCBbQ29tcHV0ZWQodGFyZ2V0LCBwYXJhbWV0ZXJzKV0pO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUmVmKCRyZWYpIHtcbiAgICByZXR1cm4gQ29tcHV0ZWQoJ0tleU9mJywgW1JlZigkcmVmKV0pO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBLZXlPZkZyb21UeXBlKHR5cGUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBwcm9wZXJ0eUtleXMgPSBLZXlPZlByb3BlcnR5S2V5cyh0eXBlKTtcbiAgICBjb25zdCBwcm9wZXJ0eUtleVR5cGVzID0gS2V5T2ZQcm9wZXJ0eUtleXNUb1Jlc3QocHJvcGVydHlLZXlzKTtcbiAgICBjb25zdCByZXN1bHQgPSBVbmlvbkV2YWx1YXRlZChwcm9wZXJ0eUtleVR5cGVzKTtcbiAgICByZXR1cm4gQ3JlYXRlVHlwZShyZXN1bHQsIG9wdGlvbnMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gS2V5T2ZQcm9wZXJ0eUtleXNUb1Jlc3QocHJvcGVydHlLZXlzKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5S2V5cy5tYXAoTCA9PiBMID09PSAnW251bWJlcl0nID8gTnVtYmVyKCkgOiBMaXRlcmFsKEwpKTtcbn1cbi8qKiBgW0pzb25dYCBDcmVhdGVzIGEgS2V5T2YgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIEtleU9mKHR5cGUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gKElzQ29tcHV0ZWQodHlwZSkgPyBGcm9tQ29tcHV0ZWQodHlwZS50YXJnZXQsIHR5cGUucGFyYW1ldGVycykgOiBJc1JlZih0eXBlKSA/IEZyb21SZWYodHlwZS4kcmVmKSA6IElzTWFwcGVkUmVzdWx0KHR5cGUpID8gS2V5T2ZGcm9tTWFwcGVkUmVzdWx0KHR5cGUsIG9wdGlvbnMpIDogS2V5T2ZGcm9tVHlwZSh0eXBlLCBvcHRpb25zKSk7XG59XG4iLAogICAgImltcG9ydCB7IE1hcHBlZFJlc3VsdCB9IGZyb20gJy4uL21hcHBlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgS2V5T2YgfSBmcm9tICcuL2tleW9mLm1qcyc7XG5pbXBvcnQgeyBDbG9uZSB9IGZyb20gJy4uL2Nsb25lL3ZhbHVlLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9wZXJ0aWVzKHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEsyIG9mIGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvcGVydGllcykpXG4gICAgICAgIHJlc3VsdFtLMl0gPSBLZXlPZihwcm9wZXJ0aWVzW0syXSwgQ2xvbmUob3B0aW9ucykpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21NYXBwZWRSZXN1bHQobWFwcGVkUmVzdWx0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIEZyb21Qcm9wZXJ0aWVzKG1hcHBlZFJlc3VsdC5wcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIEtleU9mRnJvbU1hcHBlZFJlc3VsdChtYXBwZWRSZXN1bHQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gRnJvbU1hcHBlZFJlc3VsdChtYXBwZWRSZXN1bHQsIG9wdGlvbnMpO1xuICAgIHJldHVybiBNYXBwZWRSZXN1bHQocHJvcGVydGllcyk7XG59XG4iLAogICAgImltcG9ydCB7IEluZGV4RnJvbVByb3BlcnR5S2V5cyB9IGZyb20gJy4uL2luZGV4ZWQvaW5kZXhlZC5tanMnO1xuaW1wb3J0IHsgS2V5T2ZQcm9wZXJ0eUtleXMgfSBmcm9tICcuL2tleW9mLXByb3BlcnR5LWtleXMubWpzJztcbi8qKlxuICogYFtVdGlsaXR5XWAgUmVzb2x2ZXMgYW4gYXJyYXkgb2Yga2V5cyBhbmQgc2NoZW1hcyBmcm9tIHRoZSBnaXZlbiBzY2hlbWEuIFRoaXMgbWV0aG9kIGlzIGZhc3RlclxuICogdGhhbiBvYnRhaW5pbmcgdGhlIGtleXMgYW5kIHJlc29sdmluZyBlYWNoIGluZGl2aWR1YWxseSB2aWEgaW5kZXhpbmcuIFRoaXMgbWV0aG9kIHdhcyB3cml0dGVuXG4gKiBhY2NlbGxlcmF0ZSBJbnRlcnNlY3QgYW5kIFVuaW9uIGVuY29kaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gS2V5T2ZQcm9wZXJ0eUVudHJpZXMoc2NoZW1hKSB7XG4gICAgY29uc3Qga2V5cyA9IEtleU9mUHJvcGVydHlLZXlzKHNjaGVtYSk7XG4gICAgY29uc3Qgc2NoZW1hcyA9IEluZGV4RnJvbVByb3BlcnR5S2V5cyhzY2hlbWEsIGtleXMpO1xuICAgIHJldHVybiBrZXlzLm1hcCgoXywgaW5kZXgpID0+IFtrZXlzW2luZGV4XSwgc2NoZW1hc1tpbmRleF1dKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgSW50ZXJzZWN0RXZhbHVhdGVkIH0gZnJvbSAnLi4vaW50ZXJzZWN0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBJbmRleEZyb21Qcm9wZXJ0eUtleXMgfSBmcm9tICcuLi9pbmRleGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLZXlPZlByb3BlcnR5S2V5cyB9IGZyb20gJy4uL2tleW9mL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPYmplY3QgfSBmcm9tICcuLi9vYmplY3QvaW5kZXgubWpzJztcbmltcG9ydCB7IFNldERpc3RpbmN0IH0gZnJvbSAnLi4vc2V0cy9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNOZXZlciB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gQ29tcG9zaXRlS2V5cyhUKSB7XG4gICAgY29uc3QgQWNjID0gW107XG4gICAgZm9yIChjb25zdCBMIG9mIFQpXG4gICAgICAgIEFjYy5wdXNoKC4uLktleU9mUHJvcGVydHlLZXlzKEwpKTtcbiAgICByZXR1cm4gU2V0RGlzdGluY3QoQWNjKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRmlsdGVyTmV2ZXIoVCkge1xuICAgIHJldHVybiBULmZpbHRlcihMID0+ICFJc05ldmVyKEwpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gQ29tcG9zaXRlUHJvcGVydHkoVCwgSykge1xuICAgIGNvbnN0IEFjYyA9IFtdO1xuICAgIGZvciAoY29uc3QgTCBvZiBUKVxuICAgICAgICBBY2MucHVzaCguLi5JbmRleEZyb21Qcm9wZXJ0eUtleXMoTCwgW0tdKSk7XG4gICAgcmV0dXJuIEZpbHRlck5ldmVyKEFjYyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIENvbXBvc2l0ZVByb3BlcnRpZXMoVCwgSykge1xuICAgIGNvbnN0IEFjYyA9IHt9O1xuICAgIGZvciAoY29uc3QgTCBvZiBLKSB7XG4gICAgICAgIEFjY1tMXSA9IEludGVyc2VjdEV2YWx1YXRlZChDb21wb3NpdGVQcm9wZXJ0eShULCBMKSk7XG4gICAgfVxuICAgIHJldHVybiBBY2M7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBDb21wb3NpdGUoVCwgb3B0aW9ucykge1xuICAgIGNvbnN0IEsgPSBDb21wb3NpdGVLZXlzKFQpO1xuICAgIGNvbnN0IFAgPSBDb21wb3NpdGVQcm9wZXJ0aWVzKFQsIEspO1xuICAgIGNvbnN0IFIgPSBPYmplY3QoUCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIFI7XG59XG4iLAogICAgImltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL3R5cGUubWpzJztcbi8qKiBgW0phdmFTY3JpcHRdYCBDcmVhdGVzIGEgRGF0ZSB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gRGF0ZShvcHRpb25zKSB7XG4gICAgcmV0dXJuIENyZWF0ZVR5cGUoeyBbS2luZF06ICdEYXRlJywgdHlwZTogJ0RhdGUnIH0sIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL3R5cGUubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhIE51bGwgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIE51bGwob3B0aW9ucykge1xuICAgIHJldHVybiBDcmVhdGVUeXBlKHsgW0tpbmRdOiAnTnVsbCcsIHR5cGU6ICdudWxsJyB9LCBvcHRpb25zKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIGBbSmF2YVNjcmlwdF1gIENyZWF0ZXMgYSBTeW1ib2wgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFN5bWJvbChvcHRpb25zKSB7XG4gICAgcmV0dXJuIENyZWF0ZVR5cGUoeyBbS2luZF06ICdTeW1ib2wnLCB0eXBlOiAnc3ltYm9sJyB9LCBvcHRpb25zKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIGBbSmF2YVNjcmlwdF1gIENyZWF0ZXMgYSBVbmRlZmluZWQgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFVuZGVmaW5lZChvcHRpb25zKSB7XG4gICAgcmV0dXJuIENyZWF0ZVR5cGUoeyBbS2luZF06ICdVbmRlZmluZWQnLCB0eXBlOiAndW5kZWZpbmVkJyB9LCBvcHRpb25zKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIGBbSmF2YVNjcmlwdF1gIENyZWF0ZXMgYSBVaW50OEFycmF5IHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBVaW50OEFycmF5KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gQ3JlYXRlVHlwZSh7IFtLaW5kXTogJ1VpbnQ4QXJyYXknLCB0eXBlOiAnVWludDhBcnJheScgfSwgb3B0aW9ucyk7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0pzb25dYCBDcmVhdGVzIGFuIFVua25vd24gdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFVua25vd24ob3B0aW9ucykge1xuICAgIHJldHVybiBDcmVhdGVUeXBlKHsgW0tpbmRdOiAnVW5rbm93bicgfSwgb3B0aW9ucyk7XG59XG4iLAogICAgImltcG9ydCB7IEFueSB9IGZyb20gJy4uL2FueS9pbmRleC5tanMnO1xuaW1wb3J0IHsgQmlnSW50IH0gZnJvbSAnLi4vYmlnaW50L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBEYXRlIH0gZnJvbSAnLi4vZGF0ZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgRnVuY3Rpb24gYXMgRnVuY3Rpb25UeXBlIH0gZnJvbSAnLi4vZnVuY3Rpb24vaW5kZXgubWpzJztcbmltcG9ydCB7IExpdGVyYWwgfSBmcm9tICcuLi9saXRlcmFsL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBOdWxsIH0gZnJvbSAnLi4vbnVsbC9pbmRleC5tanMnO1xuaW1wb3J0IHsgT2JqZWN0IH0gZnJvbSAnLi4vb2JqZWN0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBTeW1ib2wgfSBmcm9tICcuLi9zeW1ib2wvaW5kZXgubWpzJztcbmltcG9ydCB7IFR1cGxlIH0gZnJvbSAnLi4vdHVwbGUvaW5kZXgubWpzJztcbmltcG9ydCB7IFJlYWRvbmx5IH0gZnJvbSAnLi4vcmVhZG9ubHkvaW5kZXgubWpzJztcbmltcG9ydCB7IFVuZGVmaW5lZCB9IGZyb20gJy4uL3VuZGVmaW5lZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgVWludDhBcnJheSB9IGZyb20gJy4uL3VpbnQ4YXJyYXkvaW5kZXgubWpzJztcbmltcG9ydCB7IFVua25vd24gfSBmcm9tICcuLi91bmtub3duL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFZhbHVlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNBcnJheSwgSXNOdW1iZXIsIElzQmlnSW50LCBJc1VpbnQ4QXJyYXksIElzRGF0ZSwgSXNJdGVyYXRvciwgSXNPYmplY3QsIElzQXN5bmNJdGVyYXRvciwgSXNGdW5jdGlvbiwgSXNVbmRlZmluZWQsIElzTnVsbCwgSXNTeW1ib2wsIElzQm9vbGVhbiwgSXNTdHJpbmcgfSBmcm9tICcuLi9ndWFyZC92YWx1ZS5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQXJyYXkoVCkge1xuICAgIHJldHVybiBULm1hcChMID0+IEZyb21WYWx1ZShMLCBmYWxzZSkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydGllcyh2YWx1ZSkge1xuICAgIGNvbnN0IEFjYyA9IHt9O1xuICAgIGZvciAoY29uc3QgSyBvZiBnbG9iYWxUaGlzLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKSlcbiAgICAgICAgQWNjW0tdID0gUmVhZG9ubHkoRnJvbVZhbHVlKHZhbHVlW0tdLCBmYWxzZSkpO1xuICAgIHJldHVybiBBY2M7XG59XG5mdW5jdGlvbiBDb25kaXRpb25hbFJlYWRvbmx5KFQsIHJvb3QpIHtcbiAgICByZXR1cm4gKHJvb3QgPT09IHRydWUgPyBUIDogUmVhZG9ubHkoVCkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVmFsdWUodmFsdWUsIHJvb3QpIHtcbiAgICByZXR1cm4gKElzQXN5bmNJdGVyYXRvcih2YWx1ZSkgPyBDb25kaXRpb25hbFJlYWRvbmx5KEFueSgpLCByb290KSA6XG4gICAgICAgIElzSXRlcmF0b3IodmFsdWUpID8gQ29uZGl0aW9uYWxSZWFkb25seShBbnkoKSwgcm9vdCkgOlxuICAgICAgICAgICAgSXNBcnJheSh2YWx1ZSkgPyBSZWFkb25seShUdXBsZShGcm9tQXJyYXkodmFsdWUpKSkgOlxuICAgICAgICAgICAgICAgIElzVWludDhBcnJheSh2YWx1ZSkgPyBVaW50OEFycmF5KCkgOlxuICAgICAgICAgICAgICAgICAgICBJc0RhdGUodmFsdWUpID8gRGF0ZSgpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIElzT2JqZWN0KHZhbHVlKSA/IENvbmRpdGlvbmFsUmVhZG9ubHkoT2JqZWN0KEZyb21Qcm9wZXJ0aWVzKHZhbHVlKSksIHJvb3QpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc0Z1bmN0aW9uKHZhbHVlKSA/IENvbmRpdGlvbmFsUmVhZG9ubHkoRnVuY3Rpb25UeXBlKFtdLCBVbmtub3duKCkpLCByb290KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzVW5kZWZpbmVkKHZhbHVlKSA/IFVuZGVmaW5lZCgpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzTnVsbCh2YWx1ZSkgPyBOdWxsKCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzU3ltYm9sKHZhbHVlKSA/IFN5bWJvbCgpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNCaWdJbnQodmFsdWUpID8gQmlnSW50KCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNOdW1iZXIodmFsdWUpID8gTGl0ZXJhbCh2YWx1ZSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzQm9vbGVhbih2YWx1ZSkgPyBMaXRlcmFsKHZhbHVlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzU3RyaW5nKHZhbHVlKSA/IExpdGVyYWwodmFsdWUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdCh7fSkpO1xufVxuLyoqIGBbSmF2YVNjcmlwdF1gIENyZWF0ZXMgYSByZWFkb25seSBjb25zdCB0eXBlIGZyb20gdGhlIGdpdmVuIHZhbHVlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvbnN0KFQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gQ3JlYXRlVHlwZShGcm9tVmFsdWUoVCwgdHJ1ZSksIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBUdXBsZSB9IGZyb20gJy4uL3R1cGxlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBOZXZlciB9IGZyb20gJy4uL25ldmVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgKiBhcyBLaW5kR3VhcmQgZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLyoqIGBbSmF2YVNjcmlwdF1gIEV4dHJhY3RzIHRoZSBDb25zdHJ1Y3RvclBhcmFtZXRlcnMgZnJvbSB0aGUgZ2l2ZW4gQ29uc3RydWN0b3IgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvbnN0cnVjdG9yUGFyYW1ldGVycyhzY2hlbWEsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gKEtpbmRHdWFyZC5Jc0NvbnN0cnVjdG9yKHNjaGVtYSkgPyBUdXBsZShzY2hlbWEucGFyYW1ldGVycywgb3B0aW9ucykgOiBOZXZlcihvcHRpb25zKSk7XG59XG4iLAogICAgImltcG9ydCB7IExpdGVyYWwgfSBmcm9tICcuLi9saXRlcmFsL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLaW5kLCBIaW50IH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuaW1wb3J0IHsgVW5pb24gfSBmcm9tICcuLi91bmlvbi9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzVW5kZWZpbmVkIH0gZnJvbSAnLi4vZ3VhcmQvdmFsdWUubWpzJztcbi8qKiBgW0pzb25dYCBDcmVhdGVzIGEgRW51bSB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gRW51bShpdGVtLCBvcHRpb25zKSB7XG4gICAgaWYgKElzVW5kZWZpbmVkKGl0ZW0pKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VudW0gdW5kZWZpbmVkIG9yIGVtcHR5Jyk7XG4gICAgY29uc3QgdmFsdWVzMSA9IGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaXRlbSlcbiAgICAgICAgLmZpbHRlcigoa2V5KSA9PiBpc05hTihrZXkpKVxuICAgICAgICAubWFwKChrZXkpID0+IGl0ZW1ba2V5XSk7XG4gICAgY29uc3QgdmFsdWVzMiA9IFsuLi5uZXcgU2V0KHZhbHVlczEpXTtcbiAgICBjb25zdCBhbnlPZiA9IHZhbHVlczIubWFwKCh2YWx1ZSkgPT4gTGl0ZXJhbCh2YWx1ZSkpO1xuICAgIHJldHVybiBVbmlvbihhbnlPZiwgeyAuLi5vcHRpb25zLCBbSGludF06ICdFbnVtJyB9KTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQW55IH0gZnJvbSAnLi4vYW55L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBGdW5jdGlvbiBhcyBGdW5jdGlvblR5cGUgfSBmcm9tICcuLi9mdW5jdGlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgTnVtYmVyIH0gZnJvbSAnLi4vbnVtYmVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBTdHJpbmcgfSBmcm9tICcuLi9zdHJpbmcvaW5kZXgubWpzJztcbmltcG9ydCB7IFVua25vd24gfSBmcm9tICcuLi91bmtub3duL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUZW1wbGF0ZUxpdGVyYWxUb1VuaW9uIH0gZnJvbSAnLi4vdGVtcGxhdGUtbGl0ZXJhbC9pbmRleC5tanMnO1xuaW1wb3J0IHsgUGF0dGVybk51bWJlckV4YWN0LCBQYXR0ZXJuU3RyaW5nRXhhY3QgfSBmcm9tICcuLi9wYXR0ZXJucy9pbmRleC5tanMnO1xuaW1wb3J0IHsgS2luZCwgSGludCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IFR5cGVCb3hFcnJvciB9IGZyb20gJy4uL2Vycm9yL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUeXBlR3VhcmQsIFZhbHVlR3VhcmQgfSBmcm9tICcuLi9ndWFyZC9pbmRleC5tanMnO1xuZXhwb3J0IGNsYXNzIEV4dGVuZHNSZXNvbHZlckVycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbn1cbmV4cG9ydCB2YXIgRXh0ZW5kc1Jlc3VsdDtcbihmdW5jdGlvbiAoRXh0ZW5kc1Jlc3VsdCkge1xuICAgIEV4dGVuZHNSZXN1bHRbRXh0ZW5kc1Jlc3VsdFtcIlVuaW9uXCJdID0gMF0gPSBcIlVuaW9uXCI7XG4gICAgRXh0ZW5kc1Jlc3VsdFtFeHRlbmRzUmVzdWx0W1wiVHJ1ZVwiXSA9IDFdID0gXCJUcnVlXCI7XG4gICAgRXh0ZW5kc1Jlc3VsdFtFeHRlbmRzUmVzdWx0W1wiRmFsc2VcIl0gPSAyXSA9IFwiRmFsc2VcIjtcbn0pKEV4dGVuZHNSZXN1bHQgfHwgKEV4dGVuZHNSZXN1bHQgPSB7fSkpO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBJbnRvQm9vbGVhblJlc3VsdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEludG9Cb29sZWFuUmVzdWx0KHJlc3VsdCkge1xuICAgIHJldHVybiByZXN1bHQgPT09IEV4dGVuZHNSZXN1bHQuRmFsc2UgPyByZXN1bHQgOiBFeHRlbmRzUmVzdWx0LlRydWU7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRocm93XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gVGhyb3cobWVzc2FnZSkge1xuICAgIHRocm93IG5ldyBFeHRlbmRzUmVzb2x2ZXJFcnJvcihtZXNzYWdlKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RydWN0dXJhbFJpZ2h0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gSXNTdHJ1Y3R1cmFsUmlnaHQocmlnaHQpIHtcbiAgICByZXR1cm4gKFR5cGVHdWFyZC5Jc05ldmVyKHJpZ2h0KSB8fFxuICAgICAgICBUeXBlR3VhcmQuSXNJbnRlcnNlY3QocmlnaHQpIHx8XG4gICAgICAgIFR5cGVHdWFyZC5Jc1VuaW9uKHJpZ2h0KSB8fFxuICAgICAgICBUeXBlR3VhcmQuSXNVbmtub3duKHJpZ2h0KSB8fFxuICAgICAgICBUeXBlR3VhcmQuSXNBbnkocmlnaHQpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gU3RydWN0dXJhbFJpZ2h0KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNOZXZlcihyaWdodCkgPyBGcm9tTmV2ZXJSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICBUeXBlR3VhcmQuSXNJbnRlcnNlY3QocmlnaHQpID8gRnJvbUludGVyc2VjdFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICBUeXBlR3VhcmQuSXNVbmlvbihyaWdodCkgPyBGcm9tVW5pb25SaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1Vua25vd24ocmlnaHQpID8gRnJvbVVua25vd25SaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNBbnkocmlnaHQpID8gRnJvbUFueVJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBUaHJvdygnU3RydWN0dXJhbFJpZ2h0JykpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBBbnlcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQW55UmlnaHQobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gRXh0ZW5kc1Jlc3VsdC5UcnVlO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQW55KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNJbnRlcnNlY3QocmlnaHQpID8gRnJvbUludGVyc2VjdFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgIChUeXBlR3VhcmQuSXNVbmlvbihyaWdodCkgJiYgcmlnaHQuYW55T2Yuc29tZSgoc2NoZW1hKSA9PiBUeXBlR3VhcmQuSXNBbnkoc2NoZW1hKSB8fCBUeXBlR3VhcmQuSXNVbmtub3duKHNjaGVtYSkpKSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICBUeXBlR3VhcmQuSXNVbmlvbihyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlVuaW9uIDpcbiAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNVbmtub3duKHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc0FueShyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5Vbmlvbik7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEFycmF5XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUFycmF5UmlnaHQobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKFR5cGVHdWFyZC5Jc1Vua25vd24obGVmdCkgPyBFeHRlbmRzUmVzdWx0LkZhbHNlIDpcbiAgICAgICAgVHlwZUd1YXJkLklzQW55KGxlZnQpID8gRXh0ZW5kc1Jlc3VsdC5VbmlvbiA6XG4gICAgICAgICAgICBUeXBlR3VhcmQuSXNOZXZlcihsZWZ0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21BcnJheShsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAoVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSAmJiBJc09iamVjdEFycmF5TGlrZShyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICBJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICFUeXBlR3VhcmQuSXNBcnJheShyaWdodCkgPyBFeHRlbmRzUmVzdWx0LkZhbHNlIDpcbiAgICAgICAgICAgICAgICBJbnRvQm9vbGVhblJlc3VsdChWaXNpdChsZWZ0Lml0ZW1zLCByaWdodC5pdGVtcykpKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQXN5bmNJdGVyYXRvclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Bc3luY0l0ZXJhdG9yKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgIVR5cGVHdWFyZC5Jc0FzeW5jSXRlcmF0b3IocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA6XG4gICAgICAgICAgICBJbnRvQm9vbGVhblJlc3VsdChWaXNpdChsZWZ0Lml0ZW1zLCByaWdodC5pdGVtcykpKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQmlnSW50XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUJpZ0ludChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAoSXNTdHJ1Y3R1cmFsUmlnaHQocmlnaHQpID8gU3RydWN0dXJhbFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc09iamVjdChyaWdodCkgPyBGcm9tT2JqZWN0UmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1JlY29yZChyaWdodCkgPyBGcm9tUmVjb3JkUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNCaWdJbnQocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDpcbiAgICAgICAgICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEJvb2xlYW5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQm9vbGVhblJpZ2h0KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNMaXRlcmFsQm9vbGVhbihsZWZ0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc0Jvb2xlYW4obGVmdCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Cb29sZWFuKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSA/IEZyb21PYmplY3RSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgVHlwZUd1YXJkLklzUmVjb3JkKHJpZ2h0KSA/IEZyb21SZWNvcmRSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc0Jvb2xlYW4ocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDpcbiAgICAgICAgICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENvbnN0cnVjdG9yXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUNvbnN0cnVjdG9yKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSA/IEZyb21PYmplY3RSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgIVR5cGVHdWFyZC5Jc0NvbnN0cnVjdG9yKHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuRmFsc2UgOlxuICAgICAgICAgICAgICAgIGxlZnQucGFyYW1ldGVycy5sZW5ndGggPiByaWdodC5wYXJhbWV0ZXJzLmxlbmd0aCA/IEV4dGVuZHNSZXN1bHQuRmFsc2UgOlxuICAgICAgICAgICAgICAgICAgICAoIWxlZnQucGFyYW1ldGVycy5ldmVyeSgoc2NoZW1hLCBpbmRleCkgPT4gSW50b0Jvb2xlYW5SZXN1bHQoVmlzaXQocmlnaHQucGFyYW1ldGVyc1tpbmRleF0sIHNjaGVtYSkpID09PSBFeHRlbmRzUmVzdWx0LlRydWUpKSA/IEV4dGVuZHNSZXN1bHQuRmFsc2UgOlxuICAgICAgICAgICAgICAgICAgICAgICAgSW50b0Jvb2xlYW5SZXN1bHQoVmlzaXQobGVmdC5yZXR1cm5zLCByaWdodC5yZXR1cm5zKSkpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBEYXRlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbURhdGUobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKElzU3RydWN0dXJhbFJpZ2h0KHJpZ2h0KSA/IFN0cnVjdHVyYWxSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICBUeXBlR3VhcmQuSXNPYmplY3QocmlnaHQpID8gRnJvbU9iamVjdFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICBUeXBlR3VhcmQuSXNSZWNvcmQocmlnaHQpID8gRnJvbVJlY29yZFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzRGF0ZShyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRnVuY3Rpb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tRnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKElzU3RydWN0dXJhbFJpZ2h0KHJpZ2h0KSA/IFN0cnVjdHVyYWxSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICBUeXBlR3VhcmQuSXNPYmplY3QocmlnaHQpID8gRnJvbU9iamVjdFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAhVHlwZUd1YXJkLklzRnVuY3Rpb24ocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA6XG4gICAgICAgICAgICAgICAgbGVmdC5wYXJhbWV0ZXJzLmxlbmd0aCA+IHJpZ2h0LnBhcmFtZXRlcnMubGVuZ3RoID8gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA6XG4gICAgICAgICAgICAgICAgICAgICghbGVmdC5wYXJhbWV0ZXJzLmV2ZXJ5KChzY2hlbWEsIGluZGV4KSA9PiBJbnRvQm9vbGVhblJlc3VsdChWaXNpdChyaWdodC5wYXJhbWV0ZXJzW2luZGV4XSwgc2NoZW1hKSkgPT09IEV4dGVuZHNSZXN1bHQuVHJ1ZSkpID8gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBJbnRvQm9vbGVhblJlc3VsdChWaXNpdChsZWZ0LnJldHVybnMsIHJpZ2h0LnJldHVybnMpKSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEludGVnZXJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tSW50ZWdlclJpZ2h0KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNMaXRlcmFsKGxlZnQpICYmIFZhbHVlR3VhcmQuSXNOdW1iZXIobGVmdC5jb25zdCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICBUeXBlR3VhcmQuSXNOdW1iZXIobGVmdCkgfHwgVHlwZUd1YXJkLklzSW50ZWdlcihsZWZ0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUludGVnZXIobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKFR5cGVHdWFyZC5Jc0ludGVnZXIocmlnaHQpIHx8IFR5cGVHdWFyZC5Jc051bWJlcihyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICBJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgIFR5cGVHdWFyZC5Jc09iamVjdChyaWdodCkgPyBGcm9tT2JqZWN0UmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNSZWNvcmQocmlnaHQpID8gRnJvbVJlY29yZFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgIEV4dGVuZHNSZXN1bHQuRmFsc2UpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBJbnRlcnNlY3Rcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tSW50ZXJzZWN0UmlnaHQobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gcmlnaHQuYWxsT2YuZXZlcnkoKHNjaGVtYSkgPT4gVmlzaXQobGVmdCwgc2NoZW1hKSA9PT0gRXh0ZW5kc1Jlc3VsdC5UcnVlKVxuICAgICAgICA/IEV4dGVuZHNSZXN1bHQuVHJ1ZVxuICAgICAgICA6IEV4dGVuZHNSZXN1bHQuRmFsc2U7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21JbnRlcnNlY3QobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbGVmdC5hbGxPZi5zb21lKChzY2hlbWEpID0+IFZpc2l0KHNjaGVtYSwgcmlnaHQpID09PSBFeHRlbmRzUmVzdWx0LlRydWUpXG4gICAgICAgID8gRXh0ZW5kc1Jlc3VsdC5UcnVlXG4gICAgICAgIDogRXh0ZW5kc1Jlc3VsdC5GYWxzZTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSXRlcmF0b3Jcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tSXRlcmF0b3IobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKElzU3RydWN0dXJhbFJpZ2h0KHJpZ2h0KSA/IFN0cnVjdHVyYWxSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAhVHlwZUd1YXJkLklzSXRlcmF0b3IocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA6XG4gICAgICAgICAgICBJbnRvQm9vbGVhblJlc3VsdChWaXNpdChsZWZ0Lml0ZW1zLCByaWdodC5pdGVtcykpKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gTGl0ZXJhbFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21MaXRlcmFsKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNMaXRlcmFsKHJpZ2h0KSAmJiByaWdodC5jb25zdCA9PT0gbGVmdC5jb25zdCA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgIElzU3RydWN0dXJhbFJpZ2h0KHJpZ2h0KSA/IFN0cnVjdHVyYWxSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSA/IEZyb21PYmplY3RSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1JlY29yZChyaWdodCkgPyBGcm9tUmVjb3JkUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzU3RyaW5nKHJpZ2h0KSA/IEZyb21TdHJpbmdSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzTnVtYmVyKHJpZ2h0KSA/IEZyb21OdW1iZXJSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc0ludGVnZXIocmlnaHQpID8gRnJvbUludGVnZXJSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNCb29sZWFuKHJpZ2h0KSA/IEZyb21Cb29sZWFuUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV4dGVuZHNSZXN1bHQuRmFsc2UpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBOZXZlclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21OZXZlclJpZ2h0KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIEV4dGVuZHNSZXN1bHQuRmFsc2U7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21OZXZlcihsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBFeHRlbmRzUmVzdWx0LlRydWU7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE5vdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFVud3JhcFROb3Qoc2NoZW1hKSB7XG4gICAgbGV0IFtjdXJyZW50LCBkZXB0aF0gPSBbc2NoZW1hLCAwXTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAoIVR5cGVHdWFyZC5Jc05vdChjdXJyZW50KSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5ub3Q7XG4gICAgICAgIGRlcHRoICs9IDE7XG4gICAgfVxuICAgIHJldHVybiBkZXB0aCAlIDIgPT09IDAgPyBjdXJyZW50IDogVW5rbm93bigpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTm90KGxlZnQsIHJpZ2h0KSB7XG4gICAgLy8gVHlwZVNjcmlwdCBoYXMgbm8gY29uY2VwdCBvZiBuZWdhdGVkIHR5cGVzLCBhbmQgYXR0ZW1wdHMgdG8gY29ycmVjdGx5IGNoZWNrIHRoZSBuZWdhdGVkXG4gICAgLy8gdHlwZSBhdCBydW50aW1lIHdvdWxkIHB1dCBUeXBlQm94IGF0IG9kZHMgd2l0aCBUeXBlU2NyaXB0cyBhYmlsaXR5IHRvIHN0YXRpY2FsbHkgaW5mZXJcbiAgICAvLyB0aGUgdHlwZS4gSW5zdGVhZCB3ZSB1bndyYXAgdG8gZWl0aGVyIHVua25vd24gb3IgVCBhbmQgY29udGludWUgZXZhbHVhdGluZy5cbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKFR5cGVHdWFyZC5Jc05vdChsZWZ0KSA/IFZpc2l0KFVud3JhcFROb3QobGVmdCksIHJpZ2h0KSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc05vdChyaWdodCkgPyBWaXNpdChsZWZ0LCBVbndyYXBUTm90KHJpZ2h0KSkgOlxuICAgICAgICAgICAgVGhyb3coJ0ludmFsaWQgZmFsbHRocm91Z2ggZm9yIE5vdCcpKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gTnVsbFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21OdWxsKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSA/IEZyb21PYmplY3RSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgVHlwZUd1YXJkLklzUmVjb3JkKHJpZ2h0KSA/IEZyb21SZWNvcmRSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc051bGwocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDpcbiAgICAgICAgICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE51bWJlclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21OdW1iZXJSaWdodChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAoVHlwZUd1YXJkLklzTGl0ZXJhbE51bWJlcihsZWZ0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc051bWJlcihsZWZ0KSB8fCBUeXBlR3VhcmQuSXNJbnRlZ2VyKGxlZnQpID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDpcbiAgICAgICAgICAgIEV4dGVuZHNSZXN1bHQuRmFsc2UpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTnVtYmVyKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSA/IEZyb21PYmplY3RSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgVHlwZUd1YXJkLklzUmVjb3JkKHJpZ2h0KSA/IEZyb21SZWNvcmRSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc0ludGVnZXIocmlnaHQpIHx8IFR5cGVHdWFyZC5Jc051bWJlcihyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gT2JqZWN0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gSXNPYmplY3RQcm9wZXJ0eUNvdW50KHNjaGVtYSwgY291bnQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc2NoZW1hLnByb3BlcnRpZXMpLmxlbmd0aCA9PT0gY291bnQ7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIElzT2JqZWN0U3RyaW5nTGlrZShzY2hlbWEpIHtcbiAgICByZXR1cm4gSXNPYmplY3RBcnJheUxpa2Uoc2NoZW1hKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gSXNPYmplY3RTeW1ib2xMaWtlKHNjaGVtYSkge1xuICAgIHJldHVybiBJc09iamVjdFByb3BlcnR5Q291bnQoc2NoZW1hLCAwKSB8fCAoSXNPYmplY3RQcm9wZXJ0eUNvdW50KHNjaGVtYSwgMSkgJiYgJ2Rlc2NyaXB0aW9uJyBpbiBzY2hlbWEucHJvcGVydGllcyAmJiBUeXBlR3VhcmQuSXNVbmlvbihzY2hlbWEucHJvcGVydGllcy5kZXNjcmlwdGlvbikgJiYgc2NoZW1hLnByb3BlcnRpZXMuZGVzY3JpcHRpb24uYW55T2YubGVuZ3RoID09PSAyICYmICgoVHlwZUd1YXJkLklzU3RyaW5nKHNjaGVtYS5wcm9wZXJ0aWVzLmRlc2NyaXB0aW9uLmFueU9mWzBdKSAmJlxuICAgICAgICBUeXBlR3VhcmQuSXNVbmRlZmluZWQoc2NoZW1hLnByb3BlcnRpZXMuZGVzY3JpcHRpb24uYW55T2ZbMV0pKSB8fCAoVHlwZUd1YXJkLklzU3RyaW5nKHNjaGVtYS5wcm9wZXJ0aWVzLmRlc2NyaXB0aW9uLmFueU9mWzFdKSAmJlxuICAgICAgICBUeXBlR3VhcmQuSXNVbmRlZmluZWQoc2NoZW1hLnByb3BlcnRpZXMuZGVzY3JpcHRpb24uYW55T2ZbMF0pKSkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBJc09iamVjdE51bWJlckxpa2Uoc2NoZW1hKSB7XG4gICAgcmV0dXJuIElzT2JqZWN0UHJvcGVydHlDb3VudChzY2hlbWEsIDApO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBJc09iamVjdEJvb2xlYW5MaWtlKHNjaGVtYSkge1xuICAgIHJldHVybiBJc09iamVjdFByb3BlcnR5Q291bnQoc2NoZW1hLCAwKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gSXNPYmplY3RCaWdJbnRMaWtlKHNjaGVtYSkge1xuICAgIHJldHVybiBJc09iamVjdFByb3BlcnR5Q291bnQoc2NoZW1hLCAwKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gSXNPYmplY3REYXRlTGlrZShzY2hlbWEpIHtcbiAgICByZXR1cm4gSXNPYmplY3RQcm9wZXJ0eUNvdW50KHNjaGVtYSwgMCk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIElzT2JqZWN0VWludDhBcnJheUxpa2Uoc2NoZW1hKSB7XG4gICAgcmV0dXJuIElzT2JqZWN0QXJyYXlMaWtlKHNjaGVtYSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIElzT2JqZWN0RnVuY3Rpb25MaWtlKHNjaGVtYSkge1xuICAgIGNvbnN0IGxlbmd0aCA9IE51bWJlcigpO1xuICAgIHJldHVybiBJc09iamVjdFByb3BlcnR5Q291bnQoc2NoZW1hLCAwKSB8fCAoSXNPYmplY3RQcm9wZXJ0eUNvdW50KHNjaGVtYSwgMSkgJiYgJ2xlbmd0aCcgaW4gc2NoZW1hLnByb3BlcnRpZXMgJiYgSW50b0Jvb2xlYW5SZXN1bHQoVmlzaXQoc2NoZW1hLnByb3BlcnRpZXNbJ2xlbmd0aCddLCBsZW5ndGgpKSA9PT0gRXh0ZW5kc1Jlc3VsdC5UcnVlKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gSXNPYmplY3RDb25zdHJ1Y3Rvckxpa2Uoc2NoZW1hKSB7XG4gICAgcmV0dXJuIElzT2JqZWN0UHJvcGVydHlDb3VudChzY2hlbWEsIDApO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBJc09iamVjdEFycmF5TGlrZShzY2hlbWEpIHtcbiAgICBjb25zdCBsZW5ndGggPSBOdW1iZXIoKTtcbiAgICByZXR1cm4gSXNPYmplY3RQcm9wZXJ0eUNvdW50KHNjaGVtYSwgMCkgfHwgKElzT2JqZWN0UHJvcGVydHlDb3VudChzY2hlbWEsIDEpICYmICdsZW5ndGgnIGluIHNjaGVtYS5wcm9wZXJ0aWVzICYmIEludG9Cb29sZWFuUmVzdWx0KFZpc2l0KHNjaGVtYS5wcm9wZXJ0aWVzWydsZW5ndGgnXSwgbGVuZ3RoKSkgPT09IEV4dGVuZHNSZXN1bHQuVHJ1ZSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIElzT2JqZWN0UHJvbWlzZUxpa2Uoc2NoZW1hKSB7XG4gICAgY29uc3QgdGhlbiA9IEZ1bmN0aW9uVHlwZShbQW55KCldLCBBbnkoKSk7XG4gICAgcmV0dXJuIElzT2JqZWN0UHJvcGVydHlDb3VudChzY2hlbWEsIDApIHx8IChJc09iamVjdFByb3BlcnR5Q291bnQoc2NoZW1hLCAxKSAmJiAndGhlbicgaW4gc2NoZW1hLnByb3BlcnRpZXMgJiYgSW50b0Jvb2xlYW5SZXN1bHQoVmlzaXQoc2NoZW1hLnByb3BlcnRpZXNbJ3RoZW4nXSwgdGhlbikpID09PSBFeHRlbmRzUmVzdWx0LlRydWUpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBQcm9wZXJ0eVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFByb3BlcnR5KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChWaXNpdChsZWZ0LCByaWdodCkgPT09IEV4dGVuZHNSZXN1bHQuRmFsc2UgPyBFeHRlbmRzUmVzdWx0LkZhbHNlIDpcbiAgICAgICAgVHlwZUd1YXJkLklzT3B0aW9uYWwobGVmdCkgJiYgIVR5cGVHdWFyZC5Jc09wdGlvbmFsKHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuRmFsc2UgOlxuICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5UcnVlKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU9iamVjdFJpZ2h0KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNVbmtub3duKGxlZnQpID8gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc0FueShsZWZ0KSA/IEV4dGVuZHNSZXN1bHQuVW5pb24gOiAoVHlwZUd1YXJkLklzTmV2ZXIobGVmdCkgfHxcbiAgICAgICAgICAgIChUeXBlR3VhcmQuSXNMaXRlcmFsU3RyaW5nKGxlZnQpICYmIElzT2JqZWN0U3RyaW5nTGlrZShyaWdodCkpIHx8XG4gICAgICAgICAgICAoVHlwZUd1YXJkLklzTGl0ZXJhbE51bWJlcihsZWZ0KSAmJiBJc09iamVjdE51bWJlckxpa2UocmlnaHQpKSB8fFxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc0xpdGVyYWxCb29sZWFuKGxlZnQpICYmIElzT2JqZWN0Qm9vbGVhbkxpa2UocmlnaHQpKSB8fFxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc1N5bWJvbChsZWZ0KSAmJiBJc09iamVjdFN5bWJvbExpa2UocmlnaHQpKSB8fFxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc0JpZ0ludChsZWZ0KSAmJiBJc09iamVjdEJpZ0ludExpa2UocmlnaHQpKSB8fFxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc1N0cmluZyhsZWZ0KSAmJiBJc09iamVjdFN0cmluZ0xpa2UocmlnaHQpKSB8fFxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc1N5bWJvbChsZWZ0KSAmJiBJc09iamVjdFN5bWJvbExpa2UocmlnaHQpKSB8fFxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc051bWJlcihsZWZ0KSAmJiBJc09iamVjdE51bWJlckxpa2UocmlnaHQpKSB8fFxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc0ludGVnZXIobGVmdCkgJiYgSXNPYmplY3ROdW1iZXJMaWtlKHJpZ2h0KSkgfHxcbiAgICAgICAgICAgIChUeXBlR3VhcmQuSXNCb29sZWFuKGxlZnQpICYmIElzT2JqZWN0Qm9vbGVhbkxpa2UocmlnaHQpKSB8fFxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc1VpbnQ4QXJyYXkobGVmdCkgJiYgSXNPYmplY3RVaW50OEFycmF5TGlrZShyaWdodCkpIHx8XG4gICAgICAgICAgICAoVHlwZUd1YXJkLklzRGF0ZShsZWZ0KSAmJiBJc09iamVjdERhdGVMaWtlKHJpZ2h0KSkgfHxcbiAgICAgICAgICAgIChUeXBlR3VhcmQuSXNDb25zdHJ1Y3RvcihsZWZ0KSAmJiBJc09iamVjdENvbnN0cnVjdG9yTGlrZShyaWdodCkpIHx8XG4gICAgICAgICAgICAoVHlwZUd1YXJkLklzRnVuY3Rpb24obGVmdCkgJiYgSXNPYmplY3RGdW5jdGlvbkxpa2UocmlnaHQpKSkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc1JlY29yZChsZWZ0KSAmJiBUeXBlR3VhcmQuSXNTdHJpbmcoUmVjb3JkS2V5KGxlZnQpKSkgPyAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gZXhwcmVzc2luZyBhIFJlY29yZCB3aXRoIGxpdGVyYWwga2V5IHZhbHVlcywgdGhlIFJlY29yZCBpcyBjb252ZXJ0ZWQgaW50byBhIE9iamVjdCB3aXRoXG4gICAgICAgICAgICAgICAgLy8gdGhlIEhpbnQgYXNzaWduZWQgYXMgYFJlY29yZGAuIFRoaXMgaXMgdXNlZCB0byBpbnZlcnQgdGhlIGV4dGVuZHMgbG9naWMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJpZ2h0W0hpbnRdID09PSAnUmVjb3JkJyA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6IEV4dGVuZHNSZXN1bHQuRmFsc2U7XG4gICAgICAgICAgICB9KSgpIDpcbiAgICAgICAgICAgICAgICAoVHlwZUd1YXJkLklzUmVjb3JkKGxlZnQpICYmIFR5cGVHdWFyZC5Jc051bWJlcihSZWNvcmRLZXkobGVmdCkpKSA/ICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJc09iamVjdFByb3BlcnR5Q291bnQocmlnaHQsIDApID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDogRXh0ZW5kc1Jlc3VsdC5GYWxzZTtcbiAgICAgICAgICAgICAgICB9KSgpIDpcbiAgICAgICAgICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21PYmplY3QobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKElzU3RydWN0dXJhbFJpZ2h0KHJpZ2h0KSA/IFN0cnVjdHVyYWxSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICBUeXBlR3VhcmQuSXNSZWNvcmQocmlnaHQpID8gRnJvbVJlY29yZFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAhVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuRmFsc2UgOlxuICAgICAgICAgICAgICAgICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHJpZ2h0LnByb3BlcnRpZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbGVmdC5wcm9wZXJ0aWVzKSAmJiAhVHlwZUd1YXJkLklzT3B0aW9uYWwocmlnaHQucHJvcGVydGllc1trZXldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBFeHRlbmRzUmVzdWx0LkZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFR5cGVHdWFyZC5Jc09wdGlvbmFsKHJpZ2h0LnByb3BlcnRpZXNba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRXh0ZW5kc1Jlc3VsdC5UcnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BlcnR5KGxlZnQucHJvcGVydGllc1trZXldLCByaWdodC5wcm9wZXJ0aWVzW2tleV0pID09PSBFeHRlbmRzUmVzdWx0LkZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEV4dGVuZHNSZXN1bHQuRmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEV4dGVuZHNSZXN1bHQuVHJ1ZTtcbiAgICAgICAgICAgICAgICB9KSgpKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUHJvbWlzZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9taXNlKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSAmJiBJc09iamVjdFByb21pc2VMaWtlKHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICAhVHlwZUd1YXJkLklzUHJvbWlzZShyaWdodCkgPyBFeHRlbmRzUmVzdWx0LkZhbHNlIDpcbiAgICAgICAgICAgICAgICBJbnRvQm9vbGVhblJlc3VsdChWaXNpdChsZWZ0Lml0ZW0sIHJpZ2h0Lml0ZW0pKSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFJlY29yZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFJlY29yZEtleShzY2hlbWEpIHtcbiAgICByZXR1cm4gKFBhdHRlcm5OdW1iZXJFeGFjdCBpbiBzY2hlbWEucGF0dGVyblByb3BlcnRpZXMgPyBOdW1iZXIoKSA6XG4gICAgICAgIFBhdHRlcm5TdHJpbmdFeGFjdCBpbiBzY2hlbWEucGF0dGVyblByb3BlcnRpZXMgPyBTdHJpbmcoKSA6XG4gICAgICAgICAgICBUaHJvdygnVW5rbm93biByZWNvcmQga2V5IHBhdHRlcm4nKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFJlY29yZFZhbHVlKHNjaGVtYSkge1xuICAgIHJldHVybiAoUGF0dGVybk51bWJlckV4YWN0IGluIHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcyA/IHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1tQYXR0ZXJuTnVtYmVyRXhhY3RdIDpcbiAgICAgICAgUGF0dGVyblN0cmluZ0V4YWN0IGluIHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcyA/IHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1tQYXR0ZXJuU3RyaW5nRXhhY3RdIDpcbiAgICAgICAgICAgIFRocm93KCdVbmFibGUgdG8gZ2V0IHJlY29yZCB2YWx1ZSBzY2hlbWEnKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZWNvcmRSaWdodChsZWZ0LCByaWdodCkge1xuICAgIGNvbnN0IFtLZXksIFZhbHVlXSA9IFtSZWNvcmRLZXkocmlnaHQpLCBSZWNvcmRWYWx1ZShyaWdodCldO1xuICAgIHJldHVybiAoKFR5cGVHdWFyZC5Jc0xpdGVyYWxTdHJpbmcobGVmdCkgJiYgVHlwZUd1YXJkLklzTnVtYmVyKEtleSkgJiYgSW50b0Jvb2xlYW5SZXN1bHQoVmlzaXQobGVmdCwgVmFsdWUpKSA9PT0gRXh0ZW5kc1Jlc3VsdC5UcnVlKSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc1VpbnQ4QXJyYXkobGVmdCkgJiYgVHlwZUd1YXJkLklzTnVtYmVyKEtleSkgPyBWaXNpdChsZWZ0LCBWYWx1ZSkgOlxuICAgICAgICAgICAgVHlwZUd1YXJkLklzU3RyaW5nKGxlZnQpICYmIFR5cGVHdWFyZC5Jc051bWJlcihLZXkpID8gVmlzaXQobGVmdCwgVmFsdWUpIDpcbiAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNBcnJheShsZWZ0KSAmJiBUeXBlR3VhcmQuSXNOdW1iZXIoS2V5KSA/IFZpc2l0KGxlZnQsIFZhbHVlKSA6XG4gICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc09iamVjdChsZWZ0KSA/ICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhsZWZ0LnByb3BlcnRpZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BlcnR5KFZhbHVlLCBsZWZ0LnByb3BlcnRpZXNba2V5XSkgPT09IEV4dGVuZHNSZXN1bHQuRmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEV4dGVuZHNSZXN1bHQuRmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEV4dGVuZHNSZXN1bHQuVHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSkoKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVJlY29yZChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAoSXNTdHJ1Y3R1cmFsUmlnaHQocmlnaHQpID8gU3RydWN0dXJhbFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc09iamVjdChyaWdodCkgPyBGcm9tT2JqZWN0UmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICFUeXBlR3VhcmQuSXNSZWNvcmQocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA6XG4gICAgICAgICAgICAgICAgVmlzaXQoUmVjb3JkVmFsdWUobGVmdCksIFJlY29yZFZhbHVlKHJpZ2h0KSkpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBSZWdFeHBcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUmVnRXhwKGxlZnQsIHJpZ2h0KSB7XG4gICAgLy8gTm90ZTogUmVnRXhwIHR5cGVzIGV2YWx1YXRlIGFzIHN0cmluZ3MsIG5vdCBSZWdFeHAgb2JqZWN0cy5cbiAgICAvLyBIZXJlIHdlIHJlbWFwIGVpdGhlciBpbnRvIHN0cmluZyBhbmQgY29udGludWUgZXZhbHVhdGluZy5cbiAgICBjb25zdCBMID0gVHlwZUd1YXJkLklzUmVnRXhwKGxlZnQpID8gU3RyaW5nKCkgOiBsZWZ0O1xuICAgIGNvbnN0IFIgPSBUeXBlR3VhcmQuSXNSZWdFeHAocmlnaHQpID8gU3RyaW5nKCkgOiByaWdodDtcbiAgICByZXR1cm4gVmlzaXQoTCwgUik7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFN0cmluZ1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21TdHJpbmdSaWdodChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAoVHlwZUd1YXJkLklzTGl0ZXJhbChsZWZ0KSAmJiBWYWx1ZUd1YXJkLklzU3RyaW5nKGxlZnQuY29uc3QpID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDpcbiAgICAgICAgVHlwZUd1YXJkLklzU3RyaW5nKGxlZnQpID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDpcbiAgICAgICAgICAgIEV4dGVuZHNSZXN1bHQuRmFsc2UpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tU3RyaW5nKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSA/IEZyb21PYmplY3RSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgVHlwZUd1YXJkLklzUmVjb3JkKHJpZ2h0KSA/IEZyb21SZWNvcmRSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1N0cmluZyhyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3ltYm9sXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVN5bWJvbChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAoSXNTdHJ1Y3R1cmFsUmlnaHQocmlnaHQpID8gU3RydWN0dXJhbFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc09iamVjdChyaWdodCkgPyBGcm9tT2JqZWN0UmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1JlY29yZChyaWdodCkgPyBGcm9tUmVjb3JkUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNTeW1ib2wocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDpcbiAgICAgICAgICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRlbXBsYXRlTGl0ZXJhbFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21UZW1wbGF0ZUxpdGVyYWwobGVmdCwgcmlnaHQpIHtcbiAgICAvLyBUZW1wbGF0ZUxpdGVyYWwgdHlwZXMgYXJlIHJlc29sdmVkIHRvIGVpdGhlciB1bmlvbnMgZm9yIGZpbml0ZSBleHByZXNzaW9ucyBvciBzdHJpbmdcbiAgICAvLyBmb3IgaW5maW5pdGUgZXhwcmVzc2lvbnMuIEhlcmUgd2UgY2FsbCB0byBUZW1wbGF0ZUxpdGVyYWxSZXNvbHZlciB0byByZXNvbHZlIGZvclxuICAgIC8vIGVpdGhlciB0eXBlIGFuZCBjb250aW51ZSBldmFsdWF0aW5nLlxuICAgIHJldHVybiAoVHlwZUd1YXJkLklzVGVtcGxhdGVMaXRlcmFsKGxlZnQpID8gVmlzaXQoVGVtcGxhdGVMaXRlcmFsVG9VbmlvbihsZWZ0KSwgcmlnaHQpIDpcbiAgICAgICAgVHlwZUd1YXJkLklzVGVtcGxhdGVMaXRlcmFsKHJpZ2h0KSA/IFZpc2l0KGxlZnQsIFRlbXBsYXRlTGl0ZXJhbFRvVW5pb24ocmlnaHQpKSA6XG4gICAgICAgICAgICBUaHJvdygnSW52YWxpZCBmYWxsdGhyb3VnaCBmb3IgVGVtcGxhdGVMaXRlcmFsJykpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUdXBsZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIElzQXJyYXlPZlR1cGxlKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNBcnJheShyaWdodCkgJiZcbiAgICAgICAgbGVmdC5pdGVtcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIGxlZnQuaXRlbXMuZXZlcnkoKHNjaGVtYSkgPT4gVmlzaXQoc2NoZW1hLCByaWdodC5pdGVtcykgPT09IEV4dGVuZHNSZXN1bHQuVHJ1ZSkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVHVwbGVSaWdodChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAoVHlwZUd1YXJkLklzTmV2ZXIobGVmdCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICBUeXBlR3VhcmQuSXNVbmtub3duKGxlZnQpID8gRXh0ZW5kc1Jlc3VsdC5GYWxzZSA6XG4gICAgICAgICAgICBUeXBlR3VhcmQuSXNBbnkobGVmdCkgPyBFeHRlbmRzUmVzdWx0LlVuaW9uIDpcbiAgICAgICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVR1cGxlKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChJc1N0cnVjdHVyYWxSaWdodChyaWdodCkgPyBTdHJ1Y3R1cmFsUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KHJpZ2h0KSAmJiBJc09iamVjdEFycmF5TGlrZShyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgVHlwZUd1YXJkLklzQXJyYXkocmlnaHQpICYmIElzQXJyYXlPZlR1cGxlKGxlZnQsIHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICAgICAgIVR5cGVHdWFyZC5Jc1R1cGxlKHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuRmFsc2UgOlxuICAgICAgICAgICAgICAgICAgICAoVmFsdWVHdWFyZC5Jc1VuZGVmaW5lZChsZWZ0Lml0ZW1zKSAmJiAhVmFsdWVHdWFyZC5Jc1VuZGVmaW5lZChyaWdodC5pdGVtcykpIHx8ICghVmFsdWVHdWFyZC5Jc1VuZGVmaW5lZChsZWZ0Lml0ZW1zKSAmJiBWYWx1ZUd1YXJkLklzVW5kZWZpbmVkKHJpZ2h0Lml0ZW1zKSkgPyBFeHRlbmRzUmVzdWx0LkZhbHNlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIChWYWx1ZUd1YXJkLklzVW5kZWZpbmVkKGxlZnQuaXRlbXMpICYmICFWYWx1ZUd1YXJkLklzVW5kZWZpbmVkKHJpZ2h0Lml0ZW1zKSkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQuaXRlbXMuZXZlcnkoKHNjaGVtYSwgaW5kZXgpID0+IFZpc2l0KHNjaGVtYSwgcmlnaHQuaXRlbXNbaW5kZXhdKSA9PT0gRXh0ZW5kc1Jlc3VsdC5UcnVlKSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV4dGVuZHNSZXN1bHQuRmFsc2UpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBVaW50OEFycmF5XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVVpbnQ4QXJyYXkobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKElzU3RydWN0dXJhbFJpZ2h0KHJpZ2h0KSA/IFN0cnVjdHVyYWxSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICBUeXBlR3VhcmQuSXNPYmplY3QocmlnaHQpID8gRnJvbU9iamVjdFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICBUeXBlR3VhcmQuSXNSZWNvcmQocmlnaHQpID8gRnJvbVJlY29yZFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzVWludDhBcnJheShyaWdodCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVW5kZWZpbmVkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVVuZGVmaW5lZChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiAoSXNTdHJ1Y3R1cmFsUmlnaHQocmlnaHQpID8gU3RydWN0dXJhbFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc09iamVjdChyaWdodCkgPyBGcm9tT2JqZWN0UmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1JlY29yZChyaWdodCkgPyBGcm9tUmVjb3JkUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNWb2lkKHJpZ2h0KSA/IEZyb21Wb2lkUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzVW5kZWZpbmVkKHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVW5pb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5pb25SaWdodChsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiByaWdodC5hbnlPZi5zb21lKChzY2hlbWEpID0+IFZpc2l0KGxlZnQsIHNjaGVtYSkgPT09IEV4dGVuZHNSZXN1bHQuVHJ1ZSlcbiAgICAgICAgPyBFeHRlbmRzUmVzdWx0LlRydWVcbiAgICAgICAgOiBFeHRlbmRzUmVzdWx0LkZhbHNlO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5pb24obGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbGVmdC5hbnlPZi5ldmVyeSgoc2NoZW1hKSA9PiBWaXNpdChzY2hlbWEsIHJpZ2h0KSA9PT0gRXh0ZW5kc1Jlc3VsdC5UcnVlKVxuICAgICAgICA/IEV4dGVuZHNSZXN1bHQuVHJ1ZVxuICAgICAgICA6IEV4dGVuZHNSZXN1bHQuRmFsc2U7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFVua25vd25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5rbm93blJpZ2h0KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIEV4dGVuZHNSZXN1bHQuVHJ1ZTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVVua25vd24obGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKFR5cGVHdWFyZC5Jc05ldmVyKHJpZ2h0KSA/IEZyb21OZXZlclJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc0ludGVyc2VjdChyaWdodCkgPyBGcm9tSW50ZXJzZWN0UmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1VuaW9uKHJpZ2h0KSA/IEZyb21VbmlvblJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzQW55KHJpZ2h0KSA/IEZyb21BbnlSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNTdHJpbmcocmlnaHQpID8gRnJvbVN0cmluZ1JpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNOdW1iZXIocmlnaHQpID8gRnJvbU51bWJlclJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzSW50ZWdlcihyaWdodCkgPyBGcm9tSW50ZWdlclJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc0Jvb2xlYW4ocmlnaHQpID8gRnJvbUJvb2xlYW5SaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzQXJyYXkocmlnaHQpID8gRnJvbUFycmF5UmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNUdXBsZShyaWdodCkgPyBGcm9tVHVwbGVSaWdodChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNPYmplY3QocmlnaHQpID8gRnJvbU9iamVjdFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNVbmtub3duKHJpZ2h0KSA/IEV4dGVuZHNSZXN1bHQuVHJ1ZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFZvaWRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVm9pZFJpZ2h0KGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNVbmRlZmluZWQobGVmdCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICBUeXBlR3VhcmQuSXNVbmRlZmluZWQobGVmdCkgPyBFeHRlbmRzUmVzdWx0LlRydWUgOlxuICAgICAgICAgICAgRXh0ZW5kc1Jlc3VsdC5GYWxzZSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Wb2lkKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIChUeXBlR3VhcmQuSXNJbnRlcnNlY3QocmlnaHQpID8gRnJvbUludGVyc2VjdFJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgIFR5cGVHdWFyZC5Jc1VuaW9uKHJpZ2h0KSA/IEZyb21VbmlvblJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICBUeXBlR3VhcmQuSXNVbmtub3duKHJpZ2h0KSA/IEZyb21Vbmtub3duUmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNBbnkocmlnaHQpID8gRnJvbUFueVJpZ2h0KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc09iamVjdChyaWdodCkgPyBGcm9tT2JqZWN0UmlnaHQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1ZvaWQocmlnaHQpID8gRXh0ZW5kc1Jlc3VsdC5UcnVlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gVmlzaXQobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gKFxuICAgIC8vIHJlc29sdmFibGVcbiAgICAoVHlwZUd1YXJkLklzVGVtcGxhdGVMaXRlcmFsKGxlZnQpIHx8IFR5cGVHdWFyZC5Jc1RlbXBsYXRlTGl0ZXJhbChyaWdodCkpID8gRnJvbVRlbXBsYXRlTGl0ZXJhbChsZWZ0LCByaWdodCkgOlxuICAgICAgICAoVHlwZUd1YXJkLklzUmVnRXhwKGxlZnQpIHx8IFR5cGVHdWFyZC5Jc1JlZ0V4cChyaWdodCkpID8gRnJvbVJlZ0V4cChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgKFR5cGVHdWFyZC5Jc05vdChsZWZ0KSB8fCBUeXBlR3VhcmQuSXNOb3QocmlnaHQpKSA/IEZyb21Ob3QobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZFxuICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc0FueShsZWZ0KSA/IEZyb21BbnkobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzQXJyYXkobGVmdCkgPyBGcm9tQXJyYXkobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc0JpZ0ludChsZWZ0KSA/IEZyb21CaWdJbnQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNCb29sZWFuKGxlZnQpID8gRnJvbUJvb2xlYW4obGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzQXN5bmNJdGVyYXRvcihsZWZ0KSA/IEZyb21Bc3luY0l0ZXJhdG9yKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNDb25zdHJ1Y3RvcihsZWZ0KSA/IEZyb21Db25zdHJ1Y3RvcihsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc0RhdGUobGVmdCkgPyBGcm9tRGF0ZShsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNGdW5jdGlvbihsZWZ0KSA/IEZyb21GdW5jdGlvbihsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzSW50ZWdlcihsZWZ0KSA/IEZyb21JbnRlZ2VyKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzSW50ZXJzZWN0KGxlZnQpID8gRnJvbUludGVyc2VjdChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNJdGVyYXRvcihsZWZ0KSA/IEZyb21JdGVyYXRvcihsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzTGl0ZXJhbChsZWZ0KSA/IEZyb21MaXRlcmFsKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzTmV2ZXIobGVmdCkgPyBGcm9tTmV2ZXIobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzTnVsbChsZWZ0KSA/IEZyb21OdWxsKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNOdW1iZXIobGVmdCkgPyBGcm9tTnVtYmVyKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzT2JqZWN0KGxlZnQpID8gRnJvbU9iamVjdChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNSZWNvcmQobGVmdCkgPyBGcm9tUmVjb3JkKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNTdHJpbmcobGVmdCkgPyBGcm9tU3RyaW5nKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzU3ltYm9sKGxlZnQpID8gRnJvbVN5bWJvbChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlR3VhcmQuSXNUdXBsZShsZWZ0KSA/IEZyb21UdXBsZShsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzUHJvbWlzZShsZWZ0KSA/IEZyb21Qcm9taXNlKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzVWludDhBcnJheShsZWZ0KSA/IEZyb21VaW50OEFycmF5KGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1VuZGVmaW5lZChsZWZ0KSA/IEZyb21VbmRlZmluZWQobGVmdCwgcmlnaHQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1VuaW9uKGxlZnQpID8gRnJvbVVuaW9uKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUd1YXJkLklzVW5rbm93bihsZWZ0KSA/IEZyb21Vbmtub3duKGxlZnQsIHJpZ2h0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVHdWFyZC5Jc1ZvaWQobGVmdCkgPyBGcm9tVm9pZChsZWZ0LCByaWdodCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhyb3coYFVua25vd24gbGVmdCB0eXBlIG9wZXJhbmQgJyR7bGVmdFtLaW5kXX0nYCkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIEV4dGVuZHNDaGVjayhsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBWaXNpdChsZWZ0LCByaWdodCk7XG59XG4iLAogICAgImltcG9ydCB7IE1hcHBlZFJlc3VsdCB9IGZyb20gJy4uL21hcHBlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgRXh0ZW5kcyB9IGZyb20gJy4vZXh0ZW5kcy5tanMnO1xuaW1wb3J0IHsgQ2xvbmUgfSBmcm9tICcuLi9jbG9uZS92YWx1ZS5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydGllcyhQLCBSaWdodCwgVHJ1ZSwgRmFsc2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBBY2MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEsyIG9mIGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoUCkpXG4gICAgICAgIEFjY1tLMl0gPSBFeHRlbmRzKFBbSzJdLCBSaWdodCwgVHJ1ZSwgRmFsc2UsIENsb25lKG9wdGlvbnMpKTtcbiAgICByZXR1cm4gQWNjO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTWFwcGVkUmVzdWx0KExlZnQsIFJpZ2h0LCBUcnVlLCBGYWxzZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBGcm9tUHJvcGVydGllcyhMZWZ0LnByb3BlcnRpZXMsIFJpZ2h0LCBUcnVlLCBGYWxzZSwgb3B0aW9ucyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBFeHRlbmRzRnJvbU1hcHBlZFJlc3VsdChMZWZ0LCBSaWdodCwgVHJ1ZSwgRmFsc2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBQID0gRnJvbU1hcHBlZFJlc3VsdChMZWZ0LCBSaWdodCwgVHJ1ZSwgRmFsc2UsIG9wdGlvbnMpO1xuICAgIHJldHVybiBNYXBwZWRSZXN1bHQoUCk7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgVW5pb24gfSBmcm9tICcuLi91bmlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgRXh0ZW5kc0NoZWNrLCBFeHRlbmRzUmVzdWx0IH0gZnJvbSAnLi9leHRlbmRzLWNoZWNrLm1qcyc7XG5pbXBvcnQgeyBFeHRlbmRzRnJvbU1hcHBlZEtleSB9IGZyb20gJy4vZXh0ZW5kcy1mcm9tLW1hcHBlZC1rZXkubWpzJztcbmltcG9ydCB7IEV4dGVuZHNGcm9tTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi9leHRlbmRzLWZyb20tbWFwcGVkLXJlc3VsdC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNNYXBwZWRLZXksIElzTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBFeHRlbmRzUmVzb2x2ZShsZWZ0LCByaWdodCwgdHJ1ZVR5cGUsIGZhbHNlVHlwZSkge1xuICAgIGNvbnN0IFIgPSBFeHRlbmRzQ2hlY2sobGVmdCwgcmlnaHQpO1xuICAgIHJldHVybiAoUiA9PT0gRXh0ZW5kc1Jlc3VsdC5VbmlvbiA/IFVuaW9uKFt0cnVlVHlwZSwgZmFsc2VUeXBlXSkgOlxuICAgICAgICBSID09PSBFeHRlbmRzUmVzdWx0LlRydWUgPyB0cnVlVHlwZSA6XG4gICAgICAgICAgICBmYWxzZVR5cGUpO1xufVxuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBDb25kaXRpb25hbCB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gRXh0ZW5kcyhMLCBSLCBULCBGLCBvcHRpb25zKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChJc01hcHBlZFJlc3VsdChMKSA/IEV4dGVuZHNGcm9tTWFwcGVkUmVzdWx0KEwsIFIsIFQsIEYsIG9wdGlvbnMpIDpcbiAgICAgICAgSXNNYXBwZWRLZXkoTCkgPyBDcmVhdGVUeXBlKEV4dGVuZHNGcm9tTWFwcGVkS2V5KEwsIFIsIFQsIEYsIG9wdGlvbnMpKSA6XG4gICAgICAgICAgICBDcmVhdGVUeXBlKEV4dGVuZHNSZXNvbHZlKEwsIFIsIFQsIEYpLCBvcHRpb25zKSk7XG59XG4iLAogICAgImltcG9ydCB7IE1hcHBlZFJlc3VsdCB9IGZyb20gJy4uL21hcHBlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgTGl0ZXJhbCB9IGZyb20gJy4uL2xpdGVyYWwvaW5kZXgubWpzJztcbmltcG9ydCB7IEV4dGVuZHMgfSBmcm9tICcuL2V4dGVuZHMubWpzJztcbmltcG9ydCB7IENsb25lIH0gZnJvbSAnLi4vY2xvbmUvdmFsdWUubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnR5S2V5KEssIFUsIEwsIFIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBbS106IEV4dGVuZHMoTGl0ZXJhbChLKSwgVSwgTCwgUiwgQ2xvbmUob3B0aW9ucykpXG4gICAgfTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnR5S2V5cyhLLCBVLCBMLCBSLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIEsucmVkdWNlKChBY2MsIExLKSA9PiB7XG4gICAgICAgIHJldHVybiB7IC4uLkFjYywgLi4uRnJvbVByb3BlcnR5S2V5KExLLCBVLCBMLCBSLCBvcHRpb25zKSB9O1xuICAgIH0sIHt9KTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU1hcHBlZEtleShLLCBVLCBMLCBSLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIEZyb21Qcm9wZXJ0eUtleXMoSy5rZXlzLCBVLCBMLCBSLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIEV4dGVuZHNGcm9tTWFwcGVkS2V5KFQsIFUsIEwsIFIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBQID0gRnJvbU1hcHBlZEtleShULCBVLCBMLCBSLCBvcHRpb25zKTtcbiAgICByZXR1cm4gTWFwcGVkUmVzdWx0KFApO1xufVxuIiwKICAgICJpbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIEZhc3QgdW5kZWZpbmVkIGNoZWNrIHVzZWQgZm9yIHByb3BlcnRpZXMgb2YgdHlwZSB1bmRlZmluZWQgKi9cbmZ1bmN0aW9uIEludGVyc2VjdChzY2hlbWEpIHtcbiAgICByZXR1cm4gc2NoZW1hLmFsbE9mLmV2ZXJ5KChzY2hlbWEpID0+IEV4dGVuZHNVbmRlZmluZWRDaGVjayhzY2hlbWEpKTtcbn1cbmZ1bmN0aW9uIFVuaW9uKHNjaGVtYSkge1xuICAgIHJldHVybiBzY2hlbWEuYW55T2Yuc29tZSgoc2NoZW1hKSA9PiBFeHRlbmRzVW5kZWZpbmVkQ2hlY2soc2NoZW1hKSk7XG59XG5mdW5jdGlvbiBOb3Qoc2NoZW1hKSB7XG4gICAgcmV0dXJuICFFeHRlbmRzVW5kZWZpbmVkQ2hlY2soc2NoZW1hLm5vdCk7XG59XG4vKiogRmFzdCB1bmRlZmluZWQgY2hlY2sgdXNlZCBmb3IgcHJvcGVydGllcyBvZiB0eXBlIHVuZGVmaW5lZCAqL1xuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gRXh0ZW5kc1VuZGVmaW5lZENoZWNrKHNjaGVtYSkge1xuICAgIHJldHVybiAoc2NoZW1hW0tpbmRdID09PSAnSW50ZXJzZWN0JyA/IEludGVyc2VjdChzY2hlbWEpIDpcbiAgICAgICAgc2NoZW1hW0tpbmRdID09PSAnVW5pb24nID8gVW5pb24oc2NoZW1hKSA6XG4gICAgICAgICAgICBzY2hlbWFbS2luZF0gPT09ICdOb3QnID8gTm90KHNjaGVtYSkgOlxuICAgICAgICAgICAgICAgIHNjaGVtYVtLaW5kXSA9PT0gJ1VuZGVmaW5lZCcgPyB0cnVlIDpcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UpO1xufVxuIiwKICAgICJpbXBvcnQgeyBFeGNsdWRlIH0gZnJvbSAnLi9leGNsdWRlLm1qcyc7XG5pbXBvcnQgeyBUZW1wbGF0ZUxpdGVyYWxUb1VuaW9uIH0gZnJvbSAnLi4vdGVtcGxhdGUtbGl0ZXJhbC9pbmRleC5tanMnO1xuZXhwb3J0IGZ1bmN0aW9uIEV4Y2x1ZGVGcm9tVGVtcGxhdGVMaXRlcmFsKEwsIFIpIHtcbiAgICByZXR1cm4gRXhjbHVkZShUZW1wbGF0ZUxpdGVyYWxUb1VuaW9uKEwpLCBSKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBVbmlvbiB9IGZyb20gJy4uL3VuaW9uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBOZXZlciB9IGZyb20gJy4uL25ldmVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBFeHRlbmRzQ2hlY2ssIEV4dGVuZHNSZXN1bHQgfSBmcm9tICcuLi9leHRlbmRzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBFeGNsdWRlRnJvbU1hcHBlZFJlc3VsdCB9IGZyb20gJy4vZXhjbHVkZS1mcm9tLW1hcHBlZC1yZXN1bHQubWpzJztcbmltcG9ydCB7IEV4Y2x1ZGVGcm9tVGVtcGxhdGVMaXRlcmFsIH0gZnJvbSAnLi9leGNsdWRlLWZyb20tdGVtcGxhdGUtbGl0ZXJhbC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNNYXBwZWRSZXN1bHQsIElzVGVtcGxhdGVMaXRlcmFsLCBJc1VuaW9uIH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuZnVuY3Rpb24gRXhjbHVkZVJlc3QoTCwgUikge1xuICAgIGNvbnN0IGV4Y2x1ZGVkID0gTC5maWx0ZXIoKGlubmVyKSA9PiBFeHRlbmRzQ2hlY2soaW5uZXIsIFIpID09PSBFeHRlbmRzUmVzdWx0LkZhbHNlKTtcbiAgICByZXR1cm4gZXhjbHVkZWQubGVuZ3RoID09PSAxID8gZXhjbHVkZWRbMF0gOiBVbmlvbihleGNsdWRlZCk7XG59XG4vKiogYFtKc29uXWAgQ29uc3RydWN0cyBhIHR5cGUgYnkgZXhjbHVkaW5nIGZyb20gdW5pb25UeXBlIGFsbCB1bmlvbiBtZW1iZXJzIHRoYXQgYXJlIGFzc2lnbmFibGUgdG8gZXhjbHVkZWRNZW1iZXJzICovXG5leHBvcnQgZnVuY3Rpb24gRXhjbHVkZShMLCBSLCBvcHRpb25zID0ge30pIHtcbiAgICAvLyBvdmVybG9hZHNcbiAgICBpZiAoSXNUZW1wbGF0ZUxpdGVyYWwoTCkpXG4gICAgICAgIHJldHVybiBDcmVhdGVUeXBlKEV4Y2x1ZGVGcm9tVGVtcGxhdGVMaXRlcmFsKEwsIFIpLCBvcHRpb25zKTtcbiAgICBpZiAoSXNNYXBwZWRSZXN1bHQoTCkpXG4gICAgICAgIHJldHVybiBDcmVhdGVUeXBlKEV4Y2x1ZGVGcm9tTWFwcGVkUmVzdWx0KEwsIFIpLCBvcHRpb25zKTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gQ3JlYXRlVHlwZShJc1VuaW9uKEwpID8gRXhjbHVkZVJlc3QoTC5hbnlPZiwgUikgOlxuICAgICAgICBFeHRlbmRzQ2hlY2soTCwgUikgIT09IEV4dGVuZHNSZXN1bHQuRmFsc2UgPyBOZXZlcigpIDogTCwgb3B0aW9ucyk7XG59XG4iLAogICAgImltcG9ydCB7IE1hcHBlZFJlc3VsdCB9IGZyb20gJy4uL21hcHBlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgRXhjbHVkZSB9IGZyb20gJy4vZXhjbHVkZS5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydGllcyhQLCBVKSB7XG4gICAgY29uc3QgQWNjID0ge307XG4gICAgZm9yIChjb25zdCBLMiBvZiBnbG9iYWxUaGlzLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFApKVxuICAgICAgICBBY2NbSzJdID0gRXhjbHVkZShQW0syXSwgVSk7XG4gICAgcmV0dXJuIEFjYztcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU1hcHBlZFJlc3VsdChSLCBUKSB7XG4gICAgcmV0dXJuIEZyb21Qcm9wZXJ0aWVzKFIucHJvcGVydGllcywgVCk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBFeGNsdWRlRnJvbU1hcHBlZFJlc3VsdChSLCBUKSB7XG4gICAgY29uc3QgUCA9IEZyb21NYXBwZWRSZXN1bHQoUiwgVCk7XG4gICAgcmV0dXJuIE1hcHBlZFJlc3VsdChQKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgRXh0cmFjdCB9IGZyb20gJy4vZXh0cmFjdC5tanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVMaXRlcmFsVG9VbmlvbiB9IGZyb20gJy4uL3RlbXBsYXRlLWxpdGVyYWwvaW5kZXgubWpzJztcbmV4cG9ydCBmdW5jdGlvbiBFeHRyYWN0RnJvbVRlbXBsYXRlTGl0ZXJhbChMLCBSKSB7XG4gICAgcmV0dXJuIEV4dHJhY3QoVGVtcGxhdGVMaXRlcmFsVG9VbmlvbihMKSwgUik7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgVW5pb24gfSBmcm9tICcuLi91bmlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgTmV2ZXIgfSBmcm9tICcuLi9uZXZlci9pbmRleC5tanMnO1xuaW1wb3J0IHsgRXh0ZW5kc0NoZWNrLCBFeHRlbmRzUmVzdWx0IH0gZnJvbSAnLi4vZXh0ZW5kcy9pbmRleC5tanMnO1xuaW1wb3J0IHsgRXh0cmFjdEZyb21NYXBwZWRSZXN1bHQgfSBmcm9tICcuL2V4dHJhY3QtZnJvbS1tYXBwZWQtcmVzdWx0Lm1qcyc7XG5pbXBvcnQgeyBFeHRyYWN0RnJvbVRlbXBsYXRlTGl0ZXJhbCB9IGZyb20gJy4vZXh0cmFjdC1mcm9tLXRlbXBsYXRlLWxpdGVyYWwubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzTWFwcGVkUmVzdWx0LCBJc1RlbXBsYXRlTGl0ZXJhbCwgSXNVbmlvbiB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbmZ1bmN0aW9uIEV4dHJhY3RSZXN0KEwsIFIpIHtcbiAgICBjb25zdCBleHRyYWN0ZWQgPSBMLmZpbHRlcigoaW5uZXIpID0+IEV4dGVuZHNDaGVjayhpbm5lciwgUikgIT09IEV4dGVuZHNSZXN1bHQuRmFsc2UpO1xuICAgIHJldHVybiBleHRyYWN0ZWQubGVuZ3RoID09PSAxID8gZXh0cmFjdGVkWzBdIDogVW5pb24oZXh0cmFjdGVkKTtcbn1cbi8qKiBgW0pzb25dYCBDb25zdHJ1Y3RzIGEgdHlwZSBieSBleHRyYWN0aW5nIGZyb20gdHlwZSBhbGwgdW5pb24gbWVtYmVycyB0aGF0IGFyZSBhc3NpZ25hYmxlIHRvIHVuaW9uICovXG5leHBvcnQgZnVuY3Rpb24gRXh0cmFjdChMLCBSLCBvcHRpb25zKSB7XG4gICAgLy8gb3ZlcmxvYWRzXG4gICAgaWYgKElzVGVtcGxhdGVMaXRlcmFsKEwpKVxuICAgICAgICByZXR1cm4gQ3JlYXRlVHlwZShFeHRyYWN0RnJvbVRlbXBsYXRlTGl0ZXJhbChMLCBSKSwgb3B0aW9ucyk7XG4gICAgaWYgKElzTWFwcGVkUmVzdWx0KEwpKVxuICAgICAgICByZXR1cm4gQ3JlYXRlVHlwZShFeHRyYWN0RnJvbU1hcHBlZFJlc3VsdChMLCBSKSwgb3B0aW9ucyk7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIENyZWF0ZVR5cGUoSXNVbmlvbihMKSA/IEV4dHJhY3RSZXN0KEwuYW55T2YsIFIpIDpcbiAgICAgICAgRXh0ZW5kc0NoZWNrKEwsIFIpICE9PSBFeHRlbmRzUmVzdWx0LkZhbHNlID8gTCA6IE5ldmVyKCksIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBNYXBwZWRSZXN1bHQgfSBmcm9tICcuLi9tYXBwZWQvaW5kZXgubWpzJztcbmltcG9ydCB7IEV4dHJhY3QgfSBmcm9tICcuL2V4dHJhY3QubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnRpZXMoUCwgVCkge1xuICAgIGNvbnN0IEFjYyA9IHt9O1xuICAgIGZvciAoY29uc3QgSzIgb2YgZ2xvYmFsVGhpcy5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhQKSlcbiAgICAgICAgQWNjW0syXSA9IEV4dHJhY3QoUFtLMl0sIFQpO1xuICAgIHJldHVybiBBY2M7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21NYXBwZWRSZXN1bHQoUiwgVCkge1xuICAgIHJldHVybiBGcm9tUHJvcGVydGllcyhSLnByb3BlcnRpZXMsIFQpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gRXh0cmFjdEZyb21NYXBwZWRSZXN1bHQoUiwgVCkge1xuICAgIGNvbnN0IFAgPSBGcm9tTWFwcGVkUmVzdWx0KFIsIFQpO1xuICAgIHJldHVybiBNYXBwZWRSZXN1bHQoUCk7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgTmV2ZXIgfSBmcm9tICcuLi9uZXZlci9pbmRleC5tanMnO1xuaW1wb3J0ICogYXMgS2luZEd1YXJkIGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbi8qKiBgW0phdmFTY3JpcHRdYCBFeHRyYWN0cyB0aGUgSW5zdGFuY2VUeXBlIGZyb20gdGhlIGdpdmVuIENvbnN0cnVjdG9yIHR5cGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBJbnN0YW5jZVR5cGUoc2NoZW1hLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIChLaW5kR3VhcmQuSXNDb25zdHJ1Y3RvcihzY2hlbWEpID8gQ3JlYXRlVHlwZShzY2hlbWEucmV0dXJucywgb3B0aW9ucykgOiBOZXZlcihvcHRpb25zKSk7XG59XG4iLAogICAgImltcG9ydCB7IFJlYWRvbmx5IH0gZnJvbSAnLi4vcmVhZG9ubHkvaW5kZXgubWpzJztcbmltcG9ydCB7IE9wdGlvbmFsIH0gZnJvbSAnLi4vb3B0aW9uYWwvaW5kZXgubWpzJztcbi8qKiBgW0pzb25dYCBDcmVhdGVzIGEgUmVhZG9ubHkgYW5kIE9wdGlvbmFsIHByb3BlcnR5ICovXG5leHBvcnQgZnVuY3Rpb24gUmVhZG9ubHlPcHRpb25hbChzY2hlbWEpIHtcbiAgICByZXR1cm4gUmVhZG9ubHkoT3B0aW9uYWwoc2NoZW1hKSk7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgS2luZCwgSGludCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IE5ldmVyIH0gZnJvbSAnLi4vbmV2ZXIvaW5kZXgubWpzJztcbmltcG9ydCB7IE51bWJlciB9IGZyb20gJy4uL251bWJlci9pbmRleC5tanMnO1xuaW1wb3J0IHsgT2JqZWN0IH0gZnJvbSAnLi4vb2JqZWN0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBTdHJpbmcgfSBmcm9tICcuLi9zdHJpbmcvaW5kZXgubWpzJztcbmltcG9ydCB7IFVuaW9uIH0gZnJvbSAnLi4vdW5pb24vaW5kZXgubWpzJztcbmltcG9ydCB7IElzVGVtcGxhdGVMaXRlcmFsRmluaXRlIH0gZnJvbSAnLi4vdGVtcGxhdGUtbGl0ZXJhbC9pbmRleC5tanMnO1xuaW1wb3J0IHsgUGF0dGVyblN0cmluZ0V4YWN0LCBQYXR0ZXJuTnVtYmVyRXhhY3QsIFBhdHRlcm5OZXZlckV4YWN0IH0gZnJvbSAnLi4vcGF0dGVybnMvaW5kZXgubWpzJztcbmltcG9ydCB7IEluZGV4UHJvcGVydHlLZXlzIH0gZnJvbSAnLi4vaW5kZXhlZC9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzVW5kZWZpbmVkIH0gZnJvbSAnLi4vZ3VhcmQvdmFsdWUubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzSW50ZWdlciwgSXNMaXRlcmFsLCBJc0FueSwgSXNCb29sZWFuLCBJc05ldmVyLCBJc051bWJlciwgSXNTdHJpbmcsIElzUmVnRXhwLCBJc1RlbXBsYXRlTGl0ZXJhbCwgSXNVbmlvbiB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUmVjb3JkQ3JlYXRlRnJvbVBhdHRlcm5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBSZWNvcmRDcmVhdGVGcm9tUGF0dGVybihwYXR0ZXJuLCBULCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIENyZWF0ZVR5cGUoeyBbS2luZF06ICdSZWNvcmQnLCB0eXBlOiAnb2JqZWN0JywgcGF0dGVyblByb3BlcnRpZXM6IHsgW3BhdHRlcm5dOiBUIH0gfSwgb3B0aW9ucyk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFJlY29yZENyZWF0ZUZyb21LZXlzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gUmVjb3JkQ3JlYXRlRnJvbUtleXMoSywgVCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3QgSzIgb2YgSylcbiAgICAgICAgcmVzdWx0W0syXSA9IFQ7XG4gICAgcmV0dXJuIE9iamVjdChyZXN1bHQsIHsgLi4ub3B0aW9ucywgW0hpbnRdOiAnUmVjb3JkJyB9KTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVRlbXBsYXRlTGl0ZXJhbEtleShLLCBULCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIChJc1RlbXBsYXRlTGl0ZXJhbEZpbml0ZShLKVxuICAgICAgICA/IFJlY29yZENyZWF0ZUZyb21LZXlzKEluZGV4UHJvcGVydHlLZXlzKEspLCBULCBvcHRpb25zKVxuICAgICAgICA6IFJlY29yZENyZWF0ZUZyb21QYXR0ZXJuKEsucGF0dGVybiwgVCwgb3B0aW9ucykpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5pb25LZXkoa2V5LCB0eXBlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIFJlY29yZENyZWF0ZUZyb21LZXlzKEluZGV4UHJvcGVydHlLZXlzKFVuaW9uKGtleSkpLCB0eXBlLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUxpdGVyYWxLZXkoa2V5LCB0eXBlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIFJlY29yZENyZWF0ZUZyb21LZXlzKFtrZXkudG9TdHJpbmcoKV0sIHR5cGUsIG9wdGlvbnMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUmVnRXhwS2V5KGtleSwgdHlwZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBSZWNvcmRDcmVhdGVGcm9tUGF0dGVybihrZXkuc291cmNlLCB0eXBlLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVN0cmluZ0tleShrZXksIHR5cGUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBwYXR0ZXJuID0gSXNVbmRlZmluZWQoa2V5LnBhdHRlcm4pID8gUGF0dGVyblN0cmluZ0V4YWN0IDoga2V5LnBhdHRlcm47XG4gICAgcmV0dXJuIFJlY29yZENyZWF0ZUZyb21QYXR0ZXJuKHBhdHRlcm4sIHR5cGUsIG9wdGlvbnMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQW55S2V5KF8sIHR5cGUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gUmVjb3JkQ3JlYXRlRnJvbVBhdHRlcm4oUGF0dGVyblN0cmluZ0V4YWN0LCB0eXBlLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU5ldmVyS2V5KF9rZXksIHR5cGUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gUmVjb3JkQ3JlYXRlRnJvbVBhdHRlcm4oUGF0dGVybk5ldmVyRXhhY3QsIHR5cGUsIG9wdGlvbnMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQm9vbGVhbktleShfa2V5LCB0eXBlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIE9iamVjdCh7IHRydWU6IHR5cGUsIGZhbHNlOiB0eXBlIH0sIG9wdGlvbnMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tSW50ZWdlcktleShfa2V5LCB0eXBlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIFJlY29yZENyZWF0ZUZyb21QYXR0ZXJuKFBhdHRlcm5OdW1iZXJFeGFjdCwgdHlwZSwgb3B0aW9ucyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21OdW1iZXJLZXkoXywgdHlwZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBSZWNvcmRDcmVhdGVGcm9tUGF0dGVybihQYXR0ZXJuTnVtYmVyRXhhY3QsIHR5cGUsIG9wdGlvbnMpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUUmVjb3JkT3JPYmplY3Rcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBSZWNvcmQgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlY29yZChrZXksIHR5cGUsIG9wdGlvbnMgPSB7fSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoSXNVbmlvbihrZXkpID8gRnJvbVVuaW9uS2V5KGtleS5hbnlPZiwgdHlwZSwgb3B0aW9ucykgOlxuICAgICAgICBJc1RlbXBsYXRlTGl0ZXJhbChrZXkpID8gRnJvbVRlbXBsYXRlTGl0ZXJhbEtleShrZXksIHR5cGUsIG9wdGlvbnMpIDpcbiAgICAgICAgICAgIElzTGl0ZXJhbChrZXkpID8gRnJvbUxpdGVyYWxLZXkoa2V5LmNvbnN0LCB0eXBlLCBvcHRpb25zKSA6XG4gICAgICAgICAgICAgICAgSXNCb29sZWFuKGtleSkgPyBGcm9tQm9vbGVhbktleShrZXksIHR5cGUsIG9wdGlvbnMpIDpcbiAgICAgICAgICAgICAgICAgICAgSXNJbnRlZ2VyKGtleSkgPyBGcm9tSW50ZWdlcktleShrZXksIHR5cGUsIG9wdGlvbnMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIElzTnVtYmVyKGtleSkgPyBGcm9tTnVtYmVyS2V5KGtleSwgdHlwZSwgb3B0aW9ucykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzUmVnRXhwKGtleSkgPyBGcm9tUmVnRXhwS2V5KGtleSwgdHlwZSwgb3B0aW9ucykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc1N0cmluZyhrZXkpID8gRnJvbVN0cmluZ0tleShrZXksIHR5cGUsIG9wdGlvbnMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzQW55KGtleSkgPyBGcm9tQW55S2V5KGtleSwgdHlwZSwgb3B0aW9ucykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzTmV2ZXIoa2V5KSA/IEZyb21OZXZlcktleShrZXksIHR5cGUsIG9wdGlvbnMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmV2ZXIob3B0aW9ucykpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBSZWNvcmQgVXRpbGl0aWVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKiBHZXRzIHRoZSBSZWNvcmRzIFBhdHRlcm4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWNvcmRQYXR0ZXJuKHJlY29yZCkge1xuICAgIHJldHVybiBnbG9iYWxUaGlzLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHJlY29yZC5wYXR0ZXJuUHJvcGVydGllcylbMF07XG59XG4vKiogR2V0cyB0aGUgUmVjb3JkcyBLZXkgVHlwZSAqL1xuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gUmVjb3JkS2V5KHR5cGUpIHtcbiAgICBjb25zdCBwYXR0ZXJuID0gUmVjb3JkUGF0dGVybih0eXBlKTtcbiAgICByZXR1cm4gKHBhdHRlcm4gPT09IFBhdHRlcm5TdHJpbmdFeGFjdCA/IFN0cmluZygpIDpcbiAgICAgICAgcGF0dGVybiA9PT0gUGF0dGVybk51bWJlckV4YWN0ID8gTnVtYmVyKCkgOlxuICAgICAgICAgICAgU3RyaW5nKHsgcGF0dGVybiB9KSk7XG59XG4vKiogR2V0cyBhIFJlY29yZCBWYWx1ZSBUeXBlICovXG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBSZWNvcmRWYWx1ZSh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGUucGF0dGVyblByb3BlcnRpZXNbUmVjb3JkUGF0dGVybih0eXBlKV07XG59XG4iLAogICAgImltcG9ydCB7IENsb25lVHlwZSB9IGZyb20gJy4uL2Nsb25lL3R5cGUubWpzJztcbmltcG9ydCB7IFVua25vd24gfSBmcm9tICcuLi91bmtub3duL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBSZWFkb25seU9wdGlvbmFsIH0gZnJvbSAnLi4vcmVhZG9ubHktb3B0aW9uYWwvaW5kZXgubWpzJztcbmltcG9ydCB7IFJlYWRvbmx5IH0gZnJvbSAnLi4vcmVhZG9ubHkvaW5kZXgubWpzJztcbmltcG9ydCB7IE9wdGlvbmFsIH0gZnJvbSAnLi4vb3B0aW9uYWwvaW5kZXgubWpzJztcbmltcG9ydCB7IE9iamVjdCB9IGZyb20gJy4uL29iamVjdC9pbmRleC5tanMnO1xuaW1wb3J0IHsgUmVjb3JkLCBSZWNvcmRLZXksIFJlY29yZFZhbHVlIH0gZnJvbSAnLi4vcmVjb3JkL2luZGV4Lm1qcyc7XG5pbXBvcnQgKiBhcyBWYWx1ZUd1YXJkIGZyb20gJy4uL2d1YXJkL3ZhbHVlLm1qcyc7XG5pbXBvcnQgKiBhcyBLaW5kR3VhcmQgZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQ29uc3RydWN0b3IoYXJncywgdHlwZSkge1xuICAgIHR5cGUucGFyYW1ldGVycyA9IEZyb21UeXBlcyhhcmdzLCB0eXBlLnBhcmFtZXRlcnMpO1xuICAgIHR5cGUucmV0dXJucyA9IEZyb21UeXBlKGFyZ3MsIHR5cGUucmV0dXJucyk7XG4gICAgcmV0dXJuIHR5cGU7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21GdW5jdGlvbihhcmdzLCB0eXBlKSB7XG4gICAgdHlwZS5wYXJhbWV0ZXJzID0gRnJvbVR5cGVzKGFyZ3MsIHR5cGUucGFyYW1ldGVycyk7XG4gICAgdHlwZS5yZXR1cm5zID0gRnJvbVR5cGUoYXJncywgdHlwZS5yZXR1cm5zKTtcbiAgICByZXR1cm4gdHlwZTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUludGVyc2VjdChhcmdzLCB0eXBlKSB7XG4gICAgdHlwZS5hbGxPZiA9IEZyb21UeXBlcyhhcmdzLCB0eXBlLmFsbE9mKTtcbiAgICByZXR1cm4gdHlwZTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVVuaW9uKGFyZ3MsIHR5cGUpIHtcbiAgICB0eXBlLmFueU9mID0gRnJvbVR5cGVzKGFyZ3MsIHR5cGUuYW55T2YpO1xuICAgIHJldHVybiB0eXBlO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVHVwbGUoYXJncywgdHlwZSkge1xuICAgIGlmIChWYWx1ZUd1YXJkLklzVW5kZWZpbmVkKHR5cGUuaXRlbXMpKVxuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICB0eXBlLml0ZW1zID0gRnJvbVR5cGVzKGFyZ3MsIHR5cGUuaXRlbXMpO1xuICAgIHJldHVybiB0eXBlO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQXJyYXkoYXJncywgdHlwZSkge1xuICAgIHR5cGUuaXRlbXMgPSBGcm9tVHlwZShhcmdzLCB0eXBlLml0ZW1zKTtcbiAgICByZXR1cm4gdHlwZTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUFzeW5jSXRlcmF0b3IoYXJncywgdHlwZSkge1xuICAgIHR5cGUuaXRlbXMgPSBGcm9tVHlwZShhcmdzLCB0eXBlLml0ZW1zKTtcbiAgICByZXR1cm4gdHlwZTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUl0ZXJhdG9yKGFyZ3MsIHR5cGUpIHtcbiAgICB0eXBlLml0ZW1zID0gRnJvbVR5cGUoYXJncywgdHlwZS5pdGVtcyk7XG4gICAgcmV0dXJuIHR5cGU7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9taXNlKGFyZ3MsIHR5cGUpIHtcbiAgICB0eXBlLml0ZW0gPSBGcm9tVHlwZShhcmdzLCB0eXBlLml0ZW0pO1xuICAgIHJldHVybiB0eXBlO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tT2JqZWN0KGFyZ3MsIHR5cGUpIHtcbiAgICBjb25zdCBtYXBwZWRQcm9wZXJ0aWVzID0gRnJvbVByb3BlcnRpZXMoYXJncywgdHlwZS5wcm9wZXJ0aWVzKTtcbiAgICByZXR1cm4geyAuLi50eXBlLCAuLi5PYmplY3QobWFwcGVkUHJvcGVydGllcykgfTsgLy8gcmV0YWluIG9wdGlvbnNcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVJlY29yZChhcmdzLCB0eXBlKSB7XG4gICAgY29uc3QgbWFwcGVkS2V5ID0gRnJvbVR5cGUoYXJncywgUmVjb3JkS2V5KHR5cGUpKTtcbiAgICBjb25zdCBtYXBwZWRWYWx1ZSA9IEZyb21UeXBlKGFyZ3MsIFJlY29yZFZhbHVlKHR5cGUpKTtcbiAgICBjb25zdCByZXN1bHQgPSBSZWNvcmQobWFwcGVkS2V5LCBtYXBwZWRWYWx1ZSk7XG4gICAgcmV0dXJuIHsgLi4udHlwZSwgLi4ucmVzdWx0IH07IC8vIHJldGFpbiBvcHRpb25zXG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Bcmd1bWVudChhcmdzLCBhcmd1bWVudCkge1xuICAgIHJldHVybiBhcmd1bWVudC5pbmRleCBpbiBhcmdzID8gYXJnc1thcmd1bWVudC5pbmRleF0gOiBVbmtub3duKCk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9wZXJ0eShhcmdzLCB0eXBlKSB7XG4gICAgY29uc3QgaXNSZWFkb25seSA9IEtpbmRHdWFyZC5Jc1JlYWRvbmx5KHR5cGUpO1xuICAgIGNvbnN0IGlzT3B0aW9uYWwgPSBLaW5kR3VhcmQuSXNPcHRpb25hbCh0eXBlKTtcbiAgICBjb25zdCBtYXBwZWQgPSBGcm9tVHlwZShhcmdzLCB0eXBlKTtcbiAgICByZXR1cm4gKGlzUmVhZG9ubHkgJiYgaXNPcHRpb25hbCA/IFJlYWRvbmx5T3B0aW9uYWwobWFwcGVkKSA6XG4gICAgICAgIGlzUmVhZG9ubHkgJiYgIWlzT3B0aW9uYWwgPyBSZWFkb25seShtYXBwZWQpIDpcbiAgICAgICAgICAgICFpc1JlYWRvbmx5ICYmIGlzT3B0aW9uYWwgPyBPcHRpb25hbChtYXBwZWQpIDpcbiAgICAgICAgICAgICAgICBtYXBwZWQpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydGllcyhhcmdzLCBwcm9wZXJ0aWVzKSB7XG4gICAgcmV0dXJuIGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvcGVydGllcykucmVkdWNlKChyZXN1bHQsIGtleSkgPT4ge1xuICAgICAgICByZXR1cm4geyAuLi5yZXN1bHQsIFtrZXldOiBGcm9tUHJvcGVydHkoYXJncywgcHJvcGVydGllc1trZXldKSB9O1xuICAgIH0sIHt9KTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIEZyb21UeXBlcyhhcmdzLCB0eXBlcykge1xuICAgIHJldHVybiB0eXBlcy5tYXAodHlwZSA9PiBGcm9tVHlwZShhcmdzLCB0eXBlKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21UeXBlKGFyZ3MsIHR5cGUpIHtcbiAgICByZXR1cm4gKEtpbmRHdWFyZC5Jc0NvbnN0cnVjdG9yKHR5cGUpID8gRnJvbUNvbnN0cnVjdG9yKGFyZ3MsIHR5cGUpIDpcbiAgICAgICAgS2luZEd1YXJkLklzRnVuY3Rpb24odHlwZSkgPyBGcm9tRnVuY3Rpb24oYXJncywgdHlwZSkgOlxuICAgICAgICAgICAgS2luZEd1YXJkLklzSW50ZXJzZWN0KHR5cGUpID8gRnJvbUludGVyc2VjdChhcmdzLCB0eXBlKSA6XG4gICAgICAgICAgICAgICAgS2luZEd1YXJkLklzVW5pb24odHlwZSkgPyBGcm9tVW5pb24oYXJncywgdHlwZSkgOlxuICAgICAgICAgICAgICAgICAgICBLaW5kR3VhcmQuSXNUdXBsZSh0eXBlKSA/IEZyb21UdXBsZShhcmdzLCB0eXBlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBLaW5kR3VhcmQuSXNBcnJheSh0eXBlKSA/IEZyb21BcnJheShhcmdzLCB0eXBlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgS2luZEd1YXJkLklzQXN5bmNJdGVyYXRvcih0eXBlKSA/IEZyb21Bc3luY0l0ZXJhdG9yKGFyZ3MsIHR5cGUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2luZEd1YXJkLklzSXRlcmF0b3IodHlwZSkgPyBGcm9tSXRlcmF0b3IoYXJncywgdHlwZSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2luZEd1YXJkLklzUHJvbWlzZSh0eXBlKSA/IEZyb21Qcm9taXNlKGFyZ3MsIHR5cGUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBLaW5kR3VhcmQuSXNPYmplY3QodHlwZSkgPyBGcm9tT2JqZWN0KGFyZ3MsIHR5cGUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2luZEd1YXJkLklzUmVjb3JkKHR5cGUpID8gRnJvbVJlY29yZChhcmdzLCB0eXBlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBLaW5kR3VhcmQuSXNBcmd1bWVudCh0eXBlKSA/IEZyb21Bcmd1bWVudChhcmdzLCB0eXBlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSk7XG59XG4vKiogYFtKYXZhU2NyaXB0XWAgSW5zdGFudGlhdGVzIGEgdHlwZSB3aXRoIHRoZSBnaXZlbiBwYXJhbWV0ZXJzICovXG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBJbnN0YW50aWF0ZSh0eXBlLCBhcmdzKSB7XG4gICAgcmV0dXJuIEZyb21UeXBlKGFyZ3MsIENsb25lVHlwZSh0eXBlKSk7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0pzb25dYCBDcmVhdGVzIGFuIEludGVnZXIgdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIEludGVnZXIob3B0aW9ucykge1xuICAgIHJldHVybiBDcmVhdGVUeXBlKHsgW0tpbmRdOiAnSW50ZWdlcicsIHR5cGU6ICdpbnRlZ2VyJyB9LCBvcHRpb25zKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi4vbWFwcGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBJbnRyaW5zaWMgfSBmcm9tICcuL2ludHJpbnNpYy5tanMnO1xuaW1wb3J0IHsgTGl0ZXJhbCB9IGZyb20gJy4uL2xpdGVyYWwvaW5kZXgubWpzJztcbmltcG9ydCB7IENsb25lIH0gZnJvbSAnLi4vY2xvbmUvdmFsdWUubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gTWFwcGVkSW50cmluc2ljUHJvcGVydHlLZXkoSywgTSwgb3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAgIFtLXTogSW50cmluc2ljKExpdGVyYWwoSyksIE0sIENsb25lKG9wdGlvbnMpKVxuICAgIH07XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIE1hcHBlZEludHJpbnNpY1Byb3BlcnR5S2V5cyhLLCBNLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gSy5yZWR1Y2UoKEFjYywgTCkgPT4ge1xuICAgICAgICByZXR1cm4geyAuLi5BY2MsIC4uLk1hcHBlZEludHJpbnNpY1Byb3BlcnR5S2V5KEwsIE0sIG9wdGlvbnMpIH07XG4gICAgfSwge30pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIE1hcHBlZEludHJpbnNpY1Byb3BlcnRpZXMoVCwgTSwgb3B0aW9ucykge1xuICAgIHJldHVybiBNYXBwZWRJbnRyaW5zaWNQcm9wZXJ0eUtleXMoVFsna2V5cyddLCBNLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIEludHJpbnNpY0Zyb21NYXBwZWRLZXkoVCwgTSwgb3B0aW9ucykge1xuICAgIGNvbnN0IFAgPSBNYXBwZWRJbnRyaW5zaWNQcm9wZXJ0aWVzKFQsIE0sIG9wdGlvbnMpO1xuICAgIHJldHVybiBNYXBwZWRSZXN1bHQoUCk7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVMaXRlcmFsLCBUZW1wbGF0ZUxpdGVyYWxQYXJzZUV4YWN0LCBJc1RlbXBsYXRlTGl0ZXJhbEV4cHJlc3Npb25GaW5pdGUsIFRlbXBsYXRlTGl0ZXJhbEV4cHJlc3Npb25HZW5lcmF0ZSB9IGZyb20gJy4uL3RlbXBsYXRlLWxpdGVyYWwvaW5kZXgubWpzJztcbmltcG9ydCB7IEludHJpbnNpY0Zyb21NYXBwZWRLZXkgfSBmcm9tICcuL2ludHJpbnNpYy1mcm9tLW1hcHBlZC1rZXkubWpzJztcbmltcG9ydCB7IExpdGVyYWwgfSBmcm9tICcuLi9saXRlcmFsL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBVbmlvbiB9IGZyb20gJy4uL3VuaW9uL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc01hcHBlZEtleSwgSXNUZW1wbGF0ZUxpdGVyYWwsIElzVW5pb24sIElzTGl0ZXJhbCB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQXBwbHlcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gQXBwbHlVbmNhcGl0YWxpemUodmFsdWUpIHtcbiAgICBjb25zdCBbZmlyc3QsIHJlc3RdID0gW3ZhbHVlLnNsaWNlKDAsIDEpLCB2YWx1ZS5zbGljZSgxKV07XG4gICAgcmV0dXJuIFtmaXJzdC50b0xvd2VyQ2FzZSgpLCByZXN0XS5qb2luKCcnKTtcbn1cbmZ1bmN0aW9uIEFwcGx5Q2FwaXRhbGl6ZSh2YWx1ZSkge1xuICAgIGNvbnN0IFtmaXJzdCwgcmVzdF0gPSBbdmFsdWUuc2xpY2UoMCwgMSksIHZhbHVlLnNsaWNlKDEpXTtcbiAgICByZXR1cm4gW2ZpcnN0LnRvVXBwZXJDYXNlKCksIHJlc3RdLmpvaW4oJycpO1xufVxuZnVuY3Rpb24gQXBwbHlVcHBlcmNhc2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUudG9VcHBlckNhc2UoKTtcbn1cbmZ1bmN0aW9uIEFwcGx5TG93ZXJjYXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRvTG93ZXJDYXNlKCk7XG59XG5mdW5jdGlvbiBGcm9tVGVtcGxhdGVMaXRlcmFsKHNjaGVtYSwgbW9kZSwgb3B0aW9ucykge1xuICAgIC8vIG5vdGU6IHRlbXBsYXRlIGxpdGVyYWxzIHJlcXVpcmUgc3BlY2lhbCBydW50aW1lIGhhbmRsaW5nIGFzIHRoZXkgYXJlIGVuY29kZWQgaW4gc3RyaW5nIHBhdHRlcm5zLlxuICAgIC8vIFRoaXMgZGl2ZXJnZXMgZnJvbSB0aGUgbWFwcGVkIHR5cGUgd2hpY2ggd291bGQgb3RoZXJ3aXNlIG1hcCBvbiB0aGUgdGVtcGxhdGUgbGl0ZXJhbCBraW5kLlxuICAgIGNvbnN0IGV4cHJlc3Npb24gPSBUZW1wbGF0ZUxpdGVyYWxQYXJzZUV4YWN0KHNjaGVtYS5wYXR0ZXJuKTtcbiAgICBjb25zdCBmaW5pdGUgPSBJc1RlbXBsYXRlTGl0ZXJhbEV4cHJlc3Npb25GaW5pdGUoZXhwcmVzc2lvbik7XG4gICAgaWYgKCFmaW5pdGUpXG4gICAgICAgIHJldHVybiB7IC4uLnNjaGVtYSwgcGF0dGVybjogRnJvbUxpdGVyYWxWYWx1ZShzY2hlbWEucGF0dGVybiwgbW9kZSkgfTtcbiAgICBjb25zdCBzdHJpbmdzID0gWy4uLlRlbXBsYXRlTGl0ZXJhbEV4cHJlc3Npb25HZW5lcmF0ZShleHByZXNzaW9uKV07XG4gICAgY29uc3QgbGl0ZXJhbHMgPSBzdHJpbmdzLm1hcCgodmFsdWUpID0+IExpdGVyYWwodmFsdWUpKTtcbiAgICBjb25zdCBtYXBwZWQgPSBGcm9tUmVzdChsaXRlcmFscywgbW9kZSk7XG4gICAgY29uc3QgdW5pb24gPSBVbmlvbihtYXBwZWQpO1xuICAgIHJldHVybiBUZW1wbGF0ZUxpdGVyYWwoW3VuaW9uXSwgb3B0aW9ucyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21MaXRlcmFsVmFsdWUodmFsdWUsIG1vZGUpIHtcbiAgICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyAobW9kZSA9PT0gJ1VuY2FwaXRhbGl6ZScgPyBBcHBseVVuY2FwaXRhbGl6ZSh2YWx1ZSkgOlxuICAgICAgICBtb2RlID09PSAnQ2FwaXRhbGl6ZScgPyBBcHBseUNhcGl0YWxpemUodmFsdWUpIDpcbiAgICAgICAgICAgIG1vZGUgPT09ICdVcHBlcmNhc2UnID8gQXBwbHlVcHBlcmNhc2UodmFsdWUpIDpcbiAgICAgICAgICAgICAgICBtb2RlID09PSAnTG93ZXJjYXNlJyA/IEFwcGx5TG93ZXJjYXNlKHZhbHVlKSA6XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlKSA6IHZhbHVlLnRvU3RyaW5nKCkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUmVzdChULCBNKSB7XG4gICAgcmV0dXJuIFQubWFwKEwgPT4gSW50cmluc2ljKEwsIE0pKTtcbn1cbi8qKiBBcHBsaWVzIGFuIGludHJpbnNpYyBzdHJpbmcgbWFuaXB1bGF0aW9uIHRvIHRoZSBnaXZlbiB0eXBlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEludHJpbnNpYyhzY2hlbWEsIG1vZGUsIG9wdGlvbnMgPSB7fSkge1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIHJldHVybiAoXG4gICAgLy8gSW50cmluc2ljLU1hcHBlZC1JbmZlcmVuY2VcbiAgICBJc01hcHBlZEtleShzY2hlbWEpID8gSW50cmluc2ljRnJvbU1hcHBlZEtleShzY2hlbWEsIG1vZGUsIG9wdGlvbnMpIDpcbiAgICAgICAgLy8gU3RhbmRhcmQtSW5mZXJlbmNlXG4gICAgICAgIElzVGVtcGxhdGVMaXRlcmFsKHNjaGVtYSkgPyBGcm9tVGVtcGxhdGVMaXRlcmFsKHNjaGVtYSwgbW9kZSwgb3B0aW9ucykgOlxuICAgICAgICAgICAgSXNVbmlvbihzY2hlbWEpID8gVW5pb24oRnJvbVJlc3Qoc2NoZW1hLmFueU9mLCBtb2RlKSwgb3B0aW9ucykgOlxuICAgICAgICAgICAgICAgIElzTGl0ZXJhbChzY2hlbWEpID8gTGl0ZXJhbChGcm9tTGl0ZXJhbFZhbHVlKHNjaGVtYS5jb25zdCwgbW9kZSksIG9wdGlvbnMpIDpcbiAgICAgICAgICAgICAgICAgICAgLy8gRGVmYXVsdCBUeXBlXG4gICAgICAgICAgICAgICAgICAgIENyZWF0ZVR5cGUoc2NoZW1hLCBvcHRpb25zKSk7XG59XG4iLAogICAgImltcG9ydCB7IEludHJpbnNpYyB9IGZyb20gJy4vaW50cmluc2ljLm1qcyc7XG4vKiogYFtKc29uXWAgSW50cmluc2ljIGZ1bmN0aW9uIHRvIENhcGl0YWxpemUgTGl0ZXJhbFN0cmluZyB0eXBlcyAqL1xuZXhwb3J0IGZ1bmN0aW9uIENhcGl0YWxpemUoVCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIEludHJpbnNpYyhULCAnQ2FwaXRhbGl6ZScsIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBJbnRyaW5zaWMgfSBmcm9tICcuL2ludHJpbnNpYy5tanMnO1xuLyoqIGBbSnNvbl1gIEludHJpbnNpYyBmdW5jdGlvbiB0byBMb3dlcmNhc2UgTGl0ZXJhbFN0cmluZyB0eXBlcyAqL1xuZXhwb3J0IGZ1bmN0aW9uIExvd2VyY2FzZShULCBvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4gSW50cmluc2ljKFQsICdMb3dlcmNhc2UnLCBvcHRpb25zKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgSW50cmluc2ljIH0gZnJvbSAnLi9pbnRyaW5zaWMubWpzJztcbi8qKiBgW0pzb25dYCBJbnRyaW5zaWMgZnVuY3Rpb24gdG8gVW5jYXBpdGFsaXplIExpdGVyYWxTdHJpbmcgdHlwZXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBVbmNhcGl0YWxpemUoVCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIEludHJpbnNpYyhULCAnVW5jYXBpdGFsaXplJywgb3B0aW9ucyk7XG59XG4iLAogICAgImltcG9ydCB7IEludHJpbnNpYyB9IGZyb20gJy4vaW50cmluc2ljLm1qcyc7XG4vKiogYFtKc29uXWAgSW50cmluc2ljIGZ1bmN0aW9uIHRvIFVwcGVyY2FzZSBMaXRlcmFsU3RyaW5nIHR5cGVzICovXG5leHBvcnQgZnVuY3Rpb24gVXBwZXJjYXNlKFQsIG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiBJbnRyaW5zaWMoVCwgJ1VwcGVyY2FzZScsIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBNYXBwZWRSZXN1bHQgfSBmcm9tICcuLi9tYXBwZWQvaW5kZXgubWpzJztcbmltcG9ydCB7IE9taXQgfSBmcm9tICcuL29taXQubWpzJztcbmltcG9ydCB7IENsb25lIH0gZnJvbSAnLi4vY2xvbmUvdmFsdWUubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnRpZXMocHJvcGVydGllcywgcHJvcGVydHlLZXlzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBLMiBvZiBnbG9iYWxUaGlzLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BlcnRpZXMpKVxuICAgICAgICByZXN1bHRbSzJdID0gT21pdChwcm9wZXJ0aWVzW0syXSwgcHJvcGVydHlLZXlzLCBDbG9uZShvcHRpb25zKSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU1hcHBlZFJlc3VsdChtYXBwZWRSZXN1bHQsIHByb3BlcnR5S2V5cywgb3B0aW9ucykge1xuICAgIHJldHVybiBGcm9tUHJvcGVydGllcyhtYXBwZWRSZXN1bHQucHJvcGVydGllcywgcHJvcGVydHlLZXlzLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIE9taXRGcm9tTWFwcGVkUmVzdWx0KG1hcHBlZFJlc3VsdCwgcHJvcGVydHlLZXlzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IEZyb21NYXBwZWRSZXN1bHQobWFwcGVkUmVzdWx0LCBwcm9wZXJ0eUtleXMsIG9wdGlvbnMpO1xuICAgIHJldHVybiBNYXBwZWRSZXN1bHQocHJvcGVydGllcyk7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgRGlzY2FyZCB9IGZyb20gJy4uL2Rpc2NhcmQvZGlzY2FyZC5tanMnO1xuaW1wb3J0IHsgVHJhbnNmb3JtS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvc3ltYm9scy5tanMnO1xuaW1wb3J0IHsgQ29tcHV0ZWQgfSBmcm9tICcuLi9jb21wdXRlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgTGl0ZXJhbCB9IGZyb20gJy4uL2xpdGVyYWwvaW5kZXgubWpzJztcbmltcG9ydCB7IEluZGV4UHJvcGVydHlLZXlzIH0gZnJvbSAnLi4vaW5kZXhlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgSW50ZXJzZWN0IH0gZnJvbSAnLi4vaW50ZXJzZWN0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBVbmlvbiB9IGZyb20gJy4uL3VuaW9uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPYmplY3QgfSBmcm9tICcuLi9vYmplY3QvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gTWFwcGVkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IE9taXRGcm9tTWFwcGVkS2V5IH0gZnJvbSAnLi9vbWl0LWZyb20tbWFwcGVkLWtleS5tanMnO1xuaW1wb3J0IHsgT21pdEZyb21NYXBwZWRSZXN1bHQgfSBmcm9tICcuL29taXQtZnJvbS1tYXBwZWQtcmVzdWx0Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc01hcHBlZEtleSwgSXNJbnRlcnNlY3QsIElzVW5pb24sIElzT2JqZWN0LCBJc1NjaGVtYSwgSXNNYXBwZWRSZXN1bHQsIElzTGl0ZXJhbFZhbHVlLCBJc1JlZiB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbmltcG9ydCB7IElzQXJyYXkgYXMgSXNBcnJheVZhbHVlIH0gZnJvbSAnLi4vZ3VhcmQvdmFsdWUubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUludGVyc2VjdCh0eXBlcywgcHJvcGVydHlLZXlzKSB7XG4gICAgcmV0dXJuIHR5cGVzLm1hcCgodHlwZSkgPT4gT21pdFJlc29sdmUodHlwZSwgcHJvcGVydHlLZXlzKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Vbmlvbih0eXBlcywgcHJvcGVydHlLZXlzKSB7XG4gICAgcmV0dXJuIHR5cGVzLm1hcCgodHlwZSkgPT4gT21pdFJlc29sdmUodHlwZSwgcHJvcGVydHlLZXlzKSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEZyb21Qcm9wZXJ0eVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9wZXJ0eShwcm9wZXJ0aWVzLCBrZXkpIHtcbiAgICBjb25zdCB7IFtrZXldOiBfLCAuLi5SIH0gPSBwcm9wZXJ0aWVzO1xuICAgIHJldHVybiBSO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydGllcyhwcm9wZXJ0aWVzLCBwcm9wZXJ0eUtleXMpIHtcbiAgICByZXR1cm4gcHJvcGVydHlLZXlzLnJlZHVjZSgoVCwgSzIpID0+IEZyb21Qcm9wZXJ0eShULCBLMiksIHByb3BlcnRpZXMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tT2JqZWN0KHByb3BlcnRpZXMsIHByb3BlcnR5S2V5cykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBEaXNjYXJkKHByb3BlcnRpZXMsIFtUcmFuc2Zvcm1LaW5kLCAnJGlkJywgJ3JlcXVpcmVkJywgJ3Byb3BlcnRpZXMnXSk7XG4gICAgY29uc3Qgb21pdHRlZFByb3BlcnRpZXMgPSBGcm9tUHJvcGVydGllcyhwcm9wZXJ0aWVzWydwcm9wZXJ0aWVzJ10sIHByb3BlcnR5S2V5cyk7XG4gICAgcmV0dXJuIE9iamVjdChvbWl0dGVkUHJvcGVydGllcywgb3B0aW9ucyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFVuaW9uRnJvbVByb3BlcnR5S2V5cyhwcm9wZXJ0eUtleXMpIHtcbiAgICBjb25zdCByZXN1bHQgPSBwcm9wZXJ0eUtleXMucmVkdWNlKChyZXN1bHQsIGtleSkgPT4gSXNMaXRlcmFsVmFsdWUoa2V5KSA/IFsuLi5yZXN1bHQsIExpdGVyYWwoa2V5KV0gOiByZXN1bHQsIFtdKTtcbiAgICByZXR1cm4gVW5pb24ocmVzdWx0KTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gT21pdFJlc29sdmUocHJvcGVydGllcywgcHJvcGVydHlLZXlzKSB7XG4gICAgcmV0dXJuIChJc0ludGVyc2VjdChwcm9wZXJ0aWVzKSA/IEludGVyc2VjdChGcm9tSW50ZXJzZWN0KHByb3BlcnRpZXMuYWxsT2YsIHByb3BlcnR5S2V5cykpIDpcbiAgICAgICAgSXNVbmlvbihwcm9wZXJ0aWVzKSA/IFVuaW9uKEZyb21Vbmlvbihwcm9wZXJ0aWVzLmFueU9mLCBwcm9wZXJ0eUtleXMpKSA6XG4gICAgICAgICAgICBJc09iamVjdChwcm9wZXJ0aWVzKSA/IEZyb21PYmplY3QocHJvcGVydGllcywgcHJvcGVydHlLZXlzKSA6XG4gICAgICAgICAgICAgICAgT2JqZWN0KHt9KSk7XG59XG4vKiogYFtKc29uXWAgQ29uc3RydWN0cyBhIHR5cGUgd2hvc2Uga2V5cyBhcmUgcGlja2VkIGZyb20gdGhlIGdpdmVuIHR5cGUgKi9cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIE9taXQodHlwZSwga2V5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgdHlwZUtleSA9IElzQXJyYXlWYWx1ZShrZXkpID8gVW5pb25Gcm9tUHJvcGVydHlLZXlzKGtleSkgOiBrZXk7XG4gICAgY29uc3QgcHJvcGVydHlLZXlzID0gSXNTY2hlbWEoa2V5KSA/IEluZGV4UHJvcGVydHlLZXlzKGtleSkgOiBrZXk7XG4gICAgY29uc3QgaXNUeXBlUmVmID0gSXNSZWYodHlwZSk7XG4gICAgY29uc3QgaXNLZXlSZWYgPSBJc1JlZihrZXkpO1xuICAgIHJldHVybiAoSXNNYXBwZWRSZXN1bHQodHlwZSkgPyBPbWl0RnJvbU1hcHBlZFJlc3VsdCh0eXBlLCBwcm9wZXJ0eUtleXMsIG9wdGlvbnMpIDpcbiAgICAgICAgSXNNYXBwZWRLZXkoa2V5KSA/IE9taXRGcm9tTWFwcGVkS2V5KHR5cGUsIGtleSwgb3B0aW9ucykgOlxuICAgICAgICAgICAgKGlzVHlwZVJlZiAmJiBpc0tleVJlZikgPyBDb21wdXRlZCgnT21pdCcsIFt0eXBlLCB0eXBlS2V5XSwgb3B0aW9ucykgOlxuICAgICAgICAgICAgICAgICghaXNUeXBlUmVmICYmIGlzS2V5UmVmKSA/IENvbXB1dGVkKCdPbWl0JywgW3R5cGUsIHR5cGVLZXldLCBvcHRpb25zKSA6XG4gICAgICAgICAgICAgICAgICAgIChpc1R5cGVSZWYgJiYgIWlzS2V5UmVmKSA/IENvbXB1dGVkKCdPbWl0JywgW3R5cGUsIHR5cGVLZXldLCBvcHRpb25zKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBDcmVhdGVUeXBlKHsgLi4uT21pdFJlc29sdmUodHlwZSwgcHJvcGVydHlLZXlzKSwgLi4ub3B0aW9ucyB9KSk7XG59XG4iLAogICAgImltcG9ydCB7IE1hcHBlZFJlc3VsdCB9IGZyb20gJy4uL21hcHBlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgT21pdCB9IGZyb20gJy4vb21pdC5tanMnO1xuaW1wb3J0IHsgQ2xvbmUgfSBmcm9tICcuLi9jbG9uZS92YWx1ZS5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydHlLZXkodHlwZSwga2V5LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHsgW2tleV06IE9taXQodHlwZSwgW2tleV0sIENsb25lKG9wdGlvbnMpKSB9O1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydHlLZXlzKHR5cGUsIHByb3BlcnR5S2V5cywgb3B0aW9ucykge1xuICAgIHJldHVybiBwcm9wZXJ0eUtleXMucmVkdWNlKChBY2MsIExLKSA9PiB7XG4gICAgICAgIHJldHVybiB7IC4uLkFjYywgLi4uRnJvbVByb3BlcnR5S2V5KHR5cGUsIExLLCBvcHRpb25zKSB9O1xuICAgIH0sIHt9KTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU1hcHBlZEtleSh0eXBlLCBtYXBwZWRLZXksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gRnJvbVByb3BlcnR5S2V5cyh0eXBlLCBtYXBwZWRLZXkua2V5cywgb3B0aW9ucyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBPbWl0RnJvbU1hcHBlZEtleSh0eXBlLCBtYXBwZWRLZXksIG9wdGlvbnMpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gRnJvbU1hcHBlZEtleSh0eXBlLCBtYXBwZWRLZXksIG9wdGlvbnMpO1xuICAgIHJldHVybiBNYXBwZWRSZXN1bHQocHJvcGVydGllcyk7XG59XG4iLAogICAgImltcG9ydCB7IE1hcHBlZFJlc3VsdCB9IGZyb20gJy4uL21hcHBlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgUGljayB9IGZyb20gJy4vcGljay5tanMnO1xuaW1wb3J0IHsgQ2xvbmUgfSBmcm9tICcuLi9jbG9uZS92YWx1ZS5tanMnO1xuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUHJvcGVydGllcyhwcm9wZXJ0aWVzLCBwcm9wZXJ0eUtleXMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEsyIG9mIGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvcGVydGllcykpXG4gICAgICAgIHJlc3VsdFtLMl0gPSBQaWNrKHByb3BlcnRpZXNbSzJdLCBwcm9wZXJ0eUtleXMsIENsb25lKG9wdGlvbnMpKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTWFwcGVkUmVzdWx0KG1hcHBlZFJlc3VsdCwgcHJvcGVydHlLZXlzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIEZyb21Qcm9wZXJ0aWVzKG1hcHBlZFJlc3VsdC5wcm9wZXJ0aWVzLCBwcm9wZXJ0eUtleXMsIG9wdGlvbnMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gUGlja0Zyb21NYXBwZWRSZXN1bHQobWFwcGVkUmVzdWx0LCBwcm9wZXJ0eUtleXMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gRnJvbU1hcHBlZFJlc3VsdChtYXBwZWRSZXN1bHQsIHByb3BlcnR5S2V5cywgb3B0aW9ucyk7XG4gICAgcmV0dXJuIE1hcHBlZFJlc3VsdChwcm9wZXJ0aWVzKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBEaXNjYXJkIH0gZnJvbSAnLi4vZGlzY2FyZC9kaXNjYXJkLm1qcyc7XG5pbXBvcnQgeyBDb21wdXRlZCB9IGZyb20gJy4uL2NvbXB1dGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBJbnRlcnNlY3QgfSBmcm9tICcuLi9pbnRlcnNlY3QvaW5kZXgubWpzJztcbmltcG9ydCB7IExpdGVyYWwgfSBmcm9tICcuLi9saXRlcmFsL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPYmplY3QgfSBmcm9tICcuLi9vYmplY3QvaW5kZXgubWpzJztcbmltcG9ydCB7IFVuaW9uIH0gZnJvbSAnLi4vdW5pb24vaW5kZXgubWpzJztcbmltcG9ydCB7IEluZGV4UHJvcGVydHlLZXlzIH0gZnJvbSAnLi4vaW5kZXhlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHJhbnNmb3JtS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvc3ltYm9scy5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBHdWFyZHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNNYXBwZWRLZXksIElzTWFwcGVkUmVzdWx0LCBJc0ludGVyc2VjdCwgSXNVbmlvbiwgSXNPYmplY3QsIElzU2NoZW1hLCBJc0xpdGVyYWxWYWx1ZSwgSXNSZWYgfSBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG5pbXBvcnQgeyBJc0FycmF5IGFzIElzQXJyYXlWYWx1ZSB9IGZyb20gJy4uL2d1YXJkL3ZhbHVlLm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEluZnJhc3RydWN0dXJlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IFBpY2tGcm9tTWFwcGVkS2V5IH0gZnJvbSAnLi9waWNrLWZyb20tbWFwcGVkLWtleS5tanMnO1xuaW1wb3J0IHsgUGlja0Zyb21NYXBwZWRSZXN1bHQgfSBmcm9tICcuL3BpY2stZnJvbS1tYXBwZWQtcmVzdWx0Lm1qcyc7XG5mdW5jdGlvbiBGcm9tSW50ZXJzZWN0KHR5cGVzLCBwcm9wZXJ0eUtleXMpIHtcbiAgICByZXR1cm4gdHlwZXMubWFwKCh0eXBlKSA9PiBQaWNrUmVzb2x2ZSh0eXBlLCBwcm9wZXJ0eUtleXMpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVVuaW9uKHR5cGVzLCBwcm9wZXJ0eUtleXMpIHtcbiAgICByZXR1cm4gdHlwZXMubWFwKCh0eXBlKSA9PiBQaWNrUmVzb2x2ZSh0eXBlLCBwcm9wZXJ0eUtleXMpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnRpZXMocHJvcGVydGllcywgcHJvcGVydHlLZXlzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBLMiBvZiBwcm9wZXJ0eUtleXMpXG4gICAgICAgIGlmIChLMiBpbiBwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgcmVzdWx0W0syXSA9IHByb3BlcnRpZXNbSzJdO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21PYmplY3QoVCwgSykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBEaXNjYXJkKFQsIFtUcmFuc2Zvcm1LaW5kLCAnJGlkJywgJ3JlcXVpcmVkJywgJ3Byb3BlcnRpZXMnXSk7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IEZyb21Qcm9wZXJ0aWVzKFRbJ3Byb3BlcnRpZXMnXSwgSyk7XG4gICAgcmV0dXJuIE9iamVjdChwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gVW5pb25Gcm9tUHJvcGVydHlLZXlzKHByb3BlcnR5S2V5cykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHByb3BlcnR5S2V5cy5yZWR1Y2UoKHJlc3VsdCwga2V5KSA9PiBJc0xpdGVyYWxWYWx1ZShrZXkpID8gWy4uLnJlc3VsdCwgTGl0ZXJhbChrZXkpXSA6IHJlc3VsdCwgW10pO1xuICAgIHJldHVybiBVbmlvbihyZXN1bHQpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBQaWNrUmVzb2x2ZShwcm9wZXJ0aWVzLCBwcm9wZXJ0eUtleXMpIHtcbiAgICByZXR1cm4gKElzSW50ZXJzZWN0KHByb3BlcnRpZXMpID8gSW50ZXJzZWN0KEZyb21JbnRlcnNlY3QocHJvcGVydGllcy5hbGxPZiwgcHJvcGVydHlLZXlzKSkgOlxuICAgICAgICBJc1VuaW9uKHByb3BlcnRpZXMpID8gVW5pb24oRnJvbVVuaW9uKHByb3BlcnRpZXMuYW55T2YsIHByb3BlcnR5S2V5cykpIDpcbiAgICAgICAgICAgIElzT2JqZWN0KHByb3BlcnRpZXMpID8gRnJvbU9iamVjdChwcm9wZXJ0aWVzLCBwcm9wZXJ0eUtleXMpIDpcbiAgICAgICAgICAgICAgICBPYmplY3Qoe30pKTtcbn1cbi8qKiBgW0pzb25dYCBDb25zdHJ1Y3RzIGEgdHlwZSB3aG9zZSBrZXlzIGFyZSBwaWNrZWQgZnJvbSB0aGUgZ2l2ZW4gdHlwZSAqL1xuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gUGljayh0eXBlLCBrZXksIG9wdGlvbnMpIHtcbiAgICBjb25zdCB0eXBlS2V5ID0gSXNBcnJheVZhbHVlKGtleSkgPyBVbmlvbkZyb21Qcm9wZXJ0eUtleXMoa2V5KSA6IGtleTtcbiAgICBjb25zdCBwcm9wZXJ0eUtleXMgPSBJc1NjaGVtYShrZXkpID8gSW5kZXhQcm9wZXJ0eUtleXMoa2V5KSA6IGtleTtcbiAgICBjb25zdCBpc1R5cGVSZWYgPSBJc1JlZih0eXBlKTtcbiAgICBjb25zdCBpc0tleVJlZiA9IElzUmVmKGtleSk7XG4gICAgcmV0dXJuIChJc01hcHBlZFJlc3VsdCh0eXBlKSA/IFBpY2tGcm9tTWFwcGVkUmVzdWx0KHR5cGUsIHByb3BlcnR5S2V5cywgb3B0aW9ucykgOlxuICAgICAgICBJc01hcHBlZEtleShrZXkpID8gUGlja0Zyb21NYXBwZWRLZXkodHlwZSwga2V5LCBvcHRpb25zKSA6XG4gICAgICAgICAgICAoaXNUeXBlUmVmICYmIGlzS2V5UmVmKSA/IENvbXB1dGVkKCdQaWNrJywgW3R5cGUsIHR5cGVLZXldLCBvcHRpb25zKSA6XG4gICAgICAgICAgICAgICAgKCFpc1R5cGVSZWYgJiYgaXNLZXlSZWYpID8gQ29tcHV0ZWQoJ1BpY2snLCBbdHlwZSwgdHlwZUtleV0sIG9wdGlvbnMpIDpcbiAgICAgICAgICAgICAgICAgICAgKGlzVHlwZVJlZiAmJiAhaXNLZXlSZWYpID8gQ29tcHV0ZWQoJ1BpY2snLCBbdHlwZSwgdHlwZUtleV0sIG9wdGlvbnMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZVR5cGUoeyAuLi5QaWNrUmVzb2x2ZSh0eXBlLCBwcm9wZXJ0eUtleXMpLCAuLi5vcHRpb25zIH0pKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi4vbWFwcGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBQaWNrIH0gZnJvbSAnLi9waWNrLm1qcyc7XG5pbXBvcnQgeyBDbG9uZSB9IGZyb20gJy4uL2Nsb25lL3ZhbHVlLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9wZXJ0eUtleSh0eXBlLCBrZXksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBba2V5XTogUGljayh0eXBlLCBba2V5XSwgQ2xvbmUob3B0aW9ucykpXG4gICAgfTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnR5S2V5cyh0eXBlLCBwcm9wZXJ0eUtleXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcHJvcGVydHlLZXlzLnJlZHVjZSgocmVzdWx0LCBsZWZ0S2V5KSA9PiB7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3VsdCwgLi4uRnJvbVByb3BlcnR5S2V5KHR5cGUsIGxlZnRLZXksIG9wdGlvbnMpIH07XG4gICAgfSwge30pO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTWFwcGVkS2V5KHR5cGUsIG1hcHBlZEtleSwgb3B0aW9ucykge1xuICAgIHJldHVybiBGcm9tUHJvcGVydHlLZXlzKHR5cGUsIG1hcHBlZEtleS5rZXlzLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIFBpY2tGcm9tTWFwcGVkS2V5KHR5cGUsIG1hcHBlZEtleSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBGcm9tTWFwcGVkS2V5KHR5cGUsIG1hcHBlZEtleSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIE1hcHBlZFJlc3VsdChwcm9wZXJ0aWVzKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBDb21wdXRlZCB9IGZyb20gJy4uL2NvbXB1dGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPcHRpb25hbCB9IGZyb20gJy4uL29wdGlvbmFsL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPYmplY3QgfSBmcm9tICcuLi9vYmplY3QvaW5kZXgubWpzJztcbmltcG9ydCB7IEludGVyc2VjdCB9IGZyb20gJy4uL2ludGVyc2VjdC9pbmRleC5tanMnO1xuaW1wb3J0IHsgVW5pb24gfSBmcm9tICcuLi91bmlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgUmVmIH0gZnJvbSAnLi4vcmVmL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBEaXNjYXJkIH0gZnJvbSAnLi4vZGlzY2FyZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHJhbnNmb3JtS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IFBhcnRpYWxGcm9tTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi9wYXJ0aWFsLWZyb20tbWFwcGVkLXJlc3VsdC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBLaW5kR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0ICogYXMgS2luZEd1YXJkIGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUNvbXB1dGVkKHRhcmdldCwgcGFyYW1ldGVycykge1xuICAgIHJldHVybiBDb21wdXRlZCgnUGFydGlhbCcsIFtDb21wdXRlZCh0YXJnZXQsIHBhcmFtZXRlcnMpXSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZWYoJHJlZikge1xuICAgIHJldHVybiBDb21wdXRlZCgnUGFydGlhbCcsIFtSZWYoJHJlZildKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnRpZXMocHJvcGVydGllcykge1xuICAgIGNvbnN0IHBhcnRpYWxQcm9wZXJ0aWVzID0ge307XG4gICAgZm9yIChjb25zdCBLIG9mIGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvcGVydGllcykpXG4gICAgICAgIHBhcnRpYWxQcm9wZXJ0aWVzW0tdID0gT3B0aW9uYWwocHJvcGVydGllc1tLXSk7XG4gICAgcmV0dXJuIHBhcnRpYWxQcm9wZXJ0aWVzO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tT2JqZWN0KHR5cGUpIHtcbiAgICBjb25zdCBvcHRpb25zID0gRGlzY2FyZCh0eXBlLCBbVHJhbnNmb3JtS2luZCwgJyRpZCcsICdyZXF1aXJlZCcsICdwcm9wZXJ0aWVzJ10pO1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBGcm9tUHJvcGVydGllcyh0eXBlWydwcm9wZXJ0aWVzJ10pO1xuICAgIHJldHVybiBPYmplY3QocHJvcGVydGllcywgb3B0aW9ucyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZXN0KHR5cGVzKSB7XG4gICAgcmV0dXJuIHR5cGVzLm1hcCh0eXBlID0+IFBhcnRpYWxSZXNvbHZlKHR5cGUpKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUGFydGlhbFJlc29sdmVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBQYXJ0aWFsUmVzb2x2ZSh0eXBlKSB7XG4gICAgcmV0dXJuIChcbiAgICAvLyBNYXBwYWJsZVxuICAgIEtpbmRHdWFyZC5Jc0NvbXB1dGVkKHR5cGUpID8gRnJvbUNvbXB1dGVkKHR5cGUudGFyZ2V0LCB0eXBlLnBhcmFtZXRlcnMpIDpcbiAgICAgICAgS2luZEd1YXJkLklzUmVmKHR5cGUpID8gRnJvbVJlZih0eXBlLiRyZWYpIDpcbiAgICAgICAgICAgIEtpbmRHdWFyZC5Jc0ludGVyc2VjdCh0eXBlKSA/IEludGVyc2VjdChGcm9tUmVzdCh0eXBlLmFsbE9mKSkgOlxuICAgICAgICAgICAgICAgIEtpbmRHdWFyZC5Jc1VuaW9uKHR5cGUpID8gVW5pb24oRnJvbVJlc3QodHlwZS5hbnlPZikpIDpcbiAgICAgICAgICAgICAgICAgICAgS2luZEd1YXJkLklzT2JqZWN0KHR5cGUpID8gRnJvbU9iamVjdCh0eXBlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbnRyaW5zaWNcbiAgICAgICAgICAgICAgICAgICAgICAgIEtpbmRHdWFyZC5Jc0JpZ0ludCh0eXBlKSA/IHR5cGUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEtpbmRHdWFyZC5Jc0Jvb2xlYW4odHlwZSkgPyB0eXBlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2luZEd1YXJkLklzSW50ZWdlcih0eXBlKSA/IHR5cGUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2luZEd1YXJkLklzTGl0ZXJhbCh0eXBlKSA/IHR5cGUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEtpbmRHdWFyZC5Jc051bGwodHlwZSkgPyB0eXBlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2luZEd1YXJkLklzTnVtYmVyKHR5cGUpID8gdHlwZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBLaW5kR3VhcmQuSXNTdHJpbmcodHlwZSkgPyB0eXBlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBLaW5kR3VhcmQuSXNTeW1ib2wodHlwZSkgPyB0eXBlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2luZEd1YXJkLklzVW5kZWZpbmVkKHR5cGUpID8gdHlwZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXNzdGhyb3VnaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0KHt9KSk7XG59XG4vKiogYFtKc29uXWAgQ29uc3RydWN0cyBhIHR5cGUgd2hlcmUgYWxsIHByb3BlcnRpZXMgYXJlIG9wdGlvbmFsICovXG5leHBvcnQgZnVuY3Rpb24gUGFydGlhbCh0eXBlLCBvcHRpb25zKSB7XG4gICAgaWYgKEtpbmRHdWFyZC5Jc01hcHBlZFJlc3VsdCh0eXBlKSkge1xuICAgICAgICByZXR1cm4gUGFydGlhbEZyb21NYXBwZWRSZXN1bHQodHlwZSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBzcGVjaWFsOiBtYXBwaW5nIHR5cGVzIHJlcXVpcmUgb3ZlcnJpZGFibGUgb3B0aW9uc1xuICAgICAgICByZXR1cm4gQ3JlYXRlVHlwZSh7IC4uLlBhcnRpYWxSZXNvbHZlKHR5cGUpLCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbn1cbiIsCiAgICAiaW1wb3J0IHsgTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi4vbWFwcGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBQYXJ0aWFsIH0gZnJvbSAnLi9wYXJ0aWFsLm1qcyc7XG5pbXBvcnQgeyBDbG9uZSB9IGZyb20gJy4uL2Nsb25lL3ZhbHVlLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9wZXJ0aWVzKEssIG9wdGlvbnMpIHtcbiAgICBjb25zdCBBY2MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IEsyIG9mIGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoSykpXG4gICAgICAgIEFjY1tLMl0gPSBQYXJ0aWFsKEtbSzJdLCBDbG9uZShvcHRpb25zKSk7XG4gICAgcmV0dXJuIEFjYztcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU1hcHBlZFJlc3VsdChSLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIEZyb21Qcm9wZXJ0aWVzKFIucHJvcGVydGllcywgb3B0aW9ucyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBmdW5jdGlvbiBQYXJ0aWFsRnJvbU1hcHBlZFJlc3VsdChSLCBvcHRpb25zKSB7XG4gICAgY29uc3QgUCA9IEZyb21NYXBwZWRSZXN1bHQoUiwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIE1hcHBlZFJlc3VsdChQKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBDb21wdXRlZCB9IGZyb20gJy4uL2NvbXB1dGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPYmplY3QgfSBmcm9tICcuLi9vYmplY3QvaW5kZXgubWpzJztcbmltcG9ydCB7IEludGVyc2VjdCB9IGZyb20gJy4uL2ludGVyc2VjdC9pbmRleC5tanMnO1xuaW1wb3J0IHsgVW5pb24gfSBmcm9tICcuLi91bmlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgUmVmIH0gZnJvbSAnLi4vcmVmL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBPcHRpb25hbEtpbmQsIFRyYW5zZm9ybUtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBEaXNjYXJkIH0gZnJvbSAnLi4vZGlzY2FyZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgUmVxdWlyZWRGcm9tTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi9yZXF1aXJlZC1mcm9tLW1hcHBlZC1yZXN1bHQubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCAqIGFzIEtpbmRHdWFyZCBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Db21wdXRlZCh0YXJnZXQsIHBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gQ29tcHV0ZWQoJ1JlcXVpcmVkJywgW0NvbXB1dGVkKHRhcmdldCwgcGFyYW1ldGVycyldKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVJlZigkcmVmKSB7XG4gICAgcmV0dXJuIENvbXB1dGVkKCdSZXF1aXJlZCcsIFtSZWYoJHJlZildKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnRpZXMocHJvcGVydGllcykge1xuICAgIGNvbnN0IHJlcXVpcmVkUHJvcGVydGllcyA9IHt9O1xuICAgIGZvciAoY29uc3QgSyBvZiBnbG9iYWxUaGlzLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BlcnRpZXMpKVxuICAgICAgICByZXF1aXJlZFByb3BlcnRpZXNbS10gPSBEaXNjYXJkKHByb3BlcnRpZXNbS10sIFtPcHRpb25hbEtpbmRdKTtcbiAgICByZXR1cm4gcmVxdWlyZWRQcm9wZXJ0aWVzO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tT2JqZWN0KHR5cGUpIHtcbiAgICBjb25zdCBvcHRpb25zID0gRGlzY2FyZCh0eXBlLCBbVHJhbnNmb3JtS2luZCwgJyRpZCcsICdyZXF1aXJlZCcsICdwcm9wZXJ0aWVzJ10pO1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBGcm9tUHJvcGVydGllcyh0eXBlWydwcm9wZXJ0aWVzJ10pO1xuICAgIHJldHVybiBPYmplY3QocHJvcGVydGllcywgb3B0aW9ucyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZXN0KHR5cGVzKSB7XG4gICAgcmV0dXJuIHR5cGVzLm1hcCh0eXBlID0+IFJlcXVpcmVkUmVzb2x2ZSh0eXBlKSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFJlcXVpcmVkUmVzb2x2ZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFJlcXVpcmVkUmVzb2x2ZSh0eXBlKSB7XG4gICAgcmV0dXJuIChcbiAgICAvLyBNYXBwYWJsZVxuICAgIEtpbmRHdWFyZC5Jc0NvbXB1dGVkKHR5cGUpID8gRnJvbUNvbXB1dGVkKHR5cGUudGFyZ2V0LCB0eXBlLnBhcmFtZXRlcnMpIDpcbiAgICAgICAgS2luZEd1YXJkLklzUmVmKHR5cGUpID8gRnJvbVJlZih0eXBlLiRyZWYpIDpcbiAgICAgICAgICAgIEtpbmRHdWFyZC5Jc0ludGVyc2VjdCh0eXBlKSA/IEludGVyc2VjdChGcm9tUmVzdCh0eXBlLmFsbE9mKSkgOlxuICAgICAgICAgICAgICAgIEtpbmRHdWFyZC5Jc1VuaW9uKHR5cGUpID8gVW5pb24oRnJvbVJlc3QodHlwZS5hbnlPZikpIDpcbiAgICAgICAgICAgICAgICAgICAgS2luZEd1YXJkLklzT2JqZWN0KHR5cGUpID8gRnJvbU9iamVjdCh0eXBlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbnRyaW5zaWNcbiAgICAgICAgICAgICAgICAgICAgICAgIEtpbmRHdWFyZC5Jc0JpZ0ludCh0eXBlKSA/IHR5cGUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEtpbmRHdWFyZC5Jc0Jvb2xlYW4odHlwZSkgPyB0eXBlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2luZEd1YXJkLklzSW50ZWdlcih0eXBlKSA/IHR5cGUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2luZEd1YXJkLklzTGl0ZXJhbCh0eXBlKSA/IHR5cGUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEtpbmRHdWFyZC5Jc051bGwodHlwZSkgPyB0eXBlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2luZEd1YXJkLklzTnVtYmVyKHR5cGUpID8gdHlwZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBLaW5kR3VhcmQuSXNTdHJpbmcodHlwZSkgPyB0eXBlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBLaW5kR3VhcmQuSXNTeW1ib2wodHlwZSkgPyB0eXBlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2luZEd1YXJkLklzVW5kZWZpbmVkKHR5cGUpID8gdHlwZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXNzdGhyb3VnaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0KHt9KSk7XG59XG4vKiogYFtKc29uXWAgQ29uc3RydWN0cyBhIHR5cGUgd2hlcmUgYWxsIHByb3BlcnRpZXMgYXJlIHJlcXVpcmVkICovXG5leHBvcnQgZnVuY3Rpb24gUmVxdWlyZWQodHlwZSwgb3B0aW9ucykge1xuICAgIGlmIChLaW5kR3VhcmQuSXNNYXBwZWRSZXN1bHQodHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIFJlcXVpcmVkRnJvbU1hcHBlZFJlc3VsdCh0eXBlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHNwZWNpYWw6IG1hcHBpbmcgdHlwZXMgcmVxdWlyZSBvdmVycmlkYWJsZSBvcHRpb25zXG4gICAgICAgIHJldHVybiBDcmVhdGVUeXBlKHsgLi4uUmVxdWlyZWRSZXNvbHZlKHR5cGUpLCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbn1cbiIsCiAgICAiaW1wb3J0IHsgTWFwcGVkUmVzdWx0IH0gZnJvbSAnLi4vbWFwcGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBSZXF1aXJlZCB9IGZyb20gJy4vcmVxdWlyZWQubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVByb3BlcnRpZXMoUCwgb3B0aW9ucykge1xuICAgIGNvbnN0IEFjYyA9IHt9O1xuICAgIGZvciAoY29uc3QgSzIgb2YgZ2xvYmFsVGhpcy5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhQKSlcbiAgICAgICAgQWNjW0syXSA9IFJlcXVpcmVkKFBbSzJdLCBvcHRpb25zKTtcbiAgICByZXR1cm4gQWNjO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tTWFwcGVkUmVzdWx0KFIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gRnJvbVByb3BlcnRpZXMoUi5wcm9wZXJ0aWVzLCBvcHRpb25zKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIFJlcXVpcmVkRnJvbU1hcHBlZFJlc3VsdChSLCBvcHRpb25zKSB7XG4gICAgY29uc3QgUCA9IEZyb21NYXBwZWRSZXN1bHQoUiwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIE1hcHBlZFJlc3VsdChQKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2xvbmVUeXBlIH0gZnJvbSAnLi4vY2xvbmUvaW5kZXgubWpzJztcbmltcG9ydCB7IERpc2NhcmQgfSBmcm9tICcuLi9kaXNjYXJkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBBcnJheSB9IGZyb20gJy4uL2FycmF5L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBBd2FpdGVkIH0gZnJvbSAnLi4vYXdhaXRlZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgQXN5bmNJdGVyYXRvciB9IGZyb20gJy4uL2FzeW5jLWl0ZXJhdG9yL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDb25zdHJ1Y3RvciB9IGZyb20gJy4uL2NvbnN0cnVjdG9yL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBJbmRleCB9IGZyb20gJy4uL2luZGV4ZWQvaW5kZXgubWpzJztcbmltcG9ydCB7IEZ1bmN0aW9uIGFzIEZ1bmN0aW9uVHlwZSB9IGZyb20gJy4uL2Z1bmN0aW9uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBJbnRlcnNlY3QgfSBmcm9tICcuLi9pbnRlcnNlY3QvaW5kZXgubWpzJztcbmltcG9ydCB7IEl0ZXJhdG9yIH0gZnJvbSAnLi4vaXRlcmF0b3IvaW5kZXgubWpzJztcbmltcG9ydCB7IEtleU9mIH0gZnJvbSAnLi4va2V5b2YvaW5kZXgubWpzJztcbmltcG9ydCB7IE9iamVjdCB9IGZyb20gJy4uL29iamVjdC9pbmRleC5tanMnO1xuaW1wb3J0IHsgT21pdCB9IGZyb20gJy4uL29taXQvaW5kZXgubWpzJztcbmltcG9ydCB7IFBpY2sgfSBmcm9tICcuLi9waWNrL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBOZXZlciB9IGZyb20gJy4uL25ldmVyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBQYXJ0aWFsIH0gZnJvbSAnLi4vcGFydGlhbC9pbmRleC5tanMnO1xuaW1wb3J0IHsgUmVjb3JkVmFsdWUsIFJlY29yZFBhdHRlcm4gfSBmcm9tICcuLi9yZWNvcmQvaW5kZXgubWpzJztcbmltcG9ydCB7IFJlcXVpcmVkIH0gZnJvbSAnLi4vcmVxdWlyZWQvaW5kZXgubWpzJztcbmltcG9ydCB7IFR1cGxlIH0gZnJvbSAnLi4vdHVwbGUvaW5kZXgubWpzJztcbmltcG9ydCB7IFVuaW9uIH0gZnJvbSAnLi4vdW5pb24vaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3ltYm9sc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBUcmFuc2Zvcm1LaW5kLCBPcHRpb25hbEtpbmQsIFJlYWRvbmx5S2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gS2luZEd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCAqIGFzIEtpbmRHdWFyZCBmcm9tICcuLi9ndWFyZC9raW5kLm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIERlcmVmZXJlbmNlUGFyYW1ldGVycyhtb2R1bGVQcm9wZXJ0aWVzLCB0eXBlcykge1xuICAgIHJldHVybiB0eXBlcy5tYXAoKHR5cGUpID0+IHtcbiAgICAgICAgcmV0dXJuIEtpbmRHdWFyZC5Jc1JlZih0eXBlKVxuICAgICAgICAgICAgPyBEZXJlZmVyZW5jZShtb2R1bGVQcm9wZXJ0aWVzLCB0eXBlLiRyZWYpXG4gICAgICAgICAgICA6IEZyb21UeXBlKG1vZHVsZVByb3BlcnRpZXMsIHR5cGUpO1xuICAgIH0pO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBEZXJlZmVyZW5jZShtb2R1bGVQcm9wZXJ0aWVzLCByZWYpIHtcbiAgICByZXR1cm4gKHJlZiBpbiBtb2R1bGVQcm9wZXJ0aWVzXG4gICAgICAgID8gS2luZEd1YXJkLklzUmVmKG1vZHVsZVByb3BlcnRpZXNbcmVmXSlcbiAgICAgICAgICAgID8gRGVyZWZlcmVuY2UobW9kdWxlUHJvcGVydGllcywgbW9kdWxlUHJvcGVydGllc1tyZWZdLiRyZWYpXG4gICAgICAgICAgICA6IEZyb21UeXBlKG1vZHVsZVByb3BlcnRpZXMsIG1vZHVsZVByb3BlcnRpZXNbcmVmXSlcbiAgICAgICAgOiBOZXZlcigpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUF3YWl0ZWQocGFyYW1ldGVycykge1xuICAgIHJldHVybiBBd2FpdGVkKHBhcmFtZXRlcnNbMF0pO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tSW5kZXgocGFyYW1ldGVycykge1xuICAgIHJldHVybiBJbmRleChwYXJhbWV0ZXJzWzBdLCBwYXJhbWV0ZXJzWzFdKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUtleU9mKHBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gS2V5T2YocGFyYW1ldGVyc1swXSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21QYXJ0aWFsKHBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gUGFydGlhbChwYXJhbWV0ZXJzWzBdKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU9taXQocGFyYW1ldGVycykge1xuICAgIHJldHVybiBPbWl0KHBhcmFtZXRlcnNbMF0sIHBhcmFtZXRlcnNbMV0pO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUGljayhwYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIFBpY2socGFyYW1ldGVyc1swXSwgcGFyYW1ldGVyc1sxXSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZXF1aXJlZChwYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIFJlcXVpcmVkKHBhcmFtZXRlcnNbMF0pO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQ29tcHV0ZWQobW9kdWxlUHJvcGVydGllcywgdGFyZ2V0LCBwYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgZGVyZWZlcmVuY2VkID0gRGVyZWZlcmVuY2VQYXJhbWV0ZXJzKG1vZHVsZVByb3BlcnRpZXMsIHBhcmFtZXRlcnMpO1xuICAgIHJldHVybiAodGFyZ2V0ID09PSAnQXdhaXRlZCcgPyBGcm9tQXdhaXRlZChkZXJlZmVyZW5jZWQpIDpcbiAgICAgICAgdGFyZ2V0ID09PSAnSW5kZXgnID8gRnJvbUluZGV4KGRlcmVmZXJlbmNlZCkgOlxuICAgICAgICAgICAgdGFyZ2V0ID09PSAnS2V5T2YnID8gRnJvbUtleU9mKGRlcmVmZXJlbmNlZCkgOlxuICAgICAgICAgICAgICAgIHRhcmdldCA9PT0gJ1BhcnRpYWwnID8gRnJvbVBhcnRpYWwoZGVyZWZlcmVuY2VkKSA6XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9PT0gJ09taXQnID8gRnJvbU9taXQoZGVyZWZlcmVuY2VkKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPT09ICdQaWNrJyA/IEZyb21QaWNrKGRlcmVmZXJlbmNlZCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9PT0gJ1JlcXVpcmVkJyA/IEZyb21SZXF1aXJlZChkZXJlZmVyZW5jZWQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmV2ZXIoKSk7XG59XG5mdW5jdGlvbiBGcm9tQXJyYXkobW9kdWxlUHJvcGVydGllcywgdHlwZSkge1xuICAgIHJldHVybiBBcnJheShGcm9tVHlwZShtb2R1bGVQcm9wZXJ0aWVzLCB0eXBlKSk7XG59XG5mdW5jdGlvbiBGcm9tQXN5bmNJdGVyYXRvcihtb2R1bGVQcm9wZXJ0aWVzLCB0eXBlKSB7XG4gICAgcmV0dXJuIEFzeW5jSXRlcmF0b3IoRnJvbVR5cGUobW9kdWxlUHJvcGVydGllcywgdHlwZSkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQ29uc3RydWN0b3IobW9kdWxlUHJvcGVydGllcywgcGFyYW1ldGVycywgaW5zdGFuY2VUeXBlKSB7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yKEZyb21UeXBlcyhtb2R1bGVQcm9wZXJ0aWVzLCBwYXJhbWV0ZXJzKSwgRnJvbVR5cGUobW9kdWxlUHJvcGVydGllcywgaW5zdGFuY2VUeXBlKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21GdW5jdGlvbihtb2R1bGVQcm9wZXJ0aWVzLCBwYXJhbWV0ZXJzLCByZXR1cm5UeXBlKSB7XG4gICAgcmV0dXJuIEZ1bmN0aW9uVHlwZShGcm9tVHlwZXMobW9kdWxlUHJvcGVydGllcywgcGFyYW1ldGVycyksIEZyb21UeXBlKG1vZHVsZVByb3BlcnRpZXMsIHJldHVyblR5cGUpKTtcbn1cbmZ1bmN0aW9uIEZyb21JbnRlcnNlY3QobW9kdWxlUHJvcGVydGllcywgdHlwZXMpIHtcbiAgICByZXR1cm4gSW50ZXJzZWN0KEZyb21UeXBlcyhtb2R1bGVQcm9wZXJ0aWVzLCB0eXBlcykpO1xufVxuZnVuY3Rpb24gRnJvbUl0ZXJhdG9yKG1vZHVsZVByb3BlcnRpZXMsIHR5cGUpIHtcbiAgICByZXR1cm4gSXRlcmF0b3IoRnJvbVR5cGUobW9kdWxlUHJvcGVydGllcywgdHlwZSkpO1xufVxuZnVuY3Rpb24gRnJvbU9iamVjdChtb2R1bGVQcm9wZXJ0aWVzLCBwcm9wZXJ0aWVzKSB7XG4gICAgcmV0dXJuIE9iamVjdChnbG9iYWxUaGlzLk9iamVjdC5rZXlzKHByb3BlcnRpZXMpLnJlZHVjZSgocmVzdWx0LCBrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVzdWx0LCBba2V5XTogRnJvbVR5cGUobW9kdWxlUHJvcGVydGllcywgcHJvcGVydGllc1trZXldKSB9O1xuICAgIH0sIHt9KSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZWNvcmQobW9kdWxlUHJvcGVydGllcywgdHlwZSkge1xuICAgIGNvbnN0IFt2YWx1ZSwgcGF0dGVybl0gPSBbRnJvbVR5cGUobW9kdWxlUHJvcGVydGllcywgUmVjb3JkVmFsdWUodHlwZSkpLCBSZWNvcmRQYXR0ZXJuKHR5cGUpXTtcbiAgICBjb25zdCByZXN1bHQgPSBDbG9uZVR5cGUodHlwZSk7XG4gICAgcmVzdWx0LnBhdHRlcm5Qcm9wZXJ0aWVzW3BhdHRlcm5dID0gdmFsdWU7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVRyYW5zZm9ybShtb2R1bGVQcm9wZXJ0aWVzLCB0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gKEtpbmRHdWFyZC5Jc1JlZih0cmFuc2Zvcm0pKVxuICAgICAgICA/IHsgLi4uRGVyZWZlcmVuY2UobW9kdWxlUHJvcGVydGllcywgdHJhbnNmb3JtLiRyZWYpLCBbVHJhbnNmb3JtS2luZF06IHRyYW5zZm9ybVtUcmFuc2Zvcm1LaW5kXSB9XG4gICAgICAgIDogdHJhbnNmb3JtO1xufVxuZnVuY3Rpb24gRnJvbVR1cGxlKG1vZHVsZVByb3BlcnRpZXMsIHR5cGVzKSB7XG4gICAgcmV0dXJuIFR1cGxlKEZyb21UeXBlcyhtb2R1bGVQcm9wZXJ0aWVzLCB0eXBlcykpO1xufVxuZnVuY3Rpb24gRnJvbVVuaW9uKG1vZHVsZVByb3BlcnRpZXMsIHR5cGVzKSB7XG4gICAgcmV0dXJuIFVuaW9uKEZyb21UeXBlcyhtb2R1bGVQcm9wZXJ0aWVzLCB0eXBlcykpO1xufVxuZnVuY3Rpb24gRnJvbVR5cGVzKG1vZHVsZVByb3BlcnRpZXMsIHR5cGVzKSB7XG4gICAgcmV0dXJuIHR5cGVzLm1hcCgodHlwZSkgPT4gRnJvbVR5cGUobW9kdWxlUHJvcGVydGllcywgdHlwZSkpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gRnJvbVR5cGUobW9kdWxlUHJvcGVydGllcywgdHlwZSkge1xuICAgIHJldHVybiAoXG4gICAgLy8gTW9kaWZpZXJzXG4gICAgS2luZEd1YXJkLklzT3B0aW9uYWwodHlwZSkgPyBDcmVhdGVUeXBlKEZyb21UeXBlKG1vZHVsZVByb3BlcnRpZXMsIERpc2NhcmQodHlwZSwgW09wdGlvbmFsS2luZF0pKSwgdHlwZSkgOlxuICAgICAgICBLaW5kR3VhcmQuSXNSZWFkb25seSh0eXBlKSA/IENyZWF0ZVR5cGUoRnJvbVR5cGUobW9kdWxlUHJvcGVydGllcywgRGlzY2FyZCh0eXBlLCBbUmVhZG9ubHlLaW5kXSkpLCB0eXBlKSA6XG4gICAgICAgICAgICAvLyBUcmFuc2Zvcm1cbiAgICAgICAgICAgIEtpbmRHdWFyZC5Jc1RyYW5zZm9ybSh0eXBlKSA/IENyZWF0ZVR5cGUoRnJvbVRyYW5zZm9ybShtb2R1bGVQcm9wZXJ0aWVzLCB0eXBlKSwgdHlwZSkgOlxuICAgICAgICAgICAgICAgIC8vIFR5cGVzXG4gICAgICAgICAgICAgICAgS2luZEd1YXJkLklzQXJyYXkodHlwZSkgPyBDcmVhdGVUeXBlKEZyb21BcnJheShtb2R1bGVQcm9wZXJ0aWVzLCB0eXBlLml0ZW1zKSwgdHlwZSkgOlxuICAgICAgICAgICAgICAgICAgICBLaW5kR3VhcmQuSXNBc3luY0l0ZXJhdG9yKHR5cGUpID8gQ3JlYXRlVHlwZShGcm9tQXN5bmNJdGVyYXRvcihtb2R1bGVQcm9wZXJ0aWVzLCB0eXBlLml0ZW1zKSwgdHlwZSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgS2luZEd1YXJkLklzQ29tcHV0ZWQodHlwZSkgPyBDcmVhdGVUeXBlKEZyb21Db21wdXRlZChtb2R1bGVQcm9wZXJ0aWVzLCB0eXBlLnRhcmdldCwgdHlwZS5wYXJhbWV0ZXJzKSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEtpbmRHdWFyZC5Jc0NvbnN0cnVjdG9yKHR5cGUpID8gQ3JlYXRlVHlwZShGcm9tQ29uc3RydWN0b3IobW9kdWxlUHJvcGVydGllcywgdHlwZS5wYXJhbWV0ZXJzLCB0eXBlLnJldHVybnMpLCB0eXBlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEtpbmRHdWFyZC5Jc0Z1bmN0aW9uKHR5cGUpID8gQ3JlYXRlVHlwZShGcm9tRnVuY3Rpb24obW9kdWxlUHJvcGVydGllcywgdHlwZS5wYXJhbWV0ZXJzLCB0eXBlLnJldHVybnMpLCB0eXBlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBLaW5kR3VhcmQuSXNJbnRlcnNlY3QodHlwZSkgPyBDcmVhdGVUeXBlKEZyb21JbnRlcnNlY3QobW9kdWxlUHJvcGVydGllcywgdHlwZS5hbGxPZiksIHR5cGUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBLaW5kR3VhcmQuSXNJdGVyYXRvcih0eXBlKSA/IENyZWF0ZVR5cGUoRnJvbUl0ZXJhdG9yKG1vZHVsZVByb3BlcnRpZXMsIHR5cGUuaXRlbXMpLCB0eXBlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEtpbmRHdWFyZC5Jc09iamVjdCh0eXBlKSA/IENyZWF0ZVR5cGUoRnJvbU9iamVjdChtb2R1bGVQcm9wZXJ0aWVzLCB0eXBlLnByb3BlcnRpZXMpLCB0eXBlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBLaW5kR3VhcmQuSXNSZWNvcmQodHlwZSkgPyBDcmVhdGVUeXBlKEZyb21SZWNvcmQobW9kdWxlUHJvcGVydGllcywgdHlwZSkpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBLaW5kR3VhcmQuSXNUdXBsZSh0eXBlKSA/IENyZWF0ZVR5cGUoRnJvbVR1cGxlKG1vZHVsZVByb3BlcnRpZXMsIHR5cGUuaXRlbXMgfHwgW10pLCB0eXBlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEtpbmRHdWFyZC5Jc1VuaW9uKHR5cGUpID8gQ3JlYXRlVHlwZShGcm9tVW5pb24obW9kdWxlUHJvcGVydGllcywgdHlwZS5hbnlPZiksIHR5cGUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gQ29tcHV0ZVR5cGUobW9kdWxlUHJvcGVydGllcywga2V5KSB7XG4gICAgcmV0dXJuIChrZXkgaW4gbW9kdWxlUHJvcGVydGllc1xuICAgICAgICA/IEZyb21UeXBlKG1vZHVsZVByb3BlcnRpZXMsIG1vZHVsZVByb3BlcnRpZXNba2V5XSlcbiAgICAgICAgOiBOZXZlcigpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIENvbXB1dGVNb2R1bGVQcm9wZXJ0aWVzKG1vZHVsZVByb3BlcnRpZXMpIHtcbiAgICByZXR1cm4gZ2xvYmFsVGhpcy5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhtb2R1bGVQcm9wZXJ0aWVzKS5yZWR1Y2UoKHJlc3VsdCwga2V5KSA9PiB7XG4gICAgICAgIHJldHVybiB7IC4uLnJlc3VsdCwgW2tleV06IENvbXB1dGVUeXBlKG1vZHVsZVByb3BlcnRpZXMsIGtleSkgfTtcbiAgICB9LCB7fSk7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvaW5kZXgubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE1vZHVsZSBJbmZyYXN0cnVjdHVyZSBUeXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBDb21wdXRlTW9kdWxlUHJvcGVydGllcyB9IGZyb20gJy4vY29tcHV0ZS5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBNb2R1bGVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgY2xhc3MgVE1vZHVsZSB7XG4gICAgY29uc3RydWN0b3IoJGRlZnMpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBDb21wdXRlTW9kdWxlUHJvcGVydGllcygkZGVmcyk7XG4gICAgICAgIGNvbnN0IGlkZW50aWZpZWQgPSB0aGlzLldpdGhJZGVudGlmaWVycyhjb21wdXRlZCk7XG4gICAgICAgIHRoaXMuJGRlZnMgPSBpZGVudGlmaWVkO1xuICAgIH1cbiAgICAvKiogYFtKc29uXWAgSW1wb3J0cyBhIFR5cGUgYnkgS2V5LiAqL1xuICAgIEltcG9ydChrZXksIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgJGRlZnMgPSB7IC4uLnRoaXMuJGRlZnMsIFtrZXldOiBDcmVhdGVUeXBlKHRoaXMuJGRlZnNba2V5XSwgb3B0aW9ucykgfTtcbiAgICAgICAgcmV0dXJuIENyZWF0ZVR5cGUoeyBbS2luZF06ICdJbXBvcnQnLCAkZGVmcywgJHJlZjoga2V5IH0pO1xuICAgIH1cbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBXaXRoSWRlbnRpZmllcnMoJGRlZnMpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoJGRlZnMpLnJlZHVjZSgocmVzdWx0LCBrZXkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3VsdCwgW2tleV06IHsgLi4uJGRlZnNba2V5XSwgJGlkOiBrZXkgfSB9O1xuICAgICAgICB9LCB7fSk7XG4gICAgfVxufVxuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBUeXBlIERlZmluaXRpb24gTW9kdWxlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIE1vZHVsZShwcm9wZXJ0aWVzKSB7XG4gICAgcmV0dXJuIG5ldyBUTW9kdWxlKHByb3BlcnRpZXMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL3R5cGUubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhIE5vdCB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gTm90KHR5cGUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gQ3JlYXRlVHlwZSh7IFtLaW5kXTogJ05vdCcsIG5vdDogdHlwZSB9LCBvcHRpb25zKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgVHVwbGUgfSBmcm9tICcuLi90dXBsZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgTmV2ZXIgfSBmcm9tICcuLi9uZXZlci9pbmRleC5tanMnO1xuaW1wb3J0ICogYXMgS2luZEd1YXJkIGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbi8qKiBgW0phdmFTY3JpcHRdYCBFeHRyYWN0cyB0aGUgUGFyYW1ldGVycyBmcm9tIHRoZSBnaXZlbiBGdW5jdGlvbiB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gUGFyYW1ldGVycyhzY2hlbWEsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gKEtpbmRHdWFyZC5Jc0Z1bmN0aW9uKHNjaGVtYSkgPyBUdXBsZShzY2hlbWEucGFyYW1ldGVycywgb3B0aW9ucykgOiBOZXZlcigpKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ2xvbmVUeXBlIH0gZnJvbSAnLi4vY2xvbmUvdHlwZS5tanMnO1xuaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBJc1VuZGVmaW5lZCB9IGZyb20gJy4uL2d1YXJkL3ZhbHVlLm1qcyc7XG5pbXBvcnQgeyBLaW5kLCBIaW50IH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLy8gQXV0byBUcmFja2VkIEZvciBSZWN1cnNpdmUgVHlwZXMgd2l0aG91dCBJRCdzXG5sZXQgT3JkaW5hbCA9IDA7XG4vKiogYFtKc29uXWAgQ3JlYXRlcyBhIFJlY3Vyc2l2ZSB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gUmVjdXJzaXZlKGNhbGxiYWNrLCBvcHRpb25zID0ge30pIHtcbiAgICBpZiAoSXNVbmRlZmluZWQob3B0aW9ucy4kaWQpKVxuICAgICAgICBvcHRpb25zLiRpZCA9IGBUJHtPcmRpbmFsKyt9YDtcbiAgICBjb25zdCB0aGlzVHlwZSA9IENsb25lVHlwZShjYWxsYmFjayh7IFtLaW5kXTogJ1RoaXMnLCAkcmVmOiBgJHtvcHRpb25zLiRpZH1gIH0pKTtcbiAgICB0aGlzVHlwZS4kaWQgPSBvcHRpb25zLiRpZDtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gQ3JlYXRlVHlwZSh7IFtIaW50XTogJ1JlY3Vyc2l2ZScsIC4uLnRoaXNUeXBlIH0sIG9wdGlvbnMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBDcmVhdGVUeXBlIH0gZnJvbSAnLi4vY3JlYXRlL3R5cGUubWpzJztcbmltcG9ydCB7IElzU3RyaW5nIH0gZnJvbSAnLi4vZ3VhcmQvdmFsdWUubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vKiogYFtKYXZhU2NyaXB0XWAgQ3JlYXRlcyBhIFJlZ0V4cCB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gUmVnRXhwKHVucmVzb2x2ZWQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBleHByID0gSXNTdHJpbmcodW5yZXNvbHZlZCkgPyBuZXcgZ2xvYmFsVGhpcy5SZWdFeHAodW5yZXNvbHZlZCkgOiB1bnJlc29sdmVkO1xuICAgIHJldHVybiBDcmVhdGVUeXBlKHsgW0tpbmRdOiAnUmVnRXhwJywgdHlwZTogJ1JlZ0V4cCcsIHNvdXJjZTogZXhwci5zb3VyY2UsIGZsYWdzOiBleHByLmZsYWdzIH0sIG9wdGlvbnMpO1xufVxuIiwKICAgICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc0ludGVyc2VjdCwgSXNVbmlvbiwgSXNUdXBsZSB9IGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gUmVzdFJlc29sdmUoVCkge1xuICAgIHJldHVybiAoSXNJbnRlcnNlY3QoVCkgPyBULmFsbE9mIDpcbiAgICAgICAgSXNVbmlvbihUKSA/IFQuYW55T2YgOlxuICAgICAgICAgICAgSXNUdXBsZShUKSA/IFQuaXRlbXMgPz8gW10gOlxuICAgICAgICAgICAgICAgIFtdKTtcbn1cbi8qKiBgW0pzb25dYCBFeHRyYWN0cyBpbnRlcmlvciBSZXN0IGVsZW1lbnRzIGZyb20gVHVwbGUsIEludGVyc2VjdCBhbmQgVW5pb24gdHlwZXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBSZXN0KFQpIHtcbiAgICByZXR1cm4gUmVzdFJlc29sdmUoVCk7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgTmV2ZXIgfSBmcm9tICcuLi9uZXZlci9pbmRleC5tanMnO1xuaW1wb3J0ICogYXMgS2luZEd1YXJkIGZyb20gJy4uL2d1YXJkL2tpbmQubWpzJztcbi8qKiBgW0phdmFTY3JpcHRdYCBFeHRyYWN0cyB0aGUgUmV0dXJuVHlwZSBmcm9tIHRoZSBnaXZlbiBGdW5jdGlvbiB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gUmV0dXJuVHlwZShzY2hlbWEsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gKEtpbmRHdWFyZC5Jc0Z1bmN0aW9uKHNjaGVtYSkgPyBDcmVhdGVUeXBlKHNjaGVtYS5yZXR1cm5zLCBvcHRpb25zKSA6IE5ldmVyKG9wdGlvbnMpKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgVHJhbnNmb3JtS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzVHJhbnNmb3JtIH0gZnJvbSAnLi4vZ3VhcmQva2luZC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUcmFuc2Zvcm1CdWlsZGVyc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtRGVjb2RlQnVpbGRlciB7XG4gICAgY29uc3RydWN0b3Ioc2NoZW1hKSB7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgIH1cbiAgICBEZWNvZGUoZGVjb2RlKSB7XG4gICAgICAgIHJldHVybiBuZXcgVHJhbnNmb3JtRW5jb2RlQnVpbGRlcih0aGlzLnNjaGVtYSwgZGVjb2RlKTtcbiAgICB9XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBjbGFzcyBUcmFuc2Zvcm1FbmNvZGVCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzY2hlbWEsIGRlY29kZSkge1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy5kZWNvZGUgPSBkZWNvZGU7XG4gICAgfVxuICAgIEVuY29kZVRyYW5zZm9ybShlbmNvZGUsIHNjaGVtYSkge1xuICAgICAgICBjb25zdCBFbmNvZGUgPSAodmFsdWUpID0+IHNjaGVtYVtUcmFuc2Zvcm1LaW5kXS5FbmNvZGUoZW5jb2RlKHZhbHVlKSk7XG4gICAgICAgIGNvbnN0IERlY29kZSA9ICh2YWx1ZSkgPT4gdGhpcy5kZWNvZGUoc2NoZW1hW1RyYW5zZm9ybUtpbmRdLkRlY29kZSh2YWx1ZSkpO1xuICAgICAgICBjb25zdCBDb2RlYyA9IHsgRW5jb2RlOiBFbmNvZGUsIERlY29kZTogRGVjb2RlIH07XG4gICAgICAgIHJldHVybiB7IC4uLnNjaGVtYSwgW1RyYW5zZm9ybUtpbmRdOiBDb2RlYyB9O1xuICAgIH1cbiAgICBFbmNvZGVTY2hlbWEoZW5jb2RlLCBzY2hlbWEpIHtcbiAgICAgICAgY29uc3QgQ29kZWMgPSB7IERlY29kZTogdGhpcy5kZWNvZGUsIEVuY29kZTogZW5jb2RlIH07XG4gICAgICAgIHJldHVybiB7IC4uLnNjaGVtYSwgW1RyYW5zZm9ybUtpbmRdOiBDb2RlYyB9O1xuICAgIH1cbiAgICBFbmNvZGUoZW5jb2RlKSB7XG4gICAgICAgIHJldHVybiAoSXNUcmFuc2Zvcm0odGhpcy5zY2hlbWEpID8gdGhpcy5FbmNvZGVUcmFuc2Zvcm0oZW5jb2RlLCB0aGlzLnNjaGVtYSkgOiB0aGlzLkVuY29kZVNjaGVtYShlbmNvZGUsIHRoaXMuc2NoZW1hKSk7XG4gICAgfVxufVxuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBUcmFuc2Zvcm0gdHlwZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zZm9ybShzY2hlbWEpIHtcbiAgICByZXR1cm4gbmV3IFRyYW5zZm9ybURlY29kZUJ1aWxkZXIoc2NoZW1hKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ3JlYXRlVHlwZSB9IGZyb20gJy4uL2NyZWF0ZS90eXBlLm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vc3ltYm9scy9pbmRleC5tanMnO1xuLyoqIGBbSnNvbl1gIENyZWF0ZXMgYSBVbnNhZmUgdHlwZSB0aGF0IHdpbGwgaW5mZXJzIGFzIHRoZSBnZW5lcmljIGFyZ3VtZW50IFQgKi9cbmV4cG9ydCBmdW5jdGlvbiBVbnNhZmUob3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIENyZWF0ZVR5cGUoeyBbS2luZF06IG9wdGlvbnNbS2luZF0gPz8gJ1Vuc2FmZScgfSwgb3B0aW9ucyk7XG59XG4iLAogICAgImltcG9ydCB7IENyZWF0ZVR5cGUgfSBmcm9tICcuLi9jcmVhdGUvdHlwZS5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uL3N5bWJvbHMvaW5kZXgubWpzJztcbi8qKiBgW0phdmFTY3JpcHRdYCBDcmVhdGVzIGEgVm9pZCB0eXBlICovXG5leHBvcnQgZnVuY3Rpb24gVm9pZChvcHRpb25zKSB7XG4gICAgcmV0dXJuIENyZWF0ZVR5cGUoeyBbS2luZF06ICdWb2lkJywgdHlwZTogJ3ZvaWQnIH0sIG9wdGlvbnMpO1xufVxuIiwKICAgICIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpzb25UeXBlQnVpbGRlclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgeyBKc29uVHlwZUJ1aWxkZXIgfSBmcm9tICcuL2pzb24ubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSmF2YVNjcmlwdFR5cGVCdWlsZGVyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCAqIGFzIFR5cGVCdWlsZGVyIGZyb20gJy4vdHlwZS5tanMnO1xuaW1wb3J0IHsgSmF2YVNjcmlwdFR5cGVCdWlsZGVyIH0gZnJvbSAnLi9qYXZhc2NyaXB0Lm1qcyc7XG4vKiogSmF2YVNjcmlwdCBUeXBlIEJ1aWxkZXIgd2l0aCBTdGF0aWMgUmVzb2x1dGlvbiBmb3IgVHlwZVNjcmlwdCAqL1xuY29uc3QgVHlwZSA9IFR5cGVCdWlsZGVyO1xuZXhwb3J0IHsgSmF2YVNjcmlwdFR5cGVCdWlsZGVyIH07XG5leHBvcnQgeyBUeXBlIH07XG4iLAogICAgInZhciBfYTtcbmltcG9ydCB7IE1lbW9pcmlzdCB9IGZyb20gXCJtZW1vaXJpc3RcIjtcbmltcG9ydCB7XG4gIEtpbmRcbn0gZnJvbSBcIkBzaW5jbGFpci90eXBlYm94XCI7XG5pbXBvcnQgZmFzdERlY29kZVVSSUNvbXBvbmVudCBmcm9tIFwiZmFzdC1kZWNvZGUtdXJpLWNvbXBvbmVudFwiO1xuaW1wb3J0IHsgdCB9IGZyb20gXCIuL3R5cGUtc3lzdGVtL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgbWVyZ2VJbmZlcmVuY2UsIHN1Y3Jvc2UgfSBmcm9tIFwiLi9zdWNyb3NlLm1qc1wiO1xuaW1wb3J0IHsgQnVuQWRhcHRlciB9IGZyb20gXCIuL2FkYXB0ZXIvYnVuL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgV2ViU3RhbmRhcmRBZGFwdGVyIH0gZnJvbSBcIi4vYWRhcHRlci93ZWItc3RhbmRhcmQvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBlbnYgfSBmcm9tIFwiLi91bml2ZXJzYWwvZW52Lm1qc1wiO1xuaW1wb3J0IHtcbiAgY2xvbmVJbmZlcmVuY2UsXG4gIGRlZHVwbGljYXRlQ2hlY2tzdW0sXG4gIGZuVG9Db250YWluZXIsXG4gIGdldExvb3NlUGF0aCxcbiAgbG9jYWxIb29rVG9MaWZlQ3ljbGVTdG9yZSxcbiAgbWVyZ2VEZWVwLFxuICBtZXJnZVNjaGVtYVZhbGlkYXRvcixcbiAgUHJvbWlzZUdyb3VwLFxuICBwcm9tb3RlRXZlbnQsXG4gIGlzTm90RW1wdHksXG4gIGVuY29kZVBhdGgsXG4gIGxpZmVDeWNsZVRvQXJyYXksXG4gIHN1cHBvcnRQZXJNZXRob2RJbmxpbmVIYW5kbGVyLFxuICByZWRpcmVjdCxcbiAgZW1wdHlTY2hlbWEsXG4gIGluc2VydFN0YW5kYWxvbmVWYWxpZGF0b3Jcbn0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5pbXBvcnQge1xuICBjb2VyY2VQcmltaXRpdmVSb290LFxuICBzdHJpbmdUb1N0cnVjdHVyZUNvZXJjaW9ucyxcbiAgZ2V0U2NoZW1hVmFsaWRhdG9yLFxuICBnZXRSZXNwb25zZVNjaGVtYVZhbGlkYXRvcixcbiAgZ2V0Q29va2llVmFsaWRhdG9yLFxuICBxdWVyeUNvZXJjaW9uc1xufSBmcm9tIFwiLi9zY2hlbWEubWpzXCI7XG5pbXBvcnQge1xuICBjb21wb3NlSGFuZGxlcixcbiAgY29tcG9zZUdlbmVyYWxIYW5kbGVyLFxuICBjb21wb3NlRXJyb3JIYW5kbGVyXG59IGZyb20gXCIuL2NvbXBvc2UubWpzXCI7XG5pbXBvcnQgeyBjcmVhdGVUcmFjZXIgfSBmcm9tIFwiLi90cmFjZS5tanNcIjtcbmltcG9ydCB7XG4gIG1lcmdlSG9vayxcbiAgY2hlY2tzdW0sXG4gIG1lcmdlTGlmZUN5Y2xlLFxuICBmaWx0ZXJHbG9iYWxIb29rLFxuICBhc0hvb2tUeXBlLFxuICByZXBsYWNlVXJsUGF0aFxufSBmcm9tIFwiLi91dGlscy5tanNcIjtcbmltcG9ydCB7XG4gIGNyZWF0ZUR5bmFtaWNFcnJvckhhbmRsZXIsXG4gIGNyZWF0ZUR5bmFtaWNIYW5kbGVyXG59IGZyb20gXCIuL2R5bmFtaWMtaGFuZGxlLm1qc1wiO1xuaW1wb3J0IHtcbiAgc3RhdHVzLFxuICBFUlJPUl9DT0RFLFxuICBWYWxpZGF0aW9uRXJyb3Jcbn0gZnJvbSBcIi4vZXJyb3IubWpzXCI7XG5fYSA9IFN5bWJvbC5kaXNwb3NlO1xuY29uc3QgX0VseXNpYSA9IGNsYXNzIF9FbHlzaWEge1xuICBjb25zdHJ1Y3Rvcihjb25maWcgPSB7fSkge1xuICAgIHRoaXMuc2VydmVyID0gbnVsbDtcbiAgICB0aGlzLmRlcGVuZGVuY2llcyA9IHt9O1xuICAgIHRoaXNbXCJ+UHJlZml4XCJdID0gXCJcIjtcbiAgICB0aGlzW1wiflNpbmdsZXRvblwiXSA9IG51bGw7XG4gICAgdGhpc1tcIn5EZWZpbml0aW9uc1wiXSA9IG51bGw7XG4gICAgdGhpc1tcIn5NZXRhZGF0YVwiXSA9IG51bGw7XG4gICAgdGhpc1tcIn5FcGhlbWVyYWxcIl0gPSBudWxsO1xuICAgIHRoaXNbXCJ+Vm9sYXRpbGVcIl0gPSBudWxsO1xuICAgIHRoaXNbXCJ+Um91dGVzXCJdID0gbnVsbDtcbiAgICB0aGlzLnNpbmdsZXRvbiA9IHtcbiAgICAgIGRlY29yYXRvcjoge30sXG4gICAgICBzdG9yZToge30sXG4gICAgICBkZXJpdmU6IHt9LFxuICAgICAgcmVzb2x2ZToge31cbiAgICB9O1xuICAgIHRoaXMuZGVmaW5pdGlvbnMgPSB7XG4gICAgICB0eXBlYm94OiB0Lk1vZHVsZSh7fSksXG4gICAgICB0eXBlOiB7fSxcbiAgICAgIGVycm9yOiB7fVxuICAgIH07XG4gICAgdGhpcy5leHRlbmRlciA9IHtcbiAgICAgIG1hY3JvOiB7fSxcbiAgICAgIGhpZ2hlck9yZGVyRnVuY3Rpb25zOiBbXVxuICAgIH07XG4gICAgdGhpcy52YWxpZGF0b3IgPSB7XG4gICAgICBnbG9iYWw6IG51bGwsXG4gICAgICBzY29wZWQ6IG51bGwsXG4gICAgICBsb2NhbDogbnVsbCxcbiAgICAgIGdldENhbmRpZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmdsb2JhbCAmJiAhdGhpcy5zY29wZWQgJiYgIXRoaXMubG9jYWwgPyB7XG4gICAgICAgICAgYm9keTogdm9pZCAwLFxuICAgICAgICAgIGhlYWRlcnM6IHZvaWQgMCxcbiAgICAgICAgICBwYXJhbXM6IHZvaWQgMCxcbiAgICAgICAgICBxdWVyeTogdm9pZCAwLFxuICAgICAgICAgIGNvb2tpZTogdm9pZCAwLFxuICAgICAgICAgIHJlc3BvbnNlOiB2b2lkIDBcbiAgICAgICAgfSA6IG1lcmdlU2NoZW1hVmFsaWRhdG9yKFxuICAgICAgICAgIG1lcmdlU2NoZW1hVmFsaWRhdG9yKHRoaXMuZ2xvYmFsLCB0aGlzLnNjb3BlZCksXG4gICAgICAgICAgdGhpcy5sb2NhbFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yID0ge1xuICAgICAgZ2xvYmFsOiBudWxsLFxuICAgICAgc2NvcGVkOiBudWxsLFxuICAgICAgbG9jYWw6IG51bGxcbiAgICB9O1xuICAgIHRoaXMuZXZlbnQgPSB7fTtcbiAgICB0aGlzLnJvdXRlciA9IHtcbiAgICAgIFwifmh0dHBcIjogdm9pZCAwLFxuICAgICAgZ2V0IGh0dHAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzW1wifmh0dHBcIl0gfHwgKHRoaXNbXCJ+aHR0cFwiXSA9IG5ldyBNZW1vaXJpc3Qoe1xuICAgICAgICAgIGxhenk6ICEwLFxuICAgICAgICAgIG9uUGFyYW06IGZhc3REZWNvZGVVUklDb21wb25lbnRcbiAgICAgICAgfSkpLCB0aGlzW1wifmh0dHBcIl07XG4gICAgICB9LFxuICAgICAgXCJ+ZHluYW1pY1wiOiB2b2lkIDAsXG4gICAgICAvLyBVc2UgaW4gbm9uLUFPVCBtb2RlXG4gICAgICBnZXQgZHluYW1pYygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbXCJ+ZHluYW1pY1wiXSB8fCAodGhpc1tcIn5keW5hbWljXCJdID0gbmV3IE1lbW9pcmlzdCh7XG4gICAgICAgICAgb25QYXJhbTogZmFzdERlY29kZVVSSUNvbXBvbmVudFxuICAgICAgICB9KSksIHRoaXNbXCJ+ZHluYW1pY1wiXTtcbiAgICAgIH0sXG4gICAgICAvLyBTdGF0aWMgUm91dGVyXG4gICAgICBzdGF0aWM6IHt9LFxuICAgICAgLy8gTmF0aXZlIFN0YXRpYyBSZXNwb25zZVxuICAgICAgcmVzcG9uc2U6IHt9LFxuICAgICAgaGlzdG9yeTogW11cbiAgICB9O1xuICAgIHRoaXMucm91dGVUcmVlID0ge307XG4gICAgdGhpcy5pbmZlcmVuY2UgPSB7XG4gICAgICBib2R5OiAhMSxcbiAgICAgIGNvb2tpZTogITEsXG4gICAgICBoZWFkZXJzOiAhMSxcbiAgICAgIHF1ZXJ5OiAhMSxcbiAgICAgIHNldDogITEsXG4gICAgICBzZXJ2ZXI6ICExLFxuICAgICAgcGF0aDogITEsXG4gICAgICByb3V0ZTogITEsXG4gICAgICB1cmw6ICExXG4gICAgfTtcbiAgICB0aGlzW1wifnBhcnNlclwiXSA9IHt9O1xuICAgIHRoaXMuaGFuZGxlID0gYXN5bmMgKHJlcXVlc3QpID0+IHRoaXMuZmV0Y2gocmVxdWVzdCk7XG4gICAgLyoqXG4gICAgICogVXNlIGhhbmRsZSBjYW4gYmUgZWl0aGVyIHN5bmMgb3IgYXN5bmMgdG8gc2F2ZSBwZXJmb3JtYW5jZS5cbiAgICAgKlxuICAgICAqIEJlc2lkZSBiZW5jaG1hcmsgcHVycG9zZSwgcGxlYXNlIHVzZSAnaGFuZGxlJyBpbnN0ZWFkLlxuICAgICAqL1xuICAgIHRoaXMuZmV0Y2ggPSAocmVxdWVzdCkgPT4gKHRoaXMuZmV0Y2ggPSB0aGlzLmNvbmZpZy5hb3QgPyBjb21wb3NlR2VuZXJhbEhhbmRsZXIodGhpcykgOiBjcmVhdGVEeW5hbWljSGFuZGxlcih0aGlzKSkocmVxdWVzdCk7XG4gICAgdGhpcy5oYW5kbGVFcnJvciA9IGFzeW5jIChjb250ZXh0LCBlcnJvcikgPT4gKHRoaXMuaGFuZGxlRXJyb3IgPSB0aGlzLmNvbmZpZy5hb3QgPyBjb21wb3NlRXJyb3JIYW5kbGVyKHRoaXMpIDogY3JlYXRlRHluYW1pY0Vycm9ySGFuZGxlcih0aGlzKSkoY29udGV4dCwgZXJyb3IpO1xuICAgIC8qKlxuICAgICAqICMjIyBsaXN0ZW5cbiAgICAgKiBBc3NpZ24gY3VycmVudCBpbnN0YW5jZSB0byBwb3J0IGFuZCBzdGFydCBzZXJ2aW5nXG4gICAgICpcbiAgICAgKiAtLS1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBuZXcgRWx5c2lhKClcbiAgICAgKiAgICAgLmdldChcIi9cIiwgKCkgPT4gJ2hpJylcbiAgICAgKiAgICAgLmxpc3RlbigzMDAwKVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHRoaXMubGlzdGVuID0gKG9wdGlvbnMsIGNhbGxiYWNrKSA9PiAodGhpc1tcIn5hZGFwdGVyXCJdLmxpc3Rlbih0aGlzKShvcHRpb25zLCBjYWxsYmFjayksIHRoaXMpO1xuICAgIC8qKlxuICAgICAqICMjIyBzdG9wXG4gICAgICogU3RvcCBzZXJ2ZXIgZnJvbSBzZXJ2aW5nXG4gICAgICpcbiAgICAgKiAtLS1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCBhcHAgPSBuZXcgRWx5c2lhKClcbiAgICAgKiAgICAgLmdldChcIi9cIiwgKCkgPT4gJ2hpJylcbiAgICAgKiAgICAgLmxpc3RlbigzMDAwKVxuICAgICAqXG4gICAgICogLy8gU29tZXRpbWUgbGF0ZXJcbiAgICAgKiBhcHAuc3RvcCgpXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCBhcHAgPSBuZXcgRWx5c2lhKClcbiAgICAgKiAgICAgLmdldChcIi9cIiwgKCkgPT4gJ2hpJylcbiAgICAgKiAgICAgLmxpc3RlbigzMDAwKVxuICAgICAqXG4gICAgICogYXBwLnN0b3AodHJ1ZSkgLy8gQWJydXB0bHkgYW55IHJlcXVlc3RzIGluZmxpZ2h0XG4gICAgICogYGBgXG4gICAgICovXG4gICAgdGhpcy5zdG9wID0gYXN5bmMgKGNsb3NlQWN0aXZlQ29ubmVjdGlvbnMpID0+IChhd2FpdCB0aGlzW1wifmFkYXB0ZXJcIl0uc3RvcD8uKHRoaXMsIGNsb3NlQWN0aXZlQ29ubmVjdGlvbnMpLCB0aGlzKTtcbiAgICB0aGlzW19hXSA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2VydmVyICYmIHRoaXMuc3RvcCgpO1xuICAgIH07XG4gICAgY29uZmlnLnRhZ3MgJiYgKGNvbmZpZy5kZXRhaWwgPyBjb25maWcuZGV0YWlsLnRhZ3MgPSBjb25maWcudGFncyA6IGNvbmZpZy5kZXRhaWwgPSB7XG4gICAgICB0YWdzOiBjb25maWcudGFnc1xuICAgIH0pLCB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIGFvdDogZW52LkVMWVNJQV9BT1QgIT09IFwiZmFsc2VcIixcbiAgICAgIG5hdGl2ZVN0YXRpY1Jlc3BvbnNlOiAhMCxcbiAgICAgIHN5c3RlbVJvdXRlcjogITAsXG4gICAgICBlbmNvZGVTY2hlbWE6ICEwLFxuICAgICAgbm9ybWFsaXplOiAhMCxcbiAgICAgIC4uLmNvbmZpZyxcbiAgICAgIHByZWZpeDogY29uZmlnLnByZWZpeCA/IGNvbmZpZy5wcmVmaXguY2hhckNvZGVBdCgwKSA9PT0gNDcgPyBjb25maWcucHJlZml4IDogYC8ke2NvbmZpZy5wcmVmaXh9YCA6IHZvaWQgMCxcbiAgICAgIGNvb2tpZToge1xuICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgLi4uY29uZmlnPy5jb29raWVcbiAgICAgIH0sXG4gICAgICBleHBlcmltZW50YWw6IGNvbmZpZz8uZXhwZXJpbWVudGFsID8/IHt9LFxuICAgICAgc2VlZDogY29uZmlnPy5zZWVkID09PSB2b2lkIDAgPyBcIlwiIDogY29uZmlnPy5zZWVkXG4gICAgfSwgdGhpc1tcIn5hZGFwdGVyXCJdID0gY29uZmlnLmFkYXB0ZXIgPz8gKHR5cGVvZiBCdW4gPCBcInVcIiA/IEJ1bkFkYXB0ZXIgOiBXZWJTdGFuZGFyZEFkYXB0ZXIpLCBjb25maWc/LmFuYWx5dGljICYmIChjb25maWc/Lm5hbWUgfHwgY29uZmlnPy5zZWVkICE9PSB2b2lkIDApICYmICh0aGlzLnRlbGVtZXRyeSA9IHtcbiAgICAgIHN0YWNrOiBuZXcgRXJyb3IoKS5zdGFja1xuICAgIH0pO1xuICB9XG4gIGdldCBzdG9yZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zaW5nbGV0b24uc3RvcmU7XG4gIH1cbiAgZ2V0IGRlY29yYXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy5zaW5nbGV0b24uZGVjb3JhdG9yO1xuICB9XG4gIGdldCByb3V0ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMucm91dGVyLmhpc3Rvcnk7XG4gIH1cbiAgZ2V0R2xvYmFsUm91dGVzKCkge1xuICAgIHJldHVybiB0aGlzLnJvdXRlci5oaXN0b3J5O1xuICB9XG4gIGdldEdsb2JhbERlZmluaXRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLmRlZmluaXRpb25zO1xuICB9XG4gIGdldFNlcnZlcigpIHtcbiAgICByZXR1cm4gdGhpcy5zZXJ2ZXI7XG4gIH1cbiAgZ2V0UGFyZW50KCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGdldCBwcm9taXNlZE1vZHVsZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb21pc2VkTW9kdWxlcyB8fCAodGhpcy5fcHJvbWlzZWRNb2R1bGVzID0gbmV3IFByb21pc2VHcm91cChjb25zb2xlLmVycm9yLCAoKSA9PiB7XG4gICAgfSkpLCB0aGlzLl9wcm9taXNlZE1vZHVsZXM7XG4gIH1cbiAgZW52KG1vZGVsLCBfZW52ID0gZW52KSB7XG4gICAgaWYgKGdldFNjaGVtYVZhbGlkYXRvcihtb2RlbCwge1xuICAgICAgbW9kdWxlczogdGhpcy5kZWZpbml0aW9ucy50eXBlYm94LFxuICAgICAgZHluYW1pYzogITAsXG4gICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogITAsXG4gICAgICBjb2VyY2U6ICEwLFxuICAgICAgc2FuaXRpemU6ICgpID0+IHRoaXMuY29uZmlnLnNhbml0aXplXG4gICAgfSkuQ2hlY2soX2VudikgPT09ICExKSB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBWYWxpZGF0aW9uRXJyb3IoXCJlbnZcIiwgbW9kZWwsIF9lbnYpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmFsbC5tYXAoKHgpID0+IHguc3VtbWFyeSkuam9pbihgXG5gKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZSBET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEXG4gICAqIEB2ZXJzaW9uIDEuMS4wXG4gICAqXG4gICAqICEgRG8gbm90IHVzZSB1bmxlc3MgeW91IGtub3cgZXhhY3RseSB3aGF0IHlvdSBhcmUgZG9pbmdcbiAgICogPyBBZGQgSGlnaGVyIG9yZGVyIGZ1bmN0aW9uIHRvIEVseXNpYS5mZXRjaFxuICAgKi9cbiAgd3JhcChmbikge1xuICAgIHJldHVybiB0aGlzLmV4dGVuZGVyLmhpZ2hlck9yZGVyRnVuY3Rpb25zLnB1c2goe1xuICAgICAgY2hlY2tzdW06IGNoZWNrc3VtKFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbmFtZTogdGhpcy5jb25maWcubmFtZSxcbiAgICAgICAgICBzZWVkOiB0aGlzLmNvbmZpZy5zZWVkLFxuICAgICAgICAgIGNvbnRlbnQ6IGZuLnRvU3RyaW5nKClcbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgICBmblxuICAgIH0pLCB0aGlzO1xuICB9XG4gIGdldCBtb2RlbHMoKSB7XG4gICAgY29uc3QgbW9kZWxzID0ge307XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKHRoaXMuZGVmaW5pdGlvbnMudHlwZSkpXG4gICAgICBtb2RlbHNbbmFtZV0gPSBnZXRTY2hlbWFWYWxpZGF0b3IoXG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbnMudHlwZWJveC5JbXBvcnQobmFtZSlcbiAgICAgICk7XG4gICAgcmV0dXJuIG1vZGVscy5tb2R1bGVzID0gdGhpcy5kZWZpbml0aW9ucy50eXBlYm94LCBtb2RlbHM7XG4gIH1cbiAgYWRkKG1ldGhvZCwgcGF0aCwgaGFuZGxlLCBsb2NhbEhvb2ssIG9wdGlvbnMpIHtcbiAgICBjb25zdCBza2lwUHJlZml4ID0gb3B0aW9ucz8uc2tpcFByZWZpeCA/PyAhMSwgYWxsb3dNZXRhID0gb3B0aW9ucz8uYWxsb3dNZXRhID8/ICExO1xuICAgIGxvY2FsSG9vayA/Pz0ge30sIHRoaXMuYXBwbHlNYWNybyhsb2NhbEhvb2spO1xuICAgIGxldCBzdGFuZGFsb25lVmFsaWRhdG9ycyA9IFtdO1xuICAgIGlmIChsb2NhbEhvb2suc3RhbmRhbG9uZVZhbGlkYXRvciAmJiAoc3RhbmRhbG9uZVZhbGlkYXRvcnMgPSBzdGFuZGFsb25lVmFsaWRhdG9ycy5jb25jYXQoXG4gICAgICBsb2NhbEhvb2suc3RhbmRhbG9uZVZhbGlkYXRvclxuICAgICkpLCB0aGlzLnN0YW5kYWxvbmVWYWxpZGF0b3IubG9jYWwgJiYgKHN0YW5kYWxvbmVWYWxpZGF0b3JzID0gc3RhbmRhbG9uZVZhbGlkYXRvcnMuY29uY2F0KFxuICAgICAgdGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yLmxvY2FsXG4gICAgKSksIHRoaXMuc3RhbmRhbG9uZVZhbGlkYXRvci5zY29wZWQgJiYgKHN0YW5kYWxvbmVWYWxpZGF0b3JzID0gc3RhbmRhbG9uZVZhbGlkYXRvcnMuY29uY2F0KFxuICAgICAgdGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yLnNjb3BlZFxuICAgICkpLCB0aGlzLnN0YW5kYWxvbmVWYWxpZGF0b3IuZ2xvYmFsICYmIChzdGFuZGFsb25lVmFsaWRhdG9ycyA9IHN0YW5kYWxvbmVWYWxpZGF0b3JzLmNvbmNhdChcbiAgICAgIHRoaXMuc3RhbmRhbG9uZVZhbGlkYXRvci5nbG9iYWxcbiAgICApKSwgcGF0aCAhPT0gXCJcIiAmJiBwYXRoLmNoYXJDb2RlQXQoMCkgIT09IDQ3ICYmIChwYXRoID0gXCIvXCIgKyBwYXRoKSwgdGhpcy5jb25maWcucHJlZml4ICYmICFza2lwUHJlZml4ICYmIChwYXRoID0gdGhpcy5jb25maWcucHJlZml4ICsgcGF0aCksIGxvY2FsSG9vaz8udHlwZSlcbiAgICAgIHN3aXRjaCAobG9jYWxIb29rLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICBsb2NhbEhvb2sudHlwZSA9IFwidGV4dC9wbGFpblwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwianNvblwiOlxuICAgICAgICAgIGxvY2FsSG9vay50eXBlID0gXCJhcHBsaWNhdGlvbi9qc29uXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJmb3JtZGF0YVwiOlxuICAgICAgICAgIGxvY2FsSG9vay50eXBlID0gXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ1cmxlbmNvZGVkXCI6XG4gICAgICAgICAgbG9jYWxIb29rLnR5cGUgPSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYXJyYXlCdWZmZXJcIjpcbiAgICAgICAgICBsb2NhbEhvb2sudHlwZSA9IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgY29uc3QgaW5zdGFuY2VWYWxpZGF0b3IgPSB0aGlzLnZhbGlkYXRvci5nZXRDYW5kaWRhdGUoKSwgY2xvbmVkID0ge1xuICAgICAgYm9keTogbG9jYWxIb29rPy5ib2R5ID8/IGluc3RhbmNlVmFsaWRhdG9yPy5ib2R5LFxuICAgICAgaGVhZGVyczogbG9jYWxIb29rPy5oZWFkZXJzID8/IGluc3RhbmNlVmFsaWRhdG9yPy5oZWFkZXJzLFxuICAgICAgcGFyYW1zOiBsb2NhbEhvb2s/LnBhcmFtcyA/PyBpbnN0YW5jZVZhbGlkYXRvcj8ucGFyYW1zLFxuICAgICAgcXVlcnk6IGxvY2FsSG9vaz8ucXVlcnkgPz8gaW5zdGFuY2VWYWxpZGF0b3I/LnF1ZXJ5LFxuICAgICAgY29va2llOiBsb2NhbEhvb2s/LmNvb2tpZSA/PyBpbnN0YW5jZVZhbGlkYXRvcj8uY29va2llLFxuICAgICAgcmVzcG9uc2U6IGxvY2FsSG9vaz8ucmVzcG9uc2UgPz8gaW5zdGFuY2VWYWxpZGF0b3I/LnJlc3BvbnNlXG4gICAgfSwgc2hvdWxkUHJlY29tcGlsZSA9IHRoaXMuY29uZmlnLnByZWNvbXBpbGUgPT09ICEwIHx8IHR5cGVvZiB0aGlzLmNvbmZpZy5wcmVjb21waWxlID09IFwib2JqZWN0XCIgJiYgdGhpcy5jb25maWcucHJlY29tcGlsZS5jb21wb3NlID09PSAhMCwgY3JlYXRlVmFsaWRhdG9yID0gKCkgPT4ge1xuICAgICAgY29uc3QgbW9kZWxzID0gdGhpcy5kZWZpbml0aW9ucy50eXBlLCBkeW5hbWljID0gIXRoaXMuY29uZmlnLmFvdCwgbm9ybWFsaXplID0gdGhpcy5jb25maWcubm9ybWFsaXplLCBtb2R1bGVzID0gdGhpcy5kZWZpbml0aW9ucy50eXBlYm94LCBzYW5pdGl6ZSA9ICgpID0+IHRoaXMuY29uZmlnLnNhbml0aXplLCBjb29raWVWYWxpZGF0b3IgPSAoKSA9PiB7XG4gICAgICAgIGlmIChjbG9uZWQuY29va2llIHx8IHN0YW5kYWxvbmVWYWxpZGF0b3JzLmZpbmQoKHgpID0+IHguY29va2llKSlcbiAgICAgICAgICByZXR1cm4gZ2V0Q29va2llVmFsaWRhdG9yKHtcbiAgICAgICAgICAgIG1vZHVsZXMsXG4gICAgICAgICAgICB2YWxpZGF0b3I6IGNsb25lZC5jb29raWUsXG4gICAgICAgICAgICBkZWZhdWx0Q29uZmlnOiB0aGlzLmNvbmZpZy5jb29raWUsXG4gICAgICAgICAgICBub3JtYWxpemUsXG4gICAgICAgICAgICBjb25maWc6IGNsb25lZC5jb29raWU/LmNvbmZpZyA/PyB7fSxcbiAgICAgICAgICAgIGR5bmFtaWMsXG4gICAgICAgICAgICBtb2RlbHMsXG4gICAgICAgICAgICB2YWxpZGF0b3JzOiBzdGFuZGFsb25lVmFsaWRhdG9ycy5tYXAoKHgpID0+IHguY29va2llKSxcbiAgICAgICAgICAgIHNhbml0aXplXG4gICAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHNob3VsZFByZWNvbXBpbGUgPyB7XG4gICAgICAgIGJvZHk6IGdldFNjaGVtYVZhbGlkYXRvcihjbG9uZWQuYm9keSwge1xuICAgICAgICAgIG1vZHVsZXMsXG4gICAgICAgICAgZHluYW1pYyxcbiAgICAgICAgICBtb2RlbHMsXG4gICAgICAgICAgbm9ybWFsaXplLFxuICAgICAgICAgIGFkZGl0aW9uYWxDb2VyY2U6IGNvZXJjZVByaW1pdGl2ZVJvb3QoKSxcbiAgICAgICAgICB2YWxpZGF0b3JzOiBzdGFuZGFsb25lVmFsaWRhdG9ycy5tYXAoKHgpID0+IHguYm9keSksXG4gICAgICAgICAgc2FuaXRpemVcbiAgICAgICAgfSksXG4gICAgICAgIGhlYWRlcnM6IGdldFNjaGVtYVZhbGlkYXRvcihjbG9uZWQuaGVhZGVycywge1xuICAgICAgICAgIG1vZHVsZXMsXG4gICAgICAgICAgZHluYW1pYyxcbiAgICAgICAgICBtb2RlbHMsXG4gICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6ICEwLFxuICAgICAgICAgIGNvZXJjZTogITAsXG4gICAgICAgICAgYWRkaXRpb25hbENvZXJjZTogc3RyaW5nVG9TdHJ1Y3R1cmVDb2VyY2lvbnMoKSxcbiAgICAgICAgICB2YWxpZGF0b3JzOiBzdGFuZGFsb25lVmFsaWRhdG9ycy5tYXAoXG4gICAgICAgICAgICAoeCkgPT4geC5oZWFkZXJzXG4gICAgICAgICAgKSxcbiAgICAgICAgICBzYW5pdGl6ZVxuICAgICAgICB9KSxcbiAgICAgICAgcGFyYW1zOiBnZXRTY2hlbWFWYWxpZGF0b3IoY2xvbmVkLnBhcmFtcywge1xuICAgICAgICAgIG1vZHVsZXMsXG4gICAgICAgICAgZHluYW1pYyxcbiAgICAgICAgICBtb2RlbHMsXG4gICAgICAgICAgY29lcmNlOiAhMCxcbiAgICAgICAgICBhZGRpdGlvbmFsQ29lcmNlOiBzdHJpbmdUb1N0cnVjdHVyZUNvZXJjaW9ucygpLFxuICAgICAgICAgIHZhbGlkYXRvcnM6IHN0YW5kYWxvbmVWYWxpZGF0b3JzLm1hcChcbiAgICAgICAgICAgICh4KSA9PiB4LnBhcmFtc1xuICAgICAgICAgICksXG4gICAgICAgICAgc2FuaXRpemVcbiAgICAgICAgfSksXG4gICAgICAgIHF1ZXJ5OiBnZXRTY2hlbWFWYWxpZGF0b3IoY2xvbmVkLnF1ZXJ5LCB7XG4gICAgICAgICAgbW9kdWxlcyxcbiAgICAgICAgICBkeW5hbWljLFxuICAgICAgICAgIG1vZGVscyxcbiAgICAgICAgICBub3JtYWxpemUsXG4gICAgICAgICAgY29lcmNlOiAhMCxcbiAgICAgICAgICBhZGRpdGlvbmFsQ29lcmNlOiBxdWVyeUNvZXJjaW9ucygpLFxuICAgICAgICAgIHZhbGlkYXRvcnM6IHN0YW5kYWxvbmVWYWxpZGF0b3JzLm1hcChcbiAgICAgICAgICAgICh4KSA9PiB4LnF1ZXJ5XG4gICAgICAgICAgKSxcbiAgICAgICAgICBzYW5pdGl6ZVxuICAgICAgICB9KSxcbiAgICAgICAgY29va2llOiBjb29raWVWYWxpZGF0b3IoKSxcbiAgICAgICAgcmVzcG9uc2U6IGdldFJlc3BvbnNlU2NoZW1hVmFsaWRhdG9yKGNsb25lZC5yZXNwb25zZSwge1xuICAgICAgICAgIG1vZHVsZXMsXG4gICAgICAgICAgZHluYW1pYyxcbiAgICAgICAgICBtb2RlbHMsXG4gICAgICAgICAgbm9ybWFsaXplLFxuICAgICAgICAgIHZhbGlkYXRvcnM6IHN0YW5kYWxvbmVWYWxpZGF0b3JzLm1hcChcbiAgICAgICAgICAgICh4KSA9PiB4LnJlc3BvbnNlXG4gICAgICAgICAgKSxcbiAgICAgICAgICBzYW5pdGl6ZVxuICAgICAgICB9KVxuICAgICAgfSA6IHtcbiAgICAgICAgY3JlYXRlQm9keSgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ib2R5ID8gdGhpcy5ib2R5IDogdGhpcy5ib2R5ID0gZ2V0U2NoZW1hVmFsaWRhdG9yKFxuICAgICAgICAgICAgY2xvbmVkLmJvZHksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1vZHVsZXMsXG4gICAgICAgICAgICAgIGR5bmFtaWMsXG4gICAgICAgICAgICAgIG1vZGVscyxcbiAgICAgICAgICAgICAgbm9ybWFsaXplLFxuICAgICAgICAgICAgICBhZGRpdGlvbmFsQ29lcmNlOiBjb2VyY2VQcmltaXRpdmVSb290KCksXG4gICAgICAgICAgICAgIHZhbGlkYXRvcnM6IHN0YW5kYWxvbmVWYWxpZGF0b3JzLm1hcChcbiAgICAgICAgICAgICAgICAoeCkgPT4geC5ib2R5XG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHNhbml0aXplXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlSGVhZGVycygpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5oZWFkZXJzID8gdGhpcy5oZWFkZXJzIDogdGhpcy5oZWFkZXJzID0gZ2V0U2NoZW1hVmFsaWRhdG9yKFxuICAgICAgICAgICAgY2xvbmVkLmhlYWRlcnMsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1vZHVsZXMsXG4gICAgICAgICAgICAgIGR5bmFtaWMsXG4gICAgICAgICAgICAgIG1vZGVscyxcbiAgICAgICAgICAgICAgbm9ybWFsaXplLFxuICAgICAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogIW5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgY29lcmNlOiAhMCxcbiAgICAgICAgICAgICAgYWRkaXRpb25hbENvZXJjZTogc3RyaW5nVG9TdHJ1Y3R1cmVDb2VyY2lvbnMoKSxcbiAgICAgICAgICAgICAgdmFsaWRhdG9yczogc3RhbmRhbG9uZVZhbGlkYXRvcnMubWFwKFxuICAgICAgICAgICAgICAgICh4KSA9PiB4LmhlYWRlcnNcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgc2FuaXRpemVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVQYXJhbXMoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1zID8gdGhpcy5wYXJhbXMgOiB0aGlzLnBhcmFtcyA9IGdldFNjaGVtYVZhbGlkYXRvcihcbiAgICAgICAgICAgIGNsb25lZC5wYXJhbXMsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1vZHVsZXMsXG4gICAgICAgICAgICAgIGR5bmFtaWMsXG4gICAgICAgICAgICAgIG1vZGVscyxcbiAgICAgICAgICAgICAgbm9ybWFsaXplLFxuICAgICAgICAgICAgICBjb2VyY2U6ICEwLFxuICAgICAgICAgICAgICBhZGRpdGlvbmFsQ29lcmNlOiBzdHJpbmdUb1N0cnVjdHVyZUNvZXJjaW9ucygpLFxuICAgICAgICAgICAgICB2YWxpZGF0b3JzOiBzdGFuZGFsb25lVmFsaWRhdG9ycy5tYXAoXG4gICAgICAgICAgICAgICAgKHgpID0+IHgucGFyYW1zXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHNhbml0aXplXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlUXVlcnkoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucXVlcnkgPyB0aGlzLnF1ZXJ5IDogdGhpcy5xdWVyeSA9IGdldFNjaGVtYVZhbGlkYXRvcihcbiAgICAgICAgICAgIGNsb25lZC5xdWVyeSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbW9kdWxlcyxcbiAgICAgICAgICAgICAgZHluYW1pYyxcbiAgICAgICAgICAgICAgbW9kZWxzLFxuICAgICAgICAgICAgICBub3JtYWxpemUsXG4gICAgICAgICAgICAgIGNvZXJjZTogITAsXG4gICAgICAgICAgICAgIGFkZGl0aW9uYWxDb2VyY2U6IHF1ZXJ5Q29lcmNpb25zKCksXG4gICAgICAgICAgICAgIHZhbGlkYXRvcnM6IHN0YW5kYWxvbmVWYWxpZGF0b3JzLm1hcChcbiAgICAgICAgICAgICAgICAoeCkgPT4geC5xdWVyeVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBzYW5pdGl6ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZUNvb2tpZSgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb29raWUgPyB0aGlzLmNvb2tpZSA6IHRoaXMuY29va2llID0gY29va2llVmFsaWRhdG9yKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZVJlc3BvbnNlKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlID8gdGhpcy5yZXNwb25zZSA6IHRoaXMucmVzcG9uc2UgPSBnZXRSZXNwb25zZVNjaGVtYVZhbGlkYXRvcihcbiAgICAgICAgICAgIGNsb25lZC5yZXNwb25zZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbW9kdWxlcyxcbiAgICAgICAgICAgICAgZHluYW1pYyxcbiAgICAgICAgICAgICAgbW9kZWxzLFxuICAgICAgICAgICAgICBub3JtYWxpemUsXG4gICAgICAgICAgICAgIHZhbGlkYXRvcnM6IHN0YW5kYWxvbmVWYWxpZGF0b3JzLm1hcChcbiAgICAgICAgICAgICAgICAoeCkgPT4geC5yZXNwb25zZVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBzYW5pdGl6ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgICAoaW5zdGFuY2VWYWxpZGF0b3IuYm9keSB8fCBpbnN0YW5jZVZhbGlkYXRvci5jb29raWUgfHwgaW5zdGFuY2VWYWxpZGF0b3IuaGVhZGVycyB8fCBpbnN0YW5jZVZhbGlkYXRvci5wYXJhbXMgfHwgaW5zdGFuY2VWYWxpZGF0b3IucXVlcnkgfHwgaW5zdGFuY2VWYWxpZGF0b3IucmVzcG9uc2UpICYmIChsb2NhbEhvb2sgPSBtZXJnZUhvb2sobG9jYWxIb29rLCBpbnN0YW5jZVZhbGlkYXRvcikpLCBsb2NhbEhvb2sudGFncyAmJiAobG9jYWxIb29rLmRldGFpbCA/IGxvY2FsSG9vay5kZXRhaWwudGFncyA9IGxvY2FsSG9vay50YWdzIDogbG9jYWxIb29rLmRldGFpbCA9IHtcbiAgICAgIHRhZ3M6IGxvY2FsSG9vay50YWdzXG4gICAgfSksIGlzTm90RW1wdHkodGhpcy5jb25maWcuZGV0YWlsKSAmJiAobG9jYWxIb29rLmRldGFpbCA9IG1lcmdlRGVlcChcbiAgICAgIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29uZmlnLmRldGFpbCksXG4gICAgICBsb2NhbEhvb2suZGV0YWlsXG4gICAgKSk7XG4gICAgY29uc3QgaG9va3MgPSBpc05vdEVtcHR5KHRoaXMuZXZlbnQpID8gbWVyZ2VIb29rKHRoaXMuZXZlbnQsIGxvY2FsSG9va1RvTGlmZUN5Y2xlU3RvcmUobG9jYWxIb29rKSkgOiB7IC4uLmxpZmVDeWNsZVRvQXJyYXkobG9jYWxIb29rVG9MaWZlQ3ljbGVTdG9yZShsb2NhbEhvb2spKSB9O1xuICAgIGlmIChzdGFuZGFsb25lVmFsaWRhdG9ycy5sZW5ndGggJiYgT2JqZWN0LmFzc2lnbihob29rcywge1xuICAgICAgc3RhbmRhbG9uZVZhbGlkYXRvcjogc3RhbmRhbG9uZVZhbGlkYXRvcnNcbiAgICB9KSwgdGhpcy5jb25maWcuYW90ID09PSAhMSkge1xuICAgICAgY29uc3QgdmFsaWRhdG9yID0gY3JlYXRlVmFsaWRhdG9yKCk7XG4gICAgICB0aGlzLnJvdXRlci5keW5hbWljLmFkZChtZXRob2QsIHBhdGgsIHtcbiAgICAgICAgdmFsaWRhdG9yLFxuICAgICAgICBob29rcyxcbiAgICAgICAgY29udGVudDogbG9jYWxIb29rPy50eXBlLFxuICAgICAgICBoYW5kbGUsXG4gICAgICAgIHJvdXRlOiBwYXRoXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGVuY29kZWQgPSBlbmNvZGVQYXRoKHBhdGgsIHsgZHluYW1pYzogITAgfSk7XG4gICAgICBpZiAocGF0aCAhPT0gZW5jb2RlZCAmJiB0aGlzLnJvdXRlci5keW5hbWljLmFkZChtZXRob2QsIGVuY29kZWQsIHtcbiAgICAgICAgdmFsaWRhdG9yLFxuICAgICAgICBob29rcyxcbiAgICAgICAgY29udGVudDogbG9jYWxIb29rPy50eXBlLFxuICAgICAgICBoYW5kbGUsXG4gICAgICAgIHJvdXRlOiBwYXRoXG4gICAgICB9KSwgdGhpcy5jb25maWcuc3RyaWN0UGF0aCA9PT0gITEpIHtcbiAgICAgICAgY29uc3QgbG9vc2VQYXRoID0gZ2V0TG9vc2VQYXRoKHBhdGgpO1xuICAgICAgICB0aGlzLnJvdXRlci5keW5hbWljLmFkZChtZXRob2QsIGxvb3NlUGF0aCwge1xuICAgICAgICAgIHZhbGlkYXRvcixcbiAgICAgICAgICBob29rcyxcbiAgICAgICAgICBjb250ZW50OiBsb2NhbEhvb2s/LnR5cGUsXG4gICAgICAgICAgaGFuZGxlLFxuICAgICAgICAgIHJvdXRlOiBwYXRoXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBlbmNvZGVkMiA9IGVuY29kZVBhdGgobG9vc2VQYXRoKTtcbiAgICAgICAgbG9vc2VQYXRoICE9PSBlbmNvZGVkMiAmJiB0aGlzLnJvdXRlci5keW5hbWljLmFkZChtZXRob2QsIGxvb3NlUGF0aCwge1xuICAgICAgICAgIHZhbGlkYXRvcixcbiAgICAgICAgICBob29rcyxcbiAgICAgICAgICBjb250ZW50OiBsb2NhbEhvb2s/LnR5cGUsXG4gICAgICAgICAgaGFuZGxlLFxuICAgICAgICAgIHJvdXRlOiBwYXRoXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5yb3V0ZXIuaGlzdG9yeS5wdXNoKHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBwYXRoLFxuICAgICAgICBjb21wb3NlZDogbnVsbCxcbiAgICAgICAgaGFuZGxlcjogaGFuZGxlLFxuICAgICAgICBjb21waWxlOiB2b2lkIDAsXG4gICAgICAgIGhvb2tzXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYWRhcHRlciA9IHRoaXNbXCJ+YWRhcHRlclwiXS5oYW5kbGVyLCBuYXRpdmVTdGF0aWNIYW5kbGVyID0gdHlwZW9mIGhhbmRsZSAhPSBcImZ1bmN0aW9uXCIgPyAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICByZWRpcmVjdCxcbiAgICAgICAgcmVxdWVzdDogdGhpc1tcIn5hZGFwdGVyXCJdLmlzV2ViU3RhbmRhcmQgPyBuZXcgUmVxdWVzdChgaHR0cDovL2UubHkke3BhdGh9YCwge1xuICAgICAgICAgIG1ldGhvZFxuICAgICAgICB9KSA6IHZvaWQgMCxcbiAgICAgICAgc2VydmVyOiBudWxsLFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICBoZWFkZXJzOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnNldEhlYWRlcnMpXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgc3RvcmU6IHRoaXMuc3RvcmVcbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmV2ZW50LnJlcXVlc3Q/Lm1hcCgoeCkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2YgeC5mbiA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4geC5mbihjb250ZXh0KTtcbiAgICAgICAgICBpZiAodHlwZW9mIHggPT0gXCJmdW5jdGlvblwiKSByZXR1cm4geChjb250ZXh0KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsZXQgcmVzO1xuICAgICAgICBjb250ZXh0LmVycm9yID0gZXJyb3IsIHRoaXMuZXZlbnQuZXJyb3I/LnNvbWUoKHgpID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIHguZm4gPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgcmV0dXJuIHJlcyA9IHguZm4oY29udGV4dCk7XG4gICAgICAgICAgaWYgKHR5cGVvZiB4ID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgIHJldHVybiByZXMgPSB4KGNvbnRleHQpO1xuICAgICAgICB9KSwgcmVzICE9PSB2b2lkIDAgJiYgKGhhbmRsZSA9IHJlcyk7XG4gICAgICB9XG4gICAgICBjb25zdCBmbiA9IGFkYXB0ZXIuY3JlYXRlTmF0aXZlU3RhdGljSGFuZGxlcj8uKFxuICAgICAgICBoYW5kbGUsXG4gICAgICAgIGhvb2tzLFxuICAgICAgICBjb250ZXh0LnNldFxuICAgICAgKTtcbiAgICAgIHJldHVybiBmbiBpbnN0YW5jZW9mIFByb21pc2UgPyBmbi50aGVuKChmbjIpID0+IHtcbiAgICAgICAgaWYgKGZuMikgcmV0dXJuIGZuMjtcbiAgICAgIH0pIDogZm4/LigpO1xuICAgIH0gOiB2b2lkIDAsIHVzZU5hdGl2ZVN0YXRpY1Jlc3BvbnNlID0gdGhpcy5jb25maWcubmF0aXZlU3RhdGljUmVzcG9uc2UgPT09ICEwLCBhZGRSZXNwb25zZVBhdGggPSAocGF0aDIpID0+IHtcbiAgICAgICF1c2VOYXRpdmVTdGF0aWNSZXNwb25zZSB8fCAhbmF0aXZlU3RhdGljSGFuZGxlciB8fCAoc3VwcG9ydFBlck1ldGhvZElubGluZUhhbmRsZXIgPyB0aGlzLnJvdXRlci5yZXNwb25zZVtwYXRoMl0gPyB0aGlzLnJvdXRlci5yZXNwb25zZVtwYXRoMl1bbWV0aG9kXSA9IG5hdGl2ZVN0YXRpY0hhbmRsZXIoKSA6IHRoaXMucm91dGVyLnJlc3BvbnNlW3BhdGgyXSA9IHtcbiAgICAgICAgW21ldGhvZF06IG5hdGl2ZVN0YXRpY0hhbmRsZXIoKVxuICAgICAgfSA6IHRoaXMucm91dGVyLnJlc3BvbnNlW3BhdGgyXSA9IG5hdGl2ZVN0YXRpY0hhbmRsZXIoKSk7XG4gICAgfTtcbiAgICBhZGRSZXNwb25zZVBhdGgocGF0aCk7XG4gICAgbGV0IF9jb21waWxlZDtcbiAgICBjb25zdCBjb21waWxlID0gKCkgPT4gX2NvbXBpbGVkIHx8IChfY29tcGlsZWQgPSBjb21wb3NlSGFuZGxlcih7XG4gICAgICBhcHA6IHRoaXMsXG4gICAgICBwYXRoLFxuICAgICAgbWV0aG9kLFxuICAgICAgaG9va3MsXG4gICAgICB2YWxpZGF0b3I6IGNyZWF0ZVZhbGlkYXRvcigpLFxuICAgICAgaGFuZGxlcjogdHlwZW9mIGhhbmRsZSAhPSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIGFkYXB0ZXIuY3JlYXRlU3RhdGljSGFuZGxlciAhPSBcImZ1bmN0aW9uXCIgPyAoKSA9PiBoYW5kbGUgOiBoYW5kbGUsXG4gICAgICBhbGxvd01ldGEsXG4gICAgICBpbmZlcmVuY2U6IHRoaXMuaW5mZXJlbmNlXG4gICAgfSkpO1xuICAgIGxldCBvbGRJbmRleDtcbiAgICBpZiAoYCR7bWV0aG9kfV8ke3BhdGh9YCBpbiB0aGlzLnJvdXRlVHJlZSlcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yb3V0ZXIuaGlzdG9yeS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCByb3V0ZSA9IHRoaXMucm91dGVyLmhpc3RvcnlbaV07XG4gICAgICAgIGlmIChyb3V0ZS5wYXRoID09PSBwYXRoICYmIHJvdXRlLm1ldGhvZCA9PT0gbWV0aG9kKSB7XG4gICAgICAgICAgb2xkSW5kZXggPSBpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgZWxzZSB0aGlzLnJvdXRlVHJlZVtgJHttZXRob2R9XyR7cGF0aH1gXSA9IHRoaXMucm91dGVyLmhpc3RvcnkubGVuZ3RoO1xuICAgIGNvbnN0IGluZGV4ID0gb2xkSW5kZXggPz8gdGhpcy5yb3V0ZXIuaGlzdG9yeS5sZW5ndGgsIG1haW5IYW5kbGVyID0gc2hvdWxkUHJlY29tcGlsZSA/IGNvbXBpbGUoKSA6IChjdHgpID0+ICh0aGlzLnJvdXRlci5oaXN0b3J5W2luZGV4XS5jb21wb3NlZCA9IGNvbXBpbGUoKSkoY3R4KTtcbiAgICBvbGRJbmRleCAhPT0gdm9pZCAwID8gdGhpcy5yb3V0ZXIuaGlzdG9yeVtvbGRJbmRleF0gPSBPYmplY3QuYXNzaWduKFxuICAgICAge1xuICAgICAgICBtZXRob2QsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIGNvbXBvc2VkOiBtYWluSGFuZGxlcixcbiAgICAgICAgY29tcGlsZSxcbiAgICAgICAgaGFuZGxlcjogaGFuZGxlLFxuICAgICAgICBob29rc1xuICAgICAgfSxcbiAgICAgIHN0YW5kYWxvbmVWYWxpZGF0b3JzLmxlbmd0aCA/IHtcbiAgICAgICAgc3RhbmRhbG9uZVZhbGlkYXRvcnNcbiAgICAgIH0gOiB2b2lkIDAsXG4gICAgICBsb2NhbEhvb2sud2ViU29ja2V0ID8geyB3ZWJzb2NrZXQ6IGxvY2FsSG9vay53ZWJzb2NrZXQgfSA6IHZvaWQgMFxuICAgICkgOiB0aGlzLnJvdXRlci5oaXN0b3J5LnB1c2goXG4gICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICB7XG4gICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgY29tcG9zZWQ6IG1haW5IYW5kbGVyLFxuICAgICAgICAgIGNvbXBpbGUsXG4gICAgICAgICAgaGFuZGxlcjogaGFuZGxlLFxuICAgICAgICAgIGhvb2tzXG4gICAgICAgIH0sXG4gICAgICAgIGxvY2FsSG9vay53ZWJTb2NrZXQgPyB7IHdlYnNvY2tldDogbG9jYWxIb29rLndlYnNvY2tldCB9IDogdm9pZCAwXG4gICAgICApXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVyID0ge1xuICAgICAgaGFuZGxlcjogc2hvdWxkUHJlY29tcGlsZSA/IG1haW5IYW5kbGVyIDogdm9pZCAwLFxuICAgICAgY29tcGlsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlciA9IGNvbXBpbGUoKTtcbiAgICAgIH1cbiAgICB9LCBzdGF0aWNSb3V0ZXIgPSB0aGlzLnJvdXRlci5zdGF0aWMsIGlzU3RhdGljUGF0aCA9IHBhdGguaW5kZXhPZihcIjpcIikgPT09IC0xICYmIHBhdGguaW5kZXhPZihcIipcIikgPT09IC0xO1xuICAgIGlmIChtZXRob2QgPT09IFwiV1NcIikge1xuICAgICAgaWYgKGlzU3RhdGljUGF0aCkge1xuICAgICAgICBwYXRoIGluIHN0YXRpY1JvdXRlciA/IHN0YXRpY1JvdXRlcltwYXRoXVttZXRob2RdID0gaW5kZXggOiBzdGF0aWNSb3V0ZXJbcGF0aF0gPSB7XG4gICAgICAgICAgW21ldGhvZF06IGluZGV4XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMucm91dGVyLmh0dHAuYWRkKFwiV1NcIiwgcGF0aCwgaGFuZGxlciksIHRoaXMuY29uZmlnLnN0cmljdFBhdGggfHwgdGhpcy5yb3V0ZXIuaHR0cC5hZGQoXCJXU1wiLCBnZXRMb29zZVBhdGgocGF0aCksIGhhbmRsZXIpO1xuICAgICAgY29uc3QgZW5jb2RlZCA9IGVuY29kZVBhdGgocGF0aCwgeyBkeW5hbWljOiAhMCB9KTtcbiAgICAgIHBhdGggIT09IGVuY29kZWQgJiYgdGhpcy5yb3V0ZXIuaHR0cC5hZGQoXCJXU1wiLCBlbmNvZGVkLCBoYW5kbGVyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzU3RhdGljUGF0aClcbiAgICAgIHBhdGggaW4gc3RhdGljUm91dGVyID8gc3RhdGljUm91dGVyW3BhdGhdW21ldGhvZF0gPSBpbmRleCA6IHN0YXRpY1JvdXRlcltwYXRoXSA9IHtcbiAgICAgICAgW21ldGhvZF06IGluZGV4XG4gICAgICB9LCB0aGlzLmNvbmZpZy5zdHJpY3RQYXRoIHx8IGFkZFJlc3BvbnNlUGF0aChnZXRMb29zZVBhdGgocGF0aCkpO1xuICAgIGVsc2Uge1xuICAgICAgaWYgKHRoaXMucm91dGVyLmh0dHAuYWRkKG1ldGhvZCwgcGF0aCwgaGFuZGxlciksICF0aGlzLmNvbmZpZy5zdHJpY3RQYXRoKSB7XG4gICAgICAgIGNvbnN0IGxvb3NlUGF0aCA9IGdldExvb3NlUGF0aChwYXRoKTtcbiAgICAgICAgYWRkUmVzcG9uc2VQYXRoKGxvb3NlUGF0aCksIHRoaXMucm91dGVyLmh0dHAuYWRkKG1ldGhvZCwgbG9vc2VQYXRoLCBoYW5kbGVyKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVuY29kZWQgPSBlbmNvZGVQYXRoKHBhdGgsIHsgZHluYW1pYzogITAgfSk7XG4gICAgICBwYXRoICE9PSBlbmNvZGVkICYmICh0aGlzLnJvdXRlci5odHRwLmFkZChtZXRob2QsIGVuY29kZWQsIGhhbmRsZXIpLCBhZGRSZXNwb25zZVBhdGgoZW5jb2RlZCkpO1xuICAgIH1cbiAgfVxuICBoZWFkZXJzKGhlYWRlcikge1xuICAgIHJldHVybiBoZWFkZXIgPyAodGhpcy5zZXRIZWFkZXJzIHx8ICh0aGlzLnNldEhlYWRlcnMgPSB7fSksIHRoaXMuc2V0SGVhZGVycyA9IG1lcmdlRGVlcCh0aGlzLnNldEhlYWRlcnMsIGhlYWRlciksIHRoaXMpIDogdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIHN0YXJ0IHwgTGlmZSBjeWNsZSBldmVudFxuICAgKiBDYWxsZWQgYWZ0ZXIgc2VydmVyIGlzIHJlYWR5IGZvciBzZXJ2aW5nXG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIG5ldyBFbHlzaWEoKVxuICAgKiAgICAgLm9uU3RhcnQoKHsgc2VydmVyIH0pID0+IHtcbiAgICogICAgICAgICBjb25zb2xlLmxvZyhcIlJ1bm5pbmcgYXQgJHtzZXJ2ZXI/LnVybH06JHtzZXJ2ZXI/LnBvcnR9XCIpXG4gICAqICAgICB9KVxuICAgKiAgICAgLmxpc3RlbigzMDAwKVxuICAgKiBgYGBcbiAgICovXG4gIG9uU3RhcnQoaGFuZGxlcikge1xuICAgIHJldHVybiB0aGlzLm9uKFwic3RhcnRcIiwgaGFuZGxlciksIHRoaXM7XG4gIH1cbiAgb25SZXF1ZXN0KGhhbmRsZXIpIHtcbiAgICByZXR1cm4gdGhpcy5vbihcInJlcXVlc3RcIiwgaGFuZGxlciksIHRoaXM7XG4gIH1cbiAgb25QYXJzZShvcHRpb25zLCBoYW5kbGVyKSB7XG4gICAgcmV0dXJuIGhhbmRsZXIgPyB0aGlzLm9uKFxuICAgICAgb3B0aW9ucyxcbiAgICAgIFwicGFyc2VcIixcbiAgICAgIGhhbmRsZXJcbiAgICApIDogdHlwZW9mIG9wdGlvbnMgPT0gXCJzdHJpbmdcIiA/IHRoaXMub24oXCJwYXJzZVwiLCB0aGlzW1wifnBhcnNlclwiXVtvcHRpb25zXSkgOiB0aGlzLm9uKFwicGFyc2VcIiwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqICMjIyBwYXJzZSB8IExpZmUgY3ljbGUgZXZlbnRcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gdG8gaGFuZGxlIGJvZHkgcGFyc2luZ1xuICAgKlxuICAgKiBJZiB0cnV0aHkgdmFsdWUgaXMgcmV0dXJuZWQsIHdpbGwgYmUgYXNzaWduZWQgdG8gYGNvbnRleHQuYm9keWBcbiAgICogT3RoZXJ3aXNlIHdpbGwgc2tpcCB0aGUgY2FsbGJhY2sgYW5kIGxvb2sgZm9yIHRoZSBuZXh0IG9uZS5cbiAgICpcbiAgICogRXF1aXZhbGVudCB0byBFeHByZXNzJ3MgYm9keSBwYXJzZXJcbiAgICpcbiAgICogLS0tXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogbmV3IEVseXNpYSgpXG4gICAqICAgICAub25QYXJzZSgocmVxdWVzdCwgY29udGVudFR5cGUpID0+IHtcbiAgICogICAgICAgICBpZihjb250ZW50VHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uXCIpXG4gICAqICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0Lmpzb24oKVxuICAgKiAgICAgfSlcbiAgICogYGBgXG4gICAqL1xuICBwYXJzZXIobmFtZSwgcGFyc2VyKSB7XG4gICAgcmV0dXJuIHRoaXNbXCJ+cGFyc2VyXCJdW25hbWVdID0gcGFyc2VyLCB0aGlzO1xuICB9XG4gIG9uVHJhbnNmb3JtKG9wdGlvbnMsIGhhbmRsZXIpIHtcbiAgICByZXR1cm4gaGFuZGxlciA/IHRoaXMub24oXG4gICAgICBvcHRpb25zLFxuICAgICAgXCJ0cmFuc2Zvcm1cIixcbiAgICAgIGhhbmRsZXJcbiAgICApIDogdGhpcy5vbihcInRyYW5zZm9ybVwiLCBvcHRpb25zKTtcbiAgfVxuICByZXNvbHZlKG9wdGlvbnNPclJlc29sdmUsIHJlc29sdmUpIHtcbiAgICByZXNvbHZlIHx8IChyZXNvbHZlID0gb3B0aW9uc09yUmVzb2x2ZSwgb3B0aW9uc09yUmVzb2x2ZSA9IHsgYXM6IFwibG9jYWxcIiB9KTtcbiAgICBjb25zdCBob29rID0ge1xuICAgICAgc3ViVHlwZTogXCJyZXNvbHZlXCIsXG4gICAgICBmbjogcmVzb2x2ZVxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMub25CZWZvcmVIYW5kbGUob3B0aW9uc09yUmVzb2x2ZSwgaG9vayk7XG4gIH1cbiAgbWFwUmVzb2x2ZShvcHRpb25zT3JSZXNvbHZlLCBtYXBwZXIpIHtcbiAgICBtYXBwZXIgfHwgKG1hcHBlciA9IG9wdGlvbnNPclJlc29sdmUsIG9wdGlvbnNPclJlc29sdmUgPSB7IGFzOiBcImxvY2FsXCIgfSk7XG4gICAgY29uc3QgaG9vayA9IHtcbiAgICAgIHN1YlR5cGU6IFwibWFwUmVzb2x2ZVwiLFxuICAgICAgZm46IG1hcHBlclxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMub25CZWZvcmVIYW5kbGUob3B0aW9uc09yUmVzb2x2ZSwgaG9vayk7XG4gIH1cbiAgb25CZWZvcmVIYW5kbGUob3B0aW9ucywgaGFuZGxlcikge1xuICAgIHJldHVybiBoYW5kbGVyID8gdGhpcy5vbihcbiAgICAgIG9wdGlvbnMsXG4gICAgICBcImJlZm9yZUhhbmRsZVwiLFxuICAgICAgaGFuZGxlclxuICAgICkgOiB0aGlzLm9uKFwiYmVmb3JlSGFuZGxlXCIsIG9wdGlvbnMpO1xuICB9XG4gIG9uQWZ0ZXJIYW5kbGUob3B0aW9ucywgaGFuZGxlcikge1xuICAgIHJldHVybiBoYW5kbGVyID8gdGhpcy5vbihcbiAgICAgIG9wdGlvbnMsXG4gICAgICBcImFmdGVySGFuZGxlXCIsXG4gICAgICBoYW5kbGVyXG4gICAgKSA6IHRoaXMub24oXCJhZnRlckhhbmRsZVwiLCBvcHRpb25zKTtcbiAgfVxuICBtYXBSZXNwb25zZShvcHRpb25zLCBoYW5kbGVyKSB7XG4gICAgcmV0dXJuIGhhbmRsZXIgPyB0aGlzLm9uKFxuICAgICAgb3B0aW9ucyxcbiAgICAgIFwibWFwUmVzcG9uc2VcIixcbiAgICAgIGhhbmRsZXJcbiAgICApIDogdGhpcy5vbihcIm1hcFJlc3BvbnNlXCIsIG9wdGlvbnMpO1xuICB9XG4gIG9uQWZ0ZXJSZXNwb25zZShvcHRpb25zLCBoYW5kbGVyKSB7XG4gICAgcmV0dXJuIGhhbmRsZXIgPyB0aGlzLm9uKFxuICAgICAgb3B0aW9ucyxcbiAgICAgIFwiYWZ0ZXJSZXNwb25zZVwiLFxuICAgICAgaGFuZGxlclxuICAgICkgOiB0aGlzLm9uKFwiYWZ0ZXJSZXNwb25zZVwiLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogIyMjIEFmdGVyIEhhbmRsZSB8IExpZmUgY3ljbGUgZXZlbnRcbiAgICogSW50ZXJjZXB0IHJlcXVlc3QgKiphZnRlcioqIG1haW4gaGFuZGxlciBpcyBjYWxsZWQuXG4gICAqXG4gICAqIElmIHRydXRoeSB2YWx1ZSBpcyByZXR1cm5lZCwgd2lsbCBiZSBhc3NpZ25lZCBhcyBgUmVzcG9uc2VgXG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIG5ldyBFbHlzaWEoKVxuICAgKiAgICAgLm9uQWZ0ZXJIYW5kbGUoKGNvbnRleHQsIHJlc3BvbnNlKSA9PiB7XG4gICAqICAgICAgICAgaWYodHlwZW9mIHJlc3BvbnNlID09PSBcIm9iamVjdFwiKVxuICAgKiAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpXG4gICAqICAgICB9KVxuICAgKiBgYGBcbiAgICovXG4gIHRyYWNlKG9wdGlvbnMsIGhhbmRsZXIpIHtcbiAgICBoYW5kbGVyIHx8IChoYW5kbGVyID0gb3B0aW9ucywgb3B0aW9ucyA9IHsgYXM6IFwibG9jYWxcIiB9KSwgQXJyYXkuaXNBcnJheShoYW5kbGVyKSB8fCAoaGFuZGxlciA9IFtoYW5kbGVyXSk7XG4gICAgZm9yIChjb25zdCBmbiBvZiBoYW5kbGVyKVxuICAgICAgdGhpcy5vbihcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgXCJ0cmFjZVwiLFxuICAgICAgICBjcmVhdGVUcmFjZXIoZm4pXG4gICAgICApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGVycm9yKG5hbWUsIGVycm9yKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgbmFtZSkge1xuICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICByZXR1cm4gZXJyb3IucHJvdG90eXBlW0VSUk9SX0NPREVdID0gbmFtZSwgdGhpcy5kZWZpbml0aW9ucy5lcnJvcltuYW1lXSA9IGVycm9yLCB0aGlzO1xuICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmluaXRpb25zLmVycm9yID0gbmFtZSh0aGlzLmRlZmluaXRpb25zLmVycm9yKSwgdGhpcztcbiAgICB9XG4gICAgZm9yIChjb25zdCBbY29kZSwgZXJyb3IyXSBvZiBPYmplY3QuZW50cmllcyhuYW1lKSlcbiAgICAgIGVycm9yMi5wcm90b3R5cGVbRVJST1JfQ09ERV0gPSBjb2RlLCB0aGlzLmRlZmluaXRpb25zLmVycm9yW2NvZGVdID0gZXJyb3IyO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiAjIyMgRXJyb3IgfCBMaWZlIGN5Y2xlIGV2ZW50XG4gICAqIENhbGxlZCB3aGVuIGVycm9yIGlzIHRocm93biBkdXJpbmcgcHJvY2Vzc2luZyByZXF1ZXN0XG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIG5ldyBFbHlzaWEoKVxuICAgKiAgICAgLm9uRXJyb3IoKHsgY29kZSB9KSA9PiB7XG4gICAqICAgICAgICAgaWYoY29kZSA9PT0gXCJOT1RfRk9VTkRcIilcbiAgICogICAgICAgICAgICAgcmV0dXJuIFwiUGF0aCBub3QgZm91bmQgOihcIlxuICAgKiAgICAgfSlcbiAgICogYGBgXG4gICAqL1xuICBvbkVycm9yKG9wdGlvbnMsIGhhbmRsZXIpIHtcbiAgICByZXR1cm4gaGFuZGxlciA/IHRoaXMub24oXG4gICAgICBvcHRpb25zLFxuICAgICAgXCJlcnJvclwiLFxuICAgICAgaGFuZGxlclxuICAgICkgOiB0aGlzLm9uKFwiZXJyb3JcIiwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqICMjIyBzdG9wIHwgTGlmZSBjeWNsZSBldmVudFxuICAgKiBDYWxsZWQgYWZ0ZXIgc2VydmVyIHN0b3Agc2VydmluZyByZXF1ZXN0XG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIG5ldyBFbHlzaWEoKVxuICAgKiAgICAgLm9uU3RvcCgoYXBwKSA9PiB7XG4gICAqICAgICAgICAgY2xlYW51cCgpXG4gICAqICAgICB9KVxuICAgKiBgYGBcbiAgICovXG4gIG9uU3RvcChoYW5kbGVyKSB7XG4gICAgcmV0dXJuIHRoaXMub24oXCJzdG9wXCIsIGhhbmRsZXIpLCB0aGlzO1xuICB9XG4gIG9uKG9wdGlvbnNPclR5cGUsIHR5cGVPckhhbmRsZXJzLCBoYW5kbGVycykge1xuICAgIGxldCB0eXBlO1xuICAgIHN3aXRjaCAodHlwZW9mIG9wdGlvbnNPclR5cGUpIHtcbiAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgdHlwZSA9IG9wdGlvbnNPclR5cGUsIGhhbmRsZXJzID0gdHlwZU9ySGFuZGxlcnM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICB0eXBlID0gdHlwZU9ySGFuZGxlcnMsICFBcnJheS5pc0FycmF5KHR5cGVPckhhbmRsZXJzKSAmJiB0eXBlb2YgdHlwZU9ySGFuZGxlcnMgPT0gXCJvYmplY3RcIiAmJiAoaGFuZGxlcnMgPSB0eXBlT3JIYW5kbGVycyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBBcnJheS5pc0FycmF5KGhhbmRsZXJzKSA/IGhhbmRsZXJzID0gZm5Ub0NvbnRhaW5lcihoYW5kbGVycykgOiB0eXBlb2YgaGFuZGxlcnMgPT0gXCJmdW5jdGlvblwiID8gaGFuZGxlcnMgPSBbXG4gICAgICB7XG4gICAgICAgIGZuOiBoYW5kbGVyc1xuICAgICAgfVxuICAgIF0gOiBoYW5kbGVycyA9IFtoYW5kbGVyc107XG4gICAgY29uc3QgaGFuZGxlcyA9IGhhbmRsZXJzO1xuICAgIGZvciAoY29uc3QgaGFuZGxlIG9mIGhhbmRsZXMpXG4gICAgICBoYW5kbGUuc2NvcGUgPSB0eXBlb2Ygb3B0aW9uc09yVHlwZSA9PSBcInN0cmluZ1wiID8gXCJsb2NhbFwiIDogb3B0aW9uc09yVHlwZT8uYXMgPz8gXCJsb2NhbFwiLCAodHlwZSA9PT0gXCJyZXNvbHZlXCIgfHwgdHlwZSA9PT0gXCJkZXJpdmVcIikgJiYgKGhhbmRsZS5zdWJUeXBlID0gdHlwZSk7XG4gICAgdHlwZSAhPT0gXCJ0cmFjZVwiICYmICh0aGlzLmluZmVyZW5jZSA9IHN1Y3Jvc2UoXG4gICAgICB7XG4gICAgICAgIFt0eXBlXTogaGFuZGxlcy5tYXAoKHgpID0+IHguZm4pXG4gICAgICB9LFxuICAgICAgdGhpcy5pbmZlcmVuY2UsXG4gICAgICB0aGlzLmNvbmZpZy5zdWNyb3NlXG4gICAgKSk7XG4gICAgZm9yIChjb25zdCBoYW5kbGUgb2YgaGFuZGxlcykge1xuICAgICAgY29uc3QgZm4gPSBhc0hvb2tUeXBlKGhhbmRsZSwgXCJnbG9iYWxcIiwgeyBza2lwSWZIYXNUeXBlOiAhMCB9KTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwic3RhcnRcIjpcbiAgICAgICAgICB0aGlzLmV2ZW50LnN0YXJ0ID8/PSBbXSwgdGhpcy5ldmVudC5zdGFydC5wdXNoKGZuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInJlcXVlc3RcIjpcbiAgICAgICAgICB0aGlzLmV2ZW50LnJlcXVlc3QgPz89IFtdLCB0aGlzLmV2ZW50LnJlcXVlc3QucHVzaChmbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwYXJzZVwiOlxuICAgICAgICAgIHRoaXMuZXZlbnQucGFyc2UgPz89IFtdLCB0aGlzLmV2ZW50LnBhcnNlLnB1c2goZm4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidHJhbnNmb3JtXCI6XG4gICAgICAgICAgdGhpcy5ldmVudC50cmFuc2Zvcm0gPz89IFtdLCB0aGlzLmV2ZW50LnRyYW5zZm9ybS5wdXNoKGZuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICBjYXNlIFwiZGVyaXZlXCI6XG4gICAgICAgICAgdGhpcy5ldmVudC50cmFuc2Zvcm0gPz89IFtdLCB0aGlzLmV2ZW50LnRyYW5zZm9ybS5wdXNoKFxuICAgICAgICAgICAgZm5Ub0NvbnRhaW5lcihmbiwgXCJkZXJpdmVcIilcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYmVmb3JlSGFuZGxlXCI6XG4gICAgICAgICAgdGhpcy5ldmVudC5iZWZvcmVIYW5kbGUgPz89IFtdLCB0aGlzLmV2ZW50LmJlZm9yZUhhbmRsZS5wdXNoKGZuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc29uYXJqcy9uby1kdXBsaWNhdGVkLWJyYW5jaGVzXG4gICAgICAgIGNhc2UgXCJyZXNvbHZlXCI6XG4gICAgICAgICAgdGhpcy5ldmVudC5iZWZvcmVIYW5kbGUgPz89IFtdLCB0aGlzLmV2ZW50LmJlZm9yZUhhbmRsZS5wdXNoKFxuICAgICAgICAgICAgZm5Ub0NvbnRhaW5lcihmbiwgXCJyZXNvbHZlXCIpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFmdGVySGFuZGxlXCI6XG4gICAgICAgICAgdGhpcy5ldmVudC5hZnRlckhhbmRsZSA/Pz0gW10sIHRoaXMuZXZlbnQuYWZ0ZXJIYW5kbGUucHVzaChmbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtYXBSZXNwb25zZVwiOlxuICAgICAgICAgIHRoaXMuZXZlbnQubWFwUmVzcG9uc2UgPz89IFtdLCB0aGlzLmV2ZW50Lm1hcFJlc3BvbnNlLnB1c2goZm4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWZ0ZXJSZXNwb25zZVwiOlxuICAgICAgICAgIHRoaXMuZXZlbnQuYWZ0ZXJSZXNwb25zZSA/Pz0gW10sIHRoaXMuZXZlbnQuYWZ0ZXJSZXNwb25zZS5wdXNoKGZuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRyYWNlXCI6XG4gICAgICAgICAgdGhpcy5ldmVudC50cmFjZSA/Pz0gW10sIHRoaXMuZXZlbnQudHJhY2UucHVzaChmbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgIHRoaXMuZXZlbnQuZXJyb3IgPz89IFtdLCB0aGlzLmV2ZW50LmVycm9yLnB1c2goZm4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3RvcFwiOlxuICAgICAgICAgIHRoaXMuZXZlbnQuc3RvcCA/Pz0gW10sIHRoaXMuZXZlbnQuc3RvcC5wdXNoKGZuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYXModHlwZSkge1xuICAgIHJldHVybiBwcm9tb3RlRXZlbnQodGhpcy5ldmVudC5wYXJzZSwgdHlwZSksIHByb21vdGVFdmVudCh0aGlzLmV2ZW50LnRyYW5zZm9ybSwgdHlwZSksIHByb21vdGVFdmVudCh0aGlzLmV2ZW50LmJlZm9yZUhhbmRsZSwgdHlwZSksIHByb21vdGVFdmVudCh0aGlzLmV2ZW50LmFmdGVySGFuZGxlLCB0eXBlKSwgcHJvbW90ZUV2ZW50KHRoaXMuZXZlbnQubWFwUmVzcG9uc2UsIHR5cGUpLCBwcm9tb3RlRXZlbnQodGhpcy5ldmVudC5hZnRlclJlc3BvbnNlLCB0eXBlKSwgcHJvbW90ZUV2ZW50KHRoaXMuZXZlbnQudHJhY2UsIHR5cGUpLCBwcm9tb3RlRXZlbnQodGhpcy5ldmVudC5lcnJvciwgdHlwZSksIHR5cGUgPT09IFwic2NvcGVkXCIgPyAodGhpcy52YWxpZGF0b3Iuc2NvcGVkID0gbWVyZ2VTY2hlbWFWYWxpZGF0b3IoXG4gICAgICB0aGlzLnZhbGlkYXRvci5zY29wZWQsXG4gICAgICB0aGlzLnZhbGlkYXRvci5sb2NhbFxuICAgICksIHRoaXMudmFsaWRhdG9yLmxvY2FsID0gbnVsbCwgdGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yLmxvY2FsICE9PSBudWxsICYmICh0aGlzLnN0YW5kYWxvbmVWYWxpZGF0b3Iuc2NvcGVkIHx8PSBbXSwgdGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yLnNjb3BlZC5wdXNoKFxuICAgICAgLi4udGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yLmxvY2FsXG4gICAgKSwgdGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yLmxvY2FsID0gbnVsbCkpIDogdHlwZSA9PT0gXCJnbG9iYWxcIiAmJiAodGhpcy52YWxpZGF0b3IuZ2xvYmFsID0gbWVyZ2VTY2hlbWFWYWxpZGF0b3IoXG4gICAgICB0aGlzLnZhbGlkYXRvci5nbG9iYWwsXG4gICAgICBtZXJnZVNjaGVtYVZhbGlkYXRvcihcbiAgICAgICAgdGhpcy52YWxpZGF0b3Iuc2NvcGVkLFxuICAgICAgICB0aGlzLnZhbGlkYXRvci5sb2NhbFxuICAgICAgKVxuICAgICksIHRoaXMudmFsaWRhdG9yLnNjb3BlZCA9IG51bGwsIHRoaXMudmFsaWRhdG9yLmxvY2FsID0gbnVsbCwgdGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yLmxvY2FsICE9PSBudWxsICYmICh0aGlzLnN0YW5kYWxvbmVWYWxpZGF0b3Iuc2NvcGVkIHx8PSBbXSwgdGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yLnNjb3BlZC5wdXNoKFxuICAgICAgLi4udGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yLmxvY2FsXG4gICAgKSwgdGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yLmxvY2FsID0gbnVsbCksIHRoaXMuc3RhbmRhbG9uZVZhbGlkYXRvci5zY29wZWQgIT09IG51bGwgJiYgKHRoaXMuc3RhbmRhbG9uZVZhbGlkYXRvci5nbG9iYWwgfHw9IFtdLCB0aGlzLnN0YW5kYWxvbmVWYWxpZGF0b3IuZ2xvYmFsLnB1c2goXG4gICAgICAuLi50aGlzLnN0YW5kYWxvbmVWYWxpZGF0b3Iuc2NvcGVkXG4gICAgKSwgdGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yLnNjb3BlZCA9IG51bGwpKSwgdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIGdyb3VwXG4gICAqIEVuY2Fwc3VsYXRlIGFuZCBncm91cCBwYXRoIHdpdGggcHJlZml4XG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIG5ldyBFbHlzaWEoKVxuICAgKiAgICAgLmdyb3VwKCcvdjEnLCBhcHAgPT4gYXBwXG4gICAqICAgICAgICAgLmdldCgnLycsICgpID0+ICdIaScpXG4gICAqICAgICAgICAgLmdldCgnL25hbWUnLCAoKSA9PiAnRWx5c2lhJylcbiAgICogICAgIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgZ3JvdXAocHJlZml4LCBzY2hlbWFPclJ1biwgcnVuKSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgX0VseXNpYSh7XG4gICAgICAuLi50aGlzLmNvbmZpZyxcbiAgICAgIHByZWZpeDogXCJcIlxuICAgIH0pO1xuICAgIGluc3RhbmNlLnNpbmdsZXRvbiA9IHsgLi4udGhpcy5zaW5nbGV0b24gfSwgaW5zdGFuY2UuZGVmaW5pdGlvbnMgPSB7IC4uLnRoaXMuZGVmaW5pdGlvbnMgfSwgaW5zdGFuY2UuZ2V0U2VydmVyID0gKCkgPT4gdGhpcy5nZXRTZXJ2ZXIoKSwgaW5zdGFuY2UuaW5mZXJlbmNlID0gY2xvbmVJbmZlcmVuY2UodGhpcy5pbmZlcmVuY2UpLCBpbnN0YW5jZS5leHRlbmRlciA9IHsgLi4udGhpcy5leHRlbmRlciB9LCBpbnN0YW5jZVtcIn5wYXJzZXJcIl0gPSB0aGlzW1wifnBhcnNlclwiXSwgaW5zdGFuY2Uuc3RhbmRhbG9uZVZhbGlkYXRvciA9IHtcbiAgICAgIGxvY2FsOiBbLi4udGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yLmxvY2FsID8/IFtdXSxcbiAgICAgIHNjb3BlZDogWy4uLnRoaXMuc3RhbmRhbG9uZVZhbGlkYXRvci5zY29wZWQgPz8gW11dLFxuICAgICAgZ2xvYmFsOiBbLi4udGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yLmdsb2JhbCA/PyBbXV1cbiAgICB9O1xuICAgIGNvbnN0IGlzU2NoZW1hID0gdHlwZW9mIHNjaGVtYU9yUnVuID09IFwib2JqZWN0XCIsIHNhbmRib3ggPSAoaXNTY2hlbWEgPyBydW4gOiBzY2hlbWFPclJ1bikoaW5zdGFuY2UpO1xuICAgIHJldHVybiB0aGlzLnNpbmdsZXRvbiA9IG1lcmdlRGVlcCh0aGlzLnNpbmdsZXRvbiwgaW5zdGFuY2Uuc2luZ2xldG9uKSwgdGhpcy5kZWZpbml0aW9ucyA9IG1lcmdlRGVlcCh0aGlzLmRlZmluaXRpb25zLCBpbnN0YW5jZS5kZWZpbml0aW9ucyksIHNhbmRib3guZXZlbnQucmVxdWVzdD8ubGVuZ3RoICYmICh0aGlzLmV2ZW50LnJlcXVlc3QgPSBbXG4gICAgICAuLi50aGlzLmV2ZW50LnJlcXVlc3QgfHwgW10sXG4gICAgICAuLi5zYW5kYm94LmV2ZW50LnJlcXVlc3QgfHwgW11cbiAgICBdKSwgc2FuZGJveC5ldmVudC5tYXBSZXNwb25zZT8ubGVuZ3RoICYmICh0aGlzLmV2ZW50Lm1hcFJlc3BvbnNlID0gW1xuICAgICAgLi4udGhpcy5ldmVudC5tYXBSZXNwb25zZSB8fCBbXSxcbiAgICAgIC4uLnNhbmRib3guZXZlbnQubWFwUmVzcG9uc2UgfHwgW11cbiAgICBdKSwgdGhpcy5tb2RlbChzYW5kYm94LmRlZmluaXRpb25zLnR5cGUpLCBPYmplY3QudmFsdWVzKGluc3RhbmNlLnJvdXRlci5oaXN0b3J5KS5mb3JFYWNoKFxuICAgICAgKHsgbWV0aG9kLCBwYXRoLCBoYW5kbGVyLCBob29rcyB9KSA9PiB7XG4gICAgICAgIGlmIChwYXRoID0gKGlzU2NoZW1hID8gXCJcIiA6IHRoaXMuY29uZmlnLnByZWZpeCA/PyBcIlwiKSArIHByZWZpeCArIHBhdGgsIGlzU2NoZW1hKSB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgIGNvb2tpZSxcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgLi4uaG9va1xuICAgICAgICAgIH0gPSBzY2hlbWFPclJ1biwgbG9jYWxIb29rID0gaG9va3MsIGhhc1N0YW5kYWxvbmVTY2hlbWEgPSBib2R5IHx8IGhlYWRlcnMgfHwgcXVlcnkgfHwgcGFyYW1zIHx8IGNvb2tpZSB8fCByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmFkZChcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgICAgbWVyZ2VIb29rKGhvb2ssIHtcbiAgICAgICAgICAgICAgLi4ubG9jYWxIb29rIHx8IHt9LFxuICAgICAgICAgICAgICBlcnJvcjogbG9jYWxIb29rLmVycm9yID8gQXJyYXkuaXNBcnJheShsb2NhbEhvb2suZXJyb3IpID8gW1xuICAgICAgICAgICAgICAgIC4uLmxvY2FsSG9vay5lcnJvciA/PyBbXSxcbiAgICAgICAgICAgICAgICAuLi5zYW5kYm94LmV2ZW50LmVycm9yID8/IFtdXG4gICAgICAgICAgICAgIF0gOiBbXG4gICAgICAgICAgICAgICAgbG9jYWxIb29rLmVycm9yLFxuICAgICAgICAgICAgICAgIC4uLnNhbmRib3guZXZlbnQuZXJyb3IgPz8gW11cbiAgICAgICAgICAgICAgXSA6IHNhbmRib3guZXZlbnQuZXJyb3IsXG4gICAgICAgICAgICAgIHN0YW5kYWxvbmVWYWxpZGF0b3I6IGhhc1N0YW5kYWxvbmVTY2hlbWEgPyBbXG4gICAgICAgICAgICAgICAgLi4ubG9jYWxIb29rLnN0YW5kYWxvbmVWYWxpZGF0b3IgPz8gW10sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgICAgIGNvb2tpZSxcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdIDogbG9jYWxIb29rLnN0YW5kYWxvbmVWYWxpZGF0b3JcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdm9pZCAwXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgdGhpcy5hZGQoXG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgaGFuZGxlcixcbiAgICAgICAgICAgIG1lcmdlSG9vayhob29rcywge1xuICAgICAgICAgICAgICBlcnJvcjogc2FuZGJveC5ldmVudC5lcnJvclxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNraXBQcmVmaXg6ICEwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICApLCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiAjIyMgZ3VhcmRcbiAgICogRW5jYXBzdWxhdGUgYW5kIHBhc3MgaG9vayBpbnRvIGFsbCBjaGlsZCBoYW5kbGVyXG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIGltcG9ydCB7IHQgfSBmcm9tICdlbHlzaWEnXG4gICAqXG4gICAqIG5ldyBFbHlzaWEoKVxuICAgKiAgICAgLmd1YXJkKHtcbiAgICogICAgICAgICAgYm9keTogdC5PYmplY3Qoe1xuICAgKiAgICAgICAgICAgICAgdXNlcm5hbWU6IHQuU3RyaW5nKCksXG4gICAqICAgICAgICAgICAgICBwYXNzd29yZDogdC5TdHJpbmcoKVxuICAgKiAgICAgICAgICB9KVxuICAgKiAgICAgfSwgYXBwID0+IGFwcFxuICAgKiAgICAgICAgIC5nZXQoXCIvXCIsICgpID0+ICdIaScpXG4gICAqICAgICAgICAgLmdldChcIi9uYW1lXCIsICgpID0+ICdFbHlzaWEnKVxuICAgKiAgICAgfSlcbiAgICogYGBgXG4gICAqL1xuICBndWFyZChob29rLCBydW4pIHtcbiAgICBpZiAoIXJ1bikge1xuICAgICAgaWYgKHR5cGVvZiBob29rID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgdGhpcy5hcHBseU1hY3JvKGhvb2spLCBob29rLmRldGFpbCAmJiAodGhpcy5jb25maWcuZGV0YWlsID8gdGhpcy5jb25maWcuZGV0YWlsID0gbWVyZ2VEZWVwKFxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29uZmlnLmRldGFpbCksXG4gICAgICAgICAgaG9vay5kZXRhaWxcbiAgICAgICAgKSA6IHRoaXMuY29uZmlnLmRldGFpbCA9IGhvb2suZGV0YWlsKSwgaG9vay50YWdzICYmICh0aGlzLmNvbmZpZy5kZXRhaWwgPyB0aGlzLmNvbmZpZy5kZXRhaWwudGFncyA9IGhvb2sudGFncyA6IHRoaXMuY29uZmlnLmRldGFpbCA9IHtcbiAgICAgICAgICB0YWdzOiBob29rLnRhZ3NcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBob29rLmFzID8/IFwibG9jYWxcIjtcbiAgICAgICAgaWYgKGhvb2suc2NoZW1hID09PSBcInN0YW5kYWxvbmVcIikge1xuICAgICAgICAgIHRoaXMuc3RhbmRhbG9uZVZhbGlkYXRvclt0eXBlXSB8fCAodGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yW3R5cGVdID0gW10pO1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gaG9vaz8ucmVzcG9uc2UgPyB0eXBlb2YgaG9vay5yZXNwb25zZSA9PSBcInN0cmluZ1wiIHx8IEtpbmQgaW4gaG9vay5yZXNwb25zZSB8fCBcIn5zdGFuZGFyZFwiIGluIGhvb2sucmVzcG9uc2UgPyB7XG4gICAgICAgICAgICAyMDA6IGhvb2sucmVzcG9uc2VcbiAgICAgICAgICB9IDogaG9vaz8ucmVzcG9uc2UgOiB2b2lkIDA7XG4gICAgICAgICAgdGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yW3R5cGVdLnB1c2goe1xuICAgICAgICAgICAgYm9keTogaG9vay5ib2R5LFxuICAgICAgICAgICAgaGVhZGVyczogaG9vay5oZWFkZXJzLFxuICAgICAgICAgICAgcGFyYW1zOiBob29rLnBhcmFtcyxcbiAgICAgICAgICAgIHF1ZXJ5OiBob29rLnF1ZXJ5LFxuICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICBjb29raWU6IGhvb2suY29va2llXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIHRoaXMudmFsaWRhdG9yW3R5cGVdID0ge1xuICAgICAgICAgICAgYm9keTogaG9vay5ib2R5ID8/IHRoaXMudmFsaWRhdG9yW3R5cGVdPy5ib2R5LFxuICAgICAgICAgICAgaGVhZGVyczogaG9vay5oZWFkZXJzID8/IHRoaXMudmFsaWRhdG9yW3R5cGVdPy5oZWFkZXJzLFxuICAgICAgICAgICAgcGFyYW1zOiBob29rLnBhcmFtcyA/PyB0aGlzLnZhbGlkYXRvclt0eXBlXT8ucGFyYW1zLFxuICAgICAgICAgICAgcXVlcnk6IGhvb2sucXVlcnkgPz8gdGhpcy52YWxpZGF0b3JbdHlwZV0/LnF1ZXJ5LFxuICAgICAgICAgICAgcmVzcG9uc2U6IGhvb2sucmVzcG9uc2UgPz8gdGhpcy52YWxpZGF0b3JbdHlwZV0/LnJlc3BvbnNlLFxuICAgICAgICAgICAgY29va2llOiBob29rLmNvb2tpZSA/PyB0aGlzLnZhbGlkYXRvclt0eXBlXT8uY29va2llXG4gICAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGhvb2sucGFyc2UgJiYgdGhpcy5vbih7IGFzOiB0eXBlIH0sIFwicGFyc2VcIiwgaG9vay5wYXJzZSksIGhvb2sudHJhbnNmb3JtICYmIHRoaXMub24oeyBhczogdHlwZSB9LCBcInRyYW5zZm9ybVwiLCBob29rLnRyYW5zZm9ybSksIGhvb2suZGVyaXZlICYmIHRoaXMub24oeyBhczogdHlwZSB9LCBcImRlcml2ZVwiLCBob29rLmRlcml2ZSksIGhvb2suYmVmb3JlSGFuZGxlICYmIHRoaXMub24oeyBhczogdHlwZSB9LCBcImJlZm9yZUhhbmRsZVwiLCBob29rLmJlZm9yZUhhbmRsZSksIGhvb2sucmVzb2x2ZSAmJiB0aGlzLm9uKHsgYXM6IHR5cGUgfSwgXCJyZXNvbHZlXCIsIGhvb2sucmVzb2x2ZSksIGhvb2suYWZ0ZXJIYW5kbGUgJiYgdGhpcy5vbih7IGFzOiB0eXBlIH0sIFwiYWZ0ZXJIYW5kbGVcIiwgaG9vay5hZnRlckhhbmRsZSksIGhvb2subWFwUmVzcG9uc2UgJiYgdGhpcy5vbih7IGFzOiB0eXBlIH0sIFwibWFwUmVzcG9uc2VcIiwgaG9vay5tYXBSZXNwb25zZSksIGhvb2suYWZ0ZXJSZXNwb25zZSAmJiB0aGlzLm9uKHsgYXM6IHR5cGUgfSwgXCJhZnRlclJlc3BvbnNlXCIsIGhvb2suYWZ0ZXJSZXNwb25zZSksIGhvb2suZXJyb3IgJiYgdGhpcy5vbih7IGFzOiB0eXBlIH0sIFwiZXJyb3JcIiwgaG9vay5lcnJvciksIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5ndWFyZCh7fSwgaG9vayk7XG4gICAgfVxuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IF9FbHlzaWEoe1xuICAgICAgLi4udGhpcy5jb25maWcsXG4gICAgICBwcmVmaXg6IFwiXCJcbiAgICB9KTtcbiAgICBpbnN0YW5jZS5zaW5nbGV0b24gPSB7IC4uLnRoaXMuc2luZ2xldG9uIH0sIGluc3RhbmNlLmRlZmluaXRpb25zID0geyAuLi50aGlzLmRlZmluaXRpb25zIH0sIGluc3RhbmNlLmluZmVyZW5jZSA9IGNsb25lSW5mZXJlbmNlKHRoaXMuaW5mZXJlbmNlKSwgaW5zdGFuY2UuZXh0ZW5kZXIgPSB7IC4uLnRoaXMuZXh0ZW5kZXIgfSwgaW5zdGFuY2UuZ2V0U2VydmVyID0gKCkgPT4gdGhpcy5nZXRTZXJ2ZXIoKTtcbiAgICBjb25zdCBzYW5kYm94ID0gcnVuKGluc3RhbmNlKTtcbiAgICByZXR1cm4gdGhpcy5zaW5nbGV0b24gPSBtZXJnZURlZXAodGhpcy5zaW5nbGV0b24sIGluc3RhbmNlLnNpbmdsZXRvbiksIHRoaXMuZGVmaW5pdGlvbnMgPSBtZXJnZURlZXAodGhpcy5kZWZpbml0aW9ucywgaW5zdGFuY2UuZGVmaW5pdGlvbnMpLCBzYW5kYm94LmdldFNlcnZlciA9ICgpID0+IHRoaXMuc2VydmVyLCBzYW5kYm94LmV2ZW50LnJlcXVlc3Q/Lmxlbmd0aCAmJiAodGhpcy5ldmVudC5yZXF1ZXN0ID0gW1xuICAgICAgLi4udGhpcy5ldmVudC5yZXF1ZXN0IHx8IFtdLFxuICAgICAgLi4uc2FuZGJveC5ldmVudC5yZXF1ZXN0IHx8IFtdXG4gICAgXSksIHNhbmRib3guZXZlbnQubWFwUmVzcG9uc2U/Lmxlbmd0aCAmJiAodGhpcy5ldmVudC5tYXBSZXNwb25zZSA9IFtcbiAgICAgIC4uLnRoaXMuZXZlbnQubWFwUmVzcG9uc2UgfHwgW10sXG4gICAgICAuLi5zYW5kYm94LmV2ZW50Lm1hcFJlc3BvbnNlIHx8IFtdXG4gICAgXSksIHRoaXMubW9kZWwoc2FuZGJveC5kZWZpbml0aW9ucy50eXBlKSwgT2JqZWN0LnZhbHVlcyhpbnN0YW5jZS5yb3V0ZXIuaGlzdG9yeSkuZm9yRWFjaChcbiAgICAgICh7IG1ldGhvZCwgcGF0aCwgaGFuZGxlciwgaG9va3M6IGxvY2FsSG9vayB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBib2R5LFxuICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgcXVlcnksXG4gICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgIGNvb2tpZSxcbiAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAuLi5ndWFyZEhvb2tcbiAgICAgICAgfSA9IGhvb2ssIGhhc1N0YW5kYWxvbmVTY2hlbWEgPSBib2R5IHx8IGhlYWRlcnMgfHwgcXVlcnkgfHwgcGFyYW1zIHx8IGNvb2tpZSB8fCByZXNwb25zZTtcbiAgICAgICAgdGhpcy5hZGQoXG4gICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgaGFuZGxlcixcbiAgICAgICAgICBtZXJnZUhvb2soZ3VhcmRIb29rLCB7XG4gICAgICAgICAgICAuLi5sb2NhbEhvb2sgfHwge30sXG4gICAgICAgICAgICBlcnJvcjogbG9jYWxIb29rLmVycm9yID8gQXJyYXkuaXNBcnJheShsb2NhbEhvb2suZXJyb3IpID8gW1xuICAgICAgICAgICAgICAuLi5sb2NhbEhvb2suZXJyb3IgPz8gW10sXG4gICAgICAgICAgICAgIC4uLnNhbmRib3guZXZlbnQuZXJyb3IgPz8gW11cbiAgICAgICAgICAgIF0gOiBbXG4gICAgICAgICAgICAgIGxvY2FsSG9vay5lcnJvcixcbiAgICAgICAgICAgICAgLi4uc2FuZGJveC5ldmVudC5lcnJvciA/PyBbXVxuICAgICAgICAgICAgXSA6IHNhbmRib3guZXZlbnQuZXJyb3IsXG4gICAgICAgICAgICBzdGFuZGFsb25lVmFsaWRhdG9yOiBoYXNTdGFuZGFsb25lU2NoZW1hID8gW1xuICAgICAgICAgICAgICAuLi5sb2NhbEhvb2suc3RhbmRhbG9uZVZhbGlkYXRvciA/PyBbXSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgICAgY29va2llLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0gOiBsb2NhbEhvb2suc3RhbmRhbG9uZVZhbGlkYXRvclxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgKSwgdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIHVzZVxuICAgKiBNZXJnZSBzZXBhcmF0ZSBsb2dpYyBvZiBFbHlzaWEgd2l0aCBjdXJyZW50XG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIGNvbnN0IHBsdWdpbiA9IChhcHA6IEVseXNpYSkgPT4gYXBwXG4gICAqICAgICAuZ2V0KCcvcGx1Z2luJywgKCkgPT4gJ2hpJylcbiAgICpcbiAgICogbmV3IEVseXNpYSgpXG4gICAqICAgICAudXNlKHBsdWdpbilcbiAgICogYGBgXG4gICAqL1xuICB1c2UocGx1Z2luKSB7XG4gICAgaWYgKCFwbHVnaW4pIHJldHVybiB0aGlzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHBsdWdpbikpIHtcbiAgICAgIGxldCBhcHAgPSB0aGlzO1xuICAgICAgZm9yIChjb25zdCBwIG9mIHBsdWdpbikgYXBwID0gYXBwLnVzZShwKTtcbiAgICAgIHJldHVybiBhcHA7XG4gICAgfVxuICAgIHJldHVybiBwbHVnaW4gaW5zdGFuY2VvZiBQcm9taXNlID8gKHRoaXMucHJvbWlzZWRNb2R1bGVzLmFkZChcbiAgICAgIHBsdWdpbi50aGVuKChwbHVnaW4yKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgcGx1Z2luMiA9PSBcImZ1bmN0aW9uXCIpIHJldHVybiBwbHVnaW4yKHRoaXMpO1xuICAgICAgICBpZiAocGx1Z2luMiBpbnN0YW5jZW9mIF9FbHlzaWEpXG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3VzZShwbHVnaW4yKS5jb21waWxlKCk7XG4gICAgICAgIGlmIChwbHVnaW4yLmNvbnN0cnVjdG9yPy5uYW1lID09PSBcIkVseXNpYVwiKVxuICAgICAgICAgIHJldHVybiB0aGlzLl91c2UoXG4gICAgICAgICAgICBwbHVnaW4yXG4gICAgICAgICAgKS5jb21waWxlKCk7XG4gICAgICAgIGlmICh0eXBlb2YgcGx1Z2luMi5kZWZhdWx0ID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICByZXR1cm4gcGx1Z2luMi5kZWZhdWx0KHRoaXMpO1xuICAgICAgICBpZiAocGx1Z2luMi5kZWZhdWx0IGluc3RhbmNlb2YgX0VseXNpYSlcbiAgICAgICAgICByZXR1cm4gdGhpcy5fdXNlKHBsdWdpbjIuZGVmYXVsdCk7XG4gICAgICAgIGlmIChwbHVnaW4yLmNvbnN0cnVjdG9yPy5uYW1lID09PSBcIkVseXNpYVwiKVxuICAgICAgICAgIHJldHVybiB0aGlzLl91c2UocGx1Z2luMi5kZWZhdWx0KTtcbiAgICAgICAgaWYgKHBsdWdpbjIuY29uc3RydWN0b3I/Lm5hbWUgPT09IFwiX0VseXNpYVwiKVxuICAgICAgICAgIHJldHVybiB0aGlzLl91c2UocGx1Z2luMi5kZWZhdWx0KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fdXNlKHBsdWdpbjIuZGVmYXVsdCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdJbnZhbGlkIHBsdWdpbiB0eXBlLiBFeHBlY3RlZCBFbHlzaWEgaW5zdGFuY2UsIGZ1bmN0aW9uLCBvciBtb2R1bGUgd2l0aCBcImRlZmF1bHRcIiBhcyBFbHlzaWEgaW5zdGFuY2Ugb3IgZnVuY3Rpb24gdGhhdCByZXR1cm5zIEVseXNpYSBpbnN0YW5jZS4nXG4gICAgICAgICAgKSwgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oKHYpID0+ICh2ICYmIHR5cGVvZiB2LmNvbXBpbGUgPT0gXCJmdW5jdGlvblwiICYmIHYuY29tcGlsZSgpLCB2KSlcbiAgICApLCB0aGlzKSA6IHRoaXMuX3VzZShwbHVnaW4pO1xuICB9XG4gIHByb3BhZ2F0ZVByb21pc2VNb2R1bGVzKHBsdWdpbikge1xuICAgIGlmIChwbHVnaW4ucHJvbWlzZWRNb2R1bGVzLnNpemUgPD0gMCkgcmV0dXJuIHRoaXM7XG4gICAgZm9yIChjb25zdCBwcm9taXNlIG9mIHBsdWdpbi5wcm9taXNlZE1vZHVsZXMucHJvbWlzZXMpXG4gICAgICB0aGlzLnByb21pc2VkTW9kdWxlcy5hZGQoXG4gICAgICAgIHByb21pc2UudGhlbigodikgPT4ge1xuICAgICAgICAgIGlmICghdikgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHQzID0gdGhpcy5fdXNlKHYpO1xuICAgICAgICAgIHJldHVybiB0MyBpbnN0YW5jZW9mIFByb21pc2UgPyB0My50aGVuKCh2MikgPT4ge1xuICAgICAgICAgICAgdjIgPyB2Mi5jb21waWxlKCkgOiB2LmNvbXBpbGUoKTtcbiAgICAgICAgICB9KSA6IHYuY29tcGlsZSgpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBfdXNlKHBsdWdpbikge1xuICAgIGlmICh0eXBlb2YgcGx1Z2luID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgY29uc3QgaW5zdGFuY2UgPSBwbHVnaW4odGhpcyk7XG4gICAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBQcm9taXNlID8gKHRoaXMucHJvbWlzZWRNb2R1bGVzLmFkZChcbiAgICAgICAgaW5zdGFuY2UudGhlbigocGx1Z2luMikgPT4ge1xuICAgICAgICAgIGlmIChwbHVnaW4yIGluc3RhbmNlb2YgX0VseXNpYSkge1xuICAgICAgICAgICAgcGx1Z2luMi5nZXRTZXJ2ZXIgPSAoKSA9PiB0aGlzLmdldFNlcnZlcigpLCBwbHVnaW4yLmdldEdsb2JhbFJvdXRlcyA9ICgpID0+IHRoaXMuZ2V0R2xvYmFsUm91dGVzKCksIHBsdWdpbjIuZ2V0R2xvYmFsRGVmaW5pdGlvbnMgPSAoKSA9PiB0aGlzLmdldEdsb2JhbERlZmluaXRpb25zKCksIHBsdWdpbjIubW9kZWwodGhpcy5kZWZpbml0aW9ucy50eXBlKSwgcGx1Z2luMi5lcnJvcih0aGlzLmRlZmluaXRpb25zLmVycm9yKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qge1xuICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgIGhhbmRsZXIsXG4gICAgICAgICAgICAgIGhvb2tzXG4gICAgICAgICAgICB9IG9mIE9iamVjdC52YWx1ZXMocGx1Z2luMi5yb3V0ZXIuaGlzdG9yeSkpXG4gICAgICAgICAgICAgIHRoaXMuYWRkKFxuICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICAgIGhhbmRsZXIsXG4gICAgICAgICAgICAgICAgaG9va3MsXG4gICAgICAgICAgICAgICAgdm9pZCAwXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gcGx1Z2luMiA9PT0gdGhpcyA/IHZvaWQgMCA6ICh0aGlzLnByb3BhZ2F0ZVByb21pc2VNb2R1bGVzKHBsdWdpbjIpLCBwbHVnaW4yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiBwbHVnaW4yID09IFwiZnVuY3Rpb25cIiA/IHBsdWdpbjIoXG4gICAgICAgICAgICB0aGlzXG4gICAgICAgICAgKSA6IHR5cGVvZiBwbHVnaW4yLmRlZmF1bHQgPT0gXCJmdW5jdGlvblwiID8gcGx1Z2luMi5kZWZhdWx0KFxuICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICkgOiB0aGlzLl91c2UocGx1Z2luMik7XG4gICAgICAgIH0pLnRoZW4oKHYpID0+ICh2ICYmIHR5cGVvZiB2LmNvbXBpbGUgPT0gXCJmdW5jdGlvblwiICYmIHYuY29tcGlsZSgpLCB2KSlcbiAgICAgICksIHRoaXMpIDogaW5zdGFuY2U7XG4gICAgfVxuICAgIHRoaXMucHJvcGFnYXRlUHJvbWlzZU1vZHVsZXMocGx1Z2luKTtcbiAgICBjb25zdCBuYW1lID0gcGx1Z2luLmNvbmZpZy5uYW1lLCBzZWVkID0gcGx1Z2luLmNvbmZpZy5zZWVkO1xuICAgIGlmIChwbHVnaW4uZ2V0UGFyZW50ID0gKCkgPT4gdGhpcywgcGx1Z2luLmdldFNlcnZlciA9ICgpID0+IHRoaXMuZ2V0U2VydmVyKCksIHBsdWdpbi5nZXRHbG9iYWxSb3V0ZXMgPSAoKSA9PiB0aGlzLmdldEdsb2JhbFJvdXRlcygpLCBwbHVnaW4uZ2V0R2xvYmFsRGVmaW5pdGlvbnMgPSAoKSA9PiB0aGlzLmdldEdsb2JhbERlZmluaXRpb25zKCksIHBsdWdpbi5zdGFuZGFsb25lVmFsaWRhdG9yPy5zY29wZWQgJiYgKHRoaXMuc3RhbmRhbG9uZVZhbGlkYXRvci5sb2NhbCA/IHRoaXMuc3RhbmRhbG9uZVZhbGlkYXRvci5sb2NhbCA9IHRoaXMuc3RhbmRhbG9uZVZhbGlkYXRvci5sb2NhbC5jb25jYXQoXG4gICAgICBwbHVnaW4uc3RhbmRhbG9uZVZhbGlkYXRvci5zY29wZWRcbiAgICApIDogdGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yLmxvY2FsID0gcGx1Z2luLnN0YW5kYWxvbmVWYWxpZGF0b3Iuc2NvcGVkKSwgcGx1Z2luLnN0YW5kYWxvbmVWYWxpZGF0b3I/Lmdsb2JhbCAmJiAodGhpcy5zdGFuZGFsb25lVmFsaWRhdG9yLmdsb2JhbCA/IHRoaXMuc3RhbmRhbG9uZVZhbGlkYXRvci5nbG9iYWwgPSB0aGlzLnN0YW5kYWxvbmVWYWxpZGF0b3IuZ2xvYmFsLmNvbmNhdChcbiAgICAgIHBsdWdpbi5zdGFuZGFsb25lVmFsaWRhdG9yLmdsb2JhbFxuICAgICkgOiB0aGlzLnN0YW5kYWxvbmVWYWxpZGF0b3IuZ2xvYmFsID0gcGx1Z2luLnN0YW5kYWxvbmVWYWxpZGF0b3IuZ2xvYmFsKSwgaXNOb3RFbXB0eShwbHVnaW5bXCJ+cGFyc2VyXCJdKSAmJiAodGhpc1tcIn5wYXJzZXJcIl0gPSB7XG4gICAgICAuLi5wbHVnaW5bXCJ+cGFyc2VyXCJdLFxuICAgICAgLi4udGhpc1tcIn5wYXJzZXJcIl1cbiAgICB9KSwgcGx1Z2luLnNldEhlYWRlcnMgJiYgdGhpcy5oZWFkZXJzKHBsdWdpbi5zZXRIZWFkZXJzKSwgbmFtZSkge1xuICAgICAgbmFtZSBpbiB0aGlzLmRlcGVuZGVuY2llcyB8fCAodGhpcy5kZXBlbmRlbmNpZXNbbmFtZV0gPSBbXSk7XG4gICAgICBjb25zdCBjdXJyZW50ID0gc2VlZCAhPT0gdm9pZCAwID8gY2hlY2tzdW0obmFtZSArIEpTT04uc3RyaW5naWZ5KHNlZWQpKSA6IDA7XG4gICAgICB0aGlzLmRlcGVuZGVuY2llc1tuYW1lXS5zb21lKFxuICAgICAgICAoeyBjaGVja3N1bTogY2hlY2tzdW0zIH0pID0+IGN1cnJlbnQgPT09IGNoZWNrc3VtM1xuICAgICAgKSB8fCAodGhpcy5leHRlbmRlci5tYWNybyA9IHtcbiAgICAgICAgLi4udGhpcy5leHRlbmRlci5tYWNybyxcbiAgICAgICAgLi4ucGx1Z2luLmV4dGVuZGVyLm1hY3JvXG4gICAgICB9LCB0aGlzLmV4dGVuZGVyLmhpZ2hlck9yZGVyRnVuY3Rpb25zID0gdGhpcy5leHRlbmRlci5oaWdoZXJPcmRlckZ1bmN0aW9ucy5jb25jYXQoXG4gICAgICAgIHBsdWdpbi5leHRlbmRlci5oaWdoZXJPcmRlckZ1bmN0aW9uc1xuICAgICAgKSk7XG4gICAgfSBlbHNlXG4gICAgICBpc05vdEVtcHR5KHBsdWdpbi5leHRlbmRlci5tYWNybykgJiYgKHRoaXMuZXh0ZW5kZXIubWFjcm8gPSB7XG4gICAgICAgIC4uLnRoaXMuZXh0ZW5kZXIubWFjcm8sXG4gICAgICAgIC4uLnBsdWdpbi5leHRlbmRlci5tYWNyb1xuICAgICAgfSksIHBsdWdpbi5leHRlbmRlci5oaWdoZXJPcmRlckZ1bmN0aW9ucy5sZW5ndGggJiYgKHRoaXMuZXh0ZW5kZXIuaGlnaGVyT3JkZXJGdW5jdGlvbnMgPSB0aGlzLmV4dGVuZGVyLmhpZ2hlck9yZGVyRnVuY3Rpb25zLmNvbmNhdChcbiAgICAgICAgcGx1Z2luLmV4dGVuZGVyLmhpZ2hlck9yZGVyRnVuY3Rpb25zXG4gICAgICApKTtcbiAgICBpZiAocGx1Z2luLmV4dGVuZGVyLmhpZ2hlck9yZGVyRnVuY3Rpb25zLmxlbmd0aCkge1xuICAgICAgZGVkdXBsaWNhdGVDaGVja3N1bSh0aGlzLmV4dGVuZGVyLmhpZ2hlck9yZGVyRnVuY3Rpb25zKTtcbiAgICAgIGNvbnN0IGhvZkhhc2hlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmV4dGVuZGVyLmhpZ2hlck9yZGVyRnVuY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGhvZiA9IHRoaXMuZXh0ZW5kZXIuaGlnaGVyT3JkZXJGdW5jdGlvbnNbaV07XG4gICAgICAgIGhvZi5jaGVja3N1bSAmJiAoaG9mSGFzaGVzLmluY2x1ZGVzKGhvZi5jaGVja3N1bSkgJiYgKHRoaXMuZXh0ZW5kZXIuaGlnaGVyT3JkZXJGdW5jdGlvbnMuc3BsaWNlKGksIDEpLCBpLS0pLCBob2ZIYXNoZXMucHVzaChob2YuY2hlY2tzdW0pKTtcbiAgICAgIH1cbiAgICAgIGhvZkhhc2hlcy5sZW5ndGggPSAwO1xuICAgIH1cbiAgICB0aGlzLmluZmVyZW5jZSA9IG1lcmdlSW5mZXJlbmNlKHRoaXMuaW5mZXJlbmNlLCBwbHVnaW4uaW5mZXJlbmNlKSwgaXNOb3RFbXB0eShwbHVnaW4uc2luZ2xldG9uLmRlY29yYXRvcikgJiYgdGhpcy5kZWNvcmF0ZShwbHVnaW4uc2luZ2xldG9uLmRlY29yYXRvciksIGlzTm90RW1wdHkocGx1Z2luLnNpbmdsZXRvbi5zdG9yZSkgJiYgdGhpcy5zdGF0ZShwbHVnaW4uc2luZ2xldG9uLnN0b3JlKSwgaXNOb3RFbXB0eShwbHVnaW4uZGVmaW5pdGlvbnMudHlwZSkgJiYgdGhpcy5tb2RlbChwbHVnaW4uZGVmaW5pdGlvbnMudHlwZSksIGlzTm90RW1wdHkocGx1Z2luLmRlZmluaXRpb25zLmVycm9yKSAmJiB0aGlzLmVycm9yKHBsdWdpbi5kZWZpbml0aW9ucy5lcnJvciksIGlzTm90RW1wdHkocGx1Z2luLmV4dGVuZGVyLm1hY3JvKSAmJiAodGhpcy5leHRlbmRlci5tYWNybyA9IHtcbiAgICAgIC4uLnRoaXMuZXh0ZW5kZXIubWFjcm8sXG4gICAgICAuLi5wbHVnaW4uZXh0ZW5kZXIubWFjcm9cbiAgICB9KTtcbiAgICBmb3IgKGNvbnN0IHsgbWV0aG9kLCBwYXRoLCBoYW5kbGVyLCBob29rcyB9IG9mIE9iamVjdC52YWx1ZXMoXG4gICAgICBwbHVnaW4ucm91dGVyLmhpc3RvcnlcbiAgICApKVxuICAgICAgdGhpcy5hZGQobWV0aG9kLCBwYXRoLCBoYW5kbGVyLCBob29rcyk7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIG5hbWUgaW4gdGhpcy5kZXBlbmRlbmNpZXMgfHwgKHRoaXMuZGVwZW5kZW5jaWVzW25hbWVdID0gW10pO1xuICAgICAgY29uc3QgY3VycmVudCA9IHNlZWQgIT09IHZvaWQgMCA/IGNoZWNrc3VtKG5hbWUgKyBKU09OLnN0cmluZ2lmeShzZWVkKSkgOiAwO1xuICAgICAgaWYgKHRoaXMuZGVwZW5kZW5jaWVzW25hbWVdLnNvbWUoXG4gICAgICAgICh7IGNoZWNrc3VtOiBjaGVja3N1bTMgfSkgPT4gY3VycmVudCA9PT0gY2hlY2tzdW0zXG4gICAgICApKVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIHRoaXMuZGVwZW5kZW5jaWVzW25hbWVdLnB1c2goXG4gICAgICAgIHRoaXMuY29uZmlnPy5hbmFseXRpYyA/IHtcbiAgICAgICAgICBuYW1lOiBwbHVnaW4uY29uZmlnLm5hbWUsXG4gICAgICAgICAgc2VlZDogcGx1Z2luLmNvbmZpZy5zZWVkLFxuICAgICAgICAgIGNoZWNrc3VtOiBjdXJyZW50LFxuICAgICAgICAgIGRlcGVuZGVuY2llczogcGx1Z2luLmRlcGVuZGVuY2llcyxcbiAgICAgICAgICBzdGFjazogcGx1Z2luLnRlbGVtZXRyeT8uc3RhY2ssXG4gICAgICAgICAgcm91dGVzOiBwbHVnaW4ucm91dGVyLmhpc3RvcnksXG4gICAgICAgICAgZGVjb3JhdG9yczogcGx1Z2luLnNpbmdsZXRvbixcbiAgICAgICAgICBzdG9yZTogcGx1Z2luLnNpbmdsZXRvbi5zdG9yZSxcbiAgICAgICAgICBlcnJvcjogcGx1Z2luLmRlZmluaXRpb25zLmVycm9yLFxuICAgICAgICAgIGRlcml2ZTogcGx1Z2luLmV2ZW50LnRyYW5zZm9ybT8uZmlsdGVyKCh4KSA9PiB4Py5zdWJUeXBlID09PSBcImRlcml2ZVwiKS5tYXAoKHgpID0+ICh7XG4gICAgICAgICAgICBmbjogeC50b1N0cmluZygpLFxuICAgICAgICAgICAgc3RhY2s6IG5ldyBFcnJvcigpLnN0YWNrID8/IFwiXCJcbiAgICAgICAgICB9KSksXG4gICAgICAgICAgcmVzb2x2ZTogcGx1Z2luLmV2ZW50LnRyYW5zZm9ybT8uZmlsdGVyKCh4KSA9PiB4Py5zdWJUeXBlID09PSBcInJlc29sdmVcIikubWFwKCh4KSA9PiAoe1xuICAgICAgICAgICAgZm46IHgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHN0YWNrOiBuZXcgRXJyb3IoKS5zdGFjayA/PyBcIlwiXG4gICAgICAgICAgfSkpXG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgbmFtZTogcGx1Z2luLmNvbmZpZy5uYW1lLFxuICAgICAgICAgIHNlZWQ6IHBsdWdpbi5jb25maWcuc2VlZCxcbiAgICAgICAgICBjaGVja3N1bTogY3VycmVudCxcbiAgICAgICAgICBkZXBlbmRlbmNpZXM6IHBsdWdpbi5kZXBlbmRlbmNpZXNcbiAgICAgICAgfVxuICAgICAgKSwgaXNOb3RFbXB0eShwbHVnaW4uZXZlbnQpICYmICh0aGlzLmV2ZW50ID0gbWVyZ2VMaWZlQ3ljbGUoXG4gICAgICAgIHRoaXMuZXZlbnQsXG4gICAgICAgIGZpbHRlckdsb2JhbEhvb2socGx1Z2luLmV2ZW50KSxcbiAgICAgICAgY3VycmVudFxuICAgICAgKSk7XG4gICAgfSBlbHNlXG4gICAgICBpc05vdEVtcHR5KHBsdWdpbi5ldmVudCkgJiYgKHRoaXMuZXZlbnQgPSBtZXJnZUxpZmVDeWNsZShcbiAgICAgICAgdGhpcy5ldmVudCxcbiAgICAgICAgZmlsdGVyR2xvYmFsSG9vayhwbHVnaW4uZXZlbnQpXG4gICAgICApKTtcbiAgICByZXR1cm4gcGx1Z2luLnZhbGlkYXRvci5nbG9iYWwgJiYgKHRoaXMudmFsaWRhdG9yLmdsb2JhbCA9IG1lcmdlSG9vayh0aGlzLnZhbGlkYXRvci5nbG9iYWwsIHtcbiAgICAgIC4uLnBsdWdpbi52YWxpZGF0b3IuZ2xvYmFsXG4gICAgfSkpLCBwbHVnaW4udmFsaWRhdG9yLnNjb3BlZCAmJiAodGhpcy52YWxpZGF0b3IubG9jYWwgPSBtZXJnZUhvb2sodGhpcy52YWxpZGF0b3IubG9jYWwsIHtcbiAgICAgIC4uLnBsdWdpbi52YWxpZGF0b3Iuc2NvcGVkXG4gICAgfSkpLCB0aGlzO1xuICB9XG4gIG1hY3JvKG1hY3JvT3JOYW1lLCBtYWNybykge1xuICAgIGlmICh0eXBlb2YgbWFjcm9Pck5hbWUgPT0gXCJzdHJpbmdcIiAmJiAhbWFjcm8pXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWNybyBmdW5jdGlvbiBpcyByZXF1aXJlZFwiKTtcbiAgICByZXR1cm4gdHlwZW9mIG1hY3JvT3JOYW1lID09IFwic3RyaW5nXCIgPyB0aGlzLmV4dGVuZGVyLm1hY3JvW21hY3JvT3JOYW1lXSA9IG1hY3JvIDogdGhpcy5leHRlbmRlci5tYWNybyA9IHtcbiAgICAgIC4uLnRoaXMuZXh0ZW5kZXIubWFjcm8sXG4gICAgICAuLi5tYWNyb09yTmFtZVxuICAgIH0sIHRoaXM7XG4gIH1cbiAgYXBwbHlNYWNybyhsb2NhbEhvb2ssIGFwcGxpYWJsZSA9IGxvY2FsSG9vaywge1xuICAgIGl0ZXJhdGlvbiA9IDAsXG4gICAgYXBwbGllZCA9IHt9XG4gIH0gPSB7fSkge1xuICAgIGlmIChpdGVyYXRpb24gPj0gMTYpIHJldHVybjtcbiAgICBjb25zdCBtYWNybyA9IHRoaXMuZXh0ZW5kZXIubWFjcm87XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGFwcGxpYWJsZSkpIHtcbiAgICAgIGlmICghKGtleSBpbiBtYWNybykpIGNvbnRpbnVlO1xuICAgICAgY29uc3QgbWFjcm9Ib29rID0gdHlwZW9mIG1hY3JvW2tleV0gPT0gXCJmdW5jdGlvblwiID8gbWFjcm9ba2V5XSh2YWx1ZSkgOiBtYWNyb1trZXldO1xuICAgICAgaWYgKCFtYWNyb0hvb2sgfHwgdHlwZW9mIG1hY3JvW2tleV0gPT0gXCJvYmplY3RcIiAmJiB2YWx1ZSA9PT0gITEpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IHNlZWQgPSBjaGVja3N1bShrZXkgKyBKU09OLnN0cmluZ2lmeShtYWNyb0hvb2suc2VlZCA/PyB2YWx1ZSkpO1xuICAgICAgaWYgKCEoc2VlZCBpbiBhcHBsaWVkKSkge1xuICAgICAgICBhcHBsaWVkW3NlZWRdID0gITA7XG4gICAgICAgIGZvciAobGV0IFtrLCB2YWx1ZTJdIG9mIE9iamVjdC5lbnRyaWVzKG1hY3JvSG9vaykpXG4gICAgICAgICAgaWYgKGsgIT09IFwic2VlZFwiKSB7XG4gICAgICAgICAgICBpZiAoayBpbiBlbXB0eVNjaGVtYSkge1xuICAgICAgICAgICAgICBpbnNlcnRTdGFuZGFsb25lVmFsaWRhdG9yKFxuICAgICAgICAgICAgICAgIGxvY2FsSG9vayxcbiAgICAgICAgICAgICAgICBrLFxuICAgICAgICAgICAgICAgIHZhbHVlMlxuICAgICAgICAgICAgICApLCBkZWxldGUgbG9jYWxIb29rW2tleV07XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGsgPT09IFwiZGV0YWlsXCIpIHtcbiAgICAgICAgICAgICAgbG9jYWxIb29rLmRldGFpbCB8fCAobG9jYWxIb29rLmRldGFpbCA9IHt9KSwgbG9jYWxIb29rLmRldGFpbCA9IG1lcmdlRGVlcChsb2NhbEhvb2suZGV0YWlsLCB2YWx1ZTIsIHtcbiAgICAgICAgICAgICAgICBtZXJnZUFycmF5OiAhMFxuICAgICAgICAgICAgICB9KSwgZGVsZXRlIGxvY2FsSG9va1trZXldO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrIGluIG1hY3JvKSB7XG4gICAgICAgICAgICAgIHRoaXMuYXBwbHlNYWNybyhcbiAgICAgICAgICAgICAgICBsb2NhbEhvb2ssXG4gICAgICAgICAgICAgICAgeyBba106IHZhbHVlMiB9LFxuICAgICAgICAgICAgICAgIHsgYXBwbGllZCwgaXRlcmF0aW9uOiBpdGVyYXRpb24gKyAxIH1cbiAgICAgICAgICAgICAgKSwgZGVsZXRlIGxvY2FsSG9va1trZXldO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAoKGsgPT09IFwiZGVyaXZlXCIgfHwgayA9PT0gXCJyZXNvbHZlXCIpICYmIHR5cGVvZiB2YWx1ZTIgPT0gXCJmdW5jdGlvblwiICYmICh2YWx1ZTIgPSB7XG4gICAgICAgICAgICAgIGZuOiB2YWx1ZTIsXG4gICAgICAgICAgICAgIHN1YlR5cGU6IGtcbiAgICAgICAgICAgIH0pLCB0eXBlb2YgbG9jYWxIb29rW2tdKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgIGxvY2FsSG9va1trXSA9IFtsb2NhbEhvb2tba10sIHZhbHVlMl07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KGxvY2FsSG9va1trXSkgPyBsb2NhbEhvb2tba10ucHVzaCh2YWx1ZTIpIDogbG9jYWxIb29rW2tdID0gW2xvY2FsSG9va1trXSwgdmFsdWUyXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgICAgIGxvY2FsSG9va1trXSA9IHZhbHVlMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSBsb2NhbEhvb2tba2V5XTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIG1vdW50KHBhdGgsIGhhbmRsZU9yQ29uZmlnLCBjb25maWcpIHtcbiAgICBpZiAocGF0aCBpbnN0YW5jZW9mIF9FbHlzaWEgfHwgdHlwZW9mIHBhdGggPT0gXCJmdW5jdGlvblwiIHx8IHBhdGgubGVuZ3RoID09PSAwIHx8IHBhdGggPT09IFwiL1wiKSB7XG4gICAgICBjb25zdCBydW4gPSB0eXBlb2YgcGF0aCA9PSBcImZ1bmN0aW9uXCIgPyBwYXRoIDogcGF0aCBpbnN0YW5jZW9mIF9FbHlzaWEgPyBwYXRoLmNvbXBpbGUoKS5mZXRjaCA6IGhhbmRsZU9yQ29uZmlnIGluc3RhbmNlb2YgX0VseXNpYSA/IGhhbmRsZU9yQ29uZmlnLmNvbXBpbGUoKS5mZXRjaCA6IHR5cGVvZiBoYW5kbGVPckNvbmZpZyA9PSBcImZ1bmN0aW9uXCIgPyBoYW5kbGVPckNvbmZpZyA6ICgoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaGFuZGxlclwiKTtcbiAgICAgIH0pKCksIGhhbmRsZXIyID0gKHsgcmVxdWVzdCwgcGF0aDogcGF0aDIgfSkgPT4gcnVuKFxuICAgICAgICBuZXcgUmVxdWVzdChyZXBsYWNlVXJsUGF0aChyZXF1ZXN0LnVybCwgcGF0aDIpLCB7XG4gICAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICAgICAgc2lnbmFsOiByZXF1ZXN0LnNpZ25hbCxcbiAgICAgICAgICBjcmVkZW50aWFsczogcmVxdWVzdC5jcmVkZW50aWFscyxcbiAgICAgICAgICByZWZlcnJlclBvbGljeTogcmVxdWVzdC5yZWZlcnJlclBvbGljeSxcbiAgICAgICAgICBkdXBsZXg6IHJlcXVlc3QuZHVwbGV4LFxuICAgICAgICAgIHJlZGlyZWN0OiByZXF1ZXN0LnJlZGlyZWN0LFxuICAgICAgICAgIG1vZGU6IHJlcXVlc3QubW9kZSxcbiAgICAgICAgICBrZWVwYWxpdmU6IHJlcXVlc3Qua2VlcGFsaXZlLFxuICAgICAgICAgIGludGVncml0eTogcmVxdWVzdC5pbnRlZ3JpdHksXG4gICAgICAgICAgYm9keTogcmVxdWVzdC5ib2R5XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgcmV0dXJuIHRoaXMucm91dGUoXCJBTExcIiwgXCIvKlwiLCBoYW5kbGVyMiwge1xuICAgICAgICBwYXJzZTogXCJub25lXCIsXG4gICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgLi4uY29uZmlnPy5kZXRhaWwsXG4gICAgICAgICAgaGlkZTogITBcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgbW91bnQ6IHJ1blxuICAgICAgICB9XG4gICAgICB9KSwgdGhpcztcbiAgICB9XG4gICAgY29uc3QgaGFuZGxlID0gaGFuZGxlT3JDb25maWcgaW5zdGFuY2VvZiBfRWx5c2lhID8gaGFuZGxlT3JDb25maWcuY29tcGlsZSgpLmZldGNoIDogdHlwZW9mIGhhbmRsZU9yQ29uZmlnID09IFwiZnVuY3Rpb25cIiA/IGhhbmRsZU9yQ29uZmlnIDogKCgpID0+IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaGFuZGxlclwiKTtcbiAgICB9KSgpLCBsZW5ndGggPSBwYXRoLmxlbmd0aCAtIChwYXRoLmVuZHNXaXRoKFwiKlwiKSA/IDEgOiAwKSwgaGFuZGxlciA9ICh7IHJlcXVlc3QsIHBhdGg6IHBhdGgyIH0pID0+IGhhbmRsZShcbiAgICAgIG5ldyBSZXF1ZXN0KFxuICAgICAgICByZXBsYWNlVXJsUGF0aChyZXF1ZXN0LnVybCwgcGF0aDIuc2xpY2UobGVuZ3RoKSB8fCBcIi9cIiksXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyxcbiAgICAgICAgICBzaWduYWw6IHJlcXVlc3Quc2lnbmFsLFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiByZXF1ZXN0LmNyZWRlbnRpYWxzLFxuICAgICAgICAgIHJlZmVycmVyUG9saWN5OiByZXF1ZXN0LnJlZmVycmVyUG9saWN5LFxuICAgICAgICAgIGR1cGxleDogcmVxdWVzdC5kdXBsZXgsXG4gICAgICAgICAgcmVkaXJlY3Q6IHJlcXVlc3QucmVkaXJlY3QsXG4gICAgICAgICAgbW9kZTogcmVxdWVzdC5tb2RlLFxuICAgICAgICAgIGtlZXBhbGl2ZTogcmVxdWVzdC5rZWVwYWxpdmUsXG4gICAgICAgICAgaW50ZWdyaXR5OiByZXF1ZXN0LmludGVncml0eSxcbiAgICAgICAgICBib2R5OiByZXF1ZXN0LmJvZHlcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMucm91dGUoXCJBTExcIiwgcGF0aCwgaGFuZGxlciwge1xuICAgICAgcGFyc2U6IFwibm9uZVwiLFxuICAgICAgLi4uY29uZmlnLFxuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIC4uLmNvbmZpZz8uZGV0YWlsLFxuICAgICAgICBoaWRlOiAhMFxuICAgICAgfSxcbiAgICAgIGNvbmZpZzoge1xuICAgICAgICBtb3VudDogaGFuZGxlXG4gICAgICB9XG4gICAgfSksIHRoaXMucm91dGUoXG4gICAgICBcIkFMTFwiLFxuICAgICAgcGF0aCArIChwYXRoLmVuZHNXaXRoKFwiL1wiKSA/IFwiKlwiIDogXCIvKlwiKSxcbiAgICAgIGhhbmRsZXIsXG4gICAgICB7XG4gICAgICAgIHBhcnNlOiBcIm5vbmVcIixcbiAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAuLi5jb25maWc/LmRldGFpbCxcbiAgICAgICAgICBoaWRlOiAhMFxuICAgICAgICB9LFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBtb3VudDogaGFuZGxlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApLCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiAjIyMgZ2V0XG4gICAqIFJlZ2lzdGVyIGhhbmRsZXIgZm9yIHBhdGggd2l0aCBtZXRob2QgW0dFVF1cbiAgICpcbiAgICogLS0tXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogaW1wb3J0IHsgRWx5c2lhLCB0IH0gZnJvbSAnZWx5c2lhJ1xuICAgKlxuICAgKiBuZXcgRWx5c2lhKClcbiAgICogICAgIC5nZXQoJy8nLCAoKSA9PiAnaGknKVxuICAgKiAgICAgLmdldCgnL3dpdGgtaG9vaycsICgpID0+ICdoaScsIHtcbiAgICogICAgICAgICByZXNwb25zZTogdC5TdHJpbmcoKVxuICAgKiAgICAgfSlcbiAgICogYGBgXG4gICAqL1xuICBnZXQocGF0aCwgaGFuZGxlciwgaG9vaykge1xuICAgIHJldHVybiB0aGlzLmFkZChcIkdFVFwiLCBwYXRoLCBoYW5kbGVyLCBob29rKSwgdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIHBvc3RcbiAgICogUmVnaXN0ZXIgaGFuZGxlciBmb3IgcGF0aCB3aXRoIG1ldGhvZCBbUE9TVF1cbiAgICpcbiAgICogLS0tXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogaW1wb3J0IHsgRWx5c2lhLCB0IH0gZnJvbSAnZWx5c2lhJ1xuICAgKlxuICAgKiBuZXcgRWx5c2lhKClcbiAgICogICAgIC5wb3N0KCcvJywgKCkgPT4gJ2hpJylcbiAgICogICAgIC5wb3N0KCcvd2l0aC1ob29rJywgKCkgPT4gJ2hpJywge1xuICAgKiAgICAgICAgIHJlc3BvbnNlOiB0LlN0cmluZygpXG4gICAqICAgICB9KVxuICAgKiBgYGBcbiAgICovXG4gIHBvc3QocGF0aCwgaGFuZGxlciwgaG9vaykge1xuICAgIHJldHVybiB0aGlzLmFkZChcIlBPU1RcIiwgcGF0aCwgaGFuZGxlciwgaG9vayksIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqICMjIyBwdXRcbiAgICogUmVnaXN0ZXIgaGFuZGxlciBmb3IgcGF0aCB3aXRoIG1ldGhvZCBbUFVUXVxuICAgKlxuICAgKiAtLS1cbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiBpbXBvcnQgeyBFbHlzaWEsIHQgfSBmcm9tICdlbHlzaWEnXG4gICAqXG4gICAqIG5ldyBFbHlzaWEoKVxuICAgKiAgICAgLnB1dCgnLycsICgpID0+ICdoaScpXG4gICAqICAgICAucHV0KCcvd2l0aC1ob29rJywgKCkgPT4gJ2hpJywge1xuICAgKiAgICAgICAgIHJlc3BvbnNlOiB0LlN0cmluZygpXG4gICAqICAgICB9KVxuICAgKiBgYGBcbiAgICovXG4gIHB1dChwYXRoLCBoYW5kbGVyLCBob29rKSB7XG4gICAgcmV0dXJuIHRoaXMuYWRkKFwiUFVUXCIsIHBhdGgsIGhhbmRsZXIsIGhvb2spLCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiAjIyMgcGF0Y2hcbiAgICogUmVnaXN0ZXIgaGFuZGxlciBmb3IgcGF0aCB3aXRoIG1ldGhvZCBbUEFUQ0hdXG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIGltcG9ydCB7IEVseXNpYSwgdCB9IGZyb20gJ2VseXNpYSdcbiAgICpcbiAgICogbmV3IEVseXNpYSgpXG4gICAqICAgICAucGF0Y2goJy8nLCAoKSA9PiAnaGknKVxuICAgKiAgICAgLnBhdGNoKCcvd2l0aC1ob29rJywgKCkgPT4gJ2hpJywge1xuICAgKiAgICAgICAgIHJlc3BvbnNlOiB0LlN0cmluZygpXG4gICAqICAgICB9KVxuICAgKiBgYGBcbiAgICovXG4gIHBhdGNoKHBhdGgsIGhhbmRsZXIsIGhvb2spIHtcbiAgICByZXR1cm4gdGhpcy5hZGQoXCJQQVRDSFwiLCBwYXRoLCBoYW5kbGVyLCBob29rKSwgdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIGRlbGV0ZVxuICAgKiBSZWdpc3RlciBoYW5kbGVyIGZvciBwYXRoIHdpdGggbWV0aG9kIFtERUxFVEVdXG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIGltcG9ydCB7IEVseXNpYSwgdCB9IGZyb20gJ2VseXNpYSdcbiAgICpcbiAgICogbmV3IEVseXNpYSgpXG4gICAqICAgICAuZGVsZXRlKCcvJywgKCkgPT4gJ2hpJylcbiAgICogICAgIC5kZWxldGUoJy93aXRoLWhvb2snLCAoKSA9PiAnaGknLCB7XG4gICAqICAgICAgICAgcmVzcG9uc2U6IHQuU3RyaW5nKClcbiAgICogICAgIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgZGVsZXRlKHBhdGgsIGhhbmRsZXIsIGhvb2spIHtcbiAgICByZXR1cm4gdGhpcy5hZGQoXCJERUxFVEVcIiwgcGF0aCwgaGFuZGxlciwgaG9vayksIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqICMjIyBvcHRpb25zXG4gICAqIFJlZ2lzdGVyIGhhbmRsZXIgZm9yIHBhdGggd2l0aCBtZXRob2QgW1BPU1RdXG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIGltcG9ydCB7IEVseXNpYSwgdCB9IGZyb20gJ2VseXNpYSdcbiAgICpcbiAgICogbmV3IEVseXNpYSgpXG4gICAqICAgICAub3B0aW9ucygnLycsICgpID0+ICdoaScpXG4gICAqICAgICAub3B0aW9ucygnL3dpdGgtaG9vaycsICgpID0+ICdoaScsIHtcbiAgICogICAgICAgICByZXNwb25zZTogdC5TdHJpbmcoKVxuICAgKiAgICAgfSlcbiAgICogYGBgXG4gICAqL1xuICBvcHRpb25zKHBhdGgsIGhhbmRsZXIsIGhvb2spIHtcbiAgICByZXR1cm4gdGhpcy5hZGQoXCJPUFRJT05TXCIsIHBhdGgsIGhhbmRsZXIsIGhvb2spLCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiAjIyMgYWxsXG4gICAqIFJlZ2lzdGVyIGhhbmRsZXIgZm9yIHBhdGggd2l0aCBtZXRob2QgW0FMTF1cbiAgICpcbiAgICogLS0tXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogaW1wb3J0IHsgRWx5c2lhLCB0IH0gZnJvbSAnZWx5c2lhJ1xuICAgKlxuICAgKiBuZXcgRWx5c2lhKClcbiAgICogICAgIC5hbGwoJy8nLCAoKSA9PiAnaGknKVxuICAgKiAgICAgLmFsbCgnL3dpdGgtaG9vaycsICgpID0+ICdoaScsIHtcbiAgICogICAgICAgICByZXNwb25zZTogdC5TdHJpbmcoKVxuICAgKiAgICAgfSlcbiAgICogYGBgXG4gICAqL1xuICBhbGwocGF0aCwgaGFuZGxlciwgaG9vaykge1xuICAgIHJldHVybiB0aGlzLmFkZChcIkFMTFwiLCBwYXRoLCBoYW5kbGVyLCBob29rKSwgdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIGhlYWRcbiAgICogUmVnaXN0ZXIgaGFuZGxlciBmb3IgcGF0aCB3aXRoIG1ldGhvZCBbSEVBRF1cbiAgICpcbiAgICogLS0tXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogaW1wb3J0IHsgRWx5c2lhLCB0IH0gZnJvbSAnZWx5c2lhJ1xuICAgKlxuICAgKiBuZXcgRWx5c2lhKClcbiAgICogICAgIC5oZWFkKCcvJywgKCkgPT4gJ2hpJylcbiAgICogICAgIC5oZWFkKCcvd2l0aC1ob29rJywgKCkgPT4gJ2hpJywge1xuICAgKiAgICAgICAgIHJlc3BvbnNlOiB0LlN0cmluZygpXG4gICAqICAgICB9KVxuICAgKiBgYGBcbiAgICovXG4gIGhlYWQocGF0aCwgaGFuZGxlciwgaG9vaykge1xuICAgIHJldHVybiB0aGlzLmFkZChcIkhFQURcIiwgcGF0aCwgaGFuZGxlciwgaG9vayksIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqICMjIyBjb25uZWN0XG4gICAqIFJlZ2lzdGVyIGhhbmRsZXIgZm9yIHBhdGggd2l0aCBtZXRob2QgW0NPTk5FQ1RdXG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIGltcG9ydCB7IEVseXNpYSwgdCB9IGZyb20gJ2VseXNpYSdcbiAgICpcbiAgICogbmV3IEVseXNpYSgpXG4gICAqICAgICAuY29ubmVjdCgnLycsICgpID0+ICdoaScpXG4gICAqICAgICAuY29ubmVjdCgnL3dpdGgtaG9vaycsICgpID0+ICdoaScsIHtcbiAgICogICAgICAgICByZXNwb25zZTogdC5TdHJpbmcoKVxuICAgKiAgICAgfSlcbiAgICogYGBgXG4gICAqL1xuICBjb25uZWN0KHBhdGgsIGhhbmRsZXIsIGhvb2spIHtcbiAgICByZXR1cm4gdGhpcy5hZGQoXCJDT05ORUNUXCIsIHBhdGgsIGhhbmRsZXIsIGhvb2spLCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiAjIyMgcm91dGVcbiAgICogUmVnaXN0ZXIgaGFuZGxlciBmb3IgcGF0aCB3aXRoIG1ldGhvZCBbUk9VVEVdXG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIGltcG9ydCB7IEVseXNpYSwgdCB9IGZyb20gJ2VseXNpYSdcbiAgICpcbiAgICogbmV3IEVseXNpYSgpXG4gICAqICAgICAucm91dGUoJy8nLCAoKSA9PiAnaGknKVxuICAgKiAgICAgLnJvdXRlKCcvd2l0aC1ob29rJywgKCkgPT4gJ2hpJywge1xuICAgKiAgICAgICAgIHJlc3BvbnNlOiB0LlN0cmluZygpXG4gICAqICAgICB9KVxuICAgKiBgYGBcbiAgICovXG4gIHJvdXRlKG1ldGhvZCwgcGF0aCwgaGFuZGxlciwgaG9vaykge1xuICAgIHJldHVybiB0aGlzLmFkZChtZXRob2QudG9VcHBlckNhc2UoKSwgcGF0aCwgaGFuZGxlciwgaG9vaywgaG9vaz8uY29uZmlnKSwgdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIHdzXG4gICAqIFJlZ2lzdGVyIGhhbmRsZXIgZm9yIHBhdGggd2l0aCBtZXRob2QgW3dzXVxuICAgKlxuICAgKiAtLS1cbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiBpbXBvcnQgeyBFbHlzaWEsIHQgfSBmcm9tICdlbHlzaWEnXG4gICAqXG4gICAqIG5ldyBFbHlzaWEoKVxuICAgKiAgICAgLndzKCcvJywge1xuICAgKiAgICAgICAgIG1lc3NhZ2Uod3MsIG1lc3NhZ2UpIHtcbiAgICogICAgICAgICAgICAgd3Muc2VuZChtZXNzYWdlKVxuICAgKiAgICAgICAgIH1cbiAgICogICAgIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgd3MocGF0aCwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzW1wifmFkYXB0ZXJcIl0ud3MgPyB0aGlzW1wifmFkYXB0ZXJcIl0ud3ModGhpcywgcGF0aCwgb3B0aW9ucykgOiBjb25zb2xlLndhcm4oXCJDdXJyZW50IGFkYXB0ZXIgZG9lc24ndCBzdXBwb3J0IFdlYlNvY2tldFwiKSwgdGhpcztcbiAgfVxuICAvKipcbiAgICogIyMjIHN0YXRlXG4gICAqIEFzc2lnbiBnbG9iYWwgbXV0YXRhYmxlIHN0YXRlIGFjY2Vzc2libGUgZm9yIGFsbCBoYW5kbGVyXG4gICAqXG4gICAqIC0tLVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIG5ldyBFbHlzaWEoKVxuICAgKiAgICAgLnN0YXRlKCdjb3VudGVyJywgMClcbiAgICogICAgIC5nZXQoJy8nLCAoKHsgY291bnRlciB9KSA9PiArK2NvdW50ZXIpXG4gICAqIGBgYFxuICAgKi9cbiAgc3RhdGUob3B0aW9ucywgbmFtZSwgdmFsdWUpIHtcbiAgICBuYW1lID09PSB2b2lkIDAgPyAodmFsdWUgPSBvcHRpb25zLCBvcHRpb25zID0geyBhczogXCJhcHBlbmRcIiB9LCBuYW1lID0gXCJcIikgOiB2YWx1ZSA9PT0gdm9pZCAwICYmICh0eXBlb2Ygb3B0aW9ucyA9PSBcInN0cmluZ1wiID8gKHZhbHVlID0gbmFtZSwgbmFtZSA9IG9wdGlvbnMsIG9wdGlvbnMgPSB7IGFzOiBcImFwcGVuZFwiIH0pIDogdHlwZW9mIG9wdGlvbnMgPT0gXCJvYmplY3RcIiAmJiAodmFsdWUgPSBuYW1lLCBuYW1lID0gXCJcIikpO1xuICAgIGNvbnN0IHsgYXMgfSA9IG9wdGlvbnM7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9IFwic3RyaW5nXCIpIHJldHVybiB0aGlzO1xuICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIHJldHVybiAhdmFsdWUgfHwgIWlzTm90RW1wdHkodmFsdWUpID8gdGhpcyA6IG5hbWUgPyAobmFtZSBpbiB0aGlzLnNpbmdsZXRvbi5zdG9yZSA/IHRoaXMuc2luZ2xldG9uLnN0b3JlW25hbWVdID0gbWVyZ2VEZWVwKFxuICAgICAgICAgIHRoaXMuc2luZ2xldG9uLnN0b3JlW25hbWVdLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG92ZXJyaWRlOiBhcyA9PT0gXCJvdmVycmlkZVwiXG4gICAgICAgICAgfVxuICAgICAgICApIDogdGhpcy5zaW5nbGV0b24uc3RvcmVbbmFtZV0gPSB2YWx1ZSwgdGhpcykgOiB2YWx1ZSA9PT0gbnVsbCA/IHRoaXMgOiAodGhpcy5zaW5nbGV0b24uc3RvcmUgPSBtZXJnZURlZXAodGhpcy5zaW5nbGV0b24uc3RvcmUsIHZhbHVlLCB7XG4gICAgICAgICAgb3ZlcnJpZGU6IGFzID09PSBcIm92ZXJyaWRlXCJcbiAgICAgICAgfSksIHRoaXMpO1xuICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgIHJldHVybiBuYW1lID8gKGFzID09PSBcIm92ZXJyaWRlXCIgfHwgIShuYW1lIGluIHRoaXMuc2luZ2xldG9uLnN0b3JlKSkgJiYgKHRoaXMuc2luZ2xldG9uLnN0b3JlW25hbWVdID0gdmFsdWUpIDogdGhpcy5zaW5nbGV0b24uc3RvcmUgPSB2YWx1ZSh0aGlzLnNpbmdsZXRvbi5zdG9yZSksIHRoaXM7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gKGFzID09PSBcIm92ZXJyaWRlXCIgfHwgIShuYW1lIGluIHRoaXMuc2luZ2xldG9uLnN0b3JlKSkgJiYgKHRoaXMuc2luZ2xldG9uLnN0b3JlW25hbWVdID0gdmFsdWUpLCB0aGlzO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogIyMjIGRlY29yYXRlXG4gICAqIERlZmluZSBjdXN0b20gbWV0aG9kIHRvIGBDb250ZXh0YCBhY2Nlc3NpYmxlIGZvciBhbGwgaGFuZGxlclxuICAgKlxuICAgKiAtLS1cbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiBuZXcgRWx5c2lhKClcbiAgICogICAgIC5kZWNvcmF0ZSgnZ2V0RGF0ZScsICgpID0+IERhdGUubm93KCkpXG4gICAqICAgICAuZ2V0KCcvJywgKCh7IGdldERhdGUgfSkgPT4gZ2V0RGF0ZSgpKVxuICAgKiBgYGBcbiAgICovXG4gIGRlY29yYXRlKG9wdGlvbnMsIG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9PT0gdm9pZCAwID8gKHZhbHVlID0gb3B0aW9ucywgb3B0aW9ucyA9IHsgYXM6IFwiYXBwZW5kXCIgfSwgbmFtZSA9IFwiXCIpIDogdmFsdWUgPT09IHZvaWQgMCAmJiAodHlwZW9mIG9wdGlvbnMgPT0gXCJzdHJpbmdcIiA/ICh2YWx1ZSA9IG5hbWUsIG5hbWUgPSBvcHRpb25zLCBvcHRpb25zID0geyBhczogXCJhcHBlbmRcIiB9KSA6IHR5cGVvZiBvcHRpb25zID09IFwib2JqZWN0XCIgJiYgKHZhbHVlID0gbmFtZSwgbmFtZSA9IFwiXCIpKTtcbiAgICBjb25zdCB7IGFzIH0gPSBvcHRpb25zO1xuICAgIGlmICh0eXBlb2YgbmFtZSAhPSBcInN0cmluZ1wiKSByZXR1cm4gdGhpcztcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICByZXR1cm4gbmFtZSA/IChuYW1lIGluIHRoaXMuc2luZ2xldG9uLmRlY29yYXRvciA/IHRoaXMuc2luZ2xldG9uLmRlY29yYXRvcltuYW1lXSA9IG1lcmdlRGVlcChcbiAgICAgICAgICB0aGlzLnNpbmdsZXRvbi5kZWNvcmF0b3JbbmFtZV0sXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAge1xuICAgICAgICAgICAgb3ZlcnJpZGU6IGFzID09PSBcIm92ZXJyaWRlXCJcbiAgICAgICAgICB9XG4gICAgICAgICkgOiB0aGlzLnNpbmdsZXRvbi5kZWNvcmF0b3JbbmFtZV0gPSB2YWx1ZSwgdGhpcykgOiB2YWx1ZSA9PT0gbnVsbCA/IHRoaXMgOiAodGhpcy5zaW5nbGV0b24uZGVjb3JhdG9yID0gbWVyZ2VEZWVwKFxuICAgICAgICAgIHRoaXMuc2luZ2xldG9uLmRlY29yYXRvcixcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBvdmVycmlkZTogYXMgPT09IFwib3ZlcnJpZGVcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSwgdGhpcyk7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgcmV0dXJuIG5hbWUgPyAoYXMgPT09IFwib3ZlcnJpZGVcIiB8fCAhKG5hbWUgaW4gdGhpcy5zaW5nbGV0b24uZGVjb3JhdG9yKSkgJiYgKHRoaXMuc2luZ2xldG9uLmRlY29yYXRvcltuYW1lXSA9IHZhbHVlKSA6IHRoaXMuc2luZ2xldG9uLmRlY29yYXRvciA9IHZhbHVlKHRoaXMuc2luZ2xldG9uLmRlY29yYXRvciksIHRoaXM7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gKGFzID09PSBcIm92ZXJyaWRlXCIgfHwgIShuYW1lIGluIHRoaXMuc2luZ2xldG9uLmRlY29yYXRvcikpICYmICh0aGlzLnNpbmdsZXRvbi5kZWNvcmF0b3JbbmFtZV0gPSB2YWx1ZSksIHRoaXM7XG4gICAgfVxuICB9XG4gIGRlcml2ZShvcHRpb25zT3JUcmFuc2Zvcm0sIHRyYW5zZm9ybSkge1xuICAgIHRyYW5zZm9ybSB8fCAodHJhbnNmb3JtID0gb3B0aW9uc09yVHJhbnNmb3JtLCBvcHRpb25zT3JUcmFuc2Zvcm0gPSB7IGFzOiBcImxvY2FsXCIgfSk7XG4gICAgY29uc3QgaG9vayA9IHtcbiAgICAgIHN1YlR5cGU6IFwiZGVyaXZlXCIsXG4gICAgICBmbjogdHJhbnNmb3JtXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5vblRyYW5zZm9ybShvcHRpb25zT3JUcmFuc2Zvcm0sIGhvb2spO1xuICB9XG4gIG1vZGVsKG5hbWUsIG1vZGVsKSB7XG4gICAgY29uc3Qgb25seVR5cGVib3ggPSAoYSkgPT4ge1xuICAgICAgY29uc3QgcmVzID0ge307XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBhKSBcIn5zdGFuZGFyZFwiIGluIGFba2V5XSB8fCAocmVzW2tleV0gPSBhW2tleV0pO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIHN3aXRjaCAodHlwZW9mIG5hbWUpIHtcbiAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZWJveCA9IHt9LCBrdnMgPSBPYmplY3QuZW50cmllcyhuYW1lKTtcbiAgICAgICAgaWYgKCFrdnMubGVuZ3RoKSByZXR1cm4gdGhpcztcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2Yga3ZzKVxuICAgICAgICAgIGtleSBpbiB0aGlzLmRlZmluaXRpb25zLnR5cGUgfHwgKFwifnN0YW5kYXJkXCIgaW4gdmFsdWUgPyB0aGlzLmRlZmluaXRpb25zLnR5cGVba2V5XSA9IHZhbHVlIDogKHBhcnNlZFR5cGVib3hba2V5XSA9IHRoaXMuZGVmaW5pdGlvbnMudHlwZVtrZXldID0gdmFsdWUsIHBhcnNlZFR5cGVib3hba2V5XS4kaWQgPz89IGAjL2NvbXBvbmVudHMvc2NoZW1hcy8ke2tleX1gKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmluaXRpb25zLnR5cGVib3ggPSB0Lk1vZHVsZSh7XG4gICAgICAgICAgLi4udGhpcy5kZWZpbml0aW9ucy50eXBlYm94LiRkZWZzLFxuICAgICAgICAgIC4uLnBhcnNlZFR5cGVib3hcbiAgICAgICAgfSksIHRoaXM7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmFtZSh0aGlzLmRlZmluaXRpb25zLnR5cGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5kZWZpbml0aW9ucy50eXBlID0gcmVzdWx0LCB0aGlzLmRlZmluaXRpb25zLnR5cGVib3ggPSB0Lk1vZHVsZShvbmx5VHlwZWJveChyZXN1bHQpKSwgdGhpcztcbiAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgaWYgKCFtb2RlbCkgYnJlYWs7XG4gICAgICAgIGlmICh0aGlzLmRlZmluaXRpb25zLnR5cGVbbmFtZV0gPSBtb2RlbCwgXCJ+c3RhbmRhcmRcIiBpbiBtb2RlbCkgcmV0dXJuIHRoaXM7XG4gICAgICAgIGNvbnN0IG5ld01vZGVsID0ge1xuICAgICAgICAgIC4uLm1vZGVsLFxuICAgICAgICAgIGlkOiBtb2RlbC4kaWQgPz8gYCMvY29tcG9uZW50cy9zY2hlbWFzLyR7bmFtZX1gXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmluaXRpb25zLnR5cGVib3ggPSB0Lk1vZHVsZSh7XG4gICAgICAgICAgLi4udGhpcy5kZWZpbml0aW9ucy50eXBlYm94LiRkZWZzLFxuICAgICAgICAgIC4uLm5ld01vZGVsXG4gICAgICAgIH0pLCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbW9kZWwgPyAodGhpcy5kZWZpbml0aW9ucy50eXBlW25hbWVdID0gbW9kZWwsIFwifnN0YW5kYXJkXCIgaW4gbW9kZWwgPyB0aGlzIDogKHRoaXMuZGVmaW5pdGlvbnMudHlwZWJveCA9IHQuTW9kdWxlKHtcbiAgICAgIC4uLnRoaXMuZGVmaW5pdGlvbnMudHlwZWJveC4kZGVmcyxcbiAgICAgIFtuYW1lXTogbW9kZWxcbiAgICB9KSwgdGhpcykpIDogdGhpcztcbiAgfVxuICBSZWYoa2V5KSB7XG4gICAgcmV0dXJuIHQuUmVmKGtleSk7XG4gIH1cbiAgbWFwRGVyaXZlKG9wdGlvbnNPckRlcml2ZSwgbWFwcGVyKSB7XG4gICAgbWFwcGVyIHx8IChtYXBwZXIgPSBvcHRpb25zT3JEZXJpdmUsIG9wdGlvbnNPckRlcml2ZSA9IHsgYXM6IFwibG9jYWxcIiB9KTtcbiAgICBjb25zdCBob29rID0ge1xuICAgICAgc3ViVHlwZTogXCJtYXBEZXJpdmVcIixcbiAgICAgIGZuOiBtYXBwZXJcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLm9uVHJhbnNmb3JtKG9wdGlvbnNPckRlcml2ZSwgaG9vayk7XG4gIH1cbiAgYWZmaXgoYmFzZSwgdHlwZSwgd29yZCkge1xuICAgIGlmICh3b3JkID09PSBcIlwiKSByZXR1cm4gdGhpcztcbiAgICBjb25zdCBkZWxpbWlldGVyID0gW1wiX1wiLCBcIi1cIiwgXCIgXCJdLCBjYXBpdGFsaXplID0gKHdvcmQyKSA9PiB3b3JkMlswXS50b1VwcGVyQ2FzZSgpICsgd29yZDIuc2xpY2UoMSksIGpvaW5LZXkgPSBiYXNlID09PSBcInByZWZpeFwiID8gKHByZWZpeCwgd29yZDIpID0+IGRlbGltaWV0ZXIuaW5jbHVkZXMocHJlZml4LmF0KC0xKSA/PyBcIlwiKSA/IHByZWZpeCArIHdvcmQyIDogcHJlZml4ICsgY2FwaXRhbGl6ZSh3b3JkMikgOiBkZWxpbWlldGVyLmluY2x1ZGVzKHdvcmQuYXQoLTEpID8/IFwiXCIpID8gKHN1ZmZpeCwgd29yZDIpID0+IHdvcmQyICsgc3VmZml4IDogKHN1ZmZpeCwgd29yZDIpID0+IHdvcmQyICsgY2FwaXRhbGl6ZShzdWZmaXgpLCByZW1hcCA9ICh0eXBlMikgPT4ge1xuICAgICAgY29uc3Qgc3RvcmUgPSB7fTtcbiAgICAgIHN3aXRjaCAodHlwZTIpIHtcbiAgICAgICAgY2FzZSBcImRlY29yYXRvclwiOlxuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuc2luZ2xldG9uLmRlY29yYXRvcilcbiAgICAgICAgICAgIHN0b3JlW2pvaW5LZXkod29yZCwga2V5KV0gPSB0aGlzLnNpbmdsZXRvbi5kZWNvcmF0b3Jba2V5XTtcbiAgICAgICAgICB0aGlzLnNpbmdsZXRvbi5kZWNvcmF0b3IgPSBzdG9yZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0YXRlXCI6XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5zaW5nbGV0b24uc3RvcmUpXG4gICAgICAgICAgICBzdG9yZVtqb2luS2V5KHdvcmQsIGtleSldID0gdGhpcy5zaW5nbGV0b24uc3RvcmVba2V5XTtcbiAgICAgICAgICB0aGlzLnNpbmdsZXRvbi5zdG9yZSA9IHN0b3JlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibW9kZWxcIjpcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmRlZmluaXRpb25zLnR5cGUpXG4gICAgICAgICAgICBzdG9yZVtqb2luS2V5KHdvcmQsIGtleSldID0gdGhpcy5kZWZpbml0aW9ucy50eXBlW2tleV07XG4gICAgICAgICAgdGhpcy5kZWZpbml0aW9ucy50eXBlID0gc3RvcmU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuZGVmaW5pdGlvbnMuZXJyb3IpXG4gICAgICAgICAgICBzdG9yZVtqb2luS2V5KHdvcmQsIGtleSldID0gdGhpcy5kZWZpbml0aW9ucy5lcnJvcltrZXldO1xuICAgICAgICAgIHRoaXMuZGVmaW5pdGlvbnMuZXJyb3IgPSBzdG9yZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LCB0eXBlcyA9IEFycmF5LmlzQXJyYXkodHlwZSkgPyB0eXBlIDogW3R5cGVdO1xuICAgIGZvciAoY29uc3QgdHlwZTIgb2YgdHlwZXMuc29tZSgoeCkgPT4geCA9PT0gXCJhbGxcIikgPyBbXCJkZWNvcmF0b3JcIiwgXCJzdGF0ZVwiLCBcIm1vZGVsXCIsIFwiZXJyb3JcIl0gOiB0eXBlcylcbiAgICAgIHJlbWFwKHR5cGUyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBwcmVmaXgodHlwZSwgd29yZCkge1xuICAgIHJldHVybiB0aGlzLmFmZml4KFwicHJlZml4XCIsIHR5cGUsIHdvcmQpO1xuICB9XG4gIHN1ZmZpeCh0eXBlLCB3b3JkKSB7XG4gICAgcmV0dXJuIHRoaXMuYWZmaXgoXCJzdWZmaXhcIiwgdHlwZSwgd29yZCk7XG4gIH1cbiAgY29tcGlsZSgpIHtcbiAgICByZXR1cm4gdGhpc1tcIn5hZGFwdGVyXCJdLmJlZm9yZUNvbXBpbGU/Lih0aGlzKSwgdGhpc1tcIn5hZGFwdGVyXCJdLmlzV2ViU3RhbmRhcmQgPyAodGhpcy5mZXRjaCA9IHRoaXMuY29uZmlnLmFvdCA/IGNvbXBvc2VHZW5lcmFsSGFuZGxlcih0aGlzKSA6IGNyZWF0ZUR5bmFtaWNIYW5kbGVyKHRoaXMpLCB0eXBlb2YgdGhpcy5zZXJ2ZXI/LnJlbG9hZCA9PSBcImZ1bmN0aW9uXCIgJiYgdGhpcy5zZXJ2ZXIucmVsb2FkKHtcbiAgICAgIC4uLnRoaXMuc2VydmVyIHx8IHt9LFxuICAgICAgZmV0Y2g6IHRoaXMuZmV0Y2hcbiAgICB9KSwgdGhpcykgOiAodHlwZW9mIHRoaXMuc2VydmVyPy5yZWxvYWQgPT0gXCJmdW5jdGlvblwiICYmIHRoaXMuc2VydmVyLnJlbG9hZCh0aGlzLnNlcnZlciB8fCB7fSksIHRoaXMuX2hhbmRsZSA9IGNvbXBvc2VHZW5lcmFsSGFuZGxlcih0aGlzKSwgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFdhaXQgdW50aWwgYWxsIGxhenkgbG9hZGVkIG1vZHVsZXMgYWxsIGxvYWQgaXMgZnVsbHlcbiAgICovXG4gIGdldCBtb2R1bGVzKCkge1xuICAgIHJldHVybiB0aGlzLnByb21pc2VkTW9kdWxlcztcbiAgfVxufTtcbmxldCBFbHlzaWEgPSBfRWx5c2lhO1xuaW1wb3J0IHsgdCBhcyB0MiB9IGZyb20gXCIuL3R5cGUtc3lzdGVtL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGlvbkRldGFpbCwgZmlsZVR5cGUgfSBmcm9tIFwiLi90eXBlLXN5c3RlbS91dGlscy5tanNcIjtcbmltcG9ydCB7IHNlcmlhbGl6ZUNvb2tpZSwgQ29va2llIH0gZnJvbSBcIi4vY29va2llcy5tanNcIjtcbmltcG9ydCB7XG4gIEVMWVNJQV9UUkFDRVxufSBmcm9tIFwiLi90cmFjZS5tanNcIjtcbmltcG9ydCB7XG4gIGdldFNjaGVtYVZhbGlkYXRvciBhcyBnZXRTY2hlbWFWYWxpZGF0b3IyLFxuICBnZXRSZXNwb25zZVNjaGVtYVZhbGlkYXRvciBhcyBnZXRSZXNwb25zZVNjaGVtYVZhbGlkYXRvcjIsXG4gIHJlcGxhY2VTY2hlbWFUeXBlXG59IGZyb20gXCIuL3NjaGVtYS5tanNcIjtcbmltcG9ydCB7XG4gIG1lcmdlSG9vayBhcyBtZXJnZUhvb2syLFxuICBtZXJnZU9iamVjdEFycmF5LFxuICByZWRpcmVjdCBhcyByZWRpcmVjdDIsXG4gIFN0YXR1c01hcCxcbiAgSW52ZXJ0ZWRTdGF0dXNNYXAsXG4gIGZvcm0sXG4gIHJlcGxhY2VVcmxQYXRoIGFzIHJlcGxhY2VVcmxQYXRoMixcbiAgY2hlY2tzdW0gYXMgY2hlY2tzdW0yLFxuICBjbG9uZUluZmVyZW5jZSBhcyBjbG9uZUluZmVyZW5jZTIsXG4gIGRlZHVwbGljYXRlQ2hlY2tzdW0gYXMgZGVkdXBsaWNhdGVDaGVja3N1bTIsXG4gIEVMWVNJQV9GT1JNX0RBVEEsXG4gIEVMWVNJQV9SRVFVRVNUX0lELFxuICBzc2Vcbn0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5pbXBvcnQge1xuICBzdGF0dXMgYXMgc3RhdHVzMixcbiAgbWFwVmFsdWVFcnJvcixcbiAgUGFyc2VFcnJvcixcbiAgTm90Rm91bmRFcnJvcixcbiAgVmFsaWRhdGlvbkVycm9yIGFzIFZhbGlkYXRpb25FcnJvcjIsXG4gIEludGVybmFsU2VydmVyRXJyb3IsXG4gIEludmFsaWRDb29raWVTaWduYXR1cmUsXG4gIEVSUk9SX0NPREUgYXMgRVJST1JfQ09ERTIsXG4gIEVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlXG59IGZyb20gXCIuL2Vycm9yLm1qc1wiO1xuaW1wb3J0IHsgZW52IGFzIGVudjIgfSBmcm9tIFwiLi91bml2ZXJzYWwvZW52Lm1qc1wiO1xuaW1wb3J0IHsgZmlsZSwgRWx5c2lhRmlsZSB9IGZyb20gXCIuL3VuaXZlcnNhbC9maWxlLm1qc1wiO1xuaW1wb3J0IHsgVHlwZVN5c3RlbVBvbGljeSB9IGZyb20gXCJAc2luY2xhaXIvdHlwZWJveC9zeXN0ZW1cIjtcbmV4cG9ydCB7XG4gIENvb2tpZSxcbiAgRUxZU0lBX0ZPUk1fREFUQSxcbiAgRUxZU0lBX1JFUVVFU1RfSUQsXG4gIEVMWVNJQV9UUkFDRSxcbiAgRVJST1JfQ09ERTIgYXMgRVJST1JfQ09ERSxcbiAgRWx5c2lhLFxuICBFbHlzaWFDdXN0b21TdGF0dXNSZXNwb25zZSxcbiAgRWx5c2lhRmlsZSxcbiAgSW50ZXJuYWxTZXJ2ZXJFcnJvcixcbiAgSW52YWxpZENvb2tpZVNpZ25hdHVyZSxcbiAgSW52ZXJ0ZWRTdGF0dXNNYXAsXG4gIE5vdEZvdW5kRXJyb3IsXG4gIFBhcnNlRXJyb3IsXG4gIFN0YXR1c01hcCxcbiAgVHlwZVN5c3RlbVBvbGljeSxcbiAgVmFsaWRhdGlvbkVycm9yMiBhcyBWYWxpZGF0aW9uRXJyb3IsXG4gIGNoZWNrc3VtMiBhcyBjaGVja3N1bSxcbiAgY2xvbmVJbmZlcmVuY2UyIGFzIGNsb25lSW5mZXJlbmNlLFxuICBkZWR1cGxpY2F0ZUNoZWNrc3VtMiBhcyBkZWR1cGxpY2F0ZUNoZWNrc3VtLFxuICBFbHlzaWEgYXMgZGVmYXVsdCxcbiAgZW52MiBhcyBlbnYsXG4gIGZpbGUsXG4gIGZpbGVUeXBlLFxuICBmb3JtLFxuICBnZXRSZXNwb25zZVNjaGVtYVZhbGlkYXRvcjIgYXMgZ2V0UmVzcG9uc2VTY2hlbWFWYWxpZGF0b3IsXG4gIGdldFNjaGVtYVZhbGlkYXRvcjIgYXMgZ2V0U2NoZW1hVmFsaWRhdG9yLFxuICBtYXBWYWx1ZUVycm9yLFxuICBtZXJnZUhvb2syIGFzIG1lcmdlSG9vayxcbiAgbWVyZ2VPYmplY3RBcnJheSxcbiAgcmVkaXJlY3QyIGFzIHJlZGlyZWN0LFxuICByZXBsYWNlU2NoZW1hVHlwZSxcbiAgcmVwbGFjZVVybFBhdGgyIGFzIHJlcGxhY2VVcmxQYXRoLFxuICBzZXJpYWxpemVDb29raWUsXG4gIHNzZSxcbiAgc3RhdHVzMiBhcyBzdGF0dXMsXG4gIHQyIGFzIHQsXG4gIHZhbGlkYXRpb25EZXRhaWxcbn07XG4iLAogICAgImltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi90eXBlL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IFZhbHVlRXJyb3JUeXBlIH0gZnJvbSAnLi9lcnJvcnMubWpzJztcbi8qKiBDcmVhdGVzIGFuIGVycm9yIG1lc3NhZ2UgdXNpbmcgZW4tVVMgYXMgdGhlIGRlZmF1bHQgbG9jYWxlICovXG5leHBvcnQgZnVuY3Rpb24gRGVmYXVsdEVycm9yRnVuY3Rpb24oZXJyb3IpIHtcbiAgICBzd2l0Y2ggKGVycm9yLmVycm9yVHlwZSkge1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkFycmF5Q29udGFpbnM6XG4gICAgICAgICAgICByZXR1cm4gJ0V4cGVjdGVkIGFycmF5IHRvIGNvbnRhaW4gYXQgbGVhc3Qgb25lIG1hdGNoaW5nIHZhbHVlJztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5BcnJheU1heENvbnRhaW5zOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBhcnJheSB0byBjb250YWluIG5vIG1vcmUgdGhhbiAke2Vycm9yLnNjaGVtYS5tYXhDb250YWluc30gbWF0Y2hpbmcgdmFsdWVzYDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5BcnJheU1pbkNvbnRhaW5zOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBhcnJheSB0byBjb250YWluIGF0IGxlYXN0ICR7ZXJyb3Iuc2NoZW1hLm1pbkNvbnRhaW5zfSBtYXRjaGluZyB2YWx1ZXNgO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkFycmF5TWF4SXRlbXM6XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIGFycmF5IGxlbmd0aCB0byBiZSBsZXNzIG9yIGVxdWFsIHRvICR7ZXJyb3Iuc2NoZW1hLm1heEl0ZW1zfWA7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuQXJyYXlNaW5JdGVtczpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgYXJyYXkgbGVuZ3RoIHRvIGJlIGdyZWF0ZXIgb3IgZXF1YWwgdG8gJHtlcnJvci5zY2hlbWEubWluSXRlbXN9YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5BcnJheVVuaXF1ZUl0ZW1zOlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCBhcnJheSBlbGVtZW50cyB0byBiZSB1bmlxdWUnO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkFycmF5OlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCBhcnJheSc7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuQXN5bmNJdGVyYXRvcjpcbiAgICAgICAgICAgIHJldHVybiAnRXhwZWN0ZWQgQXN5bmNJdGVyYXRvcic7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuQmlnSW50RXhjbHVzaXZlTWF4aW11bTpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgYmlnaW50IHRvIGJlIGxlc3MgdGhhbiAke2Vycm9yLnNjaGVtYS5leGNsdXNpdmVNYXhpbXVtfWA7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuQmlnSW50RXhjbHVzaXZlTWluaW11bTpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgYmlnaW50IHRvIGJlIGdyZWF0ZXIgdGhhbiAke2Vycm9yLnNjaGVtYS5leGNsdXNpdmVNaW5pbXVtfWA7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuQmlnSW50TWF4aW11bTpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgYmlnaW50IHRvIGJlIGxlc3Mgb3IgZXF1YWwgdG8gJHtlcnJvci5zY2hlbWEubWF4aW11bX1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkJpZ0ludE1pbmltdW06XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIGJpZ2ludCB0byBiZSBncmVhdGVyIG9yIGVxdWFsIHRvICR7ZXJyb3Iuc2NoZW1hLm1pbmltdW19YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5CaWdJbnRNdWx0aXBsZU9mOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBiaWdpbnQgdG8gYmUgYSBtdWx0aXBsZSBvZiAke2Vycm9yLnNjaGVtYS5tdWx0aXBsZU9mfWA7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuQmlnSW50OlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCBiaWdpbnQnO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkJvb2xlYW46XG4gICAgICAgICAgICByZXR1cm4gJ0V4cGVjdGVkIGJvb2xlYW4nO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkRhdGVFeGNsdXNpdmVNaW5pbXVtVGltZXN0YW1wOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBEYXRlIHRpbWVzdGFtcCB0byBiZSBncmVhdGVyIHRoYW4gJHtlcnJvci5zY2hlbWEuZXhjbHVzaXZlTWluaW11bVRpbWVzdGFtcH1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkRhdGVFeGNsdXNpdmVNYXhpbXVtVGltZXN0YW1wOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBEYXRlIHRpbWVzdGFtcCB0byBiZSBsZXNzIHRoYW4gJHtlcnJvci5zY2hlbWEuZXhjbHVzaXZlTWF4aW11bVRpbWVzdGFtcH1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkRhdGVNaW5pbXVtVGltZXN0YW1wOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBEYXRlIHRpbWVzdGFtcCB0byBiZSBncmVhdGVyIG9yIGVxdWFsIHRvICR7ZXJyb3Iuc2NoZW1hLm1pbmltdW1UaW1lc3RhbXB9YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5EYXRlTWF4aW11bVRpbWVzdGFtcDpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgRGF0ZSB0aW1lc3RhbXAgdG8gYmUgbGVzcyBvciBlcXVhbCB0byAke2Vycm9yLnNjaGVtYS5tYXhpbXVtVGltZXN0YW1wfWA7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuRGF0ZU11bHRpcGxlT2ZUaW1lc3RhbXA6XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIERhdGUgdGltZXN0YW1wIHRvIGJlIGEgbXVsdGlwbGUgb2YgJHtlcnJvci5zY2hlbWEubXVsdGlwbGVPZlRpbWVzdGFtcH1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkRhdGU6XG4gICAgICAgICAgICByZXR1cm4gJ0V4cGVjdGVkIERhdGUnO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkZ1bmN0aW9uOlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCBmdW5jdGlvbic7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuSW50ZWdlckV4Y2x1c2l2ZU1heGltdW06XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIGludGVnZXIgdG8gYmUgbGVzcyB0aGFuICR7ZXJyb3Iuc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW19YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5JbnRlZ2VyRXhjbHVzaXZlTWluaW11bTpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgaW50ZWdlciB0byBiZSBncmVhdGVyIHRoYW4gJHtlcnJvci5zY2hlbWEuZXhjbHVzaXZlTWluaW11bX1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkludGVnZXJNYXhpbXVtOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBpbnRlZ2VyIHRvIGJlIGxlc3Mgb3IgZXF1YWwgdG8gJHtlcnJvci5zY2hlbWEubWF4aW11bX1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkludGVnZXJNaW5pbXVtOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBpbnRlZ2VyIHRvIGJlIGdyZWF0ZXIgb3IgZXF1YWwgdG8gJHtlcnJvci5zY2hlbWEubWluaW11bX1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkludGVnZXJNdWx0aXBsZU9mOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBpbnRlZ2VyIHRvIGJlIGEgbXVsdGlwbGUgb2YgJHtlcnJvci5zY2hlbWEubXVsdGlwbGVPZn1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkludGVnZXI6XG4gICAgICAgICAgICByZXR1cm4gJ0V4cGVjdGVkIGludGVnZXInO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkludGVyc2VjdFVuZXZhbHVhdGVkUHJvcGVydGllczpcbiAgICAgICAgICAgIHJldHVybiAnVW5leHBlY3RlZCBwcm9wZXJ0eSc7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuSW50ZXJzZWN0OlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCBhbGwgdmFsdWVzIHRvIG1hdGNoJztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5JdGVyYXRvcjpcbiAgICAgICAgICAgIHJldHVybiAnRXhwZWN0ZWQgSXRlcmF0b3InO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLkxpdGVyYWw6XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkICR7dHlwZW9mIGVycm9yLnNjaGVtYS5jb25zdCA9PT0gJ3N0cmluZycgPyBgJyR7ZXJyb3Iuc2NoZW1hLmNvbnN0fSdgIDogZXJyb3Iuc2NoZW1hLmNvbnN0fWA7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuTmV2ZXI6XG4gICAgICAgICAgICByZXR1cm4gJ05ldmVyJztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5Ob3Q6XG4gICAgICAgICAgICByZXR1cm4gJ1ZhbHVlIHNob3VsZCBub3QgbWF0Y2gnO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLk51bGw6XG4gICAgICAgICAgICByZXR1cm4gJ0V4cGVjdGVkIG51bGwnO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLk51bWJlckV4Y2x1c2l2ZU1heGltdW06XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIG51bWJlciB0byBiZSBsZXNzIHRoYW4gJHtlcnJvci5zY2hlbWEuZXhjbHVzaXZlTWF4aW11bX1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLk51bWJlckV4Y2x1c2l2ZU1pbmltdW06XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIG51bWJlciB0byBiZSBncmVhdGVyIHRoYW4gJHtlcnJvci5zY2hlbWEuZXhjbHVzaXZlTWluaW11bX1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLk51bWJlck1heGltdW06XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIG51bWJlciB0byBiZSBsZXNzIG9yIGVxdWFsIHRvICR7ZXJyb3Iuc2NoZW1hLm1heGltdW19YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5OdW1iZXJNaW5pbXVtOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBudW1iZXIgdG8gYmUgZ3JlYXRlciBvciBlcXVhbCB0byAke2Vycm9yLnNjaGVtYS5taW5pbXVtfWA7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuTnVtYmVyTXVsdGlwbGVPZjpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgbnVtYmVyIHRvIGJlIGEgbXVsdGlwbGUgb2YgJHtlcnJvci5zY2hlbWEubXVsdGlwbGVPZn1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLk51bWJlcjpcbiAgICAgICAgICAgIHJldHVybiAnRXhwZWN0ZWQgbnVtYmVyJztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5PYmplY3Q6XG4gICAgICAgICAgICByZXR1cm4gJ0V4cGVjdGVkIG9iamVjdCc7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuT2JqZWN0QWRkaXRpb25hbFByb3BlcnRpZXM6XG4gICAgICAgICAgICByZXR1cm4gJ1VuZXhwZWN0ZWQgcHJvcGVydHknO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLk9iamVjdE1heFByb3BlcnRpZXM6XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIG9iamVjdCB0byBoYXZlIG5vIG1vcmUgdGhhbiAke2Vycm9yLnNjaGVtYS5tYXhQcm9wZXJ0aWVzfSBwcm9wZXJ0aWVzYDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5PYmplY3RNaW5Qcm9wZXJ0aWVzOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBvYmplY3QgdG8gaGF2ZSBhdCBsZWFzdCAke2Vycm9yLnNjaGVtYS5taW5Qcm9wZXJ0aWVzfSBwcm9wZXJ0aWVzYDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5PYmplY3RSZXF1aXJlZFByb3BlcnR5OlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCByZXF1aXJlZCBwcm9wZXJ0eSc7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuUHJvbWlzZTpcbiAgICAgICAgICAgIHJldHVybiAnRXhwZWN0ZWQgUHJvbWlzZSc7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuUmVnRXhwOlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCBzdHJpbmcgdG8gbWF0Y2ggcmVndWxhciBleHByZXNzaW9uJztcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5TdHJpbmdGb3JtYXRVbmtub3duOlxuICAgICAgICAgICAgcmV0dXJuIGBVbmtub3duIGZvcm1hdCAnJHtlcnJvci5zY2hlbWEuZm9ybWF0fSdgO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLlN0cmluZ0Zvcm1hdDpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgc3RyaW5nIHRvIG1hdGNoICcke2Vycm9yLnNjaGVtYS5mb3JtYXR9JyBmb3JtYXRgO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLlN0cmluZ01heExlbmd0aDpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgc3RyaW5nIGxlbmd0aCBsZXNzIG9yIGVxdWFsIHRvICR7ZXJyb3Iuc2NoZW1hLm1heExlbmd0aH1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLlN0cmluZ01pbkxlbmd0aDpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgc3RyaW5nIGxlbmd0aCBncmVhdGVyIG9yIGVxdWFsIHRvICR7ZXJyb3Iuc2NoZW1hLm1pbkxlbmd0aH1gO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLlN0cmluZ1BhdHRlcm46XG4gICAgICAgICAgICByZXR1cm4gYEV4cGVjdGVkIHN0cmluZyB0byBtYXRjaCAnJHtlcnJvci5zY2hlbWEucGF0dGVybn0nYDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5TdHJpbmc6XG4gICAgICAgICAgICByZXR1cm4gJ0V4cGVjdGVkIHN0cmluZyc7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuU3ltYm9sOlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCBzeW1ib2wnO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLlR1cGxlTGVuZ3RoOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCB0dXBsZSB0byBoYXZlICR7ZXJyb3Iuc2NoZW1hLm1heEl0ZW1zIHx8IDB9IGVsZW1lbnRzYDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5UdXBsZTpcbiAgICAgICAgICAgIHJldHVybiAnRXhwZWN0ZWQgdHVwbGUnO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLlVpbnQ4QXJyYXlNYXhCeXRlTGVuZ3RoOlxuICAgICAgICAgICAgcmV0dXJuIGBFeHBlY3RlZCBieXRlIGxlbmd0aCBsZXNzIG9yIGVxdWFsIHRvICR7ZXJyb3Iuc2NoZW1hLm1heEJ5dGVMZW5ndGh9YDtcbiAgICAgICAgY2FzZSBWYWx1ZUVycm9yVHlwZS5VaW50OEFycmF5TWluQnl0ZUxlbmd0aDpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQgYnl0ZSBsZW5ndGggZ3JlYXRlciBvciBlcXVhbCB0byAke2Vycm9yLnNjaGVtYS5taW5CeXRlTGVuZ3RofWA7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuVWludDhBcnJheTpcbiAgICAgICAgICAgIHJldHVybiAnRXhwZWN0ZWQgVWludDhBcnJheSc7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuVW5kZWZpbmVkOlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCB1bmRlZmluZWQnO1xuICAgICAgICBjYXNlIFZhbHVlRXJyb3JUeXBlLlVuaW9uOlxuICAgICAgICAgICAgcmV0dXJuICdFeHBlY3RlZCB1bmlvbiB2YWx1ZSc7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuVm9pZDpcbiAgICAgICAgICAgIHJldHVybiAnRXhwZWN0ZWQgdm9pZCc7XG4gICAgICAgIGNhc2UgVmFsdWVFcnJvclR5cGUuS2luZDpcbiAgICAgICAgICAgIHJldHVybiBgRXhwZWN0ZWQga2luZCAnJHtlcnJvci5zY2hlbWFbS2luZF19J2A7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ1Vua25vd24gZXJyb3IgdHlwZSc7XG4gICAgfVxufVxuLyoqIE1hbmFnZXMgZXJyb3IgbWVzc2FnZSBwcm92aWRlcnMgKi9cbmxldCBlcnJvckZ1bmN0aW9uID0gRGVmYXVsdEVycm9yRnVuY3Rpb247XG4vKiogU2V0cyB0aGUgZXJyb3IgZnVuY3Rpb24gdXNlZCB0byBnZW5lcmF0ZSBlcnJvciBtZXNzYWdlcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBTZXRFcnJvckZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgZXJyb3JGdW5jdGlvbiA9IGNhbGxiYWNrO1xufVxuLyoqIEdldHMgdGhlIGVycm9yIGZ1bmN0aW9uIHVzZWQgdG8gZ2VuZXJhdGUgZXJyb3IgbWVzc2FnZXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBHZXRFcnJvckZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBlcnJvckZ1bmN0aW9uO1xufVxuIiwKICAgICJpbXBvcnQgeyBUeXBlQm94RXJyb3IgfSBmcm9tICcuLi8uLi90eXBlL2Vycm9yL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vLi4vdHlwZS9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBJc1N0cmluZyB9IGZyb20gJy4uL2d1YXJkL2d1YXJkLm1qcyc7XG5leHBvcnQgY2xhc3MgVHlwZURlcmVmZXJlbmNlRXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHNjaGVtYSkge1xuICAgICAgICBzdXBlcihgVW5hYmxlIHRvIGRlcmVmZXJlbmNlIHNjaGVtYSB3aXRoICRpZCAnJHtzY2hlbWEuJHJlZn0nYCk7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgIH1cbn1cbmZ1bmN0aW9uIFJlc29sdmUoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gcmVmZXJlbmNlcy5maW5kKCh0YXJnZXQpID0+IHRhcmdldC4kaWQgPT09IHNjaGVtYS4kcmVmKTtcbiAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRGVyZWZlcmVuY2VFcnJvcihzY2hlbWEpO1xuICAgIHJldHVybiBEZXJlZih0YXJnZXQsIHJlZmVyZW5jZXMpO1xufVxuLyoqIGBbSW50ZXJuYWxdYCBQdXNoZXMgYSBzY2hlbWEgb250byByZWZlcmVuY2VzIGlmIHRoZSBzY2hlbWEgaGFzIGFuICRpZCBhbmQgZG9lcyBub3QgZXhpc3Qgb24gcmVmZXJlbmNlcyAqL1xuZXhwb3J0IGZ1bmN0aW9uIFB1c2hyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKCFJc1N0cmluZyhzY2hlbWEuJGlkKSB8fCByZWZlcmVuY2VzLnNvbWUoKHRhcmdldCkgPT4gdGFyZ2V0LiRpZCA9PT0gc2NoZW1hLiRpZCkpXG4gICAgICAgIHJldHVybiByZWZlcmVuY2VzO1xuICAgIHJlZmVyZW5jZXMucHVzaChzY2hlbWEpO1xuICAgIHJldHVybiByZWZlcmVuY2VzO1xufVxuLyoqIGBbSW50ZXJuYWxdYCBEZXJlZmVyZW5jZXMgYSBzY2hlbWEgZnJvbSB0aGUgcmVmZXJlbmNlcyBhcnJheSBvciB0aHJvd3MgaWYgbm90IGZvdW5kICovXG5leHBvcnQgZnVuY3Rpb24gRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgcmV0dXJuIChzY2hlbWFbS2luZF0gPT09ICdUaGlzJyB8fCBzY2hlbWFbS2luZF0gPT09ICdSZWYnKVxuICAgICAgICA/IFJlc29sdmUoc2NoZW1hLCByZWZlcmVuY2VzKVxuICAgICAgICA6IHNjaGVtYTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgSXNBcnJheSwgSXNCb29sZWFuLCBJc0JpZ0ludCwgSXNEYXRlLCBJc051bGwsIElzTnVtYmVyLCBJc09iamVjdCwgSXNTdHJpbmcsIElzU3ltYm9sLCBJc1VpbnQ4QXJyYXksIElzVW5kZWZpbmVkIH0gZnJvbSAnLi4vZ3VhcmQvaW5kZXgubWpzJztcbmltcG9ydCB7IFR5cGVCb3hFcnJvciB9IGZyb20gJy4uLy4uL3R5cGUvZXJyb3IvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRXJyb3JzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBWYWx1ZUhhc2hFcnJvciBleHRlbmRzIFR5cGVCb3hFcnJvciB7XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgc3VwZXIoYFVuYWJsZSB0byBoYXNoIHZhbHVlYCk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEJ5dGVNYXJrZXJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxudmFyIEJ5dGVNYXJrZXI7XG4oZnVuY3Rpb24gKEJ5dGVNYXJrZXIpIHtcbiAgICBCeXRlTWFya2VyW0J5dGVNYXJrZXJbXCJVbmRlZmluZWRcIl0gPSAwXSA9IFwiVW5kZWZpbmVkXCI7XG4gICAgQnl0ZU1hcmtlcltCeXRlTWFya2VyW1wiTnVsbFwiXSA9IDFdID0gXCJOdWxsXCI7XG4gICAgQnl0ZU1hcmtlcltCeXRlTWFya2VyW1wiQm9vbGVhblwiXSA9IDJdID0gXCJCb29sZWFuXCI7XG4gICAgQnl0ZU1hcmtlcltCeXRlTWFya2VyW1wiTnVtYmVyXCJdID0gM10gPSBcIk51bWJlclwiO1xuICAgIEJ5dGVNYXJrZXJbQnl0ZU1hcmtlcltcIlN0cmluZ1wiXSA9IDRdID0gXCJTdHJpbmdcIjtcbiAgICBCeXRlTWFya2VyW0J5dGVNYXJrZXJbXCJPYmplY3RcIl0gPSA1XSA9IFwiT2JqZWN0XCI7XG4gICAgQnl0ZU1hcmtlcltCeXRlTWFya2VyW1wiQXJyYXlcIl0gPSA2XSA9IFwiQXJyYXlcIjtcbiAgICBCeXRlTWFya2VyW0J5dGVNYXJrZXJbXCJEYXRlXCJdID0gN10gPSBcIkRhdGVcIjtcbiAgICBCeXRlTWFya2VyW0J5dGVNYXJrZXJbXCJVaW50OEFycmF5XCJdID0gOF0gPSBcIlVpbnQ4QXJyYXlcIjtcbiAgICBCeXRlTWFya2VyW0J5dGVNYXJrZXJbXCJTeW1ib2xcIl0gPSA5XSA9IFwiU3ltYm9sXCI7XG4gICAgQnl0ZU1hcmtlcltCeXRlTWFya2VyW1wiQmlnSW50XCJdID0gMTBdID0gXCJCaWdJbnRcIjtcbn0pKEJ5dGVNYXJrZXIgfHwgKEJ5dGVNYXJrZXIgPSB7fSkpO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0ZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5sZXQgQWNjdW11bGF0b3IgPSBCaWdJbnQoJzE0Njk1OTgxMDM5MzQ2NjU2MDM3Jyk7XG5jb25zdCBbUHJpbWUsIFNpemVdID0gW0JpZ0ludCgnMTA5OTUxMTYyODIxMScpLCBCaWdJbnQoJzE4NDQ2NzQ0MDczNzA5NTUxNjE2JyAvKiAyIF4gNjQgKi8pXTtcbmNvbnN0IEJ5dGVzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMjU2IH0pLm1hcCgoXywgaSkgPT4gQmlnSW50KGkpKTtcbmNvbnN0IEY2NCA9IG5ldyBGbG9hdDY0QXJyYXkoMSk7XG5jb25zdCBGNjRJbiA9IG5ldyBEYXRhVmlldyhGNjQuYnVmZmVyKTtcbmNvbnN0IEY2NE91dCA9IG5ldyBVaW50OEFycmF5KEY2NC5idWZmZXIpO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBOdW1iZXJUb0J5dGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uKiBOdW1iZXJUb0J5dGVzKHZhbHVlKSB7XG4gICAgY29uc3QgYnl0ZUNvdW50ID0gdmFsdWUgPT09IDAgPyAxIDogTWF0aC5jZWlsKE1hdGguZmxvb3IoTWF0aC5sb2cyKHZhbHVlKSArIDEpIC8gOCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlQ291bnQ7IGkrKykge1xuICAgICAgICB5aWVsZCAodmFsdWUgPj4gKDggKiAoYnl0ZUNvdW50IC0gMSAtIGkpKSkgJiAweGZmO1xuICAgIH1cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSGFzaGluZyBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gQXJyYXlUeXBlKHZhbHVlKSB7XG4gICAgRk5WMUE2NChCeXRlTWFya2VyLkFycmF5KTtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgICAgVmlzaXQoaXRlbSk7XG4gICAgfVxufVxuZnVuY3Rpb24gQm9vbGVhblR5cGUodmFsdWUpIHtcbiAgICBGTlYxQTY0KEJ5dGVNYXJrZXIuQm9vbGVhbik7XG4gICAgRk5WMUE2NCh2YWx1ZSA/IDEgOiAwKTtcbn1cbmZ1bmN0aW9uIEJpZ0ludFR5cGUodmFsdWUpIHtcbiAgICBGTlYxQTY0KEJ5dGVNYXJrZXIuQmlnSW50KTtcbiAgICBGNjRJbi5zZXRCaWdJbnQ2NCgwLCB2YWx1ZSk7XG4gICAgZm9yIChjb25zdCBieXRlIG9mIEY2NE91dCkge1xuICAgICAgICBGTlYxQTY0KGJ5dGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIERhdGVUeXBlKHZhbHVlKSB7XG4gICAgRk5WMUE2NChCeXRlTWFya2VyLkRhdGUpO1xuICAgIFZpc2l0KHZhbHVlLmdldFRpbWUoKSk7XG59XG5mdW5jdGlvbiBOdWxsVHlwZSh2YWx1ZSkge1xuICAgIEZOVjFBNjQoQnl0ZU1hcmtlci5OdWxsKTtcbn1cbmZ1bmN0aW9uIE51bWJlclR5cGUodmFsdWUpIHtcbiAgICBGTlYxQTY0KEJ5dGVNYXJrZXIuTnVtYmVyKTtcbiAgICBGNjRJbi5zZXRGbG9hdDY0KDAsIHZhbHVlKTtcbiAgICBmb3IgKGNvbnN0IGJ5dGUgb2YgRjY0T3V0KSB7XG4gICAgICAgIEZOVjFBNjQoYnl0ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gT2JqZWN0VHlwZSh2YWx1ZSkge1xuICAgIEZOVjFBNjQoQnl0ZU1hcmtlci5PYmplY3QpO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLnNvcnQoKSkge1xuICAgICAgICBWaXNpdChrZXkpO1xuICAgICAgICBWaXNpdCh2YWx1ZVtrZXldKTtcbiAgICB9XG59XG5mdW5jdGlvbiBTdHJpbmdUeXBlKHZhbHVlKSB7XG4gICAgRk5WMUE2NChCeXRlTWFya2VyLlN0cmluZyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKGNvbnN0IGJ5dGUgb2YgTnVtYmVyVG9CeXRlcyh2YWx1ZS5jaGFyQ29kZUF0KGkpKSkge1xuICAgICAgICAgICAgRk5WMUE2NChieXRlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIFN5bWJvbFR5cGUodmFsdWUpIHtcbiAgICBGTlYxQTY0KEJ5dGVNYXJrZXIuU3ltYm9sKTtcbiAgICBWaXNpdCh2YWx1ZS5kZXNjcmlwdGlvbik7XG59XG5mdW5jdGlvbiBVaW50OEFycmF5VHlwZSh2YWx1ZSkge1xuICAgIEZOVjFBNjQoQnl0ZU1hcmtlci5VaW50OEFycmF5KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIEZOVjFBNjQodmFsdWVbaV0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIFVuZGVmaW5lZFR5cGUodmFsdWUpIHtcbiAgICByZXR1cm4gRk5WMUE2NChCeXRlTWFya2VyLlVuZGVmaW5lZCk7XG59XG5mdW5jdGlvbiBWaXNpdCh2YWx1ZSkge1xuICAgIGlmIChJc0FycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIEFycmF5VHlwZSh2YWx1ZSk7XG4gICAgaWYgKElzQm9vbGVhbih2YWx1ZSkpXG4gICAgICAgIHJldHVybiBCb29sZWFuVHlwZSh2YWx1ZSk7XG4gICAgaWYgKElzQmlnSW50KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIEJpZ0ludFR5cGUodmFsdWUpO1xuICAgIGlmIChJc0RhdGUodmFsdWUpKVxuICAgICAgICByZXR1cm4gRGF0ZVR5cGUodmFsdWUpO1xuICAgIGlmIChJc051bGwodmFsdWUpKVxuICAgICAgICByZXR1cm4gTnVsbFR5cGUodmFsdWUpO1xuICAgIGlmIChJc051bWJlcih2YWx1ZSkpXG4gICAgICAgIHJldHVybiBOdW1iZXJUeXBlKHZhbHVlKTtcbiAgICBpZiAoSXNPYmplY3QodmFsdWUpKVxuICAgICAgICByZXR1cm4gT2JqZWN0VHlwZSh2YWx1ZSk7XG4gICAgaWYgKElzU3RyaW5nKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIFN0cmluZ1R5cGUodmFsdWUpO1xuICAgIGlmIChJc1N5bWJvbCh2YWx1ZSkpXG4gICAgICAgIHJldHVybiBTeW1ib2xUeXBlKHZhbHVlKTtcbiAgICBpZiAoSXNVaW50OEFycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXlUeXBlKHZhbHVlKTtcbiAgICBpZiAoSXNVbmRlZmluZWQodmFsdWUpKVxuICAgICAgICByZXR1cm4gVW5kZWZpbmVkVHlwZSh2YWx1ZSk7XG4gICAgdGhyb3cgbmV3IFZhbHVlSGFzaEVycm9yKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZOVjFBNjQoYnl0ZSkge1xuICAgIEFjY3VtdWxhdG9yID0gQWNjdW11bGF0b3IgXiBCeXRlc1tieXRlXTtcbiAgICBBY2N1bXVsYXRvciA9IChBY2N1bXVsYXRvciAqIFByaW1lKSAlIFNpemU7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEhhc2hcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIENyZWF0ZXMgYSBGTlYxQS02NCBub24gY3J5cHRvZ3JhcGhpYyBoYXNoIG9mIHRoZSBnaXZlbiB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIEhhc2godmFsdWUpIHtcbiAgICBBY2N1bXVsYXRvciA9IEJpZ0ludCgnMTQ2OTU5ODEwMzkzNDY2NTYwMzcnKTtcbiAgICBWaXNpdCh2YWx1ZSk7XG4gICAgcmV0dXJuIEFjY3VtdWxhdG9yO1xufVxuIiwKICAgICJpbXBvcnQgeyBUeXBlU3lzdGVtUG9saWN5IH0gZnJvbSAnLi4vLi4vc3lzdGVtL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBEZXJlZiwgUHVzaHJlZiB9IGZyb20gJy4uL2RlcmVmL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBIYXNoIH0gZnJvbSAnLi4vaGFzaC9pbmRleC5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uLy4uL3R5cGUvc3ltYm9scy9pbmRleC5tanMnO1xuaW1wb3J0IHsgS2V5T2ZQYXR0ZXJuIH0gZnJvbSAnLi4vLi4vdHlwZS9rZXlvZi9pbmRleC5tanMnO1xuaW1wb3J0IHsgRXh0ZW5kc1VuZGVmaW5lZENoZWNrIH0gZnJvbSAnLi4vLi4vdHlwZS9leHRlbmRzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUeXBlUmVnaXN0cnksIEZvcm1hdFJlZ2lzdHJ5IH0gZnJvbSAnLi4vLi4vdHlwZS9yZWdpc3RyeS9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHlwZUJveEVycm9yIH0gZnJvbSAnLi4vLi4vdHlwZS9lcnJvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgTmV2ZXIgfSBmcm9tICcuLi8uLi90eXBlL25ldmVyL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFZhbHVlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNBcnJheSwgSXNVaW50OEFycmF5LCBJc0RhdGUsIElzUHJvbWlzZSwgSXNGdW5jdGlvbiwgSXNBc3luY0l0ZXJhdG9yLCBJc0l0ZXJhdG9yLCBJc0Jvb2xlYW4sIElzTnVtYmVyLCBJc0JpZ0ludCwgSXNTdHJpbmcsIElzU3ltYm9sLCBJc0ludGVnZXIsIElzTnVsbCwgSXNVbmRlZmluZWQgfSBmcm9tICcuLi9ndWFyZC9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBLaW5kR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNTY2hlbWEgfSBmcm9tICcuLi8uLi90eXBlL2d1YXJkL2tpbmQubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRXJyb3JzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBWYWx1ZUNoZWNrVW5rbm93blR5cGVFcnJvciBleHRlbmRzIFR5cGVCb3hFcnJvciB7XG4gICAgY29uc3RydWN0b3Ioc2NoZW1hKSB7XG4gICAgICAgIHN1cGVyKGBVbmtub3duIHR5cGVgKTtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgfVxufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlR3VhcmRzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIElzQW55T3JVbmtub3duKHNjaGVtYSkge1xuICAgIHJldHVybiBzY2hlbWFbS2luZF0gPT09ICdBbnknIHx8IHNjaGVtYVtLaW5kXSA9PT0gJ1Vua25vd24nO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBHdWFyZHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gSXNEZWZpbmVkKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIEZyb21Bbnkoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gRnJvbUFyZ3VtZW50KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIEZyb21BcnJheShzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0FycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1pbkl0ZW1zKSAmJiAhKHZhbHVlLmxlbmd0aCA+PSBzY2hlbWEubWluSXRlbXMpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWF4SXRlbXMpICYmICEodmFsdWUubGVuZ3RoIDw9IHNjaGVtYS5tYXhJdGVtcykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXZhbHVlLmV2ZXJ5KCh2YWx1ZSkgPT4gVmlzaXQoc2NoZW1hLml0ZW1zLCByZWZlcmVuY2VzLCB2YWx1ZSkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgaWYgKHNjaGVtYS51bmlxdWVJdGVtcyA9PT0gdHJ1ZSAmJiAhKChmdW5jdGlvbiAoKSB7IGNvbnN0IHNldCA9IG5ldyBTZXQoKTsgZm9yIChjb25zdCBlbGVtZW50IG9mIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGhhc2hlZCA9IEhhc2goZWxlbWVudCk7XG4gICAgICAgIGlmIChzZXQuaGFzKGhhc2hlZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldC5hZGQoaGFzaGVkKTtcbiAgICAgICAgfVxuICAgIH0gcmV0dXJuIHRydWU7IH0pKCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gY29udGFpbnNcbiAgICBpZiAoIShJc0RlZmluZWQoc2NoZW1hLmNvbnRhaW5zKSB8fCBJc051bWJlcihzY2hlbWEubWluQ29udGFpbnMpIHx8IElzTnVtYmVyKHNjaGVtYS5tYXhDb250YWlucykpKSB7XG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBleGl0XG4gICAgfVxuICAgIGNvbnN0IGNvbnRhaW5zU2NoZW1hID0gSXNEZWZpbmVkKHNjaGVtYS5jb250YWlucykgPyBzY2hlbWEuY29udGFpbnMgOiBOZXZlcigpO1xuICAgIGNvbnN0IGNvbnRhaW5zQ291bnQgPSB2YWx1ZS5yZWR1Y2UoKGFjYywgdmFsdWUpID0+IChWaXNpdChjb250YWluc1NjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpID8gYWNjICsgMSA6IGFjYyksIDApO1xuICAgIGlmIChjb250YWluc0NvdW50ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzTnVtYmVyKHNjaGVtYS5taW5Db250YWlucykgJiYgY29udGFpbnNDb3VudCA8IHNjaGVtYS5taW5Db250YWlucykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc051bWJlcihzY2hlbWEubWF4Q29udGFpbnMpICYmIGNvbnRhaW5zQ291bnQgPiBzY2hlbWEubWF4Q29udGFpbnMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIEZyb21Bc3luY0l0ZXJhdG9yKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gSXNBc3luY0l0ZXJhdG9yKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21CaWdJbnQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGlmICghSXNCaWdJbnQodmFsdWUpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSkgJiYgISh2YWx1ZSA8IHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0pICYmICEodmFsdWUgPiBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhpbXVtKSAmJiAhKHZhbHVlIDw9IHNjaGVtYS5tYXhpbXVtKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1pbmltdW0pICYmICEodmFsdWUgPj0gc2NoZW1hLm1pbmltdW0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubXVsdGlwbGVPZikgJiYgISh2YWx1ZSAlIHNjaGVtYS5tdWx0aXBsZU9mID09PSBCaWdJbnQoMCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBGcm9tQm9vbGVhbihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIElzQm9vbGVhbih2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tQ29uc3RydWN0b3Ioc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBWaXNpdChzY2hlbWEucmV0dXJucywgcmVmZXJlbmNlcywgdmFsdWUucHJvdG90eXBlKTtcbn1cbmZ1bmN0aW9uIEZyb21EYXRlKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoIUlzRGF0ZSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtVGltZXN0YW1wKSAmJiAhKHZhbHVlLmdldFRpbWUoKSA8IHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtVGltZXN0YW1wKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW1UaW1lc3RhbXApICYmICEodmFsdWUuZ2V0VGltZSgpID4gc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW1UaW1lc3RhbXApKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWF4aW11bVRpbWVzdGFtcCkgJiYgISh2YWx1ZS5nZXRUaW1lKCkgPD0gc2NoZW1hLm1heGltdW1UaW1lc3RhbXApKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWluaW11bVRpbWVzdGFtcCkgJiYgISh2YWx1ZS5nZXRUaW1lKCkgPj0gc2NoZW1hLm1pbmltdW1UaW1lc3RhbXApKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubXVsdGlwbGVPZlRpbWVzdGFtcCkgJiYgISh2YWx1ZS5nZXRUaW1lKCkgJSBzY2hlbWEubXVsdGlwbGVPZlRpbWVzdGFtcCA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIEZyb21GdW5jdGlvbihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIElzRnVuY3Rpb24odmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbUltcG9ydChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgY29uc3QgZGVmaW5pdGlvbnMgPSBnbG9iYWxUaGlzLk9iamVjdC52YWx1ZXMoc2NoZW1hLiRkZWZzKTtcbiAgICBjb25zdCB0YXJnZXQgPSBzY2hlbWEuJGRlZnNbc2NoZW1hLiRyZWZdO1xuICAgIHJldHVybiBWaXNpdCh0YXJnZXQsIFsuLi5yZWZlcmVuY2VzLCAuLi5kZWZpbml0aW9uc10sIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21JbnRlZ2VyKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoIUlzSW50ZWdlcih2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtKSAmJiAhKHZhbHVlIDwgc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEuZXhjbHVzaXZlTWluaW11bSkgJiYgISh2YWx1ZSA+IHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1heGltdW0pICYmICEodmFsdWUgPD0gc2NoZW1hLm1heGltdW0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWluaW11bSkgJiYgISh2YWx1ZSA+PSBzY2hlbWEubWluaW11bSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tdWx0aXBsZU9mKSAmJiAhKHZhbHVlICUgc2NoZW1hLm11bHRpcGxlT2YgPT09IDApKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBGcm9tSW50ZXJzZWN0KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBjb25zdCBjaGVjazEgPSBzY2hlbWEuYWxsT2YuZXZlcnkoKHNjaGVtYSkgPT4gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkpO1xuICAgIGlmIChzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID09PSBmYWxzZSkge1xuICAgICAgICBjb25zdCBrZXlQYXR0ZXJuID0gbmV3IFJlZ0V4cChLZXlPZlBhdHRlcm4oc2NoZW1hKSk7XG4gICAgICAgIGNvbnN0IGNoZWNrMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5ldmVyeSgoa2V5KSA9PiBrZXlQYXR0ZXJuLnRlc3Qoa2V5KSk7XG4gICAgICAgIHJldHVybiBjaGVjazEgJiYgY2hlY2syO1xuICAgIH1cbiAgICBlbHNlIGlmIChJc1NjaGVtYShzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzKSkge1xuICAgICAgICBjb25zdCBrZXlDaGVjayA9IG5ldyBSZWdFeHAoS2V5T2ZQYXR0ZXJuKHNjaGVtYSkpO1xuICAgICAgICBjb25zdCBjaGVjazIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkuZXZlcnkoKGtleSkgPT4ga2V5Q2hlY2sudGVzdChrZXkpIHx8IFZpc2l0KHNjaGVtYS51bmV2YWx1YXRlZFByb3BlcnRpZXMsIHJlZmVyZW5jZXMsIHZhbHVlW2tleV0pKTtcbiAgICAgICAgcmV0dXJuIGNoZWNrMSAmJiBjaGVjazI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY2hlY2sxO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEZyb21JdGVyYXRvcihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIElzSXRlcmF0b3IodmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbUxpdGVyYWwoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gc2NoZW1hLmNvbnN0O1xufVxuZnVuY3Rpb24gRnJvbU5ldmVyKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBGcm9tTm90KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gIVZpc2l0KHNjaGVtYS5ub3QsIHJlZmVyZW5jZXMsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21OdWxsKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gSXNOdWxsKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21OdW1iZXIoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGlmICghVHlwZVN5c3RlbVBvbGljeS5Jc051bWJlckxpa2UodmFsdWUpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSkgJiYgISh2YWx1ZSA8IHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0pICYmICEodmFsdWUgPiBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5taW5pbXVtKSAmJiAhKHZhbHVlID49IHNjaGVtYS5taW5pbXVtKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1heGltdW0pICYmICEodmFsdWUgPD0gc2NoZW1hLm1heGltdW0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubXVsdGlwbGVPZikgJiYgISh2YWx1ZSAlIHNjaGVtYS5tdWx0aXBsZU9mID09PSAwKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gRnJvbU9iamVjdChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgaWYgKCFUeXBlU3lzdGVtUG9saWN5LklzT2JqZWN0TGlrZSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5taW5Qcm9wZXJ0aWVzKSAmJiAhKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5sZW5ndGggPj0gc2NoZW1hLm1pblByb3BlcnRpZXMpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWF4UHJvcGVydGllcykgJiYgIShPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkubGVuZ3RoIDw9IHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGtub3duS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNjaGVtYS5wcm9wZXJ0aWVzKTtcbiAgICBmb3IgKGNvbnN0IGtub3duS2V5IG9mIGtub3duS2V5cykge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHNjaGVtYS5wcm9wZXJ0aWVzW2tub3duS2V5XTtcbiAgICAgICAgaWYgKHNjaGVtYS5yZXF1aXJlZCAmJiBzY2hlbWEucmVxdWlyZWQuaW5jbHVkZXMoa25vd25LZXkpKSB7XG4gICAgICAgICAgICBpZiAoIVZpc2l0KHByb3BlcnR5LCByZWZlcmVuY2VzLCB2YWx1ZVtrbm93bktleV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChFeHRlbmRzVW5kZWZpbmVkQ2hlY2socHJvcGVydHkpIHx8IElzQW55T3JVbmtub3duKHByb3BlcnR5KSkgJiYgIShrbm93bktleSBpbiB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoVHlwZVN5c3RlbVBvbGljeS5Jc0V4YWN0T3B0aW9uYWxQcm9wZXJ0eSh2YWx1ZSwga25vd25LZXkpICYmICFWaXNpdChwcm9wZXJ0eSwgcmVmZXJlbmNlcywgdmFsdWVba25vd25LZXldKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBmYWxzZSkge1xuICAgICAgICBjb25zdCB2YWx1ZUtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gICAgICAgIC8vIG9wdGltaXphdGlvbjogdmFsdWUgaXMgdmFsaWQgaWYgc2NoZW1hS2V5IGxlbmd0aCBtYXRjaGVzIHRoZSB2YWx1ZUtleSBsZW5ndGhcbiAgICAgICAgaWYgKHNjaGVtYS5yZXF1aXJlZCAmJiBzY2hlbWEucmVxdWlyZWQubGVuZ3RoID09PSBrbm93bktleXMubGVuZ3RoICYmIHZhbHVlS2V5cy5sZW5ndGggPT09IGtub3duS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlS2V5cy5ldmVyeSgodmFsdWVLZXkpID0+IGtub3duS2V5cy5pbmNsdWRlcyh2YWx1ZUtleSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlS2V5cy5ldmVyeSgoa2V5KSA9PiBrbm93bktleXMuaW5jbHVkZXMoa2V5KSB8fCBWaXNpdChzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMsIHJlZmVyZW5jZXMsIHZhbHVlW2tleV0pKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEZyb21Qcm9taXNlKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gSXNQcm9taXNlKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21SZWNvcmQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGlmICghVHlwZVN5c3RlbVBvbGljeS5Jc1JlY29yZExpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWluUHJvcGVydGllcykgJiYgIShPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkubGVuZ3RoID49IHNjaGVtYS5taW5Qcm9wZXJ0aWVzKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1heFByb3BlcnRpZXMpICYmICEoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmxlbmd0aCA8PSBzY2hlbWEubWF4UHJvcGVydGllcykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBbcGF0dGVybktleSwgcGF0dGVyblNjaGVtYV0gPSBPYmplY3QuZW50cmllcyhzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpWzBdO1xuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChwYXR0ZXJuS2V5KTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICBjb25zdCBjaGVjazEgPSBPYmplY3QuZW50cmllcyh2YWx1ZSkuZXZlcnkoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICByZXR1cm4gKHJlZ2V4LnRlc3Qoa2V5KSkgPyBWaXNpdChwYXR0ZXJuU2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkgOiB0cnVlO1xuICAgIH0pO1xuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IGNoZWNrMiA9IHR5cGVvZiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09ICdvYmplY3QnID8gT2JqZWN0LmVudHJpZXModmFsdWUpLmV2ZXJ5KChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgcmV0dXJuICghcmVnZXgudGVzdChrZXkpKSA/IFZpc2l0KHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcywgcmVmZXJlbmNlcywgdmFsdWUpIDogdHJ1ZTtcbiAgICB9KSA6IHRydWU7XG4gICAgY29uc3QgY2hlY2szID0gc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBmYWxzZVxuICAgICAgICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5ldmVyeSgoa2V5KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVnZXgudGVzdChrZXkpO1xuICAgICAgICB9KVxuICAgICAgICA6IHRydWU7XG4gICAgcmV0dXJuIGNoZWNrMSAmJiBjaGVjazIgJiYgY2hlY2szO1xufVxuZnVuY3Rpb24gRnJvbVJlZihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFZpc2l0KERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyksIHJlZmVyZW5jZXMsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21SZWdFeHAoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChzY2hlbWEuc291cmNlLCBzY2hlbWEuZmxhZ3MpO1xuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1pbkxlbmd0aCkpIHtcbiAgICAgICAgaWYgKCEodmFsdWUubGVuZ3RoID49IHNjaGVtYS5taW5MZW5ndGgpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhMZW5ndGgpKSB7XG4gICAgICAgIGlmICghKHZhbHVlLmxlbmd0aCA8PSBzY2hlbWEubWF4TGVuZ3RoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlZ2V4LnRlc3QodmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbVN0cmluZyhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgaWYgKCFJc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5taW5MZW5ndGgpKSB7XG4gICAgICAgIGlmICghKHZhbHVlLmxlbmd0aCA+PSBzY2hlbWEubWluTGVuZ3RoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWF4TGVuZ3RoKSkge1xuICAgICAgICBpZiAoISh2YWx1ZS5sZW5ndGggPD0gc2NoZW1hLm1heExlbmd0aCkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLnBhdHRlcm4pKSB7XG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChzY2hlbWEucGF0dGVybik7XG4gICAgICAgIGlmICghcmVnZXgudGVzdCh2YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLmZvcm1hdCkpIHtcbiAgICAgICAgaWYgKCFGb3JtYXRSZWdpc3RyeS5IYXMoc2NoZW1hLmZvcm1hdCkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IGZ1bmMgPSBGb3JtYXRSZWdpc3RyeS5HZXQoc2NoZW1hLmZvcm1hdCk7XG4gICAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBGcm9tU3ltYm9sKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gSXNTeW1ib2wodmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbVRlbXBsYXRlTGl0ZXJhbChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3RyaW5nKHZhbHVlKSAmJiBuZXcgUmVnRXhwKHNjaGVtYS5wYXR0ZXJuKS50ZXN0KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21UaGlzKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gVmlzaXQoRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSwgcmVmZXJlbmNlcywgdmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbVR1cGxlKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoIUlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHNjaGVtYS5pdGVtcyA9PT0gdW5kZWZpbmVkICYmICEodmFsdWUubGVuZ3RoID09PSAwKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghKHZhbHVlLmxlbmd0aCA9PT0gc2NoZW1hLm1heEl0ZW1zKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghc2NoZW1hLml0ZW1zKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYS5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIVZpc2l0KHNjaGVtYS5pdGVtc1tpXSwgcmVmZXJlbmNlcywgdmFsdWVbaV0pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIEZyb21VbmRlZmluZWQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBJc1VuZGVmaW5lZCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tVW5pb24oc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBzY2hlbWEuYW55T2Yuc29tZSgoaW5uZXIpID0+IFZpc2l0KGlubmVyLCByZWZlcmVuY2VzLCB2YWx1ZSkpO1xufVxuZnVuY3Rpb24gRnJvbVVpbnQ4QXJyYXkoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGlmICghSXNVaW50OEFycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1heEJ5dGVMZW5ndGgpICYmICEodmFsdWUubGVuZ3RoIDw9IHNjaGVtYS5tYXhCeXRlTGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1pbkJ5dGVMZW5ndGgpICYmICEodmFsdWUubGVuZ3RoID49IHNjaGVtYS5taW5CeXRlTGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gRnJvbVVua25vd24oc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gRnJvbVZvaWQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBUeXBlU3lzdGVtUG9saWN5LklzVm9pZExpa2UodmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbUtpbmQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGlmICghVHlwZVJlZ2lzdHJ5LkhhcyhzY2hlbWFbS2luZF0pKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgZnVuYyA9IFR5cGVSZWdpc3RyeS5HZXQoc2NoZW1hW0tpbmRdKTtcbiAgICByZXR1cm4gZnVuYyhzY2hlbWEsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIFZpc2l0KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBjb25zdCByZWZlcmVuY2VzXyA9IElzRGVmaW5lZChzY2hlbWEuJGlkKSA/IFB1c2hyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSA6IHJlZmVyZW5jZXM7XG4gICAgY29uc3Qgc2NoZW1hXyA9IHNjaGVtYTtcbiAgICBzd2l0Y2ggKHNjaGVtYV9bS2luZF0pIHtcbiAgICAgICAgY2FzZSAnQW55JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQW55KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0FyZ3VtZW50JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQXJndW1lbnQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnQXJyYXknOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21BcnJheShzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdBc3luY0l0ZXJhdG9yJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQXN5bmNJdGVyYXRvcihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdCaWdJbnQnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21CaWdJbnQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnQm9vbGVhbic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUJvb2xlYW4oc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnQ29uc3RydWN0b3InOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Db25zdHJ1Y3RvcihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdEYXRlJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tRGF0ZShzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdGdW5jdGlvbic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUZ1bmN0aW9uKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0ltcG9ydCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUltcG9ydChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdJbnRlZ2VyJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tSW50ZWdlcihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdJbnRlcnNlY3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21JbnRlcnNlY3Qoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnSXRlcmF0b3InOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21JdGVyYXRvcihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdMaXRlcmFsJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tTGl0ZXJhbChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdOZXZlcic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbU5ldmVyKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ05vdCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbU5vdChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdOdWxsJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tTnVsbChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdOdW1iZXInOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21OdW1iZXIoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tT2JqZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1Byb21pc2UnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Qcm9taXNlKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1JlY29yZCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVJlY29yZChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdSZWYnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWYoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnUmVnRXhwJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tUmVnRXhwKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1N0cmluZyc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVN0cmluZyhzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdTeW1ib2wnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21TeW1ib2woc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVGVtcGxhdGVMaXRlcmFsJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVGVtcGxhdGVMaXRlcmFsKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1RoaXMnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21UaGlzKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1R1cGxlJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVHVwbGUoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVW5kZWZpbmVkJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVW5kZWZpbmVkKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1VuaW9uJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVW5pb24oc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVWludDhBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVVpbnQ4QXJyYXkoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVW5rbm93bic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVVua25vd24oc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVm9pZCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVZvaWQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmICghVHlwZVJlZ2lzdHJ5LkhhcyhzY2hlbWFfW0tpbmRdKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVmFsdWVDaGVja1Vua25vd25UeXBlRXJyb3Ioc2NoZW1hXyk7XG4gICAgICAgICAgICByZXR1cm4gRnJvbUtpbmQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICB9XG59XG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSB2YWx1ZSBtYXRjaGVzIHRoZSBnaXZlbiB0eXBlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENoZWNrKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gYXJncy5sZW5ndGggPT09IDMgPyBWaXNpdChhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKSA6IFZpc2l0KGFyZ3NbMF0sIFtdLCBhcmdzWzFdKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgVHlwZVN5c3RlbVBvbGljeSB9IGZyb20gJy4uL3N5c3RlbS9pbmRleC5tanMnO1xuaW1wb3J0IHsgS2V5T2ZQYXR0ZXJuIH0gZnJvbSAnLi4vdHlwZS9rZXlvZi9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHlwZVJlZ2lzdHJ5LCBGb3JtYXRSZWdpc3RyeSB9IGZyb20gJy4uL3R5cGUvcmVnaXN0cnkvaW5kZXgubWpzJztcbmltcG9ydCB7IEV4dGVuZHNVbmRlZmluZWRDaGVjayB9IGZyb20gJy4uL3R5cGUvZXh0ZW5kcy9leHRlbmRzLXVuZGVmaW5lZC5tanMnO1xuaW1wb3J0IHsgR2V0RXJyb3JGdW5jdGlvbiB9IGZyb20gJy4vZnVuY3Rpb24ubWpzJztcbmltcG9ydCB7IFR5cGVCb3hFcnJvciB9IGZyb20gJy4uL3R5cGUvZXJyb3IvaW5kZXgubWpzJztcbmltcG9ydCB7IERlcmVmIH0gZnJvbSAnLi4vdmFsdWUvZGVyZWYvaW5kZXgubWpzJztcbmltcG9ydCB7IEhhc2ggfSBmcm9tICcuLi92YWx1ZS9oYXNoL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDaGVjayB9IGZyb20gJy4uL3ZhbHVlL2NoZWNrL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vdHlwZS9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBOZXZlciB9IGZyb20gJy4uL3R5cGUvbmV2ZXIvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVmFsdWVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmltcG9ydCB7IElzQXJyYXksIElzVWludDhBcnJheSwgSXNEYXRlLCBJc1Byb21pc2UsIElzRnVuY3Rpb24sIElzQXN5bmNJdGVyYXRvciwgSXNJdGVyYXRvciwgSXNCb29sZWFuLCBJc051bWJlciwgSXNCaWdJbnQsIElzU3RyaW5nLCBJc1N5bWJvbCwgSXNJbnRlZ2VyLCBJc051bGwsIElzVW5kZWZpbmVkIH0gZnJvbSAnLi4vdmFsdWUvZ3VhcmQvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVmFsdWVFcnJvclR5cGVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IHZhciBWYWx1ZUVycm9yVHlwZTtcbihmdW5jdGlvbiAoVmFsdWVFcnJvclR5cGUpIHtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkFycmF5Q29udGFpbnNcIl0gPSAwXSA9IFwiQXJyYXlDb250YWluc1wiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiQXJyYXlNYXhDb250YWluc1wiXSA9IDFdID0gXCJBcnJheU1heENvbnRhaW5zXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJBcnJheU1heEl0ZW1zXCJdID0gMl0gPSBcIkFycmF5TWF4SXRlbXNcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkFycmF5TWluQ29udGFpbnNcIl0gPSAzXSA9IFwiQXJyYXlNaW5Db250YWluc1wiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiQXJyYXlNaW5JdGVtc1wiXSA9IDRdID0gXCJBcnJheU1pbkl0ZW1zXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJBcnJheVVuaXF1ZUl0ZW1zXCJdID0gNV0gPSBcIkFycmF5VW5pcXVlSXRlbXNcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkFycmF5XCJdID0gNl0gPSBcIkFycmF5XCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJBc3luY0l0ZXJhdG9yXCJdID0gN10gPSBcIkFzeW5jSXRlcmF0b3JcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkJpZ0ludEV4Y2x1c2l2ZU1heGltdW1cIl0gPSA4XSA9IFwiQmlnSW50RXhjbHVzaXZlTWF4aW11bVwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiQmlnSW50RXhjbHVzaXZlTWluaW11bVwiXSA9IDldID0gXCJCaWdJbnRFeGNsdXNpdmVNaW5pbXVtXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJCaWdJbnRNYXhpbXVtXCJdID0gMTBdID0gXCJCaWdJbnRNYXhpbXVtXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJCaWdJbnRNaW5pbXVtXCJdID0gMTFdID0gXCJCaWdJbnRNaW5pbXVtXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJCaWdJbnRNdWx0aXBsZU9mXCJdID0gMTJdID0gXCJCaWdJbnRNdWx0aXBsZU9mXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJCaWdJbnRcIl0gPSAxM10gPSBcIkJpZ0ludFwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiQm9vbGVhblwiXSA9IDE0XSA9IFwiQm9vbGVhblwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiRGF0ZUV4Y2x1c2l2ZU1heGltdW1UaW1lc3RhbXBcIl0gPSAxNV0gPSBcIkRhdGVFeGNsdXNpdmVNYXhpbXVtVGltZXN0YW1wXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJEYXRlRXhjbHVzaXZlTWluaW11bVRpbWVzdGFtcFwiXSA9IDE2XSA9IFwiRGF0ZUV4Y2x1c2l2ZU1pbmltdW1UaW1lc3RhbXBcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkRhdGVNYXhpbXVtVGltZXN0YW1wXCJdID0gMTddID0gXCJEYXRlTWF4aW11bVRpbWVzdGFtcFwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiRGF0ZU1pbmltdW1UaW1lc3RhbXBcIl0gPSAxOF0gPSBcIkRhdGVNaW5pbXVtVGltZXN0YW1wXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJEYXRlTXVsdGlwbGVPZlRpbWVzdGFtcFwiXSA9IDE5XSA9IFwiRGF0ZU11bHRpcGxlT2ZUaW1lc3RhbXBcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkRhdGVcIl0gPSAyMF0gPSBcIkRhdGVcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkZ1bmN0aW9uXCJdID0gMjFdID0gXCJGdW5jdGlvblwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiSW50ZWdlckV4Y2x1c2l2ZU1heGltdW1cIl0gPSAyMl0gPSBcIkludGVnZXJFeGNsdXNpdmVNYXhpbXVtXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJJbnRlZ2VyRXhjbHVzaXZlTWluaW11bVwiXSA9IDIzXSA9IFwiSW50ZWdlckV4Y2x1c2l2ZU1pbmltdW1cIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkludGVnZXJNYXhpbXVtXCJdID0gMjRdID0gXCJJbnRlZ2VyTWF4aW11bVwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiSW50ZWdlck1pbmltdW1cIl0gPSAyNV0gPSBcIkludGVnZXJNaW5pbXVtXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJJbnRlZ2VyTXVsdGlwbGVPZlwiXSA9IDI2XSA9IFwiSW50ZWdlck11bHRpcGxlT2ZcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkludGVnZXJcIl0gPSAyN10gPSBcIkludGVnZXJcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIkludGVyc2VjdFVuZXZhbHVhdGVkUHJvcGVydGllc1wiXSA9IDI4XSA9IFwiSW50ZXJzZWN0VW5ldmFsdWF0ZWRQcm9wZXJ0aWVzXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJJbnRlcnNlY3RcIl0gPSAyOV0gPSBcIkludGVyc2VjdFwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiSXRlcmF0b3JcIl0gPSAzMF0gPSBcIkl0ZXJhdG9yXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJLaW5kXCJdID0gMzFdID0gXCJLaW5kXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJMaXRlcmFsXCJdID0gMzJdID0gXCJMaXRlcmFsXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJOZXZlclwiXSA9IDMzXSA9IFwiTmV2ZXJcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIk5vdFwiXSA9IDM0XSA9IFwiTm90XCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJOdWxsXCJdID0gMzVdID0gXCJOdWxsXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJOdW1iZXJFeGNsdXNpdmVNYXhpbXVtXCJdID0gMzZdID0gXCJOdW1iZXJFeGNsdXNpdmVNYXhpbXVtXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJOdW1iZXJFeGNsdXNpdmVNaW5pbXVtXCJdID0gMzddID0gXCJOdW1iZXJFeGNsdXNpdmVNaW5pbXVtXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJOdW1iZXJNYXhpbXVtXCJdID0gMzhdID0gXCJOdW1iZXJNYXhpbXVtXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJOdW1iZXJNaW5pbXVtXCJdID0gMzldID0gXCJOdW1iZXJNaW5pbXVtXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJOdW1iZXJNdWx0aXBsZU9mXCJdID0gNDBdID0gXCJOdW1iZXJNdWx0aXBsZU9mXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJOdW1iZXJcIl0gPSA0MV0gPSBcIk51bWJlclwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiT2JqZWN0QWRkaXRpb25hbFByb3BlcnRpZXNcIl0gPSA0Ml0gPSBcIk9iamVjdEFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJPYmplY3RNYXhQcm9wZXJ0aWVzXCJdID0gNDNdID0gXCJPYmplY3RNYXhQcm9wZXJ0aWVzXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJPYmplY3RNaW5Qcm9wZXJ0aWVzXCJdID0gNDRdID0gXCJPYmplY3RNaW5Qcm9wZXJ0aWVzXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJPYmplY3RSZXF1aXJlZFByb3BlcnR5XCJdID0gNDVdID0gXCJPYmplY3RSZXF1aXJlZFByb3BlcnR5XCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJPYmplY3RcIl0gPSA0Nl0gPSBcIk9iamVjdFwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiUHJvbWlzZVwiXSA9IDQ3XSA9IFwiUHJvbWlzZVwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiUmVnRXhwXCJdID0gNDhdID0gXCJSZWdFeHBcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIlN0cmluZ0Zvcm1hdFVua25vd25cIl0gPSA0OV0gPSBcIlN0cmluZ0Zvcm1hdFVua25vd25cIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIlN0cmluZ0Zvcm1hdFwiXSA9IDUwXSA9IFwiU3RyaW5nRm9ybWF0XCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJTdHJpbmdNYXhMZW5ndGhcIl0gPSA1MV0gPSBcIlN0cmluZ01heExlbmd0aFwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiU3RyaW5nTWluTGVuZ3RoXCJdID0gNTJdID0gXCJTdHJpbmdNaW5MZW5ndGhcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIlN0cmluZ1BhdHRlcm5cIl0gPSA1M10gPSBcIlN0cmluZ1BhdHRlcm5cIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIlN0cmluZ1wiXSA9IDU0XSA9IFwiU3RyaW5nXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJTeW1ib2xcIl0gPSA1NV0gPSBcIlN5bWJvbFwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiVHVwbGVMZW5ndGhcIl0gPSA1Nl0gPSBcIlR1cGxlTGVuZ3RoXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJUdXBsZVwiXSA9IDU3XSA9IFwiVHVwbGVcIjtcbiAgICBWYWx1ZUVycm9yVHlwZVtWYWx1ZUVycm9yVHlwZVtcIlVpbnQ4QXJyYXlNYXhCeXRlTGVuZ3RoXCJdID0gNThdID0gXCJVaW50OEFycmF5TWF4Qnl0ZUxlbmd0aFwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiVWludDhBcnJheU1pbkJ5dGVMZW5ndGhcIl0gPSA1OV0gPSBcIlVpbnQ4QXJyYXlNaW5CeXRlTGVuZ3RoXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJVaW50OEFycmF5XCJdID0gNjBdID0gXCJVaW50OEFycmF5XCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJVbmRlZmluZWRcIl0gPSA2MV0gPSBcIlVuZGVmaW5lZFwiO1xuICAgIFZhbHVlRXJyb3JUeXBlW1ZhbHVlRXJyb3JUeXBlW1wiVW5pb25cIl0gPSA2Ml0gPSBcIlVuaW9uXCI7XG4gICAgVmFsdWVFcnJvclR5cGVbVmFsdWVFcnJvclR5cGVbXCJWb2lkXCJdID0gNjNdID0gXCJWb2lkXCI7XG59KShWYWx1ZUVycm9yVHlwZSB8fCAoVmFsdWVFcnJvclR5cGUgPSB7fSkpO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZUVycm9yc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgVmFsdWVFcnJvcnNVbmtub3duVHlwZUVycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihzY2hlbWEpIHtcbiAgICAgICAgc3VwZXIoJ1Vua25vd24gdHlwZScpO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICB9XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEVzY2FwZUtleVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBFc2NhcGVLZXkoa2V5KSB7XG4gICAgcmV0dXJuIGtleS5yZXBsYWNlKC9+L2csICd+MCcpLnJlcGxhY2UoL1xcLy9nLCAnfjEnKTsgLy8gUkZDNjkwMSBQYXRoXG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEd1YXJkc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBJc0RlZmluZWQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVmFsdWVFcnJvckl0ZXJhdG9yXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBWYWx1ZUVycm9ySXRlcmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGl0ZXJhdG9yKSB7XG4gICAgICAgIHRoaXMuaXRlcmF0b3IgPSBpdGVyYXRvcjtcbiAgICB9XG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZXJhdG9yO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyB0aGUgZmlyc3QgdmFsdWUgZXJyb3Igb3IgdW5kZWZpbmVkIGlmIG5vIGVycm9ycyAqL1xuICAgIEZpcnN0KCkge1xuICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy5pdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHJldHVybiBuZXh0LmRvbmUgPyB1bmRlZmluZWQgOiBuZXh0LnZhbHVlO1xuICAgIH1cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDcmVhdGVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBDcmVhdGUoZXJyb3JUeXBlLCBzY2hlbWEsIHBhdGgsIHZhbHVlLCBlcnJvcnMgPSBbXSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IGVycm9yVHlwZSxcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICBwYXRoLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgbWVzc2FnZTogR2V0RXJyb3JGdW5jdGlvbigpKHsgZXJyb3JUeXBlLCBwYXRoLCBzY2hlbWEsIHZhbHVlLCBlcnJvcnMgfSksXG4gICAgICAgIGVycm9ycyxcbiAgICB9O1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24qIEZyb21Bbnkoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkgeyB9XG5mdW5jdGlvbiogRnJvbUFyZ3VtZW50KHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHsgfVxuZnVuY3Rpb24qIEZyb21BcnJheShzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4geWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkFycmF5LCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWluSXRlbXMpICYmICEodmFsdWUubGVuZ3RoID49IHNjaGVtYS5taW5JdGVtcykpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkFycmF5TWluSXRlbXMsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhJdGVtcykgJiYgISh2YWx1ZS5sZW5ndGggPD0gc2NoZW1hLm1heEl0ZW1zKSkge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuQXJyYXlNYXhJdGVtcywgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgeWllbGQqIFZpc2l0KHNjaGVtYS5pdGVtcywgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHtpfWAsIHZhbHVlW2ldKTtcbiAgICB9XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgaWYgKHNjaGVtYS51bmlxdWVJdGVtcyA9PT0gdHJ1ZSAmJiAhKChmdW5jdGlvbiAoKSB7IGNvbnN0IHNldCA9IG5ldyBTZXQoKTsgZm9yIChjb25zdCBlbGVtZW50IG9mIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGhhc2hlZCA9IEhhc2goZWxlbWVudCk7XG4gICAgICAgIGlmIChzZXQuaGFzKGhhc2hlZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldC5hZGQoaGFzaGVkKTtcbiAgICAgICAgfVxuICAgIH0gcmV0dXJuIHRydWU7IH0pKCkpKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5BcnJheVVuaXF1ZUl0ZW1zLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgLy8gY29udGFpbnNcbiAgICBpZiAoIShJc0RlZmluZWQoc2NoZW1hLmNvbnRhaW5zKSB8fCBJc0RlZmluZWQoc2NoZW1hLm1pbkNvbnRhaW5zKSB8fCBJc0RlZmluZWQoc2NoZW1hLm1heENvbnRhaW5zKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb250YWluc1NjaGVtYSA9IElzRGVmaW5lZChzY2hlbWEuY29udGFpbnMpID8gc2NoZW1hLmNvbnRhaW5zIDogTmV2ZXIoKTtcbiAgICBjb25zdCBjb250YWluc0NvdW50ID0gdmFsdWUucmVkdWNlKChhY2MsIHZhbHVlLCBpbmRleCkgPT4gKFZpc2l0KGNvbnRhaW5zU2NoZW1hLCByZWZlcmVuY2VzLCBgJHtwYXRofSR7aW5kZXh9YCwgdmFsdWUpLm5leHQoKS5kb25lID09PSB0cnVlID8gYWNjICsgMSA6IGFjYyksIDApO1xuICAgIGlmIChjb250YWluc0NvdW50ID09PSAwKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5BcnJheUNvbnRhaW5zLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKElzTnVtYmVyKHNjaGVtYS5taW5Db250YWlucykgJiYgY29udGFpbnNDb3VudCA8IHNjaGVtYS5taW5Db250YWlucykge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuQXJyYXlNaW5Db250YWlucywgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc051bWJlcihzY2hlbWEubWF4Q29udGFpbnMpICYmIGNvbnRhaW5zQ291bnQgPiBzY2hlbWEubWF4Q29udGFpbnMpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkFycmF5TWF4Q29udGFpbnMsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uKiBGcm9tQXN5bmNJdGVyYXRvcihzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0FzeW5jSXRlcmF0b3IodmFsdWUpKVxuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuQXN5bmNJdGVyYXRvciwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiogRnJvbUJpZ0ludChzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0JpZ0ludCh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuQmlnSW50LCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtKSAmJiAhKHZhbHVlIDwgc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0pKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5CaWdJbnRFeGNsdXNpdmVNYXhpbXVtLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEuZXhjbHVzaXZlTWluaW11bSkgJiYgISh2YWx1ZSA+IHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtKSkge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuQmlnSW50RXhjbHVzaXZlTWluaW11bSwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1heGltdW0pICYmICEodmFsdWUgPD0gc2NoZW1hLm1heGltdW0pKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5CaWdJbnRNYXhpbXVtLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWluaW11bSkgJiYgISh2YWx1ZSA+PSBzY2hlbWEubWluaW11bSkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkJpZ0ludE1pbmltdW0sIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tdWx0aXBsZU9mKSAmJiAhKHZhbHVlICUgc2NoZW1hLm11bHRpcGxlT2YgPT09IEJpZ0ludCgwKSkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkJpZ0ludE11bHRpcGxlT2YsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uKiBGcm9tQm9vbGVhbihzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0Jvb2xlYW4odmFsdWUpKVxuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuQm9vbGVhbiwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiogRnJvbUNvbnN0cnVjdG9yKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICB5aWVsZCogVmlzaXQoc2NoZW1hLnJldHVybnMsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlLnByb3RvdHlwZSk7XG59XG5mdW5jdGlvbiogRnJvbURhdGUoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGlmICghSXNEYXRlKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5EYXRlLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtVGltZXN0YW1wKSAmJiAhKHZhbHVlLmdldFRpbWUoKSA8IHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtVGltZXN0YW1wKSkge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuRGF0ZUV4Y2x1c2l2ZU1heGltdW1UaW1lc3RhbXAsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtVGltZXN0YW1wKSAmJiAhKHZhbHVlLmdldFRpbWUoKSA+IHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtVGltZXN0YW1wKSkge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuRGF0ZUV4Y2x1c2l2ZU1pbmltdW1UaW1lc3RhbXAsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhpbXVtVGltZXN0YW1wKSAmJiAhKHZhbHVlLmdldFRpbWUoKSA8PSBzY2hlbWEubWF4aW11bVRpbWVzdGFtcCkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkRhdGVNYXhpbXVtVGltZXN0YW1wLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWluaW11bVRpbWVzdGFtcCkgJiYgISh2YWx1ZS5nZXRUaW1lKCkgPj0gc2NoZW1hLm1pbmltdW1UaW1lc3RhbXApKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5EYXRlTWluaW11bVRpbWVzdGFtcCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm11bHRpcGxlT2ZUaW1lc3RhbXApICYmICEodmFsdWUuZ2V0VGltZSgpICUgc2NoZW1hLm11bHRpcGxlT2ZUaW1lc3RhbXAgPT09IDApKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5EYXRlTXVsdGlwbGVPZlRpbWVzdGFtcCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24qIEZyb21GdW5jdGlvbihzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKCFJc0Z1bmN0aW9uKHZhbHVlKSlcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkZ1bmN0aW9uLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uKiBGcm9tSW1wb3J0KHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBjb25zdCBkZWZpbml0aW9ucyA9IGdsb2JhbFRoaXMuT2JqZWN0LnZhbHVlcyhzY2hlbWEuJGRlZnMpO1xuICAgIGNvbnN0IHRhcmdldCA9IHNjaGVtYS4kZGVmc1tzY2hlbWEuJHJlZl07XG4gICAgeWllbGQqIFZpc2l0KHRhcmdldCwgWy4uLnJlZmVyZW5jZXMsIC4uLmRlZmluaXRpb25zXSwgcGF0aCwgdmFsdWUpO1xufVxuZnVuY3Rpb24qIEZyb21JbnRlZ2VyKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIUlzSW50ZWdlcih2YWx1ZSkpXG4gICAgICAgIHJldHVybiB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuSW50ZWdlciwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSkgJiYgISh2YWx1ZSA8IHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtKSkge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuSW50ZWdlckV4Y2x1c2l2ZU1heGltdW0sIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtKSAmJiAhKHZhbHVlID4gc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0pKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5JbnRlZ2VyRXhjbHVzaXZlTWluaW11bSwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1heGltdW0pICYmICEodmFsdWUgPD0gc2NoZW1hLm1heGltdW0pKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5JbnRlZ2VyTWF4aW11bSwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1pbmltdW0pICYmICEodmFsdWUgPj0gc2NoZW1hLm1pbmltdW0pKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5JbnRlZ2VyTWluaW11bSwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm11bHRpcGxlT2YpICYmICEodmFsdWUgJSBzY2hlbWEubXVsdGlwbGVPZiA9PT0gMCkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLkludGVnZXJNdWx0aXBsZU9mLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiogRnJvbUludGVyc2VjdChzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgbGV0IGhhc0Vycm9yID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBpbm5lciBvZiBzY2hlbWEuYWxsT2YpIHtcbiAgICAgICAgZm9yIChjb25zdCBlcnJvciBvZiBWaXNpdChpbm5lciwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpKSB7XG4gICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICB5aWVsZCBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaGFzRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5JbnRlcnNlY3QsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hLnVuZXZhbHVhdGVkUHJvcGVydGllcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc3Qga2V5Q2hlY2sgPSBuZXcgUmVnRXhwKEtleU9mUGF0dGVybihzY2hlbWEpKTtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZUtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICgha2V5Q2hlY2sudGVzdCh2YWx1ZUtleSkpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuSW50ZXJzZWN0VW5ldmFsdWF0ZWRQcm9wZXJ0aWVzLCBzY2hlbWEsIGAke3BhdGh9LyR7dmFsdWVLZXl9YCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2NoZW1hLnVuZXZhbHVhdGVkUHJvcGVydGllcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgY29uc3Qga2V5Q2hlY2sgPSBuZXcgUmVnRXhwKEtleU9mUGF0dGVybihzY2hlbWEpKTtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZUtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICgha2V5Q2hlY2sudGVzdCh2YWx1ZUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gVmlzaXQoc2NoZW1hLnVuZXZhbHVhdGVkUHJvcGVydGllcywgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHt2YWx1ZUtleX1gLCB2YWx1ZVt2YWx1ZUtleV0pLm5leHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoIW5leHQuZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgbmV4dC52YWx1ZTsgLy8geWllbGQgaW50ZXJpb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uKiBGcm9tSXRlcmF0b3Ioc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGlmICghSXNJdGVyYXRvcih2YWx1ZSkpXG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5JdGVyYXRvciwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiogRnJvbUxpdGVyYWwoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGlmICghKHZhbHVlID09PSBzY2hlbWEuY29uc3QpKVxuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuTGl0ZXJhbCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiogRnJvbU5ldmVyKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuTmV2ZXIsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xufVxuZnVuY3Rpb24qIEZyb21Ob3Qoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGlmIChWaXNpdChzY2hlbWEubm90LCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkubmV4dCgpLmRvbmUgPT09IHRydWUpXG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5Ob3QsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xufVxuZnVuY3Rpb24qIEZyb21OdWxsKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIUlzTnVsbCh2YWx1ZSkpXG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5OdWxsLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uKiBGcm9tTnVtYmVyKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIVR5cGVTeXN0ZW1Qb2xpY3kuSXNOdW1iZXJMaWtlKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5OdW1iZXIsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0pICYmICEodmFsdWUgPCBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLk51bWJlckV4Y2x1c2l2ZU1heGltdW0sIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtKSAmJiAhKHZhbHVlID4gc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0pKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5OdW1iZXJFeGNsdXNpdmVNaW5pbXVtLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWF4aW11bSkgJiYgISh2YWx1ZSA8PSBzY2hlbWEubWF4aW11bSkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLk51bWJlck1heGltdW0sIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5taW5pbXVtKSAmJiAhKHZhbHVlID49IHNjaGVtYS5taW5pbXVtKSkge1xuICAgICAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuTnVtYmVyTWluaW11bSwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm11bHRpcGxlT2YpICYmICEodmFsdWUgJSBzY2hlbWEubXVsdGlwbGVPZiA9PT0gMCkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLk51bWJlck11bHRpcGxlT2YsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uKiBGcm9tT2JqZWN0KHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIVR5cGVTeXN0ZW1Qb2xpY3kuSXNPYmplY3RMaWtlKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5PYmplY3QsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1pblByb3BlcnRpZXMpICYmICEoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmxlbmd0aCA+PSBzY2hlbWEubWluUHJvcGVydGllcykpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLk9iamVjdE1pblByb3BlcnRpZXMsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSAmJiAhKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5sZW5ndGggPD0gc2NoZW1hLm1heFByb3BlcnRpZXMpKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5PYmplY3RNYXhQcm9wZXJ0aWVzLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgY29uc3QgcmVxdWlyZWRLZXlzID0gQXJyYXkuaXNBcnJheShzY2hlbWEucmVxdWlyZWQpID8gc2NoZW1hLnJlcXVpcmVkIDogW107XG4gICAgY29uc3Qga25vd25LZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc2NoZW1hLnByb3BlcnRpZXMpO1xuICAgIGNvbnN0IHVua25vd25LZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICAgIGZvciAoY29uc3QgcmVxdWlyZWRLZXkgb2YgcmVxdWlyZWRLZXlzKSB7XG4gICAgICAgIGlmICh1bmtub3duS2V5cy5pbmNsdWRlcyhyZXF1aXJlZEtleSkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLk9iamVjdFJlcXVpcmVkUHJvcGVydHksIHNjaGVtYS5wcm9wZXJ0aWVzW3JlcXVpcmVkS2V5XSwgYCR7cGF0aH0vJHtFc2NhcGVLZXkocmVxdWlyZWRLZXkpfWAsIHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIGlmIChzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IGZhbHNlKSB7XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWVLZXkgb2YgdW5rbm93bktleXMpIHtcbiAgICAgICAgICAgIGlmICgha25vd25LZXlzLmluY2x1ZGVzKHZhbHVlS2V5KSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5PYmplY3RBZGRpdGlvbmFsUHJvcGVydGllcywgc2NoZW1hLCBgJHtwYXRofS8ke0VzY2FwZUtleSh2YWx1ZUtleSl9YCwgdmFsdWVbdmFsdWVLZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZUtleSBvZiB1bmtub3duS2V5cykge1xuICAgICAgICAgICAgaWYgKGtub3duS2V5cy5pbmNsdWRlcyh2YWx1ZUtleSkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB5aWVsZCogVmlzaXQoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLCByZWZlcmVuY2VzLCBgJHtwYXRofS8ke0VzY2FwZUtleSh2YWx1ZUtleSl9YCwgdmFsdWVbdmFsdWVLZXldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtub3duS2V5IG9mIGtub3duS2V5cykge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHNjaGVtYS5wcm9wZXJ0aWVzW2tub3duS2V5XTtcbiAgICAgICAgaWYgKHNjaGVtYS5yZXF1aXJlZCAmJiBzY2hlbWEucmVxdWlyZWQuaW5jbHVkZXMoa25vd25LZXkpKSB7XG4gICAgICAgICAgICB5aWVsZCogVmlzaXQocHJvcGVydHksIHJlZmVyZW5jZXMsIGAke3BhdGh9LyR7RXNjYXBlS2V5KGtub3duS2V5KX1gLCB2YWx1ZVtrbm93bktleV0pO1xuICAgICAgICAgICAgaWYgKEV4dGVuZHNVbmRlZmluZWRDaGVjayhzY2hlbWEpICYmICEoa25vd25LZXkgaW4gdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLk9iamVjdFJlcXVpcmVkUHJvcGVydHksIHByb3BlcnR5LCBgJHtwYXRofS8ke0VzY2FwZUtleShrbm93bktleSl9YCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChUeXBlU3lzdGVtUG9saWN5LklzRXhhY3RPcHRpb25hbFByb3BlcnR5KHZhbHVlLCBrbm93bktleSkpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCogVmlzaXQocHJvcGVydHksIHJlZmVyZW5jZXMsIGAke3BhdGh9LyR7RXNjYXBlS2V5KGtub3duS2V5KX1gLCB2YWx1ZVtrbm93bktleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24qIEZyb21Qcm9taXNlKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIUlzUHJvbWlzZSh2YWx1ZSkpXG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5Qcm9taXNlLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uKiBGcm9tUmVjb3JkKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIVR5cGVTeXN0ZW1Qb2xpY3kuSXNSZWNvcmRMaWtlKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5PYmplY3QsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1pblByb3BlcnRpZXMpICYmICEoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLmxlbmd0aCA+PSBzY2hlbWEubWluUHJvcGVydGllcykpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLk9iamVjdE1pblByb3BlcnRpZXMsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSAmJiAhKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5sZW5ndGggPD0gc2NoZW1hLm1heFByb3BlcnRpZXMpKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5PYmplY3RNYXhQcm9wZXJ0aWVzLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgY29uc3QgW3BhdHRlcm5LZXksIHBhdHRlcm5TY2hlbWFdID0gT2JqZWN0LmVudHJpZXMoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKVswXTtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAocGF0dGVybktleSk7XG4gICAgZm9yIChjb25zdCBbcHJvcGVydHlLZXksIHByb3BlcnR5VmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlKSkge1xuICAgICAgICBpZiAocmVnZXgudGVzdChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICB5aWVsZCogVmlzaXQocGF0dGVyblNjaGVtYSwgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHtFc2NhcGVLZXkocHJvcGVydHlLZXkpfWAsIHByb3BlcnR5VmFsdWUpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChjb25zdCBbcHJvcGVydHlLZXksIHByb3BlcnR5VmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICB5aWVsZCogVmlzaXQoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLCByZWZlcmVuY2VzLCBgJHtwYXRofS8ke0VzY2FwZUtleShwcm9wZXJ0eUtleSl9YCwgcHJvcGVydHlWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgZm9yIChjb25zdCBbcHJvcGVydHlLZXksIHByb3BlcnR5VmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKHJlZ2V4LnRlc3QocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5PYmplY3RBZGRpdGlvbmFsUHJvcGVydGllcywgc2NoZW1hLCBgJHtwYXRofS8ke0VzY2FwZUtleShwcm9wZXJ0eUtleSl9YCwgcHJvcGVydHlWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiogRnJvbVJlZihzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgeWllbGQqIFZpc2l0KERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyksIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uKiBGcm9tUmVnRXhwKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIUlzU3RyaW5nKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5TdHJpbmcsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1pbkxlbmd0aCkgJiYgISh2YWx1ZS5sZW5ndGggPj0gc2NoZW1hLm1pbkxlbmd0aCkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlN0cmluZ01pbkxlbmd0aCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1heExlbmd0aCkgJiYgISh2YWx1ZS5sZW5ndGggPD0gc2NoZW1hLm1heExlbmd0aCkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlN0cmluZ01heExlbmd0aCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChzY2hlbWEuc291cmNlLCBzY2hlbWEuZmxhZ3MpO1xuICAgIGlmICghcmVnZXgudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5SZWdFeHAsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uKiBGcm9tU3RyaW5nKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIUlzU3RyaW5nKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5TdHJpbmcsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1pbkxlbmd0aCkgJiYgISh2YWx1ZS5sZW5ndGggPj0gc2NoZW1hLm1pbkxlbmd0aCkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlN0cmluZ01pbkxlbmd0aCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc0RlZmluZWQoc2NoZW1hLm1heExlbmd0aCkgJiYgISh2YWx1ZS5sZW5ndGggPD0gc2NoZW1hLm1heExlbmd0aCkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlN0cmluZ01heExlbmd0aCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc1N0cmluZyhzY2hlbWEucGF0dGVybikpIHtcbiAgICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKHNjaGVtYS5wYXR0ZXJuKTtcbiAgICAgICAgaWYgKCFyZWdleC50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlN0cmluZ1BhdHRlcm4sIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChJc1N0cmluZyhzY2hlbWEuZm9ybWF0KSkge1xuICAgICAgICBpZiAoIUZvcm1hdFJlZ2lzdHJ5LkhhcyhzY2hlbWEuZm9ybWF0KSkge1xuICAgICAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlN0cmluZ0Zvcm1hdFVua25vd24sIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZm9ybWF0ID0gRm9ybWF0UmVnaXN0cnkuR2V0KHNjaGVtYS5mb3JtYXQpO1xuICAgICAgICAgICAgaWYgKCFmb3JtYXQodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlN0cmluZ0Zvcm1hdCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiogRnJvbVN5bWJvbChzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKCFJc1N5bWJvbCh2YWx1ZSkpXG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5TeW1ib2wsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xufVxuZnVuY3Rpb24qIEZyb21UZW1wbGF0ZUxpdGVyYWwoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGlmICghSXNTdHJpbmcodmFsdWUpKVxuICAgICAgICByZXR1cm4geWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlN0cmluZywgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKHNjaGVtYS5wYXR0ZXJuKTtcbiAgICBpZiAoIXJlZ2V4LnRlc3QodmFsdWUpKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5TdHJpbmdQYXR0ZXJuLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiogRnJvbVRoaXMoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIHlpZWxkKiBWaXNpdChEZXJlZihzY2hlbWEsIHJlZmVyZW5jZXMpLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiogRnJvbVR1cGxlKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIUlzQXJyYXkodmFsdWUpKVxuICAgICAgICByZXR1cm4geWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlR1cGxlLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICBpZiAoc2NoZW1hLml0ZW1zID09PSB1bmRlZmluZWQgJiYgISh2YWx1ZS5sZW5ndGggPT09IDApKSB7XG4gICAgICAgIHJldHVybiB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuVHVwbGVMZW5ndGgsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoISh2YWx1ZS5sZW5ndGggPT09IHNjaGVtYS5tYXhJdGVtcykpIHtcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5UdXBsZUxlbmd0aCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmICghc2NoZW1hLml0ZW1zKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWEuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgeWllbGQqIFZpc2l0KHNjaGVtYS5pdGVtc1tpXSwgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHtpfWAsIHZhbHVlW2ldKTtcbiAgICB9XG59XG5mdW5jdGlvbiogRnJvbVVuZGVmaW5lZChzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKCFJc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5VbmRlZmluZWQsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xufVxuZnVuY3Rpb24qIEZyb21VbmlvbihzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgaWYgKENoZWNrKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgZXJyb3JzID0gc2NoZW1hLmFueU9mLm1hcCgodmFyaWFudCkgPT4gbmV3IFZhbHVlRXJyb3JJdGVyYXRvcihWaXNpdCh2YXJpYW50LCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkpKTtcbiAgICB5aWVsZCBDcmVhdGUoVmFsdWVFcnJvclR5cGUuVW5pb24sIHNjaGVtYSwgcGF0aCwgdmFsdWUsIGVycm9ycyk7XG59XG5mdW5jdGlvbiogRnJvbVVpbnQ4QXJyYXkoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGlmICghSXNVaW50OEFycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5VaW50OEFycmF5LCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICBpZiAoSXNEZWZpbmVkKHNjaGVtYS5tYXhCeXRlTGVuZ3RoKSAmJiAhKHZhbHVlLmxlbmd0aCA8PSBzY2hlbWEubWF4Qnl0ZUxlbmd0aCkpIHtcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLlVpbnQ4QXJyYXlNYXhCeXRlTGVuZ3RoLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKElzRGVmaW5lZChzY2hlbWEubWluQnl0ZUxlbmd0aCkgJiYgISh2YWx1ZS5sZW5ndGggPj0gc2NoZW1hLm1pbkJ5dGVMZW5ndGgpKSB7XG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5VaW50OEFycmF5TWluQnl0ZUxlbmd0aCwgc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24qIEZyb21Vbmtub3duKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHsgfVxuZnVuY3Rpb24qIEZyb21Wb2lkKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBpZiAoIVR5cGVTeXN0ZW1Qb2xpY3kuSXNWb2lkTGlrZSh2YWx1ZSkpXG4gICAgICAgIHlpZWxkIENyZWF0ZShWYWx1ZUVycm9yVHlwZS5Wb2lkLCBzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uKiBGcm9tS2luZChzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgY29uc3QgY2hlY2sgPSBUeXBlUmVnaXN0cnkuR2V0KHNjaGVtYVtLaW5kXSk7XG4gICAgaWYgKCFjaGVjayhzY2hlbWEsIHZhbHVlKSlcbiAgICAgICAgeWllbGQgQ3JlYXRlKFZhbHVlRXJyb3JUeXBlLktpbmQsIHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xufVxuZnVuY3Rpb24qIFZpc2l0KHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBjb25zdCByZWZlcmVuY2VzXyA9IElzRGVmaW5lZChzY2hlbWEuJGlkKSA/IFsuLi5yZWZlcmVuY2VzLCBzY2hlbWFdIDogcmVmZXJlbmNlcztcbiAgICBjb25zdCBzY2hlbWFfID0gc2NoZW1hO1xuICAgIHN3aXRjaCAoc2NoZW1hX1tLaW5kXSkge1xuICAgICAgICBjYXNlICdBbnknOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tQW55KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0FyZ3VtZW50JzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUFyZ3VtZW50KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUFycmF5KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0FzeW5jSXRlcmF0b3InOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tQXN5bmNJdGVyYXRvcihzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdCaWdJbnQnOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tQmlnSW50KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0Jvb2xlYW4nOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tQm9vbGVhbihzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdDb25zdHJ1Y3Rvcic6XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21Db25zdHJ1Y3RvcihzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdEYXRlJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbURhdGUoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnRnVuY3Rpb24nOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tRnVuY3Rpb24oc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnSW1wb3J0JzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUltcG9ydChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdJbnRlZ2VyJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUludGVnZXIoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnSW50ZXJzZWN0JzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUludGVyc2VjdChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdJdGVyYXRvcic6XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21JdGVyYXRvcihzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdMaXRlcmFsJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUxpdGVyYWwoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnTmV2ZXInOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tTmV2ZXIoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnTm90JzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbU5vdChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdOdWxsJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbU51bGwoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnTnVtYmVyJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbU51bWJlcihzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdPYmplY3QnOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tT2JqZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1Byb21pc2UnOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tUHJvbWlzZShzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdSZWNvcmQnOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tUmVjb3JkKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1JlZic6XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21SZWYoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnUmVnRXhwJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVJlZ0V4cChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdTdHJpbmcnOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tU3RyaW5nKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1N5bWJvbCc6XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21TeW1ib2woc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVGVtcGxhdGVMaXRlcmFsJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVRlbXBsYXRlTGl0ZXJhbChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdUaGlzJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVRoaXMoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVHVwbGUnOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tVHVwbGUoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVW5kZWZpbmVkJzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVVuZGVmaW5lZChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdVbmlvbic6XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21VbmlvbihzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdVaW50OEFycmF5JzpcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVVpbnQ4QXJyYXkoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVW5rbm93bic6XG4gICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21Vbmtub3duKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1ZvaWQnOlxuICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tVm9pZChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKCFUeXBlUmVnaXN0cnkuSGFzKHNjaGVtYV9bS2luZF0pKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBWYWx1ZUVycm9yc1Vua25vd25UeXBlRXJyb3Ioc2NoZW1hKTtcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUtpbmQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICB9XG59XG4vKiogUmV0dXJucyBhbiBpdGVyYXRvciBmb3IgZWFjaCBlcnJvciBpbiB0aGlzIHZhbHVlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEVycm9ycyguLi5hcmdzKSB7XG4gICAgY29uc3QgaXRlcmF0b3IgPSBhcmdzLmxlbmd0aCA9PT0gMyA/IFZpc2l0KGFyZ3NbMF0sIGFyZ3NbMV0sICcnLCBhcmdzWzJdKSA6IFZpc2l0KGFyZ3NbMF0sIFtdLCAnJywgYXJnc1sxXSk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZUVycm9ySXRlcmF0b3IoaXRlcmF0b3IpO1xufVxuIiwKICAgICJ2YXIgX19jbGFzc1ByaXZhdGVGaWVsZFNldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59O1xudmFyIF9fY2xhc3NQcml2YXRlRmllbGRHZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn07XG52YXIgX0Fzc2VydEVycm9yX2luc3RhbmNlcywgX0Fzc2VydEVycm9yX2l0ZXJhdG9yLCBfQXNzZXJ0RXJyb3JfSXRlcmF0b3I7XG5pbXBvcnQgeyBFcnJvcnMsIFZhbHVlRXJyb3JJdGVyYXRvciB9IGZyb20gJy4uLy4uL2Vycm9ycy9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHlwZUJveEVycm9yIH0gZnJvbSAnLi4vLi4vdHlwZS9lcnJvci9lcnJvci5tanMnO1xuaW1wb3J0IHsgQ2hlY2sgfSBmcm9tICcuLi9jaGVjay9jaGVjay5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBBc3NlcnRFcnJvclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgQXNzZXJ0RXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGl0ZXJhdG9yKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gaXRlcmF0b3IuRmlyc3QoKTtcbiAgICAgICAgc3VwZXIoZXJyb3IgPT09IHVuZGVmaW5lZCA/ICdJbnZhbGlkIFZhbHVlJyA6IGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICBfQXNzZXJ0RXJyb3JfaW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICAgICAgX0Fzc2VydEVycm9yX2l0ZXJhdG9yLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3NlcnRFcnJvcl9pdGVyYXRvciwgaXRlcmF0b3IsIFwiZlwiKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyBhbiBpdGVyYXRvciBmb3IgZWFjaCBlcnJvciBpbiB0aGlzIHZhbHVlLiAqL1xuICAgIEVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZUVycm9ySXRlcmF0b3IoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzZXJ0RXJyb3JfaW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2VydEVycm9yX0l0ZXJhdG9yKS5jYWxsKHRoaXMpKTtcbiAgICB9XG59XG5fQXNzZXJ0RXJyb3JfaXRlcmF0b3IgPSBuZXcgV2Vha01hcCgpLCBfQXNzZXJ0RXJyb3JfaW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKSwgX0Fzc2VydEVycm9yX0l0ZXJhdG9yID0gZnVuY3Rpb24qIF9Bc3NlcnRFcnJvcl9JdGVyYXRvcigpIHtcbiAgICBpZiAodGhpcy5lcnJvcilcbiAgICAgICAgeWllbGQgdGhpcy5lcnJvcjtcbiAgICB5aWVsZCogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzZXJ0RXJyb3JfaXRlcmF0b3IsIFwiZlwiKTtcbn07XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEFzc2VydFZhbHVlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIEFzc2VydFZhbHVlKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoQ2hlY2soc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkpXG4gICAgICAgIHJldHVybjtcbiAgICB0aHJvdyBuZXcgQXNzZXJ0RXJyb3IoRXJyb3JzKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpKTtcbn1cbi8qKiBBc3NlcnRzIGEgdmFsdWUgbWF0Y2hlcyB0aGUgZ2l2ZW4gdHlwZSBvciB0aHJvd3MgYW4gYEFzc2VydEVycm9yYCBpZiBpbnZhbGlkICovXG5leHBvcnQgZnVuY3Rpb24gQXNzZXJ0KC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gYXJncy5sZW5ndGggPT09IDMgPyBBc3NlcnRWYWx1ZShhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKSA6IEFzc2VydFZhbHVlKGFyZ3NbMF0sIFtdLCBhcmdzWzFdKTtcbn1cbiIsCiAgICAiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzQXJyYXksIElzRGF0ZSwgSXNNYXAsIElzU2V0LCBJc09iamVjdCwgSXNUeXBlZEFycmF5LCBJc1ZhbHVlVHlwZSB9IGZyb20gJy4uL2d1YXJkL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENsb25hYmxlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIEZyb21PYmplY3QodmFsdWUpIHtcbiAgICBjb25zdCBBY2MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpIHtcbiAgICAgICAgQWNjW2tleV0gPSBDbG9uZSh2YWx1ZVtrZXldKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh2YWx1ZSkpIHtcbiAgICAgICAgQWNjW2tleV0gPSBDbG9uZSh2YWx1ZVtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIEFjYztcbn1cbmZ1bmN0aW9uIEZyb21BcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5tYXAoKGVsZW1lbnQpID0+IENsb25lKGVsZW1lbnQpKTtcbn1cbmZ1bmN0aW9uIEZyb21UeXBlZEFycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnNsaWNlKCk7XG59XG5mdW5jdGlvbiBGcm9tTWFwKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBNYXAoQ2xvbmUoWy4uLnZhbHVlLmVudHJpZXMoKV0pKTtcbn1cbmZ1bmN0aW9uIEZyb21TZXQodmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IFNldChDbG9uZShbLi4udmFsdWUuZW50cmllcygpXSkpO1xufVxuZnVuY3Rpb24gRnJvbURhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IERhdGUodmFsdWUudG9JU09TdHJpbmcoKSk7XG59XG5mdW5jdGlvbiBGcm9tVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENsb25lXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKiBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIGdpdmVuIHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gQ2xvbmUodmFsdWUpIHtcbiAgICBpZiAoSXNBcnJheSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiBGcm9tQXJyYXkodmFsdWUpO1xuICAgIGlmIChJc0RhdGUodmFsdWUpKVxuICAgICAgICByZXR1cm4gRnJvbURhdGUodmFsdWUpO1xuICAgIGlmIChJc1R5cGVkQXJyYXkodmFsdWUpKVxuICAgICAgICByZXR1cm4gRnJvbVR5cGVkQXJyYXkodmFsdWUpO1xuICAgIGlmIChJc01hcCh2YWx1ZSkpXG4gICAgICAgIHJldHVybiBGcm9tTWFwKHZhbHVlKTtcbiAgICBpZiAoSXNTZXQodmFsdWUpKVxuICAgICAgICByZXR1cm4gRnJvbVNldCh2YWx1ZSk7XG4gICAgaWYgKElzT2JqZWN0KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIEZyb21PYmplY3QodmFsdWUpO1xuICAgIGlmIChJc1ZhbHVlVHlwZSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiBGcm9tVmFsdWUodmFsdWUpO1xuICAgIHRocm93IG5ldyBFcnJvcignVmFsdWVDbG9uZTogVW5hYmxlIHRvIGNsb25lIHZhbHVlJyk7XG59XG4iLAogICAgImltcG9ydCB7IEhhc1Byb3BlcnR5S2V5IH0gZnJvbSAnLi4vZ3VhcmQvaW5kZXgubWpzJztcbmltcG9ydCB7IENoZWNrIH0gZnJvbSAnLi4vY2hlY2svaW5kZXgubWpzJztcbmltcG9ydCB7IENsb25lIH0gZnJvbSAnLi4vY2xvbmUvaW5kZXgubWpzJztcbmltcG9ydCB7IERlcmVmLCBQdXNocmVmIH0gZnJvbSAnLi4vZGVyZWYvaW5kZXgubWpzJztcbmltcG9ydCB7IFRlbXBsYXRlTGl0ZXJhbEdlbmVyYXRlLCBJc1RlbXBsYXRlTGl0ZXJhbEZpbml0ZSB9IGZyb20gJy4uLy4uL3R5cGUvdGVtcGxhdGUtbGl0ZXJhbC9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHlwZVJlZ2lzdHJ5IH0gZnJvbSAnLi4vLi4vdHlwZS9yZWdpc3RyeS9pbmRleC5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uLy4uL3R5cGUvc3ltYm9scy9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHlwZUJveEVycm9yIH0gZnJvbSAnLi4vLi4vdHlwZS9lcnJvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgSXNGdW5jdGlvbiB9IGZyb20gJy4uL2d1YXJkL2d1YXJkLm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEVycm9yc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgVmFsdWVDcmVhdGVFcnJvciBleHRlbmRzIFR5cGVCb3hFcnJvciB7XG4gICAgY29uc3RydWN0b3Ioc2NoZW1hLCBtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICB9XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIERlZmF1bHRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gRnJvbURlZmF1bHQodmFsdWUpIHtcbiAgICByZXR1cm4gSXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZSgpIDogQ2xvbmUodmFsdWUpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDcmVhdGVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gRnJvbUFueShzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbUFyZ3VtZW50KHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIHJldHVybiB7fTtcbn1cbmZ1bmN0aW9uIEZyb21BcnJheShzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoc2NoZW1hLnVuaXF1ZUl0ZW1zID09PSB0cnVlICYmICFIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFZhbHVlQ3JlYXRlRXJyb3Ioc2NoZW1hLCAnQXJyYXkgd2l0aCB0aGUgdW5pcXVlSXRlbXMgY29uc3RyYWludCByZXF1aXJlcyBhIGRlZmF1bHQgdmFsdWUnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoJ2NvbnRhaW5zJyBpbiBzY2hlbWEgJiYgIUhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICB0aHJvdyBuZXcgVmFsdWVDcmVhdGVFcnJvcihzY2hlbWEsICdBcnJheSB3aXRoIHRoZSBjb250YWlucyBjb25zdHJhaW50IHJlcXVpcmVzIGEgZGVmYXVsdCB2YWx1ZScpO1xuICAgIH1cbiAgICBlbHNlIGlmICgnZGVmYXVsdCcgaW4gc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYS5taW5JdGVtcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBzY2hlbWEubWluSXRlbXMgfSkubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gVmlzaXQoc2NoZW1hLml0ZW1zLCByZWZlcmVuY2VzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbUFzeW5jSXRlcmF0b3Ioc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChhc3luYyBmdW5jdGlvbiogKCkgeyB9KSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEZyb21CaWdJbnQoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEJpZ0ludCgwKTtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tQm9vbGVhbihzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbUNvbnN0cnVjdG9yKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgcmV0dXJuIEZyb21EZWZhdWx0KHNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gVmlzaXQoc2NoZW1hLnJldHVybnMsIHJlZmVyZW5jZXMpO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjbGFzcyB7XG4gICAgICAgICAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZltrZXldID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjbGFzcyB7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbURhdGUoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEubWluaW11bVRpbWVzdGFtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShzY2hlbWEubWluaW11bVRpbWVzdGFtcCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tRnVuY3Rpb24oc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICgpID0+IFZpc2l0KHNjaGVtYS5yZXR1cm5zLCByZWZlcmVuY2VzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tSW1wb3J0KHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGNvbnN0IGRlZmluaXRpb25zID0gZ2xvYmFsVGhpcy5PYmplY3QudmFsdWVzKHNjaGVtYS4kZGVmcyk7XG4gICAgY29uc3QgdGFyZ2V0ID0gc2NoZW1hLiRkZWZzW3NjaGVtYS4kcmVmXTtcbiAgICByZXR1cm4gVmlzaXQodGFyZ2V0LCBbLi4ucmVmZXJlbmNlcywgLi4uZGVmaW5pdGlvbnNdKTtcbn1cbmZ1bmN0aW9uIEZyb21JbnRlZ2VyKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgcmV0dXJuIEZyb21EZWZhdWx0KHNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hLm1pbmltdW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc2NoZW1hLm1pbmltdW07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tSW50ZXJzZWN0KHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgcmV0dXJuIEZyb21EZWZhdWx0KHNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIE5vdGU6IFRoZSBiZXN0IHdlIGNhbiBkbyBoZXJlIGlzIGF0dGVtcHQgdG8gaW5zdGFuY2UgZWFjaFxuICAgICAgICAvLyBzdWIgdHlwZSBhbmQgYXBwbHkgdGhyb3VnaCBvYmplY3QgYXNzaWduLiBGb3Igbm9uLW9iamVjdFxuICAgICAgICAvLyBzdWIgdHlwZXMsIHdlIGp1c3QgZXNjYXBlIHRoZSBhc3NpZ25tZW50IGFuZCBqdXN0IHJldHVyblxuICAgICAgICAvLyB0aGUgdmFsdWUuIEluIHRoZSBsYXR0ZXIgY2FzZSwgdGhpcyBpcyB0eXBpY2FsbHkgZ29pbmcgdG9cbiAgICAgICAgLy8gYmUgYSBjb25zZXF1ZW5jZSBvZiBhbiBpbGxvZ2ljYWwgaW50ZXJzZWN0aW9uLlxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHNjaGVtYS5hbGxPZi5yZWR1Y2UoKGFjYywgc2NoZW1hKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgbmV4dCA9PT0gJ29iamVjdCcgPyB7IC4uLmFjYywgLi4ubmV4dCB9IDogbmV4dDtcbiAgICAgICAgfSwge30pO1xuICAgICAgICBpZiAoIUNoZWNrKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFZhbHVlQ3JlYXRlRXJyb3Ioc2NoZW1hLCAnSW50ZXJzZWN0IHByb2R1Y2VkIGludmFsaWQgdmFsdWUuIENvbnNpZGVyIHVzaW5nIGEgZGVmYXVsdCB2YWx1ZS4nKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEZyb21JdGVyYXRvcihzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKGZ1bmN0aW9uKiAoKSB7IH0pKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbUxpdGVyYWwoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYS5jb25zdDtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tTmV2ZXIoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFZhbHVlQ3JlYXRlRXJyb3Ioc2NoZW1hLCAnTmV2ZXIgdHlwZXMgY2Fubm90IGJlIGNyZWF0ZWQuIENvbnNpZGVyIHVzaW5nIGEgZGVmYXVsdCB2YWx1ZS4nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tTm90KHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgcmV0dXJuIEZyb21EZWZhdWx0KHNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBWYWx1ZUNyZWF0ZUVycm9yKHNjaGVtYSwgJ05vdCB0eXBlcyBtdXN0IGhhdmUgYSBkZWZhdWx0IHZhbHVlJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbU51bGwoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbU51bWJlcihzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYS5taW5pbXVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYS5taW5pbXVtO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbU9iamVjdChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCByZXF1aXJlZCA9IG5ldyBTZXQoc2NoZW1hLnJlcXVpcmVkKTtcbiAgICAgICAgY29uc3QgQWNjID0ge307XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgc3Vic2NoZW1hXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEucHJvcGVydGllcykpIHtcbiAgICAgICAgICAgIGlmICghcmVxdWlyZWQuaGFzKGtleSkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBBY2Nba2V5XSA9IFZpc2l0KHN1YnNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFjYztcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tUHJvbWlzZShzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFZpc2l0KHNjaGVtYS5pdGVtLCByZWZlcmVuY2VzKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbVJlY29yZChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbVJlZihzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gVmlzaXQoRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSwgcmVmZXJlbmNlcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbVJlZ0V4cChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVmFsdWVDcmVhdGVFcnJvcihzY2hlbWEsICdSZWdFeHAgdHlwZXMgY2Fubm90IGJlIGNyZWF0ZWQuIENvbnNpZGVyIHVzaW5nIGEgZGVmYXVsdCB2YWx1ZS4nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tU3RyaW5nKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChzY2hlbWEucGF0dGVybiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICghSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsdWVDcmVhdGVFcnJvcihzY2hlbWEsICdTdHJpbmcgdHlwZXMgd2l0aCBwYXR0ZXJucyBtdXN0IHNwZWNpZnkgYSBkZWZhdWx0IHZhbHVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYS5mb3JtYXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoIUhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFZhbHVlQ3JlYXRlRXJyb3Ioc2NoZW1hLCAnU3RyaW5nIHR5cGVzIHdpdGggZm9ybWF0cyBtdXN0IHNwZWNpZnkgYSBkZWZhdWx0IHZhbHVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNjaGVtYS5taW5MZW5ndGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogc2NoZW1hLm1pbkxlbmd0aCB9KS5tYXAoKCkgPT4gJyAnKS5qb2luKCcnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIEZyb21TeW1ib2woc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBlbHNlIGlmICgndmFsdWUnIGluIHNjaGVtYSkge1xuICAgICAgICByZXR1cm4gU3ltYm9sLmZvcihzY2hlbWEudmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFN5bWJvbCgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEZyb21UZW1wbGF0ZUxpdGVyYWwoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBpZiAoIUlzVGVtcGxhdGVMaXRlcmFsRmluaXRlKHNjaGVtYSkpXG4gICAgICAgIHRocm93IG5ldyBWYWx1ZUNyZWF0ZUVycm9yKHNjaGVtYSwgJ0NhbiBvbmx5IGNyZWF0ZSB0ZW1wbGF0ZSBsaXRlcmFscyB0aGF0IHByb2R1Y2UgYSBmaW5pdGUgdmFyaWFudHMuIENvbnNpZGVyIHVzaW5nIGEgZGVmYXVsdCB2YWx1ZS4nKTtcbiAgICBjb25zdCBnZW5lcmF0ZWQgPSBUZW1wbGF0ZUxpdGVyYWxHZW5lcmF0ZShzY2hlbWEpO1xuICAgIHJldHVybiBnZW5lcmF0ZWRbMF07XG59XG5mdW5jdGlvbiBGcm9tVGhpcyhzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAocmVjdXJzaXZlRGVwdGgrKyA+IHJlY3Vyc2l2ZU1heERlcHRoKVxuICAgICAgICB0aHJvdyBuZXcgVmFsdWVDcmVhdGVFcnJvcihzY2hlbWEsICdDYW5ub3QgY3JlYXRlIHJlY3Vyc2l2ZSB0eXBlIGFzIGl0IGFwcGVhcnMgcG9zc2libHkgaW5maW5pdGUuIENvbnNpZGVyIHVzaW5nIGEgZGVmYXVsdC4nKTtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gVmlzaXQoRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSwgcmVmZXJlbmNlcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbVR1cGxlKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIGlmIChIYXNQcm9wZXJ0eUtleShzY2hlbWEsICdkZWZhdWx0JykpIHtcbiAgICAgICAgcmV0dXJuIEZyb21EZWZhdWx0KHNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgaWYgKHNjaGVtYS5pdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBzY2hlbWEubWluSXRlbXMgfSkubWFwKChfLCBpbmRleCkgPT4gVmlzaXQoc2NoZW1hLml0ZW1zW2luZGV4XSwgcmVmZXJlbmNlcykpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEZyb21VbmRlZmluZWQoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tVW5pb24oc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEuYW55T2YubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVmFsdWVDcmVhdGUuVW5pb246IENhbm5vdCBjcmVhdGUgVW5pb24gd2l0aCB6ZXJvIHZhcmlhbnRzJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gVmlzaXQoc2NoZW1hLmFueU9mWzBdLCByZWZlcmVuY2VzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tVWludDhBcnJheShzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYS5taW5CeXRlTGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHNjaGVtYS5taW5CeXRlTGVuZ3RoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSgwKTtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tVW5rbm93bihzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxufVxuZnVuY3Rpb24gRnJvbVZvaWQoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSkge1xuICAgICAgICByZXR1cm4gRnJvbURlZmF1bHQoc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG59XG5mdW5jdGlvbiBGcm9tS2luZChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBpZiAoSGFzUHJvcGVydHlLZXkoc2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgIHJldHVybiBGcm9tRGVmYXVsdChzY2hlbWEuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgZGVmaW5lZCB0eXBlcyBtdXN0IHNwZWNpZnkgYSBkZWZhdWx0IHZhbHVlJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgY29uc3QgcmVmZXJlbmNlc18gPSBQdXNocmVmKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgY29uc3Qgc2NoZW1hXyA9IHNjaGVtYTtcbiAgICBzd2l0Y2ggKHNjaGVtYV9bS2luZF0pIHtcbiAgICAgICAgY2FzZSAnQW55JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQW55KHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnQXJndW1lbnQnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Bcmd1bWVudChzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQXJyYXkoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdBc3luY0l0ZXJhdG9yJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQXN5bmNJdGVyYXRvcihzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0JpZ0ludCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUJpZ0ludChzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0Jvb2xlYW4nOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Cb29sZWFuKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnQ29uc3RydWN0b3InOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Db25zdHJ1Y3RvcihzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0RhdGUnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21EYXRlKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnRnVuY3Rpb24nOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21GdW5jdGlvbihzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0ltcG9ydCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUltcG9ydChzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0ludGVnZXInOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21JbnRlZ2VyKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnSW50ZXJzZWN0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tSW50ZXJzZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnSXRlcmF0b3InOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21JdGVyYXRvcihzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0xpdGVyYWwnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21MaXRlcmFsKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnTmV2ZXInOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21OZXZlcihzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ05vdCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbU5vdChzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ051bGwnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21OdWxsKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnTnVtYmVyJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tTnVtYmVyKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tT2JqZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnUHJvbWlzZSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVByb21pc2Uoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdSZWNvcmQnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWNvcmQoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdSZWYnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWYoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdSZWdFeHAnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWdFeHAoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdTdHJpbmcnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21TdHJpbmcoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdTeW1ib2wnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21TeW1ib2woc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdUZW1wbGF0ZUxpdGVyYWwnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21UZW1wbGF0ZUxpdGVyYWwoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdUaGlzJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVGhpcyhzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ1R1cGxlJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVHVwbGUoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdVbmRlZmluZWQnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21VbmRlZmluZWQoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdVbmlvbic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVVuaW9uKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnVWludDhBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVVpbnQ4QXJyYXkoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdVbmtub3duJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVW5rbm93bihzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ1ZvaWQnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Wb2lkKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmICghVHlwZVJlZ2lzdHJ5LkhhcyhzY2hlbWFfW0tpbmRdKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVmFsdWVDcmVhdGVFcnJvcihzY2hlbWFfLCAnVW5rbm93biB0eXBlJyk7XG4gICAgICAgICAgICByZXR1cm4gRnJvbUtpbmQoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgIH1cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RhdGVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuY29uc3QgcmVjdXJzaXZlTWF4RGVwdGggPSA1MTI7XG5sZXQgcmVjdXJzaXZlRGVwdGggPSAwO1xuLyoqIENyZWF0ZXMgYSB2YWx1ZSBmcm9tIHRoZSBnaXZlbiBzY2hlbWEgKi9cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGUoLi4uYXJncykge1xuICAgIHJlY3Vyc2l2ZURlcHRoID0gMDtcbiAgICByZXR1cm4gYXJncy5sZW5ndGggPT09IDIgPyBWaXNpdChhcmdzWzBdLCBhcmdzWzFdKSA6IFZpc2l0KGFyZ3NbMF0sIFtdKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgSXNPYmplY3QsIElzQXJyYXksIElzU3RyaW5nLCBJc051bWJlciwgSXNOdWxsIH0gZnJvbSAnLi4vZ3VhcmQvaW5kZXgubWpzJztcbmltcG9ydCB7IFR5cGVCb3hFcnJvciB9IGZyb20gJy4uLy4uL3R5cGUvZXJyb3IvaW5kZXgubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi8uLi90eXBlL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IENyZWF0ZSB9IGZyb20gJy4uL2NyZWF0ZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2hlY2sgfSBmcm9tICcuLi9jaGVjay9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2xvbmUgfSBmcm9tICcuLi9jbG9uZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgRGVyZWYsIFB1c2hyZWYgfSBmcm9tICcuLi9kZXJlZi9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFcnJvcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIFZhbHVlQ2FzdEVycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihzY2hlbWEsIG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgIH1cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVGhlIGZvbGxvd2luZyBsb2dpYyBhc3NpZ25zIGEgc2NvcmUgdG8gYSBzY2hlbWEgYmFzZWQgb24gaG93IHdlbGxcbi8vIGl0IG1hdGNoZXMgYSBnaXZlbiB2YWx1ZS4gRm9yIG9iamVjdCB0eXBlcywgdGhlIHNjb3JlIGlzIGNhbGN1bGF0ZWRcbi8vIGJ5IGV2YWx1YXRpbmcgZWFjaCBwcm9wZXJ0eSBvZiB0aGUgdmFsdWUgYWdhaW5zdCB0aGUgc2NoZW1hJ3Ncbi8vIHByb3BlcnRpZXMuIFRvIGF2b2lkIGJpYXMgdG93YXJkcyBvYmplY3RzIHdpdGggbWFueSBwcm9wZXJ0aWVzLFxuLy8gZWFjaCBwcm9wZXJ0eSBjb250cmlidXRlcyBlcXVhbGx5IHRvIHRoZSB0b3RhbCBzY29yZS4gUHJvcGVydGllc1xuLy8gdGhhdCBleGFjdGx5IG1hdGNoIGxpdGVyYWwgdmFsdWVzIHJlY2VpdmUgdGhlIGhpZ2hlc3QgcG9zc2libGVcbi8vIHNjb3JlLCBhcyBsaXRlcmFscyBhcmUgb2Z0ZW4gdXNlZCBhcyBkaXNjcmltaW5hdG9ycyBpbiB1bmlvbiB0eXBlcy5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gU2NvcmVVbmlvbihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgaWYgKHNjaGVtYVtLaW5kXSA9PT0gJ09iamVjdCcgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiAhSXNOdWxsKHZhbHVlKSkge1xuICAgICAgICBjb25zdCBvYmplY3QgPSBzY2hlbWE7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhvYmplY3QucHJvcGVydGllcyk7XG4gICAgICAgIHJldHVybiBlbnRyaWVzLnJlZHVjZSgoYWNjLCBba2V5LCBzY2hlbWFdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsaXRlcmFsID0gc2NoZW1hW0tpbmRdID09PSAnTGl0ZXJhbCcgJiYgc2NoZW1hLmNvbnN0ID09PSB2YWx1ZVtrZXldID8gMTAwIDogMDtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrcyA9IENoZWNrKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWVba2V5XSkgPyAxMCA6IDA7XG4gICAgICAgICAgICBjb25zdCBleGlzdHMgPSBrZXlzLmluY2x1ZGVzKGtleSkgPyAxIDogMDtcbiAgICAgICAgICAgIHJldHVybiBhY2MgKyAobGl0ZXJhbCArIGNoZWNrcyArIGV4aXN0cyk7XG4gICAgICAgIH0sIDApO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWFbS2luZF0gPT09ICdVbmlvbicpIHtcbiAgICAgICAgY29uc3Qgc2NoZW1hcyA9IHNjaGVtYS5hbnlPZi5tYXAoKHNjaGVtYSkgPT4gRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSk7XG4gICAgICAgIGNvbnN0IHNjb3JlcyA9IHNjaGVtYXMubWFwKChzY2hlbWEpID0+IFNjb3JlVW5pb24oc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkpO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoLi4uc2NvcmVzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBDaGVjayhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSA/IDEgOiAwO1xuICAgIH1cbn1cbmZ1bmN0aW9uIFNlbGVjdFVuaW9uKHVuaW9uLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGNvbnN0IHNjaGVtYXMgPSB1bmlvbi5hbnlPZi5tYXAoKHNjaGVtYSkgPT4gRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSk7XG4gICAgbGV0IFtzZWxlY3QsIGJlc3RdID0gW3NjaGVtYXNbMF0sIDBdO1xuICAgIGZvciAoY29uc3Qgc2NoZW1hIG9mIHNjaGVtYXMpIHtcbiAgICAgICAgY29uc3Qgc2NvcmUgPSBTY29yZVVuaW9uKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpO1xuICAgICAgICBpZiAoc2NvcmUgPiBiZXN0KSB7XG4gICAgICAgICAgICBzZWxlY3QgPSBzY2hlbWE7XG4gICAgICAgICAgICBiZXN0ID0gc2NvcmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdDtcbn1cbmZ1bmN0aW9uIENhc3RVbmlvbih1bmlvbiwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoJ2RlZmF1bHQnIGluIHVuaW9uKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgPyB1bmlvbi5kZWZhdWx0IDogQ2xvbmUodW5pb24uZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBzY2hlbWEgPSBTZWxlY3RVbmlvbih1bmlvbiwgcmVmZXJlbmNlcywgdmFsdWUpO1xuICAgICAgICByZXR1cm4gQ2FzdChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKTtcbiAgICB9XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIERlZmF1bHRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gRGVmYXVsdENsb25lKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gQ2hlY2soc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkgPyBDbG9uZSh2YWx1ZSkgOiBDcmVhdGUoc2NoZW1hLCByZWZlcmVuY2VzKTtcbn1cbmZ1bmN0aW9uIERlZmF1bHQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBDaGVjayhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSA/IHZhbHVlIDogQ3JlYXRlKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIENhc3Rcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gRnJvbUFycmF5KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoQ2hlY2soc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkpXG4gICAgICAgIHJldHVybiBDbG9uZSh2YWx1ZSk7XG4gICAgY29uc3QgY3JlYXRlZCA9IElzQXJyYXkodmFsdWUpID8gQ2xvbmUodmFsdWUpIDogQ3JlYXRlKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgY29uc3QgbWluaW11bSA9IElzTnVtYmVyKHNjaGVtYS5taW5JdGVtcykgJiYgY3JlYXRlZC5sZW5ndGggPCBzY2hlbWEubWluSXRlbXMgPyBbLi4uY3JlYXRlZCwgLi4uQXJyYXkuZnJvbSh7IGxlbmd0aDogc2NoZW1hLm1pbkl0ZW1zIC0gY3JlYXRlZC5sZW5ndGggfSwgKCkgPT4gbnVsbCldIDogY3JlYXRlZDtcbiAgICBjb25zdCBtYXhpbXVtID0gSXNOdW1iZXIoc2NoZW1hLm1heEl0ZW1zKSAmJiBtaW5pbXVtLmxlbmd0aCA+IHNjaGVtYS5tYXhJdGVtcyA/IG1pbmltdW0uc2xpY2UoMCwgc2NoZW1hLm1heEl0ZW1zKSA6IG1pbmltdW07XG4gICAgY29uc3QgY2FzdGVkID0gbWF4aW11bS5tYXAoKHZhbHVlKSA9PiBWaXNpdChzY2hlbWEuaXRlbXMsIHJlZmVyZW5jZXMsIHZhbHVlKSk7XG4gICAgaWYgKHNjaGVtYS51bmlxdWVJdGVtcyAhPT0gdHJ1ZSlcbiAgICAgICAgcmV0dXJuIGNhc3RlZDtcbiAgICBjb25zdCB1bmlxdWUgPSBbLi4ubmV3IFNldChjYXN0ZWQpXTtcbiAgICBpZiAoIUNoZWNrKHNjaGVtYSwgcmVmZXJlbmNlcywgdW5pcXVlKSlcbiAgICAgICAgdGhyb3cgbmV3IFZhbHVlQ2FzdEVycm9yKHNjaGVtYSwgJ0FycmF5IGNhc3QgcHJvZHVjZWQgaW52YWxpZCBkYXRhIGR1ZSB0byB1bmlxdWVJdGVtcyBjb25zdHJhaW50Jyk7XG4gICAgcmV0dXJuIHVuaXF1ZTtcbn1cbmZ1bmN0aW9uIEZyb21Db25zdHJ1Y3RvcihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgaWYgKENoZWNrKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpKVxuICAgICAgICByZXR1cm4gQ3JlYXRlKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgY29uc3QgcmVxdWlyZWQgPSBuZXcgU2V0KHNjaGVtYS5yZXR1cm5zLnJlcXVpcmVkIHx8IFtdKTtcbiAgICBjb25zdCByZXN1bHQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgZm9yIChjb25zdCBba2V5LCBwcm9wZXJ0eV0gb2YgT2JqZWN0LmVudHJpZXMoc2NoZW1hLnJldHVybnMucHJvcGVydGllcykpIHtcbiAgICAgICAgaWYgKCFyZXF1aXJlZC5oYXMoa2V5KSAmJiB2YWx1ZS5wcm90b3R5cGVba2V5XSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIHJlc3VsdC5wcm90b3R5cGVba2V5XSA9IFZpc2l0KHByb3BlcnR5LCByZWZlcmVuY2VzLCB2YWx1ZS5wcm90b3R5cGVba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBGcm9tSW1wb3J0KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBjb25zdCBkZWZpbml0aW9ucyA9IGdsb2JhbFRoaXMuT2JqZWN0LnZhbHVlcyhzY2hlbWEuJGRlZnMpO1xuICAgIGNvbnN0IHRhcmdldCA9IHNjaGVtYS4kZGVmc1tzY2hlbWEuJHJlZl07XG4gICAgcmV0dXJuIFZpc2l0KHRhcmdldCwgWy4uLnJlZmVyZW5jZXMsIC4uLmRlZmluaXRpb25zXSwgdmFsdWUpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBJbnRlcnNlY3Rcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gSW50ZXJzZWN0QXNzaWduKGNvcnJlY3QsIHZhbHVlKSB7XG4gICAgLy8gdHJ1c3QgY29ycmVjdCBvbiBtaXNtYXRjaCB8IHZhbHVlIG9uIG5vbi1vYmplY3RcbiAgICBpZiAoKElzT2JqZWN0KGNvcnJlY3QpICYmICFJc09iamVjdCh2YWx1ZSkpIHx8ICghSXNPYmplY3QoY29ycmVjdCkgJiYgSXNPYmplY3QodmFsdWUpKSlcbiAgICAgICAgcmV0dXJuIGNvcnJlY3Q7XG4gICAgaWYgKCFJc09iamVjdChjb3JyZWN0KSB8fCAhSXNPYmplY3QodmFsdWUpKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgcmV0dXJuIGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY29ycmVjdCkucmVkdWNlKChyZXN1bHQsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IGtleSBpbiB2YWx1ZSA/IEludGVyc2VjdEFzc2lnbihjb3JyZWN0W2tleV0sIHZhbHVlW2tleV0pIDogY29ycmVjdFtrZXldO1xuICAgICAgICByZXR1cm4geyAuLi5yZXN1bHQsIFtrZXldOiBwcm9wZXJ0eSB9O1xuICAgIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIEZyb21JbnRlcnNlY3Qoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGlmIChDaGVjayhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGNvbnN0IGNvcnJlY3QgPSBDcmVhdGUoc2NoZW1hLCByZWZlcmVuY2VzKTtcbiAgICBjb25zdCBhc3NpZ25lZCA9IEludGVyc2VjdEFzc2lnbihjb3JyZWN0LCB2YWx1ZSk7XG4gICAgcmV0dXJuIENoZWNrKHNjaGVtYSwgcmVmZXJlbmNlcywgYXNzaWduZWQpID8gYXNzaWduZWQgOiBjb3JyZWN0O1xufVxuZnVuY3Rpb24gRnJvbU5ldmVyKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICB0aHJvdyBuZXcgVmFsdWVDYXN0RXJyb3Ioc2NoZW1hLCAnTmV2ZXIgdHlwZXMgY2Fubm90IGJlIGNhc3QnKTtcbn1cbmZ1bmN0aW9uIEZyb21PYmplY3Qoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGlmIChDaGVjayhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnKVxuICAgICAgICByZXR1cm4gQ3JlYXRlKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgY29uc3QgcmVxdWlyZWQgPSBuZXcgU2V0KHNjaGVtYS5yZXF1aXJlZCB8fCBbXSk7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBba2V5LCBwcm9wZXJ0eV0gb2YgT2JqZWN0LmVudHJpZXMoc2NoZW1hLnByb3BlcnRpZXMpKSB7XG4gICAgICAgIGlmICghcmVxdWlyZWQuaGFzKGtleSkgJiYgdmFsdWVba2V5XSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIHJlc3VsdFtrZXldID0gVmlzaXQocHJvcGVydHksIHJlZmVyZW5jZXMsIHZhbHVlW2tleV0pO1xuICAgIH1cbiAgICAvLyBhZGRpdGlvbmFsIHNjaGVtYSBwcm9wZXJ0aWVzXG4gICAgaWYgKHR5cGVvZiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzY2hlbWEucHJvcGVydGllcyk7XG4gICAgICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKHByb3BlcnR5TmFtZXMuaW5jbHVkZXMocHJvcGVydHlOYW1lKSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHJlc3VsdFtwcm9wZXJ0eU5hbWVdID0gVmlzaXQoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLCByZWZlcmVuY2VzLCB2YWx1ZVtwcm9wZXJ0eU5hbWVdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gRnJvbVJlY29yZChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgaWYgKENoZWNrKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpKVxuICAgICAgICByZXR1cm4gQ2xvbmUodmFsdWUpO1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpIHx8IHZhbHVlIGluc3RhbmNlb2YgRGF0ZSlcbiAgICAgICAgcmV0dXJuIENyZWF0ZShzY2hlbWEsIHJlZmVyZW5jZXMpO1xuICAgIGNvbnN0IHN1YnNjaGVtYVByb3BlcnR5TmFtZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcylbMF07XG4gICAgY29uc3Qgc3Vic2NoZW1hID0gc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzW3N1YnNjaGVtYVByb3BlcnR5TmFtZV07XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBbcHJvcEtleSwgcHJvcFZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0W3Byb3BLZXldID0gVmlzaXQoc3Vic2NoZW1hLCByZWZlcmVuY2VzLCBwcm9wVmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gRnJvbVJlZihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFZpc2l0KERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyksIHJlZmVyZW5jZXMsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21UaGlzKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gVmlzaXQoRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSwgcmVmZXJlbmNlcywgdmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbVR1cGxlKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoQ2hlY2soc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkpXG4gICAgICAgIHJldHVybiBDbG9uZSh2YWx1ZSk7XG4gICAgaWYgKCFJc0FycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIENyZWF0ZShzY2hlbWEsIHJlZmVyZW5jZXMpO1xuICAgIGlmIChzY2hlbWEuaXRlbXMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIHJldHVybiBzY2hlbWEuaXRlbXMubWFwKChzY2hlbWEsIGluZGV4KSA9PiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlW2luZGV4XSkpO1xufVxuZnVuY3Rpb24gRnJvbVVuaW9uKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gQ2hlY2soc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkgPyBDbG9uZSh2YWx1ZSkgOiBDYXN0VW5pb24oc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgY29uc3QgcmVmZXJlbmNlc18gPSBJc1N0cmluZyhzY2hlbWEuJGlkKSA/IFB1c2hyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSA6IHJlZmVyZW5jZXM7XG4gICAgY29uc3Qgc2NoZW1hXyA9IHNjaGVtYTtcbiAgICBzd2l0Y2ggKHNjaGVtYVtLaW5kXSkge1xuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBTdHJ1Y3R1cmFsXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQXJyYXkoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnQ29uc3RydWN0b3InOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Db25zdHJ1Y3RvcihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdJbXBvcnQnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21JbXBvcnQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnSW50ZXJzZWN0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tSW50ZXJzZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ05ldmVyJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tTmV2ZXIoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tT2JqZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1JlY29yZCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVJlY29yZChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdSZWYnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWYoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVGhpcyc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVRoaXMoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVHVwbGUnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21UdXBsZShzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdVbmlvbic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVVuaW9uKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIERlZmF1bHRDbG9uZVxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBjYXNlICdEYXRlJzpcbiAgICAgICAgY2FzZSAnU3ltYm9sJzpcbiAgICAgICAgY2FzZSAnVWludDhBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gRGVmYXVsdENsb25lKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpO1xuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBEZWZhdWx0XG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gRGVmYXVsdChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgIH1cbn1cbi8qKiBDYXN0cyBhIHZhbHVlIGludG8gYSBnaXZlbiB0eXBlLiBUaGUgcmV0dXJuIHZhbHVlIHdpbGwgcmV0YWluIGFzIG11Y2ggaW5mb3JtYXRpb24gb2YgdGhlIG9yaWdpbmFsIHZhbHVlIGFzIHBvc3NpYmxlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENhc3QoLi4uYXJncykge1xuICAgIHJldHVybiBhcmdzLmxlbmd0aCA9PT0gMyA/IFZpc2l0KGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pIDogVmlzaXQoYXJnc1swXSwgW10sIGFyZ3NbMV0pO1xufVxuIiwKICAgICJpbXBvcnQgeyBLZXlPZlByb3BlcnR5S2V5cyB9IGZyb20gJy4uLy4uL3R5cGUva2V5b2YvaW5kZXgubWpzJztcbmltcG9ydCB7IENoZWNrIH0gZnJvbSAnLi4vY2hlY2svaW5kZXgubWpzJztcbmltcG9ydCB7IENsb25lIH0gZnJvbSAnLi4vY2xvbmUvaW5kZXgubWpzJztcbmltcG9ydCB7IERlcmVmLCBQdXNocmVmIH0gZnJvbSAnLi4vZGVyZWYvaW5kZXgubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi8uLi90eXBlL3N5bWJvbHMvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVmFsdWVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBwcmV0dGllci1pZ25vcmVcbmltcG9ydCB7IEhhc1Byb3BlcnR5S2V5LCBJc1N0cmluZywgSXNPYmplY3QsIElzQXJyYXksIElzVW5kZWZpbmVkIH0gZnJvbSAnLi4vZ3VhcmQvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuaW1wb3J0IHsgSXNLaW5kIH0gZnJvbSAnLi4vLi4vdHlwZS9ndWFyZC9raW5kLm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIElzQ2hlY2thYmxlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIElzQ2hlY2thYmxlKHNjaGVtYSkge1xuICAgIHJldHVybiBJc0tpbmQoc2NoZW1hKSAmJiBzY2hlbWFbS2luZF0gIT09ICdVbnNhZmUnO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUeXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBGcm9tQXJyYXkoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGlmICghSXNBcnJheSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICByZXR1cm4gdmFsdWUubWFwKCh2YWx1ZSkgPT4gVmlzaXQoc2NoZW1hLml0ZW1zLCByZWZlcmVuY2VzLCB2YWx1ZSkpO1xufVxuZnVuY3Rpb24gRnJvbUltcG9ydChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgY29uc3QgZGVmaW5pdGlvbnMgPSBnbG9iYWxUaGlzLk9iamVjdC52YWx1ZXMoc2NoZW1hLiRkZWZzKTtcbiAgICBjb25zdCB0YXJnZXQgPSBzY2hlbWEuJGRlZnNbc2NoZW1hLiRyZWZdO1xuICAgIHJldHVybiBWaXNpdCh0YXJnZXQsIFsuLi5yZWZlcmVuY2VzLCAuLi5kZWZpbml0aW9uc10sIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21JbnRlcnNlY3Qoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGNvbnN0IHVuZXZhbHVhdGVkUHJvcGVydGllcyA9IHNjaGVtYS51bmV2YWx1YXRlZFByb3BlcnRpZXM7XG4gICAgY29uc3QgaW50ZXJzZWN0aW9ucyA9IHNjaGVtYS5hbGxPZi5tYXAoKHNjaGVtYSkgPT4gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzLCBDbG9uZSh2YWx1ZSkpKTtcbiAgICBjb25zdCBjb21wb3NpdGUgPSBpbnRlcnNlY3Rpb25zLnJlZHVjZSgoYWNjLCB2YWx1ZSkgPT4gKElzT2JqZWN0KHZhbHVlKSA/IHsgLi4uYWNjLCAuLi52YWx1ZSB9IDogdmFsdWUpLCB7fSk7XG4gICAgaWYgKCFJc09iamVjdCh2YWx1ZSkgfHwgIUlzT2JqZWN0KGNvbXBvc2l0ZSkgfHwgIUlzS2luZCh1bmV2YWx1YXRlZFByb3BlcnRpZXMpKVxuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIGNvbnN0IGtub3dua2V5cyA9IEtleU9mUHJvcGVydHlLZXlzKHNjaGVtYSk7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpKSB7XG4gICAgICAgIGlmIChrbm93bmtleXMuaW5jbHVkZXMoa2V5KSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAoQ2hlY2sodW5ldmFsdWF0ZWRQcm9wZXJ0aWVzLCByZWZlcmVuY2VzLCB2YWx1ZVtrZXldKSkge1xuICAgICAgICAgICAgY29tcG9zaXRlW2tleV0gPSBWaXNpdCh1bmV2YWx1YXRlZFByb3BlcnRpZXMsIHJlZmVyZW5jZXMsIHZhbHVlW2tleV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb21wb3NpdGU7XG59XG5mdW5jdGlvbiBGcm9tT2JqZWN0KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBpZiAoIUlzT2JqZWN0KHZhbHVlKSB8fCBJc0FycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHZhbHVlOyAvLyBDaGVjayBJc0FycmF5IGZvciBBbGxvd0FycmF5T2JqZWN0IGNvbmZpZ3VyYXRpb25cbiAgICBjb25zdCBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKEhhc1Byb3BlcnR5S2V5KHNjaGVtYS5wcm9wZXJ0aWVzLCBrZXkpKSB7XG4gICAgICAgICAgICB2YWx1ZVtrZXldID0gVmlzaXQoc2NoZW1hLnByb3BlcnRpZXNba2V5XSwgcmVmZXJlbmNlcywgdmFsdWVba2V5XSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoSXNLaW5kKGFkZGl0aW9uYWxQcm9wZXJ0aWVzKSAmJiBDaGVjayhhZGRpdGlvbmFsUHJvcGVydGllcywgcmVmZXJlbmNlcywgdmFsdWVba2V5XSkpIHtcbiAgICAgICAgICAgIHZhbHVlW2tleV0gPSBWaXNpdChhZGRpdGlvbmFsUHJvcGVydGllcywgcmVmZXJlbmNlcywgdmFsdWVba2V5XSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdmFsdWVba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gRnJvbVJlY29yZChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgaWYgKCFJc09iamVjdCh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICBjb25zdCBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICBjb25zdCBwcm9wZXJ0eUtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gICAgY29uc3QgW3Byb3BlcnR5S2V5LCBwcm9wZXJ0eVNjaGVtYV0gPSBPYmplY3QuZW50cmllcyhzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpWzBdO1xuICAgIGNvbnN0IHByb3BlcnR5S2V5VGVzdCA9IG5ldyBSZWdFeHAocHJvcGVydHlLZXkpO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIHByb3BlcnR5S2V5cykge1xuICAgICAgICBpZiAocHJvcGVydHlLZXlUZXN0LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgdmFsdWVba2V5XSA9IFZpc2l0KHByb3BlcnR5U2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZVtrZXldKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChJc0tpbmQoYWRkaXRpb25hbFByb3BlcnRpZXMpICYmIENoZWNrKGFkZGl0aW9uYWxQcm9wZXJ0aWVzLCByZWZlcmVuY2VzLCB2YWx1ZVtrZXldKSkge1xuICAgICAgICAgICAgdmFsdWVba2V5XSA9IFZpc2l0KGFkZGl0aW9uYWxQcm9wZXJ0aWVzLCByZWZlcmVuY2VzLCB2YWx1ZVtrZXldKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB2YWx1ZVtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBGcm9tUmVmKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gVmlzaXQoRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSwgcmVmZXJlbmNlcywgdmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbVRoaXMoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBWaXNpdChEZXJlZihzY2hlbWEsIHJlZmVyZW5jZXMpLCByZWZlcmVuY2VzLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tVHVwbGUoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGlmICghSXNBcnJheSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICBpZiAoSXNVbmRlZmluZWQoc2NoZW1hLml0ZW1zKSlcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWluKHZhbHVlLmxlbmd0aCwgc2NoZW1hLml0ZW1zLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZVtpXSA9IFZpc2l0KHNjaGVtYS5pdGVtc1tpXSwgcmVmZXJlbmNlcywgdmFsdWVbaV0pO1xuICAgIH1cbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gdmFsdWUubGVuZ3RoID4gbGVuZ3RoXG4gICAgICAgID8gdmFsdWUuc2xpY2UoMCwgbGVuZ3RoKVxuICAgICAgICA6IHZhbHVlO1xufVxuZnVuY3Rpb24gRnJvbVVuaW9uKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBmb3IgKGNvbnN0IGlubmVyIG9mIHNjaGVtYS5hbnlPZikge1xuICAgICAgICBpZiAoSXNDaGVja2FibGUoaW5uZXIpICYmIENoZWNrKGlubmVyLCByZWZlcmVuY2VzLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBWaXNpdChpbm5lciwgcmVmZXJlbmNlcywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIFZpc2l0KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBjb25zdCByZWZlcmVuY2VzXyA9IElzU3RyaW5nKHNjaGVtYS4kaWQpID8gUHVzaHJlZihzY2hlbWEsIHJlZmVyZW5jZXMpIDogcmVmZXJlbmNlcztcbiAgICBjb25zdCBzY2hlbWFfID0gc2NoZW1hO1xuICAgIHN3aXRjaCAoc2NoZW1hX1tLaW5kXSkge1xuICAgICAgICBjYXNlICdBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUFycmF5KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0ltcG9ydCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUltcG9ydChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdJbnRlcnNlY3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21JbnRlcnNlY3Qoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tT2JqZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1JlY29yZCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVJlY29yZChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdSZWYnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWYoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVGhpcyc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVRoaXMoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVHVwbGUnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21UdXBsZShzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdVbmlvbic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVVuaW9uKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuLyoqIGBbTXV0YWJsZV1gIFJlbW92ZXMgZXhjZXNzIHByb3BlcnRpZXMgZnJvbSBhIHZhbHVlIGFuZCByZXR1cm5zIHRoZSByZXN1bHQuIFRoaXMgZnVuY3Rpb24gZG9lcyBub3QgY2hlY2sgdGhlIHZhbHVlIGFuZCByZXR1cm5zIGFuIHVua25vd24gdHlwZS4gWW91IHNob3VsZCBDaGVjayB0aGUgcmVzdWx0IGJlZm9yZSB1c2UuIENsZWFuIGlzIGEgbXV0YWJsZSBvcGVyYXRpb24uIFRvIGF2b2lkIG11dGF0aW9uLCBDbG9uZSB0aGUgdmFsdWUgZmlyc3QuICovXG5leHBvcnQgZnVuY3Rpb24gQ2xlYW4oLi4uYXJncykge1xuICAgIHJldHVybiBhcmdzLmxlbmd0aCA9PT0gMyA/IFZpc2l0KGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pIDogVmlzaXQoYXJnc1swXSwgW10sIGFyZ3NbMV0pO1xufVxuIiwKICAgICJpbXBvcnQgeyBDbG9uZSB9IGZyb20gJy4uL2Nsb25lL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDaGVjayB9IGZyb20gJy4uL2NoZWNrL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBEZXJlZiwgUHVzaHJlZiB9IGZyb20gJy4uL2RlcmVmL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vLi4vdHlwZS9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFZhbHVlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNBcnJheSwgSXNPYmplY3QsIElzRGF0ZSwgSXNVbmRlZmluZWQsIElzU3RyaW5nLCBJc051bWJlciwgSXNCb29sZWFuLCBJc0JpZ0ludCwgSXNTeW1ib2wsIEhhc1Byb3BlcnR5S2V5IH0gZnJvbSAnLi4vZ3VhcmQvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ29udmVyc2lvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gSXNTdHJpbmdOdW1lcmljKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3RyaW5nKHZhbHVlKSAmJiAhaXNOYU4odmFsdWUpICYmICFpc05hTihwYXJzZUZsb2F0KHZhbHVlKSk7XG59XG5mdW5jdGlvbiBJc1ZhbHVlVG9TdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gSXNCaWdJbnQodmFsdWUpIHx8IElzQm9vbGVhbih2YWx1ZSkgfHwgSXNOdW1iZXIodmFsdWUpO1xufVxuZnVuY3Rpb24gSXNWYWx1ZVRydWUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgKElzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSA9PT0gMSkgfHwgKElzQmlnSW50KHZhbHVlKSAmJiB2YWx1ZSA9PT0gQmlnSW50KCcxJykpIHx8IChJc1N0cmluZyh2YWx1ZSkgJiYgKHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyB8fCB2YWx1ZSA9PT0gJzEnKSk7XG59XG5mdW5jdGlvbiBJc1ZhbHVlRmFsc2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IGZhbHNlIHx8IChJc051bWJlcih2YWx1ZSkgJiYgKHZhbHVlID09PSAwIHx8IE9iamVjdC5pcyh2YWx1ZSwgLTApKSkgfHwgKElzQmlnSW50KHZhbHVlKSAmJiB2YWx1ZSA9PT0gQmlnSW50KCcwJykpIHx8IChJc1N0cmluZyh2YWx1ZSkgJiYgKHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICdmYWxzZScgfHwgdmFsdWUgPT09ICcwJyB8fCB2YWx1ZSA9PT0gJy0wJykpO1xufVxuZnVuY3Rpb24gSXNUaW1lU3RyaW5nV2l0aFRpbWVab25lKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3RyaW5nKHZhbHVlKSAmJiAvXig/OlswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkfDIzOjU5OjYwKSg/OlxcLlxcZCspPyg/Onp8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8pJC9pLnRlc3QodmFsdWUpO1xufVxuZnVuY3Rpb24gSXNUaW1lU3RyaW5nV2l0aG91dFRpbWVab25lKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3RyaW5nKHZhbHVlKSAmJiAvXig/OlswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkfDIzOjU5OjYwKT8kL2kudGVzdCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBJc0RhdGVUaW1lU3RyaW5nV2l0aFRpbWVab25lKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3RyaW5nKHZhbHVlKSAmJiAvXlxcZFxcZFxcZFxcZC1bMC0xXVxcZC1bMC0zXVxcZHQoPzpbMC0yXVxcZDpbMC01XVxcZDpbMC01XVxcZHwyMzo1OTo2MCkoPzpcXC5cXGQrKT8oPzp6fFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/KSQvaS50ZXN0KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIElzRGF0ZVRpbWVTdHJpbmdXaXRob3V0VGltZVpvbmUodmFsdWUpIHtcbiAgICByZXR1cm4gSXNTdHJpbmcodmFsdWUpICYmIC9eXFxkXFxkXFxkXFxkLVswLTFdXFxkLVswLTNdXFxkdCg/OlswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkfDIzOjU5OjYwKT8kL2kudGVzdCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBJc0RhdGVTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gSXNTdHJpbmcodmFsdWUpICYmIC9eXFxkXFxkXFxkXFxkLVswLTFdXFxkLVswLTNdXFxkJC9pLnRlc3QodmFsdWUpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDb252ZXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIFRyeUNvbnZlcnRMaXRlcmFsU3RyaW5nKHZhbHVlLCB0YXJnZXQpIHtcbiAgICBjb25zdCBjb252ZXJzaW9uID0gVHJ5Q29udmVydFN0cmluZyh2YWx1ZSk7XG4gICAgcmV0dXJuIGNvbnZlcnNpb24gPT09IHRhcmdldCA/IGNvbnZlcnNpb24gOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIFRyeUNvbnZlcnRMaXRlcmFsTnVtYmVyKHZhbHVlLCB0YXJnZXQpIHtcbiAgICBjb25zdCBjb252ZXJzaW9uID0gVHJ5Q29udmVydE51bWJlcih2YWx1ZSk7XG4gICAgcmV0dXJuIGNvbnZlcnNpb24gPT09IHRhcmdldCA/IGNvbnZlcnNpb24gOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIFRyeUNvbnZlcnRMaXRlcmFsQm9vbGVhbih2YWx1ZSwgdGFyZ2V0KSB7XG4gICAgY29uc3QgY29udmVyc2lvbiA9IFRyeUNvbnZlcnRCb29sZWFuKHZhbHVlKTtcbiAgICByZXR1cm4gY29udmVyc2lvbiA9PT0gdGFyZ2V0ID8gY29udmVyc2lvbiA6IHZhbHVlO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBUcnlDb252ZXJ0TGl0ZXJhbChzY2hlbWEsIHZhbHVlKSB7XG4gICAgcmV0dXJuIChJc1N0cmluZyhzY2hlbWEuY29uc3QpID8gVHJ5Q29udmVydExpdGVyYWxTdHJpbmcodmFsdWUsIHNjaGVtYS5jb25zdCkgOlxuICAgICAgICBJc051bWJlcihzY2hlbWEuY29uc3QpID8gVHJ5Q29udmVydExpdGVyYWxOdW1iZXIodmFsdWUsIHNjaGVtYS5jb25zdCkgOlxuICAgICAgICAgICAgSXNCb29sZWFuKHNjaGVtYS5jb25zdCkgPyBUcnlDb252ZXJ0TGl0ZXJhbEJvb2xlYW4odmFsdWUsIHNjaGVtYS5jb25zdCkgOlxuICAgICAgICAgICAgICAgIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIFRyeUNvbnZlcnRCb29sZWFuKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzVmFsdWVUcnVlKHZhbHVlKSA/IHRydWUgOiBJc1ZhbHVlRmFsc2UodmFsdWUpID8gZmFsc2UgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIFRyeUNvbnZlcnRCaWdJbnQodmFsdWUpIHtcbiAgICBjb25zdCB0cnVuY2F0ZUludGVnZXIgPSAodmFsdWUpID0+IHZhbHVlLnNwbGl0KCcuJylbMF07XG4gICAgcmV0dXJuIElzU3RyaW5nTnVtZXJpYyh2YWx1ZSkgPyBCaWdJbnQodHJ1bmNhdGVJbnRlZ2VyKHZhbHVlKSkgOiBJc051bWJlcih2YWx1ZSkgPyBCaWdJbnQoTWF0aC50cnVuYyh2YWx1ZSkpIDogSXNWYWx1ZUZhbHNlKHZhbHVlKSA/IEJpZ0ludCgwKSA6IElzVmFsdWVUcnVlKHZhbHVlKSA/IEJpZ0ludCgxKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gVHJ5Q29udmVydFN0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiBJc1N5bWJvbCh2YWx1ZSkgJiYgdmFsdWUuZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCA/IHZhbHVlLmRlc2NyaXB0aW9uLnRvU3RyaW5nKCkgOiBJc1ZhbHVlVG9TdHJpbmcodmFsdWUpID8gdmFsdWUudG9TdHJpbmcoKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gVHJ5Q29udmVydE51bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiBJc1N0cmluZ051bWVyaWModmFsdWUpID8gcGFyc2VGbG9hdCh2YWx1ZSkgOiBJc1ZhbHVlVHJ1ZSh2YWx1ZSkgPyAxIDogSXNWYWx1ZUZhbHNlKHZhbHVlKSA/IDAgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIFRyeUNvbnZlcnRJbnRlZ2VyKHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3RyaW5nTnVtZXJpYyh2YWx1ZSkgPyBwYXJzZUludCh2YWx1ZSkgOiBJc051bWJlcih2YWx1ZSkgPyBNYXRoLnRydW5jKHZhbHVlKSA6IElzVmFsdWVUcnVlKHZhbHVlKSA/IDEgOiBJc1ZhbHVlRmFsc2UodmFsdWUpID8gMCA6IHZhbHVlO1xufVxuZnVuY3Rpb24gVHJ5Q29udmVydE51bGwodmFsdWUpIHtcbiAgICByZXR1cm4gSXNTdHJpbmcodmFsdWUpICYmIHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICdudWxsJyA/IG51bGwgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIFRyeUNvbnZlcnRVbmRlZmluZWQodmFsdWUpIHtcbiAgICByZXR1cm4gSXNTdHJpbmcodmFsdWUpICYmIHZhbHVlID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IHZhbHVlO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBub3RlOiB0aGlzIGZ1bmN0aW9uIG1heSByZXR1cm4gYW4gaW52YWxpZCBkYXRlcyBmb3IgdGhlIHJlZ2V4XG4vLyB0ZXN0cyBhYm92ZS4gSW52YWxpZCBkYXRlcyB3aWxsIGhvd2V2ZXIgYmUgY2hlY2tlZCBkdXJpbmcgdGhlXG4vLyBjYXN0aW5nIGZ1bmN0aW9uIGFuZCB3aWxsIHJldHVybiBhIGVwb2NoIGRhdGUgaWYgaW52YWxpZC5cbi8vIENvbnNpZGVyIGJldHRlciBzdHJpbmcgcGFyc2luZyBmb3IgdGhlIGlzbyBkYXRlcyBpbiBmdXR1cmVcbi8vIHJldmlzaW9ucy5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBUcnlDb252ZXJ0RGF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiAoSXNEYXRlKHZhbHVlKSA/IHZhbHVlIDpcbiAgICAgICAgSXNOdW1iZXIodmFsdWUpID8gbmV3IERhdGUodmFsdWUpIDpcbiAgICAgICAgICAgIElzVmFsdWVUcnVlKHZhbHVlKSA/IG5ldyBEYXRlKDEpIDpcbiAgICAgICAgICAgICAgICBJc1ZhbHVlRmFsc2UodmFsdWUpID8gbmV3IERhdGUoMCkgOlxuICAgICAgICAgICAgICAgICAgICBJc1N0cmluZ051bWVyaWModmFsdWUpID8gbmV3IERhdGUocGFyc2VJbnQodmFsdWUpKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBJc1RpbWVTdHJpbmdXaXRob3V0VGltZVpvbmUodmFsdWUpID8gbmV3IERhdGUoYDE5NzAtMDEtMDFUJHt2YWx1ZX0uMDAwWmApIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc1RpbWVTdHJpbmdXaXRoVGltZVpvbmUodmFsdWUpID8gbmV3IERhdGUoYDE5NzAtMDEtMDFUJHt2YWx1ZX1gKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzRGF0ZVRpbWVTdHJpbmdXaXRob3V0VGltZVpvbmUodmFsdWUpID8gbmV3IERhdGUoYCR7dmFsdWV9LjAwMFpgKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc0RhdGVUaW1lU3RyaW5nV2l0aFRpbWVab25lKHZhbHVlKSA/IG5ldyBEYXRlKHZhbHVlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNEYXRlU3RyaW5nKHZhbHVlKSA/IG5ldyBEYXRlKGAke3ZhbHVlfVQwMDowMDowMC4wMDBaYCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIERlZmF1bHRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gRGVmYXVsdCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ29udmVydFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBGcm9tQXJyYXkoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGNvbnN0IGVsZW1lbnRzID0gSXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gICAgcmV0dXJuIGVsZW1lbnRzLm1hcCgoZWxlbWVudCkgPT4gVmlzaXQoc2NoZW1hLml0ZW1zLCByZWZlcmVuY2VzLCBlbGVtZW50KSk7XG59XG5mdW5jdGlvbiBGcm9tQmlnSW50KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gVHJ5Q29udmVydEJpZ0ludCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tQm9vbGVhbihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFRyeUNvbnZlcnRCb29sZWFuKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21EYXRlKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gVHJ5Q29udmVydERhdGUodmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbUltcG9ydChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgY29uc3QgZGVmaW5pdGlvbnMgPSBnbG9iYWxUaGlzLk9iamVjdC52YWx1ZXMoc2NoZW1hLiRkZWZzKTtcbiAgICBjb25zdCB0YXJnZXQgPSBzY2hlbWEuJGRlZnNbc2NoZW1hLiRyZWZdO1xuICAgIHJldHVybiBWaXNpdCh0YXJnZXQsIFsuLi5yZWZlcmVuY2VzLCAuLi5kZWZpbml0aW9uc10sIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21JbnRlZ2VyKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gVHJ5Q29udmVydEludGVnZXIodmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbUludGVyc2VjdChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHNjaGVtYS5hbGxPZi5yZWR1Y2UoKHZhbHVlLCBzY2hlbWEpID0+IFZpc2l0KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tTGl0ZXJhbChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFRyeUNvbnZlcnRMaXRlcmFsKHNjaGVtYSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbU51bGwoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBUcnlDb252ZXJ0TnVsbCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tTnVtYmVyKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gVHJ5Q29udmVydE51bWJlcih2YWx1ZSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21PYmplY3Qoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGlmICghSXNPYmplY3QodmFsdWUpIHx8IElzQXJyYXkodmFsdWUpKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgZm9yIChjb25zdCBwcm9wZXJ0eUtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzY2hlbWEucHJvcGVydGllcykpIHtcbiAgICAgICAgaWYgKCFIYXNQcm9wZXJ0eUtleSh2YWx1ZSwgcHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIHZhbHVlW3Byb3BlcnR5S2V5XSA9IFZpc2l0KHNjaGVtYS5wcm9wZXJ0aWVzW3Byb3BlcnR5S2V5XSwgcmVmZXJlbmNlcywgdmFsdWVbcHJvcGVydHlLZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gRnJvbVJlY29yZChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgY29uc3QgaXNDb252ZXJ0YWJsZSA9IElzT2JqZWN0KHZhbHVlKSAmJiAhSXNBcnJheSh2YWx1ZSk7XG4gICAgaWYgKCFpc0NvbnZlcnRhYmxlKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgY29uc3QgcHJvcGVydHlLZXkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpWzBdO1xuICAgIGNvbnN0IHByb3BlcnR5ID0gc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzW3Byb3BlcnR5S2V5XTtcbiAgICBmb3IgKGNvbnN0IFtwcm9wS2V5LCBwcm9wVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZVtwcm9wS2V5XSA9IFZpc2l0KHByb3BlcnR5LCByZWZlcmVuY2VzLCBwcm9wVmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBGcm9tUmVmKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gVmlzaXQoRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKSwgcmVmZXJlbmNlcywgdmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbVN0cmluZyhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFRyeUNvbnZlcnRTdHJpbmcodmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbVN5bWJvbChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIElzU3RyaW5nKHZhbHVlKSB8fCBJc051bWJlcih2YWx1ZSkgPyBTeW1ib2wodmFsdWUpIDogdmFsdWU7XG59XG5mdW5jdGlvbiBGcm9tVGhpcyhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFZpc2l0KERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyksIHJlZmVyZW5jZXMsIHZhbHVlKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVR1cGxlKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBjb25zdCBpc0NvbnZlcnRhYmxlID0gSXNBcnJheSh2YWx1ZSkgJiYgIUlzVW5kZWZpbmVkKHNjaGVtYS5pdGVtcyk7XG4gICAgaWYgKCFpc0NvbnZlcnRhYmxlKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgcmV0dXJuIHZhbHVlLm1hcCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiAoaW5kZXggPCBzY2hlbWEuaXRlbXMubGVuZ3RoKVxuICAgICAgICAgICAgPyBWaXNpdChzY2hlbWEuaXRlbXNbaW5kZXhdLCByZWZlcmVuY2VzLCB2YWx1ZSlcbiAgICAgICAgICAgIDogdmFsdWU7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBGcm9tVW5kZWZpbmVkKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gVHJ5Q29udmVydFVuZGVmaW5lZCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBGcm9tVW5pb24oc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIC8vIENoZWNrIGlmIG9yaWdpbmFsIHZhbHVlIGFscmVhZHkgbWF0Y2hlcyBvbmUgb2YgdGhlIHVuaW9uIHZhcmlhbnRzXG4gICAgZm9yIChjb25zdCBzdWJzY2hlbWEgb2Ygc2NoZW1hLmFueU9mKSB7XG4gICAgICAgIGlmIChDaGVjayhzdWJzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEF0dGVtcHQgY29udmVyc2lvbiBmb3IgZWFjaCB2YXJpYW50XG4gICAgZm9yIChjb25zdCBzdWJzY2hlbWEgb2Ygc2NoZW1hLmFueU9mKSB7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZCA9IFZpc2l0KHN1YnNjaGVtYSwgcmVmZXJlbmNlcywgQ2xvbmUodmFsdWUpKTtcbiAgICAgICAgaWYgKCFDaGVjayhzdWJzY2hlbWEsIHJlZmVyZW5jZXMsIGNvbnZlcnRlZCkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRlZDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGNvbnN0IHJlZmVyZW5jZXNfID0gUHVzaHJlZihzY2hlbWEsIHJlZmVyZW5jZXMpO1xuICAgIGNvbnN0IHNjaGVtYV8gPSBzY2hlbWE7XG4gICAgc3dpdGNoIChzY2hlbWFbS2luZF0pIHtcbiAgICAgICAgY2FzZSAnQXJyYXknOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21BcnJheShzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdCaWdJbnQnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21CaWdJbnQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnQm9vbGVhbic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUJvb2xlYW4oc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnRGF0ZSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbURhdGUoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnSW1wb3J0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tSW1wb3J0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0ludGVnZXInOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21JbnRlZ2VyKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0ludGVyc2VjdCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUludGVyc2VjdChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdMaXRlcmFsJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tTGl0ZXJhbChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdOdWxsJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tTnVsbChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdOdW1iZXInOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21OdW1iZXIoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tT2JqZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1JlY29yZCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVJlY29yZChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdSZWYnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWYoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnU3RyaW5nJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tU3RyaW5nKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1N5bWJvbCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVN5bWJvbChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdUaGlzJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVGhpcyhzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdUdXBsZSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVR1cGxlKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1VuZGVmaW5lZCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVVuZGVmaW5lZChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdVbmlvbic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVVuaW9uKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gRGVmYXVsdCh2YWx1ZSk7XG4gICAgfVxufVxuLyoqIGBbTXV0YWJsZV1gIENvbnZlcnRzIGFueSB0eXBlIG1pc21hdGNoZWQgdmFsdWVzIHRvIHRoZWlyIHRhcmdldCB0eXBlIGlmIGEgcmVhc29uYWJsZSBjb252ZXJzaW9uIGlzIHBvc3NpYmxlLiAqL1xuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gQ29udmVydCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIGFyZ3MubGVuZ3RoID09PSAzID8gVmlzaXQoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSkgOiBWaXNpdChhcmdzWzBdLCBbXSwgYXJnc1sxXSk7XG59XG4iLAogICAgImltcG9ydCB7IFR5cGVTeXN0ZW1Qb2xpY3kgfSBmcm9tICcuLi8uLi9zeXN0ZW0vcG9saWN5Lm1qcyc7XG5pbXBvcnQgeyBLaW5kLCBUcmFuc2Zvcm1LaW5kIH0gZnJvbSAnLi4vLi4vdHlwZS9zeW1ib2xzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUeXBlQm94RXJyb3IgfSBmcm9tICcuLi8uLi90eXBlL2Vycm9yL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLZXlPZlByb3BlcnR5S2V5cywgS2V5T2ZQcm9wZXJ0eUVudHJpZXMgfSBmcm9tICcuLi8uLi90eXBlL2tleW9mL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBEZXJlZiwgUHVzaHJlZiB9IGZyb20gJy4uL2RlcmVmL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDaGVjayB9IGZyb20gJy4uL2NoZWNrL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFZhbHVlR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSGFzUHJvcGVydHlLZXksIElzT2JqZWN0LCBJc0FycmF5LCBJc1ZhbHVlVHlwZSwgSXNVbmRlZmluZWQgYXMgSXNVbmRlZmluZWRWYWx1ZSB9IGZyb20gJy4uL2d1YXJkL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEtpbmRHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc1RyYW5zZm9ybSwgSXNTY2hlbWEsIElzVW5kZWZpbmVkIH0gZnJvbSAnLi4vLi4vdHlwZS9ndWFyZC9raW5kLm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEVycm9yc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyB0aHJvd24gZXh0ZXJuYWxseVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtRGVjb2RlQ2hlY2tFcnJvciBleHRlbmRzIFR5cGVCb3hFcnJvciB7XG4gICAgY29uc3RydWN0b3Ioc2NoZW1hLCB2YWx1ZSwgZXJyb3IpIHtcbiAgICAgICAgc3VwZXIoYFVuYWJsZSB0byBkZWNvZGUgdmFsdWUgYXMgaXQgZG9lcyBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIHNjaGVtYWApO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgfVxufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtRGVjb2RlRXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHNjaGVtYSwgcGF0aCwgdmFsdWUsIGVycm9yKSB7XG4gICAgICAgIHN1cGVyKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InKTtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgIH1cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRGVjb2RlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIElzVHJhbnNmb3JtKHNjaGVtYSkgPyBzY2hlbWFbVHJhbnNmb3JtS2luZF0uRGVjb2RlKHZhbHVlKSA6IHZhbHVlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRyYW5zZm9ybURlY29kZUVycm9yKHNjaGVtYSwgcGF0aCwgdmFsdWUsIGVycm9yKTtcbiAgICB9XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21BcnJheShzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIChJc0FycmF5KHZhbHVlKSlcbiAgICAgICAgPyBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdmFsdWUubWFwKCh2YWx1ZSwgaW5kZXgpID0+IFZpc2l0KHNjaGVtYS5pdGVtcywgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHtpbmRleH1gLCB2YWx1ZSkpKVxuICAgICAgICA6IERlZmF1bHQoc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21JbnRlcnNlY3Qoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGlmICghSXNPYmplY3QodmFsdWUpIHx8IElzVmFsdWVUeXBlKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIERlZmF1bHQoc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgY29uc3Qga25vd25FbnRyaWVzID0gS2V5T2ZQcm9wZXJ0eUVudHJpZXMoc2NoZW1hKTtcbiAgICBjb25zdCBrbm93bktleXMgPSBrbm93bkVudHJpZXMubWFwKGVudHJ5ID0+IGVudHJ5WzBdKTtcbiAgICBjb25zdCBrbm93blByb3BlcnRpZXMgPSB7IC4uLnZhbHVlIH07XG4gICAgZm9yIChjb25zdCBba25vd25LZXksIGtub3duU2NoZW1hXSBvZiBrbm93bkVudHJpZXMpXG4gICAgICAgIGlmIChrbm93bktleSBpbiBrbm93blByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGtub3duUHJvcGVydGllc1trbm93bktleV0gPSBWaXNpdChrbm93blNjaGVtYSwgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHtrbm93bktleX1gLCBrbm93blByb3BlcnRpZXNba25vd25LZXldKTtcbiAgICAgICAgfVxuICAgIGlmICghSXNUcmFuc2Zvcm0oc2NoZW1hLnVuZXZhbHVhdGVkUHJvcGVydGllcykpIHtcbiAgICAgICAgcmV0dXJuIERlZmF1bHQoc2NoZW1hLCBwYXRoLCBrbm93blByb3BlcnRpZXMpO1xuICAgIH1cbiAgICBjb25zdCB1bmtub3duS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGtub3duUHJvcGVydGllcyk7XG4gICAgY29uc3QgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gc2NoZW1hLnVuZXZhbHVhdGVkUHJvcGVydGllcztcbiAgICBjb25zdCB1bmtub3duUHJvcGVydGllcyA9IHsgLi4ua25vd25Qcm9wZXJ0aWVzIH07XG4gICAgZm9yIChjb25zdCBrZXkgb2YgdW5rbm93bktleXMpXG4gICAgICAgIGlmICgha25vd25LZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgIHVua25vd25Qcm9wZXJ0aWVzW2tleV0gPSBEZWZhdWx0KHVuZXZhbHVhdGVkUHJvcGVydGllcywgYCR7cGF0aH0vJHtrZXl9YCwgdW5rbm93blByb3BlcnRpZXNba2V5XSk7XG4gICAgICAgIH1cbiAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHVua25vd25Qcm9wZXJ0aWVzKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUltcG9ydChzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgY29uc3QgYWRkaXRpb25hbCA9IGdsb2JhbFRoaXMuT2JqZWN0LnZhbHVlcyhzY2hlbWEuJGRlZnMpO1xuICAgIGNvbnN0IHRhcmdldCA9IHNjaGVtYS4kZGVmc1tzY2hlbWEuJHJlZl07XG4gICAgY29uc3QgcmVzdWx0ID0gVmlzaXQodGFyZ2V0LCBbLi4ucmVmZXJlbmNlcywgLi4uYWRkaXRpb25hbF0sIHBhdGgsIHZhbHVlKTtcbiAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHJlc3VsdCk7XG59XG5mdW5jdGlvbiBGcm9tTm90KHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIFZpc2l0KHNjaGVtYS5ub3QsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21PYmplY3Qoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGlmICghSXNPYmplY3QodmFsdWUpKVxuICAgICAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICBjb25zdCBrbm93bktleXMgPSBLZXlPZlByb3BlcnR5S2V5cyhzY2hlbWEpO1xuICAgIGNvbnN0IGtub3duUHJvcGVydGllcyA9IHsgLi4udmFsdWUgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrbm93bktleXMpIHtcbiAgICAgICAgaWYgKCFIYXNQcm9wZXJ0eUtleShrbm93blByb3BlcnRpZXMsIGtleSkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgLy8gaWYgdGhlIHByb3BlcnR5IHZhbHVlIGlzIHVuZGVmaW5lZCwgYnV0IHRoZSB0YXJnZXQgaXMgbm90LCBub3IgZG9lcyBpdCBzYXRpc2Z5IGV4YWN0IG9wdGlvbmFsIFxuICAgICAgICAvLyBwcm9wZXJ0eSBwb2xpY3ksIHRoZW4gd2UgbmVlZCB0byBjb250aW51ZS4gVGhpcyBpcyBhIHNwZWNpYWwgY2FzZSBmb3Igb3B0aW9uYWwgcHJvcGVydHkgaGFuZGxpbmcgXG4gICAgICAgIC8vIHdoZXJlIGEgdHJhbnNmb3JtcyB3cmFwcGVkIGluIGEgb3B0aW9uYWwgbW9kaWZpZXJzIHNob3VsZCBub3QgcnVuLlxuICAgICAgICBpZiAoSXNVbmRlZmluZWRWYWx1ZShrbm93blByb3BlcnRpZXNba2V5XSkgJiYgKCFJc1VuZGVmaW5lZChzY2hlbWEucHJvcGVydGllc1trZXldKSB8fFxuICAgICAgICAgICAgVHlwZVN5c3RlbVBvbGljeS5Jc0V4YWN0T3B0aW9uYWxQcm9wZXJ0eShrbm93blByb3BlcnRpZXMsIGtleSkpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIC8vIGRlY29kZSBwcm9wZXJ0eVxuICAgICAgICBrbm93blByb3BlcnRpZXNba2V5XSA9IFZpc2l0KHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0sIHJlZmVyZW5jZXMsIGAke3BhdGh9LyR7a2V5fWAsIGtub3duUHJvcGVydGllc1trZXldKTtcbiAgICB9XG4gICAgaWYgKCFJc1NjaGVtYShzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0KHNjaGVtYSwgcGF0aCwga25vd25Qcm9wZXJ0aWVzKTtcbiAgICB9XG4gICAgY29uc3QgdW5rbm93bktleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhrbm93blByb3BlcnRpZXMpO1xuICAgIGNvbnN0IGFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IHVua25vd25Qcm9wZXJ0aWVzID0geyAuLi5rbm93blByb3BlcnRpZXMgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiB1bmtub3duS2V5cylcbiAgICAgICAgaWYgKCFrbm93bktleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgdW5rbm93blByb3BlcnRpZXNba2V5XSA9IERlZmF1bHQoYWRkaXRpb25hbFByb3BlcnRpZXMsIGAke3BhdGh9LyR7a2V5fWAsIHVua25vd25Qcm9wZXJ0aWVzW2tleV0pO1xuICAgICAgICB9XG4gICAgcmV0dXJuIERlZmF1bHQoc2NoZW1hLCBwYXRoLCB1bmtub3duUHJvcGVydGllcyk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZWNvcmQoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGlmICghSXNPYmplY3QodmFsdWUpKVxuICAgICAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICBjb25zdCBwYXR0ZXJuID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKVswXTtcbiAgICBjb25zdCBrbm93bktleXMgPSBuZXcgUmVnRXhwKHBhdHRlcm4pO1xuICAgIGNvbnN0IGtub3duUHJvcGVydGllcyA9IHsgLi4udmFsdWUgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpXG4gICAgICAgIGlmIChrbm93bktleXMudGVzdChrZXkpKSB7XG4gICAgICAgICAgICBrbm93blByb3BlcnRpZXNba2V5XSA9IFZpc2l0KHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1twYXR0ZXJuXSwgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHtrZXl9YCwga25vd25Qcm9wZXJ0aWVzW2tleV0pO1xuICAgICAgICB9XG4gICAgaWYgKCFJc1NjaGVtYShzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0KHNjaGVtYSwgcGF0aCwga25vd25Qcm9wZXJ0aWVzKTtcbiAgICB9XG4gICAgY29uc3QgdW5rbm93bktleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhrbm93blByb3BlcnRpZXMpO1xuICAgIGNvbnN0IGFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IHVua25vd25Qcm9wZXJ0aWVzID0geyAuLi5rbm93blByb3BlcnRpZXMgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiB1bmtub3duS2V5cylcbiAgICAgICAgaWYgKCFrbm93bktleXMudGVzdChrZXkpKSB7XG4gICAgICAgICAgICB1bmtub3duUHJvcGVydGllc1trZXldID0gRGVmYXVsdChhZGRpdGlvbmFsUHJvcGVydGllcywgYCR7cGF0aH0vJHtrZXl9YCwgdW5rbm93blByb3BlcnRpZXNba2V5XSk7XG4gICAgICAgIH1cbiAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHVua25vd25Qcm9wZXJ0aWVzKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVJlZihzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gRGVyZWYoc2NoZW1hLCByZWZlcmVuY2VzKTtcbiAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIFZpc2l0KHRhcmdldCwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVRoaXMoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgcmV0dXJuIERlZmF1bHQoc2NoZW1hLCBwYXRoLCBWaXNpdCh0YXJnZXQsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21UdXBsZShzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIChJc0FycmF5KHZhbHVlKSAmJiBJc0FycmF5KHNjaGVtYS5pdGVtcykpXG4gICAgICAgID8gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHNjaGVtYS5pdGVtcy5tYXAoKHNjaGVtYSwgaW5kZXgpID0+IFZpc2l0KHNjaGVtYSwgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHtpbmRleH1gLCB2YWx1ZVtpbmRleF0pKSlcbiAgICAgICAgOiBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tVW5pb24oc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGZvciAoY29uc3Qgc3Vic2NoZW1hIG9mIHNjaGVtYS5hbnlPZikge1xuICAgICAgICBpZiAoIUNoZWNrKHN1YnNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIC8vIG5vdGU6IGVuc3VyZSBpbnRlcmlvciBpcyBkZWNvZGVkIGZpcnN0XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBWaXNpdChzdWJzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIERlZmF1bHQoc2NoZW1hLCBwYXRoLCBkZWNvZGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIERlZmF1bHQoc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIFZpc2l0KHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBjb25zdCByZWZlcmVuY2VzXyA9IFB1c2hyZWYoc2NoZW1hLCByZWZlcmVuY2VzKTtcbiAgICBjb25zdCBzY2hlbWFfID0gc2NoZW1hO1xuICAgIHN3aXRjaCAoc2NoZW1hW0tpbmRdKSB7XG4gICAgICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQXJyYXkoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnSW1wb3J0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tSW1wb3J0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0ludGVyc2VjdCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUludGVyc2VjdChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdOb3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Ob3Qoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tT2JqZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1JlY29yZCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVJlY29yZChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdSZWYnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWYoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnU3ltYm9sJzpcbiAgICAgICAgICAgIHJldHVybiBEZWZhdWx0KHNjaGVtYV8sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVGhpcyc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVRoaXMoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVHVwbGUnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21UdXBsZShzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdVbmlvbic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVVuaW9uKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gRGVmYXVsdChzY2hlbWFfLCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBgW0ludGVybmFsXWAgRGVjb2RlcyB0aGUgdmFsdWUgYW5kIHJldHVybnMgdGhlIHJlc3VsdC4gVGhpcyBmdW5jdGlvbiByZXF1aXJlcyB0aGF0XG4gKiB0aGUgY2FsbGVyIGBDaGVja2AgdGhlIHZhbHVlIGJlZm9yZSB1c2UuIFBhc3NpbmcgdW5jaGVja2VkIHZhbHVlcyBtYXkgcmVzdWx0IGluXG4gKiB1bmRlZmluZWQgYmVoYXZpb3IuIFJlZmVyIHRvIHRoZSBgVmFsdWUuRGVjb2RlKClgIGZvciBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gVHJhbnNmb3JtRGVjb2RlKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzLCAnJywgdmFsdWUpO1xufVxuIiwKICAgICJpbXBvcnQgeyBUeXBlU3lzdGVtUG9saWN5IH0gZnJvbSAnLi4vLi4vc3lzdGVtL3BvbGljeS5tanMnO1xuaW1wb3J0IHsgS2luZCwgVHJhbnNmb3JtS2luZCB9IGZyb20gJy4uLy4uL3R5cGUvc3ltYm9scy9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHlwZUJveEVycm9yIH0gZnJvbSAnLi4vLi4vdHlwZS9lcnJvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgS2V5T2ZQcm9wZXJ0eUtleXMsIEtleU9mUHJvcGVydHlFbnRyaWVzIH0gZnJvbSAnLi4vLi4vdHlwZS9rZXlvZi9pbmRleC5tanMnO1xuaW1wb3J0IHsgRGVyZWYsIFB1c2hyZWYgfSBmcm9tICcuLi9kZXJlZi9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2hlY2sgfSBmcm9tICcuLi9jaGVjay9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IEhhc1Byb3BlcnR5S2V5LCBJc09iamVjdCwgSXNBcnJheSwgSXNWYWx1ZVR5cGUsIElzVW5kZWZpbmVkIGFzIElzVW5kZWZpbmVkVmFsdWUgfSBmcm9tICcuLi9ndWFyZC9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBLaW5kR3VhcmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0IHsgSXNUcmFuc2Zvcm0sIElzU2NoZW1hLCBJc1VuZGVmaW5lZCB9IGZyb20gJy4uLy4uL3R5cGUvZ3VhcmQva2luZC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFcnJvcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtRW5jb2RlQ2hlY2tFcnJvciBleHRlbmRzIFR5cGVCb3hFcnJvciB7XG4gICAgY29uc3RydWN0b3Ioc2NoZW1hLCB2YWx1ZSwgZXJyb3IpIHtcbiAgICAgICAgc3VwZXIoYFRoZSBlbmNvZGVkIHZhbHVlIGRvZXMgbm90IG1hdGNoIHRoZSBleHBlY3RlZCBzY2hlbWFgKTtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgIH1cbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGNsYXNzIFRyYW5zZm9ybUVuY29kZUVycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihzY2hlbWEsIHBhdGgsIHZhbHVlLCBlcnJvcikge1xuICAgICAgICBzdXBlcihgJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgIH1cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRW5jb2RlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIElzVHJhbnNmb3JtKHNjaGVtYSkgPyBzY2hlbWFbVHJhbnNmb3JtS2luZF0uRW5jb2RlKHZhbHVlKSA6IHZhbHVlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRyYW5zZm9ybUVuY29kZUVycm9yKHNjaGVtYSwgcGF0aCwgdmFsdWUsIGVycm9yKTtcbiAgICB9XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21BcnJheShzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgY29uc3QgZGVmYXVsdGVkID0gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICByZXR1cm4gSXNBcnJheShkZWZhdWx0ZWQpXG4gICAgICAgID8gZGVmYXVsdGVkLm1hcCgodmFsdWUsIGluZGV4KSA9PiBWaXNpdChzY2hlbWEuaXRlbXMsIHJlZmVyZW5jZXMsIGAke3BhdGh9LyR7aW5kZXh9YCwgdmFsdWUpKVxuICAgICAgICA6IGRlZmF1bHRlZDtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUltcG9ydChzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgY29uc3QgYWRkaXRpb25hbCA9IGdsb2JhbFRoaXMuT2JqZWN0LnZhbHVlcyhzY2hlbWEuJGRlZnMpO1xuICAgIGNvbnN0IHRhcmdldCA9IHNjaGVtYS4kZGVmc1tzY2hlbWEuJHJlZl07XG4gICAgY29uc3QgcmVzdWx0ID0gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHZhbHVlKTtcbiAgICByZXR1cm4gVmlzaXQodGFyZ2V0LCBbLi4ucmVmZXJlbmNlcywgLi4uYWRkaXRpb25hbF0sIHBhdGgsIHJlc3VsdCk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21JbnRlcnNlY3Qoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGNvbnN0IGRlZmF1bHRlZCA9IERlZmF1bHQoc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgaWYgKCFJc09iamVjdCh2YWx1ZSkgfHwgSXNWYWx1ZVR5cGUodmFsdWUpKVxuICAgICAgICByZXR1cm4gZGVmYXVsdGVkO1xuICAgIGNvbnN0IGtub3duRW50cmllcyA9IEtleU9mUHJvcGVydHlFbnRyaWVzKHNjaGVtYSk7XG4gICAgY29uc3Qga25vd25LZXlzID0ga25vd25FbnRyaWVzLm1hcChlbnRyeSA9PiBlbnRyeVswXSk7XG4gICAgY29uc3Qga25vd25Qcm9wZXJ0aWVzID0geyAuLi5kZWZhdWx0ZWQgfTtcbiAgICBmb3IgKGNvbnN0IFtrbm93bktleSwga25vd25TY2hlbWFdIG9mIGtub3duRW50cmllcylcbiAgICAgICAgaWYgKGtub3duS2V5IGluIGtub3duUHJvcGVydGllcykge1xuICAgICAgICAgICAga25vd25Qcm9wZXJ0aWVzW2tub3duS2V5XSA9IFZpc2l0KGtub3duU2NoZW1hLCByZWZlcmVuY2VzLCBgJHtwYXRofS8ke2tub3duS2V5fWAsIGtub3duUHJvcGVydGllc1trbm93bktleV0pO1xuICAgICAgICB9XG4gICAgaWYgKCFJc1RyYW5zZm9ybShzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzKSkge1xuICAgICAgICByZXR1cm4ga25vd25Qcm9wZXJ0aWVzO1xuICAgIH1cbiAgICBjb25zdCB1bmtub3duS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGtub3duUHJvcGVydGllcyk7XG4gICAgY29uc3QgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gc2NoZW1hLnVuZXZhbHVhdGVkUHJvcGVydGllcztcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0geyAuLi5rbm93blByb3BlcnRpZXMgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiB1bmtub3duS2V5cylcbiAgICAgICAgaWYgKCFrbm93bktleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgcHJvcGVydGllc1trZXldID0gRGVmYXVsdCh1bmV2YWx1YXRlZFByb3BlcnRpZXMsIGAke3BhdGh9LyR7a2V5fWAsIHByb3BlcnRpZXNba2V5XSk7XG4gICAgICAgIH1cbiAgICByZXR1cm4gcHJvcGVydGllcztcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU5vdChzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIERlZmF1bHQoc2NoZW1hLm5vdCwgcGF0aCwgRGVmYXVsdChzY2hlbWEsIHBhdGgsIHZhbHVlKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21PYmplY3Qoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGNvbnN0IGRlZmF1bHRlZCA9IERlZmF1bHQoc2NoZW1hLCBwYXRoLCB2YWx1ZSk7XG4gICAgaWYgKCFJc09iamVjdChkZWZhdWx0ZWQpKVxuICAgICAgICByZXR1cm4gZGVmYXVsdGVkO1xuICAgIGNvbnN0IGtub3duS2V5cyA9IEtleU9mUHJvcGVydHlLZXlzKHNjaGVtYSk7XG4gICAgY29uc3Qga25vd25Qcm9wZXJ0aWVzID0geyAuLi5kZWZhdWx0ZWQgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrbm93bktleXMpIHtcbiAgICAgICAgaWYgKCFIYXNQcm9wZXJ0eUtleShrbm93blByb3BlcnRpZXMsIGtleSkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgLy8gaWYgdGhlIHByb3BlcnR5IHZhbHVlIGlzIHVuZGVmaW5lZCwgYnV0IHRoZSB0YXJnZXQgaXMgbm90LCBub3IgZG9lcyBpdCBzYXRpc2Z5IGV4YWN0IG9wdGlvbmFsIFxuICAgICAgICAvLyBwcm9wZXJ0eSBwb2xpY3ksIHRoZW4gd2UgbmVlZCB0byBjb250aW51ZS4gVGhpcyBpcyBhIHNwZWNpYWwgY2FzZSBmb3Igb3B0aW9uYWwgcHJvcGVydHkgaGFuZGxpbmcgXG4gICAgICAgIC8vIHdoZXJlIGEgdHJhbnNmb3JtcyB3cmFwcGVkIGluIGEgb3B0aW9uYWwgbW9kaWZpZXJzIHNob3VsZCBub3QgcnVuLlxuICAgICAgICBpZiAoSXNVbmRlZmluZWRWYWx1ZShrbm93blByb3BlcnRpZXNba2V5XSkgJiYgKCFJc1VuZGVmaW5lZChzY2hlbWEucHJvcGVydGllc1trZXldKSB8fFxuICAgICAgICAgICAgVHlwZVN5c3RlbVBvbGljeS5Jc0V4YWN0T3B0aW9uYWxQcm9wZXJ0eShrbm93blByb3BlcnRpZXMsIGtleSkpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIC8vIGVuY29kZSBwcm9wZXJ0eVxuICAgICAgICBrbm93blByb3BlcnRpZXNba2V5XSA9IFZpc2l0KHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0sIHJlZmVyZW5jZXMsIGAke3BhdGh9LyR7a2V5fWAsIGtub3duUHJvcGVydGllc1trZXldKTtcbiAgICB9XG4gICAgaWYgKCFJc1NjaGVtYShzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpKSB7XG4gICAgICAgIHJldHVybiBrbm93blByb3BlcnRpZXM7XG4gICAgfVxuICAgIGNvbnN0IHVua25vd25LZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoa25vd25Qcm9wZXJ0aWVzKTtcbiAgICBjb25zdCBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0geyAuLi5rbm93blByb3BlcnRpZXMgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiB1bmtub3duS2V5cylcbiAgICAgICAgaWYgKCFrbm93bktleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgcHJvcGVydGllc1trZXldID0gRGVmYXVsdChhZGRpdGlvbmFsUHJvcGVydGllcywgYCR7cGF0aH0vJHtrZXl9YCwgcHJvcGVydGllc1trZXldKTtcbiAgICAgICAgfVxuICAgIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tUmVjb3JkKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBjb25zdCBkZWZhdWx0ZWQgPSBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIGlmICghSXNPYmplY3QodmFsdWUpKVxuICAgICAgICByZXR1cm4gZGVmYXVsdGVkO1xuICAgIGNvbnN0IHBhdHRlcm4gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpWzBdO1xuICAgIGNvbnN0IGtub3duS2V5cyA9IG5ldyBSZWdFeHAocGF0dGVybik7XG4gICAgY29uc3Qga25vd25Qcm9wZXJ0aWVzID0geyAuLi5kZWZhdWx0ZWQgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkpXG4gICAgICAgIGlmIChrbm93bktleXMudGVzdChrZXkpKSB7XG4gICAgICAgICAgICBrbm93blByb3BlcnRpZXNba2V5XSA9IFZpc2l0KHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1twYXR0ZXJuXSwgcmVmZXJlbmNlcywgYCR7cGF0aH0vJHtrZXl9YCwga25vd25Qcm9wZXJ0aWVzW2tleV0pO1xuICAgICAgICB9XG4gICAgaWYgKCFJc1NjaGVtYShzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpKSB7XG4gICAgICAgIHJldHVybiBrbm93blByb3BlcnRpZXM7XG4gICAgfVxuICAgIGNvbnN0IHVua25vd25LZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoa25vd25Qcm9wZXJ0aWVzKTtcbiAgICBjb25zdCBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0geyAuLi5rbm93blByb3BlcnRpZXMgfTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiB1bmtub3duS2V5cylcbiAgICAgICAgaWYgKCFrbm93bktleXMudGVzdChrZXkpKSB7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSBEZWZhdWx0KGFkZGl0aW9uYWxQcm9wZXJ0aWVzLCBgJHtwYXRofS8ke2tleX1gLCBwcm9wZXJ0aWVzW2tleV0pO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZWYoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgY29uc3QgcmVzb2x2ZWQgPSBWaXNpdCh0YXJnZXQsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKTtcbiAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHJlc29sdmVkKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVRoaXMoc2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgY29uc3QgcmVzb2x2ZWQgPSBWaXNpdCh0YXJnZXQsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKTtcbiAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHJlc29sdmVkKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVR1cGxlKHNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpIHtcbiAgICBjb25zdCB2YWx1ZTEgPSBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xuICAgIHJldHVybiBJc0FycmF5KHNjaGVtYS5pdGVtcykgPyBzY2hlbWEuaXRlbXMubWFwKChzY2hlbWEsIGluZGV4KSA9PiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMsIGAke3BhdGh9LyR7aW5kZXh9YCwgdmFsdWUxW2luZGV4XSkpIDogW107XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21VbmlvbihzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgLy8gdGVzdCB2YWx1ZSBhZ2FpbnN0IHVuaW9uIHZhcmlhbnRzXG4gICAgZm9yIChjb25zdCBzdWJzY2hlbWEgb2Ygc2NoZW1hLmFueU9mKSB7XG4gICAgICAgIGlmICghQ2hlY2soc3Vic2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgdmFsdWUxID0gVmlzaXQoc3Vic2NoZW1hLCByZWZlcmVuY2VzLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdmFsdWUxKTtcbiAgICB9XG4gICAgLy8gdGVzdCB0cmFuc2Zvcm1lZCB2YWx1ZSBhZ2FpbnN0IHVuaW9uIHZhcmlhbnRzXG4gICAgZm9yIChjb25zdCBzdWJzY2hlbWEgb2Ygc2NoZW1hLmFueU9mKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlMSA9IFZpc2l0KHN1YnNjaGVtYSwgcmVmZXJlbmNlcywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBpZiAoIUNoZWNrKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUxKSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICByZXR1cm4gRGVmYXVsdChzY2hlbWEsIHBhdGgsIHZhbHVlMSk7XG4gICAgfVxuICAgIHJldHVybiBEZWZhdWx0KHNjaGVtYSwgcGF0aCwgdmFsdWUpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMsIHBhdGgsIHZhbHVlKSB7XG4gICAgY29uc3QgcmVmZXJlbmNlc18gPSBQdXNocmVmKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgY29uc3Qgc2NoZW1hXyA9IHNjaGVtYTtcbiAgICBzd2l0Y2ggKHNjaGVtYVtLaW5kXSkge1xuICAgICAgICBjYXNlICdBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUFycmF5KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0ltcG9ydCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUltcG9ydChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdJbnRlcnNlY3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21JbnRlcnNlY3Qoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnTm90JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tTm90KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ09iamVjdCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbU9iamVjdChzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBjYXNlICdSZWNvcmQnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21SZWNvcmQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnUmVmJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tUmVmKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1RoaXMnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21UaGlzKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCBwYXRoLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1R1cGxlJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVHVwbGUoc2NoZW1hXywgcmVmZXJlbmNlc18sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnVW5pb24nOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21VbmlvbihzY2hlbWFfLCByZWZlcmVuY2VzXywgcGF0aCwgdmFsdWUpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIERlZmF1bHQoc2NoZW1hXywgcGF0aCwgdmFsdWUpO1xuICAgIH1cbn1cbi8qKlxuICogYFtJbnRlcm5hbF1gIEVuY29kZXMgdGhlIHZhbHVlIGFuZCByZXR1cm5zIHRoZSByZXN1bHQuIFRoaXMgZnVuY3Rpb24gZXhwZWN0cyB0aGVcbiAqIGNhbGxlciB0byBwYXNzIGEgc3RhdGljYWxseSBjaGVja2VkIHZhbHVlLiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IGNoZWNrIHRoZSBlbmNvZGVkXG4gKiByZXN1bHQsIG1lYW5pbmcgdGhlIHJlc3VsdCBzaG91bGQgYmUgcGFzc2VkIHRvIGBDaGVja2AgYmVmb3JlIHVzZS4gUmVmZXIgdG8gdGhlXG4gKiBgVmFsdWUuRW5jb2RlKClgIGZ1bmN0aW9uIGZvciBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gVHJhbnNmb3JtRW5jb2RlKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICByZXR1cm4gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzLCAnJywgdmFsdWUpO1xufVxuIiwKICAgICJpbXBvcnQgeyBEZXJlZiwgUHVzaHJlZiB9IGZyb20gJy4uL2RlcmVmL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLaW5kIH0gZnJvbSAnLi4vLi4vdHlwZS9zeW1ib2xzL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEtpbmRHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc1RyYW5zZm9ybSwgSXNTY2hlbWEgfSBmcm9tICcuLi8uLi90eXBlL2d1YXJkL2tpbmQubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVmFsdWVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc1VuZGVmaW5lZCB9IGZyb20gJy4uL2d1YXJkL2luZGV4Lm1qcyc7XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21BcnJheShzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICByZXR1cm4gSXNUcmFuc2Zvcm0oc2NoZW1hKSB8fCBWaXNpdChzY2hlbWEuaXRlbXMsIHJlZmVyZW5jZXMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQXN5bmNJdGVyYXRvcihzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICByZXR1cm4gSXNUcmFuc2Zvcm0oc2NoZW1hKSB8fCBWaXNpdChzY2hlbWEuaXRlbXMsIHJlZmVyZW5jZXMpO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tQ29uc3RydWN0b3Ioc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgcmV0dXJuIElzVHJhbnNmb3JtKHNjaGVtYSkgfHwgVmlzaXQoc2NoZW1hLnJldHVybnMsIHJlZmVyZW5jZXMpIHx8IHNjaGVtYS5wYXJhbWV0ZXJzLnNvbWUoKHNjaGVtYSkgPT4gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21GdW5jdGlvbihzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICByZXR1cm4gSXNUcmFuc2Zvcm0oc2NoZW1hKSB8fCBWaXNpdChzY2hlbWEucmV0dXJucywgcmVmZXJlbmNlcykgfHwgc2NoZW1hLnBhcmFtZXRlcnMuc29tZSgoc2NoZW1hKSA9PiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUludGVyc2VjdChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICByZXR1cm4gSXNUcmFuc2Zvcm0oc2NoZW1hKSB8fCBJc1RyYW5zZm9ybShzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzKSB8fCBzY2hlbWEuYWxsT2Yuc29tZSgoc2NoZW1hKSA9PiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbUltcG9ydChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBjb25zdCBhZGRpdGlvbmFsID0gZ2xvYmFsVGhpcy5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzY2hlbWEuJGRlZnMpLnJlZHVjZSgocmVzdWx0LCBrZXkpID0+IFsuLi5yZXN1bHQsIHNjaGVtYS4kZGVmc1trZXldXSwgW10pO1xuICAgIGNvbnN0IHRhcmdldCA9IHNjaGVtYS4kZGVmc1tzY2hlbWEuJHJlZl07XG4gICAgcmV0dXJuIElzVHJhbnNmb3JtKHNjaGVtYSkgfHwgVmlzaXQodGFyZ2V0LCBbLi4uYWRkaXRpb25hbCwgLi4ucmVmZXJlbmNlc10pO1xufVxuLy8gcHJldHRpZXItaWdub3JlXG5mdW5jdGlvbiBGcm9tSXRlcmF0b3Ioc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgcmV0dXJuIElzVHJhbnNmb3JtKHNjaGVtYSkgfHwgVmlzaXQoc2NoZW1hLml0ZW1zLCByZWZlcmVuY2VzKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU5vdChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICByZXR1cm4gSXNUcmFuc2Zvcm0oc2NoZW1hKSB8fCBWaXNpdChzY2hlbWEubm90LCByZWZlcmVuY2VzKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbU9iamVjdChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICByZXR1cm4gKElzVHJhbnNmb3JtKHNjaGVtYSkgfHxcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhzY2hlbWEucHJvcGVydGllcykuc29tZSgoc2NoZW1hKSA9PiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMpKSB8fFxuICAgICAgICAoSXNTY2hlbWEoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzKSAmJiBWaXNpdChzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMsIHJlZmVyZW5jZXMpKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21Qcm9taXNlKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIHJldHVybiBJc1RyYW5zZm9ybShzY2hlbWEpIHx8IFZpc2l0KHNjaGVtYS5pdGVtLCByZWZlcmVuY2VzKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVJlY29yZChzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICBjb25zdCBwYXR0ZXJuID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKVswXTtcbiAgICBjb25zdCBwcm9wZXJ0eSA9IHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1twYXR0ZXJuXTtcbiAgICByZXR1cm4gSXNUcmFuc2Zvcm0oc2NoZW1hKSB8fCBWaXNpdChwcm9wZXJ0eSwgcmVmZXJlbmNlcykgfHwgKElzU2NoZW1hKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcykgJiYgSXNUcmFuc2Zvcm0oc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21SZWYoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKElzVHJhbnNmb3JtKHNjaGVtYSkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBWaXNpdChEZXJlZihzY2hlbWEsIHJlZmVyZW5jZXMpLCByZWZlcmVuY2VzKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVRoaXMoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgaWYgKElzVHJhbnNmb3JtKHNjaGVtYSkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBWaXNpdChEZXJlZihzY2hlbWEsIHJlZmVyZW5jZXMpLCByZWZlcmVuY2VzKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gRnJvbVR1cGxlKHNjaGVtYSwgcmVmZXJlbmNlcykge1xuICAgIHJldHVybiBJc1RyYW5zZm9ybShzY2hlbWEpIHx8ICghSXNVbmRlZmluZWQoc2NoZW1hLml0ZW1zKSAmJiBzY2hlbWEuaXRlbXMuc29tZSgoc2NoZW1hKSA9PiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMpKSk7XG59XG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEZyb21VbmlvbihzY2hlbWEsIHJlZmVyZW5jZXMpIHtcbiAgICByZXR1cm4gSXNUcmFuc2Zvcm0oc2NoZW1hKSB8fCBzY2hlbWEuYW55T2Yuc29tZSgoc2NoZW1hKSA9PiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMpKTtcbn1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZnVuY3Rpb24gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgY29uc3QgcmVmZXJlbmNlc18gPSBQdXNocmVmKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgY29uc3Qgc2NoZW1hXyA9IHNjaGVtYTtcbiAgICBpZiAoc2NoZW1hLiRpZCAmJiB2aXNpdGVkLmhhcyhzY2hlbWEuJGlkKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChzY2hlbWEuJGlkKVxuICAgICAgICB2aXNpdGVkLmFkZChzY2hlbWEuJGlkKTtcbiAgICBzd2l0Y2ggKHNjaGVtYVtLaW5kXSkge1xuICAgICAgICBjYXNlICdBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUFycmF5KHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnQXN5bmNJdGVyYXRvcic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUFzeW5jSXRlcmF0b3Ioc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdDb25zdHJ1Y3Rvcic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUNvbnN0cnVjdG9yKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnRnVuY3Rpb24nOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21GdW5jdGlvbihzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0ltcG9ydCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUltcG9ydChzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0ludGVyc2VjdCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUludGVyc2VjdChzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ0l0ZXJhdG9yJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tSXRlcmF0b3Ioc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdOb3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21Ob3Qoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdPYmplY3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21PYmplY3Qoc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBjYXNlICdQcm9taXNlJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tUHJvbWlzZShzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ1JlY29yZCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVJlY29yZChzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ1JlZic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVJlZihzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ1RoaXMnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21UaGlzKHNjaGVtYV8sIHJlZmVyZW5jZXNfKTtcbiAgICAgICAgY2FzZSAnVHVwbGUnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21UdXBsZShzY2hlbWFfLCByZWZlcmVuY2VzXyk7XG4gICAgICAgIGNhc2UgJ1VuaW9uJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVW5pb24oc2NoZW1hXywgcmVmZXJlbmNlc18pO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIElzVHJhbnNmb3JtKHNjaGVtYSk7XG4gICAgfVxufVxuY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQoKTtcbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBzY2hlbWEgY29udGFpbnMgYSB0cmFuc2Zvcm0gY29kZWMgKi9cbmV4cG9ydCBmdW5jdGlvbiBIYXNUcmFuc2Zvcm0oc2NoZW1hLCByZWZlcmVuY2VzKSB7XG4gICAgdmlzaXRlZC5jbGVhcigpO1xuICAgIHJldHVybiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMpO1xufVxuIiwKICAgICJpbXBvcnQgeyBIYXNUcmFuc2Zvcm0sIFRyYW5zZm9ybURlY29kZSwgVHJhbnNmb3JtRGVjb2RlQ2hlY2tFcnJvciB9IGZyb20gJy4uL3RyYW5zZm9ybS9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2hlY2sgfSBmcm9tICcuLi9jaGVjay9pbmRleC5tanMnO1xuaW1wb3J0IHsgRXJyb3JzIH0gZnJvbSAnLi4vLi4vZXJyb3JzL2luZGV4Lm1qcyc7XG4vKiogRGVjb2RlcyBhIHZhbHVlIG9yIHRocm93cyBpZiBlcnJvciAqL1xuZXhwb3J0IGZ1bmN0aW9uIERlY29kZSguLi5hcmdzKSB7XG4gICAgY29uc3QgW3NjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWVdID0gYXJncy5sZW5ndGggPT09IDMgPyBbYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXV0gOiBbYXJnc1swXSwgW10sIGFyZ3NbMV1dO1xuICAgIGlmICghQ2hlY2soc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkpXG4gICAgICAgIHRocm93IG5ldyBUcmFuc2Zvcm1EZWNvZGVDaGVja0Vycm9yKHNjaGVtYSwgdmFsdWUsIEVycm9ycyhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKS5GaXJzdCgpKTtcbiAgICByZXR1cm4gSGFzVHJhbnNmb3JtKHNjaGVtYSwgcmVmZXJlbmNlcykgPyBUcmFuc2Zvcm1EZWNvZGUoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkgOiB2YWx1ZTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgQ2hlY2sgfSBmcm9tICcuLi9jaGVjay9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2xvbmUgfSBmcm9tICcuLi9jbG9uZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgRGVyZWYsIFB1c2hyZWYgfSBmcm9tICcuLi9kZXJlZi9pbmRleC5tanMnO1xuaW1wb3J0IHsgS2luZCB9IGZyb20gJy4uLy4uL3R5cGUvc3ltYm9scy9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzQXJyYXksIElzRGF0ZSwgSXNGdW5jdGlvbiwgSXNPYmplY3QsIElzVW5kZWZpbmVkLCBIYXNQcm9wZXJ0eUtleSB9IGZyb20gJy4uL2d1YXJkL2luZGV4Lm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc0tpbmQgfSBmcm9tICcuLi8uLi90eXBlL2d1YXJkL2tpbmQubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVmFsdWVPckRlZmF1bHRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gVmFsdWVPckRlZmF1bHQoc2NoZW1hLCB2YWx1ZSkge1xuICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IEhhc1Byb3BlcnR5S2V5KHNjaGVtYSwgJ2RlZmF1bHQnKSA/IHNjaGVtYS5kZWZhdWx0IDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IGNsb25lID0gSXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpID8gZGVmYXVsdFZhbHVlKCkgOiBDbG9uZShkZWZhdWx0VmFsdWUpO1xuICAgIHJldHVybiBJc1VuZGVmaW5lZCh2YWx1ZSkgPyBjbG9uZSA6IElzT2JqZWN0KHZhbHVlKSAmJiBJc09iamVjdChjbG9uZSkgPyBPYmplY3QuYXNzaWduKGNsb25lLCB2YWx1ZSkgOiB2YWx1ZTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSGFzRGVmYXVsdFByb3BlcnR5XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIEhhc0RlZmF1bHRQcm9wZXJ0eShzY2hlbWEpIHtcbiAgICByZXR1cm4gSXNLaW5kKHNjaGVtYSkgJiYgJ2RlZmF1bHQnIGluIHNjaGVtYTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gRnJvbUFycmF5KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAvLyBpZiB0aGUgdmFsdWUgaXMgYW4gYXJyYXksIHdlIGF0dGVtcHQgdG8gaW5pdGlhbGl6ZSBpdCdzIGVsZW1lbnRzXG4gICAgaWYgKElzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhbHVlW2ldID0gVmlzaXQoc2NoZW1hLml0ZW1zLCByZWZlcmVuY2VzLCB2YWx1ZVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICAvLyAuLi4gb3RoZXJ3aXNlIHVzZSBkZWZhdWx0IGluaXRpYWxpemF0aW9uXG4gICAgY29uc3QgZGVmYXVsdGVkID0gVmFsdWVPckRlZmF1bHQoc2NoZW1hLCB2YWx1ZSk7XG4gICAgaWYgKCFJc0FycmF5KGRlZmF1bHRlZCkpXG4gICAgICAgIHJldHVybiBkZWZhdWx0ZWQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWZhdWx0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZGVmYXVsdGVkW2ldID0gVmlzaXQoc2NoZW1hLml0ZW1zLCByZWZlcmVuY2VzLCBkZWZhdWx0ZWRbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdGVkO1xufVxuZnVuY3Rpb24gRnJvbURhdGUoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIC8vIHNwZWNpYWwgY2FzZSBpbnRlcmNlcHQgZm9yIGRhdGVzXG4gICAgcmV0dXJuIElzRGF0ZSh2YWx1ZSkgPyB2YWx1ZSA6IFZhbHVlT3JEZWZhdWx0KHNjaGVtYSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gRnJvbUltcG9ydChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgY29uc3QgZGVmaW5pdGlvbnMgPSBnbG9iYWxUaGlzLk9iamVjdC52YWx1ZXMoc2NoZW1hLiRkZWZzKTtcbiAgICBjb25zdCB0YXJnZXQgPSBzY2hlbWEuJGRlZnNbc2NoZW1hLiRyZWZdO1xuICAgIHJldHVybiBWaXNpdCh0YXJnZXQsIFsuLi5yZWZlcmVuY2VzLCAuLi5kZWZpbml0aW9uc10sIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21JbnRlcnNlY3Qoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGNvbnN0IGRlZmF1bHRlZCA9IFZhbHVlT3JEZWZhdWx0KHNjaGVtYSwgdmFsdWUpO1xuICAgIHJldHVybiBzY2hlbWEuYWxsT2YucmVkdWNlKChhY2MsIHNjaGVtYSkgPT4ge1xuICAgICAgICBjb25zdCBuZXh0ID0gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzLCBkZWZhdWx0ZWQpO1xuICAgICAgICByZXR1cm4gSXNPYmplY3QobmV4dCkgPyB7IC4uLmFjYywgLi4ubmV4dCB9IDogbmV4dDtcbiAgICB9LCB7fSk7XG59XG5mdW5jdGlvbiBGcm9tT2JqZWN0KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBjb25zdCBkZWZhdWx0ZWQgPSBWYWx1ZU9yRGVmYXVsdChzY2hlbWEsIHZhbHVlKTtcbiAgICAvLyByZXR1cm4gZGVmYXVsdGVkXG4gICAgaWYgKCFJc09iamVjdChkZWZhdWx0ZWQpKVxuICAgICAgICByZXR1cm4gZGVmYXVsdGVkO1xuICAgIGNvbnN0IGtub3duUHJvcGVydHlLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc2NoZW1hLnByb3BlcnRpZXMpO1xuICAgIC8vIHByb3BlcnRpZXNcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrbm93blByb3BlcnR5S2V5cykge1xuICAgICAgICAvLyBub3RlOiB3ZSBuZWVkIHRvIHRyYXZlcnNlIGludG8gdGhlIG9iamVjdCBhbmQgdGVzdCBpZiB0aGUgcmV0dXJuIHZhbHVlXG4gICAgICAgIC8vIHlpZWxkZWQgYSBub24gdW5kZWZpbmVkIHJlc3VsdC4gSGVyZSB3ZSBpbnRlcnByZXQgYW4gdW5kZWZpbmVkIHJlc3VsdCBhc1xuICAgICAgICAvLyBhIG5vbiBhc3NpZ25hYmxlIHByb3BlcnR5IGFuZCBjb250aW51ZS5cbiAgICAgICAgY29uc3QgcHJvcGVydHlWYWx1ZSA9IFZpc2l0KHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0sIHJlZmVyZW5jZXMsIGRlZmF1bHRlZFtrZXldKTtcbiAgICAgICAgaWYgKElzVW5kZWZpbmVkKHByb3BlcnR5VmFsdWUpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGRlZmF1bHRlZFtrZXldID0gVmlzaXQoc2NoZW1hLnByb3BlcnRpZXNba2V5XSwgcmVmZXJlbmNlcywgZGVmYXVsdGVkW2tleV0pO1xuICAgIH1cbiAgICAvLyByZXR1cm4gaWYgbm90IGFkZGl0aW9uYWwgcHJvcGVydGllc1xuICAgIGlmICghSGFzRGVmYXVsdFByb3BlcnR5KHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcykpXG4gICAgICAgIHJldHVybiBkZWZhdWx0ZWQ7XG4gICAgLy8gYWRkaXRpb25hbCBwcm9wZXJ0aWVzXG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdGVkKSkge1xuICAgICAgICBpZiAoa25vd25Qcm9wZXJ0eUtleXMuaW5jbHVkZXMoa2V5KSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBkZWZhdWx0ZWRba2V5XSA9IFZpc2l0KHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcywgcmVmZXJlbmNlcywgZGVmYXVsdGVkW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdGVkO1xufVxuZnVuY3Rpb24gRnJvbVJlY29yZChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgY29uc3QgZGVmYXVsdGVkID0gVmFsdWVPckRlZmF1bHQoc2NoZW1hLCB2YWx1ZSk7XG4gICAgaWYgKCFJc09iamVjdChkZWZhdWx0ZWQpKVxuICAgICAgICByZXR1cm4gZGVmYXVsdGVkO1xuICAgIGNvbnN0IGFkZGl0aW9uYWxQcm9wZXJ0aWVzU2NoZW1hID0gc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IFtwcm9wZXJ0eUtleVBhdHRlcm4sIHByb3BlcnR5U2NoZW1hXSA9IE9iamVjdC5lbnRyaWVzKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcylbMF07XG4gICAgY29uc3Qga25vd25Qcm9wZXJ0eUtleSA9IG5ldyBSZWdFeHAocHJvcGVydHlLZXlQYXR0ZXJuKTtcbiAgICAvLyBwcm9wZXJ0aWVzXG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdGVkKSkge1xuICAgICAgICBpZiAoIShrbm93blByb3BlcnR5S2V5LnRlc3Qoa2V5KSAmJiBIYXNEZWZhdWx0UHJvcGVydHkocHJvcGVydHlTY2hlbWEpKSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBkZWZhdWx0ZWRba2V5XSA9IFZpc2l0KHByb3BlcnR5U2NoZW1hLCByZWZlcmVuY2VzLCBkZWZhdWx0ZWRba2V5XSk7XG4gICAgfVxuICAgIC8vIHJldHVybiBpZiBub3QgYWRkaXRpb25hbCBwcm9wZXJ0aWVzXG4gICAgaWYgKCFIYXNEZWZhdWx0UHJvcGVydHkoYWRkaXRpb25hbFByb3BlcnRpZXNTY2hlbWEpKVxuICAgICAgICByZXR1cm4gZGVmYXVsdGVkO1xuICAgIC8vIGFkZGl0aW9uYWwgcHJvcGVydGllc1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRlZCkpIHtcbiAgICAgICAgaWYgKGtub3duUHJvcGVydHlLZXkudGVzdChrZXkpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGRlZmF1bHRlZFtrZXldID0gVmlzaXQoYWRkaXRpb25hbFByb3BlcnRpZXNTY2hlbWEsIHJlZmVyZW5jZXMsIGRlZmF1bHRlZFtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRlZDtcbn1cbmZ1bmN0aW9uIEZyb21SZWYoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIHJldHVybiBWaXNpdChEZXJlZihzY2hlbWEsIHJlZmVyZW5jZXMpLCByZWZlcmVuY2VzLCBWYWx1ZU9yRGVmYXVsdChzY2hlbWEsIHZhbHVlKSk7XG59XG5mdW5jdGlvbiBGcm9tVGhpcyhzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIFZpc2l0KERlcmVmKHNjaGVtYSwgcmVmZXJlbmNlcyksIHJlZmVyZW5jZXMsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIEZyb21UdXBsZShzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgY29uc3QgZGVmYXVsdGVkID0gVmFsdWVPckRlZmF1bHQoc2NoZW1hLCB2YWx1ZSk7XG4gICAgaWYgKCFJc0FycmF5KGRlZmF1bHRlZCkgfHwgSXNVbmRlZmluZWQoc2NoZW1hLml0ZW1zKSlcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRlZDtcbiAgICBjb25zdCBbaXRlbXMsIG1heF0gPSBbc2NoZW1hLml0ZW1zLCBNYXRoLm1heChzY2hlbWEuaXRlbXMubGVuZ3RoLCBkZWZhdWx0ZWQubGVuZ3RoKV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXg7IGkrKykge1xuICAgICAgICBpZiAoaSA8IGl0ZW1zLmxlbmd0aClcbiAgICAgICAgICAgIGRlZmF1bHRlZFtpXSA9IFZpc2l0KGl0ZW1zW2ldLCByZWZlcmVuY2VzLCBkZWZhdWx0ZWRbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdGVkO1xufVxuZnVuY3Rpb24gRnJvbVVuaW9uKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICBjb25zdCBkZWZhdWx0ZWQgPSBWYWx1ZU9yRGVmYXVsdChzY2hlbWEsIHZhbHVlKTtcbiAgICBmb3IgKGNvbnN0IGlubmVyIG9mIHNjaGVtYS5hbnlPZikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBWaXNpdChpbm5lciwgcmVmZXJlbmNlcywgQ2xvbmUoZGVmYXVsdGVkKSk7XG4gICAgICAgIGlmIChDaGVjayhpbm5lciwgcmVmZXJlbmNlcywgcmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdGVkO1xufVxuZnVuY3Rpb24gVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgIGNvbnN0IHJlZmVyZW5jZXNfID0gUHVzaHJlZihzY2hlbWEsIHJlZmVyZW5jZXMpO1xuICAgIGNvbnN0IHNjaGVtYV8gPSBzY2hlbWE7XG4gICAgc3dpdGNoIChzY2hlbWFfW0tpbmRdKSB7XG4gICAgICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tQXJyYXkoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnRGF0ZSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbURhdGUoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnSW1wb3J0JzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tSW1wb3J0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ0ludGVyc2VjdCc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbUludGVyc2VjdChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdPYmplY3QnOlxuICAgICAgICAgICAgcmV0dXJuIEZyb21PYmplY3Qoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgY2FzZSAnUmVjb3JkJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tUmVjb3JkKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1JlZic6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVJlZihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdUaGlzJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVGhpcyhzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICBjYXNlICdUdXBsZSc6XG4gICAgICAgICAgICByZXR1cm4gRnJvbVR1cGxlKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ1VuaW9uJzpcbiAgICAgICAgICAgIHJldHVybiBGcm9tVW5pb24oc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBWYWx1ZU9yRGVmYXVsdChzY2hlbWFfLCB2YWx1ZSk7XG4gICAgfVxufVxuLyoqIGBbTXV0YWJsZV1gIEdlbmVyYXRlcyBtaXNzaW5nIHByb3BlcnRpZXMgb24gYSB2YWx1ZSB1c2luZyBkZWZhdWx0IHNjaGVtYSBhbm5vdGF0aW9ucyBpZiBhdmFpbGFibGUuIFRoaXMgZnVuY3Rpb24gZG9lcyBub3QgY2hlY2sgdGhlIHZhbHVlIGFuZCByZXR1cm5zIGFuIHVua25vd24gdHlwZS4gWW91IHNob3VsZCBDaGVjayB0aGUgcmVzdWx0IGJlZm9yZSB1c2UuIERlZmF1bHQgaXMgYSBtdXRhYmxlIG9wZXJhdGlvbi4gVG8gYXZvaWQgbXV0YXRpb24sIENsb25lIHRoZSB2YWx1ZSBmaXJzdC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBEZWZhdWx0KC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gYXJncy5sZW5ndGggPT09IDMgPyBWaXNpdChhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKSA6IFZpc2l0KGFyZ3NbMF0sIFtdLCBhcmdzWzFdKTtcbn1cbiIsCiAgICAiaW1wb3J0IHsgVHlwZUJveEVycm9yIH0gZnJvbSAnLi4vLi4vdHlwZS9lcnJvci9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFcnJvcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIFZhbHVlUG9pbnRlclJvb3RTZXRFcnJvciBleHRlbmRzIFR5cGVCb3hFcnJvciB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIHBhdGgsIHVwZGF0ZSkge1xuICAgICAgICBzdXBlcignQ2Fubm90IHNldCByb290IHZhbHVlJyk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy51cGRhdGUgPSB1cGRhdGU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFZhbHVlUG9pbnRlclJvb3REZWxldGVFcnJvciBleHRlbmRzIFR5cGVCb3hFcnJvciB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIHBhdGgpIHtcbiAgICAgICAgc3VwZXIoJ0Nhbm5vdCBkZWxldGUgcm9vdCB2YWx1ZScpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgfVxufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBWYWx1ZVBvaW50ZXJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqIFByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBkYXRlIHZhbHVlcyB0aHJvdWdoIFJGQzY5MDEgc3RyaW5nIHBvaW50ZXJzICovXG4vLyBwcmV0dGllci1pZ25vcmVcbmZ1bmN0aW9uIEVzY2FwZShjb21wb25lbnQpIHtcbiAgICByZXR1cm4gY29tcG9uZW50LmluZGV4T2YoJ34nKSA9PT0gLTEgPyBjb21wb25lbnQgOiBjb21wb25lbnQucmVwbGFjZSgvfjEvZywgJy8nKS5yZXBsYWNlKC9+MC9nLCAnficpO1xufVxuLyoqIEZvcm1hdHMgdGhlIGdpdmVuIHBvaW50ZXIgaW50byBuYXZpZ2FibGUga2V5IGNvbXBvbmVudHMgKi9cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uKiBGb3JtYXQocG9pbnRlcikge1xuICAgIGlmIChwb2ludGVyID09PSAnJylcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBbc3RhcnQsIGVuZF0gPSBbMCwgMF07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoYXIgPSBwb2ludGVyLmNoYXJBdChpKTtcbiAgICAgICAgaWYgKGNoYXIgPT09ICcvJykge1xuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZW5kID0gaTtcbiAgICAgICAgICAgICAgICB5aWVsZCBFc2NhcGUocG9pbnRlci5zbGljZShzdGFydCwgZW5kKSk7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVuZCA9IGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgeWllbGQgRXNjYXBlKHBvaW50ZXIuc2xpY2Uoc3RhcnQpKTtcbn1cbi8qKiBTZXRzIHRoZSB2YWx1ZSBhdCB0aGUgZ2l2ZW4gcG9pbnRlci4gSWYgdGhlIHZhbHVlIGF0IHRoZSBwb2ludGVyIGRvZXMgbm90IGV4aXN0IGl0IGlzIGNyZWF0ZWQgKi9cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIFNldCh2YWx1ZSwgcG9pbnRlciwgdXBkYXRlKSB7XG4gICAgaWYgKHBvaW50ZXIgPT09ICcnKVxuICAgICAgICB0aHJvdyBuZXcgVmFsdWVQb2ludGVyUm9vdFNldEVycm9yKHZhbHVlLCBwb2ludGVyLCB1cGRhdGUpO1xuICAgIGxldCBbb3duZXIsIG5leHQsIGtleV0gPSBbbnVsbCwgdmFsdWUsICcnXTtcbiAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBGb3JtYXQocG9pbnRlcikpIHtcbiAgICAgICAgaWYgKG5leHRbY29tcG9uZW50XSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgbmV4dFtjb21wb25lbnRdID0ge307XG4gICAgICAgIG93bmVyID0gbmV4dDtcbiAgICAgICAgbmV4dCA9IG5leHRbY29tcG9uZW50XTtcbiAgICAgICAga2V5ID0gY29tcG9uZW50O1xuICAgIH1cbiAgICBvd25lcltrZXldID0gdXBkYXRlO1xufVxuLyoqIERlbGV0ZXMgYSB2YWx1ZSBhdCB0aGUgZ2l2ZW4gcG9pbnRlciAqL1xuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gRGVsZXRlKHZhbHVlLCBwb2ludGVyKSB7XG4gICAgaWYgKHBvaW50ZXIgPT09ICcnKVxuICAgICAgICB0aHJvdyBuZXcgVmFsdWVQb2ludGVyUm9vdERlbGV0ZUVycm9yKHZhbHVlLCBwb2ludGVyKTtcbiAgICBsZXQgW293bmVyLCBuZXh0LCBrZXldID0gW251bGwsIHZhbHVlLCAnJ107XG4gICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgRm9ybWF0KHBvaW50ZXIpKSB7XG4gICAgICAgIGlmIChuZXh0W2NvbXBvbmVudF0gPT09IHVuZGVmaW5lZCB8fCBuZXh0W2NvbXBvbmVudF0gPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIG93bmVyID0gbmV4dDtcbiAgICAgICAgbmV4dCA9IG5leHRbY29tcG9uZW50XTtcbiAgICAgICAga2V5ID0gY29tcG9uZW50O1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShvd25lcikpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChrZXkpO1xuICAgICAgICBvd25lci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGVsZXRlIG93bmVyW2tleV07XG4gICAgfVxufVxuLyoqIFJldHVybnMgdHJ1ZSBpZiBhIHZhbHVlIGV4aXN0cyBhdCB0aGUgZ2l2ZW4gcG9pbnRlciAqL1xuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gSGFzKHZhbHVlLCBwb2ludGVyKSB7XG4gICAgaWYgKHBvaW50ZXIgPT09ICcnKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBsZXQgW293bmVyLCBuZXh0LCBrZXldID0gW251bGwsIHZhbHVlLCAnJ107XG4gICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgRm9ybWF0KHBvaW50ZXIpKSB7XG4gICAgICAgIGlmIChuZXh0W2NvbXBvbmVudF0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgb3duZXIgPSBuZXh0O1xuICAgICAgICBuZXh0ID0gbmV4dFtjb21wb25lbnRdO1xuICAgICAgICBrZXkgPSBjb21wb25lbnQ7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvd25lcikuaW5jbHVkZXMoa2V5KTtcbn1cbi8qKiBHZXRzIHRoZSB2YWx1ZSBhdCB0aGUgZ2l2ZW4gcG9pbnRlciAqL1xuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgZnVuY3Rpb24gR2V0KHZhbHVlLCBwb2ludGVyKSB7XG4gICAgaWYgKHBvaW50ZXIgPT09ICcnKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgbGV0IGN1cnJlbnQgPSB2YWx1ZTtcbiAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBGb3JtYXQocG9pbnRlcikpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRbY29tcG9uZW50XSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbY29tcG9uZW50XTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG59XG4iLAogICAgImltcG9ydCB7IElzT2JqZWN0LCBJc0RhdGUsIElzQXJyYXksIElzVHlwZWRBcnJheSwgSXNWYWx1ZVR5cGUgfSBmcm9tICcuLi9ndWFyZC9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFcXVhbGl0eSBDaGVja3Ncbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gT2JqZWN0VHlwZShsZWZ0LCByaWdodCkge1xuICAgIGlmICghSXNPYmplY3QocmlnaHQpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgbGVmdEtleXMgPSBbLi4uT2JqZWN0LmtleXMobGVmdCksIC4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobGVmdCldO1xuICAgIGNvbnN0IHJpZ2h0S2V5cyA9IFsuLi5PYmplY3Qua2V5cyhyaWdodCksIC4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocmlnaHQpXTtcbiAgICBpZiAobGVmdEtleXMubGVuZ3RoICE9PSByaWdodEtleXMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGxlZnRLZXlzLmV2ZXJ5KChrZXkpID0+IEVxdWFsKGxlZnRba2V5XSwgcmlnaHRba2V5XSkpO1xufVxuZnVuY3Rpb24gRGF0ZVR5cGUobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gSXNEYXRlKHJpZ2h0KSAmJiBsZWZ0LmdldFRpbWUoKSA9PT0gcmlnaHQuZ2V0VGltZSgpO1xufVxuZnVuY3Rpb24gQXJyYXlUeXBlKGxlZnQsIHJpZ2h0KSB7XG4gICAgaWYgKCFJc0FycmF5KHJpZ2h0KSB8fCBsZWZ0Lmxlbmd0aCAhPT0gcmlnaHQubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGxlZnQuZXZlcnkoKHZhbHVlLCBpbmRleCkgPT4gRXF1YWwodmFsdWUsIHJpZ2h0W2luZGV4XSkpO1xufVxuZnVuY3Rpb24gVHlwZWRBcnJheVR5cGUobGVmdCwgcmlnaHQpIHtcbiAgICBpZiAoIUlzVHlwZWRBcnJheShyaWdodCkgfHwgbGVmdC5sZW5ndGggIT09IHJpZ2h0Lmxlbmd0aCB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YobGVmdCkuY29uc3RydWN0b3IubmFtZSAhPT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHJpZ2h0KS5jb25zdHJ1Y3Rvci5uYW1lKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGxlZnQuZXZlcnkoKHZhbHVlLCBpbmRleCkgPT4gRXF1YWwodmFsdWUsIHJpZ2h0W2luZGV4XSkpO1xufVxuZnVuY3Rpb24gVmFsdWVUeXBlKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIGxlZnQgPT09IHJpZ2h0O1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFcXVhbFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBsZWZ0IHZhbHVlIGRlZXAtZXF1YWxzIHRoZSByaWdodCAqL1xuZXhwb3J0IGZ1bmN0aW9uIEVxdWFsKGxlZnQsIHJpZ2h0KSB7XG4gICAgaWYgKElzRGF0ZShsZWZ0KSlcbiAgICAgICAgcmV0dXJuIERhdGVUeXBlKGxlZnQsIHJpZ2h0KTtcbiAgICBpZiAoSXNUeXBlZEFycmF5KGxlZnQpKVxuICAgICAgICByZXR1cm4gVHlwZWRBcnJheVR5cGUobGVmdCwgcmlnaHQpO1xuICAgIGlmIChJc0FycmF5KGxlZnQpKVxuICAgICAgICByZXR1cm4gQXJyYXlUeXBlKGxlZnQsIHJpZ2h0KTtcbiAgICBpZiAoSXNPYmplY3QobGVmdCkpXG4gICAgICAgIHJldHVybiBPYmplY3RUeXBlKGxlZnQsIHJpZ2h0KTtcbiAgICBpZiAoSXNWYWx1ZVR5cGUobGVmdCkpXG4gICAgICAgIHJldHVybiBWYWx1ZVR5cGUobGVmdCwgcmlnaHQpO1xuICAgIHRocm93IG5ldyBFcnJvcignVmFsdWVFcXVhbHM6IFVuYWJsZSB0byBjb21wYXJlIHZhbHVlJyk7XG59XG4iLAogICAgImltcG9ydCB7IEhhc1Byb3BlcnR5S2V5LCBJc1N0YW5kYXJkT2JqZWN0LCBJc0FycmF5LCBJc1R5cGVkQXJyYXksIElzVmFsdWVUeXBlIH0gZnJvbSAnLi4vZ3VhcmQvaW5kZXgubWpzJztcbmltcG9ydCB7IFZhbHVlUG9pbnRlciB9IGZyb20gJy4uL3BvaW50ZXIvaW5kZXgubWpzJztcbmltcG9ydCB7IENsb25lIH0gZnJvbSAnLi4vY2xvbmUvaW5kZXgubWpzJztcbmltcG9ydCB7IEVxdWFsIH0gZnJvbSAnLi4vZXF1YWwvZXF1YWwubWpzJztcbmltcG9ydCB7IFR5cGVCb3hFcnJvciB9IGZyb20gJy4uLy4uL3R5cGUvZXJyb3IvaW5kZXgubWpzJztcbmltcG9ydCB7IExpdGVyYWwgfSBmcm9tICcuLi8uLi90eXBlL2xpdGVyYWwvaW5kZXgubWpzJztcbmltcG9ydCB7IE9iamVjdCB9IGZyb20gJy4uLy4uL3R5cGUvb2JqZWN0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBTdHJpbmcgfSBmcm9tICcuLi8uLi90eXBlL3N0cmluZy9pbmRleC5tanMnO1xuaW1wb3J0IHsgVW5rbm93biB9IGZyb20gJy4uLy4uL3R5cGUvdW5rbm93bi9pbmRleC5tanMnO1xuaW1wb3J0IHsgVW5pb24gfSBmcm9tICcuLi8uLi90eXBlL3VuaW9uL2luZGV4Lm1qcyc7XG5leHBvcnQgY29uc3QgSW5zZXJ0ID0gT2JqZWN0KHtcbiAgICB0eXBlOiBMaXRlcmFsKCdpbnNlcnQnKSxcbiAgICBwYXRoOiBTdHJpbmcoKSxcbiAgICB2YWx1ZTogVW5rbm93bigpLFxufSk7XG5leHBvcnQgY29uc3QgVXBkYXRlID0gT2JqZWN0KHtcbiAgICB0eXBlOiBMaXRlcmFsKCd1cGRhdGUnKSxcbiAgICBwYXRoOiBTdHJpbmcoKSxcbiAgICB2YWx1ZTogVW5rbm93bigpLFxufSk7XG5leHBvcnQgY29uc3QgRGVsZXRlID0gT2JqZWN0KHtcbiAgICB0eXBlOiBMaXRlcmFsKCdkZWxldGUnKSxcbiAgICBwYXRoOiBTdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IEVkaXQgPSBVbmlvbihbSW5zZXJ0LCBVcGRhdGUsIERlbGV0ZV0pO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFcnJvcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIFZhbHVlRGlmZkVycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ29tbWFuZCBGYWN0b3J5XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIENyZWF0ZVVwZGF0ZShwYXRoLCB2YWx1ZSkge1xuICAgIHJldHVybiB7IHR5cGU6ICd1cGRhdGUnLCBwYXRoLCB2YWx1ZSB9O1xufVxuZnVuY3Rpb24gQ3JlYXRlSW5zZXJ0KHBhdGgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogJ2luc2VydCcsIHBhdGgsIHZhbHVlIH07XG59XG5mdW5jdGlvbiBDcmVhdGVEZWxldGUocGF0aCkge1xuICAgIHJldHVybiB7IHR5cGU6ICdkZWxldGUnLCBwYXRoIH07XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEFzc2VydERpZmZhYmxlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIEFzc2VydERpZmZhYmxlKHZhbHVlKSB7XG4gICAgaWYgKGdsb2JhbFRoaXMuT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh2YWx1ZSkubGVuZ3RoID4gMClcbiAgICAgICAgdGhyb3cgbmV3IFZhbHVlRGlmZkVycm9yKHZhbHVlLCAnQ2Fubm90IGRpZmYgb2JqZWN0cyB3aXRoIHN5bWJvbHMnKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRGlmZmluZyBHZW5lcmF0b3JzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uKiBPYmplY3RUeXBlKHBhdGgsIGN1cnJlbnQsIG5leHQpIHtcbiAgICBBc3NlcnREaWZmYWJsZShjdXJyZW50KTtcbiAgICBBc3NlcnREaWZmYWJsZShuZXh0KTtcbiAgICBpZiAoIUlzU3RhbmRhcmRPYmplY3QobmV4dCkpXG4gICAgICAgIHJldHVybiB5aWVsZCBDcmVhdGVVcGRhdGUocGF0aCwgbmV4dCk7XG4gICAgY29uc3QgY3VycmVudEtleXMgPSBnbG9iYWxUaGlzLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGN1cnJlbnQpO1xuICAgIGNvbnN0IG5leHRLZXlzID0gZ2xvYmFsVGhpcy5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhuZXh0KTtcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gaW5zZXJ0c1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBuZXh0S2V5cykge1xuICAgICAgICBpZiAoSGFzUHJvcGVydHlLZXkoY3VycmVudCwga2V5KSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB5aWVsZCBDcmVhdGVJbnNlcnQoYCR7cGF0aH0vJHtrZXl9YCwgbmV4dFtrZXldKTtcbiAgICB9XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIHVwZGF0ZXNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgZm9yIChjb25zdCBrZXkgb2YgY3VycmVudEtleXMpIHtcbiAgICAgICAgaWYgKCFIYXNQcm9wZXJ0eUtleShuZXh0LCBrZXkpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGlmIChFcXVhbChjdXJyZW50LCBuZXh0KSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB5aWVsZCogVmlzaXQoYCR7cGF0aH0vJHtrZXl9YCwgY3VycmVudFtrZXldLCBuZXh0W2tleV0pO1xuICAgIH1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gZGVsZXRlc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBjdXJyZW50S2V5cykge1xuICAgICAgICBpZiAoSGFzUHJvcGVydHlLZXkobmV4dCwga2V5KSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB5aWVsZCBDcmVhdGVEZWxldGUoYCR7cGF0aH0vJHtrZXl9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24qIEFycmF5VHlwZShwYXRoLCBjdXJyZW50LCBuZXh0KSB7XG4gICAgaWYgKCFJc0FycmF5KG5leHQpKVxuICAgICAgICByZXR1cm4geWllbGQgQ3JlYXRlVXBkYXRlKHBhdGgsIG5leHQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4oY3VycmVudC5sZW5ndGgsIG5leHQubGVuZ3RoKTsgaSsrKSB7XG4gICAgICAgIHlpZWxkKiBWaXNpdChgJHtwYXRofS8ke2l9YCwgY3VycmVudFtpXSwgbmV4dFtpXSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSA8IGN1cnJlbnQubGVuZ3RoKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIHlpZWxkIENyZWF0ZUluc2VydChgJHtwYXRofS8ke2l9YCwgbmV4dFtpXSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSBjdXJyZW50Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChpIDwgbmV4dC5sZW5ndGgpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgeWllbGQgQ3JlYXRlRGVsZXRlKGAke3BhdGh9LyR7aX1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiogVHlwZWRBcnJheVR5cGUocGF0aCwgY3VycmVudCwgbmV4dCkge1xuICAgIGlmICghSXNUeXBlZEFycmF5KG5leHQpIHx8IGN1cnJlbnQubGVuZ3RoICE9PSBuZXh0Lmxlbmd0aCB8fCBnbG9iYWxUaGlzLk9iamVjdC5nZXRQcm90b3R5cGVPZihjdXJyZW50KS5jb25zdHJ1Y3Rvci5uYW1lICE9PSBnbG9iYWxUaGlzLk9iamVjdC5nZXRQcm90b3R5cGVPZihuZXh0KS5jb25zdHJ1Y3Rvci5uYW1lKVxuICAgICAgICByZXR1cm4geWllbGQgQ3JlYXRlVXBkYXRlKHBhdGgsIG5leHQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4oY3VycmVudC5sZW5ndGgsIG5leHQubGVuZ3RoKTsgaSsrKSB7XG4gICAgICAgIHlpZWxkKiBWaXNpdChgJHtwYXRofS8ke2l9YCwgY3VycmVudFtpXSwgbmV4dFtpXSk7XG4gICAgfVxufVxuZnVuY3Rpb24qIFZhbHVlVHlwZShwYXRoLCBjdXJyZW50LCBuZXh0KSB7XG4gICAgaWYgKGN1cnJlbnQgPT09IG5leHQpXG4gICAgICAgIHJldHVybjtcbiAgICB5aWVsZCBDcmVhdGVVcGRhdGUocGF0aCwgbmV4dCk7XG59XG5mdW5jdGlvbiogVmlzaXQocGF0aCwgY3VycmVudCwgbmV4dCkge1xuICAgIGlmIChJc1N0YW5kYXJkT2JqZWN0KGN1cnJlbnQpKVxuICAgICAgICByZXR1cm4geWllbGQqIE9iamVjdFR5cGUocGF0aCwgY3VycmVudCwgbmV4dCk7XG4gICAgaWYgKElzQXJyYXkoY3VycmVudCkpXG4gICAgICAgIHJldHVybiB5aWVsZCogQXJyYXlUeXBlKHBhdGgsIGN1cnJlbnQsIG5leHQpO1xuICAgIGlmIChJc1R5cGVkQXJyYXkoY3VycmVudCkpXG4gICAgICAgIHJldHVybiB5aWVsZCogVHlwZWRBcnJheVR5cGUocGF0aCwgY3VycmVudCwgbmV4dCk7XG4gICAgaWYgKElzVmFsdWVUeXBlKGN1cnJlbnQpKVxuICAgICAgICByZXR1cm4geWllbGQqIFZhbHVlVHlwZShwYXRoLCBjdXJyZW50LCBuZXh0KTtcbiAgICB0aHJvdyBuZXcgVmFsdWVEaWZmRXJyb3IoY3VycmVudCwgJ1VuYWJsZSB0byBkaWZmIHZhbHVlJyk7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIERpZmZcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGZ1bmN0aW9uIERpZmYoY3VycmVudCwgbmV4dCkge1xuICAgIHJldHVybiBbLi4uVmlzaXQoJycsIGN1cnJlbnQsIG5leHQpXTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUGF0Y2hcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gSXNSb290VXBkYXRlKGVkaXRzKSB7XG4gICAgcmV0dXJuIGVkaXRzLmxlbmd0aCA+IDAgJiYgZWRpdHNbMF0ucGF0aCA9PT0gJycgJiYgZWRpdHNbMF0udHlwZSA9PT0gJ3VwZGF0ZSc7XG59XG5mdW5jdGlvbiBJc0lkZW50aXR5KGVkaXRzKSB7XG4gICAgcmV0dXJuIGVkaXRzLmxlbmd0aCA9PT0gMDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBQYXRjaChjdXJyZW50LCBlZGl0cykge1xuICAgIGlmIChJc1Jvb3RVcGRhdGUoZWRpdHMpKSB7XG4gICAgICAgIHJldHVybiBDbG9uZShlZGl0c1swXS52YWx1ZSk7XG4gICAgfVxuICAgIGlmIChJc0lkZW50aXR5KGVkaXRzKSkge1xuICAgICAgICByZXR1cm4gQ2xvbmUoY3VycmVudCk7XG4gICAgfVxuICAgIGNvbnN0IGNsb25lID0gQ2xvbmUoY3VycmVudCk7XG4gICAgZm9yIChjb25zdCBlZGl0IG9mIGVkaXRzKSB7XG4gICAgICAgIHN3aXRjaCAoZWRpdC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdpbnNlcnQnOiB7XG4gICAgICAgICAgICAgICAgVmFsdWVQb2ludGVyLlNldChjbG9uZSwgZWRpdC5wYXRoLCBlZGl0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3VwZGF0ZSc6IHtcbiAgICAgICAgICAgICAgICBWYWx1ZVBvaW50ZXIuU2V0KGNsb25lLCBlZGl0LnBhdGgsIGVkaXQudmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzoge1xuICAgICAgICAgICAgICAgIFZhbHVlUG9pbnRlci5EZWxldGUoY2xvbmUsIGVkaXQucGF0aCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsb25lO1xufVxuIiwKICAgICJpbXBvcnQgeyBIYXNUcmFuc2Zvcm0sIFRyYW5zZm9ybUVuY29kZSwgVHJhbnNmb3JtRW5jb2RlQ2hlY2tFcnJvciB9IGZyb20gJy4uL3RyYW5zZm9ybS9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2hlY2sgfSBmcm9tICcuLi9jaGVjay9pbmRleC5tanMnO1xuaW1wb3J0IHsgRXJyb3JzIH0gZnJvbSAnLi4vLi4vZXJyb3JzL2luZGV4Lm1qcyc7XG4vKiogRW5jb2RlcyBhIHZhbHVlIG9yIHRocm93cyBpZiBlcnJvciAqL1xuZXhwb3J0IGZ1bmN0aW9uIEVuY29kZSguLi5hcmdzKSB7XG4gICAgY29uc3QgW3NjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWVdID0gYXJncy5sZW5ndGggPT09IDMgPyBbYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXV0gOiBbYXJnc1swXSwgW10sIGFyZ3NbMV1dO1xuICAgIGNvbnN0IGVuY29kZWQgPSBIYXNUcmFuc2Zvcm0oc2NoZW1hLCByZWZlcmVuY2VzKSA/IFRyYW5zZm9ybUVuY29kZShzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSA6IHZhbHVlO1xuICAgIGlmICghQ2hlY2soc2NoZW1hLCByZWZlcmVuY2VzLCBlbmNvZGVkKSlcbiAgICAgICAgdGhyb3cgbmV3IFRyYW5zZm9ybUVuY29kZUNoZWNrRXJyb3Ioc2NoZW1hLCBlbmNvZGVkLCBFcnJvcnMoc2NoZW1hLCByZWZlcmVuY2VzLCBlbmNvZGVkKS5GaXJzdCgpKTtcbiAgICByZXR1cm4gZW5jb2RlZDtcbn1cbiIsCiAgICAiaW1wb3J0IHsgSXNPYmplY3QsIElzQXJyYXksIElzVHlwZWRBcnJheSwgSXNWYWx1ZVR5cGUgfSBmcm9tICcuLi9ndWFyZC9pbmRleC5tanMnO1xuaW1wb3J0IHsgVmFsdWVQb2ludGVyIH0gZnJvbSAnLi4vcG9pbnRlci9pbmRleC5tanMnO1xuaW1wb3J0IHsgQ2xvbmUgfSBmcm9tICcuLi9jbG9uZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHlwZUJveEVycm9yIH0gZnJvbSAnLi4vLi4vdHlwZS9lcnJvci9pbmRleC5tanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBJc1N0YW5kYXJkT2JqZWN0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIElzU3RhbmRhcmRPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gSXNPYmplY3QodmFsdWUpICYmICFJc0FycmF5KHZhbHVlKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRXJyb3JzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBWYWx1ZU11dGF0ZUVycm9yIGV4dGVuZHMgVHlwZUJveEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIE9iamVjdFR5cGUocm9vdCwgcGF0aCwgY3VycmVudCwgbmV4dCkge1xuICAgIGlmICghSXNTdGFuZGFyZE9iamVjdChjdXJyZW50KSkge1xuICAgICAgICBWYWx1ZVBvaW50ZXIuU2V0KHJvb3QsIHBhdGgsIENsb25lKG5leHQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY3VycmVudCk7XG4gICAgICAgIGNvbnN0IG5leHRLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobmV4dCk7XG4gICAgICAgIGZvciAoY29uc3QgY3VycmVudEtleSBvZiBjdXJyZW50S2V5cykge1xuICAgICAgICAgICAgaWYgKCFuZXh0S2V5cy5pbmNsdWRlcyhjdXJyZW50S2V5KSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBjdXJyZW50W2N1cnJlbnRLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbmV4dEtleSBvZiBuZXh0S2V5cykge1xuICAgICAgICAgICAgaWYgKCFjdXJyZW50S2V5cy5pbmNsdWRlcyhuZXh0S2V5KSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRbbmV4dEtleV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbmV4dEtleSBvZiBuZXh0S2V5cykge1xuICAgICAgICAgICAgVmlzaXQocm9vdCwgYCR7cGF0aH0vJHtuZXh0S2V5fWAsIGN1cnJlbnRbbmV4dEtleV0sIG5leHRbbmV4dEtleV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gQXJyYXlUeXBlKHJvb3QsIHBhdGgsIGN1cnJlbnQsIG5leHQpIHtcbiAgICBpZiAoIUlzQXJyYXkoY3VycmVudCkpIHtcbiAgICAgICAgVmFsdWVQb2ludGVyLlNldChyb290LCBwYXRoLCBDbG9uZShuZXh0KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbmV4dC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIFZpc2l0KHJvb3QsIGAke3BhdGh9LyR7aW5kZXh9YCwgY3VycmVudFtpbmRleF0sIG5leHRbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50LnNwbGljZShuZXh0Lmxlbmd0aCk7XG4gICAgfVxufVxuZnVuY3Rpb24gVHlwZWRBcnJheVR5cGUocm9vdCwgcGF0aCwgY3VycmVudCwgbmV4dCkge1xuICAgIGlmIChJc1R5cGVkQXJyYXkoY3VycmVudCkgJiYgY3VycmVudC5sZW5ndGggPT09IG5leHQubGVuZ3RoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY3VycmVudFtpXSA9IG5leHRbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIFZhbHVlUG9pbnRlci5TZXQocm9vdCwgcGF0aCwgQ2xvbmUobmV4dCkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIFZhbHVlVHlwZShyb290LCBwYXRoLCBjdXJyZW50LCBuZXh0KSB7XG4gICAgaWYgKGN1cnJlbnQgPT09IG5leHQpXG4gICAgICAgIHJldHVybjtcbiAgICBWYWx1ZVBvaW50ZXIuU2V0KHJvb3QsIHBhdGgsIG5leHQpO1xufVxuZnVuY3Rpb24gVmlzaXQocm9vdCwgcGF0aCwgY3VycmVudCwgbmV4dCkge1xuICAgIGlmIChJc0FycmF5KG5leHQpKVxuICAgICAgICByZXR1cm4gQXJyYXlUeXBlKHJvb3QsIHBhdGgsIGN1cnJlbnQsIG5leHQpO1xuICAgIGlmIChJc1R5cGVkQXJyYXkobmV4dCkpXG4gICAgICAgIHJldHVybiBUeXBlZEFycmF5VHlwZShyb290LCBwYXRoLCBjdXJyZW50LCBuZXh0KTtcbiAgICBpZiAoSXNTdGFuZGFyZE9iamVjdChuZXh0KSlcbiAgICAgICAgcmV0dXJuIE9iamVjdFR5cGUocm9vdCwgcGF0aCwgY3VycmVudCwgbmV4dCk7XG4gICAgaWYgKElzVmFsdWVUeXBlKG5leHQpKVxuICAgICAgICByZXR1cm4gVmFsdWVUeXBlKHJvb3QsIHBhdGgsIGN1cnJlbnQsIG5leHQpO1xufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBJc05vbk11dGFibGVWYWx1ZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBJc05vbk11dGFibGVWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiBJc1R5cGVkQXJyYXkodmFsdWUpIHx8IElzVmFsdWVUeXBlKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIElzTWlzbWF0Y2hlZFZhbHVlKGN1cnJlbnQsIG5leHQpIHtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gKChJc1N0YW5kYXJkT2JqZWN0KGN1cnJlbnQpICYmIElzQXJyYXkobmV4dCkpIHx8XG4gICAgICAgIChJc0FycmF5KGN1cnJlbnQpICYmIElzU3RhbmRhcmRPYmplY3QobmV4dCkpKTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gTXV0YXRlXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKiBgW011dGFibGVdYCBQZXJmb3JtcyBhIGRlZXAgbXV0YWJsZSB2YWx1ZSBhc3NpZ25tZW50IHdoaWxlIHJldGFpbmluZyBpbnRlcm5hbCByZWZlcmVuY2VzICovXG5leHBvcnQgZnVuY3Rpb24gTXV0YXRlKGN1cnJlbnQsIG5leHQpIHtcbiAgICBpZiAoSXNOb25NdXRhYmxlVmFsdWUoY3VycmVudCkgfHwgSXNOb25NdXRhYmxlVmFsdWUobmV4dCkpXG4gICAgICAgIHRocm93IG5ldyBWYWx1ZU11dGF0ZUVycm9yKCdPbmx5IG9iamVjdCBhbmQgYXJyYXkgdHlwZXMgY2FuIGJlIG11dGF0ZWQgYXQgdGhlIHJvb3QgbGV2ZWwnKTtcbiAgICBpZiAoSXNNaXNtYXRjaGVkVmFsdWUoY3VycmVudCwgbmV4dCkpXG4gICAgICAgIHRocm93IG5ldyBWYWx1ZU11dGF0ZUVycm9yKCdDYW5ub3QgYXNzaWduIGR1ZSB0eXBlIG1pc21hdGNoIG9mIGFzc2lnbmFibGUgdmFsdWVzJyk7XG4gICAgVmlzaXQoY3VycmVudCwgJycsIGN1cnJlbnQsIG5leHQpO1xufVxuIiwKICAgICJpbXBvcnQgeyBUeXBlQm94RXJyb3IgfSBmcm9tICcuLi8uLi90eXBlL2Vycm9yL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUcmFuc2Zvcm1EZWNvZGUsIFRyYW5zZm9ybUVuY29kZSwgSGFzVHJhbnNmb3JtIH0gZnJvbSAnLi4vdHJhbnNmb3JtL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBBc3NlcnQgfSBmcm9tICcuLi9hc3NlcnQvaW5kZXgubWpzJztcbmltcG9ydCB7IENhc3QgfSBmcm9tICcuLi9jYXN0L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDbGVhbiB9IGZyb20gJy4uL2NsZWFuL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDbG9uZSB9IGZyb20gJy4uL2Nsb25lL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBDb252ZXJ0IH0gZnJvbSAnLi4vY29udmVydC9pbmRleC5tanMnO1xuaW1wb3J0IHsgRGVmYXVsdCB9IGZyb20gJy4uL2RlZmF1bHQvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gR3VhcmRzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzQXJyYXksIElzVW5kZWZpbmVkIH0gZnJvbSAnLi4vZ3VhcmQvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRXJyb3Jcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIFBhcnNlRXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgfVxufVxuLy8gcHJldHRpZXItaWdub3JlXG5leHBvcnQgdmFyIFBhcnNlUmVnaXN0cnk7XG4oZnVuY3Rpb24gKFBhcnNlUmVnaXN0cnkpIHtcbiAgICBjb25zdCByZWdpc3RyeSA9IG5ldyBNYXAoW1xuICAgICAgICBbJ0Fzc2VydCcsICh0eXBlLCByZWZlcmVuY2VzLCB2YWx1ZSkgPT4geyBBc3NlcnQodHlwZSwgcmVmZXJlbmNlcywgdmFsdWUpOyByZXR1cm4gdmFsdWU7IH1dLFxuICAgICAgICBbJ0Nhc3QnLCAodHlwZSwgcmVmZXJlbmNlcywgdmFsdWUpID0+IENhc3QodHlwZSwgcmVmZXJlbmNlcywgdmFsdWUpXSxcbiAgICAgICAgWydDbGVhbicsICh0eXBlLCByZWZlcmVuY2VzLCB2YWx1ZSkgPT4gQ2xlYW4odHlwZSwgcmVmZXJlbmNlcywgdmFsdWUpXSxcbiAgICAgICAgWydDbG9uZScsIChfdHlwZSwgX3JlZmVyZW5jZXMsIHZhbHVlKSA9PiBDbG9uZSh2YWx1ZSldLFxuICAgICAgICBbJ0NvbnZlcnQnLCAodHlwZSwgcmVmZXJlbmNlcywgdmFsdWUpID0+IENvbnZlcnQodHlwZSwgcmVmZXJlbmNlcywgdmFsdWUpXSxcbiAgICAgICAgWydEZWNvZGUnLCAodHlwZSwgcmVmZXJlbmNlcywgdmFsdWUpID0+IChIYXNUcmFuc2Zvcm0odHlwZSwgcmVmZXJlbmNlcykgPyBUcmFuc2Zvcm1EZWNvZGUodHlwZSwgcmVmZXJlbmNlcywgdmFsdWUpIDogdmFsdWUpXSxcbiAgICAgICAgWydEZWZhdWx0JywgKHR5cGUsIHJlZmVyZW5jZXMsIHZhbHVlKSA9PiBEZWZhdWx0KHR5cGUsIHJlZmVyZW5jZXMsIHZhbHVlKV0sXG4gICAgICAgIFsnRW5jb2RlJywgKHR5cGUsIHJlZmVyZW5jZXMsIHZhbHVlKSA9PiAoSGFzVHJhbnNmb3JtKHR5cGUsIHJlZmVyZW5jZXMpID8gVHJhbnNmb3JtRW5jb2RlKHR5cGUsIHJlZmVyZW5jZXMsIHZhbHVlKSA6IHZhbHVlKV0sXG4gICAgXSk7XG4gICAgLy8gRGVsZXRlcyBhbiBlbnRyeSBmcm9tIHRoZSByZWdpc3RyeVxuICAgIGZ1bmN0aW9uIERlbGV0ZShrZXkpIHtcbiAgICAgICAgcmVnaXN0cnkuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIFBhcnNlUmVnaXN0cnkuRGVsZXRlID0gRGVsZXRlO1xuICAgIC8vIFNldHMgYW4gZW50cnkgaW4gdGhlIHJlZ2lzdHJ5XG4gICAgZnVuY3Rpb24gU2V0KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmVnaXN0cnkuc2V0KGtleSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBQYXJzZVJlZ2lzdHJ5LlNldCA9IFNldDtcbiAgICAvLyBHZXRzIGFuIGVudHJ5IGluIHRoZSByZWdpc3RyeVxuICAgIGZ1bmN0aW9uIEdldChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2lzdHJ5LmdldChrZXkpO1xuICAgIH1cbiAgICBQYXJzZVJlZ2lzdHJ5LkdldCA9IEdldDtcbn0pKFBhcnNlUmVnaXN0cnkgfHwgKFBhcnNlUmVnaXN0cnkgPSB7fSkpO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBEZWZhdWx0IFBhcnNlIFBpcGVsaW5lXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGNvbnN0IFBhcnNlRGVmYXVsdCA9IFtcbiAgICAnQ2xvbmUnLFxuICAgICdDbGVhbicsXG4gICAgJ0RlZmF1bHQnLFxuICAgICdDb252ZXJ0JyxcbiAgICAnQXNzZXJ0JyxcbiAgICAnRGVjb2RlJ1xuXTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUGFyc2VWYWx1ZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBQYXJzZVZhbHVlKG9wZXJhdGlvbnMsIHR5cGUsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIG9wZXJhdGlvbnMucmVkdWNlKCh2YWx1ZSwgb3BlcmF0aW9uS2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IFBhcnNlUmVnaXN0cnkuR2V0KG9wZXJhdGlvbktleSk7XG4gICAgICAgIGlmIChJc1VuZGVmaW5lZChvcGVyYXRpb24pKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlRXJyb3IoYFVuYWJsZSB0byBmaW5kIFBhcnNlIG9wZXJhdGlvbiAnJHtvcGVyYXRpb25LZXl9J2ApO1xuICAgICAgICByZXR1cm4gb3BlcmF0aW9uKHR5cGUsIHJlZmVyZW5jZXMsIHZhbHVlKTtcbiAgICB9LCB2YWx1ZSk7XG59XG4vKiogUGFyc2VzIGEgdmFsdWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBQYXJzZSguLi5hcmdzKSB7XG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgY29uc3QgW29wZXJhdGlvbnMsIHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWVdID0gKGFyZ3MubGVuZ3RoID09PSA0ID8gW2FyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM11dIDpcbiAgICAgICAgYXJncy5sZW5ndGggPT09IDMgPyBJc0FycmF5KGFyZ3NbMF0pID8gW2FyZ3NbMF0sIGFyZ3NbMV0sIFtdLCBhcmdzWzJdXSA6IFtQYXJzZURlZmF1bHQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl1dIDpcbiAgICAgICAgICAgIGFyZ3MubGVuZ3RoID09PSAyID8gW1BhcnNlRGVmYXVsdCwgYXJnc1swXSwgW10sIGFyZ3NbMV1dIDpcbiAgICAgICAgICAgICAgICAoKCkgPT4geyB0aHJvdyBuZXcgUGFyc2VFcnJvcignSW52YWxpZCBBcmd1bWVudHMnKTsgfSkoKSk7XG4gICAgcmV0dXJuIFBhcnNlVmFsdWUob3BlcmF0aW9ucywgc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSk7XG59XG4iLAogICAgImltcG9ydCB7IFRyYW5zZm9ybUVuY29kZSwgVHJhbnNmb3JtRGVjb2RlLCBIYXNUcmFuc2Zvcm0sIFRyYW5zZm9ybURlY29kZUNoZWNrRXJyb3IsIFRyYW5zZm9ybUVuY29kZUNoZWNrRXJyb3IgfSBmcm9tICcuLi92YWx1ZS90cmFuc2Zvcm0vaW5kZXgubWpzJztcbmltcG9ydCB7IEVycm9ycyB9IGZyb20gJy4uL2Vycm9ycy9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHlwZVN5c3RlbVBvbGljeSB9IGZyb20gJy4uL3N5c3RlbS9pbmRleC5tanMnO1xuaW1wb3J0IHsgVHlwZUJveEVycm9yIH0gZnJvbSAnLi4vdHlwZS9lcnJvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgRGVyZWYgfSBmcm9tICcuLi92YWx1ZS9kZXJlZi9pbmRleC5tanMnO1xuaW1wb3J0IHsgSGFzaCB9IGZyb20gJy4uL3ZhbHVlL2hhc2gvaW5kZXgubWpzJztcbmltcG9ydCB7IEtpbmQgfSBmcm9tICcuLi90eXBlL3N5bWJvbHMvaW5kZXgubWpzJztcbmltcG9ydCB7IFR5cGVSZWdpc3RyeSwgRm9ybWF0UmVnaXN0cnkgfSBmcm9tICcuLi90eXBlL3JlZ2lzdHJ5L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBLZXlPZlBhdHRlcm4gfSBmcm9tICcuLi90eXBlL2tleW9mL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBFeHRlbmRzVW5kZWZpbmVkQ2hlY2sgfSBmcm9tICcuLi90eXBlL2V4dGVuZHMvZXh0ZW5kcy11bmRlZmluZWQubWpzJztcbmltcG9ydCB7IE5ldmVyIH0gZnJvbSAnLi4vdHlwZS9uZXZlci9pbmRleC5tanMnO1xuaW1wb3J0IHsgUmVmIH0gZnJvbSAnLi4vdHlwZS9yZWYvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVmFsdWVHdWFyZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5pbXBvcnQgeyBJc0FycmF5LCBJc1N0cmluZywgSXNOdW1iZXIsIElzQmlnSW50IH0gZnJvbSAnLi4vdmFsdWUvZ3VhcmQvaW5kZXgubWpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHlwZUd1YXJkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmltcG9ydCB7IElzU2NoZW1hIH0gZnJvbSAnLi4vdHlwZS9ndWFyZC90eXBlLm1qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFR5cGVDaGVja1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgVHlwZUNoZWNrIHtcbiAgICBjb25zdHJ1Y3RvcihzY2hlbWEsIHJlZmVyZW5jZXMsIGNoZWNrRnVuYywgY29kZSkge1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VzID0gcmVmZXJlbmNlcztcbiAgICAgICAgdGhpcy5jaGVja0Z1bmMgPSBjaGVja0Z1bmM7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgICAgIHRoaXMuaGFzVHJhbnNmb3JtID0gSGFzVHJhbnNmb3JtKHNjaGVtYSwgcmVmZXJlbmNlcyk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRoZSBnZW5lcmF0ZWQgYXNzZXJ0aW9uIGNvZGUgdXNlZCB0byB2YWxpZGF0ZSB0aGlzIHR5cGUuICovXG4gICAgQ29kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29kZTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgdGhlIHNjaGVtYSB0eXBlIHVzZWQgdG8gdmFsaWRhdGUgKi9cbiAgICBTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjaGVtYTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgcmVmZXJlbmNlIHR5cGVzIHVzZWQgdG8gdmFsaWRhdGUgKi9cbiAgICBSZWZlcmVuY2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZlcmVuY2VzO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyBhbiBpdGVyYXRvciBmb3IgZWFjaCBlcnJvciBpbiB0aGlzIHZhbHVlLiAqL1xuICAgIEVycm9ycyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gRXJyb3JzKHRoaXMuc2NoZW1hLCB0aGlzLnJlZmVyZW5jZXMsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgbWF0Y2hlcyB0aGUgY29tcGlsZWQgdHlwZS4gKi9cbiAgICBDaGVjayh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVja0Z1bmModmFsdWUpO1xuICAgIH1cbiAgICAvKiogRGVjb2RlcyBhIHZhbHVlIG9yIHRocm93cyBpZiBlcnJvciAqL1xuICAgIERlY29kZSh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuY2hlY2tGdW5jKHZhbHVlKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBUcmFuc2Zvcm1EZWNvZGVDaGVja0Vycm9yKHRoaXMuc2NoZW1hLCB2YWx1ZSwgdGhpcy5FcnJvcnModmFsdWUpLkZpcnN0KCkpO1xuICAgICAgICByZXR1cm4gKHRoaXMuaGFzVHJhbnNmb3JtID8gVHJhbnNmb3JtRGVjb2RlKHRoaXMuc2NoZW1hLCB0aGlzLnJlZmVyZW5jZXMsIHZhbHVlKSA6IHZhbHVlKTtcbiAgICB9XG4gICAgLyoqIEVuY29kZXMgYSB2YWx1ZSBvciB0aHJvd3MgaWYgZXJyb3IgKi9cbiAgICBFbmNvZGUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlZCA9IHRoaXMuaGFzVHJhbnNmb3JtID8gVHJhbnNmb3JtRW5jb2RlKHRoaXMuc2NoZW1hLCB0aGlzLnJlZmVyZW5jZXMsIHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICBpZiAoIXRoaXMuY2hlY2tGdW5jKGVuY29kZWQpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFRyYW5zZm9ybUVuY29kZUNoZWNrRXJyb3IodGhpcy5zY2hlbWEsIHZhbHVlLCB0aGlzLkVycm9ycyh2YWx1ZSkuRmlyc3QoKSk7XG4gICAgICAgIHJldHVybiBlbmNvZGVkO1xuICAgIH1cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ2hhcmFjdGVyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnZhciBDaGFyYWN0ZXI7XG4oZnVuY3Rpb24gKENoYXJhY3Rlcikge1xuICAgIGZ1bmN0aW9uIERvbGxhclNpZ24oY29kZSkge1xuICAgICAgICByZXR1cm4gY29kZSA9PT0gMzY7XG4gICAgfVxuICAgIENoYXJhY3Rlci5Eb2xsYXJTaWduID0gRG9sbGFyU2lnbjtcbiAgICBmdW5jdGlvbiBJc1VuZGVyc2NvcmUoY29kZSkge1xuICAgICAgICByZXR1cm4gY29kZSA9PT0gOTU7XG4gICAgfVxuICAgIENoYXJhY3Rlci5Jc1VuZGVyc2NvcmUgPSBJc1VuZGVyc2NvcmU7XG4gICAgZnVuY3Rpb24gSXNBbHBoYShjb2RlKSB7XG4gICAgICAgIHJldHVybiAoY29kZSA+PSA2NSAmJiBjb2RlIDw9IDkwKSB8fCAoY29kZSA+PSA5NyAmJiBjb2RlIDw9IDEyMik7XG4gICAgfVxuICAgIENoYXJhY3Rlci5Jc0FscGhhID0gSXNBbHBoYTtcbiAgICBmdW5jdGlvbiBJc051bWVyaWMoY29kZSkge1xuICAgICAgICByZXR1cm4gY29kZSA+PSA0OCAmJiBjb2RlIDw9IDU3O1xuICAgIH1cbiAgICBDaGFyYWN0ZXIuSXNOdW1lcmljID0gSXNOdW1lcmljO1xufSkoQ2hhcmFjdGVyIHx8IChDaGFyYWN0ZXIgPSB7fSkpO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBNZW1iZXJFeHByZXNzaW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnZhciBNZW1iZXJFeHByZXNzaW9uO1xuKGZ1bmN0aW9uIChNZW1iZXJFeHByZXNzaW9uKSB7XG4gICAgZnVuY3Rpb24gSXNGaXJzdENoYXJhY3Rlck51bWVyaWModmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIENoYXJhY3Rlci5Jc051bWVyaWModmFsdWUuY2hhckNvZGVBdCgwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIElzQWNjZXNzb3IodmFsdWUpIHtcbiAgICAgICAgaWYgKElzRmlyc3RDaGFyYWN0ZXJOdW1lcmljKHZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY29kZSA9IHZhbHVlLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBjb25zdCBjaGVjayA9IENoYXJhY3Rlci5Jc0FscGhhKGNvZGUpIHx8IENoYXJhY3Rlci5Jc051bWVyaWMoY29kZSkgfHwgQ2hhcmFjdGVyLkRvbGxhclNpZ24oY29kZSkgfHwgQ2hhcmFjdGVyLklzVW5kZXJzY29yZShjb2RlKTtcbiAgICAgICAgICAgIGlmICghY2hlY2spXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBFc2NhcGVIeXBoZW4oa2V5KSB7XG4gICAgICAgIHJldHVybiBrZXkucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBFbmNvZGUob2JqZWN0LCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIElzQWNjZXNzb3Ioa2V5KSA/IGAke29iamVjdH0uJHtrZXl9YCA6IGAke29iamVjdH1bJyR7RXNjYXBlSHlwaGVuKGtleSl9J11gO1xuICAgIH1cbiAgICBNZW1iZXJFeHByZXNzaW9uLkVuY29kZSA9IEVuY29kZTtcbn0pKE1lbWJlckV4cHJlc3Npb24gfHwgKE1lbWJlckV4cHJlc3Npb24gPSB7fSkpO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBJZGVudGlmaWVyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnZhciBJZGVudGlmaWVyO1xuKGZ1bmN0aW9uIChJZGVudGlmaWVyKSB7XG4gICAgZnVuY3Rpb24gRW5jb2RlKCRpZCkge1xuICAgICAgICBjb25zdCBidWZmZXIgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAkaWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNvZGUgPSAkaWQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChDaGFyYWN0ZXIuSXNOdW1lcmljKGNvZGUpIHx8IENoYXJhY3Rlci5Jc0FscGhhKGNvZGUpKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLnB1c2goJGlkLmNoYXJBdChpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBidWZmZXIucHVzaChgXyR7Y29kZX1fYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZmZlci5qb2luKCcnKS5yZXBsYWNlKC9fXy9nLCAnXycpO1xuICAgIH1cbiAgICBJZGVudGlmaWVyLkVuY29kZSA9IEVuY29kZTtcbn0pKElkZW50aWZpZXIgfHwgKElkZW50aWZpZXIgPSB7fSkpO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBMaXRlcmFsU3RyaW5nXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnZhciBMaXRlcmFsU3RyaW5nO1xuKGZ1bmN0aW9uIChMaXRlcmFsU3RyaW5nKSB7XG4gICAgZnVuY3Rpb24gRXNjYXBlKGNvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpO1xuICAgIH1cbiAgICBMaXRlcmFsU3RyaW5nLkVzY2FwZSA9IEVzY2FwZTtcbn0pKExpdGVyYWxTdHJpbmcgfHwgKExpdGVyYWxTdHJpbmcgPSB7fSkpO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFcnJvcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIFR5cGVDb21waWxlclVua25vd25UeXBlRXJyb3IgZXh0ZW5kcyBUeXBlQm94RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHNjaGVtYSkge1xuICAgICAgICBzdXBlcignVW5rbm93biB0eXBlJyk7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBUeXBlQ29tcGlsZXJUeXBlR3VhcmRFcnJvciBleHRlbmRzIFR5cGVCb3hFcnJvciB7XG4gICAgY29uc3RydWN0b3Ioc2NoZW1hKSB7XG4gICAgICAgIHN1cGVyKCdQcmVmbGlnaHQgdmFsaWRhdGlvbiBjaGVjayBmYWlsZWQgdG8gZ3VhcmQgZm9yIHRoZSBnaXZlbiBzY2hlbWEnKTtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgfVxufVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBQb2xpY3lcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IHZhciBQb2xpY3k7XG4oZnVuY3Rpb24gKFBvbGljeSkge1xuICAgIGZ1bmN0aW9uIElzRXhhY3RPcHRpb25hbFByb3BlcnR5KHZhbHVlLCBrZXksIGV4cHJlc3Npb24pIHtcbiAgICAgICAgcmV0dXJuIFR5cGVTeXN0ZW1Qb2xpY3kuRXhhY3RPcHRpb25hbFByb3BlcnR5VHlwZXMgPyBgKCcke2tleX0nIGluICR7dmFsdWV9ID8gJHtleHByZXNzaW9ufSA6IHRydWUpYCA6IGAoJHtNZW1iZXJFeHByZXNzaW9uLkVuY29kZSh2YWx1ZSwga2V5KX0gIT09IHVuZGVmaW5lZCA/ICR7ZXhwcmVzc2lvbn0gOiB0cnVlKWA7XG4gICAgfVxuICAgIFBvbGljeS5Jc0V4YWN0T3B0aW9uYWxQcm9wZXJ0eSA9IElzRXhhY3RPcHRpb25hbFByb3BlcnR5O1xuICAgIGZ1bmN0aW9uIElzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gIVR5cGVTeXN0ZW1Qb2xpY3kuQWxsb3dBcnJheU9iamVjdCA/IGAodHlwZW9mICR7dmFsdWV9ID09PSAnb2JqZWN0JyAmJiAke3ZhbHVlfSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSgke3ZhbHVlfSkpYCA6IGAodHlwZW9mICR7dmFsdWV9ID09PSAnb2JqZWN0JyAmJiAke3ZhbHVlfSAhPT0gbnVsbClgO1xuICAgIH1cbiAgICBQb2xpY3kuSXNPYmplY3RMaWtlID0gSXNPYmplY3RMaWtlO1xuICAgIGZ1bmN0aW9uIElzUmVjb3JkTGlrZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gIVR5cGVTeXN0ZW1Qb2xpY3kuQWxsb3dBcnJheU9iamVjdFxuICAgICAgICAgICAgPyBgKHR5cGVvZiAke3ZhbHVlfSA9PT0gJ29iamVjdCcgJiYgJHt2YWx1ZX0gIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkoJHt2YWx1ZX0pICYmICEoJHt2YWx1ZX0gaW5zdGFuY2VvZiBEYXRlKSAmJiAhKCR7dmFsdWV9IGluc3RhbmNlb2YgVWludDhBcnJheSkpYFxuICAgICAgICAgICAgOiBgKHR5cGVvZiAke3ZhbHVlfSA9PT0gJ29iamVjdCcgJiYgJHt2YWx1ZX0gIT09IG51bGwgJiYgISgke3ZhbHVlfSBpbnN0YW5jZW9mIERhdGUpICYmICEoJHt2YWx1ZX0gaW5zdGFuY2VvZiBVaW50OEFycmF5KSlgO1xuICAgIH1cbiAgICBQb2xpY3kuSXNSZWNvcmRMaWtlID0gSXNSZWNvcmRMaWtlO1xuICAgIGZ1bmN0aW9uIElzTnVtYmVyTGlrZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gVHlwZVN5c3RlbVBvbGljeS5BbGxvd05hTiA/IGB0eXBlb2YgJHt2YWx1ZX0gPT09ICdudW1iZXInYCA6IGBOdW1iZXIuaXNGaW5pdGUoJHt2YWx1ZX0pYDtcbiAgICB9XG4gICAgUG9saWN5LklzTnVtYmVyTGlrZSA9IElzTnVtYmVyTGlrZTtcbiAgICBmdW5jdGlvbiBJc1ZvaWRMaWtlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBUeXBlU3lzdGVtUG9saWN5LkFsbG93TnVsbFZvaWQgPyBgKCR7dmFsdWV9ID09PSB1bmRlZmluZWQgfHwgJHt2YWx1ZX0gPT09IG51bGwpYCA6IGAke3ZhbHVlfSA9PT0gdW5kZWZpbmVkYDtcbiAgICB9XG4gICAgUG9saWN5LklzVm9pZExpa2UgPSBJc1ZvaWRMaWtlO1xufSkoUG9saWN5IHx8IChQb2xpY3kgPSB7fSkpO1xuLyoqIENvbXBpbGVzIFR5cGVzIGZvciBSdW50aW1lIFR5cGUgQ2hlY2tpbmcgKi9cbmV4cG9ydCB2YXIgVHlwZUNvbXBpbGVyO1xuKGZ1bmN0aW9uIChUeXBlQ29tcGlsZXIpIHtcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gR3VhcmRzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGZ1bmN0aW9uIElzQW55T3JVbmtub3duKHNjaGVtYSkge1xuICAgICAgICByZXR1cm4gc2NoZW1hW0tpbmRdID09PSAnQW55JyB8fCBzY2hlbWFbS2luZF0gPT09ICdVbmtub3duJztcbiAgICB9XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFR5cGVzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGZ1bmN0aW9uKiBGcm9tQW55KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgJ3RydWUnO1xuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbUFyZ3VtZW50KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgJ3RydWUnO1xuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbUFycmF5KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgYEFycmF5LmlzQXJyYXkoJHt2YWx1ZX0pYDtcbiAgICAgICAgY29uc3QgW3BhcmFtZXRlciwgYWNjdW11bGF0b3JdID0gW0NyZWF0ZVBhcmFtZXRlcigndmFsdWUnLCAnYW55JyksIENyZWF0ZVBhcmFtZXRlcignYWNjJywgJ251bWJlcicpXTtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5tYXhJdGVtcykpXG4gICAgICAgICAgICB5aWVsZCBgJHt2YWx1ZX0ubGVuZ3RoIDw9ICR7c2NoZW1hLm1heEl0ZW1zfWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubWluSXRlbXMpKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9Lmxlbmd0aCA+PSAke3NjaGVtYS5taW5JdGVtc31gO1xuICAgICAgICBjb25zdCBlbGVtZW50RXhwcmVzc2lvbiA9IENyZWF0ZUV4cHJlc3Npb24oc2NoZW1hLml0ZW1zLCByZWZlcmVuY2VzLCAndmFsdWUnKTtcbiAgICAgICAgeWllbGQgYCR7dmFsdWV9LmV2ZXJ5KCgke3BhcmFtZXRlcn0pID0+ICR7ZWxlbWVudEV4cHJlc3Npb259KWA7XG4gICAgICAgIGlmIChJc1NjaGVtYShzY2hlbWEuY29udGFpbnMpIHx8IElzTnVtYmVyKHNjaGVtYS5taW5Db250YWlucykgfHwgSXNOdW1iZXIoc2NoZW1hLm1heENvbnRhaW5zKSkge1xuICAgICAgICAgICAgY29uc3QgY29udGFpbnNTY2hlbWEgPSBJc1NjaGVtYShzY2hlbWEuY29udGFpbnMpID8gc2NoZW1hLmNvbnRhaW5zIDogTmV2ZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrRXhwcmVzc2lvbiA9IENyZWF0ZUV4cHJlc3Npb24oY29udGFpbnNTY2hlbWEsIHJlZmVyZW5jZXMsICd2YWx1ZScpO1xuICAgICAgICAgICAgY29uc3QgY2hlY2tNaW5Db250YWlucyA9IElzTnVtYmVyKHNjaGVtYS5taW5Db250YWlucykgPyBbYChjb3VudCA+PSAke3NjaGVtYS5taW5Db250YWluc30pYF0gOiBbXTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrTWF4Q29udGFpbnMgPSBJc051bWJlcihzY2hlbWEubWF4Q29udGFpbnMpID8gW2AoY291bnQgPD0gJHtzY2hlbWEubWF4Q29udGFpbnN9KWBdIDogW107XG4gICAgICAgICAgICBjb25zdCBjaGVja0NvdW50ID0gYGNvbnN0IGNvdW50ID0gdmFsdWUucmVkdWNlKCgke2FjY3VtdWxhdG9yfSwgJHtwYXJhbWV0ZXJ9KSA9PiAke2NoZWNrRXhwcmVzc2lvbn0gPyBhY2MgKyAxIDogYWNjLCAwKWA7XG4gICAgICAgICAgICBjb25zdCBjaGVjayA9IFtgKGNvdW50ID4gMClgLCAuLi5jaGVja01pbkNvbnRhaW5zLCAuLi5jaGVja01heENvbnRhaW5zXS5qb2luKCcgJiYgJyk7XG4gICAgICAgICAgICB5aWVsZCBgKCgke3BhcmFtZXRlcn0pID0+IHsgJHtjaGVja0NvdW50fTsgcmV0dXJuICR7Y2hlY2t9fSkoJHt2YWx1ZX0pYDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLnVuaXF1ZUl0ZW1zID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBjaGVjayA9IGBjb25zdCBoYXNoZWQgPSBoYXNoKGVsZW1lbnQpOyBpZihzZXQuaGFzKGhhc2hlZCkpIHsgcmV0dXJuIGZhbHNlIH0gZWxzZSB7IHNldC5hZGQoaGFzaGVkKSB9IH0gcmV0dXJuIHRydWVgO1xuICAgICAgICAgICAgY29uc3QgYmxvY2sgPSBgY29uc3Qgc2V0ID0gbmV3IFNldCgpOyBmb3IoY29uc3QgZWxlbWVudCBvZiB2YWx1ZSkgeyAke2NoZWNrfSB9YDtcbiAgICAgICAgICAgIHlpZWxkIGAoKCR7cGFyYW1ldGVyfSkgPT4geyAke2Jsb2NrfSApKCR7dmFsdWV9KWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21Bc3luY0l0ZXJhdG9yKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgYCh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIFN5bWJvbC5hc3luY0l0ZXJhdG9yIGluICR7dmFsdWV9KWA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tQmlnSW50KHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgYCh0eXBlb2YgJHt2YWx1ZX0gPT09ICdiaWdpbnQnKWA7XG4gICAgICAgIGlmIChJc0JpZ0ludChzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSkpXG4gICAgICAgICAgICB5aWVsZCBgJHt2YWx1ZX0gPCBCaWdJbnQoJHtzY2hlbWEuZXhjbHVzaXZlTWF4aW11bX0pYDtcbiAgICAgICAgaWYgKElzQmlnSW50KHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtKSlcbiAgICAgICAgICAgIHlpZWxkIGAke3ZhbHVlfSA+IEJpZ0ludCgke3NjaGVtYS5leGNsdXNpdmVNaW5pbXVtfSlgO1xuICAgICAgICBpZiAoSXNCaWdJbnQoc2NoZW1hLm1heGltdW0pKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9IDw9IEJpZ0ludCgke3NjaGVtYS5tYXhpbXVtfSlgO1xuICAgICAgICBpZiAoSXNCaWdJbnQoc2NoZW1hLm1pbmltdW0pKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9ID49IEJpZ0ludCgke3NjaGVtYS5taW5pbXVtfSlgO1xuICAgICAgICBpZiAoSXNCaWdJbnQoc2NoZW1hLm11bHRpcGxlT2YpKVxuICAgICAgICAgICAgeWllbGQgYCgke3ZhbHVlfSAlIEJpZ0ludCgke3NjaGVtYS5tdWx0aXBsZU9mfSkpID09PSAwYDtcbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21Cb29sZWFuKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgYCh0eXBlb2YgJHt2YWx1ZX0gPT09ICdib29sZWFuJylgO1xuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbUNvbnN0cnVjdG9yKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQqIFZpc2l0KHNjaGVtYS5yZXR1cm5zLCByZWZlcmVuY2VzLCBgJHt2YWx1ZX0ucHJvdG90eXBlYCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tRGF0ZShzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIHlpZWxkIGAoJHt2YWx1ZX0gaW5zdGFuY2VvZiBEYXRlKSAmJiBOdW1iZXIuaXNGaW5pdGUoJHt2YWx1ZX0uZ2V0VGltZSgpKWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEuZXhjbHVzaXZlTWF4aW11bVRpbWVzdGFtcCkpXG4gICAgICAgICAgICB5aWVsZCBgJHt2YWx1ZX0uZ2V0VGltZSgpIDwgJHtzY2hlbWEuZXhjbHVzaXZlTWF4aW11bVRpbWVzdGFtcH1gO1xuICAgICAgICBpZiAoSXNOdW1iZXIoc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW1UaW1lc3RhbXApKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9LmdldFRpbWUoKSA+ICR7c2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW1UaW1lc3RhbXB9YDtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5tYXhpbXVtVGltZXN0YW1wKSlcbiAgICAgICAgICAgIHlpZWxkIGAke3ZhbHVlfS5nZXRUaW1lKCkgPD0gJHtzY2hlbWEubWF4aW11bVRpbWVzdGFtcH1gO1xuICAgICAgICBpZiAoSXNOdW1iZXIoc2NoZW1hLm1pbmltdW1UaW1lc3RhbXApKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9LmdldFRpbWUoKSA+PSAke3NjaGVtYS5taW5pbXVtVGltZXN0YW1wfWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubXVsdGlwbGVPZlRpbWVzdGFtcCkpXG4gICAgICAgICAgICB5aWVsZCBgKCR7dmFsdWV9LmdldFRpbWUoKSAlICR7c2NoZW1hLm11bHRpcGxlT2ZUaW1lc3RhbXB9KSA9PT0gMGA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tRnVuY3Rpb24oc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICB5aWVsZCBgKHR5cGVvZiAke3ZhbHVlfSA9PT0gJ2Z1bmN0aW9uJylgO1xuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbUltcG9ydChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlcnMgPSBnbG9iYWxUaGlzLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNjaGVtYS4kZGVmcykucmVkdWNlKChyZXN1bHQsIGtleSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFsuLi5yZXN1bHQsIHNjaGVtYS4kZGVmc1trZXldXTtcbiAgICAgICAgfSwgW10pO1xuICAgICAgICB5aWVsZCogVmlzaXQoUmVmKHNjaGVtYS4kcmVmKSwgWy4uLnJlZmVyZW5jZXMsIC4uLm1lbWJlcnNdLCB2YWx1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tSW50ZWdlcihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIHlpZWxkIGBOdW1iZXIuaXNJbnRlZ2VyKCR7dmFsdWV9KWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSkpXG4gICAgICAgICAgICB5aWVsZCBgJHt2YWx1ZX0gPCAke3NjaGVtYS5leGNsdXNpdmVNYXhpbXVtfWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEuZXhjbHVzaXZlTWluaW11bSkpXG4gICAgICAgICAgICB5aWVsZCBgJHt2YWx1ZX0gPiAke3NjaGVtYS5leGNsdXNpdmVNaW5pbXVtfWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubWF4aW11bSkpXG4gICAgICAgICAgICB5aWVsZCBgJHt2YWx1ZX0gPD0gJHtzY2hlbWEubWF4aW11bX1gO1xuICAgICAgICBpZiAoSXNOdW1iZXIoc2NoZW1hLm1pbmltdW0pKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9ID49ICR7c2NoZW1hLm1pbmltdW19YDtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5tdWx0aXBsZU9mKSlcbiAgICAgICAgICAgIHlpZWxkIGAoJHt2YWx1ZX0gJSAke3NjaGVtYS5tdWx0aXBsZU9mfSkgPT09IDBgO1xuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbUludGVyc2VjdChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNoZWNrMSA9IHNjaGVtYS5hbGxPZi5tYXAoKHNjaGVtYSkgPT4gQ3JlYXRlRXhwcmVzc2lvbihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSkuam9pbignICYmICcpO1xuICAgICAgICBpZiAoc2NoZW1hLnVuZXZhbHVhdGVkUHJvcGVydGllcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleUNoZWNrID0gQ3JlYXRlVmFyaWFibGUoYCR7bmV3IFJlZ0V4cChLZXlPZlBhdHRlcm4oc2NoZW1hKSl9O2ApO1xuICAgICAgICAgICAgY29uc3QgY2hlY2syID0gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKCR7dmFsdWV9KS5ldmVyeShrZXkgPT4gJHtrZXlDaGVja30udGVzdChrZXkpKWA7XG4gICAgICAgICAgICB5aWVsZCBgKCR7Y2hlY2sxfSAmJiAke2NoZWNrMn0pYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChJc1NjaGVtYShzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzKSkge1xuICAgICAgICAgICAgY29uc3Qga2V5Q2hlY2sgPSBDcmVhdGVWYXJpYWJsZShgJHtuZXcgUmVnRXhwKEtleU9mUGF0dGVybihzY2hlbWEpKX07YCk7XG4gICAgICAgICAgICBjb25zdCBjaGVjazIgPSBgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoJHt2YWx1ZX0pLmV2ZXJ5KGtleSA9PiAke2tleUNoZWNrfS50ZXN0KGtleSkgfHwgJHtDcmVhdGVFeHByZXNzaW9uKHNjaGVtYS51bmV2YWx1YXRlZFByb3BlcnRpZXMsIHJlZmVyZW5jZXMsIGAke3ZhbHVlfVtrZXldYCl9KWA7XG4gICAgICAgICAgICB5aWVsZCBgKCR7Y2hlY2sxfSAmJiAke2NoZWNrMn0pYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHlpZWxkIGAoJHtjaGVjazF9KWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21JdGVyYXRvcihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIHlpZWxkIGAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gJHt2YWx1ZX0pYDtcbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21MaXRlcmFsKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWEuY29uc3QgPT09ICdudW1iZXInIHx8IHR5cGVvZiBzY2hlbWEuY29uc3QgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgeWllbGQgYCgke3ZhbHVlfSA9PT0gJHtzY2hlbWEuY29uc3R9KWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB5aWVsZCBgKCR7dmFsdWV9ID09PSAnJHtMaXRlcmFsU3RyaW5nLkVzY2FwZShzY2hlbWEuY29uc3QpfScpYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbU5ldmVyKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgYGZhbHNlYDtcbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21Ob3Qoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gQ3JlYXRlRXhwcmVzc2lvbihzY2hlbWEubm90LCByZWZlcmVuY2VzLCB2YWx1ZSk7XG4gICAgICAgIHlpZWxkIGAoISR7ZXhwcmVzc2lvbn0pYDtcbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21OdWxsKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgYCgke3ZhbHVlfSA9PT0gbnVsbClgO1xuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbU51bWJlcihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIHlpZWxkIFBvbGljeS5Jc051bWJlckxpa2UodmFsdWUpO1xuICAgICAgICBpZiAoSXNOdW1iZXIoc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0pKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9IDwgJHtzY2hlbWEuZXhjbHVzaXZlTWF4aW11bX1gO1xuICAgICAgICBpZiAoSXNOdW1iZXIoc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0pKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9ID4gJHtzY2hlbWEuZXhjbHVzaXZlTWluaW11bX1gO1xuICAgICAgICBpZiAoSXNOdW1iZXIoc2NoZW1hLm1heGltdW0pKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9IDw9ICR7c2NoZW1hLm1heGltdW19YDtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5taW5pbXVtKSlcbiAgICAgICAgICAgIHlpZWxkIGAke3ZhbHVlfSA+PSAke3NjaGVtYS5taW5pbXVtfWA7XG4gICAgICAgIGlmIChJc051bWJlcihzY2hlbWEubXVsdGlwbGVPZikpXG4gICAgICAgICAgICB5aWVsZCBgKCR7dmFsdWV9ICUgJHtzY2hlbWEubXVsdGlwbGVPZn0pID09PSAwYDtcbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21PYmplY3Qoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICB5aWVsZCBQb2xpY3kuSXNPYmplY3RMaWtlKHZhbHVlKTtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5taW5Qcm9wZXJ0aWVzKSlcbiAgICAgICAgICAgIHlpZWxkIGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcygke3ZhbHVlfSkubGVuZ3RoID49ICR7c2NoZW1hLm1pblByb3BlcnRpZXN9YDtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSlcbiAgICAgICAgICAgIHlpZWxkIGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcygke3ZhbHVlfSkubGVuZ3RoIDw9ICR7c2NoZW1hLm1heFByb3BlcnRpZXN9YDtcbiAgICAgICAgY29uc3Qga25vd25LZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc2NoZW1hLnByb3BlcnRpZXMpO1xuICAgICAgICBmb3IgKGNvbnN0IGtub3duS2V5IG9mIGtub3duS2V5cykge1xuICAgICAgICAgICAgY29uc3QgbWVtYmVyRXhwcmVzc2lvbiA9IE1lbWJlckV4cHJlc3Npb24uRW5jb2RlKHZhbHVlLCBrbm93bktleSk7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHNjaGVtYS5wcm9wZXJ0aWVzW2tub3duS2V5XTtcbiAgICAgICAgICAgIGlmIChzY2hlbWEucmVxdWlyZWQgJiYgc2NoZW1hLnJlcXVpcmVkLmluY2x1ZGVzKGtub3duS2V5KSkge1xuICAgICAgICAgICAgICAgIHlpZWxkKiBWaXNpdChwcm9wZXJ0eSwgcmVmZXJlbmNlcywgbWVtYmVyRXhwcmVzc2lvbik7XG4gICAgICAgICAgICAgICAgaWYgKEV4dGVuZHNVbmRlZmluZWRDaGVjayhwcm9wZXJ0eSkgfHwgSXNBbnlPclVua25vd24ocHJvcGVydHkpKVxuICAgICAgICAgICAgICAgICAgICB5aWVsZCBgKCcke2tub3duS2V5fScgaW4gJHt2YWx1ZX0pYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSBDcmVhdGVFeHByZXNzaW9uKHByb3BlcnR5LCByZWZlcmVuY2VzLCBtZW1iZXJFeHByZXNzaW9uKTtcbiAgICAgICAgICAgICAgICB5aWVsZCBQb2xpY3kuSXNFeGFjdE9wdGlvbmFsUHJvcGVydHkodmFsdWUsIGtub3duS2V5LCBleHByZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKHNjaGVtYS5yZXF1aXJlZCAmJiBzY2hlbWEucmVxdWlyZWQubGVuZ3RoID09PSBrbm93bktleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgYE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKCR7dmFsdWV9KS5sZW5ndGggPT09ICR7a25vd25LZXlzLmxlbmd0aH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IGBbJHtrbm93bktleXMubWFwKChrZXkpID0+IGAnJHtrZXl9J2ApLmpvaW4oJywgJyl9XWA7XG4gICAgICAgICAgICAgICAgeWllbGQgYE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKCR7dmFsdWV9KS5ldmVyeShrZXkgPT4gJHtrZXlzfS5pbmNsdWRlcyhrZXkpKWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb25zdCBleHByZXNzaW9uID0gQ3JlYXRlRXhwcmVzc2lvbihzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMsIHJlZmVyZW5jZXMsIGAke3ZhbHVlfVtrZXldYCk7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gYFske2tub3duS2V5cy5tYXAoKGtleSkgPT4gYCcke2tleX0nYCkuam9pbignLCAnKX1dYDtcbiAgICAgICAgICAgIHlpZWxkIGAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoJHt2YWx1ZX0pLmV2ZXJ5KGtleSA9PiAke2tleXN9LmluY2x1ZGVzKGtleSkgfHwgJHtleHByZXNzaW9ufSkpYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbVByb21pc2Uoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICB5aWVsZCBgJHt2YWx1ZX0gaW5zdGFuY2VvZiBQcm9taXNlYDtcbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21SZWNvcmQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICB5aWVsZCBQb2xpY3kuSXNSZWNvcmRMaWtlKHZhbHVlKTtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5taW5Qcm9wZXJ0aWVzKSlcbiAgICAgICAgICAgIHlpZWxkIGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcygke3ZhbHVlfSkubGVuZ3RoID49ICR7c2NoZW1hLm1pblByb3BlcnRpZXN9YDtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSlcbiAgICAgICAgICAgIHlpZWxkIGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcygke3ZhbHVlfSkubGVuZ3RoIDw9ICR7c2NoZW1hLm1heFByb3BlcnRpZXN9YDtcbiAgICAgICAgY29uc3QgW3BhdHRlcm5LZXksIHBhdHRlcm5TY2hlbWFdID0gT2JqZWN0LmVudHJpZXMoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKVswXTtcbiAgICAgICAgY29uc3QgdmFyaWFibGUgPSBDcmVhdGVWYXJpYWJsZShgJHtuZXcgUmVnRXhwKHBhdHRlcm5LZXkpfWApO1xuICAgICAgICBjb25zdCBjaGVjazEgPSBDcmVhdGVFeHByZXNzaW9uKHBhdHRlcm5TY2hlbWEsIHJlZmVyZW5jZXMsICd2YWx1ZScpO1xuICAgICAgICBjb25zdCBjaGVjazIgPSBJc1NjaGVtYShzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpID8gQ3JlYXRlRXhwcmVzc2lvbihzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMsIHJlZmVyZW5jZXMsIHZhbHVlKSA6IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gZmFsc2UgPyAnZmFsc2UnIDogJ3RydWUnO1xuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gYCgke3ZhcmlhYmxlfS50ZXN0KGtleSkgPyAke2NoZWNrMX0gOiAke2NoZWNrMn0pYDtcbiAgICAgICAgeWllbGQgYChPYmplY3QuZW50cmllcygke3ZhbHVlfSkuZXZlcnkoKFtrZXksIHZhbHVlXSkgPT4gJHtleHByZXNzaW9ufSkpYDtcbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21SZWYoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBEZXJlZihzY2hlbWEsIHJlZmVyZW5jZXMpO1xuICAgICAgICAvLyBSZWZlcmVuY2U6IElmIHdlIGhhdmUgc2VlbiB0aGlzIHJlZmVyZW5jZSBiZWZvcmUgd2UgY2FuIGp1c3QgeWllbGQgYW5kIHJldHVybiB0aGUgZnVuY3Rpb24gY2FsbC5cbiAgICAgICAgLy8gSWYgdGhpcyBpc24ndCB0aGUgY2FzZSB3ZSBkZWZlciB0byB2aXNpdCB0byBnZW5lcmF0ZSBhbmQgc2V0IHRoZSBmdW5jdGlvbiBmb3Igc3Vic2VxdWVudCBwYXNzZXMuXG4gICAgICAgIGlmIChzdGF0ZS5mdW5jdGlvbnMuaGFzKHNjaGVtYS4kcmVmKSlcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCBgJHtDcmVhdGVGdW5jdGlvbk5hbWUoc2NoZW1hLiRyZWYpfSgke3ZhbHVlfSlgO1xuICAgICAgICB5aWVsZCogVmlzaXQodGFyZ2V0LCByZWZlcmVuY2VzLCB2YWx1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tUmVnRXhwKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgdmFyaWFibGUgPSBDcmVhdGVWYXJpYWJsZShgJHtuZXcgUmVnRXhwKHNjaGVtYS5zb3VyY2UsIHNjaGVtYS5mbGFncyl9O2ApO1xuICAgICAgICB5aWVsZCBgKHR5cGVvZiAke3ZhbHVlfSA9PT0gJ3N0cmluZycpYDtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5tYXhMZW5ndGgpKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9Lmxlbmd0aCA8PSAke3NjaGVtYS5tYXhMZW5ndGh9YDtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5taW5MZW5ndGgpKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9Lmxlbmd0aCA+PSAke3NjaGVtYS5taW5MZW5ndGh9YDtcbiAgICAgICAgeWllbGQgYCR7dmFyaWFibGV9LnRlc3QoJHt2YWx1ZX0pYDtcbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21TdHJpbmcoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICB5aWVsZCBgKHR5cGVvZiAke3ZhbHVlfSA9PT0gJ3N0cmluZycpYDtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5tYXhMZW5ndGgpKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9Lmxlbmd0aCA8PSAke3NjaGVtYS5tYXhMZW5ndGh9YDtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5taW5MZW5ndGgpKVxuICAgICAgICAgICAgeWllbGQgYCR7dmFsdWV9Lmxlbmd0aCA+PSAke3NjaGVtYS5taW5MZW5ndGh9YDtcbiAgICAgICAgaWYgKHNjaGVtYS5wYXR0ZXJuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlID0gQ3JlYXRlVmFyaWFibGUoYCR7bmV3IFJlZ0V4cChzY2hlbWEucGF0dGVybil9O2ApO1xuICAgICAgICAgICAgeWllbGQgYCR7dmFyaWFibGV9LnRlc3QoJHt2YWx1ZX0pYDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLmZvcm1hdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB5aWVsZCBgZm9ybWF0KCcke3NjaGVtYS5mb3JtYXR9JywgJHt2YWx1ZX0pYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbVN5bWJvbChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIHlpZWxkIGAodHlwZW9mICR7dmFsdWV9ID09PSAnc3ltYm9sJylgO1xuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbVRlbXBsYXRlTGl0ZXJhbChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIHlpZWxkIGAodHlwZW9mICR7dmFsdWV9ID09PSAnc3RyaW5nJylgO1xuICAgICAgICBjb25zdCB2YXJpYWJsZSA9IENyZWF0ZVZhcmlhYmxlKGAke25ldyBSZWdFeHAoc2NoZW1hLnBhdHRlcm4pfTtgKTtcbiAgICAgICAgeWllbGQgYCR7dmFyaWFibGV9LnRlc3QoJHt2YWx1ZX0pYDtcbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21UaGlzKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgLy8gTm90ZTogVGhpcyB0eXBlcyBhcmUgYXNzdXJlZCB0byBiZSBob2lzdGVkIHByaW9yIHRvIHRoaXMgY2FsbC4gSnVzdCB5aWVsZCB0aGUgZnVuY3Rpb24uXG4gICAgICAgIHlpZWxkIGAke0NyZWF0ZUZ1bmN0aW9uTmFtZShzY2hlbWEuJHJlZil9KCR7dmFsdWV9KWA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tVHVwbGUoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICB5aWVsZCBgQXJyYXkuaXNBcnJheSgke3ZhbHVlfSlgO1xuICAgICAgICBpZiAoc2NoZW1hLml0ZW1zID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4geWllbGQgYCR7dmFsdWV9Lmxlbmd0aCA9PT0gMGA7XG4gICAgICAgIHlpZWxkIGAoJHt2YWx1ZX0ubGVuZ3RoID09PSAke3NjaGVtYS5tYXhJdGVtc30pYDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWEuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSBDcmVhdGVFeHByZXNzaW9uKHNjaGVtYS5pdGVtc1tpXSwgcmVmZXJlbmNlcywgYCR7dmFsdWV9WyR7aX1dYCk7XG4gICAgICAgICAgICB5aWVsZCBgJHtleHByZXNzaW9ufWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21VbmRlZmluZWQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICB5aWVsZCBgJHt2YWx1ZX0gPT09IHVuZGVmaW5lZGA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tVW5pb24oc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9ucyA9IHNjaGVtYS5hbnlPZi5tYXAoKHNjaGVtYSkgPT4gQ3JlYXRlRXhwcmVzc2lvbihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSk7XG4gICAgICAgIHlpZWxkIGAoJHtleHByZXNzaW9ucy5qb2luKCcgfHwgJyl9KWA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tVWludDhBcnJheShzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIHlpZWxkIGAke3ZhbHVlfSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXlgO1xuICAgICAgICBpZiAoSXNOdW1iZXIoc2NoZW1hLm1heEJ5dGVMZW5ndGgpKVxuICAgICAgICAgICAgeWllbGQgYCgke3ZhbHVlfS5sZW5ndGggPD0gJHtzY2hlbWEubWF4Qnl0ZUxlbmd0aH0pYDtcbiAgICAgICAgaWYgKElzTnVtYmVyKHNjaGVtYS5taW5CeXRlTGVuZ3RoKSlcbiAgICAgICAgICAgIHlpZWxkIGAoJHt2YWx1ZX0ubGVuZ3RoID49ICR7c2NoZW1hLm1pbkJ5dGVMZW5ndGh9KWA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBGcm9tVW5rbm93bihzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlKSB7XG4gICAgICAgIHlpZWxkICd0cnVlJztcbiAgICB9XG4gICAgZnVuY3Rpb24qIEZyb21Wb2lkKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUpIHtcbiAgICAgICAgeWllbGQgUG9saWN5LklzVm9pZExpa2UodmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiogRnJvbUtpbmQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHN0YXRlLmluc3RhbmNlcy5zaXplO1xuICAgICAgICBzdGF0ZS5pbnN0YW5jZXMuc2V0KGluc3RhbmNlLCBzY2hlbWEpO1xuICAgICAgICB5aWVsZCBga2luZCgnJHtzY2hlbWFbS2luZF19JywgJHtpbnN0YW5jZX0sICR7dmFsdWV9KWA7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBWaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlLCB1c2VIb2lzdGluZyA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgcmVmZXJlbmNlc18gPSBJc1N0cmluZyhzY2hlbWEuJGlkKSA/IFsuLi5yZWZlcmVuY2VzLCBzY2hlbWFdIDogcmVmZXJlbmNlcztcbiAgICAgICAgY29uc3Qgc2NoZW1hXyA9IHNjaGVtYTtcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gSG9pc3RpbmdcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaWYgKHVzZUhvaXN0aW5nICYmIElzU3RyaW5nKHNjaGVtYS4kaWQpKSB7XG4gICAgICAgICAgICBjb25zdCBmdW5jdGlvbk5hbWUgPSBDcmVhdGVGdW5jdGlvbk5hbWUoc2NoZW1hLiRpZCk7XG4gICAgICAgICAgICBpZiAoc3RhdGUuZnVuY3Rpb25zLmhhcyhmdW5jdGlvbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIGAke2Z1bmN0aW9uTmFtZX0oJHt2YWx1ZX0pYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE5vdGU6IEluIHRoZSBjYXNlIG9mIGN5Y2xpYyB0eXBlcywgd2UgbmVlZCB0byBjcmVhdGUgYSAnZnVuY3Rpb25zJyByZWNvcmRcbiAgICAgICAgICAgICAgICAvLyB0byBwcmV2ZW50IGluZmluaXRlbHkgcmUtdmlzaXRpbmcgdGhlIENyZWF0ZUZ1bmN0aW9uLiBTdWJzZXF1ZW50IGF0dGVtcHRzXG4gICAgICAgICAgICAgICAgLy8gdG8gdmlzaXQgd2lsbCBiZSBjYXVnaHQgYnkgdGhlIGFib3ZlIGNvbmRpdGlvbi5cbiAgICAgICAgICAgICAgICBzdGF0ZS5mdW5jdGlvbnMuc2V0KGZ1bmN0aW9uTmFtZSwgJzxkZWZlcnJlZD4nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmdW5jdGlvbkNvZGUgPSBDcmVhdGVGdW5jdGlvbihmdW5jdGlvbk5hbWUsIHNjaGVtYSwgcmVmZXJlbmNlcywgJ3ZhbHVlJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHN0YXRlLmZ1bmN0aW9ucy5zZXQoZnVuY3Rpb25OYW1lLCBmdW5jdGlvbkNvZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCBgJHtmdW5jdGlvbk5hbWV9KCR7dmFsdWV9KWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChzY2hlbWFfW0tpbmRdKSB7XG4gICAgICAgICAgICBjYXNlICdBbnknOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUFueShzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnQXJndW1lbnQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUFyZ3VtZW50KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdBcnJheSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tQXJyYXkoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0FzeW5jSXRlcmF0b3InOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUFzeW5jSXRlcmF0b3Ioc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0JpZ0ludCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tQmlnSW50KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdCb29sZWFuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21Cb29sZWFuKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdDb25zdHJ1Y3Rvcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tQ29uc3RydWN0b3Ioc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0RhdGUnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbURhdGUoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21GdW5jdGlvbihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnSW1wb3J0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21JbXBvcnQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0ludGVnZXInOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUludGVnZXIoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0ludGVyc2VjdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tSW50ZXJzZWN0KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdJdGVyYXRvcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tSXRlcmF0b3Ioc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0xpdGVyYWwnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbUxpdGVyYWwoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ05ldmVyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21OZXZlcihzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnTm90JzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21Ob3Qoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ051bGwnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbU51bGwoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ051bWJlcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tTnVtYmVyKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdPYmplY3QnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbU9iamVjdChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnUHJvbWlzZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tUHJvbWlzZShzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnUmVjb3JkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21SZWNvcmQoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ1JlZic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tUmVmKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdSZWdFeHAnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVJlZ0V4cChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnU3RyaW5nJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21TdHJpbmcoc2NoZW1hXywgcmVmZXJlbmNlc18sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ1N5bWJvbCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tU3ltYm9sKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdUZW1wbGF0ZUxpdGVyYWwnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVRlbXBsYXRlTGl0ZXJhbChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnVGhpcyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkKiBGcm9tVGhpcyhzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnVHVwbGUnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVR1cGxlKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdVbmRlZmluZWQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVVuZGVmaW5lZChzY2hlbWFfLCByZWZlcmVuY2VzXywgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnVW5pb24nOlxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCogRnJvbVVuaW9uKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdVaW50OEFycmF5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21VaW50OEFycmF5KHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdVbmtub3duJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21Vbmtub3duKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdWb2lkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21Wb2lkKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmICghVHlwZVJlZ2lzdHJ5LkhhcyhzY2hlbWFfW0tpbmRdKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVDb21waWxlclVua25vd25UeXBlRXJyb3Ioc2NoZW1hKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQqIEZyb21LaW5kKHNjaGVtYV8sIHJlZmVyZW5jZXNfLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIENvbXBpbGVyIFN0YXRlXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICBsYW5ndWFnZTogJ2phdmFzY3JpcHQnLCAvLyB0YXJnZXQgbGFuZ3VhZ2VcbiAgICAgICAgZnVuY3Rpb25zOiBuZXcgTWFwKCksIC8vIGxvY2FsIGZ1bmN0aW9uc1xuICAgICAgICB2YXJpYWJsZXM6IG5ldyBNYXAoKSwgLy8gbG9jYWwgdmFyaWFibGVzXG4gICAgICAgIGluc3RhbmNlczogbmV3IE1hcCgpIC8vIGV4dGVyaW9yIGtpbmQgaW5zdGFuY2VzXG4gICAgfTtcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gQ29tcGlsZXIgRmFjdG9yeVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBmdW5jdGlvbiBDcmVhdGVFeHByZXNzaW9uKHNjaGVtYSwgcmVmZXJlbmNlcywgdmFsdWUsIHVzZUhvaXN0aW5nID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gYCgke1suLi5WaXNpdChzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlLCB1c2VIb2lzdGluZyldLmpvaW4oJyAmJiAnKX0pYDtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ3JlYXRlRnVuY3Rpb25OYW1lKCRpZCkge1xuICAgICAgICByZXR1cm4gYGNoZWNrXyR7SWRlbnRpZmllci5FbmNvZGUoJGlkKX1gO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDcmVhdGVWYXJpYWJsZShleHByZXNzaW9uKSB7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlTmFtZSA9IGBsb2NhbF8ke3N0YXRlLnZhcmlhYmxlcy5zaXplfWA7XG4gICAgICAgIHN0YXRlLnZhcmlhYmxlcy5zZXQodmFyaWFibGVOYW1lLCBgY29uc3QgJHt2YXJpYWJsZU5hbWV9ID0gJHtleHByZXNzaW9ufWApO1xuICAgICAgICByZXR1cm4gdmFyaWFibGVOYW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDcmVhdGVGdW5jdGlvbihuYW1lLCBzY2hlbWEsIHJlZmVyZW5jZXMsIHZhbHVlLCB1c2VIb2lzdGluZyA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgW25ld2xpbmUsIHBhZF0gPSBbJ1xcbicsIChsZW5ndGgpID0+ICcnLnBhZFN0YXJ0KGxlbmd0aCwgJyAnKV07XG4gICAgICAgIGNvbnN0IHBhcmFtZXRlciA9IENyZWF0ZVBhcmFtZXRlcigndmFsdWUnLCAnYW55Jyk7XG4gICAgICAgIGNvbnN0IHJldHVybnMgPSBDcmVhdGVSZXR1cm5zKCdib29sZWFuJyk7XG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSBbLi4uVmlzaXQoc2NoZW1hLCByZWZlcmVuY2VzLCB2YWx1ZSwgdXNlSG9pc3RpbmcpXS5tYXAoKGV4cHJlc3Npb24pID0+IGAke3BhZCg0KX0ke2V4cHJlc3Npb259YCkuam9pbihgICYmJHtuZXdsaW5lfWApO1xuICAgICAgICByZXR1cm4gYGZ1bmN0aW9uICR7bmFtZX0oJHtwYXJhbWV0ZXJ9KSR7cmV0dXJuc30geyR7bmV3bGluZX0ke3BhZCgyKX1yZXR1cm4gKCR7bmV3bGluZX0ke2V4cHJlc3Npb259JHtuZXdsaW5lfSR7cGFkKDIpfSlcXG59YDtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ3JlYXRlUGFyYW1ldGVyKG5hbWUsIHR5cGUpIHtcbiAgICAgICAgY29uc3QgYW5ub3RhdGlvbiA9IHN0YXRlLmxhbmd1YWdlID09PSAndHlwZXNjcmlwdCcgPyBgOiAke3R5cGV9YCA6ICcnO1xuICAgICAgICByZXR1cm4gYCR7bmFtZX0ke2Fubm90YXRpb259YDtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ3JlYXRlUmV0dXJucyh0eXBlKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5sYW5ndWFnZSA9PT0gJ3R5cGVzY3JpcHQnID8gYDogJHt0eXBlfWAgOiAnJztcbiAgICB9XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIENvbXBpbGVcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgZnVuY3Rpb24gQnVpbGQoc2NoZW1hLCByZWZlcmVuY2VzLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uQ29kZSA9IENyZWF0ZUZ1bmN0aW9uKCdjaGVjaycsIHNjaGVtYSwgcmVmZXJlbmNlcywgJ3ZhbHVlJyk7IC8vIHdpbGwgcG9wdWxhdGUgZnVuY3Rpb25zIGFuZCB2YXJpYWJsZXNcbiAgICAgICAgY29uc3QgcGFyYW1ldGVyID0gQ3JlYXRlUGFyYW1ldGVyKCd2YWx1ZScsICdhbnknKTtcbiAgICAgICAgY29uc3QgcmV0dXJucyA9IENyZWF0ZVJldHVybnMoJ2Jvb2xlYW4nKTtcbiAgICAgICAgY29uc3QgZnVuY3Rpb25zID0gWy4uLnN0YXRlLmZ1bmN0aW9ucy52YWx1ZXMoKV07XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IFsuLi5zdGF0ZS52YXJpYWJsZXMudmFsdWVzKCldO1xuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgY29uc3QgY2hlY2tGdW5jdGlvbiA9IElzU3RyaW5nKHNjaGVtYS4kaWQpIC8vIGVuc3VyZSB0b3AgbGV2ZWwgc2NoZW1hcyB3aXRoICRpZCdzIGFyZSBob2lzdGVkXG4gICAgICAgICAgICA/IGByZXR1cm4gZnVuY3Rpb24gY2hlY2soJHtwYXJhbWV0ZXJ9KSR7cmV0dXJuc30ge1xcbiAgcmV0dXJuICR7Q3JlYXRlRnVuY3Rpb25OYW1lKHNjaGVtYS4kaWQpfSh2YWx1ZSlcXG59YFxuICAgICAgICAgICAgOiBgcmV0dXJuICR7ZnVuY3Rpb25Db2RlfWA7XG4gICAgICAgIHJldHVybiBbLi4udmFyaWFibGVzLCAuLi5mdW5jdGlvbnMsIGNoZWNrRnVuY3Rpb25dLmpvaW4oJ1xcbicpO1xuICAgIH1cbiAgICAvKiogR2VuZXJhdGVzIHRoZSBjb2RlIHVzZWQgdG8gYXNzZXJ0IHRoaXMgdHlwZSBhbmQgcmV0dXJucyBpdCBhcyBhIHN0cmluZyAqL1xuICAgIGZ1bmN0aW9uIENvZGUoLi4uYXJncykge1xuICAgICAgICBjb25zdCBkZWZhdWx0cyA9IHsgbGFuZ3VhZ2U6ICdqYXZhc2NyaXB0JyB9O1xuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgY29uc3QgW3NjaGVtYSwgcmVmZXJlbmNlcywgb3B0aW9uc10gPSAoYXJncy5sZW5ndGggPT09IDIgJiYgSXNBcnJheShhcmdzWzFdKSA/IFthcmdzWzBdLCBhcmdzWzFdLCBkZWZhdWx0c10gOlxuICAgICAgICAgICAgYXJncy5sZW5ndGggPT09IDIgJiYgIUlzQXJyYXkoYXJnc1sxXSkgPyBbYXJnc1swXSwgW10sIGFyZ3NbMV1dIDpcbiAgICAgICAgICAgICAgICBhcmdzLmxlbmd0aCA9PT0gMyA/IFthcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdXSA6XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MubGVuZ3RoID09PSAxID8gW2FyZ3NbMF0sIFtdLCBkZWZhdWx0c10gOlxuICAgICAgICAgICAgICAgICAgICAgICAgW251bGwsIFtdLCBkZWZhdWx0c10pO1xuICAgICAgICAvLyBjb21waWxlci1yZXNldFxuICAgICAgICBzdGF0ZS5sYW5ndWFnZSA9IG9wdGlvbnMubGFuZ3VhZ2U7XG4gICAgICAgIHN0YXRlLnZhcmlhYmxlcy5jbGVhcigpO1xuICAgICAgICBzdGF0ZS5mdW5jdGlvbnMuY2xlYXIoKTtcbiAgICAgICAgc3RhdGUuaW5zdGFuY2VzLmNsZWFyKCk7XG4gICAgICAgIGlmICghSXNTY2hlbWEoc2NoZW1hKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlQ29tcGlsZXJUeXBlR3VhcmRFcnJvcihzY2hlbWEpO1xuICAgICAgICBmb3IgKGNvbnN0IHNjaGVtYSBvZiByZWZlcmVuY2VzKVxuICAgICAgICAgICAgaWYgKCFJc1NjaGVtYShzY2hlbWEpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlQ29tcGlsZXJUeXBlR3VhcmRFcnJvcihzY2hlbWEpO1xuICAgICAgICByZXR1cm4gQnVpbGQoc2NoZW1hLCByZWZlcmVuY2VzLCBvcHRpb25zKTtcbiAgICB9XG4gICAgVHlwZUNvbXBpbGVyLkNvZGUgPSBDb2RlO1xuICAgIC8qKiBDb21waWxlcyBhIFR5cGVCb3ggdHlwZSBmb3Igb3B0aW1hbCBydW50aW1lIHR5cGUgY2hlY2tpbmcuIFR5cGVzIG11c3QgYmUgdmFsaWQgVHlwZUJveCB0eXBlcyBvZiBUU2NoZW1hICovXG4gICAgZnVuY3Rpb24gQ29tcGlsZShzY2hlbWEsIHJlZmVyZW5jZXMgPSBbXSkge1xuICAgICAgICBjb25zdCBnZW5lcmF0ZWRDb2RlID0gQ29kZShzY2hlbWEsIHJlZmVyZW5jZXMsIHsgbGFuZ3VhZ2U6ICdqYXZhc2NyaXB0JyB9KTtcbiAgICAgICAgY29uc3QgY29tcGlsZWRGdW5jdGlvbiA9IGdsb2JhbFRoaXMuRnVuY3Rpb24oJ2tpbmQnLCAnZm9ybWF0JywgJ2hhc2gnLCBnZW5lcmF0ZWRDb2RlKTtcbiAgICAgICAgY29uc3QgaW5zdGFuY2VzID0gbmV3IE1hcChzdGF0ZS5pbnN0YW5jZXMpO1xuICAgICAgICBmdW5jdGlvbiB0eXBlUmVnaXN0cnlGdW5jdGlvbihraW5kLCBpbnN0YW5jZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghVHlwZVJlZ2lzdHJ5LkhhcyhraW5kKSB8fCAhaW5zdGFuY2VzLmhhcyhpbnN0YW5jZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgY2hlY2tGdW5jID0gVHlwZVJlZ2lzdHJ5LkdldChraW5kKTtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IGluc3RhbmNlcy5nZXQoaW5zdGFuY2UpO1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrRnVuYyhzY2hlbWEsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBmb3JtYXRSZWdpc3RyeUZ1bmN0aW9uKGZvcm1hdCwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghRm9ybWF0UmVnaXN0cnkuSGFzKGZvcm1hdCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgY2hlY2tGdW5jID0gRm9ybWF0UmVnaXN0cnkuR2V0KGZvcm1hdCk7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tGdW5jKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYXNoRnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBIYXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGVja0Z1bmN0aW9uID0gY29tcGlsZWRGdW5jdGlvbih0eXBlUmVnaXN0cnlGdW5jdGlvbiwgZm9ybWF0UmVnaXN0cnlGdW5jdGlvbiwgaGFzaEZ1bmN0aW9uKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUeXBlQ2hlY2soc2NoZW1hLCByZWZlcmVuY2VzLCBjaGVja0Z1bmN0aW9uLCBnZW5lcmF0ZWRDb2RlKTtcbiAgICB9XG4gICAgVHlwZUNvbXBpbGVyLkNvbXBpbGUgPSBDb21waWxlO1xufSkoVHlwZUNvbXBpbGVyIHx8IChUeXBlQ29tcGlsZXIgPSB7fSkpO1xuIiwKICAgICJjb25zdCBpc0J1biA9IHR5cGVvZiBCdW4gPCBcInVcIiwgaXNEZW5vID0gdHlwZW9mIERlbm8gPCBcInVcIjtcbmV4cG9ydCB7XG4gIGlzQnVuLFxuICBpc0Rlbm9cbn07XG4iLAogICAgImltcG9ydCB7IGlzQnVuIH0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5jb25zdCBtaW1lID0ge1xuICBhYWM6IFwiYXVkaW8vYWFjXCIsXG4gIGFidzogXCJhcHBsaWNhdGlvbi94LWFiaXdvcmRcIixcbiAgYWk6IFwiYXBwbGljYXRpb24vcG9zdHNjcmlwdFwiLFxuICBhcmM6IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIsXG4gIGF2aTogXCJ2aWRlby94LW1zdmlkZW9cIixcbiAgYXp3OiBcImFwcGxpY2F0aW9uL3ZuZC5hbWF6b24uZWJvb2tcIixcbiAgYmluOiBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiLFxuICBiejogXCJhcHBsaWNhdGlvbi94LWJ6aXBcIixcbiAgYnoyOiBcImFwcGxpY2F0aW9uL3gtYnppcDJcIixcbiAgY3NoOiBcImFwcGxpY2F0aW9uL3gtY3NoXCIsXG4gIGNzczogXCJ0ZXh0L2Nzc1wiLFxuICBjc3Y6IFwidGV4dC9jc3ZcIixcbiAgZG9jOiBcImFwcGxpY2F0aW9uL21zd29yZFwiLFxuICBkbGw6IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIsXG4gIGVvdDogXCJhcHBsaWNhdGlvbi92bmQubXMtZm9udG9iamVjdFwiLFxuICBlcHViOiBcImFwcGxpY2F0aW9uL2VwdWIremlwXCIsXG4gIGdpZjogXCJpbWFnZS9naWZcIixcbiAgaHRtOiBcInRleHQvaHRtbFwiLFxuICBodG1sOiBcInRleHQvaHRtbFwiLFxuICBpY286IFwiaW1hZ2UveC1pY29uXCIsXG4gIGljczogXCJ0ZXh0L2NhbGVuZGFyXCIsXG4gIGphcjogXCJhcHBsaWNhdGlvbi9qYXZhLWFyY2hpdmVcIixcbiAganBlZzogXCJpbWFnZS9qcGVnXCIsXG4gIGpwZzogXCJpbWFnZS9qcGVnXCIsXG4gIGpzOiBcImFwcGxpY2F0aW9uL2phdmFzY3JpcHRcIixcbiAganNvbjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIG1pZDogXCJhdWRpby9taWRpXCIsXG4gIG1pZGk6IFwiYXVkaW8vbWlkaVwiLFxuICBtcDI6IFwiYXVkaW8vbXBlZ1wiLFxuICBtcDM6IFwiYXVkaW8vbXBlZ1wiLFxuICBtcDQ6IFwidmlkZW8vbXA0XCIsXG4gIG1wYTogXCJ2aWRlby9tcGVnXCIsXG4gIG1wZTogXCJ2aWRlby9tcGVnXCIsXG4gIG1wZWc6IFwidmlkZW8vbXBlZ1wiLFxuICBtcGtnOiBcImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5pbnN0YWxsZXIreG1sXCIsXG4gIG9kcDogXCJhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnByZXNlbnRhdGlvblwiLFxuICBvZHM6IFwiYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5zcHJlYWRzaGVldFwiLFxuICBvZHQ6IFwiYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC50ZXh0XCIsXG4gIG9nYTogXCJhdWRpby9vZ2dcIixcbiAgb2d2OiBcInZpZGVvL29nZ1wiLFxuICBvZ3g6IFwiYXBwbGljYXRpb24vb2dnXCIsXG4gIG90ZjogXCJmb250L290ZlwiLFxuICBwbmc6IFwiaW1hZ2UvcG5nXCIsXG4gIHBkZjogXCJhcHBsaWNhdGlvbi9wZGZcIixcbiAgcHB0OiBcImFwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50XCIsXG4gIHJhcjogXCJhcHBsaWNhdGlvbi94LXJhci1jb21wcmVzc2VkXCIsXG4gIHJ0ZjogXCJhcHBsaWNhdGlvbi9ydGZcIixcbiAgc2g6IFwiYXBwbGljYXRpb24veC1zaFwiLFxuICBzdmc6IFwiaW1hZ2Uvc3ZnK3htbFwiLFxuICBzd2Y6IFwiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2hcIixcbiAgdGFyOiBcImFwcGxpY2F0aW9uL3gtdGFyXCIsXG4gIHRpZjogXCJpbWFnZS90aWZmXCIsXG4gIHRpZmY6IFwiaW1hZ2UvdGlmZlwiLFxuICB0czogXCJhcHBsaWNhdGlvbi90eXBlc2NyaXB0XCIsXG4gIHR0ZjogXCJmb250L3R0ZlwiLFxuICB0eHQ6IFwidGV4dC9wbGFpblwiLFxuICB2c2Q6IFwiYXBwbGljYXRpb24vdm5kLnZpc2lvXCIsXG4gIHdhdjogXCJhdWRpby94LXdhdlwiLFxuICB3ZWJhOiBcImF1ZGlvL3dlYm1cIixcbiAgd2VibTogXCJ2aWRlby93ZWJtXCIsXG4gIHdlYnA6IFwiaW1hZ2Uvd2VicFwiLFxuICB3b2ZmOiBcImZvbnQvd29mZlwiLFxuICB3b2ZmMjogXCJmb250L3dvZmYyXCIsXG4gIHhodG1sOiBcImFwcGxpY2F0aW9uL3hodG1sK3htbFwiLFxuICB4bHM6IFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsXCIsXG4gIHhsc3g6IFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsXCIsXG4gIHhsc3hfT0xEOiBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0XCIsXG4gIHhtbDogXCJhcHBsaWNhdGlvbi94bWxcIixcbiAgeHVsOiBcImFwcGxpY2F0aW9uL3ZuZC5tb3ppbGxhLnh1bCt4bWxcIixcbiAgemlwOiBcImFwcGxpY2F0aW9uL3ppcFwiLFxuICBcIjNncFwiOiBcInZpZGVvLzNncHBcIixcbiAgXCIzZ3BfRE9FU19OT1RfQ09OVEFJTl9WSURFT1wiOiBcImF1ZGlvLzNncHBcIixcbiAgXCIzZ3AyXCI6IFwidmlkZW8vM2dwcDJcIixcbiAgXCIzZ3AyX0RPRVNfTk9UX0NPTlRBSU5fVklERU9cIjogXCJhdWRpby8zZ3BwMlwiLFxuICBcIjd6XCI6IFwiYXBwbGljYXRpb24veC03ei1jb21wcmVzc2VkXCJcbn0sIGdldEZpbGVFeHRlbnNpb24gPSAocGF0aCkgPT4ge1xuICBjb25zdCBpbmRleCA9IHBhdGgubGFzdEluZGV4T2YoXCIuXCIpO1xuICByZXR1cm4gaW5kZXggPT09IC0xID8gXCJcIiA6IHBhdGguc2xpY2UoaW5kZXggKyAxKTtcbn0sIGZpbGUgPSAocGF0aCkgPT4gbmV3IEVseXNpYUZpbGUocGF0aCk7XG5sZXQgY3JlYXRlUmVhZFN0cmVhbSwgc3RhdDtcbmNsYXNzIEVseXNpYUZpbGUge1xuICBjb25zdHJ1Y3RvcihwYXRoKSB7XG4gICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICBpZiAoaXNCdW4pIHRoaXMudmFsdWUgPSBCdW4uZmlsZShwYXRoKTtcbiAgICBlbHNlIHtcbiAgICAgIGlmICghY3JlYXRlUmVhZFN0cmVhbSB8fCAhc3RhdCkge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA8IFwidVwiKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiQnJvd3NlciBlbnZpcm9ubWVudCBkb2VzIG5vdCBzdXBwb3J0IGZpbGVcIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdhcm5NaXNzaW5nID0gKG5hbWUpID0+IGNvbnNvbGUud2FybihcbiAgICAgICAgICBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgW2VseXNpYV0gXFxgZmlsZVxcYCByZXF1aXJlIFxcYGZzJHtuYW1lID8gXCIuXCIgKyBuYW1lIDogXCJcIn1cXGAgJHtuYW1lPy5pbmNsdWRlcyhcIi5cIikgPyBcIm1vZHVsZSBcIiA6IFwiXCJ9d2hpY2ggaXMgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50YFxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzID4gXCJ1XCIgfHwgdHlwZW9mIHByb2Nlc3MuZ2V0QnVpbHRpbk1vZHVsZSAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICB3YXJuTWlzc2luZygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmcyA9IHByb2Nlc3MuZ2V0QnVpbHRpbk1vZHVsZShcImZzXCIpO1xuICAgICAgICBpZiAoIWZzKSB7XG4gICAgICAgICAgd2Fybk1pc3NpbmcoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBmcy5jcmVhdGVSZWFkU3RyZWFtICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHdhcm5NaXNzaW5nKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZnMucHJvbWlzZXM/LnN0YXQgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgd2Fybk1pc3NpbmcoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlUmVhZFN0cmVhbSA9IGZzLmNyZWF0ZVJlYWRTdHJlYW0sIHN0YXQgPSBmcy5wcm9taXNlcy5zdGF0O1xuICAgICAgfVxuICAgICAgdGhpcy52YWx1ZSA9IGNyZWF0ZVJlYWRTdHJlYW0ocGF0aCksIHRoaXMuc3RhdHMgPSBzdGF0KHBhdGgpO1xuICAgIH1cbiAgfVxuICBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgbWltZVtnZXRGaWxlRXh0ZW5zaW9uKHRoaXMucGF0aCldIHx8IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJcbiAgICApO1xuICB9XG4gIGdldCBsZW5ndGgoKSB7XG4gICAgcmV0dXJuIGlzQnVuID8gdGhpcy52YWx1ZS5zaXplIDogdGhpcy5zdGF0cz8udGhlbigoeCkgPT4geC5zaXplKSA/PyAwO1xuICB9XG59XG5leHBvcnQge1xuICBFbHlzaWFGaWxlLFxuICBmaWxlLFxuICBnZXRGaWxlRXh0ZW5zaW9uLFxuICBtaW1lXG59O1xuIiwKICAgICJpbXBvcnQgeyBFbHlzaWFGaWxlIH0gZnJvbSBcIi4vdW5pdmVyc2FsL2ZpbGUubWpzXCI7XG5jb25zdCBoYXNIZWFkZXJTaG9ydGhhbmQgPSBcInRvSlNPTlwiIGluIG5ldyBIZWFkZXJzKCksIHJlcGxhY2VVcmxQYXRoID0gKHVybCwgcGF0aG5hbWUpID0+IHtcbiAgY29uc3QgdXJsT2JqZWN0ID0gbmV3IFVSTCh1cmwpO1xuICByZXR1cm4gdXJsT2JqZWN0LnBhdGhuYW1lID0gcGF0aG5hbWUsIHVybE9iamVjdC50b1N0cmluZygpO1xufSwgaXNDbGFzcyA9ICh2KSA9PiB0eXBlb2YgdiA9PSBcImZ1bmN0aW9uXCIgJiYgL15cXHMqY2xhc3NcXHMrLy50ZXN0KHYudG9TdHJpbmcoKSkgfHwgLy8gSGFuZGxlIE9iamVjdC5jcmVhdGUobnVsbClcbnYudG9TdHJpbmcgJiYgLy8gSGFuZGxlIGltcG9ydCAqIGFzIFNlbnRyeSBmcm9tICdAc2VudHJ5L2J1bidcbi8vIFRoaXMgYWxzbyBoYW5kbGUgW29iamVjdCBEYXRlXSwgW29iamVjdCBBcnJheV1cbi8vIGFuZCBGRkkgdmFsdWUgbGlrZSBbb2JqZWN0IFByaXNtYV1cbnYudG9TdHJpbmcoKS5zdGFydHNXaXRoKFwiW29iamVjdCBcIikgJiYgdi50b1N0cmluZygpICE9PSBcIltvYmplY3QgT2JqZWN0XVwiIHx8IC8vIElmIG9iamVjdCBwcm90b3R5cGUgaXMgbm90IHB1cmUsIHRoZW4gcHJvYmFibHkgYSBjbGFzcy1saWtlIG9iamVjdFxuaXNOb3RFbXB0eShPYmplY3QuZ2V0UHJvdG90eXBlT2YodikpLCBpc09iamVjdCA9IChpdGVtKSA9PiBpdGVtICYmIHR5cGVvZiBpdGVtID09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkoaXRlbSksIG1lcmdlRGVlcCA9ICh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBza2lwS2V5cyA9IG9wdGlvbnM/LnNraXBLZXlzLCBvdmVycmlkZSA9IG9wdGlvbnM/Lm92ZXJyaWRlID8/ICEwLCBtZXJnZUFycmF5ID0gb3B0aW9ucz8ubWVyZ2VBcnJheSA/PyAhMTtcbiAgaWYgKCFpc09iamVjdCh0YXJnZXQpIHx8ICFpc09iamVjdChzb3VyY2UpKSByZXR1cm4gdGFyZ2V0O1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzb3VyY2UpKVxuICAgIGlmICghc2tpcEtleXM/LmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIGlmIChtZXJnZUFycmF5ICYmIEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gQXJyYXkuaXNBcnJheShcbiAgICAgICAgICB0YXJnZXRba2V5XVxuICAgICAgICApID8gWy4uLnRhcmdldFtrZXldLCAuLi52YWx1ZV0gOiB0YXJnZXRba2V5XSA9IHZhbHVlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8ICEoa2V5IGluIHRhcmdldCkgfHwgaXNDbGFzcyh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKChvdmVycmlkZSB8fCAhKGtleSBpbiB0YXJnZXQpKSAmJiAhT2JqZWN0LmlzRnJvemVuKHRhcmdldCkpXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICghT2JqZWN0LmlzRnJvemVuKHRhcmdldFtrZXldKSlcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IG1lcmdlRGVlcChcbiAgICAgICAgICAgIHRhcmdldFtrZXldLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICB7IHNraXBLZXlzLCBvdmVycmlkZSwgbWVyZ2VBcnJheSB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgIH1cbiAgICB9XG4gIHJldHVybiB0YXJnZXQ7XG59LCBtZXJnZUNvb2tpZSA9IChhLCBiKSA9PiB7XG4gIGNvbnN0IHYgPSBtZXJnZURlZXAoT2JqZWN0LmFzc2lnbih7fSwgYSksIGIsIHtcbiAgICBza2lwS2V5czogW1wicHJvcGVydGllc1wiXSxcbiAgICBtZXJnZUFycmF5OiAhMVxuICB9KTtcbiAgcmV0dXJuIHYucHJvcGVydGllcyAmJiBkZWxldGUgdi5wcm9wZXJ0aWVzLCB2O1xufSwgbWVyZ2VPYmplY3RBcnJheSA9IChhLCBiKSA9PiB7XG4gIGlmICghYikgcmV0dXJuIGE7XG4gIGNvbnN0IGFycmF5ID0gW10sIGNoZWNrc3VtcyA9IFtdO1xuICBpZiAoYSkge1xuICAgIEFycmF5LmlzQXJyYXkoYSkgfHwgKGEgPSBbYV0pO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBhKVxuICAgICAgYXJyYXkucHVzaChpdGVtKSwgaXRlbS5jaGVja3N1bSAmJiBjaGVja3N1bXMucHVzaChpdGVtLmNoZWNrc3VtKTtcbiAgfVxuICBpZiAoYikge1xuICAgIEFycmF5LmlzQXJyYXkoYikgfHwgKGIgPSBbYl0pO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBiKVxuICAgICAgY2hlY2tzdW1zLmluY2x1ZGVzKGl0ZW0uY2hlY2tzdW0pIHx8IGFycmF5LnB1c2goaXRlbSk7XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufSwgcHJpbWl0aXZlSG9va3MgPSBbXG4gIFwic3RhcnRcIixcbiAgXCJyZXF1ZXN0XCIsXG4gIFwicGFyc2VcIixcbiAgXCJ0cmFuc2Zvcm1cIixcbiAgXCJyZXNvbHZlXCIsXG4gIFwiYmVmb3JlSGFuZGxlXCIsXG4gIFwiYWZ0ZXJIYW5kbGVcIixcbiAgXCJtYXBSZXNwb25zZVwiLFxuICBcImFmdGVyUmVzcG9uc2VcIixcbiAgXCJ0cmFjZVwiLFxuICBcImVycm9yXCIsXG4gIFwic3RvcFwiLFxuICBcImJvZHlcIixcbiAgXCJoZWFkZXJzXCIsXG4gIFwicGFyYW1zXCIsXG4gIFwicXVlcnlcIixcbiAgXCJyZXNwb25zZVwiLFxuICBcInR5cGVcIixcbiAgXCJkZXRhaWxcIlxuXSwgcHJpbWl0aXZlSG9va01hcCA9IHByaW1pdGl2ZUhvb2tzLnJlZHVjZShcbiAgKGFjYywgeCkgPT4gKGFjY1t4XSA9ICEwLCBhY2MpLFxuICB7fVxuKSwgaXNSZWNvcmROdW1iZXIgPSAoeCkgPT4gdHlwZW9mIHggPT0gXCJvYmplY3RcIiAmJiBPYmplY3Qua2V5cyh4KS5ldmVyeSgoeDIpID0+ICFpc05hTigreDIpKSwgbWVyZ2VSZXNwb25zZSA9IChhLCBiKSA9PiBpc1JlY29yZE51bWJlcihhKSAmJiBpc1JlY29yZE51bWJlcihiKSA/IE9iamVjdC5hc3NpZ24oe30sIGEsIGIpIDogYSAmJiAhaXNSZWNvcmROdW1iZXIoYSkgJiYgaXNSZWNvcmROdW1iZXIoYikgPyBPYmplY3QuYXNzaWduKHsgMjAwOiBhIH0sIGIpIDogYiA/PyBhLCBtZXJnZVNjaGVtYVZhbGlkYXRvciA9IChhLCBiKSA9PiAhYSAmJiAhYiA/IHtcbiAgYm9keTogdm9pZCAwLFxuICBoZWFkZXJzOiB2b2lkIDAsXG4gIHBhcmFtczogdm9pZCAwLFxuICBxdWVyeTogdm9pZCAwLFxuICBjb29raWU6IHZvaWQgMCxcbiAgcmVzcG9uc2U6IHZvaWQgMFxufSA6IHtcbiAgYm9keTogYj8uYm9keSA/PyBhPy5ib2R5LFxuICBoZWFkZXJzOiBiPy5oZWFkZXJzID8/IGE/LmhlYWRlcnMsXG4gIHBhcmFtczogYj8ucGFyYW1zID8/IGE/LnBhcmFtcyxcbiAgcXVlcnk6IGI/LnF1ZXJ5ID8/IGE/LnF1ZXJ5LFxuICBjb29raWU6IGI/LmNvb2tpZSA/PyBhPy5jb29raWUsXG4gIC8vIEB0cy1pZ25vcmUgPyBUaGlzIG9yZGVyIGlzIGNvcnJlY3QgLSBTYWx0eUFvbVxuICByZXNwb25zZTogbWVyZ2VSZXNwb25zZShcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgYT8ucmVzcG9uc2UsXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGI/LnJlc3BvbnNlXG4gIClcbn0sIG1lcmdlSG9vayA9IChhLCBiKSA9PiB7XG4gIGlmICghYikgcmV0dXJuIGEgPz8ge307XG4gIGlmICghYSkgcmV0dXJuIGIgPz8ge307XG4gIGlmICghT2JqZWN0LnZhbHVlcyhiKS5maW5kKCh4KSA9PiB4ICE9IG51bGwpKVxuICAgIHJldHVybiB7IC4uLmEgfTtcbiAgY29uc3QgaG9vayA9IHtcbiAgICAuLi5hLFxuICAgIC4uLmIsXG4gICAgLy8gTWVyZ2UgbG9jYWwgaG9vayBmaXJzdFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBib2R5OiBiLmJvZHkgPz8gYS5ib2R5LFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBoZWFkZXJzOiBiLmhlYWRlcnMgPz8gYS5oZWFkZXJzLFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwYXJhbXM6IGIucGFyYW1zID8/IGEucGFyYW1zLFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBxdWVyeTogYi5xdWVyeSA/PyBhLnF1ZXJ5LFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb29raWU6IGIuY29va2llID8/IGEuY29va2llLFxuICAgIC8vID8gVGhpcyBvcmRlciBpcyBjb3JyZWN0IC0gU2FsdHlBb21cbiAgICByZXNwb25zZTogbWVyZ2VSZXNwb25zZShcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGEucmVzcG9uc2UsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBiLnJlc3BvbnNlXG4gICAgKSxcbiAgICB0eXBlOiBhLnR5cGUgfHwgYi50eXBlLFxuICAgIGRldGFpbDogbWVyZ2VEZWVwKFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgYi5kZXRhaWwgPz8ge30sXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBhLmRldGFpbCA/PyB7fVxuICAgICksXG4gICAgcGFyc2U6IG1lcmdlT2JqZWN0QXJyYXkoYS5wYXJzZSwgYi5wYXJzZSksXG4gICAgdHJhbnNmb3JtOiBtZXJnZU9iamVjdEFycmF5KGEudHJhbnNmb3JtLCBiLnRyYW5zZm9ybSksXG4gICAgYmVmb3JlSGFuZGxlOiBtZXJnZU9iamVjdEFycmF5KFxuICAgICAgbWVyZ2VPYmplY3RBcnJheShcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBmblRvQ29udGFpbmVyKGEucmVzb2x2ZSwgXCJyZXNvbHZlXCIpLFxuICAgICAgICBhLmJlZm9yZUhhbmRsZVxuICAgICAgKSxcbiAgICAgIG1lcmdlT2JqZWN0QXJyYXkoXG4gICAgICAgIGZuVG9Db250YWluZXIoYi5yZXNvbHZlLCBcInJlc29sdmVcIiksXG4gICAgICAgIGIuYmVmb3JlSGFuZGxlXG4gICAgICApXG4gICAgKSxcbiAgICBhZnRlckhhbmRsZTogbWVyZ2VPYmplY3RBcnJheShhLmFmdGVySGFuZGxlLCBiLmFmdGVySGFuZGxlKSxcbiAgICBtYXBSZXNwb25zZTogbWVyZ2VPYmplY3RBcnJheShhLm1hcFJlc3BvbnNlLCBiLm1hcFJlc3BvbnNlKSxcbiAgICBhZnRlclJlc3BvbnNlOiBtZXJnZU9iamVjdEFycmF5KFxuICAgICAgYS5hZnRlclJlc3BvbnNlLFxuICAgICAgYi5hZnRlclJlc3BvbnNlXG4gICAgKSxcbiAgICB0cmFjZTogbWVyZ2VPYmplY3RBcnJheShhLnRyYWNlLCBiLnRyYWNlKSxcbiAgICBlcnJvcjogbWVyZ2VPYmplY3RBcnJheShhLmVycm9yLCBiLmVycm9yKSxcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgc3RhbmRhbG9uZVNjaGVtYTogKFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgYS5zdGFuZGFsb25lU2NoZW1hIHx8IGIuc3RhbmRhbG9uZVNjaGVtYSA/IChcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhLnN0YW5kYWxvbmVTY2hlbWEgJiYgIWIuc3RhbmRhbG9uZVNjaGVtYSA/IChcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgYS5zdGFuZGFsb25lU2NoZW1hXG4gICAgICAgICkgOiAoXG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIGIuc3RhbmRhbG9uZVNjaGVtYSAmJiAhYS5zdGFuZGFsb25lU2NoZW1hID8gYi5zdGFuZGFsb25lU2NoZW1hIDogW1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgLi4uYS5zdGFuZGFsb25lU2NoZW1hID8/IFtdLFxuICAgICAgICAgICAgLi4uYi5zdGFuZGFsb25lU2NoZW1hID8/IFtdXG4gICAgICAgICAgXVxuICAgICAgICApXG4gICAgICApIDogdm9pZCAwXG4gICAgKVxuICB9O1xuICByZXR1cm4gaG9vay5yZXNvbHZlICYmIGRlbGV0ZSBob29rLnJlc29sdmUsIGhvb2s7XG59LCBsaWZlQ3ljbGVUb0FycmF5ID0gKGEpID0+IHtcbiAgYS5wYXJzZSAmJiAhQXJyYXkuaXNBcnJheShhLnBhcnNlKSAmJiAoYS5wYXJzZSA9IFthLnBhcnNlXSksIGEudHJhbnNmb3JtICYmICFBcnJheS5pc0FycmF5KGEudHJhbnNmb3JtKSAmJiAoYS50cmFuc2Zvcm0gPSBbYS50cmFuc2Zvcm1dKSwgYS5hZnRlckhhbmRsZSAmJiAhQXJyYXkuaXNBcnJheShhLmFmdGVySGFuZGxlKSAmJiAoYS5hZnRlckhhbmRsZSA9IFthLmFmdGVySGFuZGxlXSksIGEubWFwUmVzcG9uc2UgJiYgIUFycmF5LmlzQXJyYXkoYS5tYXBSZXNwb25zZSkgJiYgKGEubWFwUmVzcG9uc2UgPSBbYS5tYXBSZXNwb25zZV0pLCBhLmFmdGVyUmVzcG9uc2UgJiYgIUFycmF5LmlzQXJyYXkoYS5hZnRlclJlc3BvbnNlKSAmJiAoYS5hZnRlclJlc3BvbnNlID0gW2EuYWZ0ZXJSZXNwb25zZV0pLCBhLnRyYWNlICYmICFBcnJheS5pc0FycmF5KGEudHJhY2UpICYmIChhLnRyYWNlID0gW2EudHJhY2VdKSwgYS5lcnJvciAmJiAhQXJyYXkuaXNBcnJheShhLmVycm9yKSAmJiAoYS5lcnJvciA9IFthLmVycm9yXSk7XG4gIGxldCBiZWZvcmVIYW5kbGUgPSBbXTtcbiAgcmV0dXJuIGEucmVzb2x2ZSAmJiAoYmVmb3JlSGFuZGxlID0gZm5Ub0NvbnRhaW5lcihcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgQXJyYXkuaXNBcnJheShhLnJlc29sdmUpID8gYS5yZXNvbHZlIDogW2EucmVzb2x2ZV0sXG4gICAgXCJyZXNvbHZlXCJcbiAgKSwgZGVsZXRlIGEucmVzb2x2ZSksIGEuYmVmb3JlSGFuZGxlICYmIChiZWZvcmVIYW5kbGUubGVuZ3RoID8gYmVmb3JlSGFuZGxlID0gYmVmb3JlSGFuZGxlLmNvbmNhdChcbiAgICBBcnJheS5pc0FycmF5KGEuYmVmb3JlSGFuZGxlKSA/IGEuYmVmb3JlSGFuZGxlIDogW2EuYmVmb3JlSGFuZGxlXVxuICApIDogYmVmb3JlSGFuZGxlID0gQXJyYXkuaXNBcnJheShhLmJlZm9yZUhhbmRsZSkgPyBhLmJlZm9yZUhhbmRsZSA6IFthLmJlZm9yZUhhbmRsZV0pLCBiZWZvcmVIYW5kbGUubGVuZ3RoICYmIChhLmJlZm9yZUhhbmRsZSA9IGJlZm9yZUhhbmRsZSksIGE7XG59LCBpc0J1biA9IHR5cGVvZiBCdW4gPCBcInVcIiwgaGFzQnVuSGFzaCA9IGlzQnVuICYmIHR5cGVvZiBCdW4uaGFzaCA9PSBcImZ1bmN0aW9uXCIsIGNoZWNrc3VtID0gKHMpID0+IHtcbiAgbGV0IGggPSA5O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHMubGVuZ3RoOyApIGggPSBNYXRoLmltdWwoaCBeIHMuY2hhckNvZGVBdChpKyspLCA5ICoqIDkpO1xuICByZXR1cm4gaCA9IGggXiBoID4+PiA5O1xufSwgaW5qZWN0Q2hlY2tzdW0gPSAoY2hlY2tzdW0yLCB4KSA9PiB7XG4gIGlmICgheCkgcmV0dXJuO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICBjb25zdCBmbiA9IHg7XG4gICAgcmV0dXJuIGNoZWNrc3VtMiAmJiAhZm4uY2hlY2tzdW0gJiYgKGZuLmNoZWNrc3VtID0gY2hlY2tzdW0yKSwgZm4uc2NvcGUgPT09IFwic2NvcGVkXCIgJiYgKGZuLnNjb3BlID0gXCJsb2NhbFwiKSwgZm47XG4gIH1cbiAgY29uc3QgZm5zID0gWy4uLnhdO1xuICBmb3IgKGNvbnN0IGZuIG9mIGZucylcbiAgICBjaGVja3N1bTIgJiYgIWZuLmNoZWNrc3VtICYmIChmbi5jaGVja3N1bSA9IGNoZWNrc3VtMiksIGZuLnNjb3BlID09PSBcInNjb3BlZFwiICYmIChmbi5zY29wZSA9IFwibG9jYWxcIik7XG4gIHJldHVybiBmbnM7XG59LCBtZXJnZUxpZmVDeWNsZSA9IChhLCBiLCBjaGVja3N1bTIpID0+ICh7XG4gIHN0YXJ0OiBtZXJnZU9iamVjdEFycmF5KFxuICAgIGEuc3RhcnQsXG4gICAgaW5qZWN0Q2hlY2tzdW0oY2hlY2tzdW0yLCBiPy5zdGFydClcbiAgKSxcbiAgcmVxdWVzdDogbWVyZ2VPYmplY3RBcnJheShcbiAgICBhLnJlcXVlc3QsXG4gICAgaW5qZWN0Q2hlY2tzdW0oY2hlY2tzdW0yLCBiPy5yZXF1ZXN0KVxuICApLFxuICBwYXJzZTogbWVyZ2VPYmplY3RBcnJheShcbiAgICBhLnBhcnNlLFxuICAgIGluamVjdENoZWNrc3VtKGNoZWNrc3VtMiwgYj8ucGFyc2UpXG4gICksXG4gIHRyYW5zZm9ybTogbWVyZ2VPYmplY3RBcnJheShcbiAgICBhLnRyYW5zZm9ybSxcbiAgICBpbmplY3RDaGVja3N1bShjaGVja3N1bTIsIGI/LnRyYW5zZm9ybSlcbiAgKSxcbiAgYmVmb3JlSGFuZGxlOiBtZXJnZU9iamVjdEFycmF5KFxuICAgIG1lcmdlT2JqZWN0QXJyYXkoXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBmblRvQ29udGFpbmVyKGEucmVzb2x2ZSwgXCJyZXNvbHZlXCIpLFxuICAgICAgYS5iZWZvcmVIYW5kbGVcbiAgICApLFxuICAgIGluamVjdENoZWNrc3VtKFxuICAgICAgY2hlY2tzdW0yLFxuICAgICAgbWVyZ2VPYmplY3RBcnJheShcbiAgICAgICAgZm5Ub0NvbnRhaW5lcihiPy5yZXNvbHZlLCBcInJlc29sdmVcIiksXG4gICAgICAgIGI/LmJlZm9yZUhhbmRsZVxuICAgICAgKVxuICAgIClcbiAgKSxcbiAgYWZ0ZXJIYW5kbGU6IG1lcmdlT2JqZWN0QXJyYXkoXG4gICAgYS5hZnRlckhhbmRsZSxcbiAgICBpbmplY3RDaGVja3N1bShjaGVja3N1bTIsIGI/LmFmdGVySGFuZGxlKVxuICApLFxuICBtYXBSZXNwb25zZTogbWVyZ2VPYmplY3RBcnJheShcbiAgICBhLm1hcFJlc3BvbnNlLFxuICAgIGluamVjdENoZWNrc3VtKGNoZWNrc3VtMiwgYj8ubWFwUmVzcG9uc2UpXG4gICksXG4gIGFmdGVyUmVzcG9uc2U6IG1lcmdlT2JqZWN0QXJyYXkoXG4gICAgYS5hZnRlclJlc3BvbnNlLFxuICAgIGluamVjdENoZWNrc3VtKGNoZWNrc3VtMiwgYj8uYWZ0ZXJSZXNwb25zZSlcbiAgKSxcbiAgLy8gQWxyZWFkeSBtZXJnZWQgb24gRWx5c2lhLl91c2UsIGFsc28gbG9naWMgaXMgbW9yZSBjb21wbGljYXRlZCwgY2FuJ3QgZGlyZWN0bHkgbWVyZ2VcbiAgdHJhY2U6IG1lcmdlT2JqZWN0QXJyYXkoXG4gICAgYS50cmFjZSxcbiAgICBpbmplY3RDaGVja3N1bShjaGVja3N1bTIsIGI/LnRyYWNlKVxuICApLFxuICBlcnJvcjogbWVyZ2VPYmplY3RBcnJheShcbiAgICBhLmVycm9yLFxuICAgIGluamVjdENoZWNrc3VtKGNoZWNrc3VtMiwgYj8uZXJyb3IpXG4gICksXG4gIHN0b3A6IG1lcmdlT2JqZWN0QXJyYXkoXG4gICAgYS5zdG9wLFxuICAgIGluamVjdENoZWNrc3VtKGNoZWNrc3VtMiwgYj8uc3RvcClcbiAgKVxufSksIGFzSG9va1R5cGUgPSAoZm4sIGluamVjdCwgeyBza2lwSWZIYXNUeXBlID0gITEgfSkgPT4ge1xuICBpZiAoIWZuKSByZXR1cm4gZm47XG4gIGlmICghQXJyYXkuaXNBcnJheShmbikpXG4gICAgcmV0dXJuIHNraXBJZkhhc1R5cGUgPyBmbi5zY29wZSA/Pz0gaW5qZWN0IDogZm4uc2NvcGUgPSBpbmplY3QsIGZuO1xuICBmb3IgKGNvbnN0IHggb2YgZm4pXG4gICAgc2tpcElmSGFzVHlwZSA/IHguc2NvcGUgPz89IGluamVjdCA6IHguc2NvcGUgPSBpbmplY3Q7XG4gIHJldHVybiBmbjtcbn0sIGZpbHRlckdsb2JhbCA9IChmbikgPT4ge1xuICBpZiAoIWZuKSByZXR1cm4gZm47XG4gIGlmICghQXJyYXkuaXNBcnJheShmbikpXG4gICAgc3dpdGNoIChmbi5zY29wZSkge1xuICAgICAgY2FzZSBcImdsb2JhbFwiOlxuICAgICAgY2FzZSBcInNjb3BlZFwiOlxuICAgICAgICByZXR1cm4geyAuLi5mbiB9O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHsgZm4gfTtcbiAgICB9XG4gIGNvbnN0IGFycmF5ID0gW107XG4gIGZvciAoY29uc3QgeCBvZiBmbilcbiAgICBzd2l0Y2ggKHguc2NvcGUpIHtcbiAgICAgIGNhc2UgXCJnbG9iYWxcIjpcbiAgICAgIGNhc2UgXCJzY29wZWRcIjpcbiAgICAgICAgYXJyYXkucHVzaCh7XG4gICAgICAgICAgLi4ueFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICByZXR1cm4gYXJyYXk7XG59LCBmaWx0ZXJHbG9iYWxIb29rID0gKGhvb2spID0+ICh7XG4gIC8vIHJlc3QgaXMgdmFsaWRhdG9yXG4gIC4uLmhvb2ssXG4gIHR5cGU6IGhvb2s/LnR5cGUsXG4gIGRldGFpbDogaG9vaz8uZGV0YWlsLFxuICBwYXJzZTogZmlsdGVyR2xvYmFsKGhvb2s/LnBhcnNlKSxcbiAgdHJhbnNmb3JtOiBmaWx0ZXJHbG9iYWwoaG9vaz8udHJhbnNmb3JtKSxcbiAgYmVmb3JlSGFuZGxlOiBmaWx0ZXJHbG9iYWwoaG9vaz8uYmVmb3JlSGFuZGxlKSxcbiAgYWZ0ZXJIYW5kbGU6IGZpbHRlckdsb2JhbChob29rPy5hZnRlckhhbmRsZSksXG4gIG1hcFJlc3BvbnNlOiBmaWx0ZXJHbG9iYWwoaG9vaz8ubWFwUmVzcG9uc2UpLFxuICBhZnRlclJlc3BvbnNlOiBmaWx0ZXJHbG9iYWwoaG9vaz8uYWZ0ZXJSZXNwb25zZSksXG4gIGVycm9yOiBmaWx0ZXJHbG9iYWwoaG9vaz8uZXJyb3IpLFxuICB0cmFjZTogZmlsdGVyR2xvYmFsKGhvb2s/LnRyYWNlKVxufSksIFN0YXR1c01hcCA9IHtcbiAgQ29udGludWU6IDEwMCxcbiAgXCJTd2l0Y2hpbmcgUHJvdG9jb2xzXCI6IDEwMSxcbiAgUHJvY2Vzc2luZzogMTAyLFxuICBcIkVhcmx5IEhpbnRzXCI6IDEwMyxcbiAgT0s6IDIwMCxcbiAgQ3JlYXRlZDogMjAxLFxuICBBY2NlcHRlZDogMjAyLFxuICBcIk5vbi1BdXRob3JpdGF0aXZlIEluZm9ybWF0aW9uXCI6IDIwMyxcbiAgXCJObyBDb250ZW50XCI6IDIwNCxcbiAgXCJSZXNldCBDb250ZW50XCI6IDIwNSxcbiAgXCJQYXJ0aWFsIENvbnRlbnRcIjogMjA2LFxuICBcIk11bHRpLVN0YXR1c1wiOiAyMDcsXG4gIFwiQWxyZWFkeSBSZXBvcnRlZFwiOiAyMDgsXG4gIFwiTXVsdGlwbGUgQ2hvaWNlc1wiOiAzMDAsXG4gIFwiTW92ZWQgUGVybWFuZW50bHlcIjogMzAxLFxuICBGb3VuZDogMzAyLFxuICBcIlNlZSBPdGhlclwiOiAzMDMsXG4gIFwiTm90IE1vZGlmaWVkXCI6IDMwNCxcbiAgXCJUZW1wb3JhcnkgUmVkaXJlY3RcIjogMzA3LFxuICBcIlBlcm1hbmVudCBSZWRpcmVjdFwiOiAzMDgsXG4gIFwiQmFkIFJlcXVlc3RcIjogNDAwLFxuICBVbmF1dGhvcml6ZWQ6IDQwMSxcbiAgXCJQYXltZW50IFJlcXVpcmVkXCI6IDQwMixcbiAgRm9yYmlkZGVuOiA0MDMsXG4gIFwiTm90IEZvdW5kXCI6IDQwNCxcbiAgXCJNZXRob2QgTm90IEFsbG93ZWRcIjogNDA1LFxuICBcIk5vdCBBY2NlcHRhYmxlXCI6IDQwNixcbiAgXCJQcm94eSBBdXRoZW50aWNhdGlvbiBSZXF1aXJlZFwiOiA0MDcsXG4gIFwiUmVxdWVzdCBUaW1lb3V0XCI6IDQwOCxcbiAgQ29uZmxpY3Q6IDQwOSxcbiAgR29uZTogNDEwLFxuICBcIkxlbmd0aCBSZXF1aXJlZFwiOiA0MTEsXG4gIFwiUHJlY29uZGl0aW9uIEZhaWxlZFwiOiA0MTIsXG4gIFwiUGF5bG9hZCBUb28gTGFyZ2VcIjogNDEzLFxuICBcIlVSSSBUb28gTG9uZ1wiOiA0MTQsXG4gIFwiVW5zdXBwb3J0ZWQgTWVkaWEgVHlwZVwiOiA0MTUsXG4gIFwiUmFuZ2UgTm90IFNhdGlzZmlhYmxlXCI6IDQxNixcbiAgXCJFeHBlY3RhdGlvbiBGYWlsZWRcIjogNDE3LFxuICBcIkknbSBhIHRlYXBvdFwiOiA0MTgsXG4gIFwiRW5oYW5jZSBZb3VyIENhbG1cIjogNDIwLFxuICBcIk1pc2RpcmVjdGVkIFJlcXVlc3RcIjogNDIxLFxuICBcIlVucHJvY2Vzc2FibGUgQ29udGVudFwiOiA0MjIsXG4gIExvY2tlZDogNDIzLFxuICBcIkZhaWxlZCBEZXBlbmRlbmN5XCI6IDQyNCxcbiAgXCJUb28gRWFybHlcIjogNDI1LFxuICBcIlVwZ3JhZGUgUmVxdWlyZWRcIjogNDI2LFxuICBcIlByZWNvbmRpdGlvbiBSZXF1aXJlZFwiOiA0MjgsXG4gIFwiVG9vIE1hbnkgUmVxdWVzdHNcIjogNDI5LFxuICBcIlJlcXVlc3QgSGVhZGVyIEZpZWxkcyBUb28gTGFyZ2VcIjogNDMxLFxuICBcIlVuYXZhaWxhYmxlIEZvciBMZWdhbCBSZWFzb25zXCI6IDQ1MSxcbiAgXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIjogNTAwLFxuICBcIk5vdCBJbXBsZW1lbnRlZFwiOiA1MDEsXG4gIFwiQmFkIEdhdGV3YXlcIjogNTAyLFxuICBcIlNlcnZpY2UgVW5hdmFpbGFibGVcIjogNTAzLFxuICBcIkdhdGV3YXkgVGltZW91dFwiOiA1MDQsXG4gIFwiSFRUUCBWZXJzaW9uIE5vdCBTdXBwb3J0ZWRcIjogNTA1LFxuICBcIlZhcmlhbnQgQWxzbyBOZWdvdGlhdGVzXCI6IDUwNixcbiAgXCJJbnN1ZmZpY2llbnQgU3RvcmFnZVwiOiA1MDcsXG4gIFwiTG9vcCBEZXRlY3RlZFwiOiA1MDgsXG4gIFwiTm90IEV4dGVuZGVkXCI6IDUxMCxcbiAgXCJOZXR3b3JrIEF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkXCI6IDUxMVxufSwgSW52ZXJ0ZWRTdGF0dXNNYXAgPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gIE9iamVjdC5lbnRyaWVzKFN0YXR1c01hcCkubWFwKChbaywgdl0pID0+IFt2LCBrXSlcbik7XG5mdW5jdGlvbiByZW1vdmVUcmFpbGluZ0VxdWFscyhkaWdlc3QpIHtcbiAgbGV0IHRyaW1tZWREaWdlc3QgPSBkaWdlc3Q7XG4gIGZvciAoOyB0cmltbWVkRGlnZXN0LmVuZHNXaXRoKFwiPVwiKTsgKVxuICAgIHRyaW1tZWREaWdlc3QgPSB0cmltbWVkRGlnZXN0LnNsaWNlKDAsIC0xKTtcbiAgcmV0dXJuIHRyaW1tZWREaWdlc3Q7XG59XG5jb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCksIHNpZ25Db29raWUgPSBhc3luYyAodmFsLCBzZWNyZXQpID0+IHtcbiAgaWYgKHR5cGVvZiB2YWwgPT0gXCJvYmplY3RcIiA/IHZhbCA9IEpTT04uc3RyaW5naWZ5KHZhbCkgOiB0eXBlb2YgdmFsICE9IFwic3RyaW5nXCIgJiYgKHZhbCA9IHZhbCArIFwiXCIpLCBzZWNyZXQgPT09IG51bGwpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTZWNyZXQga2V5IG11c3QgYmUgcHJvdmlkZWQuXCIpO1xuICBjb25zdCBzZWNyZXRLZXkgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmltcG9ydEtleShcbiAgICBcInJhd1wiLFxuICAgIGVuY29kZXIuZW5jb2RlKHNlY3JldCksXG4gICAgeyBuYW1lOiBcIkhNQUNcIiwgaGFzaDogXCJTSEEtMjU2XCIgfSxcbiAgICAhMSxcbiAgICBbXCJzaWduXCJdXG4gICksIGhtYWNCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLnNpZ24oXG4gICAgXCJITUFDXCIsXG4gICAgc2VjcmV0S2V5LFxuICAgIGVuY29kZXIuZW5jb2RlKHZhbClcbiAgKTtcbiAgcmV0dXJuIHZhbCArIFwiLlwiICsgcmVtb3ZlVHJhaWxpbmdFcXVhbHMoQnVmZmVyLmZyb20oaG1hY0J1ZmZlcikudG9TdHJpbmcoXCJiYXNlNjRcIikpO1xufSwgdW5zaWduQ29va2llID0gYXN5bmMgKGlucHV0LCBzZWNyZXQpID0+IHtcbiAgaWYgKHR5cGVvZiBpbnB1dCAhPSBcInN0cmluZ1wiKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTaWduZWQgY29va2llIHN0cmluZyBtdXN0IGJlIHByb3ZpZGVkLlwiKTtcbiAgaWYgKHNlY3JldCA9PT0gbnVsbCkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlNlY3JldCBrZXkgbXVzdCBiZSBwcm92aWRlZC5cIik7XG4gIGNvbnN0IHRlbnRhdGl2ZVZhbHVlID0gaW5wdXQuc2xpY2UoMCwgaW5wdXQubGFzdEluZGV4T2YoXCIuXCIpKTtcbiAgcmV0dXJuIGF3YWl0IHNpZ25Db29raWUodGVudGF0aXZlVmFsdWUsIHNlY3JldCkgPT09IGlucHV0ID8gdGVudGF0aXZlVmFsdWUgOiAhMTtcbn0sIGluc2VydFN0YW5kYWxvbmVWYWxpZGF0b3IgPSAoaG9vaywgbmFtZSwgdmFsdWUpID0+IHtcbiAgaWYgKCFob29rLnN0YW5kYWxvbmVWYWxpZGF0b3I/Lmxlbmd0aCB8fCAhQXJyYXkuaXNBcnJheShob29rLnN0YW5kYWxvbmVWYWxpZGF0b3IpKSB7XG4gICAgaG9vay5zdGFuZGFsb25lVmFsaWRhdG9yID0gW1xuICAgICAge1xuICAgICAgICBbbmFtZV06IHZhbHVlXG4gICAgICB9XG4gICAgXTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgbGFzdCA9IGhvb2suc3RhbmRhbG9uZVZhbGlkYXRvcltob29rLnN0YW5kYWxvbmVWYWxpZGF0b3IubGVuZ3RoIC0gMV07XG4gIG5hbWUgaW4gbGFzdCA/IGhvb2suc3RhbmRhbG9uZVZhbGlkYXRvci5wdXNoKHtcbiAgICBbbmFtZV06IHZhbHVlXG4gIH0pIDogbGFzdFtuYW1lXSA9IHZhbHVlO1xufSwgcGFyc2VOdW1lcmljU3RyaW5nID0gKG1lc3NhZ2UpID0+IHtcbiAgaWYgKHR5cGVvZiBtZXNzYWdlID09IFwibnVtYmVyXCIpIHJldHVybiBtZXNzYWdlO1xuICBpZiAobWVzc2FnZS5sZW5ndGggPCAxNikge1xuICAgIGlmIChtZXNzYWdlLnRyaW0oKS5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGxlbmd0aCA9IE51bWJlcihtZXNzYWdlKTtcbiAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGxlbmd0aCkgPyBudWxsIDogbGVuZ3RoO1xuICB9XG4gIGlmIChtZXNzYWdlLmxlbmd0aCA9PT0gMTYpIHtcbiAgICBpZiAobWVzc2FnZS50cmltKCkubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBudW1iZXIgPSBOdW1iZXIobWVzc2FnZSk7XG4gICAgcmV0dXJuIE51bWJlci5pc05hTihudW1iZXIpIHx8IG51bWJlci50b1N0cmluZygpICE9PSBtZXNzYWdlID8gbnVsbCA6IG51bWJlcjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn0sIGlzTnVtZXJpY1N0cmluZyA9IChtZXNzYWdlKSA9PiBwYXJzZU51bWVyaWNTdHJpbmcobWVzc2FnZSkgIT09IG51bGw7XG5jbGFzcyBQcm9taXNlR3JvdXAge1xuICBjb25zdHJ1Y3RvcihvbkVycm9yID0gY29uc29sZS5lcnJvciwgb25GaW5hbGx5ID0gKCkgPT4ge1xuICB9KSB7XG4gICAgdGhpcy5vbkVycm9yID0gb25FcnJvcjtcbiAgICB0aGlzLm9uRmluYWxseSA9IG9uRmluYWxseTtcbiAgICB0aGlzLnJvb3QgPSBudWxsO1xuICAgIHRoaXMucHJvbWlzZXMgPSBbXTtcbiAgfVxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBwcm9taXNlcyBzdGlsbCBiZWluZyBhd2FpdGVkLlxuICAgKi9cbiAgZ2V0IHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvbWlzZXMubGVuZ3RoO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgYSBwcm9taXNlIHRvIHRoZSBncm91cC5cbiAgICogQHJldHVybnMgVGhlIHByb21pc2UgdGhhdCB3YXMgYWRkZWQuXG4gICAqL1xuICBhZGQocHJvbWlzZSkge1xuICAgIHJldHVybiB0aGlzLnByb21pc2VzLnB1c2gocHJvbWlzZSksIHRoaXMucm9vdCB8fD0gdGhpcy5kcmFpbigpLCB0aGlzLnByb21pc2VzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLnRoZW4odGhpcy5vbkZpbmFsbHkpLCBwcm9taXNlO1xuICB9XG4gIGFzeW5jIGRyYWluKCkge1xuICAgIGZvciAoOyB0aGlzLnByb21pc2VzLmxlbmd0aCA+IDA7ICkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wcm9taXNlc1swXTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMub25FcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgICB0aGlzLnByb21pc2VzLnNoaWZ0KCk7XG4gICAgfVxuICAgIHRoaXMucm9vdCA9IG51bGw7XG4gIH1cbiAgLy8gQWxsb3cgdGhlIGdyb3VwIHRvIGJlIGF3YWl0ZWQuXG4gIHRoZW4ob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpIHtcbiAgICByZXR1cm4gKHRoaXMucm9vdCA/PyBQcm9taXNlLnJlc29sdmUoKSkudGhlbihvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCk7XG4gIH1cbn1cbmNvbnN0IGZuVG9Db250YWluZXIgPSAoZm4sIHN1YlR5cGUpID0+IHtcbiAgaWYgKCFmbikgcmV0dXJuIGZuO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoZm4pKSB7XG4gICAgaWYgKHR5cGVvZiBmbiA9PSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIGZuID09IFwic3RyaW5nXCIpXG4gICAgICByZXR1cm4gc3ViVHlwZSA/IHsgZm4sIHN1YlR5cGUgfSA6IHsgZm4gfTtcbiAgICBpZiAoXCJmblwiIGluIGZuKSByZXR1cm4gZm47XG4gIH1cbiAgY29uc3QgZm5zID0gW107XG4gIGZvciAoY29uc3QgeCBvZiBmbilcbiAgICB0eXBlb2YgeCA9PSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIHggPT0gXCJzdHJpbmdcIiA/IGZucy5wdXNoKHN1YlR5cGUgPyB7IGZuOiB4LCBzdWJUeXBlIH0gOiB7IGZuOiB4IH0pIDogXCJmblwiIGluIHggJiYgZm5zLnB1c2goeCk7XG4gIHJldHVybiBmbnM7XG59LCBsb2NhbEhvb2tUb0xpZmVDeWNsZVN0b3JlID0gKGEpID0+IChhLnN0YXJ0ICYmIChhLnN0YXJ0ID0gZm5Ub0NvbnRhaW5lcihhLnN0YXJ0KSksIGEucmVxdWVzdCAmJiAoYS5yZXF1ZXN0ID0gZm5Ub0NvbnRhaW5lcihhLnJlcXVlc3QpKSwgYS5wYXJzZSAmJiAoYS5wYXJzZSA9IGZuVG9Db250YWluZXIoYS5wYXJzZSkpLCBhLnRyYW5zZm9ybSAmJiAoYS50cmFuc2Zvcm0gPSBmblRvQ29udGFpbmVyKGEudHJhbnNmb3JtKSksIGEuYmVmb3JlSGFuZGxlICYmIChhLmJlZm9yZUhhbmRsZSA9IGZuVG9Db250YWluZXIoYS5iZWZvcmVIYW5kbGUpKSwgYS5hZnRlckhhbmRsZSAmJiAoYS5hZnRlckhhbmRsZSA9IGZuVG9Db250YWluZXIoYS5hZnRlckhhbmRsZSkpLCBhLm1hcFJlc3BvbnNlICYmIChhLm1hcFJlc3BvbnNlID0gZm5Ub0NvbnRhaW5lcihhLm1hcFJlc3BvbnNlKSksIGEuYWZ0ZXJSZXNwb25zZSAmJiAoYS5hZnRlclJlc3BvbnNlID0gZm5Ub0NvbnRhaW5lcihhLmFmdGVyUmVzcG9uc2UpKSwgYS50cmFjZSAmJiAoYS50cmFjZSA9IGZuVG9Db250YWluZXIoYS50cmFjZSkpLCBhLmVycm9yICYmIChhLmVycm9yID0gZm5Ub0NvbnRhaW5lcihhLmVycm9yKSksIGEuc3RvcCAmJiAoYS5zdG9wID0gZm5Ub0NvbnRhaW5lcihhLnN0b3ApKSwgYSksIGxpZmVDeWNsZVRvRm4gPSAoYSkgPT4ge1xuICBjb25zdCBsaWZlY3ljbGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgcmV0dXJuIGEuc3RhcnQ/Lm1hcCAmJiAobGlmZWN5Y2xlLnN0YXJ0ID0gYS5zdGFydC5tYXAoKHgpID0+IHguZm4pKSwgYS5yZXF1ZXN0Py5tYXAgJiYgKGxpZmVjeWNsZS5yZXF1ZXN0ID0gYS5yZXF1ZXN0Lm1hcCgoeCkgPT4geC5mbikpLCBhLnBhcnNlPy5tYXAgJiYgKGxpZmVjeWNsZS5wYXJzZSA9IGEucGFyc2UubWFwKCh4KSA9PiB4LmZuKSksIGEudHJhbnNmb3JtPy5tYXAgJiYgKGxpZmVjeWNsZS50cmFuc2Zvcm0gPSBhLnRyYW5zZm9ybS5tYXAoKHgpID0+IHguZm4pKSwgYS5iZWZvcmVIYW5kbGU/Lm1hcCAmJiAobGlmZWN5Y2xlLmJlZm9yZUhhbmRsZSA9IGEuYmVmb3JlSGFuZGxlLm1hcCgoeCkgPT4geC5mbikpLCBhLmFmdGVySGFuZGxlPy5tYXAgJiYgKGxpZmVjeWNsZS5hZnRlckhhbmRsZSA9IGEuYWZ0ZXJIYW5kbGUubWFwKCh4KSA9PiB4LmZuKSksIGEubWFwUmVzcG9uc2U/Lm1hcCAmJiAobGlmZWN5Y2xlLm1hcFJlc3BvbnNlID0gYS5tYXBSZXNwb25zZS5tYXAoKHgpID0+IHguZm4pKSwgYS5hZnRlclJlc3BvbnNlPy5tYXAgJiYgKGxpZmVjeWNsZS5hZnRlclJlc3BvbnNlID0gYS5hZnRlclJlc3BvbnNlLm1hcCgoeCkgPT4geC5mbikpLCBhLmVycm9yPy5tYXAgJiYgKGxpZmVjeWNsZS5lcnJvciA9IGEuZXJyb3IubWFwKCh4KSA9PiB4LmZuKSksIGEuc3RvcD8ubWFwICYmIChsaWZlY3ljbGUuc3RvcCA9IGEuc3RvcC5tYXAoKHgpID0+IHguZm4pKSwgYS50cmFjZT8ubWFwID8gbGlmZWN5Y2xlLnRyYWNlID0gYS50cmFjZS5tYXAoKHgpID0+IHguZm4pIDogbGlmZWN5Y2xlLnRyYWNlID0gW10sIGxpZmVjeWNsZTtcbn0sIGNsb25lSW5mZXJlbmNlID0gKGluZmVyZW5jZSkgPT4gKHtcbiAgYm9keTogaW5mZXJlbmNlLmJvZHksXG4gIGNvb2tpZTogaW5mZXJlbmNlLmNvb2tpZSxcbiAgaGVhZGVyczogaW5mZXJlbmNlLmhlYWRlcnMsXG4gIHF1ZXJ5OiBpbmZlcmVuY2UucXVlcnksXG4gIHNldDogaW5mZXJlbmNlLnNldCxcbiAgc2VydmVyOiBpbmZlcmVuY2Uuc2VydmVyLFxuICBwYXRoOiBpbmZlcmVuY2UucGF0aCxcbiAgcm91dGU6IGluZmVyZW5jZS5yb3V0ZSxcbiAgdXJsOiBpbmZlcmVuY2UudXJsXG59KSwgcmVkaXJlY3QgPSAodXJsLCBzdGF0dXMgPSAzMDIpID0+IFJlc3BvbnNlLnJlZGlyZWN0KHVybCwgc3RhdHVzKSwgRUxZU0lBX0ZPUk1fREFUQSA9IFN5bWJvbChcIkVseXNpYUZvcm1EYXRhXCIpLCBFTFlTSUFfUkVRVUVTVF9JRCA9IFN5bWJvbChcIkVseXNpYVJlcXVlc3RJZFwiKSwgZm9ybSA9IChpdGVtcykgPT4ge1xuICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICBpZiAoZm9ybURhdGFbRUxZU0lBX0ZPUk1fREFUQV0gPSB7fSwgaXRlbXMpXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoaXRlbXMpKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgZm9ybURhdGFbRUxZU0lBX0ZPUk1fREFUQV1ba2V5XSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgdmFsdWUpXG4gICAgICAgICAgdmFsdWUgaW5zdGFuY2VvZiBGaWxlID8gZm9ybURhdGEuYXBwZW5kKGtleSwgdmFsdWUsIHZhbHVlLm5hbWUpIDogdmFsdWUgaW5zdGFuY2VvZiBFbHlzaWFGaWxlID8gZm9ybURhdGEuYXBwZW5kKGtleSwgdmFsdWUudmFsdWUsIHZhbHVlLnZhbHVlPy5uYW1lKSA6IGZvcm1EYXRhLmFwcGVuZChrZXksIHZhbHVlKSwgZm9ybURhdGFbRUxZU0lBX0ZPUk1fREFUQV1ba2V5XS5wdXNoKHZhbHVlKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YWx1ZSBpbnN0YW5jZW9mIEZpbGUgPyBmb3JtRGF0YS5hcHBlbmQoa2V5LCB2YWx1ZSwgdmFsdWUubmFtZSkgOiB2YWx1ZSBpbnN0YW5jZW9mIEVseXNpYUZpbGUgPyBmb3JtRGF0YS5hcHBlbmQoa2V5LCB2YWx1ZS52YWx1ZSwgdmFsdWUudmFsdWU/Lm5hbWUpIDogZm9ybURhdGEuYXBwZW5kKGtleSwgdmFsdWUpLCBmb3JtRGF0YVtFTFlTSUFfRk9STV9EQVRBXVtrZXldID0gdmFsdWU7XG4gICAgfVxuICByZXR1cm4gZm9ybURhdGE7XG59LCByYW5kb21JZCA9IHR5cGVvZiBjcnlwdG8gPiBcInVcIiA/ICgpID0+IHtcbiAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gIGNvbnN0IGNoYXJhY3RlcnMgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCIsIGNoYXJhY3RlcnNMZW5ndGggPSBjaGFyYWN0ZXJzLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKVxuICAgIHJlc3VsdCArPSBjaGFyYWN0ZXJzLmNoYXJBdChcbiAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnNMZW5ndGgpXG4gICAgKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn0gOiAoKSA9PiB7XG4gIGNvbnN0IHV1aWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICByZXR1cm4gdXVpZC5zbGljZSgwLCA4KSArIHV1aWQuc2xpY2UoMjQsIDMyKTtcbn0sIGRlZHVwbGljYXRlQ2hlY2tzdW0gPSAoYXJyYXkpID0+IHtcbiAgaWYgKCFhcnJheS5sZW5ndGgpIHJldHVybiBbXTtcbiAgY29uc3QgaGFzaGVzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBpdGVtID0gYXJyYXlbaV07XG4gICAgaXRlbS5jaGVja3N1bSAmJiAoaGFzaGVzLmluY2x1ZGVzKGl0ZW0uY2hlY2tzdW0pICYmIChhcnJheS5zcGxpY2UoaSwgMSksIGktLSksIGhhc2hlcy5wdXNoKGl0ZW0uY2hlY2tzdW0pKTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59LCBwcm9tb3RlRXZlbnQgPSAoZXZlbnRzLCBhcyA9IFwic2NvcGVkXCIpID0+IHtcbiAgaWYgKGV2ZW50cykge1xuICAgIGlmIChhcyA9PT0gXCJzY29wZWRcIikge1xuICAgICAgZm9yIChjb25zdCBldmVudCBvZiBldmVudHMpXG4gICAgICAgIFwic2NvcGVcIiBpbiBldmVudCAmJiBldmVudC5zY29wZSA9PT0gXCJsb2NhbFwiICYmIChldmVudC5zY29wZSA9IFwic2NvcGVkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGV2ZW50cykgXCJzY29wZVwiIGluIGV2ZW50ICYmIChldmVudC5zY29wZSA9IFwiZ2xvYmFsXCIpO1xuICB9XG59LCBnZXRMb29zZVBhdGggPSAocGF0aCkgPT4gcGF0aC5jaGFyQ29kZUF0KHBhdGgubGVuZ3RoIC0gMSkgPT09IDQ3ID8gcGF0aC5zbGljZSgwLCBwYXRoLmxlbmd0aCAtIDEpIDogcGF0aCArIFwiL1wiLCBpc05vdEVtcHR5ID0gKG9iaikgPT4ge1xuICBpZiAoIW9iaikgcmV0dXJuICExO1xuICBmb3IgKGNvbnN0IF8gaW4gb2JqKSByZXR1cm4gITA7XG4gIHJldHVybiAhMTtcbn0sIGVuY29kZVBhdGggPSAocGF0aCwgeyBkeW5hbWljID0gITEgfSA9IHt9KSA9PiB7XG4gIGxldCBlbmNvZGVkID0gZW5jb2RlVVJJQ29tcG9uZW50KHBhdGgpLnJlcGxhY2UoLyUyRi9nLCBcIi9cIik7XG4gIHJldHVybiBkeW5hbWljICYmIChlbmNvZGVkID0gZW5jb2RlZC5yZXBsYWNlKC8lM0EvZywgXCI6XCIpLnJlcGxhY2UoLyUzRi9nLCBcIj9cIikpLCBlbmNvZGVkO1xufSwgc3VwcG9ydFBlck1ldGhvZElubGluZUhhbmRsZXIgPSAhISh0eXBlb2YgQnVuID4gXCJ1XCIgfHwgQnVuLnNlbXZlcj8uc2F0aXNmaWVzPy4oQnVuLnZlcnNpb24sIFwiPj0xLjIuMTRcIikpLCBzc2UgPSAoX3BheWxvYWQpID0+IHtcbiAgaWYgKF9wYXlsb2FkIGluc3RhbmNlb2YgUmVhZGFibGVTdHJlYW0pXG4gICAgcmV0dXJuIF9wYXlsb2FkLnNzZSA9ICEwLCBfcGF5bG9hZDtcbiAgY29uc3QgcGF5bG9hZCA9IHR5cGVvZiBfcGF5bG9hZCA9PSBcInN0cmluZ1wiID8geyBkYXRhOiBfcGF5bG9hZCB9IDogX3BheWxvYWQ7XG4gIHJldHVybiBwYXlsb2FkLnNzZSA9ICEwLCBwYXlsb2FkLnRvU1NFID0gKCkgPT4ge1xuICAgIGxldCBwYXlsb2FkU3RyaW5nID0gXCJcIjtcbiAgICByZXR1cm4gcGF5bG9hZC5pZCAhPT0gdm9pZCAwICYmIHBheWxvYWQuaWQgIT09IG51bGwgJiYgKHBheWxvYWRTdHJpbmcgKz0gYGlkOiAke3BheWxvYWQuaWR9XG5gKSwgcGF5bG9hZC5ldmVudCAmJiAocGF5bG9hZFN0cmluZyArPSBgZXZlbnQ6ICR7cGF5bG9hZC5ldmVudH1cbmApLCBwYXlsb2FkLnJldHJ5ICE9PSB2b2lkIDAgJiYgKHBheWxvYWRTdHJpbmcgKz0gYHJldHJ5OiAke3BheWxvYWQucmV0cnl9XG5gKSwgcGF5bG9hZC5kYXRhID09PSBudWxsID8gcGF5bG9hZFN0cmluZyArPSBgZGF0YTogbnVsbFxuYCA6IHR5cGVvZiBwYXlsb2FkLmRhdGEgPT0gXCJzdHJpbmdcIiA/IHBheWxvYWRTdHJpbmcgKz0gYGRhdGE6ICR7cGF5bG9hZC5kYXRhfVxuYCA6IHR5cGVvZiBwYXlsb2FkLmRhdGEgPT0gXCJvYmplY3RcIiAmJiAocGF5bG9hZFN0cmluZyArPSBgZGF0YTogJHtKU09OLnN0cmluZ2lmeShwYXlsb2FkLmRhdGEpfVxuYCksIHBheWxvYWRTdHJpbmcgJiYgKHBheWxvYWRTdHJpbmcgKz0gYFxuYCksIHBheWxvYWRTdHJpbmc7XG4gIH0sIHBheWxvYWQ7XG59O1xuYXN5bmMgZnVuY3Rpb24gZ2V0UmVzcG9uc2VMZW5ndGgocmVzcG9uc2UpIHtcbiAgaWYgKHJlc3BvbnNlLmJvZHlVc2VkIHx8ICFyZXNwb25zZS5ib2R5KSByZXR1cm4gMDtcbiAgbGV0IGxlbmd0aCA9IDA7XG4gIGNvbnN0IHJlYWRlciA9IHJlc3BvbnNlLmJvZHkuZ2V0UmVhZGVyKCk7XG4gIGZvciAoOyA7ICkge1xuICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgaWYgKGRvbmUpIGJyZWFrO1xuICAgIGxlbmd0aCArPSB2YWx1ZS5ieXRlTGVuZ3RoO1xuICB9XG4gIHJldHVybiBsZW5ndGg7XG59XG5jb25zdCBlbXB0eVNjaGVtYSA9IHtcbiAgaGVhZGVyczogITAsXG4gIGNvb2tpZTogITAsXG4gIHF1ZXJ5OiAhMCxcbiAgcGFyYW1zOiAhMCxcbiAgYm9keTogITAsXG4gIHJlc3BvbnNlOiAhMFxufTtcbmZ1bmN0aW9uIGRlZXBDbG9uZShzb3VyY2UsIHdlYWsgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSkge1xuICBpZiAoc291cmNlID09PSBudWxsIHx8IHR5cGVvZiBzb3VyY2UgIT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygc291cmNlID09IFwiZnVuY3Rpb25cIilcbiAgICByZXR1cm4gc291cmNlO1xuICBpZiAod2Vhay5oYXMoc291cmNlKSkgcmV0dXJuIHdlYWsuZ2V0KHNvdXJjZSk7XG4gIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICBjb25zdCBjb3B5ID0gbmV3IEFycmF5KHNvdXJjZS5sZW5ndGgpO1xuICAgIHdlYWsuc2V0KHNvdXJjZSwgY29weSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspXG4gICAgICBjb3B5W2ldID0gZGVlcENsb25lKHNvdXJjZVtpXSwgd2Vhayk7XG4gICAgcmV0dXJuIGNvcHk7XG4gIH1cbiAgaWYgKHR5cGVvZiBzb3VyY2UgPT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpLmNvbmNhdChcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKVxuICAgICksIGNsb25lZCA9IHt9O1xuICAgIHdlYWsuc2V0KHNvdXJjZSwgY2xvbmVkKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKVxuICAgICAgY2xvbmVkW2tleV0gPSBkZWVwQ2xvbmUoc291cmNlW2tleV0sIHdlYWspO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cbiAgcmV0dXJuIHNvdXJjZTtcbn1cbmV4cG9ydCB7XG4gIEVMWVNJQV9GT1JNX0RBVEEsXG4gIEVMWVNJQV9SRVFVRVNUX0lELFxuICBJbnZlcnRlZFN0YXR1c01hcCxcbiAgUHJvbWlzZUdyb3VwLFxuICBTdGF0dXNNYXAsXG4gIGFzSG9va1R5cGUsXG4gIGNoZWNrc3VtLFxuICBjbG9uZUluZmVyZW5jZSxcbiAgZGVkdXBsaWNhdGVDaGVja3N1bSxcbiAgZGVlcENsb25lLFxuICBlbXB0eVNjaGVtYSxcbiAgZW5jb2RlUGF0aCxcbiAgZmlsdGVyR2xvYmFsSG9vayxcbiAgZm5Ub0NvbnRhaW5lcixcbiAgZm9ybSxcbiAgZ2V0TG9vc2VQYXRoLFxuICBnZXRSZXNwb25zZUxlbmd0aCxcbiAgaGFzSGVhZGVyU2hvcnRoYW5kLFxuICBpbmplY3RDaGVja3N1bSxcbiAgaW5zZXJ0U3RhbmRhbG9uZVZhbGlkYXRvcixcbiAgaXNDbGFzcyxcbiAgaXNOb3RFbXB0eSxcbiAgaXNOdW1lcmljU3RyaW5nLFxuICBsaWZlQ3ljbGVUb0FycmF5LFxuICBsaWZlQ3ljbGVUb0ZuLFxuICBsb2NhbEhvb2tUb0xpZmVDeWNsZVN0b3JlLFxuICBtZXJnZUNvb2tpZSxcbiAgbWVyZ2VEZWVwLFxuICBtZXJnZUhvb2ssXG4gIG1lcmdlTGlmZUN5Y2xlLFxuICBtZXJnZU9iamVjdEFycmF5LFxuICBtZXJnZVJlc3BvbnNlLFxuICBtZXJnZVNjaGVtYVZhbGlkYXRvcixcbiAgcHJpbWl0aXZlSG9va3MsXG4gIHByb21vdGVFdmVudCxcbiAgcmFuZG9tSWQsXG4gIHJlZGlyZWN0LFxuICByZXBsYWNlVXJsUGF0aCxcbiAgc2lnbkNvb2tpZSxcbiAgc3NlLFxuICBzdXBwb3J0UGVyTWV0aG9kSW5saW5lSGFuZGxlcixcbiAgdW5zaWduQ29va2llXG59O1xuIiwKICAgICJpbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCJAc2luY2xhaXIvdHlwZWJveC92YWx1ZVwiO1xuaW1wb3J0IHsgU3RhdHVzTWFwLCBJbnZlcnRlZFN0YXR1c01hcCB9IGZyb20gXCIuL3V0aWxzLm1qc1wiO1xuY29uc3QgZW52ID0gdHlwZW9mIEJ1biA8IFwidVwiID8gQnVuLmVudiA6IHR5cGVvZiBwcm9jZXNzIDwgXCJ1XCIgPyBwcm9jZXNzPy5lbnYgOiB2b2lkIDAsIEVSUk9SX0NPREUgPSBTeW1ib2woXCJFbHlzaWFFcnJvckNvZGVcIiksIGlzUHJvZHVjdGlvbiA9IChlbnY/Lk5PREVfRU5WID8/IGVudj8uRU5WKSA9PT0gXCJwcm9kdWN0aW9uXCIsIGVtcHR5SHR0cFN0YXR1cyA9IHtcbiAgMTAxOiB2b2lkIDAsXG4gIDIwNDogdm9pZCAwLFxuICAyMDU6IHZvaWQgMCxcbiAgMzA0OiB2b2lkIDAsXG4gIDMwNzogdm9pZCAwLFxuICAzMDg6IHZvaWQgMFxufTtcbmNsYXNzIEVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlIHtcbiAgY29uc3RydWN0b3IoY29kZSwgcmVzcG9uc2UpIHtcbiAgICBjb25zdCByZXMgPSByZXNwb25zZSA/PyAoY29kZSBpbiBJbnZlcnRlZFN0YXR1c01hcCA/IChcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgQWx3YXlzIGNvcnJlY3RcbiAgICAgIEludmVydGVkU3RhdHVzTWFwW2NvZGVdXG4gICAgKSA6IGNvZGUpO1xuICAgIHRoaXMuY29kZSA9IFN0YXR1c01hcFtjb2RlXSA/PyBjb2RlLCBjb2RlIGluIGVtcHR5SHR0cFN0YXR1cyA/IHRoaXMucmVzcG9uc2UgPSB2b2lkIDAgOiB0aGlzLnJlc3BvbnNlID0gcmVzO1xuICB9XG59XG5jb25zdCBzdGF0dXMgPSAoY29kZSwgcmVzcG9uc2UpID0+IG5ldyBFbHlzaWFDdXN0b21TdGF0dXNSZXNwb25zZShjb2RlLCByZXNwb25zZSk7XG5jbGFzcyBJbnRlcm5hbFNlcnZlckVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgc3VwZXIobWVzc2FnZSA/PyBcIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwiKTtcbiAgICB0aGlzLmNvZGUgPSBcIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwiO1xuICAgIHRoaXMuc3RhdHVzID0gNTAwO1xuICB9XG59XG5jbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgc3VwZXIobWVzc2FnZSA/PyBcIk5PVF9GT1VORFwiKTtcbiAgICB0aGlzLmNvZGUgPSBcIk5PVF9GT1VORFwiO1xuICAgIHRoaXMuc3RhdHVzID0gNDA0O1xuICB9XG59XG5jbGFzcyBQYXJzZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihjYXVzZSkge1xuICAgIHN1cGVyKFwiQmFkIFJlcXVlc3RcIiwge1xuICAgICAgY2F1c2VcbiAgICB9KTtcbiAgICB0aGlzLmNvZGUgPSBcIlBBUlNFXCI7XG4gICAgdGhpcy5zdGF0dXMgPSA0MDA7XG4gIH1cbn1cbmNsYXNzIEludmFsaWRDb29raWVTaWduYXR1cmUgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKGtleSwgbWVzc2FnZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UgPz8gYFwiJHtrZXl9XCIgaGFzIGludmFsaWQgY29va2llIHNpZ25hdHVyZWApO1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICAgIHRoaXMuY29kZSA9IFwiSU5WQUxJRF9DT09LSUVfU0lHTkFUVVJFXCI7XG4gICAgdGhpcy5zdGF0dXMgPSA0MDA7XG4gIH1cbn1cbmNvbnN0IG1hcFZhbHVlRXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgaWYgKCFlcnJvcilcbiAgICByZXR1cm4ge1xuICAgICAgc3VtbWFyeTogdm9pZCAwXG4gICAgfTtcbiAgY29uc3QgeyBtZXNzYWdlLCBwYXRoLCB2YWx1ZSwgdHlwZSB9ID0gZXJyb3IsIHByb3BlcnR5ID0gcGF0aC5zbGljZSgxKS5yZXBsYWNlQWxsKFwiL1wiLCBcIi5cIiksIGlzUm9vdCA9IHBhdGggPT09IFwiXCI7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgNDI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5lcnJvcixcbiAgICAgICAgc3VtbWFyeTogaXNSb290ID8gXCJWYWx1ZSBzaG91bGQgbm90IGJlIHByb3ZpZGVkXCIgOiBgUHJvcGVydHkgJyR7cHJvcGVydHl9JyBzaG91bGQgbm90IGJlIHByb3ZpZGVkYFxuICAgICAgfTtcbiAgICBjYXNlIDQ1OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZXJyb3IsXG4gICAgICAgIHN1bW1hcnk6IGlzUm9vdCA/IFwiVmFsdWUgaXMgbWlzc2luZ1wiIDogYFByb3BlcnR5ICcke3Byb3BlcnR5fScgaXMgbWlzc2luZ2BcbiAgICAgIH07XG4gICAgY2FzZSA1MDpcbiAgICAgIGNvbnN0IHF1b3RlSW5kZXggPSBtZXNzYWdlLmluZGV4T2YoXCInXCIpLCBmb3JtYXQgPSBtZXNzYWdlLnNsaWNlKFxuICAgICAgICBxdW90ZUluZGV4ICsgMSxcbiAgICAgICAgbWVzc2FnZS5pbmRleE9mKFwiJ1wiLCBxdW90ZUluZGV4ICsgMSlcbiAgICAgICk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5lcnJvcixcbiAgICAgICAgc3VtbWFyeTogaXNSb290ID8gXCJWYWx1ZSBzaG91bGQgYmUgYW4gZW1haWxcIiA6IGBQcm9wZXJ0eSAnJHtwcm9wZXJ0eX0nIHNob3VsZCBiZSAke2Zvcm1hdH1gXG4gICAgICB9O1xuICAgIGNhc2UgNTQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5lcnJvcixcbiAgICAgICAgc3VtbWFyeTogYCR7bWVzc2FnZS5zbGljZSgwLCA5KS50cmltKCl9IHByb3BlcnR5ICcke3Byb3BlcnR5fScgdG8gYmUgJHttZXNzYWdlLnNsaWNlKDgpLnRyaW0oKX0gYnV0IGZvdW5kOiAke3ZhbHVlfWBcbiAgICAgIH07XG4gICAgY2FzZSA2MjpcbiAgICAgIGNvbnN0IHVuaW9uID0gZXJyb3Iuc2NoZW1hLmFueU9mLm1hcCgoeCkgPT4gYCcke3g/LmZvcm1hdCA/PyB4LnR5cGV9J2ApLmpvaW4oXCIsIFwiKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmVycm9yLFxuICAgICAgICBzdW1tYXJ5OiBpc1Jvb3QgPyBgVmFsdWUgc2hvdWxkIGJlIG9uZSBvZiAke3VuaW9ufWAgOiBgUHJvcGVydHkgJyR7cHJvcGVydHl9JyBzaG91bGQgYmUgb25lIG9mOiAke3VuaW9ufWBcbiAgICAgIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB7IHN1bW1hcnk6IG1lc3NhZ2UsIC4uLmVycm9yIH07XG4gIH1cbn07XG5jbGFzcyBJbnZhbGlkRmlsZVR5cGUgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHByb3BlcnR5LCBleHBlY3RlZCwgbWVzc2FnZSA9IGBcIiR7cHJvcGVydHl9XCIgaGFzIGludmFsaWQgZmlsZSB0eXBlYCkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMucHJvcGVydHkgPSBwcm9wZXJ0eTtcbiAgICB0aGlzLmV4cGVjdGVkID0gZXhwZWN0ZWQ7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLmNvZGUgPSBcIklOVkFMSURfRklMRV9UWVBFXCI7XG4gICAgdGhpcy5zdGF0dXMgPSA0MjI7XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRGaWxlVHlwZS5wcm90b3R5cGUpO1xuICB9XG4gIHRvUmVzcG9uc2UoaGVhZGVycykge1xuICAgIHJldHVybiBpc1Byb2R1Y3Rpb24gPyBuZXcgUmVzcG9uc2UoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHR5cGU6IFwidmFsaWRhdGlvblwiLFxuICAgICAgICBvbjogXCJib2R5XCJcbiAgICAgIH0pLFxuICAgICAge1xuICAgICAgICBzdGF0dXM6IDQyMixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIC4uLmhlYWRlcnMsXG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgICkgOiBuZXcgUmVzcG9uc2UoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHR5cGU6IFwidmFsaWRhdGlvblwiLFxuICAgICAgICBvbjogXCJib2R5XCIsXG4gICAgICAgIHN1bW1hcnk6IFwiSW52YWxpZCBmaWxlIHR5cGVcIixcbiAgICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgICBwcm9wZXJ0eTogdGhpcy5wcm9wZXJ0eSxcbiAgICAgICAgZXhwZWN0ZWQ6IHRoaXMuZXhwZWN0ZWRcbiAgICAgIH0pLFxuICAgICAge1xuICAgICAgICBzdGF0dXM6IDQyMixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIC4uLmhlYWRlcnMsXG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH1cbn1cbmNsYXNzIFZhbGlkYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IodHlwZSwgdmFsaWRhdG9yLCB2YWx1ZSwgZXJyb3JzKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBcIlwiLCBlcnJvciwgZXhwZWN0ZWQsIGN1c3RvbUVycm9yO1xuICAgIGlmIChcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHZhbGlkYXRvcj8ucHJvdmlkZXIgPT09IFwic3RhbmRhcmRcIiB8fCBcIn5zdGFuZGFyZFwiIGluIHZhbGlkYXRvciB8fCAvLyBAdHMtaWdub3JlXG4gICAgICB2YWxpZGF0b3Iuc2NoZW1hICYmIFwifnN0YW5kYXJkXCIgaW4gdmFsaWRhdG9yLnNjaGVtYVxuICAgICkge1xuICAgICAgY29uc3Qgc3RhbmRhcmQgPSAoXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgKFwifnN0YW5kYXJkXCIgaW4gdmFsaWRhdG9yID8gdmFsaWRhdG9yIDogdmFsaWRhdG9yLnNjaGVtYSlbXCJ+c3RhbmRhcmRcIl1cbiAgICAgICk7XG4gICAgICBlcnJvciA9IChlcnJvcnMgPz8gc3RhbmRhcmQudmFsaWRhdGUodmFsdWUpLmlzc3Vlcyk/LlswXSwgaXNQcm9kdWN0aW9uID8gbWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdHlwZTogXCJ2YWxpZGF0aW9uXCIsXG4gICAgICAgIG9uOiB0eXBlLFxuICAgICAgICBmb3VuZDogdmFsdWVcbiAgICAgIH0pIDogbWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJ2YWxpZGF0aW9uXCIsXG4gICAgICAgICAgb246IHR5cGUsXG4gICAgICAgICAgcHJvcGVydHk6IGVycm9yLnBhdGg/LlswXSB8fCBcInJvb3RcIixcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvcj8ubWVzc2FnZSxcbiAgICAgICAgICBzdW1tYXJ5OiBlcnJvcj8ucHJvYmxlbSxcbiAgICAgICAgICBleHBlY3RlZCxcbiAgICAgICAgICBmb3VuZDogdmFsdWUsXG4gICAgICAgICAgZXJyb3JzXG4gICAgICAgIH0sXG4gICAgICAgIG51bGwsXG4gICAgICAgIDJcbiAgICAgICksIGN1c3RvbUVycm9yID0gZXJyb3I/Lm1lc3NhZ2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiICYmIHZhbHVlIGluc3RhbmNlb2YgRWx5c2lhQ3VzdG9tU3RhdHVzUmVzcG9uc2UgJiYgKHZhbHVlID0gdmFsdWUucmVzcG9uc2UpLCBlcnJvciA9IGVycm9ycz8uRmlyc3QoKSA/PyAoXCJFcnJvcnNcIiBpbiB2YWxpZGF0b3IgPyB2YWxpZGF0b3IuRXJyb3JzKHZhbHVlKS5GaXJzdCgpIDogVmFsdWUuRXJyb3JzKHZhbGlkYXRvciwgdmFsdWUpLkZpcnN0KCkpO1xuICAgICAgY29uc3QgYWNjZXNzb3IgPSBlcnJvcj8ucGF0aCB8fCBcInJvb3RcIiwgc2NoZW1hID0gdmFsaWRhdG9yPy5zY2hlbWEgPz8gdmFsaWRhdG9yO1xuICAgICAgaWYgKCFpc1Byb2R1Y3Rpb24pXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZXhwZWN0ZWQgPSBWYWx1ZS5DcmVhdGUoc2NoZW1hKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICAgICAgZXhwZWN0ZWQgPSB7XG4gICAgICAgICAgICB0eXBlOiBcIkNvdWxkIG5vdCBjcmVhdGUgZXhwZWN0ZWQgdmFsdWVcIixcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yMj8ubWVzc2FnZSxcbiAgICAgICAgICAgIGVycm9yOiBlcnJvcjJcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICBjdXN0b21FcnJvciA9IGVycm9yPy5zY2hlbWE/Lm1lc3NhZ2UgfHwgZXJyb3I/LnNjaGVtYT8uZXJyb3IgIT09IHZvaWQgMCA/IHR5cGVvZiBlcnJvci5zY2hlbWEuZXJyb3IgPT0gXCJmdW5jdGlvblwiID8gZXJyb3Iuc2NoZW1hLmVycm9yKFxuICAgICAgICBpc1Byb2R1Y3Rpb24gPyB7XG4gICAgICAgICAgdHlwZTogXCJ2YWxpZGF0aW9uXCIsXG4gICAgICAgICAgb246IHR5cGUsXG4gICAgICAgICAgZm91bmQ6IHZhbHVlXG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgdHlwZTogXCJ2YWxpZGF0aW9uXCIsXG4gICAgICAgICAgb246IHR5cGUsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgcHJvcGVydHk6IGFjY2Vzc29yLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yPy5tZXNzYWdlLFxuICAgICAgICAgIHN1bW1hcnk6IG1hcFZhbHVlRXJyb3IoZXJyb3IpLnN1bW1hcnksXG4gICAgICAgICAgZm91bmQ6IHZhbHVlLFxuICAgICAgICAgIGV4cGVjdGVkLFxuICAgICAgICAgIGVycm9yczogXCJFcnJvcnNcIiBpbiB2YWxpZGF0b3IgPyBbXG4gICAgICAgICAgICAuLi52YWxpZGF0b3IuRXJyb3JzKFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKVxuICAgICAgICAgIF0ubWFwKG1hcFZhbHVlRXJyb3IpIDogW1xuICAgICAgICAgICAgLi4uVmFsdWUuRXJyb3JzKFxuICAgICAgICAgICAgICB2YWxpZGF0b3IsXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApXG4gICAgICAgICAgXS5tYXAobWFwVmFsdWVFcnJvcilcbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWRhdG9yXG4gICAgICApIDogZXJyb3Iuc2NoZW1hLmVycm9yIDogdm9pZCAwLCBjdXN0b21FcnJvciAhPT0gdm9pZCAwID8gbWVzc2FnZSA9IHR5cGVvZiBjdXN0b21FcnJvciA9PSBcIm9iamVjdFwiID8gSlNPTi5zdHJpbmdpZnkoY3VzdG9tRXJyb3IpIDogY3VzdG9tRXJyb3IgKyBcIlwiIDogaXNQcm9kdWN0aW9uID8gbWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdHlwZTogXCJ2YWxpZGF0aW9uXCIsXG4gICAgICAgIG9uOiB0eXBlLFxuICAgICAgICBmb3VuZDogdmFsdWVcbiAgICAgIH0pIDogbWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJ2YWxpZGF0aW9uXCIsXG4gICAgICAgICAgb246IHR5cGUsXG4gICAgICAgICAgcHJvcGVydHk6IGFjY2Vzc29yLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yPy5tZXNzYWdlLFxuICAgICAgICAgIHN1bW1hcnk6IG1hcFZhbHVlRXJyb3IoZXJyb3IpLnN1bW1hcnksXG4gICAgICAgICAgZXhwZWN0ZWQsXG4gICAgICAgICAgZm91bmQ6IHZhbHVlLFxuICAgICAgICAgIGVycm9yczogXCJFcnJvcnNcIiBpbiB2YWxpZGF0b3IgPyBbLi4udmFsaWRhdG9yLkVycm9ycyh2YWx1ZSldLm1hcChcbiAgICAgICAgICAgIG1hcFZhbHVlRXJyb3JcbiAgICAgICAgICApIDogWy4uLlZhbHVlLkVycm9ycyh2YWxpZGF0b3IsIHZhbHVlKV0ubWFwKFxuICAgICAgICAgICAgbWFwVmFsdWVFcnJvclxuICAgICAgICAgIClcbiAgICAgICAgfSxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgMlxuICAgICAgKTtcbiAgICB9XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLnZhbGlkYXRvciA9IHZhbGlkYXRvcjtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5jb2RlID0gXCJWQUxJREFUSU9OXCI7XG4gICAgdGhpcy5zdGF0dXMgPSA0MjI7XG4gICAgdGhpcy52YWx1ZUVycm9yID0gZXJyb3IsIHRoaXMuZXhwZWN0ZWQgPSBleHBlY3RlZCwgdGhpcy5jdXN0b21FcnJvciA9IGN1c3RvbUVycm9yLCBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZSk7XG4gIH1cbiAgZ2V0IGFsbCgpIHtcbiAgICByZXR1cm4gXCJFcnJvcnNcIiBpbiB0aGlzLnZhbGlkYXRvciA/IFsuLi50aGlzLnZhbGlkYXRvci5FcnJvcnModGhpcy52YWx1ZSldLm1hcChtYXBWYWx1ZUVycm9yKSA6IChcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIFsuLi5WYWx1ZS5FcnJvcnModGhpcy52YWxpZGF0b3IsIHRoaXMudmFsdWUpXS5tYXAobWFwVmFsdWVFcnJvcilcbiAgICApO1xuICB9XG4gIHN0YXRpYyBzaW1wbGlmeU1vZGVsKHZhbGlkYXRvcikge1xuICAgIGNvbnN0IG1vZGVsID0gXCJzY2hlbWFcIiBpbiB2YWxpZGF0b3IgPyB2YWxpZGF0b3Iuc2NoZW1hIDogdmFsaWRhdG9yO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gVmFsdWUuQ3JlYXRlKG1vZGVsKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBtb2RlbDtcbiAgICB9XG4gIH1cbiAgZ2V0IG1vZGVsKCkge1xuICAgIHJldHVybiBcIn5zdGFuZGFyZFwiIGluIHRoaXMudmFsaWRhdG9yID8gdGhpcy52YWxpZGF0b3IgOiBWYWxpZGF0aW9uRXJyb3Iuc2ltcGxpZnlNb2RlbCh0aGlzLnZhbGlkYXRvcik7XG4gIH1cbiAgdG9SZXNwb25zZShoZWFkZXJzKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLm1lc3NhZ2UsIHtcbiAgICAgIHN0YXR1czogNDAwLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAuLi5oZWFkZXJzLFxuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGluaGVyaXQgYWRkIGN1c3RvbSBlcnJvciBhbmQga2VlcCB0aGUgb3JpZ2luYWwgVmFsaWRhdGlvbiBlcnJvclxuICAgKlxuICAgKiBAc2luY2UgMS4zLjE0XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIG5ldyBFbHlzaWEoKVxuICAgKlx0XHQub25FcnJvcigoeyBlcnJvciwgY29kZSB9KSA9PiB7XG4gICAqXHRcdFx0aWYgKGNvZGUgPT09ICdWQUxJREFUSU9OJykgcmV0dXJuIGVycm9yLmRldGFpbChlcnJvci5tZXNzYWdlKVxuICAgKlx0XHR9KVxuICAgKlx0XHQucG9zdCgnLycsICgpID0+ICdIZWxsbyBXb3JsZCEnLCB7XG4gICAqXHRcdFx0Ym9keTogdC5PYmplY3Qoe1xuICAgKlx0XHRcdFx0eDogdC5OdW1iZXIoe1xuICAgKlx0XHRcdFx0XHRlcnJvcjogJ3ggbXVzdCBiZSBhIG51bWJlcidcbiAgICpcdFx0XHRcdH0pXG4gICAqXHRcdFx0fSlcbiAgICpcdFx0fSlcbiAgICogYGBgXG4gICAqL1xuICBkZXRhaWwobWVzc2FnZSkge1xuICAgIGlmICghdGhpcy5jdXN0b21FcnJvcikgcmV0dXJuIHRoaXMubWVzc2FnZTtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSB0aGlzLnZhbGlkYXRvciwgdmFsdWUgPSB0aGlzLnZhbHVlLCBleHBlY3RlZCA9IHRoaXMuZXhwZWN0ZWQsIGVycm9ycyA9IHRoaXMuYWxsO1xuICAgIHJldHVybiBpc1Byb2R1Y3Rpb24gPyB7XG4gICAgICB0eXBlOiBcInZhbGlkYXRpb25cIixcbiAgICAgIG9uOiB0aGlzLnR5cGUsXG4gICAgICBmb3VuZDogdmFsdWUsXG4gICAgICBtZXNzYWdlXG4gICAgfSA6IHtcbiAgICAgIHR5cGU6IFwidmFsaWRhdGlvblwiLFxuICAgICAgb246IHRoaXMudHlwZSxcbiAgICAgIHByb3BlcnR5OiB0aGlzLnZhbHVlRXJyb3I/LnBhdGggfHwgXCJyb290XCIsXG4gICAgICBtZXNzYWdlLFxuICAgICAgc3VtbWFyeTogbWFwVmFsdWVFcnJvcih0aGlzLnZhbHVlRXJyb3IpLnN1bW1hcnksXG4gICAgICBmb3VuZDogdmFsdWUsXG4gICAgICBleHBlY3RlZCxcbiAgICAgIGVycm9yc1xuICAgIH07XG4gIH1cbn1cbmV4cG9ydCB7XG4gIEVSUk9SX0NPREUsXG4gIEVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlLFxuICBJbnRlcm5hbFNlcnZlckVycm9yLFxuICBJbnZhbGlkQ29va2llU2lnbmF0dXJlLFxuICBJbnZhbGlkRmlsZVR5cGUsXG4gIE5vdEZvdW5kRXJyb3IsXG4gIFBhcnNlRXJyb3IsXG4gIFZhbGlkYXRpb25FcnJvcixcbiAgaXNQcm9kdWN0aW9uLFxuICBtYXBWYWx1ZUVycm9yLFxuICBzdGF0dXNcbn07XG4iLAogICAgImltcG9ydCB7XG4gIEtpbmQsXG4gIFR5cGVSZWdpc3RyeSxcbiAgVW5zYWZlXG59IGZyb20gXCJAc2luY2xhaXIvdHlwZWJveFwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiQHNpbmNsYWlyL3R5cGVib3gvdmFsdWVcIjtcbmltcG9ydCB7IFR5cGVDb21waWxlciB9IGZyb20gXCJAc2luY2xhaXIvdHlwZWJveC9jb21waWxlclwiO1xuaW1wb3J0IHsgRWx5c2lhRmlsZSB9IGZyb20gXCIuLi91bml2ZXJzYWwvZmlsZS5tanNcIjtcbmltcG9ydCB7IEludmFsaWRGaWxlVHlwZSwgVmFsaWRhdGlvbkVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuY29uc3QgdHJ5UGFyc2UgPSAodiwgc2NoZW1hKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2Uodik7XG4gIH0gY2F0Y2gge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXCJwcm9wZXJ0eVwiLCBzY2hlbWEsIHYpO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlVHlwZShraW5kLCBmdW5jKSB7XG4gIHJldHVybiBUeXBlUmVnaXN0cnkuSGFzKGtpbmQpIHx8IFR5cGVSZWdpc3RyeS5TZXQoa2luZCwgZnVuYyksIChvcHRpb25zID0ge30pID0+IFVuc2FmZSh7IC4uLm9wdGlvbnMsIFtLaW5kXToga2luZCB9KTtcbn1cbmNvbnN0IGNvbXBpbGUgPSAoc2NoZW1hKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29tcGlsZXIgPSBUeXBlQ29tcGlsZXIuQ29tcGlsZShzY2hlbWEpO1xuICAgIHJldHVybiBjb21waWxlci5DcmVhdGUgPSAoKSA9PiBWYWx1ZS5DcmVhdGUoc2NoZW1hKSwgY29tcGlsZXIuRXJyb3IgPSAodikgPT4gbmV3IFZhbGlkYXRpb25FcnJvcihcInByb3BlcnR5XCIsIHNjaGVtYSwgdiwgY29tcGlsZXIuRXJyb3JzKHYpKSwgY29tcGlsZXI7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiB7XG4gICAgICBDaGVjazogKHYpID0+IFZhbHVlLkNoZWNrKHNjaGVtYSwgdiksXG4gICAgICBDaGVja1Rocm93OiAodikgPT4ge1xuICAgICAgICBpZiAoIVZhbHVlLkNoZWNrKHNjaGVtYSwgdikpXG4gICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcbiAgICAgICAgICAgIFwicHJvcGVydHlcIixcbiAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgIHYsXG4gICAgICAgICAgICBWYWx1ZS5FcnJvcnMoc2NoZW1hLCB2KVxuICAgICAgICAgICk7XG4gICAgICB9LFxuICAgICAgRGVjb2RlOiAodikgPT4gVmFsdWUuRGVjb2RlKHNjaGVtYSwgdiksXG4gICAgICBDcmVhdGU6ICgpID0+IFZhbHVlLkNyZWF0ZShzY2hlbWEpLFxuICAgICAgRXJyb3I6ICh2KSA9PiBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICBcInByb3BlcnR5XCIsXG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgdixcbiAgICAgICAgVmFsdWUuRXJyb3JzKHNjaGVtYSwgdilcbiAgICAgIClcbiAgICB9O1xuICB9XG59LCBwYXJzZUZpbGVVbml0ID0gKHNpemUpID0+IHtcbiAgaWYgKHR5cGVvZiBzaXplID09IFwic3RyaW5nXCIpXG4gICAgc3dpdGNoIChzaXplLnNsaWNlKC0xKSkge1xuICAgICAgY2FzZSBcImtcIjpcbiAgICAgICAgcmV0dXJuICtzaXplLnNsaWNlKDAsIHNpemUubGVuZ3RoIC0gMSkgKiAxMDI0O1xuICAgICAgY2FzZSBcIm1cIjpcbiAgICAgICAgcmV0dXJuICtzaXplLnNsaWNlKDAsIHNpemUubGVuZ3RoIC0gMSkgKiAxMDQ4NTc2O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICtzaXplO1xuICAgIH1cbiAgcmV0dXJuIHNpemU7XG59LCBjaGVja0ZpbGVFeHRlbnNpb24gPSAodHlwZSwgZXh0ZW5zaW9uKSA9PiB0eXBlLnN0YXJ0c1dpdGgoZXh0ZW5zaW9uKSA/ICEwIDogZXh0ZW5zaW9uLmNoYXJDb2RlQXQoZXh0ZW5zaW9uLmxlbmd0aCAtIDEpID09PSA0MiAmJiBleHRlbnNpb24uY2hhckNvZGVBdChleHRlbnNpb24ubGVuZ3RoIC0gMikgPT09IDQ3ICYmIHR5cGUuc3RhcnRzV2l0aChleHRlbnNpb24uc2xpY2UoMCwgLTEpKTtcbmxldCBfZmlsZVR5cGVGcm9tQmxvYldhcm4gPSAhMTtcbmNvbnN0IHdhcm5JZkZpbGVUeXBlSXNOb3RJbnN0YWxsZWQgPSAoKSA9PiB7XG4gIF9maWxlVHlwZUZyb21CbG9iV2FybiB8fCAoY29uc29sZS53YXJuKFxuICAgIFwiW0VseXNpYV0gQXR0ZW1wdCB0byB2YWxpZGF0ZSBmaWxlIHR5cGUgd2l0aG91dCAnZmlsZS10eXBlJy4gVGhpcyBtYXkgbGVhZCB0byBzZWN1cml0eSByaXNrcy4gV2UgcmVjb21tZW5kIGluc3RhbGxpbmcgJ2ZpbGUtdHlwZScgdG8gcHJvcGVybHkgdmFsaWRhdGUgZmlsZSBleHRlbnNpb24uXCJcbiAgKSwgX2ZpbGVUeXBlRnJvbUJsb2JXYXJuID0gITApO1xufSwgbG9hZEZpbGVUeXBlID0gYXN5bmMgKCkgPT4gaW1wb3J0KFwiZmlsZS10eXBlXCIpLnRoZW4oKHgpID0+IChfZmlsZVR5cGVGcm9tQmxvYiA9IHguZmlsZVR5cGVGcm9tQmxvYiwgX2ZpbGVUeXBlRnJvbUJsb2IpKS5jYXRjaCh3YXJuSWZGaWxlVHlwZUlzTm90SW5zdGFsbGVkKTtcbmxldCBfZmlsZVR5cGVGcm9tQmxvYjtcbmNvbnN0IGZpbGVUeXBlRnJvbUJsb2IgPSAoZmlsZSkgPT4gX2ZpbGVUeXBlRnJvbUJsb2IgPyBfZmlsZVR5cGVGcm9tQmxvYihmaWxlKSA6IGxvYWRGaWxlVHlwZSgpLnRoZW4oKG1vZCkgPT4ge1xuICBpZiAobW9kKSByZXR1cm4gbW9kKGZpbGUpO1xufSksIGZpbGVUeXBlID0gYXN5bmMgKGZpbGUsIGV4dGVuc2lvbiwgbmFtZSA9IGZpbGU/Lm5hbWUgPz8gXCJcIikgPT4ge1xuICBpZiAoQXJyYXkuaXNBcnJheShmaWxlKSlcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBmaWxlLm1hcCgoZikgPT4gZmlsZVR5cGUoZiwgZXh0ZW5zaW9uLCBuYW1lKSlcbiAgICApLCAhMDtcbiAgaWYgKCFmaWxlKSByZXR1cm4gITE7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZpbGVUeXBlRnJvbUJsb2IoZmlsZSk7XG4gIGlmICghcmVzdWx0KSB0aHJvdyBuZXcgSW52YWxpZEZpbGVUeXBlKG5hbWUsIGV4dGVuc2lvbik7XG4gIGlmICh0eXBlb2YgZXh0ZW5zaW9uID09IFwic3RyaW5nXCIgJiYgIWNoZWNrRmlsZUV4dGVuc2lvbihyZXN1bHQubWltZSwgZXh0ZW5zaW9uKSlcbiAgICB0aHJvdyBuZXcgSW52YWxpZEZpbGVUeXBlKG5hbWUsIGV4dGVuc2lvbik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZXh0ZW5zaW9uLmxlbmd0aDsgaSsrKVxuICAgIGlmIChjaGVja0ZpbGVFeHRlbnNpb24ocmVzdWx0Lm1pbWUsIGV4dGVuc2lvbltpXSkpIHJldHVybiAhMDtcbiAgdGhyb3cgbmV3IEludmFsaWRGaWxlVHlwZShuYW1lLCBleHRlbnNpb24pO1xufSwgdmFsaWRhdGVGaWxlID0gKG9wdGlvbnMsIHZhbHVlKSA9PiB7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVseXNpYUZpbGUpIHJldHVybiAhMDtcbiAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiBCbG9iKSB8fCBvcHRpb25zLm1pblNpemUgJiYgdmFsdWUuc2l6ZSA8IHBhcnNlRmlsZVVuaXQob3B0aW9ucy5taW5TaXplKSB8fCBvcHRpb25zLm1heFNpemUgJiYgdmFsdWUuc2l6ZSA+IHBhcnNlRmlsZVVuaXQob3B0aW9ucy5tYXhTaXplKSlcbiAgICByZXR1cm4gITE7XG4gIGlmIChvcHRpb25zLmV4dGVuc2lvbikge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5leHRlbnNpb24gPT0gXCJzdHJpbmdcIilcbiAgICAgIHJldHVybiBjaGVja0ZpbGVFeHRlbnNpb24odmFsdWUudHlwZSwgb3B0aW9ucy5leHRlbnNpb24pO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9ucy5leHRlbnNpb24ubGVuZ3RoOyBpKyspXG4gICAgICBpZiAoY2hlY2tGaWxlRXh0ZW5zaW9uKHZhbHVlLnR5cGUsIG9wdGlvbnMuZXh0ZW5zaW9uW2ldKSlcbiAgICAgICAgcmV0dXJuICEwO1xuICAgIHJldHVybiAhMTtcbiAgfVxuICByZXR1cm4gITA7XG59LCB2YWxpZGF0aW9uRGV0YWlsID0gKG1lc3NhZ2UpID0+IChlcnJvcikgPT4gKHtcbiAgLi4uZXJyb3IsXG4gIG1lc3NhZ2Vcbn0pO1xuZXhwb3J0IHtcbiAgY2hlY2tGaWxlRXh0ZW5zaW9uLFxuICBjb21waWxlLFxuICBjcmVhdGVUeXBlLFxuICBmaWxlVHlwZSxcbiAgZmlsZVR5cGVGcm9tQmxvYixcbiAgbG9hZEZpbGVUeXBlLFxuICBwYXJzZUZpbGVVbml0LFxuICB0cnlQYXJzZSxcbiAgdmFsaWRhdGVGaWxlLFxuICB2YWxpZGF0aW9uRGV0YWlsXG59O1xuIiwKICAgICJpbXBvcnQgeyBGb3JtYXRSZWdpc3RyeSB9IGZyb20gXCJAc2luY2xhaXIvdHlwZWJveFwiO1xuY29uc3QgZnVsbEZvcm1hdHMgPSB7XG4gIC8vIGRhdGU6IGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMzMzkjc2VjdGlvbi01LjZcbiAgZGF0ZSxcbiAgLy8gZGF0ZS10aW1lOiBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMzM5I3NlY3Rpb24tNS42XG4gIHRpbWU6IGdldFRpbWUoITApLFxuICBcImRhdGUtdGltZVwiOiBnZXREYXRlVGltZSghMCksXG4gIFwiaXNvLXRpbWVcIjogZ2V0VGltZSghMSksXG4gIFwiaXNvLWRhdGUtdGltZVwiOiBnZXREYXRlVGltZSghMSksXG4gIC8vIGR1cmF0aW9uOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzMzOSNhcHBlbmRpeC1BXG4gIGR1cmF0aW9uOiAvXlAoPyEkKSgoXFxkK1kpPyhcXGQrTSk/KFxcZCtEKT8oVCg/PVxcZCkoXFxkK0gpPyhcXGQrTSk/KFxcZCtTKT8pP3woXFxkK1cpPykkLyxcbiAgdXJpLFxuICBcInVyaS1yZWZlcmVuY2VcIjogL14oPzpbYS16XVthLXowLTkrXFwtLl0qOik/KD86XFwvP1xcLyg/Oig/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpdfCVbMC05YS1mXXsyfSkqQCk/KD86XFxbKD86KD86KD86KD86WzAtOWEtZl17MSw0fTopezZ9fDo6KD86WzAtOWEtZl17MSw0fTopezV9fCg/OlswLTlhLWZdezEsNH0pPzo6KD86WzAtOWEtZl17MSw0fTopezR9fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDF9WzAtOWEtZl17MSw0fSk/OjooPzpbMC05YS1mXXsxLDR9Oil7M318KD86KD86WzAtOWEtZl17MSw0fTopezAsMn1bMC05YS1mXXsxLDR9KT86Oig/OlswLTlhLWZdezEsNH06KXsyfXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCwzfVswLTlhLWZdezEsNH0pPzo6WzAtOWEtZl17MSw0fTp8KD86KD86WzAtOWEtZl17MSw0fTopezAsNH1bMC05YS1mXXsxLDR9KT86OikoPzpbMC05YS1mXXsxLDR9OlswLTlhLWZdezEsNH18KD86KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KVxcLil7M30oPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCw1fVswLTlhLWZdezEsNH0pPzo6WzAtOWEtZl17MSw0fXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCw2fVswLTlhLWZdezEsNH0pPzo6KXxbVnZdWzAtOWEtZl0rXFwuW2EtejAtOVxcLS5ffiEkJicoKSorLDs9Ol0rKVxcXXwoPzooPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPyl8KD86W2EtejAtOVxcLS5ffiEkJidcIigpKissOz1dfCVbMC05YS1mXXsyfSkqKSg/OjpcXGQqKT8oPzpcXC8oPzpbYS16MC05XFwtLl9+ISQmJ1wiKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKikqfFxcLyg/Oig/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkrKD86XFwvKD86W2EtejAtOVxcLS5ffiEkJidcIigpKissOz06QF18JVswLTlhLWZdezJ9KSopKik/fCg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkrKD86XFwvKD86W2EtejAtOVxcLS5ffiEkJidcIigpKissOz06QF18JVswLTlhLWZdezJ9KSopKik/KD86XFw/KD86W2EtejAtOVxcLS5ffiEkJidcIigpKissOz06QC8/XXwlWzAtOWEtZl17Mn0pKik/KD86Iyg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkAvP118JVswLTlhLWZdezJ9KSopPyQvaSxcbiAgLy8gdXJpLXRlbXBsYXRlOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjU3MFxuICBcInVyaS10ZW1wbGF0ZVwiOiAvXig/Oig/OlteXFx4MDAtXFx4MjBcIic8PiVcXFxcXmB7fH1dfCVbMC05YS1mXXsyfSl8XFx7WysjLi87PyY9LCFAfF0/KD86W2EtejAtOV9dfCVbMC05YS1mXXsyfSkrKD86OlsxLTldWzAtOV17MCwzfXxcXCopPyg/OiwoPzpbYS16MC05X118JVswLTlhLWZdezJ9KSsoPzo6WzEtOV1bMC05XXswLDN9fFxcKik/KSpcXH0pKiQvaSxcbiAgLy8gRm9yIHRoZSBzb3VyY2U6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2RwZXJpbmkvNzI5Mjk0XG4gIC8vIEZvciB0ZXN0IGNhc2VzOiBodHRwczovL21hdGhpYXNieW5lbnMuYmUvZGVtby91cmwtcmVnZXhcbiAgdXJsOiAvXig/Omh0dHBzP3xmdHApOlxcL1xcLyg/OlxcUysoPzo6XFxTKik/QCk/KD86KD8hKD86MTB8MTI3KSg/OlxcLlxcZHsxLDN9KXszfSkoPyEoPzoxNjlcXC4yNTR8MTkyXFwuMTY4KSg/OlxcLlxcZHsxLDN9KXsyfSkoPyExNzJcXC4oPzoxWzYtOV18MlxcZHwzWzAtMV0pKD86XFwuXFxkezEsM30pezJ9KSg/OlsxLTldXFxkP3wxXFxkXFxkfDJbMDFdXFxkfDIyWzAtM10pKD86XFwuKD86MT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkpezJ9KD86XFwuKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNF0pKXwoPzooPzpbYS16MC05XFx1ezAwYTF9LVxcdXtmZmZmfV0rLSkqW2EtejAtOVxcdXswMGExfS1cXHV7ZmZmZn1dKykoPzpcXC4oPzpbYS16MC05XFx1ezAwYTF9LVxcdXtmZmZmfV0rLSkqW2EtejAtOVxcdXswMGExfS1cXHV7ZmZmZn1dKykqKD86XFwuKD86W2EtelxcdXswMGExfS1cXHV7ZmZmZn1dezIsfSkpKSg/OjpcXGR7Miw1fSk/KD86XFwvW15cXHNdKik/JC9pdSxcbiAgZW1haWw6IC9eW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKyg/OlxcLlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSspKkAoPzpbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/XFwuKStbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/JC9pLFxuICBob3N0bmFtZTogL14oPz0uezEsMjUzfVxcLj8kKVthLXowLTldKD86W2EtejAtOS1dezAsNjF9W2EtejAtOV0pPyg/OlxcLlthLXowLTldKD86Wy0wLTlhLXpdezAsNjF9WzAtOWEtel0pPykqXFwuPyQvaSxcbiAgLy8gb3B0aW1pemVkIGh0dHBzOi8vd3d3LnNhZmFyaWJvb2tzb25saW5lLmNvbS9saWJyYXJ5L3ZpZXcvcmVndWxhci1leHByZXNzaW9ucy1jb29rYm9vay85NzgwNTk2ODAyODM3L2NoMDdzMTYuaHRtbFxuICBpcHY0OiAvXig/Oig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkkLyxcbiAgaXB2NjogL14oKChbMC05YS1mXXsxLDR9Oil7N30oWzAtOWEtZl17MSw0fXw6KSl8KChbMC05YS1mXXsxLDR9Oil7Nn0oOlswLTlhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlhLWZdezEsNH06KXs1fSgoKDpbMC05YS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlhLWZdezEsNH06KXs0fSgoKDpbMC05YS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05YS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05YS1mXXsxLDR9Oil7M30oKCg6WzAtOWEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOWEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlhLWZdezEsNH06KXsyfSgoKDpbMC05YS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05YS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOWEtZl17MSw0fTopezF9KCgoOlswLTlhLWZdezEsNH0pezEsNn0pfCgoOlswLTlhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KDooKCg6WzAtOWEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOWEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKSkkL2ksXG4gIHJlZ2V4LFxuICAvLyB1dWlkOiBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM0MTIyXG4gIHV1aWQ6IC9eKD86dXJuOnV1aWQ6KT9bMC05YS1mXXs4fS0oPzpbMC05YS1mXXs0fS0pezN9WzAtOWEtZl17MTJ9JC9pLFxuICAvLyBKU09OLXBvaW50ZXI6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2OTAxXG4gIC8vIHVyaSBmcmFnbWVudDogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjYXBwZW5kaXgtQVxuICBcImpzb24tcG9pbnRlclwiOiAvXig/OlxcLyg/Oltefi9dfH4wfH4xKSopKiQvLFxuICBcImpzb24tcG9pbnRlci11cmktZnJhZ21lbnRcIjogL14jKD86XFwvKD86W2EtejAtOV9cXC0uISQmJygpKissOzo9QF18JVswLTlhLWZdezJ9fH4wfH4xKSopKiQvaSxcbiAgLy8gcmVsYXRpdmUgSlNPTi1wb2ludGVyOiBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1sdWZmLXJlbGF0aXZlLWpzb24tcG9pbnRlci0wMFxuICBcInJlbGF0aXZlLWpzb24tcG9pbnRlclwiOiAvXig/OjB8WzEtOV1bMC05XSopKD86I3woPzpcXC8oPzpbXn4vXXx+MHx+MSkqKSopJC8sXG4gIC8vIHRoZSBmb2xsb3dpbmcgZm9ybWF0cyBhcmUgdXNlZCBieSB0aGUgb3BlbmFwaSBzcGVjaWZpY2F0aW9uOiBodHRwczovL3NwZWMub3BlbmFwaXMub3JnL29hcy92My4wLjAjZGF0YS10eXBlc1xuICAvLyBieXRlOiBodHRwczovL2dpdGh1Yi5jb20vbWlndWVsbW90YS9pcy1iYXNlNjRcbiAgYnl0ZSxcbiAgLy8gc2lnbmVkIDMyIGJpdCBpbnRlZ2VyXG4gIGludDMyOiB7IHR5cGU6IFwibnVtYmVyXCIsIHZhbGlkYXRlOiB2YWxpZGF0ZUludDMyIH0sXG4gIC8vIHNpZ25lZCA2NCBiaXQgaW50ZWdlclxuICBpbnQ2NDogeyB0eXBlOiBcIm51bWJlclwiLCB2YWxpZGF0ZTogdmFsaWRhdGVJbnQ2NCB9LFxuICAvLyBDLXR5cGUgZmxvYXRcbiAgZmxvYXQ6IHsgdHlwZTogXCJudW1iZXJcIiwgdmFsaWRhdGU6IHZhbGlkYXRlTnVtYmVyIH0sXG4gIC8vIEMtdHlwZSBkb3VibGVcbiAgZG91YmxlOiB7IHR5cGU6IFwibnVtYmVyXCIsIHZhbGlkYXRlOiB2YWxpZGF0ZU51bWJlciB9LFxuICAvLyBoaW50IHRvIHRoZSBVSSB0byBoaWRlIGlucHV0IHN0cmluZ3NcbiAgcGFzc3dvcmQ6ICEwLFxuICAvLyB1bmNoZWNrZWQgc3RyaW5nIHBheWxvYWRcbiAgYmluYXJ5OiAhMFxufTtcbmZ1bmN0aW9uIGlzTGVhcFllYXIoeWVhcikge1xuICByZXR1cm4geWVhciAlIDQgPT09IDAgJiYgKHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMCk7XG59XG5jb25zdCBEQVRFID0gL14oXFxkXFxkXFxkXFxkKS0oXFxkXFxkKS0oXFxkXFxkKSQvLCBEQVlTID0gWzAsIDMxLCAyOCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdO1xuZnVuY3Rpb24gZGF0ZShzdHIpIHtcbiAgY29uc3QgbWF0Y2hlcyA9IERBVEUuZXhlYyhzdHIpO1xuICBpZiAoIW1hdGNoZXMpIHJldHVybiAhMTtcbiAgY29uc3QgeWVhciA9ICttYXRjaGVzWzFdLCBtb250aCA9ICttYXRjaGVzWzJdLCBkYXkgPSArbWF0Y2hlc1szXTtcbiAgcmV0dXJuIG1vbnRoID49IDEgJiYgbW9udGggPD0gMTIgJiYgZGF5ID49IDEgJiYgZGF5IDw9IChtb250aCA9PT0gMiAmJiBpc0xlYXBZZWFyKHllYXIpID8gMjkgOiBEQVlTW21vbnRoXSk7XG59XG5jb25zdCBUSU1FID0gL14oXFxkXFxkKTooXFxkXFxkKTooXFxkXFxkKD86XFwuXFxkKyk/KSh6fChbKy1dKShcXGRcXGQpKD86Oj8oXFxkXFxkKSk/KT8kL2k7XG5mdW5jdGlvbiBnZXRUaW1lKHN0cmljdFRpbWVab25lKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdHIpIHtcbiAgICBjb25zdCBtYXRjaGVzID0gVElNRS5leGVjKHN0cik7XG4gICAgaWYgKCFtYXRjaGVzKSByZXR1cm4gITE7XG4gICAgY29uc3QgaHIgPSArbWF0Y2hlc1sxXSwgbWluID0gK21hdGNoZXNbMl0sIHNlYyA9ICttYXRjaGVzWzNdLCB0eiA9IG1hdGNoZXNbNF0sIHR6U2lnbiA9IG1hdGNoZXNbNV0gPT09IFwiLVwiID8gLTEgOiAxLCB0ekggPSArKG1hdGNoZXNbNl0gfHwgMCksIHR6TSA9ICsobWF0Y2hlc1s3XSB8fCAwKTtcbiAgICBpZiAodHpIID4gMjMgfHwgdHpNID4gNTkgfHwgc3RyaWN0VGltZVpvbmUgJiYgIXR6KSByZXR1cm4gITE7XG4gICAgaWYgKGhyIDw9IDIzICYmIG1pbiA8PSA1OSAmJiBzZWMgPCA2MCkgcmV0dXJuICEwO1xuICAgIGNvbnN0IHV0Y01pbiA9IG1pbiAtIHR6TSAqIHR6U2lnbiwgdXRjSHIgPSBociAtIHR6SCAqIHR6U2lnbiAtICh1dGNNaW4gPCAwID8gMSA6IDApO1xuICAgIHJldHVybiAodXRjSHIgPT09IDIzIHx8IHV0Y0hyID09PSAtMSkgJiYgKHV0Y01pbiA9PT0gNTkgfHwgdXRjTWluID09PSAtMSkgJiYgc2VjIDwgNjE7XG4gIH07XG59XG5jb25zdCBwYXJzZURhdGVUaW1lRW1wdHlTcGFjZSA9IChzdHIpID0+IHN0ci5jaGFyQ29kZUF0KHN0ci5sZW5ndGggLSA2KSA9PT0gMzIgPyBzdHIuc2xpY2UoMCwgLTYpICsgXCIrXCIgKyBzdHIuc2xpY2UoLTUpIDogc3RyLCBEQVRFX1RJTUVfU0VQQVJBVE9SID0gL3R8XFxzL2k7XG5mdW5jdGlvbiBnZXREYXRlVGltZShzdHJpY3RUaW1lWm9uZSkge1xuICBjb25zdCB0aW1lID0gZ2V0VGltZShzdHJpY3RUaW1lWm9uZSk7XG4gIHJldHVybiBmdW5jdGlvbihzdHIpIHtcbiAgICBjb25zdCBkYXRlVGltZSA9IHN0ci5zcGxpdChEQVRFX1RJTUVfU0VQQVJBVE9SKTtcbiAgICByZXR1cm4gZGF0ZVRpbWUubGVuZ3RoID09PSAyICYmIGRhdGUoZGF0ZVRpbWVbMF0pICYmIHRpbWUoZGF0ZVRpbWVbMV0pO1xuICB9O1xufVxuY29uc3QgTk9UX1VSSV9GUkFHTUVOVCA9IC9cXC98Oi8sIFVSSSA9IC9eKD86W2Etel1bYS16MC05K1xcLS5dKjopKD86XFwvP1xcLyg/Oig/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpdfCVbMC05YS1mXXsyfSkqQCk/KD86XFxbKD86KD86KD86KD86WzAtOWEtZl17MSw0fTopezZ9fDo6KD86WzAtOWEtZl17MSw0fTopezV9fCg/OlswLTlhLWZdezEsNH0pPzo6KD86WzAtOWEtZl17MSw0fTopezR9fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDF9WzAtOWEtZl17MSw0fSk/OjooPzpbMC05YS1mXXsxLDR9Oil7M318KD86KD86WzAtOWEtZl17MSw0fTopezAsMn1bMC05YS1mXXsxLDR9KT86Oig/OlswLTlhLWZdezEsNH06KXsyfXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCwzfVswLTlhLWZdezEsNH0pPzo6WzAtOWEtZl17MSw0fTp8KD86KD86WzAtOWEtZl17MSw0fTopezAsNH1bMC05YS1mXXsxLDR9KT86OikoPzpbMC05YS1mXXsxLDR9OlswLTlhLWZdezEsNH18KD86KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KVxcLil7M30oPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCw1fVswLTlhLWZdezEsNH0pPzo6WzAtOWEtZl17MSw0fXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCw2fVswLTlhLWZdezEsNH0pPzo6KXxbVnZdWzAtOWEtZl0rXFwuW2EtejAtOVxcLS5ffiEkJicoKSorLDs9Ol0rKVxcXXwoPzooPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPyl8KD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9XXwlWzAtOWEtZl17Mn0pKikoPzo6XFxkKik/KD86XFwvKD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkqKSp8XFwvKD86KD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkrKD86XFwvKD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkqKSopP3woPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06QF18JVswLTlhLWZdezJ9KSsoPzpcXC8oPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06QF18JVswLTlhLWZdezJ9KSopKikoPzpcXD8oPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06QC8/XXwlWzAtOWEtZl17Mn0pKik/KD86Iyg/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpALz9dfCVbMC05YS1mXXsyfSkqKT8kL2k7XG5mdW5jdGlvbiB1cmkoc3RyKSB7XG4gIHJldHVybiBOT1RfVVJJX0ZSQUdNRU5ULnRlc3Qoc3RyKSAmJiBVUkkudGVzdChzdHIpO1xufVxuY29uc3QgQllURSA9IC9eKD86W0EtWmEtejAtOSsvXXs0fSkqKD86W0EtWmEtejAtOSsvXXsyfT09fFtBLVphLXowLTkrL117M309KT8kL2dtO1xuZnVuY3Rpb24gYnl0ZShzdHIpIHtcbiAgcmV0dXJuIEJZVEUubGFzdEluZGV4ID0gMCwgQllURS50ZXN0KHN0cik7XG59XG5jb25zdCBNSU5fSU5UMzIgPSAtKDIgKiogMzEpLCBNQVhfSU5UMzIgPSAyICoqIDMxIC0gMTtcbmZ1bmN0aW9uIHZhbGlkYXRlSW50MzIodmFsdWUpIHtcbiAgcmV0dXJuIE51bWJlci5pc0ludGVnZXIodmFsdWUpICYmIHZhbHVlIDw9IE1BWF9JTlQzMiAmJiB2YWx1ZSA+PSBNSU5fSU5UMzI7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUludDY0KHZhbHVlKSB7XG4gIHJldHVybiBOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlTnVtYmVyKCkge1xuICByZXR1cm4gITA7XG59XG5jb25zdCBaX0FOQ0hPUiA9IC9bXlxcXFxdXFxcXFovO1xuZnVuY3Rpb24gcmVnZXgoc3RyKSB7XG4gIGlmIChaX0FOQ0hPUi50ZXN0KHN0cikpIHJldHVybiAhMTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChzdHIpLCAhMDtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuICExO1xuICB9XG59XG4vKipcbiAqIEBsaWNlbnNlXG4gKlxuICogTUlUIExpY2Vuc2VcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgRXZnZW55IFBvYmVyZXpraW5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG4gKiBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAqIFNPRlRXQVJFLlxuICovXG5jb25zdCBpc0lTTzg2MDEgPSAvKFxcZHs0fS1bMDFdXFxkLVswLTNdXFxkVFswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkXFwuXFxkKyhbKy1dWzAtMl1cXGQ6WzAtNV1cXGR8WikpfChcXGR7NH0tWzAxXVxcZC1bMC0zXVxcZFRbMC0yXVxcZDpbMC01XVxcZDpbMC01XVxcZChbKy1dWzAtMl1cXGQ6WzAtNV1cXGR8WikpfChcXGR7NH0tWzAxXVxcZC1bMC0zXVxcZFRbMC0yXVxcZDpbMC01XVxcZChbKy1dWzAtMl1cXGQ6WzAtNV1cXGR8WikpLywgaXNGb3JtYWxEYXRlID0gLyg/OlN1bnxNb258VHVlfFdlZHxUaHV8RnJpfFNhdClcXHMoPzpKYW58RmVifE1hcnxBcHJ8TWF5fEp1bnxKdWx8QXVnfFNlcHxPY3R8Tm92fERlYylcXHNcXGR7Mn1cXHNcXGR7NH1cXHNcXGR7Mn06XFxkezJ9OlxcZHsyfVxcc0dNVCg/OlxcK3wtKVxcZHs0fVxcc1xcKFteKV0rXFwpLywgaXNTaG9ydGVuRGF0ZSA9IC9eKD86KD86KD86KD86MD9bMS05XXxbMTJdWzAtOV18M1swMV0pWy9cXHMtXSg/OjA/WzEtOV18MVswLTJdKVsvXFxzLV0oPzoxOXwyMClcXGR7Mn0pfCg/Oig/OjE5fDIwKVxcZHsyfVsvXFxzLV0oPzowP1sxLTldfDFbMC0yXSlbL1xccy1dKD86MD9bMS05XXxbMTJdWzAtOV18M1swMV0pKSkpKD86XFxzKD86MVswMTJdfDA/WzEtOV0pOlswLTVdWzAtOV0oPzo6WzAtNV1bMC05XSk/KD86XFxzW0FQXU0pPyk/JC8sIF92YWxpZGF0ZURhdGUgPSBmdWxsRm9ybWF0cy5kYXRlLCBfdmFsaWRhdGVEYXRlVGltZSA9IGZ1bGxGb3JtYXRzW1wiZGF0ZS10aW1lXCJdO1xuRm9ybWF0UmVnaXN0cnkuSGFzKFwiZGF0ZVwiKSB8fCBGb3JtYXRSZWdpc3RyeS5TZXQoXCJkYXRlXCIsICh2YWx1ZSkgPT4ge1xuICBjb25zdCB0ZW1wID0gcGFyc2VEYXRlVGltZUVtcHR5U3BhY2UodmFsdWUpLnJlcGxhY2UoL1wiL2csIFwiXCIpO1xuICBpZiAoaXNJU084NjAxLnRlc3QodGVtcCkgfHwgaXNGb3JtYWxEYXRlLnRlc3QodGVtcCkgfHwgaXNTaG9ydGVuRGF0ZS50ZXN0KHRlbXApIHx8IF92YWxpZGF0ZURhdGUodGVtcCkpIHtcbiAgICBjb25zdCBkYXRlMiA9IG5ldyBEYXRlKHRlbXApO1xuICAgIGlmICghTnVtYmVyLmlzTmFOKGRhdGUyLmdldFRpbWUoKSkpIHJldHVybiAhMDtcbiAgfVxuICByZXR1cm4gITE7XG59KSwgRm9ybWF0UmVnaXN0cnkuSGFzKFwiZGF0ZS10aW1lXCIpIHx8IEZvcm1hdFJlZ2lzdHJ5LlNldChcImRhdGUtdGltZVwiLCAodmFsdWUpID0+IHtcbiAgY29uc3QgdGVtcCA9IHZhbHVlLnJlcGxhY2UoL1wiL2csIFwiXCIpO1xuICBpZiAoaXNJU084NjAxLnRlc3QodGVtcCkgfHwgaXNGb3JtYWxEYXRlLnRlc3QodGVtcCkgfHwgaXNTaG9ydGVuRGF0ZS50ZXN0KHRlbXApIHx8IF92YWxpZGF0ZURhdGVUaW1lKHRlbXApKSB7XG4gICAgY29uc3QgZGF0ZTIgPSBuZXcgRGF0ZSh0ZW1wKTtcbiAgICBpZiAoIU51bWJlci5pc05hTihkYXRlMi5nZXRUaW1lKCkpKSByZXR1cm4gITA7XG4gIH1cbiAgcmV0dXJuICExO1xufSksIE9iamVjdC5lbnRyaWVzKGZ1bGxGb3JtYXRzKS5mb3JFYWNoKChmb3JtYXRFbnRyeSkgPT4ge1xuICBjb25zdCBbZm9ybWF0TmFtZSwgZm9ybWF0VmFsdWVdID0gZm9ybWF0RW50cnk7XG4gIEZvcm1hdFJlZ2lzdHJ5Lkhhcyhmb3JtYXROYW1lKSB8fCAoZm9ybWF0VmFsdWUgaW5zdGFuY2VvZiBSZWdFeHAgPyBGb3JtYXRSZWdpc3RyeS5TZXQoZm9ybWF0TmFtZSwgKHZhbHVlKSA9PiBmb3JtYXRWYWx1ZS50ZXN0KHZhbHVlKSkgOiB0eXBlb2YgZm9ybWF0VmFsdWUgPT0gXCJmdW5jdGlvblwiICYmIEZvcm1hdFJlZ2lzdHJ5LlNldChmb3JtYXROYW1lLCBmb3JtYXRWYWx1ZSkpO1xufSksIEZvcm1hdFJlZ2lzdHJ5LkhhcyhcIm51bWVyaWNcIikgfHwgRm9ybWF0UmVnaXN0cnkuU2V0KFwibnVtZXJpY1wiLCAodmFsdWUpID0+ICEhdmFsdWUgJiYgIWlzTmFOKCt2YWx1ZSkpLCBGb3JtYXRSZWdpc3RyeS5IYXMoXCJpbnRlZ2VyXCIpIHx8IEZvcm1hdFJlZ2lzdHJ5LlNldChcbiAgXCJpbnRlZ2VyXCIsXG4gICh2YWx1ZSkgPT4gISF2YWx1ZSAmJiBOdW1iZXIuaXNJbnRlZ2VyKCt2YWx1ZSlcbiksIEZvcm1hdFJlZ2lzdHJ5LkhhcyhcImJvb2xlYW5cIikgfHwgRm9ybWF0UmVnaXN0cnkuU2V0KFxuICBcImJvb2xlYW5cIixcbiAgKHZhbHVlKSA9PiB2YWx1ZSA9PT0gXCJ0cnVlXCIgfHwgdmFsdWUgPT09IFwiZmFsc2VcIlxuKSwgRm9ybWF0UmVnaXN0cnkuSGFzKFwiT2JqZWN0U3RyaW5nXCIpIHx8IEZvcm1hdFJlZ2lzdHJ5LlNldChcIk9iamVjdFN0cmluZ1wiLCAodmFsdWUpID0+IHtcbiAgbGV0IHN0YXJ0ID0gdmFsdWUuY2hhckNvZGVBdCgwKTtcbiAgaWYgKChzdGFydCA9PT0gOSB8fCBzdGFydCA9PT0gMTAgfHwgc3RhcnQgPT09IDMyKSAmJiAoc3RhcnQgPSB2YWx1ZS50cmltU3RhcnQoKS5jaGFyQ29kZUF0KDApKSwgc3RhcnQgIT09IDEyMyAmJiBzdGFydCAhPT0gOTEpIHJldHVybiAhMTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSksICEwO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbn0pLCBGb3JtYXRSZWdpc3RyeS5IYXMoXCJBcnJheVN0cmluZ1wiKSB8fCBGb3JtYXRSZWdpc3RyeS5TZXQoXCJBcnJheVN0cmluZ1wiLCAodmFsdWUpID0+IHtcbiAgbGV0IHN0YXJ0ID0gdmFsdWUuY2hhckNvZGVBdCgwKTtcbiAgaWYgKChzdGFydCA9PT0gOSB8fCBzdGFydCA9PT0gMTAgfHwgc3RhcnQgPT09IDMyKSAmJiAoc3RhcnQgPSB2YWx1ZS50cmltU3RhcnQoKS5jaGFyQ29kZUF0KDApKSwgc3RhcnQgIT09IDEyMyAmJiBzdGFydCAhPT0gOTEpIHJldHVybiAhMTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSksICEwO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbn0pO1xuZXhwb3J0IHtcbiAgZnVsbEZvcm1hdHMsXG4gIHBhcnNlRGF0ZVRpbWVFbXB0eVNwYWNlXG59O1xuIiwKICAgICJpbXBvcnQgeyBUeXBlLCBLaW5kIH0gZnJvbSBcIkBzaW5jbGFpci90eXBlYm94XCI7XG5pbXBvcnQge1xuICBjb21waWxlLFxuICBjcmVhdGVUeXBlLFxuICBsb2FkRmlsZVR5cGUsXG4gIHRyeVBhcnNlLFxuICB2YWxpZGF0ZUZpbGVcbn0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5pbXBvcnQgeyBFTFlTSUFfRk9STV9EQVRBLCBmb3JtIH0gZnJvbSBcIi4uL3V0aWxzLm1qc1wiO1xuaW1wb3J0IHsgVmFsaWRhdGlvbkVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VEYXRlVGltZUVtcHR5U3BhY2UgfSBmcm9tIFwiLi9mb3JtYXQubWpzXCI7XG5jb25zdCB0ID0gT2JqZWN0LmFzc2lnbih7fSwgVHlwZSk7XG5jcmVhdGVUeXBlKFxuICBcIlVuaW9uRW51bVwiLFxuICAoc2NoZW1hLCB2YWx1ZSkgPT4gKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiIHx8IHZhbHVlID09PSBudWxsKSAmJiBzY2hlbWEuZW51bS5pbmNsdWRlcyh2YWx1ZSlcbiksIGNyZWF0ZVR5cGUoXG4gIFwiQXJyYXlCdWZmZXJcIixcbiAgKHNjaGVtYSwgdmFsdWUpID0+IHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJcbik7XG5jb25zdCBpbnRlcm5hbEZpbGVzID0gY3JlYXRlVHlwZShcbiAgXCJGaWxlc1wiLFxuICAob3B0aW9ucywgdmFsdWUpID0+IHtcbiAgICBpZiAob3B0aW9ucy5taW5JdGVtcyAmJiBvcHRpb25zLm1pbkl0ZW1zID4gMSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpXG4gICAgICByZXR1cm4gITE7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkgcmV0dXJuIHZhbGlkYXRlRmlsZShvcHRpb25zLCB2YWx1ZSk7XG4gICAgaWYgKG9wdGlvbnMubWluSXRlbXMgJiYgdmFsdWUubGVuZ3RoIDwgb3B0aW9ucy5taW5JdGVtcyB8fCBvcHRpb25zLm1heEl0ZW1zICYmIHZhbHVlLmxlbmd0aCA+IG9wdGlvbnMubWF4SXRlbXMpIHJldHVybiAhMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKCF2YWxpZGF0ZUZpbGUob3B0aW9ucywgdmFsdWVbaV0pKSByZXR1cm4gITE7XG4gICAgcmV0dXJuICEwO1xuICB9XG4pLCBpbnRlcm5hbEZvcm1EYXRhID0gY3JlYXRlVHlwZShcbiAgXCJFbHlzaWFGb3JtXCIsXG4gICh7IGNvbXBpbGVyLCAuLi5zY2hlbWEgfSwgdmFsdWUpID0+IHtcbiAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIEZvcm1EYXRhKSkgcmV0dXJuICExO1xuICAgIGlmIChjb21waWxlcikge1xuICAgICAgaWYgKCEoRUxZU0lBX0ZPUk1fREFUQSBpbiB2YWx1ZSkpXG4gICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXCJwcm9wZXJ0eVwiLCBzY2hlbWEsIHZhbHVlKTtcbiAgICAgIGlmICghY29tcGlsZXIuQ2hlY2sodmFsdWVbRUxZU0lBX0ZPUk1fREFUQV0pKVxuICAgICAgICB0aHJvdyBjb21waWxlci5FcnJvcih2YWx1ZVtFTFlTSUFfRk9STV9EQVRBXSk7XG4gICAgfVxuICAgIHJldHVybiAhMDtcbiAgfVxuKSwgRWx5c2lhVHlwZSA9IHtcbiAgLy8gQHRzLWlnbm9yZVxuICBTdHJpbmc6IChwcm9wZXJ0eSkgPT4gVHlwZS5TdHJpbmcocHJvcGVydHkpLFxuICBOdW1lcmljOiAocHJvcGVydHkpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBUeXBlLk51bWJlcihwcm9wZXJ0eSksIGNvbXBpbGVyID0gY29tcGlsZShzY2hlbWEpO1xuICAgIHJldHVybiB0LlRyYW5zZm9ybShcbiAgICAgIHQuVW5pb24oXG4gICAgICAgIFtcbiAgICAgICAgICB0LlN0cmluZyh7XG4gICAgICAgICAgICBmb3JtYXQ6IFwibnVtZXJpY1wiLFxuICAgICAgICAgICAgZGVmYXVsdDogMFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHQuTnVtYmVyKHByb3BlcnR5KVxuICAgICAgICBdLFxuICAgICAgICBwcm9wZXJ0eVxuICAgICAgKVxuICAgICkuRGVjb2RlKCh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgbnVtYmVyID0gK3ZhbHVlO1xuICAgICAgaWYgKGlzTmFOKG51bWJlcikpIHJldHVybiB2YWx1ZTtcbiAgICAgIGlmIChwcm9wZXJ0eSAmJiAhY29tcGlsZXIuQ2hlY2sobnVtYmVyKSlcbiAgICAgICAgdGhyb3cgY29tcGlsZXIuRXJyb3IobnVtYmVyKTtcbiAgICAgIHJldHVybiBudW1iZXI7XG4gICAgfSkuRW5jb2RlKCh2YWx1ZSkgPT4gdmFsdWUpO1xuICB9LFxuICBJbnRlZ2VyOiAocHJvcGVydHkpID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSBUeXBlLkludGVnZXIocHJvcGVydHkpLCBjb21waWxlciA9IGNvbXBpbGUoc2NoZW1hKTtcbiAgICByZXR1cm4gdC5UcmFuc2Zvcm0oXG4gICAgICB0LlVuaW9uKFxuICAgICAgICBbXG4gICAgICAgICAgdC5TdHJpbmcoe1xuICAgICAgICAgICAgZm9ybWF0OiBcImludGVnZXJcIixcbiAgICAgICAgICAgIGRlZmF1bHQ6IDBcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBUeXBlLkludGVnZXIocHJvcGVydHkpXG4gICAgICAgIF0sXG4gICAgICAgIHByb3BlcnR5XG4gICAgICApXG4gICAgKS5EZWNvZGUoKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCBudW1iZXIgPSArdmFsdWU7XG4gICAgICBpZiAoIWNvbXBpbGVyLkNoZWNrKG51bWJlcikpIHRocm93IGNvbXBpbGVyLkVycm9yKG51bWJlcik7XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH0pLkVuY29kZSgodmFsdWUpID0+IHZhbHVlKTtcbiAgfSxcbiAgRGF0ZTogKHByb3BlcnR5KSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gVHlwZS5EYXRlKHByb3BlcnR5KSwgY29tcGlsZXIgPSBjb21waWxlKHNjaGVtYSksIF9kZWZhdWx0ID0gcHJvcGVydHk/LmRlZmF1bHQgPyBuZXcgRGF0ZShwcm9wZXJ0eS5kZWZhdWx0KSA6IHZvaWQgMDtcbiAgICByZXR1cm4gdC5UcmFuc2Zvcm0oXG4gICAgICB0LlVuaW9uKFxuICAgICAgICBbXG4gICAgICAgICAgVHlwZS5EYXRlKHByb3BlcnR5KSxcbiAgICAgICAgICB0LlN0cmluZyh7XG4gICAgICAgICAgICBmb3JtYXQ6IFwiZGF0ZS10aW1lXCIsXG4gICAgICAgICAgICBkZWZhdWx0OiBfZGVmYXVsdD8udG9JU09TdHJpbmcoKVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHQuU3RyaW5nKHtcbiAgICAgICAgICAgIGZvcm1hdDogXCJkYXRlXCIsXG4gICAgICAgICAgICBkZWZhdWx0OiBfZGVmYXVsdD8udG9JU09TdHJpbmcoKVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHQuTnVtYmVyKHsgZGVmYXVsdDogX2RlZmF1bHQ/LmdldFRpbWUoKSB9KVxuICAgICAgICBdLFxuICAgICAgICBwcm9wZXJ0eVxuICAgICAgKVxuICAgICkuRGVjb2RlKCh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGNvbnN0IGRhdGUyID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgICBpZiAoIWNvbXBpbGVyLkNoZWNrKGRhdGUyKSkgdGhyb3cgY29tcGlsZXIuRXJyb3IoZGF0ZTIpO1xuICAgICAgICByZXR1cm4gZGF0ZTI7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSByZXR1cm4gdmFsdWU7XG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUocGFyc2VEYXRlVGltZUVtcHR5U3BhY2UodmFsdWUpKTtcbiAgICAgIGlmICghZGF0ZSB8fCBpc05hTihkYXRlLmdldFRpbWUoKSkpXG4gICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXCJwcm9wZXJ0eVwiLCBzY2hlbWEsIGRhdGUpO1xuICAgICAgaWYgKCFjb21waWxlci5DaGVjayhkYXRlKSkgdGhyb3cgY29tcGlsZXIuRXJyb3IoZGF0ZSk7XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgICB9KS5FbmNvZGUoKHZhbHVlKSA9PiB7XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSByZXR1cm4gdmFsdWUudG9JU09TdHJpbmcoKTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoaXNOYU4oXG4gICAgICAgICAgbmV3IERhdGUocGFyc2VEYXRlVGltZUVtcHR5U3BhY2UodmFsdWUpKS5nZXRUaW1lKClcbiAgICAgICAgKSlcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFwicHJvcGVydHlcIiwgc2NoZW1hLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghY29tcGlsZXIuQ2hlY2sodmFsdWUpKSB0aHJvdyBjb21waWxlci5FcnJvcih2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gIH0sXG4gIEJvb2xlYW5TdHJpbmc6IChwcm9wZXJ0eSkgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IFR5cGUuQm9vbGVhbihwcm9wZXJ0eSksIGNvbXBpbGVyID0gY29tcGlsZShzY2hlbWEpO1xuICAgIHJldHVybiB0LlRyYW5zZm9ybShcbiAgICAgIHQuVW5pb24oXG4gICAgICAgIFtcbiAgICAgICAgICB0LkJvb2xlYW4ocHJvcGVydHkpLFxuICAgICAgICAgIHQuU3RyaW5nKHtcbiAgICAgICAgICAgIGZvcm1hdDogXCJib29sZWFuXCIsXG4gICAgICAgICAgICBkZWZhdWx0OiAhMVxuICAgICAgICAgIH0pXG4gICAgICAgIF0sXG4gICAgICAgIHByb3BlcnR5XG4gICAgICApXG4gICAgKS5EZWNvZGUoKHZhbHVlKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHJldHVybiB2YWx1ZSA9PT0gXCJ0cnVlXCI7XG4gICAgICBpZiAodmFsdWUgIT09IHZvaWQgMCAmJiAhY29tcGlsZXIuQ2hlY2sodmFsdWUpKVxuICAgICAgICB0aHJvdyBjb21waWxlci5FcnJvcih2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSkuRW5jb2RlKCh2YWx1ZSkgPT4gdmFsdWUpO1xuICB9LFxuICBPYmplY3RTdHJpbmc6IChwcm9wZXJ0aWVzLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gdC5PYmplY3QocHJvcGVydGllcywgb3B0aW9ucyksIGNvbXBpbGVyID0gY29tcGlsZShzY2hlbWEpO1xuICAgIHJldHVybiB0LlRyYW5zZm9ybShcbiAgICAgIHQuVW5pb24oXG4gICAgICAgIFtcbiAgICAgICAgICB0LlN0cmluZyh7XG4gICAgICAgICAgICBmb3JtYXQ6IFwiT2JqZWN0U3RyaW5nXCIsXG4gICAgICAgICAgICBkZWZhdWx0OiBcInt9XCJcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBzY2hlbWFcbiAgICAgICAgXSxcbiAgICAgICAge1xuICAgICAgICAgIGVseXNpYU1ldGE6IFwiT2JqZWN0U3RyaW5nXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgICkuRGVjb2RlKCh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmICh2YWx1ZS5jaGFyQ29kZUF0KDApICE9PSAxMjMpXG4gICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcInByb3BlcnR5XCIsIHNjaGVtYSwgdmFsdWUpO1xuICAgICAgICBpZiAoIWNvbXBpbGVyLkNoZWNrKHZhbHVlID0gdHJ5UGFyc2UodmFsdWUsIHNjaGVtYSkpKVxuICAgICAgICAgIHRocm93IGNvbXBpbGVyLkVycm9yKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGNvbXBpbGVyLkRlY29kZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSkuRW5jb2RlKCh2YWx1ZSkgPT4ge1xuICAgICAgbGV0IG9yaWdpbmFsO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiICYmICh2YWx1ZSA9IHRyeVBhcnNlKG9yaWdpbmFsID0gdmFsdWUsIHNjaGVtYSkpLCAhY29tcGlsZXIuQ2hlY2sodmFsdWUpKSB0aHJvdyBjb21waWxlci5FcnJvcih2YWx1ZSk7XG4gICAgICByZXR1cm4gb3JpZ2luYWwgPz8gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgIH0pO1xuICB9LFxuICBBcnJheVN0cmluZzogKGNoaWxkcmVuID0gdC5TdHJpbmcoKSwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHNjaGVtYSA9IHQuQXJyYXkoY2hpbGRyZW4sIG9wdGlvbnMpLCBjb21waWxlciA9IGNvbXBpbGUoc2NoZW1hKSwgZGVjb2RlID0gKHZhbHVlLCBpc1Byb3BlcnR5ID0gITEpID0+IHtcbiAgICAgIGlmICh2YWx1ZS5jaGFyQ29kZUF0KDApID09PSA5MSkge1xuICAgICAgICBpZiAoIWNvbXBpbGVyLkNoZWNrKHZhbHVlID0gdHJ5UGFyc2UodmFsdWUsIHNjaGVtYSkpKVxuICAgICAgICAgIHRocm93IGNvbXBpbGVyLkVycm9yKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGNvbXBpbGVyLkRlY29kZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNQcm9wZXJ0eSkgcmV0dXJuIHZhbHVlO1xuICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcInByb3BlcnR5XCIsIHNjaGVtYSwgdmFsdWUpO1xuICAgIH07XG4gICAgcmV0dXJuIHQuVHJhbnNmb3JtKFxuICAgICAgdC5VbmlvbihbXG4gICAgICAgIHQuU3RyaW5nKHtcbiAgICAgICAgICBmb3JtYXQ6IFwiQXJyYXlTdHJpbmdcIixcbiAgICAgICAgICBkZWZhdWx0OiBvcHRpb25zPy5kZWZhdWx0XG4gICAgICAgIH0pLFxuICAgICAgICBzY2hlbWFcbiAgICAgIF0pXG4gICAgKS5EZWNvZGUoKHZhbHVlKSA9PiB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgbGV0IHZhbHVlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgdiA9IHZhbHVlW2ldO1xuICAgICAgICAgIGlmICh0eXBlb2YgdiA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjb25zdCB0MiA9IGRlY29kZSh2LCAhMCk7XG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KHQyKSA/IHZhbHVlcyA9IHZhbHVlcy5jb25jYXQodDIpIDogdmFsdWVzLnB1c2godDIpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbHVlcy5wdXNoKHYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIgPyBkZWNvZGUodmFsdWUpIDogdmFsdWU7XG4gICAgfSkuRW5jb2RlKCh2YWx1ZSkgPT4ge1xuICAgICAgbGV0IG9yaWdpbmFsO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiICYmICh2YWx1ZSA9IHRyeVBhcnNlKG9yaWdpbmFsID0gdmFsdWUsIHNjaGVtYSkpLCAhY29tcGlsZXIuQ2hlY2sodmFsdWUpKVxuICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFwicHJvcGVydHlcIiwgc2NoZW1hLCB2YWx1ZSk7XG4gICAgICByZXR1cm4gb3JpZ2luYWwgPz8gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgIH0pO1xuICB9LFxuICBBcnJheVF1ZXJ5OiAoY2hpbGRyZW4gPSB0LlN0cmluZygpLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gdC5BcnJheShjaGlsZHJlbiwgb3B0aW9ucyksIGNvbXBpbGVyID0gY29tcGlsZShzY2hlbWEpLCBkZWNvZGUgPSAodmFsdWUpID0+IHZhbHVlLmluZGV4T2YoXCIsXCIpICE9PSAtMSA/IGNvbXBpbGVyLkRlY29kZSh2YWx1ZS5zcGxpdChcIixcIikpIDogW3ZhbHVlXTtcbiAgICByZXR1cm4gdC5UcmFuc2Zvcm0oXG4gICAgICB0LlVuaW9uKFxuICAgICAgICBbXG4gICAgICAgICAgdC5TdHJpbmcoe1xuICAgICAgICAgICAgZGVmYXVsdDogb3B0aW9ucz8uZGVmYXVsdFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHNjaGVtYVxuICAgICAgICBdLFxuICAgICAgICB7XG4gICAgICAgICAgZWx5c2lhTWV0YTogXCJBcnJheVF1ZXJ5XCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgICkuRGVjb2RlKCh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGxldCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHYgPSB2YWx1ZVtpXTtcbiAgICAgICAgICBpZiAodHlwZW9mIHYgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY29uc3QgdDIgPSBkZWNvZGUodik7XG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KHQyKSA/IHZhbHVlcyA9IHZhbHVlcy5jb25jYXQodDIpIDogdmFsdWVzLnB1c2godDIpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbHVlcy5wdXNoKHYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIgPyBkZWNvZGUodmFsdWUpIDogdmFsdWU7XG4gICAgfSkuRW5jb2RlKCh2YWx1ZSkgPT4ge1xuICAgICAgbGV0IG9yaWdpbmFsO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiICYmICh2YWx1ZSA9IHRyeVBhcnNlKG9yaWdpbmFsID0gdmFsdWUsIHNjaGVtYSkpLCAhY29tcGlsZXIuQ2hlY2sodmFsdWUpKVxuICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFwicHJvcGVydHlcIiwgc2NoZW1hLCB2YWx1ZSk7XG4gICAgICByZXR1cm4gb3JpZ2luYWwgPz8gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgIH0pO1xuICB9LFxuICBGaWxlOiBjcmVhdGVUeXBlKFxuICAgIFwiRmlsZVwiLFxuICAgIHZhbGlkYXRlRmlsZVxuICApLFxuICBGaWxlczogKG9wdGlvbnMgPSB7fSkgPT4gdC5UcmFuc2Zvcm0oaW50ZXJuYWxGaWxlcyhvcHRpb25zKSkuRGVjb2RlKCh2YWx1ZSkgPT4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV0pLkVuY29kZSgodmFsdWUpID0+IHZhbHVlKSxcbiAgTnVsbGFibGU6IChzY2hlbWEsIG9wdGlvbnMpID0+IHQuVW5pb24oW3NjaGVtYSwgdC5OdWxsKCldLCB7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBudWxsYWJsZTogITBcbiAgfSksXG4gIC8qKlxuICAgKiBBbGxvdyBPcHRpb25hbCwgTnVsbGFibGUgYW5kIFVuZGVmaW5lZFxuICAgKi9cbiAgTWF5YmVFbXB0eTogKHNjaGVtYSwgb3B0aW9ucykgPT4gdC5Vbmlvbihbc2NoZW1hLCB0Lk51bGwoKSwgdC5VbmRlZmluZWQoKV0sIG9wdGlvbnMpLFxuICBDb29raWU6IChwcm9wZXJ0aWVzLCB7XG4gICAgZG9tYWluLFxuICAgIGV4cGlyZXMsXG4gICAgaHR0cE9ubHksXG4gICAgbWF4QWdlLFxuICAgIHBhdGgsXG4gICAgcHJpb3JpdHksXG4gICAgc2FtZVNpdGUsXG4gICAgc2VjdXJlLFxuICAgIHNlY3JldHMsXG4gICAgc2lnbixcbiAgICAuLi5vcHRpb25zXG4gIH0gPSB7fSkgPT4ge1xuICAgIGNvbnN0IHYgPSB0Lk9iamVjdChwcm9wZXJ0aWVzLCBvcHRpb25zKTtcbiAgICByZXR1cm4gdi5jb25maWcgPSB7XG4gICAgICBkb21haW4sXG4gICAgICBleHBpcmVzLFxuICAgICAgaHR0cE9ubHksXG4gICAgICBtYXhBZ2UsXG4gICAgICBwYXRoLFxuICAgICAgcHJpb3JpdHksXG4gICAgICBzYW1lU2l0ZSxcbiAgICAgIHNlY3VyZSxcbiAgICAgIHNlY3JldHMsXG4gICAgICBzaWduXG4gICAgfSwgdjtcbiAgfSxcbiAgVW5pb25FbnVtOiAodmFsdWVzLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCB0eXBlID0gdmFsdWVzLmV2ZXJ5KCh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpID8geyB0eXBlOiBcInN0cmluZ1wiIH0gOiB2YWx1ZXMuZXZlcnkoKHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikgPyB7IHR5cGU6IFwibnVtYmVyXCIgfSA6IHZhbHVlcy5ldmVyeSgodmFsdWUpID0+IHZhbHVlID09PSBudWxsKSA/IHsgdHlwZTogXCJudWxsXCIgfSA6IHt9O1xuICAgIGlmICh2YWx1ZXMuc29tZSgoeCkgPT4gdHlwZW9mIHggPT0gXCJvYmplY3RcIiAmJiB4ICE9PSBudWxsKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgdHlwZSBkb2VzIG5vdCBzdXBwb3J0IG9iamVjdHMgb3IgYXJyYXlzXCIpO1xuICAgIHJldHVybiB7XG4gICAgICAvLyBkZWZhdWx0IGlzIG5lZWQgZm9yIGdlbmVyYXRpbmcgZXJyb3IgbWVzc2FnZVxuICAgICAgZGVmYXVsdDogdmFsdWVzWzBdLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIFtLaW5kXTogXCJVbmlvbkVudW1cIixcbiAgICAgIC4uLnR5cGUsXG4gICAgICBlbnVtOiB2YWx1ZXNcbiAgICB9O1xuICB9LFxuICBOb1ZhbGlkYXRlOiAodiwgZW5hYmxlZCA9ICEwKSA9PiAodi5ub1ZhbGlkYXRlID0gZW5hYmxlZCwgdiksXG4gIEZvcm06ICh2LCBvcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCBzY2hlbWEgPSB0Lk9iamVjdCh2LCB7XG4gICAgICBkZWZhdWx0OiBmb3JtKHt9KSxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9KSwgY29tcGlsZXIgPSBjb21waWxlKHNjaGVtYSk7XG4gICAgcmV0dXJuIHQuVW5pb24oW1xuICAgICAgc2NoZW1hLFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgaW50ZXJuYWxGb3JtRGF0YSh7XG4gICAgICAgIGNvbXBpbGVyXG4gICAgICB9KVxuICAgIF0pO1xuICB9LFxuICBBcnJheUJ1ZmZlcihvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gZGVmYXVsdCBpcyBuZWVkIGZvciBnZW5lcmF0aW5nIGVycm9yIG1lc3NhZ2VcbiAgICAgIGRlZmF1bHQ6IFsxLCAyLCAzXSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBbS2luZF06IFwiQXJyYXlCdWZmZXJcIlxuICAgIH07XG4gIH0sXG4gIFVpbnQ4QXJyYXk6IChvcHRpb25zKSA9PiB7XG4gICAgY29uc3Qgc2NoZW1hID0gVHlwZS5VaW50OEFycmF5KG9wdGlvbnMpLCBjb21waWxlciA9IGNvbXBpbGUoc2NoZW1hKTtcbiAgICByZXR1cm4gdC5UcmFuc2Zvcm0odC5VbmlvbihbdC5BcnJheUJ1ZmZlcigpLCBUeXBlLlVpbnQ4QXJyYXkob3B0aW9ucyldKSkuRGVjb2RlKCh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgaWYgKCFjb21waWxlci5DaGVjayh2YWx1ZSA9IG5ldyBVaW50OEFycmF5KHZhbHVlKSkpXG4gICAgICAgICAgdGhyb3cgY29tcGlsZXIuRXJyb3IodmFsdWUpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSkuRW5jb2RlKCh2YWx1ZSkgPT4gdmFsdWUpO1xuICB9XG59O1xudC5Cb29sZWFuU3RyaW5nID0gRWx5c2lhVHlwZS5Cb29sZWFuU3RyaW5nLCB0Lk9iamVjdFN0cmluZyA9IEVseXNpYVR5cGUuT2JqZWN0U3RyaW5nLCB0LkFycmF5U3RyaW5nID0gRWx5c2lhVHlwZS5BcnJheVN0cmluZywgdC5BcnJheVF1ZXJ5ID0gRWx5c2lhVHlwZS5BcnJheVF1ZXJ5LCB0Lk51bWVyaWMgPSBFbHlzaWFUeXBlLk51bWVyaWMsIHQuSW50ZWdlciA9IEVseXNpYVR5cGUuSW50ZWdlciwgdC5GaWxlID0gKGFyZykgPT4gKGFyZz8udHlwZSAmJiBsb2FkRmlsZVR5cGUoKSwgRWx5c2lhVHlwZS5GaWxlKHtcbiAgZGVmYXVsdDogXCJGaWxlXCIsXG4gIC4uLmFyZyxcbiAgZXh0ZW5zaW9uOiBhcmc/LnR5cGUsXG4gIHR5cGU6IFwic3RyaW5nXCIsXG4gIGZvcm1hdDogXCJiaW5hcnlcIlxufSkpLCB0LkZpbGVzID0gKGFyZykgPT4gKGFyZz8udHlwZSAmJiBsb2FkRmlsZVR5cGUoKSwgRWx5c2lhVHlwZS5GaWxlcyh7XG4gIC4uLmFyZyxcbiAgZWx5c2lhTWV0YTogXCJGaWxlc1wiLFxuICBkZWZhdWx0OiBcIkZpbGVzXCIsXG4gIGV4dGVuc2lvbjogYXJnPy50eXBlLFxuICB0eXBlOiBcImFycmF5XCIsXG4gIGl0ZW1zOiB7XG4gICAgLi4uYXJnLFxuICAgIGRlZmF1bHQ6IFwiRmlsZXNcIixcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIGZvcm1hdDogXCJiaW5hcnlcIlxuICB9XG59KSksIHQuTnVsbGFibGUgPSBFbHlzaWFUeXBlLk51bGxhYmxlLCB0Lk1heWJlRW1wdHkgPSBFbHlzaWFUeXBlLk1heWJlRW1wdHksIHQuQ29va2llID0gRWx5c2lhVHlwZS5Db29raWUsIHQuRGF0ZSA9IEVseXNpYVR5cGUuRGF0ZSwgdC5VbmlvbkVudW0gPSBFbHlzaWFUeXBlLlVuaW9uRW51bSwgdC5Ob1ZhbGlkYXRlID0gRWx5c2lhVHlwZS5Ob1ZhbGlkYXRlLCB0LkZvcm0gPSBFbHlzaWFUeXBlLkZvcm0sIHQuQXJyYXlCdWZmZXIgPSBFbHlzaWFUeXBlLkFycmF5QnVmZmVyLCB0LlVpbnQ4QXJyYXkgPSBFbHlzaWFUeXBlLlVpbnQ4QXJyYXk7XG5pbXBvcnQge1xuICBUeXBlU3lzdGVtUG9saWN5LFxuICBUeXBlU3lzdGVtLFxuICBUeXBlU3lzdGVtRHVwbGljYXRlRm9ybWF0LFxuICBUeXBlU3lzdGVtRHVwbGljYXRlVHlwZUtpbmRcbn0gZnJvbSBcIkBzaW5jbGFpci90eXBlYm94L3N5c3RlbVwiO1xuaW1wb3J0IHsgVHlwZVJlZ2lzdHJ5LCBGb3JtYXRSZWdpc3RyeSB9IGZyb20gXCJAc2luY2xhaXIvdHlwZWJveFwiO1xuaW1wb3J0IHsgVHlwZUNvbXBpbGVyLCBUeXBlQ2hlY2sgfSBmcm9tIFwiQHNpbmNsYWlyL3R5cGVib3gvY29tcGlsZXJcIjtcbmV4cG9ydCB7XG4gIEVseXNpYVR5cGUsXG4gIEZvcm1hdFJlZ2lzdHJ5LFxuICBUeXBlQ2hlY2ssXG4gIFR5cGVDb21waWxlcixcbiAgVHlwZVJlZ2lzdHJ5LFxuICBUeXBlU3lzdGVtLFxuICBUeXBlU3lzdGVtRHVwbGljYXRlRm9ybWF0LFxuICBUeXBlU3lzdGVtRHVwbGljYXRlVHlwZUtpbmQsXG4gIFR5cGVTeXN0ZW1Qb2xpY3ksXG4gIHRcbn07XG4iLAogICAgImltcG9ydCB7IHBhcnNlLCBzZXJpYWxpemUgfSBmcm9tIFwiY29va2llXCI7XG5pbXBvcnQgZGVjb2RlIGZyb20gXCJmYXN0LWRlY29kZS11cmktY29tcG9uZW50XCI7XG5pbXBvcnQgeyBpc05vdEVtcHR5LCB1bnNpZ25Db29raWUgfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbmltcG9ydCB7IEludmFsaWRDb29raWVTaWduYXR1cmUgfSBmcm9tIFwiLi9lcnJvci5tanNcIjtcbmNsYXNzIENvb2tpZSB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGphciwgaW5pdGlhbCA9IHt9KSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmphciA9IGphcjtcbiAgICB0aGlzLmluaXRpYWwgPSBpbml0aWFsO1xuICB9XG4gIGdldCBjb29raWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuamFyW3RoaXMubmFtZV0gPz8gdGhpcy5pbml0aWFsO1xuICB9XG4gIHNldCBjb29raWUoamFyKSB7XG4gICAgdGhpcy5uYW1lIGluIHRoaXMuamFyIHx8ICh0aGlzLmphclt0aGlzLm5hbWVdID0gdGhpcy5pbml0aWFsKSwgdGhpcy5qYXJbdGhpcy5uYW1lXSA9IGphcjtcbiAgfVxuICBnZXQgc2V0Q29va2llKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWUgaW4gdGhpcy5qYXIgfHwgKHRoaXMuamFyW3RoaXMubmFtZV0gPSB0aGlzLmluaXRpYWwpLCB0aGlzLmphclt0aGlzLm5hbWVdO1xuICB9XG4gIHNldCBzZXRDb29raWUoamFyKSB7XG4gICAgdGhpcy5jb29raWUgPSBqYXI7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLmNvb2tpZS52YWx1ZTtcbiAgfVxuICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLnNldENvb2tpZS52YWx1ZSA9IHZhbHVlO1xuICB9XG4gIGdldCBleHBpcmVzKCkge1xuICAgIHJldHVybiB0aGlzLmNvb2tpZS5leHBpcmVzO1xuICB9XG4gIHNldCBleHBpcmVzKGV4cGlyZXMpIHtcbiAgICB0aGlzLnNldENvb2tpZS5leHBpcmVzID0gZXhwaXJlcztcbiAgfVxuICBnZXQgbWF4QWdlKCkge1xuICAgIHJldHVybiB0aGlzLmNvb2tpZS5tYXhBZ2U7XG4gIH1cbiAgc2V0IG1heEFnZShtYXhBZ2UpIHtcbiAgICB0aGlzLnNldENvb2tpZS5tYXhBZ2UgPSBtYXhBZ2U7XG4gIH1cbiAgZ2V0IGRvbWFpbigpIHtcbiAgICByZXR1cm4gdGhpcy5jb29raWUuZG9tYWluO1xuICB9XG4gIHNldCBkb21haW4oZG9tYWluKSB7XG4gICAgdGhpcy5zZXRDb29raWUuZG9tYWluID0gZG9tYWluO1xuICB9XG4gIGdldCBwYXRoKCkge1xuICAgIHJldHVybiB0aGlzLmNvb2tpZS5wYXRoO1xuICB9XG4gIHNldCBwYXRoKHBhdGgpIHtcbiAgICB0aGlzLnNldENvb2tpZS5wYXRoID0gcGF0aDtcbiAgfVxuICBnZXQgc2VjdXJlKCkge1xuICAgIHJldHVybiB0aGlzLmNvb2tpZS5zZWN1cmU7XG4gIH1cbiAgc2V0IHNlY3VyZShzZWN1cmUpIHtcbiAgICB0aGlzLnNldENvb2tpZS5zZWN1cmUgPSBzZWN1cmU7XG4gIH1cbiAgZ2V0IGh0dHBPbmx5KCkge1xuICAgIHJldHVybiB0aGlzLmNvb2tpZS5odHRwT25seTtcbiAgfVxuICBzZXQgaHR0cE9ubHkoaHR0cE9ubHkpIHtcbiAgICB0aGlzLnNldENvb2tpZS5odHRwT25seSA9IGh0dHBPbmx5O1xuICB9XG4gIGdldCBzYW1lU2l0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb29raWUuc2FtZVNpdGU7XG4gIH1cbiAgc2V0IHNhbWVTaXRlKHNhbWVTaXRlKSB7XG4gICAgdGhpcy5zZXRDb29raWUuc2FtZVNpdGUgPSBzYW1lU2l0ZTtcbiAgfVxuICBnZXQgcHJpb3JpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29va2llLnByaW9yaXR5O1xuICB9XG4gIHNldCBwcmlvcml0eShwcmlvcml0eSkge1xuICAgIHRoaXMuc2V0Q29va2llLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gIH1cbiAgZ2V0IHBhcnRpdGlvbmVkKCkge1xuICAgIHJldHVybiB0aGlzLmNvb2tpZS5wYXJ0aXRpb25lZDtcbiAgfVxuICBzZXQgcGFydGl0aW9uZWQocGFydGl0aW9uZWQpIHtcbiAgICB0aGlzLnNldENvb2tpZS5wYXJ0aXRpb25lZCA9IHBhcnRpdGlvbmVkO1xuICB9XG4gIGdldCBzZWNyZXRzKCkge1xuICAgIHJldHVybiB0aGlzLmNvb2tpZS5zZWNyZXRzO1xuICB9XG4gIHNldCBzZWNyZXRzKHNlY3JldHMpIHtcbiAgICB0aGlzLnNldENvb2tpZS5zZWNyZXRzID0gc2VjcmV0cztcbiAgfVxuICB1cGRhdGUoY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q29va2llID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHRoaXMuY29va2llLFxuICAgICAgdHlwZW9mIGNvbmZpZyA9PSBcImZ1bmN0aW9uXCIgPyBjb25maWcodGhpcy5jb29raWUpIDogY29uZmlnXG4gICAgKSwgdGhpcztcbiAgfVxuICBzZXQoY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q29va2llID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgLi4udGhpcy5pbml0aWFsLFxuICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZVxuICAgICAgfSxcbiAgICAgIHR5cGVvZiBjb25maWcgPT0gXCJmdW5jdGlvblwiID8gY29uZmlnKHRoaXMuY29va2llKSA6IGNvbmZpZ1xuICAgICksIHRoaXM7XG4gIH1cbiAgcmVtb3ZlKCkge1xuICAgIGlmICh0aGlzLnZhbHVlICE9PSB2b2lkIDApXG4gICAgICByZXR1cm4gdGhpcy5zZXQoe1xuICAgICAgICBleHBpcmVzOiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoMCksXG4gICAgICAgIG1heEFnZTogMCxcbiAgICAgICAgdmFsdWU6IFwiXCJcbiAgICAgIH0pLCB0aGlzO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy52YWx1ZSA9PSBcIm9iamVjdFwiID8gSlNPTi5zdHJpbmdpZnkodGhpcy52YWx1ZSkgOiB0aGlzLnZhbHVlPy50b1N0cmluZygpID8/IFwiXCI7XG4gIH1cbn1cbmNvbnN0IGNyZWF0ZUNvb2tpZUphciA9IChzZXQsIHN0b3JlLCBpbml0aWFsKSA9PiAoc2V0LmNvb2tpZSB8fCAoc2V0LmNvb2tpZSA9IHt9KSwgbmV3IFByb3h5KHN0b3JlLCB7XG4gIGdldChfLCBrZXkpIHtcbiAgICByZXR1cm4ga2V5IGluIHN0b3JlID8gbmV3IENvb2tpZShcbiAgICAgIGtleSxcbiAgICAgIHNldC5jb29raWUsXG4gICAgICBPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsID8/IHt9LCBzdG9yZVtrZXldKVxuICAgICkgOiBuZXcgQ29va2llKFxuICAgICAga2V5LFxuICAgICAgc2V0LmNvb2tpZSxcbiAgICAgIE9iamVjdC5hc3NpZ24oe30sIGluaXRpYWwpXG4gICAgKTtcbiAgfVxufSkpLCBwYXJzZUNvb2tpZSA9IGFzeW5jIChzZXQsIGNvb2tpZVN0cmluZywge1xuICBzZWNyZXRzLFxuICBzaWduLFxuICAuLi5pbml0aWFsXG59ID0ge30pID0+IHtcbiAgaWYgKCFjb29raWVTdHJpbmcpIHJldHVybiBjcmVhdGVDb29raWVKYXIoc2V0LCB7fSwgaW5pdGlhbCk7XG4gIGNvbnN0IGlzU3RyaW5nS2V5ID0gdHlwZW9mIHNlY3JldHMgPT0gXCJzdHJpbmdcIjtcbiAgc2lnbiAmJiBzaWduICE9PSAhMCAmJiAhQXJyYXkuaXNBcnJheShzaWduKSAmJiAoc2lnbiA9IFtzaWduXSk7XG4gIGNvbnN0IGphciA9IHt9LCBjb29raWVzID0gcGFyc2UoY29va2llU3RyaW5nKTtcbiAgZm9yIChjb25zdCBbbmFtZSwgdl0gb2YgT2JqZWN0LmVudHJpZXMoY29va2llcykpIHtcbiAgICBpZiAodiA9PT0gdm9pZCAwKSBjb250aW51ZTtcbiAgICBsZXQgdmFsdWUgPSBkZWNvZGUodik7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBjb25zdCBzdGFydHMgPSB2YWx1ZS5jaGFyQ29kZUF0KDApLCBlbmRzID0gdmFsdWUuY2hhckNvZGVBdCh2YWx1ZS5sZW5ndGggLSAxKTtcbiAgICAgIGlmIChzdGFydHMgPT09IDEyMyAmJiBlbmRzID09PSAxMjUgfHwgc3RhcnRzID09PSA5MSAmJiBlbmRzID09PSA5MylcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YWx1ZSA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2lnbiA9PT0gITAgfHwgc2lnbj8uaW5jbHVkZXMobmFtZSkpIHtcbiAgICAgIGlmICghc2VjcmV0cylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gc2VjcmV0IGlzIHByb3ZpZGVkIHRvIGNvb2tpZSBwbHVnaW5cIik7XG4gICAgICBpZiAoaXNTdHJpbmdLZXkpIHtcbiAgICAgICAgY29uc3QgdGVtcCA9IGF3YWl0IHVuc2lnbkNvb2tpZSh2YWx1ZSwgc2VjcmV0cyk7XG4gICAgICAgIGlmICh0ZW1wID09PSAhMSkgdGhyb3cgbmV3IEludmFsaWRDb29raWVTaWduYXR1cmUobmFtZSk7XG4gICAgICAgIHZhbHVlID0gdGVtcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBkZWNvZGVkID0gITA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VjcmV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHRlbXAgPSBhd2FpdCB1bnNpZ25Db29raWUodmFsdWUsIHNlY3JldHNbaV0pO1xuICAgICAgICAgIGlmICh0ZW1wICE9PSAhMSkge1xuICAgICAgICAgICAgZGVjb2RlZCA9ICEwLCB2YWx1ZSA9IHRlbXA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWNvZGVkKSB0aHJvdyBuZXcgSW52YWxpZENvb2tpZVNpZ25hdHVyZShuYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgamFyW25hbWVdID0ge1xuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG4gIHJldHVybiBjcmVhdGVDb29raWVKYXIoc2V0LCBqYXIsIGluaXRpYWwpO1xufSwgc2VyaWFsaXplQ29va2llID0gKGNvb2tpZXMpID0+IHtcbiAgaWYgKCFjb29raWVzIHx8ICFpc05vdEVtcHR5KGNvb2tpZXMpKSByZXR1cm47XG4gIGNvbnN0IHNldCA9IFtdO1xuICBmb3IgKGNvbnN0IFtrZXksIHByb3BlcnR5XSBvZiBPYmplY3QuZW50cmllcyhjb29raWVzKSkge1xuICAgIGlmICgha2V5IHx8ICFwcm9wZXJ0eSkgY29udGludWU7XG4gICAgY29uc3QgdmFsdWUgPSBwcm9wZXJ0eS52YWx1ZTtcbiAgICB2YWx1ZSAhPSBudWxsICYmIHNldC5wdXNoKFxuICAgICAgc2VyaWFsaXplKFxuICAgICAgICBrZXksXG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogdmFsdWUgKyBcIlwiLFxuICAgICAgICBwcm9wZXJ0eVxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgaWYgKHNldC5sZW5ndGggIT09IDApXG4gICAgcmV0dXJuIHNldC5sZW5ndGggPT09IDEgPyBzZXRbMF0gOiBzZXQ7XG59O1xuZXhwb3J0IHtcbiAgQ29va2llLFxuICBjcmVhdGVDb29raWVKYXIsXG4gIHBhcnNlQ29va2llLFxuICBzZXJpYWxpemVDb29raWVcbn07XG4iLAogICAgImltcG9ydCB7IHNlcmlhbGl6ZUNvb2tpZSB9IGZyb20gXCIuLi9jb29raWVzLm1qc1wiO1xuaW1wb3J0IHsgaGFzSGVhZGVyU2hvcnRoYW5kLCBpc05vdEVtcHR5LCBTdGF0dXNNYXAgfSBmcm9tIFwiLi4vdXRpbHMubWpzXCI7XG5pbXBvcnQgeyBpc0J1biB9IGZyb20gXCIuLi91bml2ZXJzYWwvdXRpbHMubWpzXCI7XG5jb25zdCBoYW5kbGVGaWxlID0gKHJlc3BvbnNlLCBzZXQpID0+IHtcbiAgaWYgKCFpc0J1biAmJiByZXNwb25zZSBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKHJlcykgPT4gaGFuZGxlRmlsZShyZXMsIHNldCkpO1xuICBjb25zdCBzaXplID0gcmVzcG9uc2Uuc2l6ZSwgaW1tdXRhYmxlID0gc2V0ICYmIChzZXQuc3RhdHVzID09PSAyMDYgfHwgc2V0LnN0YXR1cyA9PT0gMzA0IHx8IHNldC5zdGF0dXMgPT09IDQxMiB8fCBzZXQuc3RhdHVzID09PSA0MTYpLCBkZWZhdWx0SGVhZGVyID0gaW1tdXRhYmxlID8ge1xuICAgIFwidHJhbnNmZXItZW5jb2RpbmdcIjogXCJjaHVua2VkXCJcbiAgfSA6IHtcbiAgICBcImFjY2VwdC1yYW5nZXNcIjogXCJieXRlc1wiLFxuICAgIFwiY29udGVudC1yYW5nZVwiOiBzaXplID8gYGJ5dGVzIDAtJHtzaXplIC0gMX0vJHtzaXplfWAgOiB2b2lkIDAsXG4gICAgXCJ0cmFuc2Zlci1lbmNvZGluZ1wiOiBcImNodW5rZWRcIlxuICB9O1xuICBpZiAoIXNldCAmJiAhc2l6ZSkgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZSk7XG4gIGlmICghc2V0KVxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2UsIHtcbiAgICAgIGhlYWRlcnM6IGRlZmF1bHRIZWFkZXJcbiAgICB9KTtcbiAgaWYgKHNldC5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGRlZmF1bHRIZWFkZXIpKVxuICAgICAga2V5IGluIHNldC5oZWFkZXJzICYmIHNldC5oZWFkZXJzLmFwcGVuZChrZXksIGRlZmF1bHRIZWFkZXJba2V5XSk7XG4gICAgcmV0dXJuIGltbXV0YWJsZSAmJiAoc2V0LmhlYWRlcnMuZGVsZXRlKFwiY29udGVudC1sZW5ndGhcIiksIHNldC5oZWFkZXJzLmRlbGV0ZShcImFjY2VwdC1yYW5nZXNcIikpLCBuZXcgUmVzcG9uc2UocmVzcG9uc2UsIHNldCk7XG4gIH1cbiAgcmV0dXJuIGlzTm90RW1wdHkoc2V0LmhlYWRlcnMpID8gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLCB7XG4gICAgc3RhdHVzOiBzZXQuc3RhdHVzLFxuICAgIGhlYWRlcnM6IE9iamVjdC5hc3NpZ24oZGVmYXVsdEhlYWRlciwgc2V0LmhlYWRlcnMpXG4gIH0pIDogbmV3IFJlc3BvbnNlKHJlc3BvbnNlLCB7XG4gICAgc3RhdHVzOiBzZXQuc3RhdHVzLFxuICAgIGhlYWRlcnM6IGRlZmF1bHRIZWFkZXJcbiAgfSk7XG59LCBwYXJzZVNldENvb2tpZXMgPSAoaGVhZGVycywgc2V0Q29va2llKSA9PiB7XG4gIGlmICghaGVhZGVycykgcmV0dXJuIGhlYWRlcnM7XG4gIGhlYWRlcnMuZGVsZXRlKFwic2V0LWNvb2tpZVwiKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXRDb29raWUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBpbmRleCA9IHNldENvb2tpZVtpXS5pbmRleE9mKFwiPVwiKTtcbiAgICBoZWFkZXJzLmFwcGVuZChcbiAgICAgIFwic2V0LWNvb2tpZVwiLFxuICAgICAgYCR7c2V0Q29va2llW2ldLnNsaWNlKDAsIGluZGV4KX09JHtzZXRDb29raWVbaV0uc2xpY2UoaW5kZXggKyAxKSB8fCBcIlwifWBcbiAgICApO1xuICB9XG4gIHJldHVybiBoZWFkZXJzO1xufSwgcmVzcG9uc2VUb1NldEhlYWRlcnMgPSAocmVzcG9uc2UsIHNldCkgPT4ge1xuICBpZiAoc2V0Py5oZWFkZXJzKSB7XG4gICAgaWYgKHJlc3BvbnNlKVxuICAgICAgaWYgKGhhc0hlYWRlclNob3J0aGFuZClcbiAgICAgICAgT2JqZWN0LmFzc2lnbihzZXQuaGVhZGVycywgcmVzcG9uc2UuaGVhZGVycy50b0pTT04oKSk7XG4gICAgICBlbHNlXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHJlc3BvbnNlLmhlYWRlcnMuZW50cmllcygpKVxuICAgICAgICAgIGtleSBpbiBzZXQuaGVhZGVycyAmJiAoc2V0LmhlYWRlcnNba2V5XSA9IHZhbHVlKTtcbiAgICByZXR1cm4gc2V0LnN0YXR1cyA9PT0gMjAwICYmIChzZXQuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzKSwgc2V0LmhlYWRlcnNbXCJjb250ZW50LWVuY29kaW5nXCJdICYmIGRlbGV0ZSBzZXQuaGVhZGVyc1tcImNvbnRlbnQtZW5jb2RpbmdcIl0sIHNldDtcbiAgfVxuICBpZiAoIXJlc3BvbnNlKVxuICAgIHJldHVybiB7XG4gICAgICBoZWFkZXJzOiB7fSxcbiAgICAgIHN0YXR1czogc2V0Py5zdGF0dXMgPz8gMjAwXG4gICAgfTtcbiAgaWYgKGhhc0hlYWRlclNob3J0aGFuZClcbiAgICByZXR1cm4gc2V0ID0ge1xuICAgICAgaGVhZGVyczogcmVzcG9uc2UuaGVhZGVycy50b0pTT04oKSxcbiAgICAgIHN0YXR1czogc2V0Py5zdGF0dXMgPz8gMjAwXG4gICAgfSwgc2V0LmhlYWRlcnNbXCJjb250ZW50LWVuY29kaW5nXCJdICYmIGRlbGV0ZSBzZXQuaGVhZGVyc1tcImNvbnRlbnQtZW5jb2RpbmdcIl0sIHNldDtcbiAgc2V0ID0ge1xuICAgIGhlYWRlcnM6IHt9LFxuICAgIHN0YXR1czogc2V0Py5zdGF0dXMgPz8gMjAwXG4gIH07XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHJlc3BvbnNlLmhlYWRlcnMuZW50cmllcygpKVxuICAgIGtleSAhPT0gXCJjb250ZW50LWVuY29kaW5nXCIgJiYga2V5IGluIHNldC5oZWFkZXJzICYmIChzZXQuaGVhZGVyc1trZXldID0gdmFsdWUpO1xuICByZXR1cm4gc2V0O1xufSwgY3JlYXRlU3RyZWFtSGFuZGxlciA9ICh7IG1hcFJlc3BvbnNlLCBtYXBDb21wYWN0UmVzcG9uc2UgfSkgPT4gYXN5bmMgKGdlbmVyYXRvciwgc2V0LCByZXF1ZXN0KSA9PiB7XG4gIGxldCBpbml0ID0gZ2VuZXJhdG9yLm5leHQ/LigpO1xuICBpZiAoc2V0ICYmIGhhbmRsZVNldChzZXQpLCBpbml0IGluc3RhbmNlb2YgUHJvbWlzZSAmJiAoaW5pdCA9IGF3YWl0IGluaXQpLCBpbml0Py52YWx1ZSBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtKVxuICAgIGdlbmVyYXRvciA9IGluaXQudmFsdWU7XG4gIGVsc2UgaWYgKGluaXQgJiYgKHR5cGVvZiBpbml0Py5kb25lID4gXCJ1XCIgfHwgaW5pdD8uZG9uZSkpXG4gICAgcmV0dXJuIHNldCA/IG1hcFJlc3BvbnNlKGluaXQudmFsdWUsIHNldCwgcmVxdWVzdCkgOiBtYXBDb21wYWN0UmVzcG9uc2UoaW5pdC52YWx1ZSwgcmVxdWVzdCk7XG4gIGNvbnN0IGlzU1NFID0gKFxuICAgIC8vIEB0cy1pZ25vcmUgRmlyc3QgU1NFIHJlc3VsdCBpcyB3cmFwcGVkIHdpdGggc3NlKClcbiAgICBpbml0Py52YWx1ZT8uc3NlID8/IC8vIEB0cy1pZ25vcmUgUmVhZGFibGVTdHJlYW0gaXMgd3JhcHBlZCB3aXRoIHNzZSgpXG4gICAgZ2VuZXJhdG9yPy5zc2UgPz8gLy8gVXNlciBleHBsaWNpdGx5IHNldCBjb250ZW50LXR5cGUgdG8gU1NFXG4gICAgc2V0Py5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdPy5zdGFydHNXaXRoKFwidGV4dC9ldmVudC1zdHJlYW1cIilcbiAgKSwgZm9ybWF0ID0gaXNTU0UgPyAoZGF0YSkgPT4gYGRhdGE6ICR7ZGF0YX1cblxuYCA6IChkYXRhKSA9PiBkYXRhLCBjb250ZW50VHlwZSA9IGlzU1NFID8gXCJ0ZXh0L2V2ZW50LXN0cmVhbVwiIDogaW5pdD8udmFsdWUgJiYgdHlwZW9mIGluaXQ/LnZhbHVlID09IFwib2JqZWN0XCIgPyBcImFwcGxpY2F0aW9uL2pzb25cIiA6IFwidGV4dC9wbGFpblwiO1xuICByZXR1cm4gc2V0Py5oZWFkZXJzID8gKHNldC5oZWFkZXJzW1widHJhbnNmZXItZW5jb2RpbmdcIl0gfHwgKHNldC5oZWFkZXJzW1widHJhbnNmZXItZW5jb2RpbmdcIl0gPSBcImNodW5rZWRcIiksIHNldC5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdIHx8IChzZXQuaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSA9IGNvbnRlbnRUeXBlKSwgc2V0LmhlYWRlcnNbXCJjYWNoZS1jb250cm9sXCJdIHx8IChzZXQuaGVhZGVyc1tcImNhY2hlLWNvbnRyb2xcIl0gPSBcIm5vLWNhY2hlXCIpKSA6IHNldCA9IHtcbiAgICBzdGF0dXM6IDIwMCxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcImNvbnRlbnQtdHlwZVwiOiBjb250ZW50VHlwZSxcbiAgICAgIFwidHJhbnNmZXItZW5jb2RpbmdcIjogXCJjaHVua2VkXCIsXG4gICAgICBcImNhY2hlLWNvbnRyb2xcIjogXCJuby1jYWNoZVwiLFxuICAgICAgY29ubmVjdGlvbjogXCJrZWVwLWFsaXZlXCJcbiAgICB9XG4gIH0sIG5ldyBSZXNwb25zZShcbiAgICBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgYXN5bmMgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICBsZXQgZW5kID0gITE7XG4gICAgICAgIGlmIChyZXF1ZXN0Py5zaWduYWw/LmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCAoKSA9PiB7XG4gICAgICAgICAgZW5kID0gITA7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLCAhKCFpbml0IHx8IGluaXQudmFsdWUgaW5zdGFuY2VvZiBSZWFkYWJsZVN0cmVhbSkpIHtcbiAgICAgICAgICBpZiAoaW5pdC52YWx1ZSAhPT0gdm9pZCAwICYmIGluaXQudmFsdWUgIT09IG51bGwpXG4gICAgICAgICAgICBpZiAoaW5pdC52YWx1ZS50b1NTRSlcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGluaXQudmFsdWUudG9TU0UoKSk7XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgaW5pdC52YWx1ZSA9PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgICAgIGZvcm1hdChKU09OLnN0cmluZ2lmeShpbml0LnZhbHVlKSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgICAgICAgICBmb3JtYXQoaW5pdC52YWx1ZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgY29udHJvbGxlci5lbnF1ZXVlKGZvcm1hdChpbml0LnZhbHVlLnRvU3RyaW5nKCkpKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgZ2VuZXJhdG9yKSB7XG4gICAgICAgICAgICBpZiAoZW5kKSBicmVhaztcbiAgICAgICAgICAgIGlmIChjaHVuayAhPSBudWxsKVxuICAgICAgICAgICAgICBpZiAoY2h1bmsudG9TU0UpXG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rLnRvU1NFKCkpO1xuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNodW5rID09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgICAgICAgICAgICAgZm9ybWF0KEpTT04uc3RyaW5naWZ5KGNodW5rKSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgICAgICAgICAgICAgZm9ybWF0KGNodW5rLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGZvcm1hdChjaHVuay50b1N0cmluZygpKSk7XG4gICAgICAgICAgICAgICAgaXNTU0UgfHwgYXdhaXQgbmV3IFByb21pc2UoXG4gICAgICAgICAgICAgICAgICAocmVzb2x2ZSkgPT4gc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKCksIDApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIHNldFxuICApO1xufTtcbmFzeW5jIGZ1bmN0aW9uKiBzdHJlYW1SZXNwb25zZShyZXNwb25zZSkge1xuICBjb25zdCBib2R5ID0gcmVzcG9uc2UuYm9keTtcbiAgaWYgKCFib2R5KSByZXR1cm47XG4gIGNvbnN0IHJlYWRlciA9IGJvZHkuZ2V0UmVhZGVyKCksIGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgdHJ5IHtcbiAgICBmb3IgKDsgOyApIHtcbiAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICBpZiAoZG9uZSkgYnJlYWs7XG4gICAgICB0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIiA/IHlpZWxkIHZhbHVlIDogeWllbGQgZGVjb2Rlci5kZWNvZGUodmFsdWUpO1xuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgfVxufVxuY29uc3QgaGFuZGxlU2V0ID0gKHNldCkgPT4ge1xuICBpZiAodHlwZW9mIHNldC5zdGF0dXMgPT0gXCJzdHJpbmdcIiAmJiAoc2V0LnN0YXR1cyA9IFN0YXR1c01hcFtzZXQuc3RhdHVzXSksIHNldC5jb29raWUgJiYgaXNOb3RFbXB0eShzZXQuY29va2llKSkge1xuICAgIGNvbnN0IGNvb2tpZSA9IHNlcmlhbGl6ZUNvb2tpZShzZXQuY29va2llKTtcbiAgICBjb29raWUgJiYgKHNldC5oZWFkZXJzW1wic2V0LWNvb2tpZVwiXSA9IGNvb2tpZSk7XG4gIH1cbiAgc2V0LmhlYWRlcnNbXCJzZXQtY29va2llXCJdICYmIEFycmF5LmlzQXJyYXkoc2V0LmhlYWRlcnNbXCJzZXQtY29va2llXCJdKSAmJiAoc2V0LmhlYWRlcnMgPSBwYXJzZVNldENvb2tpZXMoXG4gICAgbmV3IEhlYWRlcnMoc2V0LmhlYWRlcnMpLFxuICAgIHNldC5oZWFkZXJzW1wic2V0LWNvb2tpZVwiXVxuICApKTtcbn0sIGNyZWF0ZVJlc3BvbnNlSGFuZGxlciA9IChoYW5kbGVyKSA9PiB7XG4gIGNvbnN0IGhhbmRsZVN0cmVhbSA9IGNyZWF0ZVN0cmVhbUhhbmRsZXIoaGFuZGxlcik7XG4gIHJldHVybiAocmVzcG9uc2UsIHNldCwgcmVxdWVzdCkgPT4ge1xuICAgIGxldCBpc0Nvb2tpZVNldCA9ICExO1xuICAgIGlmIChzZXQuaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpXG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBzZXQuaGVhZGVycy5rZXlzKCkpXG4gICAgICAgIGlmIChrZXkgPT09IFwic2V0LWNvb2tpZVwiKSB7XG4gICAgICAgICAgaWYgKGlzQ29va2llU2V0KSBjb250aW51ZTtcbiAgICAgICAgICBpc0Nvb2tpZVNldCA9ICEwO1xuICAgICAgICAgIGZvciAoY29uc3QgY29va2llIG9mIHNldC5oZWFkZXJzLmdldFNldENvb2tpZSgpKVxuICAgICAgICAgICAgcmVzcG9uc2UuaGVhZGVycy5hcHBlbmQoXCJzZXQtY29va2llXCIsIGNvb2tpZSk7XG4gICAgICAgIH0gZWxzZSByZXNwb25zZS5oZWFkZXJzLmFwcGVuZChrZXksIHNldC5oZWFkZXJzPy5nZXQoa2V5KSA/PyBcIlwiKTtcbiAgICBlbHNlXG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBzZXQuaGVhZGVycylcbiAgICAgICAgcmVzcG9uc2UuaGVhZGVycy5hcHBlbmQoXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIHNldC5oZWFkZXJzW2tleV1cbiAgICAgICAgKTtcbiAgICBjb25zdCBzdGF0dXMgPSBzZXQuc3RhdHVzID8/IDIwMDtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSBzdGF0dXMgJiYgc3RhdHVzICE9PSAyMDAgJiYgKHJlc3BvbnNlLnN0YXR1cyA8PSAzMDAgfHwgcmVzcG9uc2Uuc3RhdHVzID4gNDAwKSkge1xuICAgICAgY29uc3QgbmV3UmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UocmVzcG9uc2UuYm9keSwge1xuICAgICAgICBoZWFkZXJzOiByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICBzdGF0dXM6IHNldC5zdGF0dXNcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICFuZXdSZXNwb25zZS5oZWFkZXJzLmhhcyhcImNvbnRlbnQtbGVuZ3RoXCIpICYmIG5ld1Jlc3BvbnNlLmhlYWRlcnMuZ2V0KFwidHJhbnNmZXItZW5jb2RpbmdcIikgPT09IFwiY2h1bmtlZFwiID8gaGFuZGxlU3RyZWFtKFxuICAgICAgICBzdHJlYW1SZXNwb25zZShuZXdSZXNwb25zZSksXG4gICAgICAgIHJlc3BvbnNlVG9TZXRIZWFkZXJzKG5ld1Jlc3BvbnNlLCBzZXQpLFxuICAgICAgICByZXF1ZXN0XG4gICAgICApIDogbmV3UmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiAhcmVzcG9uc2UuaGVhZGVycy5oYXMoXCJjb250ZW50LWxlbmd0aFwiKSAmJiByZXNwb25zZS5oZWFkZXJzLmdldChcInRyYW5zZmVyLWVuY29kaW5nXCIpID09PSBcImNodW5rZWRcIiA/IGhhbmRsZVN0cmVhbShcbiAgICAgIHN0cmVhbVJlc3BvbnNlKHJlc3BvbnNlKSxcbiAgICAgIHJlc3BvbnNlVG9TZXRIZWFkZXJzKHJlc3BvbnNlLCBzZXQpLFxuICAgICAgcmVxdWVzdFxuICAgICkgOiByZXNwb25zZTtcbiAgfTtcbn07XG5leHBvcnQge1xuICBjcmVhdGVSZXNwb25zZUhhbmRsZXIsXG4gIGNyZWF0ZVN0cmVhbUhhbmRsZXIsXG4gIGhhbmRsZUZpbGUsXG4gIGhhbmRsZVNldCxcbiAgcGFyc2VTZXRDb29raWVzLFxuICByZXNwb25zZVRvU2V0SGVhZGVycyxcbiAgc3RyZWFtUmVzcG9uc2Vcbn07XG4iLAogICAgImltcG9ydCB7XG4gIGNyZWF0ZVJlc3BvbnNlSGFuZGxlcixcbiAgY3JlYXRlU3RyZWFtSGFuZGxlcixcbiAgaGFuZGxlRmlsZSxcbiAgaGFuZGxlU2V0XG59IGZyb20gXCIuLi91dGlscy5tanNcIjtcbmltcG9ydCB7IG1pbWUgfSBmcm9tIFwiLi4vLi4vdW5pdmVyc2FsL2ZpbGUubWpzXCI7XG5pbXBvcnQgeyBpc05vdEVtcHR5IH0gZnJvbSBcIi4uLy4uL3V0aWxzLm1qc1wiO1xuaW1wb3J0IHsgQ29va2llIH0gZnJvbSBcIi4uLy4uL2Nvb2tpZXMubWpzXCI7XG5pbXBvcnQgeyBFbHlzaWFDdXN0b21TdGF0dXNSZXNwb25zZSB9IGZyb20gXCIuLi8uLi9lcnJvci5tanNcIjtcbmNvbnN0IGhhbmRsZUVseXNpYUZpbGUgPSAoZmlsZSwgc2V0MiA9IHtcbiAgaGVhZGVyczoge31cbn0pID0+IHtcbiAgY29uc3QgcGF0aCA9IGZpbGUucGF0aCwgY29udGVudFR5cGUgPSBtaW1lW3BhdGguc2xpY2UocGF0aC5sYXN0SW5kZXhPZihcIi5cIikgKyAxKV07XG4gIHJldHVybiBjb250ZW50VHlwZSAmJiAoc2V0Mi5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdID0gY29udGVudFR5cGUpLCBmaWxlLnN0YXRzICYmIHNldDIuc3RhdHVzICE9PSAyMDYgJiYgc2V0Mi5zdGF0dXMgIT09IDMwNCAmJiBzZXQyLnN0YXR1cyAhPT0gNDEyICYmIHNldDIuc3RhdHVzICE9PSA0MTYgPyBmaWxlLnN0YXRzLnRoZW4oKHN0YXQpID0+IHtcbiAgICBjb25zdCBzaXplID0gc3RhdC5zaXplO1xuICAgIHJldHVybiBzaXplICE9PSB2b2lkIDAgJiYgKHNldDIuaGVhZGVyc1tcImNvbnRlbnQtcmFuZ2VcIl0gPSBgYnl0ZXMgMC0ke3NpemUgLSAxfS8ke3NpemV9YCwgc2V0Mi5oZWFkZXJzW1wiY29udGVudC1sZW5ndGhcIl0gPSBzaXplKSwgaGFuZGxlRmlsZShmaWxlLnZhbHVlLCBzZXQyKTtcbiAgfSkgOiBoYW5kbGVGaWxlKGZpbGUudmFsdWUsIHNldDIpO1xufSwgbWFwUmVzcG9uc2UgPSAocmVzcG9uc2UsIHNldDIsIHJlcXVlc3QpID0+IHtcbiAgaWYgKGlzTm90RW1wdHkoc2V0Mi5oZWFkZXJzKSB8fCBzZXQyLnN0YXR1cyAhPT0gMjAwIHx8IHNldDIuY29va2llKVxuICAgIHN3aXRjaCAoaGFuZGxlU2V0KHNldDIpLCByZXNwb25zZT8uY29uc3RydWN0b3I/Lm5hbWUpIHtcbiAgICAgIGNhc2UgXCJTdHJpbmdcIjpcbiAgICAgICAgcmV0dXJuIHNldDIuaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSA9IFwidGV4dC9wbGFpblwiLCBuZXcgUmVzcG9uc2UocmVzcG9uc2UsIHNldDIpO1xuICAgICAgY2FzZSBcIkFycmF5XCI6XG4gICAgICBjYXNlIFwiT2JqZWN0XCI6XG4gICAgICAgIHJldHVybiBzZXQyLmhlYWRlcnNbXCJjb250ZW50LXR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIiwgbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSwgc2V0Mik7XG4gICAgICBjYXNlIFwiRWx5c2lhRmlsZVwiOlxuICAgICAgICByZXR1cm4gaGFuZGxlRWx5c2lhRmlsZShyZXNwb25zZSwgc2V0Mik7XG4gICAgICBjYXNlIFwiRmlsZVwiOlxuICAgICAgICByZXR1cm4gaGFuZGxlRmlsZShyZXNwb25zZSwgc2V0Mik7XG4gICAgICBjYXNlIFwiQmxvYlwiOlxuICAgICAgICByZXR1cm4gaGFuZGxlRmlsZShyZXNwb25zZSwgc2V0Mik7XG4gICAgICBjYXNlIFwiRWx5c2lhQ3VzdG9tU3RhdHVzUmVzcG9uc2VcIjpcbiAgICAgICAgcmV0dXJuIHNldDIuc3RhdHVzID0gcmVzcG9uc2UuY29kZSwgbWFwUmVzcG9uc2UoXG4gICAgICAgICAgcmVzcG9uc2UucmVzcG9uc2UsXG4gICAgICAgICAgc2V0MixcbiAgICAgICAgICByZXF1ZXN0XG4gICAgICAgICk7XG4gICAgICBjYXNlIHZvaWQgMDpcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlID8gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSwgc2V0MikgOiBuZXcgUmVzcG9uc2UoXCJcIiwgc2V0Mik7XG4gICAgICBjYXNlIFwiUmVzcG9uc2VcIjpcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlLCBzZXQyLCByZXF1ZXN0KTtcbiAgICAgIGNhc2UgXCJFcnJvclwiOlxuICAgICAgICByZXR1cm4gZXJyb3JUb1Jlc3BvbnNlKHJlc3BvbnNlLCBzZXQyKTtcbiAgICAgIGNhc2UgXCJQcm9taXNlXCI6XG4gICAgICAgIHJldHVybiByZXNwb25zZS50aGVuKFxuICAgICAgICAgICh4KSA9PiBtYXBSZXNwb25zZSh4LCBzZXQyLCByZXF1ZXN0KVxuICAgICAgICApO1xuICAgICAgY2FzZSBcIkZ1bmN0aW9uXCI6XG4gICAgICAgIHJldHVybiBtYXBSZXNwb25zZShyZXNwb25zZSgpLCBzZXQyLCByZXF1ZXN0KTtcbiAgICAgIGNhc2UgXCJOdW1iZXJcIjpcbiAgICAgIGNhc2UgXCJCb29sZWFuXCI6XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICAgICAgcmVzcG9uc2UudG9TdHJpbmcoKSxcbiAgICAgICAgICBzZXQyXG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiQ29va2llXCI6XG4gICAgICAgIHJldHVybiByZXNwb25zZSBpbnN0YW5jZW9mIENvb2tpZSA/IG5ldyBSZXNwb25zZShyZXNwb25zZS52YWx1ZSwgc2V0MikgOiBuZXcgUmVzcG9uc2UocmVzcG9uc2U/LnRvU3RyaW5nKCksIHNldDIpO1xuICAgICAgY2FzZSBcIkZvcm1EYXRhXCI6XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2UsIHNldDIpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgUmVzcG9uc2UpXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlLCBzZXQyLCByZXF1ZXN0KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgUHJvbWlzZSlcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoeCkgPT4gbWFwUmVzcG9uc2UoeCwgc2V0MikpO1xuICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgICByZXR1cm4gZXJyb3JUb1Jlc3BvbnNlKHJlc3BvbnNlLCBzZXQyKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgRWx5c2lhQ3VzdG9tU3RhdHVzUmVzcG9uc2UpXG4gICAgICAgICAgcmV0dXJuIHNldDIuc3RhdHVzID0gcmVzcG9uc2UuY29kZSwgbWFwUmVzcG9uc2UoXG4gICAgICAgICAgICByZXNwb25zZS5yZXNwb25zZSxcbiAgICAgICAgICAgIHNldDIsXG4gICAgICAgICAgICByZXF1ZXN0XG4gICAgICAgICAgKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICB0eXBlb2YgcmVzcG9uc2U/Lm5leHQgPT0gXCJmdW5jdGlvblwiIHx8IHJlc3BvbnNlIGluc3RhbmNlb2YgUmVhZGFibGVTdHJlYW1cbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiBoYW5kbGVTdHJlYW0ocmVzcG9uc2UsIHNldDIsIHJlcXVlc3QpO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlPy50aGVuID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoeCkgPT4gbWFwUmVzcG9uc2UoeCwgc2V0MikpO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlPy50b1Jlc3BvbnNlID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICByZXR1cm4gbWFwUmVzcG9uc2UocmVzcG9uc2UudG9SZXNwb25zZSgpLCBzZXQyKTtcbiAgICAgICAgaWYgKFwiY2hhckNvZGVBdFwiIGluIHJlc3BvbnNlKSB7XG4gICAgICAgICAgY29uc3QgY29kZSA9IHJlc3BvbnNlLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgaWYgKGNvZGUgPT09IDEyMyB8fCBjb2RlID09PSA5MSlcbiAgICAgICAgICAgIHJldHVybiBzZXQyLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gfHwgKHNldDIuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA9IFwiYXBwbGljYXRpb24vanNvblwiKSwgbmV3IFJlc3BvbnNlKFxuICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShyZXNwb25zZSksXG4gICAgICAgICAgICAgIHNldDJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZSwgc2V0Mik7XG4gICAgfVxuICByZXR1cm4gKFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICB0eXBlb2YgcmVzcG9uc2U/Lm5leHQgPT0gXCJmdW5jdGlvblwiIHx8IHJlc3BvbnNlIGluc3RhbmNlb2YgUmVhZGFibGVTdHJlYW0gPyBoYW5kbGVTdHJlYW0ocmVzcG9uc2UsIHNldDIsIHJlcXVlc3QpIDogbWFwQ29tcGFjdFJlc3BvbnNlKHJlc3BvbnNlLCByZXF1ZXN0KVxuICApO1xufSwgbWFwRWFybHlSZXNwb25zZSA9IChyZXNwb25zZSwgc2V0MiwgcmVxdWVzdCkgPT4ge1xuICBpZiAocmVzcG9uc2UgIT0gbnVsbClcbiAgICBpZiAoaXNOb3RFbXB0eShzZXQyLmhlYWRlcnMpIHx8IHNldDIuc3RhdHVzICE9PSAyMDAgfHwgc2V0Mi5jb29raWUpXG4gICAgICBzd2l0Y2ggKGhhbmRsZVNldChzZXQyKSwgcmVzcG9uc2U/LmNvbnN0cnVjdG9yPy5uYW1lKSB7XG4gICAgICAgIGNhc2UgXCJTdHJpbmdcIjpcbiAgICAgICAgICByZXR1cm4gc2V0Mi5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdID0gXCJ0ZXh0L3BsYWluXCIsIG5ldyBSZXNwb25zZShyZXNwb25zZSwgc2V0Mik7XG4gICAgICAgIGNhc2UgXCJBcnJheVwiOlxuICAgICAgICBjYXNlIFwiT2JqZWN0XCI6XG4gICAgICAgICAgcmV0dXJuIHNldDIuaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSA9IFwiYXBwbGljYXRpb24vanNvblwiLCBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpLCBzZXQyKTtcbiAgICAgICAgY2FzZSBcIkVseXNpYUZpbGVcIjpcbiAgICAgICAgICByZXR1cm4gaGFuZGxlRWx5c2lhRmlsZShyZXNwb25zZSwgc2V0Mik7XG4gICAgICAgIGNhc2UgXCJGaWxlXCI6XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZUZpbGUocmVzcG9uc2UsIHNldDIpO1xuICAgICAgICBjYXNlIFwiQmxvYlwiOlxuICAgICAgICAgIHJldHVybiBoYW5kbGVGaWxlKHJlc3BvbnNlLCBzZXQyKTtcbiAgICAgICAgY2FzZSBcIkVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlXCI6XG4gICAgICAgICAgcmV0dXJuIHNldDIuc3RhdHVzID0gcmVzcG9uc2UuY29kZSwgbWFwRWFybHlSZXNwb25zZShcbiAgICAgICAgICAgIHJlc3BvbnNlLnJlc3BvbnNlLFxuICAgICAgICAgICAgc2V0MixcbiAgICAgICAgICAgIHJlcXVlc3RcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIHZvaWQgMDpcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UgPyBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpLCBzZXQyKSA6IHZvaWQgMDtcbiAgICAgICAgY2FzZSBcIlJlc3BvbnNlXCI6XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlLCBzZXQyLCByZXF1ZXN0KTtcbiAgICAgICAgY2FzZSBcIlByb21pc2VcIjpcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbihcbiAgICAgICAgICAgICh4KSA9PiBtYXBFYXJseVJlc3BvbnNlKHgsIHNldDIpXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcIkVycm9yXCI6XG4gICAgICAgICAgcmV0dXJuIGVycm9yVG9SZXNwb25zZShyZXNwb25zZSwgc2V0Mik7XG4gICAgICAgIGNhc2UgXCJGdW5jdGlvblwiOlxuICAgICAgICAgIHJldHVybiBtYXBFYXJseVJlc3BvbnNlKHJlc3BvbnNlKCksIHNldDIpO1xuICAgICAgICBjYXNlIFwiTnVtYmVyXCI6XG4gICAgICAgIGNhc2UgXCJCb29sZWFuXCI6XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgICAgICAgIHJlc3BvbnNlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXQyXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcIkZvcm1EYXRhXCI6XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIGNhc2UgXCJDb29raWVcIjpcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UgaW5zdGFuY2VvZiBDb29raWUgPyBuZXcgUmVzcG9uc2UocmVzcG9uc2UudmFsdWUsIHNldDIpIDogbmV3IFJlc3BvbnNlKHJlc3BvbnNlPy50b1N0cmluZygpLCBzZXQyKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBSZXNwb25zZSlcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVSZXNwb25zZShyZXNwb25zZSwgc2V0MiwgcmVxdWVzdCk7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgUHJvbWlzZSlcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS50aGVuKCh4KSA9PiBtYXBFYXJseVJlc3BvbnNlKHgsIHNldDIpKTtcbiAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgICAgIHJldHVybiBlcnJvclRvUmVzcG9uc2UocmVzcG9uc2UsIHNldDIpO1xuICAgICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlKVxuICAgICAgICAgICAgcmV0dXJuIHNldDIuc3RhdHVzID0gcmVzcG9uc2UuY29kZSwgbWFwRWFybHlSZXNwb25zZShcbiAgICAgICAgICAgICAgcmVzcG9uc2UucmVzcG9uc2UsXG4gICAgICAgICAgICAgIHNldDIsXG4gICAgICAgICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgdHlwZW9mIHJlc3BvbnNlPy5uZXh0ID09IFwiZnVuY3Rpb25cIiB8fCByZXNwb25zZSBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVN0cmVhbShyZXNwb25zZSwgc2V0MiwgcmVxdWVzdCk7XG4gICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZT8udGhlbiA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoeCkgPT4gbWFwRWFybHlSZXNwb25zZSh4LCBzZXQyKSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZT8udG9SZXNwb25zZSA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gbWFwRWFybHlSZXNwb25zZShyZXNwb25zZS50b1Jlc3BvbnNlKCksIHNldDIpO1xuICAgICAgICAgIGlmIChcImNoYXJDb2RlQXRcIiBpbiByZXNwb25zZSkge1xuICAgICAgICAgICAgY29uc3QgY29kZSA9IHJlc3BvbnNlLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBpZiAoY29kZSA9PT0gMTIzIHx8IGNvZGUgPT09IDkxKVxuICAgICAgICAgICAgICByZXR1cm4gc2V0Mi5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdIHx8IChzZXQyLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIiksIG5ldyBSZXNwb25zZShcbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShyZXNwb25zZSksXG4gICAgICAgICAgICAgICAgc2V0MlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLCBzZXQyKTtcbiAgICAgIH1cbiAgICBlbHNlXG4gICAgICBzd2l0Y2ggKHJlc3BvbnNlPy5jb25zdHJ1Y3Rvcj8ubmFtZSkge1xuICAgICAgICBjYXNlIFwiU3RyaW5nXCI6XG4gICAgICAgICAgcmV0dXJuIHNldDIuaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSA9IFwidGV4dC9wbGFpblwiLCBuZXcgUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICBjYXNlIFwiQXJyYXlcIjpcbiAgICAgICAgY2FzZSBcIk9iamVjdFwiOlxuICAgICAgICAgIHJldHVybiBzZXQyLmhlYWRlcnNbXCJjb250ZW50LXR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIiwgbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSwgc2V0Mik7XG4gICAgICAgIGNhc2UgXCJFbHlzaWFGaWxlXCI6XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZUVseXNpYUZpbGUocmVzcG9uc2UsIHNldDIpO1xuICAgICAgICBjYXNlIFwiRmlsZVwiOlxuICAgICAgICAgIHJldHVybiBoYW5kbGVGaWxlKHJlc3BvbnNlLCBzZXQyKTtcbiAgICAgICAgY2FzZSBcIkJsb2JcIjpcbiAgICAgICAgICByZXR1cm4gaGFuZGxlRmlsZShyZXNwb25zZSwgc2V0Mik7XG4gICAgICAgIGNhc2UgXCJFbHlzaWFDdXN0b21TdGF0dXNSZXNwb25zZVwiOlxuICAgICAgICAgIHJldHVybiBzZXQyLnN0YXR1cyA9IHJlc3BvbnNlLmNvZGUsIG1hcEVhcmx5UmVzcG9uc2UoXG4gICAgICAgICAgICByZXNwb25zZS5yZXNwb25zZSxcbiAgICAgICAgICAgIHNldDIsXG4gICAgICAgICAgICByZXF1ZXN0XG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSB2b2lkIDA6XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlID8gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSwge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pIDogbmV3IFJlc3BvbnNlKFwiXCIpO1xuICAgICAgICBjYXNlIFwiUmVzcG9uc2VcIjpcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIGNhc2UgXCJQcm9taXNlXCI6XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBtYXBFYXJseVJlc3BvbnNlKHgsIHNldDIpO1xuICAgICAgICAgICAgaWYgKHIgIT09IHZvaWQgMCkgcmV0dXJuIHI7XG4gICAgICAgICAgfSk7XG4gICAgICAgIGNhc2UgXCJFcnJvclwiOlxuICAgICAgICAgIHJldHVybiBlcnJvclRvUmVzcG9uc2UocmVzcG9uc2UsIHNldDIpO1xuICAgICAgICBjYXNlIFwiRnVuY3Rpb25cIjpcbiAgICAgICAgICByZXR1cm4gbWFwQ29tcGFjdFJlc3BvbnNlKHJlc3BvbnNlKCksIHJlcXVlc3QpO1xuICAgICAgICBjYXNlIFwiTnVtYmVyXCI6XG4gICAgICAgIGNhc2UgXCJCb29sZWFuXCI6XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZS50b1N0cmluZygpKTtcbiAgICAgICAgY2FzZSBcIkNvb2tpZVwiOlxuICAgICAgICAgIHJldHVybiByZXNwb25zZSBpbnN0YW5jZW9mIENvb2tpZSA/IG5ldyBSZXNwb25zZShyZXNwb25zZS52YWx1ZSwgc2V0MikgOiBuZXcgUmVzcG9uc2UocmVzcG9uc2U/LnRvU3RyaW5nKCksIHNldDIpO1xuICAgICAgICBjYXNlIFwiRm9ybURhdGFcIjpcbiAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBSZXNwb25zZSkgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoeCkgPT4gbWFwRWFybHlSZXNwb25zZSh4LCBzZXQyKSk7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgICAgICByZXR1cm4gZXJyb3JUb1Jlc3BvbnNlKHJlc3BvbnNlLCBzZXQyKTtcbiAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFbHlzaWFDdXN0b21TdGF0dXNSZXNwb25zZSlcbiAgICAgICAgICAgIHJldHVybiBzZXQyLnN0YXR1cyA9IHJlc3BvbnNlLmNvZGUsIG1hcEVhcmx5UmVzcG9uc2UoXG4gICAgICAgICAgICAgIHJlc3BvbnNlLnJlc3BvbnNlLFxuICAgICAgICAgICAgICBzZXQyLFxuICAgICAgICAgICAgICByZXF1ZXN0XG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIHR5cGVvZiByZXNwb25zZT8ubmV4dCA9PSBcImZ1bmN0aW9uXCIgfHwgcmVzcG9uc2UgaW5zdGFuY2VvZiBSZWFkYWJsZVN0cmVhbVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVTdHJlYW0ocmVzcG9uc2UsIHNldDIsIHJlcXVlc3QpO1xuICAgICAgICAgIGlmICh0eXBlb2YgcmVzcG9uc2U/LnRoZW4gPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKHgpID0+IG1hcEVhcmx5UmVzcG9uc2UoeCwgc2V0MikpO1xuICAgICAgICAgIGlmICh0eXBlb2YgcmVzcG9uc2U/LnRvUmVzcG9uc2UgPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgcmV0dXJuIG1hcEVhcmx5UmVzcG9uc2UocmVzcG9uc2UudG9SZXNwb25zZSgpLCBzZXQyKTtcbiAgICAgICAgICBpZiAoXCJjaGFyQ29kZUF0XCIgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvZGUgPSByZXNwb25zZS5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgaWYgKGNvZGUgPT09IDEyMyB8fCBjb2RlID09PSA5MSlcbiAgICAgICAgICAgICAgcmV0dXJuIHNldDIuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSB8fCAoc2V0Mi5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID0gXCJhcHBsaWNhdGlvbi9qc29uXCIpLCBuZXcgUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpLFxuICAgICAgICAgICAgICAgIHNldDJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICB9XG59LCBtYXBDb21wYWN0UmVzcG9uc2UgPSAocmVzcG9uc2UsIHJlcXVlc3QpID0+IHtcbiAgc3dpdGNoIChyZXNwb25zZT8uY29uc3RydWN0b3I/Lm5hbWUpIHtcbiAgICBjYXNlIFwiU3RyaW5nXCI6XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvcGxhaW5cIlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICBjYXNlIFwiT2JqZWN0XCI6XG4gICAgY2FzZSBcIkFycmF5XCI6XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgY2FzZSBcIkVseXNpYUZpbGVcIjpcbiAgICAgIHJldHVybiBoYW5kbGVFbHlzaWFGaWxlKHJlc3BvbnNlKTtcbiAgICBjYXNlIFwiRmlsZVwiOlxuICAgICAgcmV0dXJuIGhhbmRsZUZpbGUocmVzcG9uc2UpO1xuICAgIGNhc2UgXCJCbG9iXCI6XG4gICAgICByZXR1cm4gaGFuZGxlRmlsZShyZXNwb25zZSk7XG4gICAgY2FzZSBcIkVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlXCI6XG4gICAgICByZXR1cm4gbWFwUmVzcG9uc2UoXG4gICAgICAgIHJlc3BvbnNlLnJlc3BvbnNlLFxuICAgICAgICB7XG4gICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5jb2RlLFxuICAgICAgICAgIGhlYWRlcnM6IHt9XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgY2FzZSB2b2lkIDA6XG4gICAgICByZXR1cm4gcmVzcG9uc2UgPyBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9XG4gICAgICB9KSA6IG5ldyBSZXNwb25zZShcIlwiKTtcbiAgICBjYXNlIFwiUmVzcG9uc2VcIjpcbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICBjYXNlIFwiRXJyb3JcIjpcbiAgICAgIHJldHVybiBlcnJvclRvUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIGNhc2UgXCJQcm9taXNlXCI6XG4gICAgICByZXR1cm4gcmVzcG9uc2UudGhlbihcbiAgICAgICAgKHgpID0+IG1hcENvbXBhY3RSZXNwb25zZSh4LCByZXF1ZXN0KVxuICAgICAgKTtcbiAgICAvLyA/IE1heWJlIHJlc3BvbnNlIG9yIEJsb2JcbiAgICBjYXNlIFwiRnVuY3Rpb25cIjpcbiAgICAgIHJldHVybiBtYXBDb21wYWN0UmVzcG9uc2UocmVzcG9uc2UoKSwgcmVxdWVzdCk7XG4gICAgY2FzZSBcIk51bWJlclwiOlxuICAgIGNhc2UgXCJCb29sZWFuXCI6XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLnRvU3RyaW5nKCkpO1xuICAgIGNhc2UgXCJGb3JtRGF0YVwiOlxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIFJlc3BvbnNlKSByZXR1cm4gcmVzcG9uc2U7XG4gICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbihcbiAgICAgICAgICAoeCkgPT4gbWFwQ29tcGFjdFJlc3BvbnNlKHgsIHJlcXVlc3QpXG4gICAgICAgICk7XG4gICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgcmV0dXJuIGVycm9yVG9SZXNwb25zZShyZXNwb25zZSk7XG4gICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFbHlzaWFDdXN0b21TdGF0dXNSZXNwb25zZSlcbiAgICAgICAgcmV0dXJuIG1hcFJlc3BvbnNlKFxuICAgICAgICAgIHJlc3BvbnNlLnJlc3BvbnNlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2UuY29kZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHt9XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIHR5cGVvZiByZXNwb25zZT8ubmV4dCA9PSBcImZ1bmN0aW9uXCIgfHwgcmVzcG9uc2UgaW5zdGFuY2VvZiBSZWFkYWJsZVN0cmVhbVxuICAgICAgKVxuICAgICAgICByZXR1cm4gaGFuZGxlU3RyZWFtKHJlc3BvbnNlLCB2b2lkIDAsIHJlcXVlc3QpO1xuICAgICAgaWYgKHR5cGVvZiByZXNwb25zZT8udGhlbiA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHJldHVybiByZXNwb25zZS50aGVuKCh4KSA9PiBtYXBSZXNwb25zZSh4LCBzZXQpKTtcbiAgICAgIGlmICh0eXBlb2YgcmVzcG9uc2U/LnRvUmVzcG9uc2UgPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICByZXR1cm4gbWFwQ29tcGFjdFJlc3BvbnNlKHJlc3BvbnNlLnRvUmVzcG9uc2UoKSk7XG4gICAgICBpZiAoXCJjaGFyQ29kZUF0XCIgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgY29uc3QgY29kZSA9IHJlc3BvbnNlLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGlmIChjb2RlID09PSAxMjMgfHwgY29kZSA9PT0gOTEpXG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShyZXNwb25zZSksIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2UpO1xuICB9XG59LCBlcnJvclRvUmVzcG9uc2UgPSAoZXJyb3IsIHNldDIpID0+IG5ldyBSZXNwb25zZShcbiAgSlNPTi5zdHJpbmdpZnkoe1xuICAgIG5hbWU6IGVycm9yPy5uYW1lLFxuICAgIG1lc3NhZ2U6IGVycm9yPy5tZXNzYWdlLFxuICAgIGNhdXNlOiBlcnJvcj8uY2F1c2VcbiAgfSksXG4gIHtcbiAgICBzdGF0dXM6IHNldDI/LnN0YXR1cyAhPT0gMjAwID8gc2V0Mj8uc3RhdHVzID8/IDUwMCA6IDUwMCxcbiAgICBoZWFkZXJzOiBzZXQyPy5oZWFkZXJzXG4gIH1cbiksIGNyZWF0ZVN0YXRpY0hhbmRsZXIgPSAoaGFuZGxlLCBob29rcywgc2V0SGVhZGVycyA9IHt9KSA9PiB7XG4gIGlmICh0eXBlb2YgaGFuZGxlID09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xuICBjb25zdCByZXNwb25zZSA9IG1hcFJlc3BvbnNlKGhhbmRsZSwge1xuICAgIGhlYWRlcnM6IHNldEhlYWRlcnNcbiAgfSk7XG4gIGlmICghaG9va3MucGFyc2U/Lmxlbmd0aCAmJiAhaG9va3MudHJhbnNmb3JtPy5sZW5ndGggJiYgIWhvb2tzLmJlZm9yZUhhbmRsZT8ubGVuZ3RoICYmICFob29rcy5hZnRlckhhbmRsZT8ubGVuZ3RoKVxuICAgIHJldHVybiAoKSA9PiByZXNwb25zZS5jbG9uZSgpO1xufSwgaGFuZGxlUmVzcG9uc2UgPSBjcmVhdGVSZXNwb25zZUhhbmRsZXIoe1xuICBtYXBSZXNwb25zZSxcbiAgbWFwQ29tcGFjdFJlc3BvbnNlXG59KSwgaGFuZGxlU3RyZWFtID0gY3JlYXRlU3RyZWFtSGFuZGxlcih7XG4gIG1hcFJlc3BvbnNlLFxuICBtYXBDb21wYWN0UmVzcG9uc2Vcbn0pO1xuZXhwb3J0IHtcbiAgY3JlYXRlU3RhdGljSGFuZGxlcixcbiAgZXJyb3JUb1Jlc3BvbnNlLFxuICBtYXBDb21wYWN0UmVzcG9uc2UsXG4gIG1hcEVhcmx5UmVzcG9uc2UsXG4gIG1hcFJlc3BvbnNlXG59O1xuIiwKICAgICJpbXBvcnQge1xuICBtYXBSZXNwb25zZSxcbiAgbWFwRWFybHlSZXNwb25zZSxcbiAgbWFwQ29tcGFjdFJlc3BvbnNlLFxuICBjcmVhdGVTdGF0aWNIYW5kbGVyXG59IGZyb20gXCIuL2hhbmRsZXIubWpzXCI7XG5jb25zdCBXZWJTdGFuZGFyZEFkYXB0ZXIgPSB7XG4gIG5hbWU6IFwid2ViLXN0YW5kYXJkXCIsXG4gIGlzV2ViU3RhbmRhcmQ6ICEwLFxuICBoYW5kbGVyOiB7XG4gICAgbWFwUmVzcG9uc2UsXG4gICAgbWFwRWFybHlSZXNwb25zZSxcbiAgICBtYXBDb21wYWN0UmVzcG9uc2UsXG4gICAgY3JlYXRlU3RhdGljSGFuZGxlclxuICB9LFxuICBjb21wb3NlSGFuZGxlcjoge1xuICAgIG1hcFJlc3BvbnNlQ29udGV4dDogXCJjLnJlcXVlc3RcIixcbiAgICBwcmVmZXJXZWJzdGFuZGFyZEhlYWRlcnM6ICEwLFxuICAgIC8vIEB0cy1pZ25vcmUgQnVuIHNwZWNpZmljXG4gICAgaGVhZGVyczogYGMuaGVhZGVycz17fVxuZm9yKGNvbnN0IFtrLHZdIG9mIGMucmVxdWVzdC5oZWFkZXJzLmVudHJpZXMoKSljLmhlYWRlcnNba109dlxuYCxcbiAgICBwYXJzZXI6IHtcbiAgICAgIGpzb24oaXNPcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gaXNPcHRpb25hbCA/IGB0cnl7Yy5ib2R5PWF3YWl0IGMucmVxdWVzdC5qc29uKCl9Y2F0Y2h7fVxuYCA6IGBjLmJvZHk9YXdhaXQgYy5yZXF1ZXN0Lmpzb24oKVxuYDtcbiAgICAgIH0sXG4gICAgICB0ZXh0KCkge1xuICAgICAgICByZXR1cm4gYGMuYm9keT1hd2FpdCBjLnJlcXVlc3QudGV4dCgpXG5gO1xuICAgICAgfSxcbiAgICAgIHVybGVuY29kZWQoKSB7XG4gICAgICAgIHJldHVybiBgYy5ib2R5PXBhcnNlUXVlcnkoYXdhaXQgYy5yZXF1ZXN0LnRleHQoKSlcbmA7XG4gICAgICB9LFxuICAgICAgYXJyYXlCdWZmZXIoKSB7XG4gICAgICAgIHJldHVybiBgYy5ib2R5PWF3YWl0IGMucmVxdWVzdC5hcnJheUJ1ZmZlcigpXG5gO1xuICAgICAgfSxcbiAgICAgIGZvcm1EYXRhKGlzT3B0aW9uYWwpIHtcbiAgICAgICAgbGV0IGZuTGl0ZXJhbCA9IGBcbmMuYm9keT17fVxuYDtcbiAgICAgICAgcmV0dXJuIGlzT3B0aW9uYWwgPyBmbkxpdGVyYWwgKz0gXCJsZXQgZm9ybTt0cnl7Zm9ybT1hd2FpdCBjLnJlcXVlc3QuZm9ybURhdGEoKX1jYXRjaHt9XCIgOiBmbkxpdGVyYWwgKz0gYGNvbnN0IGZvcm09YXdhaXQgYy5yZXF1ZXN0LmZvcm1EYXRhKClcbmAsIGZuTGl0ZXJhbCArIGBmb3IoY29uc3Qga2V5IG9mIGZvcm0ua2V5cygpKXtpZihjLmJvZHlba2V5XSkgY29udGludWVcbmNvbnN0IHZhbHVlPWZvcm0uZ2V0QWxsKGtleSlcbmlmKHZhbHVlLmxlbmd0aD09PTEpYy5ib2R5W2tleV09dmFsdWVbMF1cbmVsc2UgYy5ib2R5W2tleV09dmFsdWV9YDtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGFzeW5jIHN0b3AoYXBwLCBjbG9zZUFjdGl2ZUNvbm5lY3Rpb25zKSB7XG4gICAgaWYgKCFhcHAuc2VydmVyKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkVseXNpYSBpc24ndCBydW5uaW5nLiBDYWxsIGBhcHAubGlzdGVuYCB0byBzdGFydCB0aGUgc2VydmVyLlwiXG4gICAgICApO1xuICAgIGlmIChhcHAuc2VydmVyICYmIChhcHAuc2VydmVyLnN0b3AoY2xvc2VBY3RpdmVDb25uZWN0aW9ucyksIGFwcC5zZXJ2ZXIgPSBudWxsLCBhcHAuZXZlbnQuc3RvcD8ubGVuZ3RoKSlcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXBwLmV2ZW50LnN0b3AubGVuZ3RoOyBpKyspXG4gICAgICAgIGFwcC5ldmVudC5zdG9wW2ldLmZuKGFwcCk7XG4gIH0sXG4gIGNvbXBvc2VHZW5lcmFsSGFuZGxlcjoge1xuICAgIHBhcmFtZXRlcnM6IFwiclwiLFxuICAgIGNyZWF0ZUNvbnRleHQoYXBwKSB7XG4gICAgICBsZXQgZGVjb3JhdG9yc0xpdGVyYWwgPSBcIlwiLCBmbkxpdGVyYWwgPSBcIlwiO1xuICAgICAgY29uc3QgZGVmYXVsdEhlYWRlcnMgPSBhcHAuc2V0SGVhZGVycztcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGFwcC5kZWNvcmF0b3IpKVxuICAgICAgICBkZWNvcmF0b3JzTGl0ZXJhbCArPSBgLCcke2tleX0nOmRlY29yYXRvclsnJHtrZXl9J11gO1xuICAgICAgY29uc3Qgc3RhbmRhcmRIb3N0bmFtZSA9IGFwcC5jb25maWcuaGFuZGxlcj8uc3RhbmRhcmRIb3N0bmFtZSA/PyAhMCwgaGFzVHJhY2UgPSAhIWFwcC5ldmVudC50cmFjZT8ubGVuZ3RoO1xuICAgICAgcmV0dXJuIGZuTGl0ZXJhbCArPSBgY29uc3QgdT1yLnVybCxzPXUuaW5kZXhPZignLycsJHtzdGFuZGFyZEhvc3RuYW1lID8gMTEgOiA3fSkscWk9dS5pbmRleE9mKCc/JyxzKzEpXG5sZXQgcFxuaWYocWk9PT0tMSlwPXUuc3Vic3RyaW5nKHMpXG5lbHNlIHA9dS5zdWJzdHJpbmcocywgcWkpXG5gLCBoYXNUcmFjZSAmJiAoZm5MaXRlcmFsICs9IGBjb25zdCBpZD1yYW5kb21JZCgpXG5gKSwgZm5MaXRlcmFsICs9IFwiY29uc3QgYz17cmVxdWVzdDpyLHN0b3JlLHFpLHBhdGg6cCx1cmw6dSxyZWRpcmVjdCxzdGF0dXMsc2V0OntoZWFkZXJzOlwiLCBmbkxpdGVyYWwgKz0gT2JqZWN0LmtleXMoZGVmYXVsdEhlYWRlcnMgPz8ge30pLmxlbmd0aCA/IFwiT2JqZWN0LmFzc2lnbih7fSxhcHAuc2V0SGVhZGVycylcIiA6IFwiT2JqZWN0LmNyZWF0ZShudWxsKVwiLCBmbkxpdGVyYWwgKz0gXCIsc3RhdHVzOjIwMH1cIiwgYXBwLmluZmVyZW5jZS5zZXJ2ZXIgJiYgKGZuTGl0ZXJhbCArPSBcIixnZXQgc2VydmVyKCl7cmV0dXJuIGFwcC5nZXRTZXJ2ZXIoKX1cIiksIGhhc1RyYWNlICYmIChmbkxpdGVyYWwgKz0gXCIsW0VMWVNJQV9SRVFVRVNUX0lEXTppZFwiKSwgZm5MaXRlcmFsICs9IGRlY29yYXRvcnNMaXRlcmFsLCBmbkxpdGVyYWwgKz0gYH1cbmAsIGZuTGl0ZXJhbDtcbiAgICB9LFxuICAgIGVycm9yNDA0KGhhc0V2ZW50SG9vaywgaGFzRXJyb3JIb29rLCBhZnRlckhhbmRsZSA9IFwiXCIpIHtcbiAgICAgIGxldCBmaW5kRHluYW1pY1JvdXRlID0gXCJpZihyb3V0ZT09PW51bGwpe1wiICsgYWZ0ZXJIYW5kbGUgKyBgXG5yZXR1cm4gYDtcbiAgICAgIHJldHVybiBoYXNFcnJvckhvb2sgPyBmaW5kRHluYW1pY1JvdXRlICs9IGBhcHAuaGFuZGxlRXJyb3IoYyxub3RGb3VuZCxmYWxzZSwke3RoaXMucGFyYW1ldGVyc30pYCA6IGZpbmREeW5hbWljUm91dGUgKz0gaGFzRXZlbnRIb29rID8gXCJuZXcgUmVzcG9uc2UoZXJyb3I0MDRNZXNzYWdlLHtzdGF0dXM6Yy5zZXQuc3RhdHVzPT09MjAwPzQwNDpjLnNldC5zdGF0dXMsaGVhZGVyczpjLnNldC5oZWFkZXJzfSlcIiA6IFwiZXJyb3I0MDQuY2xvbmUoKVwiLCBmaW5kRHluYW1pY1JvdXRlICs9IFwifVwiLCB7XG4gICAgICAgIGRlY2xhcmU6IGhhc0Vycm9ySG9vayA/IFwiXCIgOiBgY29uc3QgZXJyb3I0MDRNZXNzYWdlPW5vdEZvdW5kLm1lc3NhZ2UudG9TdHJpbmcoKVxuY29uc3QgZXJyb3I0MDQ9bmV3IFJlc3BvbnNlKGVycm9yNDA0TWVzc2FnZSx7c3RhdHVzOjQwNH0pXG5gLFxuICAgICAgICBjb2RlOiBmaW5kRHluYW1pY1JvdXRlXG4gICAgICB9O1xuICAgIH1cbiAgfSxcbiAgY29tcG9zZUVycm9yOiB7XG4gICAgbWFwUmVzcG9uc2VDb250ZXh0OiBcIlwiLFxuICAgIHZhbGlkYXRpb25FcnJvcjogXCJyZXR1cm4gbmV3IFJlc3BvbnNlKGVycm9yLm1lc3NhZ2Use2hlYWRlcnM6T2JqZWN0LmFzc2lnbih7J2NvbnRlbnQtdHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nfSxzZXQuaGVhZGVycyksc3RhdHVzOnNldC5zdGF0dXN9KVwiLFxuICAgIHVua25vd25FcnJvcjogXCJyZXR1cm4gbmV3IFJlc3BvbnNlKGVycm9yLm1lc3NhZ2Use2hlYWRlcnM6c2V0LmhlYWRlcnMsc3RhdHVzOmVycm9yLnN0YXR1cz8/c2V0LnN0YXR1cz8/NTAwfSlcIlxuICB9LFxuICBsaXN0ZW4oKSB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJXZWJTdGFuZGFyZCBkb2VzIG5vdCBzdXBwb3J0IGxpc3RlbiwgeW91IG1pZ2h0IHdhbnQgdG8gZXhwb3J0IGRlZmF1bHQgRWx5c2lhLmZldGNoIGluc3RlYWRcIlxuICAgICAgKTtcbiAgICB9O1xuICB9XG59O1xuZXhwb3J0IHtcbiAgV2ViU3RhbmRhcmRBZGFwdGVyXG59O1xuIiwKICAgICJpbXBvcnQgeyBXZWJTdGFuZGFyZEFkYXB0ZXIgfSBmcm9tIFwiLi4vd2ViLXN0YW5kYXJkL2luZGV4Lm1qc1wiO1xuZnVuY3Rpb24gaXNDbG91ZGZsYXJlV29ya2VyKCkge1xuICB0cnkge1xuICAgIGlmIChcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHR5cGVvZiBjYWNoZXMgPCBcInVcIiAmJiAvLyBAdHMtaWdub3JlXG4gICAgICB0eXBlb2YgY2FjaGVzLmRlZmF1bHQgPCBcInVcIiB8fCB0eXBlb2YgV2ViU29ja2V0UGFpciA8IFwidVwiXG4gICAgKSByZXR1cm4gITA7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICByZXR1cm4gITE7XG59XG5jb25zdCBDbG91ZGZsYXJlQWRhcHRlciA9IHtcbiAgLi4uV2ViU3RhbmRhcmRBZGFwdGVyLFxuICBuYW1lOiBcImNsb3VkZmxhcmUtd29ya2VyXCIsXG4gIGNvbXBvc2VHZW5lcmFsSGFuZGxlcjoge1xuICAgIC4uLldlYlN0YW5kYXJkQWRhcHRlci5jb21wb3NlR2VuZXJhbEhhbmRsZXIsXG4gICAgZXJyb3I0MDQoaGFzRXZlbnRIb29rLCBoYXNFcnJvckhvb2ssIGFmdGVySGFuZGxlKSB7XG4gICAgICBjb25zdCB7IGNvZGUgfSA9IFdlYlN0YW5kYXJkQWRhcHRlci5jb21wb3NlR2VuZXJhbEhhbmRsZXIuZXJyb3I0MDQoXG4gICAgICAgIGhhc0V2ZW50SG9vayxcbiAgICAgICAgaGFzRXJyb3JIb29rLFxuICAgICAgICBhZnRlckhhbmRsZVxuICAgICAgKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvZGUsXG4gICAgICAgIGRlY2xhcmU6IGhhc0Vycm9ySG9vayA/IFwiXCIgOiAoXG4gICAgICAgICAgLy8gVGhpcyBvbmx5IHdvcmsgYmVjYXVzZSBFbHlzaWEgb25seSBjbG9uZSB0aGUgUmVzcG9uc2UgdmlhIC5jbG9uZSgpXG4gICAgICAgICAgYGNvbnN0IGVycm9yNDA0TWVzc2FnZT1ub3RGb3VuZC5tZXNzYWdlLnRvU3RyaW5nKClcbmNvbnN0IGVycm9yNDA0PXtjbG9uZTooKT0+bmV3IFJlc3BvbnNlKGVycm9yNDA0TWVzc2FnZSx7c3RhdHVzOjQwNH0pfVxuYFxuICAgICAgICApXG4gICAgICB9O1xuICAgIH1cbiAgfSxcbiAgYmVmb3JlQ29tcGlsZShhcHApIHtcbiAgICBmb3IgKGNvbnN0IHJvdXRlIG9mIGFwcC5yb3V0ZXMpIHJvdXRlLmNvbXBpbGUoKTtcbiAgfSxcbiAgbGlzdGVuKGFwcCkge1xuICAgIHJldHVybiAob3B0aW9ucywgY2FsbGJhY2spID0+IHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgXCJDbG91ZGZsYXJlIFdvcmtlciBkb2VzIG5vdCBzdXBwb3J0IGxpc3RlbiBtZXRob2QuIFBsZWFzZSBleHBvcnQgZGVmYXVsdCBFbHlzaWEgaW5zdGFuY2UgaW5zdGVhZC5cIlxuICAgICAgKSwgYXBwLmNvbXBpbGUoKTtcbiAgICB9O1xuICB9XG59O1xuZXhwb3J0IHtcbiAgQ2xvdWRmbGFyZUFkYXB0ZXIsXG4gIGlzQ2xvdWRmbGFyZVdvcmtlclxufTtcbiIsCiAgICAiaW1wb3J0IHsgY2hlY2tzdW0gfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbmltcG9ydCB7IGlzQnVuIH0gZnJvbSBcIi4vdW5pdmVyc2FsL3V0aWxzLm1qc1wiO1xuaW1wb3J0IHsgaXNDbG91ZGZsYXJlV29ya2VyIH0gZnJvbSBcIi4vYWRhcHRlci9jbG91ZGZsYXJlLXdvcmtlci9pbmRleC5tanNcIjtcbmNvbnN0IHNlcGFyYXRlRnVuY3Rpb24gPSAoY29kZSkgPT4ge1xuICBjb2RlLnN0YXJ0c1dpdGgoXCJhc3luY1wiKSAmJiAoY29kZSA9IGNvZGUuc2xpY2UoNSkpLCBjb2RlID0gY29kZS50cmltU3RhcnQoKTtcbiAgbGV0IGluZGV4ID0gLTE7XG4gIGlmIChjb2RlLmNoYXJDb2RlQXQoMCkgPT09IDQwICYmIChpbmRleCA9IGNvZGUuaW5kZXhPZihcIj0+XCIsIGNvZGUuaW5kZXhPZihcIilcIikpLCBpbmRleCAhPT0gLTEpKSB7XG4gICAgbGV0IGJyYWNrZXRFbmRJbmRleCA9IGluZGV4O1xuICAgIGZvciAoOyBicmFja2V0RW5kSW5kZXggPiAwICYmIGNvZGUuY2hhckNvZGVBdCgtLWJyYWNrZXRFbmRJbmRleCkgIT09IDQxOyApXG4gICAgICA7XG4gICAgbGV0IGJvZHkgPSBjb2RlLnNsaWNlKGluZGV4ICsgMik7XG4gICAgcmV0dXJuIGJvZHkuY2hhckNvZGVBdCgwKSA9PT0gMzIgJiYgKGJvZHkgPSBib2R5LnRyaW1TdGFydCgpKSwgW1xuICAgICAgY29kZS5zbGljZSgxLCBicmFja2V0RW5kSW5kZXgpLFxuICAgICAgYm9keSxcbiAgICAgIHtcbiAgICAgICAgaXNBcnJvd1JldHVybjogYm9keS5jaGFyQ29kZUF0KDApICE9PSAxMjNcbiAgICAgIH1cbiAgICBdO1xuICB9XG4gIGlmICgvXihcXHcrKT0+L2cudGVzdChjb2RlKSAmJiAoaW5kZXggPSBjb2RlLmluZGV4T2YoXCI9PlwiKSwgaW5kZXggIT09IC0xKSkge1xuICAgIGxldCBib2R5ID0gY29kZS5zbGljZShpbmRleCArIDIpO1xuICAgIHJldHVybiBib2R5LmNoYXJDb2RlQXQoMCkgPT09IDMyICYmIChib2R5ID0gYm9keS50cmltU3RhcnQoKSksIFtcbiAgICAgIGNvZGUuc2xpY2UoMCwgaW5kZXgpLFxuICAgICAgYm9keSxcbiAgICAgIHtcbiAgICAgICAgaXNBcnJvd1JldHVybjogYm9keS5jaGFyQ29kZUF0KDApICE9PSAxMjNcbiAgICAgIH1cbiAgICBdO1xuICB9XG4gIGlmIChjb2RlLnN0YXJ0c1dpdGgoXCJmdW5jdGlvblwiKSkge1xuICAgIGluZGV4ID0gY29kZS5pbmRleE9mKFwiKFwiKTtcbiAgICBjb25zdCBlbmQgPSBjb2RlLmluZGV4T2YoXCIpXCIpO1xuICAgIHJldHVybiBbXG4gICAgICBjb2RlLnNsaWNlKGluZGV4ICsgMSwgZW5kKSxcbiAgICAgIGNvZGUuc2xpY2UoZW5kICsgMiksXG4gICAgICB7XG4gICAgICAgIGlzQXJyb3dSZXR1cm46ICExXG4gICAgICB9XG4gICAgXTtcbiAgfVxuICBjb25zdCBzdGFydCA9IGNvZGUuaW5kZXhPZihcIihcIik7XG4gIGlmIChzdGFydCAhPT0gLTEpIHtcbiAgICBjb25zdCBzZXAgPSBjb2RlLmluZGV4T2YoYFxuYCwgMiksIHBhcmFtZXRlciA9IGNvZGUuc2xpY2UoMCwgc2VwKSwgZW5kID0gcGFyYW1ldGVyLmxhc3RJbmRleE9mKFwiKVwiKSArIDEsIGJvZHkgPSBjb2RlLnNsaWNlKHNlcCArIDEpO1xuICAgIHJldHVybiBbXG4gICAgICBwYXJhbWV0ZXIuc2xpY2Uoc3RhcnQsIGVuZCksXG4gICAgICBcIntcIiArIGJvZHksXG4gICAgICB7XG4gICAgICAgIGlzQXJyb3dSZXR1cm46ICExXG4gICAgICB9XG4gICAgXTtcbiAgfVxuICBjb25zdCB4ID0gY29kZS5zcGxpdChgXG5gLCAyKTtcbiAgcmV0dXJuIFt4WzBdLCB4WzFdLCB7IGlzQXJyb3dSZXR1cm46ICExIH1dO1xufSwgYnJhY2tldFBhaXJSYW5nZSA9IChwYXJhbWV0ZXIpID0+IHtcbiAgY29uc3Qgc3RhcnQgPSBwYXJhbWV0ZXIuaW5kZXhPZihcIntcIik7XG4gIGlmIChzdGFydCA9PT0gLTEpIHJldHVybiBbLTEsIDBdO1xuICBsZXQgZW5kID0gc3RhcnQgKyAxLCBkZWVwID0gMTtcbiAgZm9yICg7IGVuZCA8IHBhcmFtZXRlci5sZW5ndGg7IGVuZCsrKSB7XG4gICAgY29uc3QgY2hhciA9IHBhcmFtZXRlci5jaGFyQ29kZUF0KGVuZCk7XG4gICAgaWYgKGNoYXIgPT09IDEyMyA/IGRlZXArKyA6IGNoYXIgPT09IDEyNSAmJiBkZWVwLS0sIGRlZXAgPT09IDApIGJyZWFrO1xuICB9XG4gIHJldHVybiBkZWVwICE9PSAwID8gWzAsIHBhcmFtZXRlci5sZW5ndGhdIDogW3N0YXJ0LCBlbmQgKyAxXTtcbn0sIGJyYWNrZXRQYWlyUmFuZ2VSZXZlcnNlID0gKHBhcmFtZXRlcikgPT4ge1xuICBjb25zdCBlbmQgPSBwYXJhbWV0ZXIubGFzdEluZGV4T2YoXCJ9XCIpO1xuICBpZiAoZW5kID09PSAtMSkgcmV0dXJuIFstMSwgMF07XG4gIGxldCBzdGFydCA9IGVuZCAtIDEsIGRlZXAgPSAxO1xuICBmb3IgKDsgc3RhcnQgPj0gMDsgc3RhcnQtLSkge1xuICAgIGNvbnN0IGNoYXIgPSBwYXJhbWV0ZXIuY2hhckNvZGVBdChzdGFydCk7XG4gICAgaWYgKGNoYXIgPT09IDEyNSA/IGRlZXArKyA6IGNoYXIgPT09IDEyMyAmJiBkZWVwLS0sIGRlZXAgPT09IDApIGJyZWFrO1xuICB9XG4gIHJldHVybiBkZWVwICE9PSAwID8gWy0xLCAwXSA6IFtzdGFydCwgZW5kICsgMV07XG59LCByZW1vdmVDb2xvbkFsaWFzID0gKHBhcmFtZXRlcikgPT4ge1xuICBmb3IgKDsgOyApIHtcbiAgICBjb25zdCBzdGFydCA9IHBhcmFtZXRlci5pbmRleE9mKFwiOlwiKTtcbiAgICBpZiAoc3RhcnQgPT09IC0xKSBicmVhaztcbiAgICBsZXQgZW5kID0gcGFyYW1ldGVyLmluZGV4T2YoXCIsXCIsIHN0YXJ0KTtcbiAgICBlbmQgPT09IC0xICYmIChlbmQgPSBwYXJhbWV0ZXIuaW5kZXhPZihcIn1cIiwgc3RhcnQpIC0gMSksIGVuZCA9PT0gLTIgJiYgKGVuZCA9IHBhcmFtZXRlci5sZW5ndGgpLCBwYXJhbWV0ZXIgPSBwYXJhbWV0ZXIuc2xpY2UoMCwgc3RhcnQpICsgcGFyYW1ldGVyLnNsaWNlKGVuZCk7XG4gIH1cbiAgcmV0dXJuIHBhcmFtZXRlcjtcbn0sIHJldHJpZXZlUm9vdFBhcmFtdGVycyA9IChwYXJhbWV0ZXIpID0+IHtcbiAgbGV0IGhhc1BhcmVudGhlc2lzID0gITE7XG4gIHBhcmFtZXRlci5jaGFyQ29kZUF0KDApID09PSA0MCAmJiAocGFyYW1ldGVyID0gcGFyYW1ldGVyLnNsaWNlKDEsIC0xKSksIHBhcmFtZXRlci5jaGFyQ29kZUF0KDApID09PSAxMjMgJiYgKGhhc1BhcmVudGhlc2lzID0gITAsIHBhcmFtZXRlciA9IHBhcmFtZXRlci5zbGljZSgxLCAtMSkpLCBwYXJhbWV0ZXIgPSBwYXJhbWV0ZXIucmVwbGFjZSgvKCB8XFx0fFxcbikvZywgXCJcIikudHJpbSgpO1xuICBsZXQgcGFyYW1ldGVycyA9IFtdO1xuICBmb3IgKDsgOyApIHtcbiAgICBsZXQgW3N0YXJ0LCBlbmRdID0gYnJhY2tldFBhaXJSYW5nZShwYXJhbWV0ZXIpO1xuICAgIGlmIChzdGFydCA9PT0gLTEpIGJyZWFrO1xuICAgIHBhcmFtZXRlcnMucHVzaChwYXJhbWV0ZXIuc2xpY2UoMCwgc3RhcnQgLSAxKSksIHBhcmFtZXRlci5jaGFyQ29kZUF0KGVuZCkgPT09IDQ0ICYmIGVuZCsrLCBwYXJhbWV0ZXIgPSBwYXJhbWV0ZXIuc2xpY2UoZW5kKTtcbiAgfVxuICBwYXJhbWV0ZXIgPSByZW1vdmVDb2xvbkFsaWFzKHBhcmFtZXRlciksIHBhcmFtZXRlciAmJiAocGFyYW1ldGVycyA9IHBhcmFtZXRlcnMuY29uY2F0KHBhcmFtZXRlci5zcGxpdChcIixcIikpKTtcbiAgY29uc3QgcGFyYW1ldGVyTWFwID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGZvciAoY29uc3QgcCBvZiBwYXJhbWV0ZXJzKSB7XG4gICAgaWYgKHAuaW5kZXhPZihcIixcIikgPT09IC0xKSB7XG4gICAgICBwYXJhbWV0ZXJNYXBbcF0gPSAhMDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHEgb2YgcC5zcGxpdChcIixcIikpIHBhcmFtZXRlck1hcFtxLnRyaW0oKV0gPSAhMDtcbiAgfVxuICByZXR1cm4ge1xuICAgIGhhc1BhcmVudGhlc2lzLFxuICAgIHBhcmFtZXRlcnM6IHBhcmFtZXRlck1hcFxuICB9O1xufSwgZmluZFBhcmFtZXRlclJlZmVyZW5jZSA9IChwYXJhbWV0ZXIsIGluZmVyZW5jZSkgPT4ge1xuICBjb25zdCB7IHBhcmFtZXRlcnMsIGhhc1BhcmVudGhlc2lzIH0gPSByZXRyaWV2ZVJvb3RQYXJhbXRlcnMocGFyYW1ldGVyKTtcbiAgcmV0dXJuIHBhcmFtZXRlcnMucXVlcnkgJiYgKGluZmVyZW5jZS5xdWVyeSA9ICEwKSwgcGFyYW1ldGVycy5oZWFkZXJzICYmIChpbmZlcmVuY2UuaGVhZGVycyA9ICEwKSwgcGFyYW1ldGVycy5ib2R5ICYmIChpbmZlcmVuY2UuYm9keSA9ICEwKSwgcGFyYW1ldGVycy5jb29raWUgJiYgKGluZmVyZW5jZS5jb29raWUgPSAhMCksIHBhcmFtZXRlcnMuc2V0ICYmIChpbmZlcmVuY2Uuc2V0ID0gITApLCBwYXJhbWV0ZXJzLnNlcnZlciAmJiAoaW5mZXJlbmNlLnNlcnZlciA9ICEwKSwgcGFyYW1ldGVycy5yb3V0ZSAmJiAoaW5mZXJlbmNlLnJvdXRlID0gITApLCBwYXJhbWV0ZXJzLnVybCAmJiAoaW5mZXJlbmNlLnVybCA9ICEwKSwgcGFyYW1ldGVycy5wYXRoICYmIChpbmZlcmVuY2UucGF0aCA9ICEwKSwgaGFzUGFyZW50aGVzaXMgPyBgeyAke09iamVjdC5rZXlzKHBhcmFtZXRlcnMpLmpvaW4oXCIsIFwiKX0gfWAgOiBPYmplY3Qua2V5cyhwYXJhbWV0ZXJzKS5qb2luKFwiLCBcIik7XG59LCBmaW5kRW5kSW5kZXggPSAodHlwZSwgY29udGVudCwgaW5kZXgpID0+IHtcbiAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKFxuICAgIGAke3R5cGUucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csIFwiXFxcXCQmXCIpfVtcXFxcblxcXFx0LDsgXWBcbiAgKTtcbiAgaW5kZXggIT09IHZvaWQgMCAmJiAocmVnZXgubGFzdEluZGV4ID0gaW5kZXgpO1xuICBjb25zdCBtYXRjaCA9IHJlZ2V4LmV4ZWMoY29udGVudCk7XG4gIHJldHVybiBtYXRjaCA/IG1hdGNoLmluZGV4IDogLTE7XG59LCBmaW5kRW5kUXVlcnlCcmFja2V0SW5kZXggPSAodHlwZSwgY29udGVudCwgaW5kZXgpID0+IHtcbiAgY29uc3QgYnJhY2tldEVuZEluZGV4ID0gY29udGVudC5pbmRleE9mKHR5cGUgKyBcIl1cIiwgaW5kZXgpLCBzaW5nbGVRdW90ZUluZGV4ID0gY29udGVudC5pbmRleE9mKHR5cGUgKyBcIidcIiwgaW5kZXgpLCBkb3VibGVRdW90ZUluZGV4ID0gY29udGVudC5pbmRleE9mKHR5cGUgKyAnXCInLCBpbmRleCk7XG4gIHJldHVybiBbYnJhY2tldEVuZEluZGV4LCBzaW5nbGVRdW90ZUluZGV4LCBkb3VibGVRdW90ZUluZGV4XS5maWx0ZXIoKGkpID0+IGkgPiAwKS5zb3J0KChhLCBiKSA9PiBhIC0gYilbMF0gfHwgLTE7XG59LCBmaW5kQWxpYXMgPSAodHlwZSwgYm9keSwgZGVwdGggPSAwKSA9PiB7XG4gIGlmIChkZXB0aCA+IDUpIHJldHVybiBbXTtcbiAgY29uc3QgYWxpYXNlcyA9IFtdO1xuICBsZXQgY29udGVudCA9IGJvZHk7XG4gIGZvciAoOyA7ICkge1xuICAgIGxldCBpbmRleCA9IGZpbmRFbmRJbmRleChcIiA9IFwiICsgdHlwZSwgY29udGVudCk7XG4gICAgaWYgKGluZGV4ID09PSAtMSAmJiAoaW5kZXggPSBmaW5kRW5kSW5kZXgoXCI9XCIgKyB0eXBlLCBjb250ZW50KSksIGluZGV4ID09PSAtMSkge1xuICAgICAgbGV0IGxhc3RJbmRleCA9IGNvbnRlbnQuaW5kZXhPZihcIiA9IFwiICsgdHlwZSk7XG4gICAgICBpZiAobGFzdEluZGV4ID09PSAtMSAmJiAobGFzdEluZGV4ID0gY29udGVudC5pbmRleE9mKFwiPVwiICsgdHlwZSkpLCBsYXN0SW5kZXggKyAzICsgdHlwZS5sZW5ndGggIT09IGNvbnRlbnQubGVuZ3RoKSBicmVhaztcbiAgICAgIGluZGV4ID0gbGFzdEluZGV4O1xuICAgIH1cbiAgICBjb25zdCBwYXJ0ID0gY29udGVudC5zbGljZSgwLCBpbmRleCksIGxhc3RQYXJ0ID0gcGFydC5sYXN0SW5kZXhPZihcIiBcIik7XG4gICAgbGV0IHZhcmlhYmxlID0gcGFydC5zbGljZShsYXN0UGFydCAhPT0gLTEgPyBsYXN0UGFydCArIDEgOiAtMSk7XG4gICAgaWYgKHZhcmlhYmxlID09PSBcIn1cIikge1xuICAgICAgY29uc3QgW3N0YXJ0LCBlbmRdID0gYnJhY2tldFBhaXJSYW5nZVJldmVyc2UocGFydCk7XG4gICAgICBhbGlhc2VzLnB1c2gocmVtb3ZlQ29sb25BbGlhcyhjb250ZW50LnNsaWNlKHN0YXJ0LCBlbmQpKSksIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKGluZGV4ICsgMyArIHR5cGUubGVuZ3RoKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBmb3IgKDsgdmFyaWFibGUuY2hhckNvZGVBdCgwKSA9PT0gNDQ7ICkgdmFyaWFibGUgPSB2YXJpYWJsZS5zbGljZSgxKTtcbiAgICBmb3IgKDsgdmFyaWFibGUuY2hhckNvZGVBdCgwKSA9PT0gOTsgKSB2YXJpYWJsZSA9IHZhcmlhYmxlLnNsaWNlKDEpO1xuICAgIHZhcmlhYmxlLmluY2x1ZGVzKFwiKFwiKSB8fCBhbGlhc2VzLnB1c2godmFyaWFibGUpLCBjb250ZW50ID0gY29udGVudC5zbGljZShpbmRleCArIDMgKyB0eXBlLmxlbmd0aCk7XG4gIH1cbiAgZm9yIChjb25zdCBhbGlhcyBvZiBhbGlhc2VzKSB7XG4gICAgaWYgKGFsaWFzLmNoYXJDb2RlQXQoMCkgPT09IDEyMykgY29udGludWU7XG4gICAgY29uc3QgZGVlcEFsaWFzID0gZmluZEFsaWFzKGFsaWFzLCBib2R5KTtcbiAgICBkZWVwQWxpYXMubGVuZ3RoID4gMCAmJiBhbGlhc2VzLnB1c2goLi4uZGVlcEFsaWFzKTtcbiAgfVxuICByZXR1cm4gYWxpYXNlcztcbn0sIGV4dHJhY3RNYWluUGFyYW1ldGVyID0gKHBhcmFtZXRlcikgPT4ge1xuICBpZiAoIXBhcmFtZXRlcikgcmV0dXJuO1xuICBpZiAocGFyYW1ldGVyLmNoYXJDb2RlQXQoMCkgIT09IDEyMykgcmV0dXJuIHBhcmFtZXRlcjtcbiAgaWYgKHBhcmFtZXRlciA9IHBhcmFtZXRlci5zbGljZSgyLCAtMiksICFwYXJhbWV0ZXIuaW5jbHVkZXMoXCIsXCIpKVxuICAgIHJldHVybiBwYXJhbWV0ZXIuaW5kZXhPZihcIi4uLlwiKSAhPT0gLTEgPyBwYXJhbWV0ZXIuc2xpY2UocGFyYW1ldGVyLmluZGV4T2YoXCIuLi5cIikgKyAzKSA6IHZvaWQgMDtcbiAgY29uc3Qgc3ByZWFkSW5kZXggPSBwYXJhbWV0ZXIuaW5kZXhPZihcIi4uLlwiKTtcbiAgaWYgKHNwcmVhZEluZGV4ICE9PSAtMSlcbiAgICByZXR1cm4gcGFyYW1ldGVyLnNsaWNlKHNwcmVhZEluZGV4ICsgMykudHJpbUVuZCgpO1xufSwgaW5mZXJCb2R5UmVmZXJlbmNlID0gKGNvZGUsIGFsaWFzZXMsIGluZmVyZW5jZSkgPT4ge1xuICBjb25zdCBhY2Nlc3MgPSAodHlwZSwgYWxpYXMpID0+IG5ldyBSZWdFeHAoXG4gICAgYCR7YWxpYXN9XFxcXC4oJHt0eXBlfSl8JHthbGlhc31cXFxcW1wiJHt0eXBlfVwiXFxcXF18JHthbGlhc31cXFxcWycke3R5cGV9J1xcXFxdYFxuICApLnRlc3QoY29kZSk7XG4gIGZvciAoY29uc3QgYWxpYXMgb2YgYWxpYXNlcylcbiAgICBpZiAoYWxpYXMpIHtcbiAgICAgIGlmIChhbGlhcy5jaGFyQ29kZUF0KDApID09PSAxMjMpIHtcbiAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IHJldHJpZXZlUm9vdFBhcmFtdGVycyhhbGlhcykucGFyYW1ldGVycztcbiAgICAgICAgcGFyYW1ldGVycy5xdWVyeSAmJiAoaW5mZXJlbmNlLnF1ZXJ5ID0gITApLCBwYXJhbWV0ZXJzLmhlYWRlcnMgJiYgKGluZmVyZW5jZS5oZWFkZXJzID0gITApLCBwYXJhbWV0ZXJzLmJvZHkgJiYgKGluZmVyZW5jZS5ib2R5ID0gITApLCBwYXJhbWV0ZXJzLmNvb2tpZSAmJiAoaW5mZXJlbmNlLmNvb2tpZSA9ICEwKSwgcGFyYW1ldGVycy5zZXQgJiYgKGluZmVyZW5jZS5zZXQgPSAhMCksIHBhcmFtZXRlcnMuc2VydmVyICYmIChpbmZlcmVuY2Uuc2VydmVyID0gITApLCBwYXJhbWV0ZXJzLnVybCAmJiAoaW5mZXJlbmNlLnVybCA9ICEwKSwgcGFyYW1ldGVycy5yb3V0ZSAmJiAoaW5mZXJlbmNlLnJvdXRlID0gITApLCBwYXJhbWV0ZXJzLnBhdGggJiYgKGluZmVyZW5jZS5wYXRoID0gITApO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICghaW5mZXJlbmNlLnF1ZXJ5ICYmIChhY2Nlc3MoXCJxdWVyeVwiLCBhbGlhcykgfHwgY29kZS5pbmNsdWRlcyhcInJldHVybiBcIiArIGFsaWFzKSB8fCBjb2RlLmluY2x1ZGVzKFwicmV0dXJuIFwiICsgYWxpYXMgKyBcIi5xdWVyeVwiKSkgJiYgKGluZmVyZW5jZS5xdWVyeSA9ICEwKSwgIWluZmVyZW5jZS5oZWFkZXJzICYmIGFjY2VzcyhcImhlYWRlcnNcIiwgYWxpYXMpICYmIChpbmZlcmVuY2UuaGVhZGVycyA9ICEwKSwgIWluZmVyZW5jZS5ib2R5ICYmIGFjY2VzcyhcImJvZHlcIiwgYWxpYXMpICYmIChpbmZlcmVuY2UuYm9keSA9ICEwKSwgIWluZmVyZW5jZS5jb29raWUgJiYgYWNjZXNzKFwiY29va2llXCIsIGFsaWFzKSAmJiAoaW5mZXJlbmNlLmNvb2tpZSA9ICEwKSwgIWluZmVyZW5jZS5zZXQgJiYgYWNjZXNzKFwic2V0XCIsIGFsaWFzKSAmJiAoaW5mZXJlbmNlLnNldCA9ICEwKSwgIWluZmVyZW5jZS5zZXJ2ZXIgJiYgYWNjZXNzKFwic2VydmVyXCIsIGFsaWFzKSAmJiAoaW5mZXJlbmNlLnNlcnZlciA9ICEwKSwgIWluZmVyZW5jZS5yb3V0ZSAmJiBhY2Nlc3MoXCJyb3V0ZVwiLCBhbGlhcykgJiYgKGluZmVyZW5jZS5yb3V0ZSA9ICEwKSwgIWluZmVyZW5jZS51cmwgJiYgYWNjZXNzKFwidXJsXCIsIGFsaWFzKSAmJiAoaW5mZXJlbmNlLnVybCA9ICEwKSwgIWluZmVyZW5jZS5wYXRoICYmIGFjY2VzcyhcInBhdGhcIiwgYWxpYXMpICYmIChpbmZlcmVuY2UucGF0aCA9ICEwKSwgaW5mZXJlbmNlLnF1ZXJ5ICYmIGluZmVyZW5jZS5oZWFkZXJzICYmIGluZmVyZW5jZS5ib2R5ICYmIGluZmVyZW5jZS5jb29raWUgJiYgaW5mZXJlbmNlLnNldCAmJiBpbmZlcmVuY2Uuc2VydmVyICYmIGluZmVyZW5jZS5yb3V0ZSAmJiBpbmZlcmVuY2UudXJsICYmIGluZmVyZW5jZS5wYXRoKVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIHJldHVybiBhbGlhc2VzO1xufSwgcmVtb3ZlRGVmYXVsdFBhcmFtZXRlciA9IChwYXJhbWV0ZXIpID0+IHtcbiAgZm9yICg7IDsgKSB7XG4gICAgY29uc3QgaW5kZXggPSBwYXJhbWV0ZXIuaW5kZXhPZihcIj1cIik7XG4gICAgaWYgKGluZGV4ID09PSAtMSkgYnJlYWs7XG4gICAgY29uc3QgY29tbWFJbmRleCA9IHBhcmFtZXRlci5pbmRleE9mKFwiLFwiLCBpbmRleCksIGJyYWNrZXRJbmRleCA9IHBhcmFtZXRlci5pbmRleE9mKFwifVwiLCBpbmRleCksIGVuZCA9IFtjb21tYUluZGV4LCBicmFja2V0SW5kZXhdLmZpbHRlcigoaSkgPT4gaSA+IDApLnNvcnQoKGEsIGIpID0+IGEgLSBiKVswXSB8fCAtMTtcbiAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgcGFyYW1ldGVyID0gcGFyYW1ldGVyLnNsaWNlKDAsIGluZGV4KTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBwYXJhbWV0ZXIgPSBwYXJhbWV0ZXIuc2xpY2UoMCwgaW5kZXgpICsgcGFyYW1ldGVyLnNsaWNlKGVuZCk7XG4gIH1cbiAgcmV0dXJuIHBhcmFtZXRlci5zcGxpdChcIixcIikubWFwKChpKSA9PiBpLnRyaW0oKSkuam9pbihcIiwgXCIpO1xufSwgaXNDb250ZXh0UGFzc1RvRnVuY3Rpb24gPSAoY29udGV4dCwgYm9keSwgaW5mZXJlbmNlKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY2FwdHVyZUZ1bmN0aW9uID0gbmV3IFJlZ0V4cChgXFxcXHdcXFxcKCguKj8pPyR7Y29udGV4dH1gLCBcImdzXCIpO1xuICAgIGNhcHR1cmVGdW5jdGlvbi50ZXN0KGJvZHkpO1xuICAgIGNvbnN0IG5leHRDaGFyID0gYm9keS5jaGFyQ29kZUF0KGNhcHR1cmVGdW5jdGlvbi5sYXN0SW5kZXgpO1xuICAgIHJldHVybiBuZXh0Q2hhciA9PT0gNDEgfHwgbmV4dENoYXIgPT09IDQ0ID8gKGluZmVyZW5jZS5xdWVyeSA9ICEwLCBpbmZlcmVuY2UuaGVhZGVycyA9ICEwLCBpbmZlcmVuY2UuYm9keSA9ICEwLCBpbmZlcmVuY2UuY29va2llID0gITAsIGluZmVyZW5jZS5zZXQgPSAhMCwgaW5mZXJlbmNlLnNlcnZlciA9ICEwLCBpbmZlcmVuY2UudXJsID0gITAsIGluZmVyZW5jZS5yb3V0ZSA9ICEwLCBpbmZlcmVuY2UucGF0aCA9ICEwLCAhMCkgOiAhMTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGNvbnNvbGUubG9nKFxuICAgICAgXCJbU3Vjcm9zZV0gd2FybmluZzogdW5leHBlY3RlZCBpc0NvbnRleHRQYXNzVG9GdW5jdGlvbiBlcnJvciwgeW91IG1heSBjb250aW51ZSBkZXZlbG9wbWVudCBhcyB1c3VhbCBidXQgcGxlYXNlIHJlcG9ydCB0aGUgZm9sbG93aW5nIHRvIG1haW50YWluZXJzOlwiXG4gICAgKSwgY29uc29sZS5sb2coXCItLS0gYm9keSAtLS1cIiksIGNvbnNvbGUubG9nKGJvZHkpLCBjb25zb2xlLmxvZyhcIi0tLSBjb250ZXh0IC0tLVwiKSwgY29uc29sZS5sb2coY29udGV4dCksICEwO1xuICB9XG59O1xubGV0IHBlbmRpbmdHQywgY2FjaGVzID0ge307XG5jb25zdCBjbGVhclN1Y3Jvc2VDYWNoZSA9IChkZWxheSkgPT4ge1xuICBkZWxheSA9PT0gbnVsbCB8fCBpc0Nsb3VkZmxhcmVXb3JrZXIoKSB8fCAoZGVsYXkgPT09IHZvaWQgMCAmJiAoZGVsYXkgPSA0ICogNjAgKiAxZTMgKyA1NSAqIDFlMyksIHBlbmRpbmdHQyAmJiBjbGVhclRpbWVvdXQocGVuZGluZ0dDKSwgcGVuZGluZ0dDID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgY2FjaGVzID0ge30sIHBlbmRpbmdHQyA9IHZvaWQgMCwgaXNCdW4gJiYgQnVuLmdjKCExKTtcbiAgfSwgZGVsYXkpKTtcbn0sIG1lcmdlSW5mZXJlbmNlID0gKGEsIGIpID0+ICh7XG4gIGJvZHk6IGEuYm9keSB8fCBiLmJvZHksXG4gIGNvb2tpZTogYS5jb29raWUgfHwgYi5jb29raWUsXG4gIGhlYWRlcnM6IGEuaGVhZGVycyB8fCBiLmhlYWRlcnMsXG4gIHF1ZXJ5OiBhLnF1ZXJ5IHx8IGIucXVlcnksXG4gIHNldDogYS5zZXQgfHwgYi5zZXQsXG4gIHNlcnZlcjogYS5zZXJ2ZXIgfHwgYi5zZXJ2ZXIsXG4gIHVybDogYS51cmwgfHwgYi51cmwsXG4gIHJvdXRlOiBhLnJvdXRlIHx8IGIucm91dGUsXG4gIHBhdGg6IGEucGF0aCB8fCBiLnBhdGhcbn0pLCBzdWNyb3NlID0gKGxpZmVDeWNsZSwgaW5mZXJlbmNlID0ge1xuICBxdWVyeTogITEsXG4gIGhlYWRlcnM6ICExLFxuICBib2R5OiAhMSxcbiAgY29va2llOiAhMSxcbiAgc2V0OiAhMSxcbiAgc2VydmVyOiAhMSxcbiAgdXJsOiAhMSxcbiAgcm91dGU6ICExLFxuICBwYXRoOiAhMVxufSwgc2V0dGluZ3MgPSB7fSkgPT4ge1xuICBjb25zdCBldmVudHMgPSBbXTtcbiAgbGlmZUN5Y2xlLnJlcXVlc3Q/Lmxlbmd0aCAmJiBldmVudHMucHVzaCguLi5saWZlQ3ljbGUucmVxdWVzdCksIGxpZmVDeWNsZS5iZWZvcmVIYW5kbGU/Lmxlbmd0aCAmJiBldmVudHMucHVzaCguLi5saWZlQ3ljbGUuYmVmb3JlSGFuZGxlKSwgbGlmZUN5Y2xlLnBhcnNlPy5sZW5ndGggJiYgZXZlbnRzLnB1c2goLi4ubGlmZUN5Y2xlLnBhcnNlKSwgbGlmZUN5Y2xlLmVycm9yPy5sZW5ndGggJiYgZXZlbnRzLnB1c2goLi4ubGlmZUN5Y2xlLmVycm9yKSwgbGlmZUN5Y2xlLnRyYW5zZm9ybT8ubGVuZ3RoICYmIGV2ZW50cy5wdXNoKC4uLmxpZmVDeWNsZS50cmFuc2Zvcm0pLCBsaWZlQ3ljbGUuYWZ0ZXJIYW5kbGU/Lmxlbmd0aCAmJiBldmVudHMucHVzaCguLi5saWZlQ3ljbGUuYWZ0ZXJIYW5kbGUpLCBsaWZlQ3ljbGUubWFwUmVzcG9uc2U/Lmxlbmd0aCAmJiBldmVudHMucHVzaCguLi5saWZlQ3ljbGUubWFwUmVzcG9uc2UpLCBsaWZlQ3ljbGUuYWZ0ZXJSZXNwb25zZT8ubGVuZ3RoICYmIGV2ZW50cy5wdXNoKC4uLmxpZmVDeWNsZS5hZnRlclJlc3BvbnNlKSwgbGlmZUN5Y2xlLmhhbmRsZXIgJiYgdHlwZW9mIGxpZmVDeWNsZS5oYW5kbGVyID09IFwiZnVuY3Rpb25cIiAmJiBldmVudHMucHVzaChsaWZlQ3ljbGUuaGFuZGxlcik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZSA9IGV2ZW50c1tpXTtcbiAgICBpZiAoIWUpIGNvbnRpbnVlO1xuICAgIGNvbnN0IGV2ZW50ID0gdHlwZW9mIGUgPT0gXCJvYmplY3RcIiA/IGUuZm4gOiBlO1xuICAgIGlmICh0eXBlb2YgZXZlbnQgIT0gXCJmdW5jdGlvblwiKSBjb250aW51ZTtcbiAgICBjb25zdCBjb250ZW50ID0gZXZlbnQudG9TdHJpbmcoKSwga2V5ID0gY2hlY2tzdW0oY29udGVudCksIGNhY2hlZEluZmVyZW5jZSA9IGNhY2hlc1trZXldO1xuICAgIGlmIChjYWNoZWRJbmZlcmVuY2UpIHtcbiAgICAgIGluZmVyZW5jZSA9IG1lcmdlSW5mZXJlbmNlKGluZmVyZW5jZSwgY2FjaGVkSW5mZXJlbmNlKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjbGVhclN1Y3Jvc2VDYWNoZShzZXR0aW5ncy5nY1RpbWUpO1xuICAgIGNvbnN0IGZuSW5mZXJlbmNlID0ge1xuICAgICAgcXVlcnk6ICExLFxuICAgICAgaGVhZGVyczogITEsXG4gICAgICBib2R5OiAhMSxcbiAgICAgIGNvb2tpZTogITEsXG4gICAgICBzZXQ6ICExLFxuICAgICAgc2VydmVyOiAhMSxcbiAgICAgIHVybDogITEsXG4gICAgICByb3V0ZTogITEsXG4gICAgICBwYXRoOiAhMVxuICAgIH0sIFtwYXJhbWV0ZXIsIGJvZHldID0gc2VwYXJhdGVGdW5jdGlvbihjb250ZW50KSwgcm9vdFBhcmFtZXRlcnMgPSBmaW5kUGFyYW1ldGVyUmVmZXJlbmNlKHBhcmFtZXRlciwgZm5JbmZlcmVuY2UpLCBtYWluUGFyYW1ldGVyID0gZXh0cmFjdE1haW5QYXJhbWV0ZXIocm9vdFBhcmFtZXRlcnMpO1xuICAgIGlmIChtYWluUGFyYW1ldGVyKSB7XG4gICAgICBjb25zdCBhbGlhc2VzID0gZmluZEFsaWFzKG1haW5QYXJhbWV0ZXIsIGJvZHkuc2xpY2UoMSwgLTEpKTtcbiAgICAgIGFsaWFzZXMuc3BsaWNlKDAsIC0xLCBtYWluUGFyYW1ldGVyKTtcbiAgICAgIGxldCBjb2RlID0gYm9keTtcbiAgICAgIGNvZGUuY2hhckNvZGVBdCgwKSA9PT0gMTIzICYmIGNvZGUuY2hhckNvZGVBdChib2R5Lmxlbmd0aCAtIDEpID09PSAxMjUgJiYgKGNvZGUgPSBjb2RlLnNsaWNlKDEsIC0xKSksIGlzQ29udGV4dFBhc3NUb0Z1bmN0aW9uKG1haW5QYXJhbWV0ZXIsIGNvZGUsIGZuSW5mZXJlbmNlKSB8fCBpbmZlckJvZHlSZWZlcmVuY2UoY29kZSwgYWxpYXNlcywgZm5JbmZlcmVuY2UpLCAhZm5JbmZlcmVuY2UucXVlcnkgJiYgY29kZS5pbmNsdWRlcyhcInJldHVybiBcIiArIG1haW5QYXJhbWV0ZXIgKyBcIi5xdWVyeVwiKSAmJiAoZm5JbmZlcmVuY2UucXVlcnkgPSAhMCk7XG4gICAgfVxuICAgIGlmIChjYWNoZXNba2V5XSB8fCAoY2FjaGVzW2tleV0gPSBmbkluZmVyZW5jZSksIGluZmVyZW5jZSA9IG1lcmdlSW5mZXJlbmNlKGluZmVyZW5jZSwgZm5JbmZlcmVuY2UpLCBpbmZlcmVuY2UucXVlcnkgJiYgaW5mZXJlbmNlLmhlYWRlcnMgJiYgaW5mZXJlbmNlLmJvZHkgJiYgaW5mZXJlbmNlLmNvb2tpZSAmJiBpbmZlcmVuY2Uuc2V0ICYmIGluZmVyZW5jZS5zZXJ2ZXIgJiYgaW5mZXJlbmNlLnVybCAmJiBpbmZlcmVuY2Uucm91dGUgJiYgaW5mZXJlbmNlLnBhdGgpXG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gaW5mZXJlbmNlO1xufTtcbmV4cG9ydCB7XG4gIGJyYWNrZXRQYWlyUmFuZ2UsXG4gIGJyYWNrZXRQYWlyUmFuZ2VSZXZlcnNlLFxuICBjbGVhclN1Y3Jvc2VDYWNoZSxcbiAgZXh0cmFjdE1haW5QYXJhbWV0ZXIsXG4gIGZpbmRBbGlhcyxcbiAgZmluZFBhcmFtZXRlclJlZmVyZW5jZSxcbiAgaW5mZXJCb2R5UmVmZXJlbmNlLFxuICBpc0NvbnRleHRQYXNzVG9GdW5jdGlvbixcbiAgbWVyZ2VJbmZlcmVuY2UsXG4gIHJlbW92ZUNvbG9uQWxpYXMsXG4gIHJlbW92ZURlZmF1bHRQYXJhbWV0ZXIsXG4gIHJldHJpZXZlUm9vdFBhcmFtdGVycyxcbiAgc2VwYXJhdGVGdW5jdGlvbixcbiAgc3Vjcm9zZVxufTtcbiIsCiAgICAiaW1wb3J0IHtcbiAgY3JlYXRlUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVTdHJlYW1IYW5kbGVyLFxuICBoYW5kbGVGaWxlLFxuICBoYW5kbGVTZXRcbn0gZnJvbSBcIi4uL3V0aWxzLm1qc1wiO1xuaW1wb3J0IHsgaXNOb3RFbXB0eSB9IGZyb20gXCIuLi8uLi91dGlscy5tanNcIjtcbmltcG9ydCB7IENvb2tpZSB9IGZyb20gXCIuLi8uLi9jb29raWVzLm1qc1wiO1xuaW1wb3J0IHsgRWx5c2lhQ3VzdG9tU3RhdHVzUmVzcG9uc2UgfSBmcm9tIFwiLi4vLi4vZXJyb3IubWpzXCI7XG5jb25zdCBtYXBSZXNwb25zZSA9IChyZXNwb25zZSwgc2V0MiwgcmVxdWVzdCkgPT4ge1xuICBpZiAoaXNOb3RFbXB0eShzZXQyLmhlYWRlcnMpIHx8IHNldDIuc3RhdHVzICE9PSAyMDAgfHwgc2V0Mi5jb29raWUpXG4gICAgc3dpdGNoIChoYW5kbGVTZXQoc2V0MiksIHJlc3BvbnNlPy5jb25zdHJ1Y3Rvcj8ubmFtZSkge1xuICAgICAgY2FzZSBcIlN0cmluZ1wiOlxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLCBzZXQyKTtcbiAgICAgIGNhc2UgXCJBcnJheVwiOlxuICAgICAgY2FzZSBcIk9iamVjdFwiOlxuICAgICAgICByZXR1cm4gc2V0Mi5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdID0gXCJhcHBsaWNhdGlvbi9qc29uXCIsIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShyZXNwb25zZSksIHNldDIpO1xuICAgICAgY2FzZSBcIkVseXNpYUZpbGVcIjpcbiAgICAgICAgcmV0dXJuIGhhbmRsZUZpbGUoXG4gICAgICAgICAgcmVzcG9uc2UudmFsdWUsXG4gICAgICAgICAgc2V0MlxuICAgICAgICApO1xuICAgICAgY2FzZSBcIkZpbGVcIjpcbiAgICAgICAgcmV0dXJuIGhhbmRsZUZpbGUocmVzcG9uc2UsIHNldDIpO1xuICAgICAgY2FzZSBcIkJsb2JcIjpcbiAgICAgICAgcmV0dXJuIGhhbmRsZUZpbGUocmVzcG9uc2UsIHNldDIpO1xuICAgICAgY2FzZSBcIkVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlXCI6XG4gICAgICAgIHJldHVybiBzZXQyLnN0YXR1cyA9IHJlc3BvbnNlLmNvZGUsIG1hcFJlc3BvbnNlKFxuICAgICAgICAgIHJlc3BvbnNlLnJlc3BvbnNlLFxuICAgICAgICAgIHNldDIsXG4gICAgICAgICAgcmVxdWVzdFxuICAgICAgICApO1xuICAgICAgY2FzZSB2b2lkIDA6XG4gICAgICAgIHJldHVybiByZXNwb25zZSA/IG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShyZXNwb25zZSksIHNldDIpIDogbmV3IFJlc3BvbnNlKFwiXCIsIHNldDIpO1xuICAgICAgY2FzZSBcIlJlc3BvbnNlXCI6XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXNwb25zZShyZXNwb25zZSwgc2V0MiwgcmVxdWVzdCk7XG4gICAgICBjYXNlIFwiRXJyb3JcIjpcbiAgICAgICAgcmV0dXJuIGVycm9yVG9SZXNwb25zZShyZXNwb25zZSwgc2V0Mik7XG4gICAgICBjYXNlIFwiUHJvbWlzZVwiOlxuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbihcbiAgICAgICAgICAoeCkgPT4gbWFwUmVzcG9uc2UoeCwgc2V0MiwgcmVxdWVzdClcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJGdW5jdGlvblwiOlxuICAgICAgICByZXR1cm4gbWFwUmVzcG9uc2UocmVzcG9uc2UoKSwgc2V0MiwgcmVxdWVzdCk7XG4gICAgICBjYXNlIFwiTnVtYmVyXCI6XG4gICAgICBjYXNlIFwiQm9vbGVhblwiOlxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgICAgIHJlc3BvbnNlLnRvU3RyaW5nKCksXG4gICAgICAgICAgc2V0MlxuICAgICAgICApO1xuICAgICAgY2FzZSBcIkNvb2tpZVwiOlxuICAgICAgICByZXR1cm4gcmVzcG9uc2UgaW5zdGFuY2VvZiBDb29raWUgPyBuZXcgUmVzcG9uc2UocmVzcG9uc2UudmFsdWUsIHNldDIpIDogbmV3IFJlc3BvbnNlKHJlc3BvbnNlPy50b1N0cmluZygpLCBzZXQyKTtcbiAgICAgIGNhc2UgXCJGb3JtRGF0YVwiOlxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLCBzZXQyKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIFJlc3BvbnNlKVxuICAgICAgICAgIHJldHVybiBoYW5kbGVSZXNwb25zZShyZXNwb25zZSwgc2V0MiwgcmVxdWVzdCk7XG4gICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKHgpID0+IG1hcFJlc3BvbnNlKHgsIHNldDIpKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgICAgcmV0dXJuIGVycm9yVG9SZXNwb25zZShyZXNwb25zZSwgc2V0Mik7XG4gICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlKVxuICAgICAgICAgIHJldHVybiBzZXQyLnN0YXR1cyA9IHJlc3BvbnNlLmNvZGUsIG1hcFJlc3BvbnNlKFxuICAgICAgICAgICAgcmVzcG9uc2UucmVzcG9uc2UsXG4gICAgICAgICAgICBzZXQyLFxuICAgICAgICAgICAgcmVxdWVzdFxuICAgICAgICAgICk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgdHlwZW9mIHJlc3BvbnNlPy5uZXh0ID09IFwiZnVuY3Rpb25cIiB8fCByZXNwb25zZSBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gaGFuZGxlU3RyZWFtKHJlc3BvbnNlLCBzZXQyLCByZXF1ZXN0KTtcbiAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZT8udGhlbiA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKHgpID0+IG1hcFJlc3BvbnNlKHgsIHNldDIpKTtcbiAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZT8udG9SZXNwb25zZSA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgcmV0dXJuIG1hcFJlc3BvbnNlKHJlc3BvbnNlLnRvUmVzcG9uc2UoKSwgc2V0Mik7XG4gICAgICAgIGlmIChcImNoYXJDb2RlQXRcIiBpbiByZXNwb25zZSkge1xuICAgICAgICAgIGNvbnN0IGNvZGUgPSByZXNwb25zZS5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgIGlmIChjb2RlID09PSAxMjMgfHwgY29kZSA9PT0gOTEpXG4gICAgICAgICAgICByZXR1cm4gc2V0Mi5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdIHx8IChzZXQyLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIiksIG5ldyBSZXNwb25zZShcbiAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpLFxuICAgICAgICAgICAgICBzZXQyXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2UsIHNldDIpO1xuICAgIH1cbiAgcmV0dXJuIChcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgdHlwZW9mIHJlc3BvbnNlPy5uZXh0ID09IFwiZnVuY3Rpb25cIiB8fCByZXNwb25zZSBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtID8gaGFuZGxlU3RyZWFtKHJlc3BvbnNlLCBzZXQyLCByZXF1ZXN0KSA6IG1hcENvbXBhY3RSZXNwb25zZShyZXNwb25zZSwgcmVxdWVzdClcbiAgKTtcbn0sIG1hcEVhcmx5UmVzcG9uc2UgPSAocmVzcG9uc2UsIHNldDIsIHJlcXVlc3QpID0+IHtcbiAgaWYgKHJlc3BvbnNlICE9IG51bGwpXG4gICAgaWYgKGlzTm90RW1wdHkoc2V0Mi5oZWFkZXJzKSB8fCBzZXQyLnN0YXR1cyAhPT0gMjAwIHx8IHNldDIuY29va2llKVxuICAgICAgc3dpdGNoIChoYW5kbGVTZXQoc2V0MiksIHJlc3BvbnNlPy5jb25zdHJ1Y3Rvcj8ubmFtZSkge1xuICAgICAgICBjYXNlIFwiU3RyaW5nXCI6XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZSwgc2V0Mik7XG4gICAgICAgIGNhc2UgXCJBcnJheVwiOlxuICAgICAgICBjYXNlIFwiT2JqZWN0XCI6XG4gICAgICAgICAgcmV0dXJuIHNldDIuaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSA9IFwiYXBwbGljYXRpb24vanNvblwiLCBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpLCBzZXQyKTtcbiAgICAgICAgY2FzZSBcIkVseXNpYUZpbGVcIjpcbiAgICAgICAgICByZXR1cm4gaGFuZGxlRmlsZShyZXNwb25zZS52YWx1ZSwgc2V0Mik7XG4gICAgICAgIGNhc2UgXCJGaWxlXCI6XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZUZpbGUocmVzcG9uc2UsIHNldDIpO1xuICAgICAgICBjYXNlIFwiQmxvYlwiOlxuICAgICAgICAgIHJldHVybiBoYW5kbGVGaWxlKHJlc3BvbnNlLCBzZXQyKTtcbiAgICAgICAgY2FzZSBcIkVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlXCI6XG4gICAgICAgICAgcmV0dXJuIHNldDIuc3RhdHVzID0gcmVzcG9uc2UuY29kZSwgbWFwRWFybHlSZXNwb25zZShcbiAgICAgICAgICAgIHJlc3BvbnNlLnJlc3BvbnNlLFxuICAgICAgICAgICAgc2V0MixcbiAgICAgICAgICAgIHJlcXVlc3RcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIHZvaWQgMDpcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UgPyBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpLCBzZXQyKSA6IHZvaWQgMDtcbiAgICAgICAgY2FzZSBcIlJlc3BvbnNlXCI6XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlLCBzZXQyLCByZXF1ZXN0KTtcbiAgICAgICAgY2FzZSBcIlByb21pc2VcIjpcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbihcbiAgICAgICAgICAgICh4KSA9PiBtYXBFYXJseVJlc3BvbnNlKHgsIHNldDIpXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcIkVycm9yXCI6XG4gICAgICAgICAgcmV0dXJuIGVycm9yVG9SZXNwb25zZShyZXNwb25zZSwgc2V0Mik7XG4gICAgICAgIGNhc2UgXCJGdW5jdGlvblwiOlxuICAgICAgICAgIHJldHVybiBtYXBFYXJseVJlc3BvbnNlKHJlc3BvbnNlKCksIHNldDIpO1xuICAgICAgICBjYXNlIFwiTnVtYmVyXCI6XG4gICAgICAgIGNhc2UgXCJCb29sZWFuXCI6XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgICAgICAgIHJlc3BvbnNlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXQyXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcIkZvcm1EYXRhXCI6XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIGNhc2UgXCJDb29raWVcIjpcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UgaW5zdGFuY2VvZiBDb29raWUgPyBuZXcgUmVzcG9uc2UocmVzcG9uc2UudmFsdWUsIHNldDIpIDogbmV3IFJlc3BvbnNlKHJlc3BvbnNlPy50b1N0cmluZygpLCBzZXQyKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBSZXNwb25zZSlcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVSZXNwb25zZShyZXNwb25zZSwgc2V0MiwgcmVxdWVzdCk7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgUHJvbWlzZSlcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS50aGVuKCh4KSA9PiBtYXBFYXJseVJlc3BvbnNlKHgsIHNldDIpKTtcbiAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgICAgIHJldHVybiBlcnJvclRvUmVzcG9uc2UocmVzcG9uc2UsIHNldDIpO1xuICAgICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlKVxuICAgICAgICAgICAgcmV0dXJuIHNldDIuc3RhdHVzID0gcmVzcG9uc2UuY29kZSwgbWFwRWFybHlSZXNwb25zZShcbiAgICAgICAgICAgICAgcmVzcG9uc2UucmVzcG9uc2UsXG4gICAgICAgICAgICAgIHNldDIsXG4gICAgICAgICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgdHlwZW9mIHJlc3BvbnNlPy5uZXh0ID09IFwiZnVuY3Rpb25cIiB8fCByZXNwb25zZSBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVN0cmVhbShyZXNwb25zZSwgc2V0MiwgcmVxdWVzdCk7XG4gICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZT8udGhlbiA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoeCkgPT4gbWFwRWFybHlSZXNwb25zZSh4LCBzZXQyKSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZT8udG9SZXNwb25zZSA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gbWFwRWFybHlSZXNwb25zZShyZXNwb25zZS50b1Jlc3BvbnNlKCksIHNldDIpO1xuICAgICAgICAgIGlmIChcImNoYXJDb2RlQXRcIiBpbiByZXNwb25zZSkge1xuICAgICAgICAgICAgY29uc3QgY29kZSA9IHJlc3BvbnNlLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBpZiAoY29kZSA9PT0gMTIzIHx8IGNvZGUgPT09IDkxKVxuICAgICAgICAgICAgICByZXR1cm4gc2V0Mi5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdIHx8IChzZXQyLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIiksIG5ldyBSZXNwb25zZShcbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShyZXNwb25zZSksXG4gICAgICAgICAgICAgICAgc2V0MlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLCBzZXQyKTtcbiAgICAgIH1cbiAgICBlbHNlXG4gICAgICBzd2l0Y2ggKHJlc3BvbnNlPy5jb25zdHJ1Y3Rvcj8ubmFtZSkge1xuICAgICAgICBjYXNlIFwiU3RyaW5nXCI6XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIGNhc2UgXCJBcnJheVwiOlxuICAgICAgICBjYXNlIFwiT2JqZWN0XCI6XG4gICAgICAgICAgcmV0dXJuIHNldDIuaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSA9IFwiYXBwbGljYXRpb24vanNvblwiLCBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpLCBzZXQyKTtcbiAgICAgICAgY2FzZSBcIkVseXNpYUZpbGVcIjpcbiAgICAgICAgICByZXR1cm4gaGFuZGxlRmlsZShyZXNwb25zZS52YWx1ZSwgc2V0Mik7XG4gICAgICAgIGNhc2UgXCJGaWxlXCI6XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZUZpbGUocmVzcG9uc2UsIHNldDIpO1xuICAgICAgICBjYXNlIFwiQmxvYlwiOlxuICAgICAgICAgIHJldHVybiBoYW5kbGVGaWxlKHJlc3BvbnNlLCBzZXQyKTtcbiAgICAgICAgY2FzZSBcIkVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlXCI6XG4gICAgICAgICAgcmV0dXJuIHNldDIuc3RhdHVzID0gcmVzcG9uc2UuY29kZSwgbWFwRWFybHlSZXNwb25zZShcbiAgICAgICAgICAgIHJlc3BvbnNlLnJlc3BvbnNlLFxuICAgICAgICAgICAgc2V0MixcbiAgICAgICAgICAgIHJlcXVlc3RcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIHZvaWQgMDpcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UgPyBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkgOiBuZXcgUmVzcG9uc2UoXCJcIik7XG4gICAgICAgIGNhc2UgXCJSZXNwb25zZVwiOlxuICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgY2FzZSBcIlByb21pc2VcIjpcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IG1hcEVhcmx5UmVzcG9uc2UoeCwgc2V0Mik7XG4gICAgICAgICAgICBpZiAociAhPT0gdm9pZCAwKSByZXR1cm4gcjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSBcIkVycm9yXCI6XG4gICAgICAgICAgcmV0dXJuIGVycm9yVG9SZXNwb25zZShyZXNwb25zZSwgc2V0Mik7XG4gICAgICAgIGNhc2UgXCJGdW5jdGlvblwiOlxuICAgICAgICAgIHJldHVybiBtYXBDb21wYWN0UmVzcG9uc2UocmVzcG9uc2UoKSwgcmVxdWVzdCk7XG4gICAgICAgIGNhc2UgXCJOdW1iZXJcIjpcbiAgICAgICAgY2FzZSBcIkJvb2xlYW5cIjpcbiAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLnRvU3RyaW5nKCkpO1xuICAgICAgICBjYXNlIFwiQ29va2llXCI6XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlIGluc3RhbmNlb2YgQ29va2llID8gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLnZhbHVlLCBzZXQyKSA6IG5ldyBSZXNwb25zZShyZXNwb25zZT8udG9TdHJpbmcoKSwgc2V0Mik7XG4gICAgICAgIGNhc2UgXCJGb3JtRGF0YVwiOlxuICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIFJlc3BvbnNlKSByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgUHJvbWlzZSlcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS50aGVuKCh4KSA9PiBtYXBFYXJseVJlc3BvbnNlKHgsIHNldDIpKTtcbiAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgICAgIHJldHVybiBlcnJvclRvUmVzcG9uc2UocmVzcG9uc2UsIHNldDIpO1xuICAgICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlKVxuICAgICAgICAgICAgcmV0dXJuIHNldDIuc3RhdHVzID0gcmVzcG9uc2UuY29kZSwgbWFwRWFybHlSZXNwb25zZShcbiAgICAgICAgICAgICAgcmVzcG9uc2UucmVzcG9uc2UsXG4gICAgICAgICAgICAgIHNldDIsXG4gICAgICAgICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgdHlwZW9mIHJlc3BvbnNlPy5uZXh0ID09IFwiZnVuY3Rpb25cIiB8fCByZXNwb25zZSBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVN0cmVhbShyZXNwb25zZSwgc2V0MiwgcmVxdWVzdCk7XG4gICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZT8udGhlbiA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGhlbigoeCkgPT4gbWFwRWFybHlSZXNwb25zZSh4LCBzZXQyKSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZT8udG9SZXNwb25zZSA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gbWFwRWFybHlSZXNwb25zZShyZXNwb25zZS50b1Jlc3BvbnNlKCksIHNldDIpO1xuICAgICAgICAgIGlmIChcImNoYXJDb2RlQXRcIiBpbiByZXNwb25zZSkge1xuICAgICAgICAgICAgY29uc3QgY29kZSA9IHJlc3BvbnNlLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBpZiAoY29kZSA9PT0gMTIzIHx8IGNvZGUgPT09IDkxKVxuICAgICAgICAgICAgICByZXR1cm4gc2V0Mi5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdIHx8IChzZXQyLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIiksIG5ldyBSZXNwb25zZShcbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShyZXNwb25zZSksXG4gICAgICAgICAgICAgICAgc2V0MlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgIH1cbn0sIG1hcENvbXBhY3RSZXNwb25zZSA9IChyZXNwb25zZSwgcmVxdWVzdCkgPT4ge1xuICBzd2l0Y2ggKHJlc3BvbnNlPy5jb25zdHJ1Y3Rvcj8ubmFtZSkge1xuICAgIGNhc2UgXCJTdHJpbmdcIjpcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIGNhc2UgXCJPYmplY3RcIjpcbiAgICBjYXNlIFwiQXJyYXlcIjpcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICBjYXNlIFwiRWx5c2lhRmlsZVwiOlxuICAgICAgcmV0dXJuIGhhbmRsZUZpbGUocmVzcG9uc2UudmFsdWUpO1xuICAgIGNhc2UgXCJGaWxlXCI6XG4gICAgICByZXR1cm4gaGFuZGxlRmlsZShyZXNwb25zZSk7XG4gICAgY2FzZSBcIkJsb2JcIjpcbiAgICAgIHJldHVybiBoYW5kbGVGaWxlKHJlc3BvbnNlKTtcbiAgICBjYXNlIFwiRWx5c2lhQ3VzdG9tU3RhdHVzUmVzcG9uc2VcIjpcbiAgICAgIHJldHVybiBtYXBSZXNwb25zZShcbiAgICAgICAgcmVzcG9uc2UucmVzcG9uc2UsXG4gICAgICAgIHtcbiAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLmNvZGUsXG4gICAgICAgICAgaGVhZGVyczoge31cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICBjYXNlIHZvaWQgMDpcbiAgICAgIHJldHVybiByZXNwb25zZSA/IG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShyZXNwb25zZSksIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH1cbiAgICAgIH0pIDogbmV3IFJlc3BvbnNlKFwiXCIpO1xuICAgIGNhc2UgXCJSZXNwb25zZVwiOlxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIGNhc2UgXCJFcnJvclwiOlxuICAgICAgcmV0dXJuIGVycm9yVG9SZXNwb25zZShyZXNwb25zZSk7XG4gICAgY2FzZSBcIlByb21pc2VcIjpcbiAgICAgIHJldHVybiByZXNwb25zZS50aGVuKFxuICAgICAgICAoeCkgPT4gbWFwQ29tcGFjdFJlc3BvbnNlKHgsIHJlcXVlc3QpXG4gICAgICApO1xuICAgIC8vID8gTWF5YmUgcmVzcG9uc2Ugb3IgQmxvYlxuICAgIGNhc2UgXCJGdW5jdGlvblwiOlxuICAgICAgcmV0dXJuIG1hcENvbXBhY3RSZXNwb25zZShyZXNwb25zZSgpLCByZXF1ZXN0KTtcbiAgICBjYXNlIFwiTnVtYmVyXCI6XG4gICAgY2FzZSBcIkJvb2xlYW5cIjpcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2UudG9TdHJpbmcoKSk7XG4gICAgY2FzZSBcIkZvcm1EYXRhXCI6XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgUmVzcG9uc2UpIHJldHVybiByZXNwb25zZTtcbiAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgIHJldHVybiByZXNwb25zZS50aGVuKFxuICAgICAgICAgICh4KSA9PiBtYXBDb21wYWN0UmVzcG9uc2UoeCwgcmVxdWVzdClcbiAgICAgICAgKTtcbiAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVycm9yKVxuICAgICAgICByZXR1cm4gZXJyb3JUb1Jlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlKVxuICAgICAgICByZXR1cm4gbWFwUmVzcG9uc2UoXG4gICAgICAgICAgcmVzcG9uc2UucmVzcG9uc2UsXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5jb2RlLFxuICAgICAgICAgICAgaGVhZGVyczoge31cbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgdHlwZW9mIHJlc3BvbnNlPy5uZXh0ID09IFwiZnVuY3Rpb25cIiB8fCByZXNwb25zZSBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtXG4gICAgICApXG4gICAgICAgIHJldHVybiBoYW5kbGVTdHJlYW0ocmVzcG9uc2UsIHZvaWQgMCwgcmVxdWVzdCk7XG4gICAgICBpZiAodHlwZW9mIHJlc3BvbnNlPy50aGVuID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRoZW4oKHgpID0+IG1hcFJlc3BvbnNlKHgsIHNldCkpO1xuICAgICAgaWYgKHR5cGVvZiByZXNwb25zZT8udG9SZXNwb25zZSA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHJldHVybiBtYXBDb21wYWN0UmVzcG9uc2UocmVzcG9uc2UudG9SZXNwb25zZSgpKTtcbiAgICAgIGlmIChcImNoYXJDb2RlQXRcIiBpbiByZXNwb25zZSkge1xuICAgICAgICBjb25zdCBjb2RlID0gcmVzcG9uc2UuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgaWYgKGNvZGUgPT09IDEyMyB8fCBjb2RlID09PSA5MSlcbiAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSwge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZSk7XG4gIH1cbn0sIGVycm9yVG9SZXNwb25zZSA9IChlcnJvciwgc2V0MikgPT4gbmV3IFJlc3BvbnNlKFxuICBKU09OLnN0cmluZ2lmeSh7XG4gICAgbmFtZTogZXJyb3I/Lm5hbWUsXG4gICAgbWVzc2FnZTogZXJyb3I/Lm1lc3NhZ2UsXG4gICAgY2F1c2U6IGVycm9yPy5jYXVzZVxuICB9KSxcbiAge1xuICAgIHN0YXR1czogc2V0Mj8uc3RhdHVzICE9PSAyMDAgPyBzZXQyPy5zdGF0dXMgPz8gNTAwIDogNTAwLFxuICAgIGhlYWRlcnM6IHNldDI/LmhlYWRlcnNcbiAgfVxuKSwgY3JlYXRlU3RhdGljSGFuZGxlciA9IChoYW5kbGUsIGhvb2tzLCBzZXRIZWFkZXJzID0ge30pID0+IHtcbiAgaWYgKHR5cGVvZiBoYW5kbGUgPT0gXCJmdW5jdGlvblwiKSByZXR1cm47XG4gIGNvbnN0IHJlc3BvbnNlID0gbWFwUmVzcG9uc2UoaGFuZGxlLCB7XG4gICAgaGVhZGVyczogc2V0SGVhZGVyc1xuICB9KTtcbiAgaWYgKCFob29rcy5wYXJzZT8ubGVuZ3RoICYmICFob29rcy50cmFuc2Zvcm0/Lmxlbmd0aCAmJiAhaG9va3MuYmVmb3JlSGFuZGxlPy5sZW5ndGggJiYgIWhvb2tzLmFmdGVySGFuZGxlPy5sZW5ndGgpXG4gICAgcmV0dXJuICgpID0+IHJlc3BvbnNlLmNsb25lKCk7XG59LCBoYW5kbGVSZXNwb25zZSA9IGNyZWF0ZVJlc3BvbnNlSGFuZGxlcih7XG4gIG1hcFJlc3BvbnNlLFxuICBtYXBDb21wYWN0UmVzcG9uc2Vcbn0pLCBoYW5kbGVTdHJlYW0gPSBjcmVhdGVTdHJlYW1IYW5kbGVyKHtcbiAgbWFwUmVzcG9uc2UsXG4gIG1hcENvbXBhY3RSZXNwb25zZVxufSk7XG5leHBvcnQge1xuICBjcmVhdGVTdGF0aWNIYW5kbGVyLFxuICBlcnJvclRvUmVzcG9uc2UsXG4gIG1hcENvbXBhY3RSZXNwb25zZSxcbiAgbWFwRWFybHlSZXNwb25zZSxcbiAgbWFwUmVzcG9uc2Vcbn07XG4iLAogICAgImltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIkBzaW5jbGFpci90eXBlYm94L3ZhbHVlXCI7XG5pbXBvcnQge1xuICBLaW5kLFxuICBUeXBlQm94RXJyb3Jcbn0gZnJvbSBcIkBzaW5jbGFpci90eXBlYm94XCI7XG5pbXBvcnQgZGVjb2RlIGZyb20gXCJmYXN0LWRlY29kZS11cmktY29tcG9uZW50XCI7XG5pbXBvcnQge1xuICBwYXJzZVF1ZXJ5LFxuICBwYXJzZVF1ZXJ5RnJvbVVSTCxcbiAgcGFyc2VRdWVyeVN0YW5kYXJkU2NoZW1hXG59IGZyb20gXCIuL3BhcnNlLXF1ZXJ5Lm1qc1wiO1xuaW1wb3J0IHtcbiAgRUxZU0lBX1JFUVVFU1RfSUQsXG4gIGdldExvb3NlUGF0aCxcbiAgbGlmZUN5Y2xlVG9GbixcbiAgcmFuZG9tSWQsXG4gIHJlZGlyZWN0LFxuICBzaWduQ29va2llLFxuICBpc05vdEVtcHR5LFxuICBlbmNvZGVQYXRoLFxuICBtZXJnZUNvb2tpZSxcbiAgZ2V0UmVzcG9uc2VMZW5ndGhcbn0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5pbXBvcnQgeyBpc0J1biB9IGZyb20gXCIuL3VuaXZlcnNhbC91dGlscy5tanNcIjtcbmltcG9ydCB7IFBhcnNlRXJyb3IsIHN0YXR1cyB9IGZyb20gXCIuL2Vycm9yLm1qc1wiO1xuaW1wb3J0IHtcbiAgTm90Rm91bmRFcnJvcixcbiAgVmFsaWRhdGlvbkVycm9yLFxuICBFUlJPUl9DT0RFLFxuICBFbHlzaWFDdXN0b21TdGF0dXNSZXNwb25zZVxufSBmcm9tIFwiLi9lcnJvci5tanNcIjtcbmltcG9ydCB7IEVMWVNJQV9UUkFDRSB9IGZyb20gXCIuL3RyYWNlLm1qc1wiO1xuaW1wb3J0IHtcbiAgY29lcmNlUHJpbWl0aXZlUm9vdCxcbiAgZ2V0U2NoZW1hVmFsaWRhdG9yLFxuICBoYXNFbHlzaWFNZXRhLFxuICBoYXNUeXBlLFxuICBpc1VuaW9uLFxuICB1bndyYXBJbXBvcnRTY2hlbWFcbn0gZnJvbSBcIi4vc2NoZW1hLm1qc1wiO1xuaW1wb3J0IHsgc3Vjcm9zZSB9IGZyb20gXCIuL3N1Y3Jvc2UubWpzXCI7XG5pbXBvcnQgeyBwYXJzZUNvb2tpZSB9IGZyb20gXCIuL2Nvb2tpZXMubWpzXCI7XG5pbXBvcnQgeyBmaWxlVHlwZSB9IGZyb20gXCIuL3R5cGUtc3lzdGVtL3V0aWxzLm1qc1wiO1xuY29uc3QgYWxsb2NhdGVJZiA9ICh2YWx1ZSwgY29uZGl0aW9uKSA9PiBjb25kaXRpb24gPyB2YWx1ZSA6IFwiXCIsIGRlZmF1bHRQYXJzZXJzID0gW1xuICBcImpzb25cIixcbiAgXCJ0ZXh0XCIsXG4gIFwidXJsZW5jb2RlZFwiLFxuICBcImFycmF5QnVmZmVyXCIsXG4gIFwiZm9ybWRhdGFcIixcbiAgXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBzb25hcmpzL25vLWR1cGxpY2F0ZS1zdHJpbmdcbiAgXCJ0ZXh0L3BsYWluXCIsXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBzb25hcmpzL25vLWR1cGxpY2F0ZS1zdHJpbmdcbiAgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHNvbmFyanMvbm8tZHVwbGljYXRlLXN0cmluZ1xuICBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiLFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc29uYXJqcy9uby1kdXBsaWNhdGUtc3RyaW5nXG4gIFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiXG5dLCBjcmVhdGVSZXBvcnQgPSAoe1xuICBjb250ZXh0ID0gXCJjXCIsXG4gIHRyYWNlID0gW10sXG4gIGFkZEZuXG59KSA9PiB7XG4gIGlmICghdHJhY2UubGVuZ3RoKVxuICAgIHJldHVybiAoKSA9PiAoe1xuICAgICAgcmVzb2x2ZUNoaWxkKCkge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHJlc29sdmUoKSB7XG4gICAgICB9XG4gICAgfSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhY2UubGVuZ3RoOyBpKyspXG4gICAgYWRkRm4oXG4gICAgICBgbGV0IHJlcG9ydCR7aX0scmVwb3J0Q2hpbGQke2l9LHJlcG9ydEVyciR7aX0scmVwb3J0RXJyQ2hpbGQke2l9O2xldCB0cmFjZSR7aX09JHtjb250ZXh0fVtFTFlTSUFfVFJBQ0VdPy5bJHtpfV0/P3RyYWNlWyR7aX1dKCR7Y29udGV4dH0pO1xuYFxuICAgICk7XG4gIHJldHVybiAoZXZlbnQsIHtcbiAgICBuYW1lLFxuICAgIHRvdGFsID0gMFxuICB9ID0ge30pID0+IHtcbiAgICBuYW1lIHx8IChuYW1lID0gXCJhbm9ueW1vdXNcIik7XG4gICAgY29uc3QgcmVwb3J0ZXIgPSBldmVudCA9PT0gXCJlcnJvclwiID8gXCJyZXBvcnRFcnJcIiA6IFwicmVwb3J0XCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFjZS5sZW5ndGg7IGkrKylcbiAgICAgIGFkZEZuKFxuICAgICAgICBgJHtyZXBvcnRlcn0ke2l9ID0gdHJhY2Uke2l9LiR7ZXZlbnR9KHtpZCxldmVudDonJHtldmVudH0nLG5hbWU6JyR7bmFtZX0nLGJlZ2luOnBlcmZvcm1hbmNlLm5vdygpLHRvdGFsOiR7dG90YWx9fSlcbmBcbiAgICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc29sdmUoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhY2UubGVuZ3RoOyBpKyspXG4gICAgICAgICAgYWRkRm4oYCR7cmVwb3J0ZXJ9JHtpfS5yZXNvbHZlKClcbmApO1xuICAgICAgfSxcbiAgICAgIHJlc29sdmVDaGlsZChuYW1lMikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyYWNlLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIGFkZEZuKFxuICAgICAgICAgICAgYCR7cmVwb3J0ZXJ9Q2hpbGQke2l9PSR7cmVwb3J0ZXJ9JHtpfS5yZXNvbHZlQ2hpbGQ/LnNoaWZ0KCk/Lih7aWQsZXZlbnQ6JyR7ZXZlbnR9JyxuYW1lOicke25hbWUyfScsYmVnaW46cGVyZm9ybWFuY2Uubm93KCl9KVxuYFxuICAgICAgICAgICk7XG4gICAgICAgIHJldHVybiAoYmluZGluZykgPT4ge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhY2UubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBhZGRGbihcbiAgICAgICAgICAgICAgYmluZGluZyA/IGBpZigke2JpbmRpbmd9IGluc3RhbmNlb2YgRXJyb3IpeyR7cmVwb3J0ZXJ9Q2hpbGQke2l9Py4oJHtiaW5kaW5nfSkgfWVsc2V7JHtyZXBvcnRlcn1DaGlsZCR7aX0/LigpfWAgOiBgJHtyZXBvcnRlcn1DaGlsZCR7aX0/LigpXG5gXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH07XG59LCBjb21wb3NlQ2xlYW5lciA9ICh7XG4gIHNjaGVtYSxcbiAgbmFtZSxcbiAgdHlwZSxcbiAgdHlwZUFsaWFzID0gdHlwZSxcbiAgbm9ybWFsaXplLFxuICBpZ25vcmVUcnlDYXRjaCA9ICExXG59KSA9PiAhbm9ybWFsaXplIHx8ICFzY2hlbWEuQ2xlYW4gPyBcIlwiIDogbm9ybWFsaXplID09PSAhMCB8fCBub3JtYWxpemUgPT09IFwiZXhhY3RNaXJyb3JcIiA/IGlnbm9yZVRyeUNhdGNoID8gYCR7bmFtZX09dmFsaWRhdG9yLiR7dHlwZUFsaWFzfS5DbGVhbigke25hbWV9KVxuYCA6IGB0cnl7JHtuYW1lfT12YWxpZGF0b3IuJHt0eXBlQWxpYXN9LkNsZWFuKCR7bmFtZX0pXG59Y2F0Y2h7fWAgOiBub3JtYWxpemUgPT09IFwidHlwZWJveFwiID8gYCR7bmFtZX09dmFsaWRhdG9yLiR7dHlwZUFsaWFzfS5DbGVhbigke25hbWV9KVxuYCA6IFwiXCIsIGNvbXBvc2VWYWxpZGF0aW9uRmFjdG9yeSA9ICh7XG4gIGluamVjdFJlc3BvbnNlID0gXCJcIixcbiAgbm9ybWFsaXplID0gITEsXG4gIHZhbGlkYXRvcixcbiAgZW5jb2RlU2NoZW1hID0gITEsXG4gIGlzU3RhdGljUmVzcG9uc2UgPSAhMSxcbiAgaGFzU2FuaXRpemUgPSAhMVxufSkgPT4gKHtcbiAgdmFsaWRhdGU6ICh0eXBlLCB2YWx1ZSA9IGBjLiR7dHlwZX1gLCBlcnJvcikgPT4gYGMuc2V0LnN0YXR1cz00MjI7dGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcignJHt0eXBlfScsdmFsaWRhdG9yLiR7dHlwZX0sJHt2YWx1ZX0ke2Vycm9yID8gXCIsXCIgKyBlcnJvciA6IFwiXCJ9KWAsXG4gIHJlc3BvbnNlOiAobmFtZSA9IFwiclwiKSA9PiB7XG4gICAgaWYgKGlzU3RhdGljUmVzcG9uc2UgfHwgIXZhbGlkYXRvci5yZXNwb25zZSkgcmV0dXJuIFwiXCI7XG4gICAgbGV0IGNvZGUgPSBpbmplY3RSZXNwb25zZSArIGBcbmA7XG4gICAgY29kZSArPSBgaWYoJHtuYW1lfSBpbnN0YW5jZW9mIEVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlKXtjLnNldC5zdGF0dXM9JHtuYW1lfS5jb2RlXG4ke25hbWV9PSR7bmFtZX0ucmVzcG9uc2V9aWYoJHtuYW1lfSBpbnN0YW5jZW9mIFJlc3BvbnNlID09PSBmYWxzZSlzd2l0Y2goYy5zZXQuc3RhdHVzKXtgO1xuICAgIGZvciAoY29uc3QgW3N0YXR1czIsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh2YWxpZGF0b3IucmVzcG9uc2UpKSB7XG4gICAgICBpZiAoY29kZSArPSBgXG5jYXNlICR7c3RhdHVzMn06XG5gLCB2YWx1ZS5wcm92aWRlciA9PT0gXCJzdGFuZGFyZFwiKSB7XG4gICAgICAgIGNvZGUgKz0gYGxldCB2YXJlJHtzdGF0dXMyfT12YWxpZGF0b3IucmVzcG9uc2VbJHtzdGF0dXMyfV0uQ2hlY2soJHtuYW1lfSlcbmlmKHZhcmUke3N0YXR1czJ9IGluc3RhbmNlb2YgUHJvbWlzZSl2YXJlJHtzdGF0dXMyfT1hd2FpdCB2YXJlJHtzdGF0dXMyfVxuaWYodmFyZSR7c3RhdHVzMn0uaXNzdWVzKXRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ3Jlc3BvbnNlJyx2YWxpZGF0b3IucmVzcG9uc2VbJHtzdGF0dXMyfV0sJHtuYW1lfSx2YXJlJHtzdGF0dXMyfS5pc3N1ZXMpXG4ke25hbWV9PXZhcmUke3N0YXR1czJ9LnZhbHVlXG5jLnNldC5zdGF0dXM9JHtzdGF0dXMyfVxuYnJlYWtcbmA7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgbGV0IG5vVmFsaWRhdGUgPSB2YWx1ZS5zY2hlbWE/Lm5vVmFsaWRhdGUgPT09ICEwO1xuICAgICAgaWYgKCFub1ZhbGlkYXRlICYmIHZhbHVlLnNjaGVtYT8uJHJlZiAmJiB2YWx1ZS5zY2hlbWE/LiRkZWZzKSB7XG4gICAgICAgIGNvbnN0IHJlZktleSA9IHZhbHVlLnNjaGVtYS4kcmVmLCBkZWZLZXkgPSB0eXBlb2YgcmVmS2V5ID09IFwic3RyaW5nXCIgJiYgcmVmS2V5LmluY2x1ZGVzKFwiL1wiKSA/IHJlZktleS5zcGxpdChcIi9cIikucG9wKCkgOiByZWZLZXk7XG4gICAgICAgIHZhbHVlLnNjaGVtYS4kZGVmc1tkZWZLZXldPy5ub1ZhbGlkYXRlID09PSAhMCAmJiAobm9WYWxpZGF0ZSA9ICEwKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGFwcGxpZWRDbGVhbmVyID0gbm9WYWxpZGF0ZSB8fCBoYXNTYW5pdGl6ZSwgY2xlYW4gPSAoeyBpZ25vcmVUcnlDYXRjaCA9ICExIH0gPSB7fSkgPT4gY29tcG9zZUNsZWFuZXIoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBzY2hlbWE6IHZhbHVlLFxuICAgICAgICB0eXBlOiBcInJlc3BvbnNlXCIsXG4gICAgICAgIHR5cGVBbGlhczogYHJlc3BvbnNlWyR7c3RhdHVzMn1dYCxcbiAgICAgICAgbm9ybWFsaXplLFxuICAgICAgICBpZ25vcmVUcnlDYXRjaFxuICAgICAgfSk7XG4gICAgICBhcHBsaWVkQ2xlYW5lciAmJiAoY29kZSArPSBjbGVhbigpKTtcbiAgICAgIGNvbnN0IGFwcGx5RXJyb3JDbGVhbmVyID0gIWFwcGxpZWRDbGVhbmVyICYmIG5vcm1hbGl6ZSAmJiAhbm9WYWxpZGF0ZTtcbiAgICAgIGVuY29kZVNjaGVtYSAmJiB2YWx1ZS5oYXNUcmFuc2Zvcm0gJiYgIW5vVmFsaWRhdGUgPyAoY29kZSArPSBgdHJ5eyR7bmFtZX09dmFsaWRhdG9yLnJlc3BvbnNlWyR7c3RhdHVzMn1dLkVuY29kZSgke25hbWV9KVxuYCwgYXBwbGllZENsZWFuZXIgfHwgKGNvZGUgKz0gY2xlYW4oeyBpZ25vcmVUcnlDYXRjaDogITAgfSkpLCBjb2RlICs9IGBjLnNldC5zdGF0dXM9JHtzdGF0dXMyfX1jYXRjaHtgICsgKGFwcGx5RXJyb3JDbGVhbmVyID8gYHRyeXtcbmAgKyBjbGVhbih7IGlnbm9yZVRyeUNhdGNoOiAhMCB9KSArIGAke25hbWV9PXZhbGlkYXRvci5yZXNwb25zZVske3N0YXR1czJ9XS5FbmNvZGUoJHtuYW1lfSlcbn1jYXRjaHt0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdyZXNwb25zZScsdmFsaWRhdG9yLnJlc3BvbnNlWyR7c3RhdHVzMn1dLCR7bmFtZX0pfWAgOiBgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcigncmVzcG9uc2UnLHZhbGlkYXRvci5yZXNwb25zZVske3N0YXR1czJ9XSwke25hbWV9KWApICsgXCJ9XCIpIDogKGFwcGxpZWRDbGVhbmVyIHx8IChjb2RlICs9IGNsZWFuKCkpLCBub1ZhbGlkYXRlIHx8IChjb2RlICs9IGBpZih2YWxpZGF0b3IucmVzcG9uc2VbJHtzdGF0dXMyfV0uQ2hlY2soJHtuYW1lfSk9PT1mYWxzZSl0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCdyZXNwb25zZScsdmFsaWRhdG9yLnJlc3BvbnNlWyR7c3RhdHVzMn1dLCR7bmFtZX0pXG5jLnNldC5zdGF0dXM9JHtzdGF0dXMyfVxuYCkpLCBjb2RlICs9IGBicmVha1xuYDtcbiAgICB9XG4gICAgcmV0dXJuIGNvZGUgKyBcIn1cIjtcbiAgfVxufSksIGlzQXN5bmNOYW1lID0gKHYpID0+ICh2Py5mbiA/PyB2KS5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIkFzeW5jRnVuY3Rpb25cIiwgbWF0Y2hSZXNwb25zZUNsb25lID0gLz0+XFxzP3Jlc3BvbnNlXFwuY2xvbmVcXCgvLCBtYXRjaEZuUmV0dXJuID0gLyg/OnJldHVybnw9PilcXHM/XFxTK1xcKHxhKD86c3luY3x3YWl0KS8sIGlzQXN5bmMgPSAodikgPT4ge1xuICBjb25zdCBpc09iamVjdCA9IHR5cGVvZiB2ID09IFwib2JqZWN0XCI7XG4gIGlmIChpc09iamVjdCAmJiB2LmlzQXN5bmMgIT09IHZvaWQgMCkgcmV0dXJuIHYuaXNBc3luYztcbiAgY29uc3QgZm4gPSBpc09iamVjdCA/IHYuZm4gOiB2O1xuICBpZiAoZm4uY29uc3RydWN0b3IubmFtZSA9PT0gXCJBc3luY0Z1bmN0aW9uXCIpIHJldHVybiAhMDtcbiAgY29uc3QgbGl0ZXJhbCA9IGZuLnRvU3RyaW5nKCk7XG4gIGlmIChtYXRjaFJlc3BvbnNlQ2xvbmUudGVzdChsaXRlcmFsKSlcbiAgICByZXR1cm4gaXNPYmplY3QgJiYgKHYuaXNBc3luYyA9ICExKSwgITE7XG4gIGNvbnN0IHJlc3VsdCA9IG1hdGNoRm5SZXR1cm4udGVzdChsaXRlcmFsKTtcbiAgcmV0dXJuIGlzT2JqZWN0ICYmICh2LmlzQXN5bmMgPSByZXN1bHQpLCByZXN1bHQ7XG59LCBoYXNSZXR1cm4gPSAodikgPT4ge1xuICBjb25zdCBpc09iamVjdCA9IHR5cGVvZiB2ID09IFwib2JqZWN0XCI7XG4gIGlmIChpc09iamVjdCAmJiB2Lmhhc1JldHVybiAhPT0gdm9pZCAwKSByZXR1cm4gdi5oYXNSZXR1cm47XG4gIGNvbnN0IGZuTGl0ZXJhbCA9IGlzT2JqZWN0ID8gdi5mbi50b1N0cmluZygpIDogdHlwZW9mIHYgPT0gXCJzdHJpbmdcIiA/IHYudG9TdHJpbmcoKSA6IHYsIHBhcmVudGhlc2lzRW5kID0gZm5MaXRlcmFsLmluZGV4T2YoXCIpXCIpO1xuICBpZiAoZm5MaXRlcmFsLmNoYXJDb2RlQXQocGFyZW50aGVzaXNFbmQgKyAyKSA9PT0gNjEgJiYgZm5MaXRlcmFsLmNoYXJDb2RlQXQocGFyZW50aGVzaXNFbmQgKyA1KSAhPT0gMTIzKVxuICAgIHJldHVybiBpc09iamVjdCAmJiAodi5oYXNSZXR1cm4gPSAhMCksICEwO1xuICBjb25zdCByZXN1bHQgPSBmbkxpdGVyYWwuaW5jbHVkZXMoXCJyZXR1cm5cIik7XG4gIHJldHVybiBpc09iamVjdCAmJiAodi5oYXNSZXR1cm4gPSByZXN1bHQpLCByZXN1bHQ7XG59LCBpc0dlbmVyYXRvciA9ICh2KSA9PiB7XG4gIGNvbnN0IGZuID0gdj8uZm4gPz8gdjtcbiAgcmV0dXJuIGZuLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiQXN5bmNHZW5lcmF0b3JGdW5jdGlvblwiIHx8IGZuLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcbn0sIGNvZXJjZVRyYW5zZm9ybURlY29kZUVycm9yID0gKGZuTGl0ZXJhbCwgdHlwZSwgdmFsdWUgPSBgYy4ke3R5cGV9YCkgPT4gYHRyeXske2ZuTGl0ZXJhbH19Y2F0Y2goZXJyb3Ipe2lmKGVycm9yLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdUcmFuc2Zvcm1EZWNvZGVFcnJvcicpe2Muc2V0LnN0YXR1cz00MjJcbnRocm93IGVycm9yLmVycm9yID8/IG5ldyBWYWxpZGF0aW9uRXJyb3IoJyR7dHlwZX0nLHZhbGlkYXRvci4ke3R5cGV9LCR7dmFsdWV9KX19YCwgY29tcG9zZUhhbmRsZXIgPSAoe1xuICBhcHAsXG4gIHBhdGgsXG4gIG1ldGhvZCxcbiAgaG9va3MsXG4gIHZhbGlkYXRvcixcbiAgaGFuZGxlcixcbiAgYWxsb3dNZXRhID0gITEsXG4gIGluZmVyZW5jZVxufSkgPT4ge1xuICBjb25zdCBhZGFwdGVyID0gYXBwW1wifmFkYXB0ZXJcIl0uY29tcG9zZUhhbmRsZXIsIGFkYXB0ZXJIYW5kbGVyID0gYXBwW1wifmFkYXB0ZXJcIl0uaGFuZGxlciwgaXNIYW5kbGVGbiA9IHR5cGVvZiBoYW5kbGVyID09IFwiZnVuY3Rpb25cIjtcbiAgaWYgKCFpc0hhbmRsZUZuKSB7XG4gICAgaGFuZGxlciA9IGFkYXB0ZXJIYW5kbGVyLm1hcFJlc3BvbnNlKGhhbmRsZXIsIHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcHJpdmF0ZSBwcm9wZXJ0eVxuICAgICAgaGVhZGVyczogYXBwLnNldEhlYWRlcnMgPz8ge31cbiAgICB9KTtcbiAgICBjb25zdCBpc1Jlc3BvbnNlID0gaGFuZGxlciBpbnN0YW5jZW9mIFJlc3BvbnNlIHx8IC8vIEB0cy1pZ25vcmUgSWYgaXQncyBub3QgaW5zdGFuY2VvZiBSZXNwb25zZSwgaXQgbWlnaHQgYmUgYSBwb2x5ZmlsbCAob25seSBvbiBOb2RlKVxuICAgIGhhbmRsZXI/LmNvbnN0cnVjdG9yPy5uYW1lID09PSBcIlJlc3BvbnNlXCIgJiYgdHlwZW9mIGhhbmRsZXI/LmNsb25lID09IFwiZnVuY3Rpb25cIjtcbiAgICBpZiAoaG9va3MucGFyc2U/Lmxlbmd0aCAmJiBob29rcy50cmFuc2Zvcm0/Lmxlbmd0aCAmJiBob29rcy5iZWZvcmVIYW5kbGU/Lmxlbmd0aCAmJiBob29rcy5hZnRlckhhbmRsZT8ubGVuZ3RoKVxuICAgICAgcmV0dXJuIGlzUmVzcG9uc2UgPyBGdW5jdGlvbihcbiAgICAgICAgXCJhXCIsXG4gICAgICAgIGBcInVzZSBzdHJpY3RcIjtcbnJldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmNsb25lKCl9YFxuICAgICAgKShoYW5kbGVyKSA6IEZ1bmN0aW9uKFxuICAgICAgICBcImFcIixcbiAgICAgICAgYFwidXNlIHN0cmljdFwiO1xucmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGF9YFxuICAgICAgKShoYW5kbGVyKTtcbiAgICBpZiAoaXNSZXNwb25zZSkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBoYW5kbGVyO1xuICAgICAgaGFuZGxlciA9ICgpID0+IHJlc3BvbnNlLmNsb25lKCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGhhbmRsZSA9IGlzSGFuZGxlRm4gPyBcImhhbmRsZXIoYylcIiA6IFwiaGFuZGxlclwiLCBoYXNUcmFjZSA9ICEhaG9va3MudHJhY2U/Lmxlbmd0aDtcbiAgbGV0IGZuTGl0ZXJhbCA9IFwiXCI7XG4gIGlmIChpbmZlcmVuY2UgPSBzdWNyb3NlKFxuICAgIE9iamVjdC5hc3NpZ24oeyBoYW5kbGVyIH0sIGhvb2tzKSxcbiAgICBpbmZlcmVuY2UsXG4gICAgYXBwLmNvbmZpZy5zdWNyb3NlXG4gICksIGFkYXB0ZXIuZGVjbGFyZSkge1xuICAgIGNvbnN0IGxpdGVyYWwgPSBhZGFwdGVyLmRlY2xhcmUoaW5mZXJlbmNlKTtcbiAgICBsaXRlcmFsICYmIChmbkxpdGVyYWwgKz0gbGl0ZXJhbCk7XG4gIH1cbiAgaW5mZXJlbmNlLnNlcnZlciAmJiAoZm5MaXRlcmFsICs9IGBPYmplY3QuZGVmaW5lUHJvcGVydHkoYywnc2VydmVyJyx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGdldFNlcnZlcigpfX0pXG5gKSwgdmFsaWRhdG9yLmNyZWF0ZUJvZHk/LigpLCB2YWxpZGF0b3IuY3JlYXRlUXVlcnk/LigpLCB2YWxpZGF0b3IuY3JlYXRlSGVhZGVycz8uKCksIHZhbGlkYXRvci5jcmVhdGVQYXJhbXM/LigpLCB2YWxpZGF0b3IuY3JlYXRlQ29va2llPy4oKSwgdmFsaWRhdG9yLmNyZWF0ZVJlc3BvbnNlPy4oKTtcbiAgY29uc3QgaGFzVmFsaWRhdGlvbiA9ICEhdmFsaWRhdG9yLmJvZHkgfHwgISF2YWxpZGF0b3IuaGVhZGVycyB8fCAhIXZhbGlkYXRvci5wYXJhbXMgfHwgISF2YWxpZGF0b3IucXVlcnkgfHwgISF2YWxpZGF0b3IuY29va2llIHx8ICEhdmFsaWRhdG9yLnJlc3BvbnNlLCBoYXNRdWVyeSA9IGluZmVyZW5jZS5xdWVyeSB8fCAhIXZhbGlkYXRvci5xdWVyeSwgcmVxdWVzdE5vQm9keSA9IGhvb2tzLnBhcnNlPy5sZW5ndGggPT09IDEgJiYgLy8gQHRzLWV4cGVjdC1lcnJvclxuICBob29rcy5wYXJzZVswXS5mbiA9PT0gXCJub25lXCIsIGhhc0JvZHkgPSBtZXRob2QgIT09IFwiXCIgJiYgbWV0aG9kICE9PSBcIkdFVFwiICYmIG1ldGhvZCAhPT0gXCJIRUFEXCIgJiYgKGluZmVyZW5jZS5ib2R5IHx8ICEhdmFsaWRhdG9yLmJvZHkgfHwgISFob29rcy5wYXJzZT8ubGVuZ3RoKSAmJiAhcmVxdWVzdE5vQm9keSwgZGVmYXVsdEhlYWRlcnMgPSBhcHAuc2V0SGVhZGVycywgaGFzRGVmYXVsdEhlYWRlcnMgPSBkZWZhdWx0SGVhZGVycyAmJiAhIU9iamVjdC5rZXlzKGRlZmF1bHRIZWFkZXJzKS5sZW5ndGgsIGhhc0hlYWRlcnMgPSBpbmZlcmVuY2UuaGVhZGVycyB8fCAhIXZhbGlkYXRvci5oZWFkZXJzIHx8IGFkYXB0ZXIucHJlZmVyV2Vic3RhbmRhcmRIZWFkZXJzICE9PSAhMCAmJiBpbmZlcmVuY2UuYm9keSwgaGFzQ29va2llID0gaW5mZXJlbmNlLmNvb2tpZSB8fCAhIXZhbGlkYXRvci5jb29raWUsIGNvb2tpZU1ldGEgPSB2YWxpZGF0b3IuY29va2llPy5jb25maWcgPyBtZXJnZUNvb2tpZSh2YWxpZGF0b3I/LmNvb2tpZT8uY29uZmlnLCBhcHAuY29uZmlnLmNvb2tpZSkgOiBhcHAuY29uZmlnLmNvb2tpZTtcbiAgbGV0IF9lbmNvZGVDb29raWUgPSBcIlwiO1xuICBjb25zdCBlbmNvZGVDb29raWUgPSAoKSA9PiB7XG4gICAgaWYgKF9lbmNvZGVDb29raWUpIHJldHVybiBfZW5jb2RlQ29va2llO1xuICAgIGlmIChjb29raWVNZXRhPy5zaWduKSB7XG4gICAgICBpZiAoIWNvb2tpZU1ldGEuc2VjcmV0cylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGB0LkNvb2tpZSByZXF1aXJlZCBzZWNyZXQgd2hpY2ggaXMgbm90IHNldCBpbiAoJHttZXRob2R9KSAke3BhdGh9LmBcbiAgICAgICAgKTtcbiAgICAgIGNvbnN0IHNlY3JldCA9IGNvb2tpZU1ldGEuc2VjcmV0cyA/IHR5cGVvZiBjb29raWVNZXRhLnNlY3JldHMgPT0gXCJzdHJpbmdcIiA/IGNvb2tpZU1ldGEuc2VjcmV0cyA6IGNvb2tpZU1ldGEuc2VjcmV0c1swXSA6IHZvaWQgMDtcbiAgICAgIGlmIChfZW5jb2RlQ29va2llICs9IGBjb25zdCBfc2V0Q29va2llID0gYy5zZXQuY29va2llXG5pZihfc2V0Q29va2llKXtgLCBjb29raWVNZXRhLnNpZ24gPT09ICEwKVxuICAgICAgICBfZW5jb2RlQ29va2llICs9IGBmb3IoY29uc3QgW2tleSwgY29va2llXSBvZiBPYmplY3QuZW50cmllcyhfc2V0Q29va2llKSl7Yy5zZXQuY29va2llW2tleV0udmFsdWU9YXdhaXQgc2lnbkNvb2tpZShjb29raWUudmFsdWUsJyR7c2VjcmV0fScpfWA7XG4gICAgICBlbHNlXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBjb29raWVNZXRhLnNpZ24pXG4gICAgICAgICAgX2VuY29kZUNvb2tpZSArPSBgaWYoX3NldENvb2tpZVsnJHtuYW1lfSddPy52YWx1ZSljLnNldC5jb29raWVbJyR7bmFtZX0nXS52YWx1ZT1hd2FpdCBzaWduQ29va2llKF9zZXRDb29raWVbJyR7bmFtZX0nXS52YWx1ZSwnJHtzZWNyZXR9JylcbmA7XG4gICAgICBfZW5jb2RlQ29va2llICs9IGB9XG5gO1xuICAgIH1cbiAgICByZXR1cm4gX2VuY29kZUNvb2tpZTtcbiAgfSwgbm9ybWFsaXplID0gYXBwLmNvbmZpZy5ub3JtYWxpemUsIGVuY29kZVNjaGVtYSA9IGFwcC5jb25maWcuZW5jb2RlU2NoZW1hLCB2YWxpZGF0aW9uID0gY29tcG9zZVZhbGlkYXRpb25GYWN0b3J5KHtcbiAgICBub3JtYWxpemUsXG4gICAgdmFsaWRhdG9yLFxuICAgIGVuY29kZVNjaGVtYSxcbiAgICBpc1N0YXRpY1Jlc3BvbnNlOiBoYW5kbGVyIGluc3RhbmNlb2YgUmVzcG9uc2UsXG4gICAgaGFzU2FuaXRpemU6ICEhYXBwLmNvbmZpZy5zYW5pdGl6ZVxuICB9KTtcbiAgaGFzSGVhZGVycyAmJiAoZm5MaXRlcmFsICs9IGFkYXB0ZXIuaGVhZGVycyksIGhhc1RyYWNlICYmIChmbkxpdGVyYWwgKz0gYGNvbnN0IGlkPWNbRUxZU0lBX1JFUVVFU1RfSURdXG5gKTtcbiAgY29uc3QgcmVwb3J0ID0gY3JlYXRlUmVwb3J0KHtcbiAgICB0cmFjZTogaG9va3MudHJhY2UsXG4gICAgYWRkRm46ICh3b3JkKSA9PiB7XG4gICAgICBmbkxpdGVyYWwgKz0gd29yZDtcbiAgICB9XG4gIH0pO1xuICBpZiAoZm5MaXRlcmFsICs9IFwidHJ5e1wiLCBoYXNDb29raWUpIHtcbiAgICBjb25zdCBnZXQgPSAobmFtZSwgZGVmYXVsdFZhbHVlKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGNvb2tpZU1ldGE/LltuYW1lXSA/PyBkZWZhdWx0VmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWUgPyB0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIiA/IGAke25hbWV9Oicke3ZhbHVlfScsYCA6IHZhbHVlIGluc3RhbmNlb2YgRGF0ZSA/IGAke25hbWV9OiBuZXcgRGF0ZSgke3ZhbHVlLmdldFRpbWUoKX0pLGAgOiBgJHtuYW1lfToke3ZhbHVlfSxgIDogdHlwZW9mIGRlZmF1bHRWYWx1ZSA9PSBcInN0cmluZ1wiID8gYCR7bmFtZX06XCIke2RlZmF1bHRWYWx1ZX1cIixgIDogYCR7bmFtZX06JHtkZWZhdWx0VmFsdWV9LGA7XG4gICAgfSwgb3B0aW9ucyA9IGNvb2tpZU1ldGEgPyBge3NlY3JldHM6JHtjb29raWVNZXRhLnNlY3JldHMgIT09IHZvaWQgMCA/IHR5cGVvZiBjb29raWVNZXRhLnNlY3JldHMgPT0gXCJzdHJpbmdcIiA/IGAnJHtjb29raWVNZXRhLnNlY3JldHN9J2AgOiBcIltcIiArIGNvb2tpZU1ldGEuc2VjcmV0cy5yZWR1Y2UoXG4gICAgICAoYSwgYikgPT4gYSArIGAnJHtifScsYCxcbiAgICAgIFwiXCJcbiAgICApICsgXCJdXCIgOiBcInVuZGVmaW5lZFwifSxzaWduOiR7Y29va2llTWV0YS5zaWduID09PSAhMCA/ICEwIDogY29va2llTWV0YS5zaWduICE9PSB2b2lkIDAgPyBcIltcIiArIGNvb2tpZU1ldGEuc2lnbi5yZWR1Y2UoXG4gICAgICAoYSwgYikgPT4gYSArIGAnJHtifScsYCxcbiAgICAgIFwiXCJcbiAgICApICsgXCJdXCIgOiBcInVuZGVmaW5lZFwifSxgICsgZ2V0KFwiZG9tYWluXCIpICsgZ2V0KFwiZXhwaXJlc1wiKSArIGdldChcImh0dHBPbmx5XCIpICsgZ2V0KFwibWF4QWdlXCIpICsgZ2V0KFwicGF0aFwiLCBcIi9cIikgKyBnZXQoXCJwcmlvcml0eVwiKSArIGdldChcInNhbWVTaXRlXCIpICsgZ2V0KFwic2VjdXJlXCIpICsgXCJ9XCIgOiBcInVuZGVmaW5lZFwiO1xuICAgIGhhc0hlYWRlcnMgPyBmbkxpdGVyYWwgKz0gYFxuYy5jb29raWU9YXdhaXQgcGFyc2VDb29raWUoYy5zZXQsYy5oZWFkZXJzLmNvb2tpZSwke29wdGlvbnN9KVxuYCA6IGZuTGl0ZXJhbCArPSBgXG5jLmNvb2tpZT1hd2FpdCBwYXJzZUNvb2tpZShjLnNldCxjLnJlcXVlc3QuaGVhZGVycy5nZXQoJ2Nvb2tpZScpLCR7b3B0aW9uc30pXG5gO1xuICB9XG4gIGlmIChoYXNRdWVyeSkge1xuICAgIGxldCBhcnJheVByb3BlcnRpZXMgPSB7fSwgb2JqZWN0UHJvcGVydGllcyA9IHt9LCBoYXNBcnJheVByb3BlcnR5ID0gITEsIGhhc09iamVjdFByb3BlcnR5ID0gITE7XG4gICAgaWYgKHZhbGlkYXRvci5xdWVyeT8uc2NoZW1hKSB7XG4gICAgICBjb25zdCBzY2hlbWEgPSB1bndyYXBJbXBvcnRTY2hlbWEodmFsaWRhdG9yLnF1ZXJ5Py5zY2hlbWEpO1xuICAgICAgaWYgKEtpbmQgaW4gc2NoZW1hICYmIHNjaGVtYS5wcm9wZXJ0aWVzKVxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEucHJvcGVydGllcykpXG4gICAgICAgICAgaGFzRWx5c2lhTWV0YShcIkFycmF5UXVlcnlcIiwgdmFsdWUpICYmIChhcnJheVByb3BlcnRpZXNba2V5XSA9IDEsIGhhc0FycmF5UHJvcGVydHkgPSAhMCksIGhhc0VseXNpYU1ldGEoXCJPYmplY3RTdHJpbmdcIiwgdmFsdWUpICYmIChvYmplY3RQcm9wZXJ0aWVzW2tleV0gPSAxLCBoYXNPYmplY3RQcm9wZXJ0eSA9ICEwKTtcbiAgICB9XG4gICAgZm5MaXRlcmFsICs9IGBpZihjLnFpPT09LTEpe2MucXVlcnk9T2JqZWN0LmNyZWF0ZShudWxsKX1lbHNle2MucXVlcnk9cGFyc2VRdWVyeUZyb21VUkwoYy51cmwsYy5xaSsxLCR7Ly9cbiAgICBoYXNBcnJheVByb3BlcnR5ID8gSlNPTi5zdHJpbmdpZnkoYXJyYXlQcm9wZXJ0aWVzKSA6IHZvaWQgMH0sJHsvL1xuICAgIGhhc09iamVjdFByb3BlcnR5ID8gSlNPTi5zdHJpbmdpZnkob2JqZWN0UHJvcGVydGllcykgOiB2b2lkIDB9KX1gO1xuICB9XG4gIGNvbnN0IGlzQXN5bmNIYW5kbGVyID0gdHlwZW9mIGhhbmRsZXIgPT0gXCJmdW5jdGlvblwiICYmIGlzQXN5bmMoaGFuZGxlciksIHNhdmVSZXNwb25zZSA9IGhhc1RyYWNlIHx8IGhvb2tzLmFmdGVyUmVzcG9uc2U/Lmxlbmd0aCA/IFwiYy5yZXNwb25zZT1jLnJlc3BvbnNlVmFsdWU9IFwiIDogXCJcIiwgcmVzcG9uc2VLZXlzID0gT2JqZWN0LmtleXModmFsaWRhdG9yLnJlc3BvbnNlID8/IHt9KSwgaGFzTXVsdGlwbGVSZXNwb25zZXMgPSByZXNwb25zZUtleXMubGVuZ3RoID4gMSwgaGFzU2luZ2xlMjAwID0gcmVzcG9uc2VLZXlzLmxlbmd0aCA9PT0gMCB8fCByZXNwb25zZUtleXMubGVuZ3RoID09PSAxICYmIHJlc3BvbnNlS2V5c1swXSA9PT0gXCIyMDBcIiwgbWF5YmVBc3luYyA9IGhhc0Nvb2tpZSB8fCBoYXNCb2R5IHx8IGlzQXN5bmNIYW5kbGVyIHx8ICEhaG9va3MucGFyc2U/Lmxlbmd0aCB8fCAhIWhvb2tzLmFmdGVySGFuZGxlPy5zb21lKGlzQXN5bmMpIHx8ICEhaG9va3MuYmVmb3JlSGFuZGxlPy5zb21lKGlzQXN5bmMpIHx8ICEhaG9va3MudHJhbnNmb3JtPy5zb21lKGlzQXN5bmMpIHx8ICEhaG9va3MubWFwUmVzcG9uc2U/LnNvbWUoaXNBc3luYykgfHwgdmFsaWRhdG9yLmJvZHk/LnByb3ZpZGVyID09PSBcInN0YW5kYXJkXCIgfHwgdmFsaWRhdG9yLmhlYWRlcnM/LnByb3ZpZGVyID09PSBcInN0YW5kYXJkXCIgfHwgdmFsaWRhdG9yLnF1ZXJ5Py5wcm92aWRlciA9PT0gXCJzdGFuZGFyZFwiIHx8IHZhbGlkYXRvci5wYXJhbXM/LnByb3ZpZGVyID09PSBcInN0YW5kYXJkXCIgfHwgdmFsaWRhdG9yLmNvb2tpZT8ucHJvdmlkZXIgPT09IFwic3RhbmRhcmRcIiB8fCBPYmplY3QudmFsdWVzKHZhbGlkYXRvci5yZXNwb25zZSA/PyB7fSkuZmluZChcbiAgICAoeCkgPT4geC5wcm92aWRlciA9PT0gXCJzdGFuZGFyZFwiXG4gICksIG1heWJlU3RyZWFtID0gKHR5cGVvZiBoYW5kbGVyID09IFwiZnVuY3Rpb25cIiA/IGlzR2VuZXJhdG9yKGhhbmRsZXIpIDogITEpIHx8ICEhaG9va3MuYmVmb3JlSGFuZGxlPy5zb21lKGlzR2VuZXJhdG9yKSB8fCAhIWhvb2tzLmFmdGVySGFuZGxlPy5zb21lKGlzR2VuZXJhdG9yKSB8fCAhIWhvb2tzLnRyYW5zZm9ybT8uc29tZShpc0dlbmVyYXRvciksIGhhc1NldCA9IGluZmVyZW5jZS5jb29raWUgfHwgaW5mZXJlbmNlLnNldCB8fCBoYXNIZWFkZXJzIHx8IGhhc1RyYWNlIHx8IGhhc011bHRpcGxlUmVzcG9uc2VzIHx8ICFoYXNTaW5nbGUyMDAgfHwgaXNIYW5kbGVGbiAmJiBoYXNEZWZhdWx0SGVhZGVycyB8fCBtYXliZVN0cmVhbTtcbiAgbGV0IF9hZnRlclJlc3BvbnNlO1xuICBjb25zdCBhZnRlclJlc3BvbnNlID0gKCkgPT4ge1xuICAgIGlmIChfYWZ0ZXJSZXNwb25zZSAhPT0gdm9pZCAwKSByZXR1cm4gX2FmdGVyUmVzcG9uc2U7XG4gICAgaWYgKCFob29rcy5hZnRlclJlc3BvbnNlPy5sZW5ndGggJiYgIWhhc1RyYWNlKSByZXR1cm4gXCJcIjtcbiAgICBsZXQgYWZ0ZXJSZXNwb25zZTIgPSBcIlwiO1xuICAgIGNvbnN0IHByZWZpeCA9IGhvb2tzLmFmdGVyUmVzcG9uc2U/LnNvbWUoaXNBc3luYykgPyBcImFzeW5jIFwiIDogXCJcIjtcbiAgICBhZnRlclJlc3BvbnNlMiArPSBgXG5zZXRJbW1lZGlhdGUoJHtwcmVmaXh9KCk9PntgO1xuICAgIGNvbnN0IHJlcG9ydGVyID0gY3JlYXRlUmVwb3J0KHtcbiAgICAgIHRyYWNlOiBob29rcy50cmFjZSxcbiAgICAgIGFkZEZuOiAod29yZCkgPT4ge1xuICAgICAgICBhZnRlclJlc3BvbnNlMiArPSB3b3JkO1xuICAgICAgfVxuICAgIH0pKFwiYWZ0ZXJSZXNwb25zZVwiLCB7XG4gICAgICB0b3RhbDogaG9va3MuYWZ0ZXJSZXNwb25zZT8ubGVuZ3RoXG4gICAgfSk7XG4gICAgaWYgKGhvb2tzLmFmdGVyUmVzcG9uc2U/Lmxlbmd0aCAmJiBob29rcy5hZnRlclJlc3BvbnNlKVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy5hZnRlclJlc3BvbnNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVuZFVuaXQgPSByZXBvcnRlci5yZXNvbHZlQ2hpbGQoXG4gICAgICAgICAgaG9va3MuYWZ0ZXJSZXNwb25zZVtpXS5mbi5uYW1lXG4gICAgICAgICksIHByZWZpeDIgPSBpc0FzeW5jKGhvb2tzLmFmdGVyUmVzcG9uc2VbaV0pID8gXCJhd2FpdCBcIiA6IFwiXCI7XG4gICAgICAgIGFmdGVyUmVzcG9uc2UyICs9IGBcbiR7cHJlZml4Mn1lLmFmdGVyUmVzcG9uc2VbJHtpfV0oYylcbmAsIGVuZFVuaXQoKTtcbiAgICAgIH1cbiAgICByZXR1cm4gcmVwb3J0ZXIucmVzb2x2ZSgpLCBhZnRlclJlc3BvbnNlMiArPSBgfSlcbmAsIF9hZnRlclJlc3BvbnNlID0gYWZ0ZXJSZXNwb25zZTI7XG4gIH0sIG1hcFJlc3BvbnNlID0gKHIgPSBcInJcIikgPT4ge1xuICAgIGNvbnN0IGFmdGVyID0gYWZ0ZXJSZXNwb25zZSgpLCByZXNwb25zZSA9IGAke2hhc1NldCA/IFwibWFwUmVzcG9uc2VcIiA6IFwibWFwQ29tcGFjdFJlc3BvbnNlXCJ9KCR7c2F2ZVJlc3BvbnNlfSR7cn0ke2hhc1NldCA/IFwiLGMuc2V0XCIgOiBcIlwifSR7bWFwUmVzcG9uc2VDb250ZXh0fSlcbmA7XG4gICAgcmV0dXJuIGFmdGVyID8gYGNvbnN0IF9yZXM9JHtyZXNwb25zZX1gICsgYWZ0ZXIgKyBcInJldHVybiBfcmVzXCIgOiBgcmV0dXJuICR7cmVzcG9uc2V9YDtcbiAgfSwgbWFwUmVzcG9uc2VDb250ZXh0ID0gbWF5YmVTdHJlYW0gfHwgYWRhcHRlci5tYXBSZXNwb25zZUNvbnRleHQgPyBgLCR7YWRhcHRlci5tYXBSZXNwb25zZUNvbnRleHR9YCA6IFwiXCI7XG4gIChoYXNUcmFjZSB8fCBpbmZlcmVuY2Uucm91dGUpICYmIChmbkxpdGVyYWwgKz0gYGMucm91dGU9XFxgJHtwYXRofVxcYFxuYCk7XG4gIGNvbnN0IHBhcnNlUmVwb3J0ZXIgPSByZXBvcnQoXCJwYXJzZVwiLCB7XG4gICAgdG90YWw6IGhvb2tzLnBhcnNlPy5sZW5ndGhcbiAgfSk7XG4gIGlmIChoYXNCb2R5KSB7XG4gICAgY29uc3QgaGFzQm9keUluZmVyZW5jZSA9ICEhaG9va3MucGFyc2U/Lmxlbmd0aCB8fCBpbmZlcmVuY2UuYm9keSB8fCB2YWxpZGF0b3IuYm9keTtcbiAgICBhZGFwdGVyLnBhcnNlci5kZWNsYXJlICYmIChmbkxpdGVyYWwgKz0gYWRhcHRlci5wYXJzZXIuZGVjbGFyZSksIGZuTGl0ZXJhbCArPSBgXG50cnl7YDtcbiAgICBsZXQgcGFyc2VyID0gdHlwZW9mIGhvb2tzLnBhcnNlID09IFwic3RyaW5nXCIgPyBob29rcy5wYXJzZSA6IEFycmF5LmlzQXJyYXkoaG9va3MucGFyc2UpICYmIGhvb2tzLnBhcnNlLmxlbmd0aCA9PT0gMSA/IHR5cGVvZiBob29rcy5wYXJzZVswXSA9PSBcInN0cmluZ1wiID8gaG9va3MucGFyc2VbMF0gOiB0eXBlb2YgaG9va3MucGFyc2VbMF0uZm4gPT0gXCJzdHJpbmdcIiA/IGhvb2tzLnBhcnNlWzBdLmZuIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIGlmICghcGFyc2VyICYmIHZhbGlkYXRvci5ib2R5ICYmICFob29rcy5wYXJzZT8ubGVuZ3RoKSB7XG4gICAgICBjb25zdCBzY2hlbWEgPSB2YWxpZGF0b3IuYm9keS5zY2hlbWE7XG4gICAgICBzY2hlbWEgJiYgc2NoZW1hLmFueU9mICYmIHNjaGVtYVtLaW5kXSA9PT0gXCJVbmlvblwiICYmIHNjaGVtYS5hbnlPZj8ubGVuZ3RoID09PSAyICYmIHNjaGVtYS5hbnlPZj8uZmluZCgoeCkgPT4geFtLaW5kXSA9PT0gXCJFbHlzaWFGb3JtXCIpICYmIChwYXJzZXIgPSBcImZvcm1kYXRhXCIpO1xuICAgIH1cbiAgICBpZiAocGFyc2VyICYmIGRlZmF1bHRQYXJzZXJzLmluY2x1ZGVzKHBhcnNlcikpIHtcbiAgICAgIGNvbnN0IHJlcG9ydGVyID0gcmVwb3J0KFwicGFyc2VcIiwge1xuICAgICAgICB0b3RhbDogaG9va3MucGFyc2U/Lmxlbmd0aFxuICAgICAgfSksIGlzT3B0aW9uYWxCb2R5ID0gISF2YWxpZGF0b3IuYm9keT8uaXNPcHRpb25hbDtcbiAgICAgIHN3aXRjaCAocGFyc2VyKSB7XG4gICAgICAgIGNhc2UgXCJqc29uXCI6XG4gICAgICAgIGNhc2UgXCJhcHBsaWNhdGlvbi9qc29uXCI6XG4gICAgICAgICAgZm5MaXRlcmFsICs9IGFkYXB0ZXIucGFyc2VyLmpzb24oaXNPcHRpb25hbEJvZHkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICBjYXNlIFwidGV4dC9wbGFpblwiOlxuICAgICAgICAgIGZuTGl0ZXJhbCArPSBhZGFwdGVyLnBhcnNlci50ZXh0KGlzT3B0aW9uYWxCb2R5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInVybGVuY29kZWRcIjpcbiAgICAgICAgY2FzZSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiOlxuICAgICAgICAgIGZuTGl0ZXJhbCArPSBhZGFwdGVyLnBhcnNlci51cmxlbmNvZGVkKGlzT3B0aW9uYWxCb2R5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFycmF5QnVmZmVyXCI6XG4gICAgICAgIGNhc2UgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIjpcbiAgICAgICAgICBmbkxpdGVyYWwgKz0gYWRhcHRlci5wYXJzZXIuYXJyYXlCdWZmZXIoaXNPcHRpb25hbEJvZHkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZm9ybWRhdGFcIjpcbiAgICAgICAgY2FzZSBcIm11bHRpcGFydC9mb3JtLWRhdGFcIjpcbiAgICAgICAgICBmbkxpdGVyYWwgKz0gYWRhcHRlci5wYXJzZXIuZm9ybURhdGEoaXNPcHRpb25hbEJvZHkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHBhcnNlclswXSBpbiBhcHBbXCJ+cGFyc2VyXCJdICYmIChmbkxpdGVyYWwgKz0gaGFzSGVhZGVycyA/IFwibGV0IGNvbnRlbnRUeXBlID0gYy5oZWFkZXJzWydjb250ZW50LXR5cGUnXVwiIDogXCJsZXQgY29udGVudFR5cGUgPSBjLnJlcXVlc3QuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpXCIsIGZuTGl0ZXJhbCArPSBgXG5pZihjb250ZW50VHlwZSl7Y29uc3QgaW5kZXg9Y29udGVudFR5cGUuaW5kZXhPZignOycpXG5pZihpbmRleCE9PS0xKWNvbnRlbnRUeXBlPWNvbnRlbnRUeXBlLnN1YnN0cmluZygwLGluZGV4KX1cbmVsc2V7Y29udGVudFR5cGU9Jyd9Yy5jb250ZW50VHlwZT1jb250ZW50VHlwZVxubGV0IHJlc3VsdD1wYXJzZXJbJyR7cGFyc2VyfSddKGMsIGNvbnRlbnRUeXBlKVxuaWYocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSlyZXN1bHQ9YXdhaXQgcmVzdWx0XG5pZihyZXN1bHQgaW5zdGFuY2VvZiBFbHlzaWFDdXN0b21TdGF0dXNSZXNwb25zZSl0aHJvdyByZXN1bHRcbmlmKHJlc3VsdCE9PXVuZGVmaW5lZCljLmJvZHk9cmVzdWx0XG5kZWxldGUgYy5jb250ZW50VHlwZVxuYCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXBvcnRlci5yZXNvbHZlKCk7XG4gICAgfSBlbHNlIGlmIChoYXNCb2R5SW5mZXJlbmNlKSB7XG4gICAgICBmbkxpdGVyYWwgKz0gYFxuYCwgZm5MaXRlcmFsICs9IGBsZXQgY29udGVudFR5cGVcbmlmKGMucmVxdWVzdC5ib2R5KWAsIGZuTGl0ZXJhbCArPSBoYXNIZWFkZXJzID8gYGNvbnRlbnRUeXBlPWMuaGVhZGVyc1snY29udGVudC10eXBlJ11cbmAgOiBgY29udGVudFR5cGU9Yy5yZXF1ZXN0LmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKVxuYDtcbiAgICAgIGxldCBoYXNEZWZhdWx0UGFyc2VyID0gITE7XG4gICAgICBpZiAoaG9va3MucGFyc2U/Lmxlbmd0aClcbiAgICAgICAgZm5MaXRlcmFsICs9IGBpZihjb250ZW50VHlwZSl7XG5jb25zdCBpbmRleD1jb250ZW50VHlwZS5pbmRleE9mKCc7JylcblxuaWYoaW5kZXghPT0tMSljb250ZW50VHlwZT1jb250ZW50VHlwZS5zdWJzdHJpbmcoMCxpbmRleCl9ZWxzZXtjb250ZW50VHlwZT0nJ31sZXQgdXNlZD1mYWxzZVxuYy5jb250ZW50VHlwZT1jb250ZW50VHlwZVxuYDtcbiAgICAgIGVsc2Uge1xuICAgICAgICBoYXNEZWZhdWx0UGFyc2VyID0gITA7XG4gICAgICAgIGNvbnN0IGlzT3B0aW9uYWxCb2R5ID0gISF2YWxpZGF0b3IuYm9keT8uaXNPcHRpb25hbDtcbiAgICAgICAgZm5MaXRlcmFsICs9IGBpZihjb250ZW50VHlwZSlzd2l0Y2goY29udGVudFR5cGUuY2hhckNvZGVBdCgxMikpe1xuY2FzZSAxMDY6YCArIGFkYXB0ZXIucGFyc2VyLmpzb24oaXNPcHRpb25hbEJvZHkpICsgYGJyZWFrXG5jYXNlIDEyMDpgICsgYWRhcHRlci5wYXJzZXIudXJsZW5jb2RlZChpc09wdGlvbmFsQm9keSkgKyBgYnJlYWtcbmNhc2UgMTExOmAgKyBhZGFwdGVyLnBhcnNlci5hcnJheUJ1ZmZlcihpc09wdGlvbmFsQm9keSkgKyBgYnJlYWtcbmNhc2UgMTE0OmAgKyBhZGFwdGVyLnBhcnNlci5mb3JtRGF0YShpc09wdGlvbmFsQm9keSkgKyBgYnJlYWtcbmRlZmF1bHQ6aWYoY29udGVudFR5cGUuY2hhckNvZGVBdCgwKT09PTExNil7YCArIGFkYXB0ZXIucGFyc2VyLnRleHQoaXNPcHRpb25hbEJvZHkpICsgYH1icmVha1xufWA7XG4gICAgICB9XG4gICAgICBjb25zdCByZXBvcnRlciA9IHJlcG9ydChcInBhcnNlXCIsIHtcbiAgICAgICAgdG90YWw6IGhvb2tzLnBhcnNlPy5sZW5ndGhcbiAgICAgIH0pO1xuICAgICAgaWYgKGhvb2tzLnBhcnNlKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvb2tzLnBhcnNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgbmFtZSA9IGBibyR7aX1gO1xuICAgICAgICAgIGlmIChpICE9PSAwICYmIChmbkxpdGVyYWwgKz0gYFxuaWYoIXVzZWQpe2ApLCB0eXBlb2YgaG9va3MucGFyc2VbaV0uZm4gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY29uc3QgZW5kVW5pdCA9IHJlcG9ydGVyLnJlc29sdmVDaGlsZChcbiAgICAgICAgICAgICAgaG9va3MucGFyc2VbaV0uZm5cbiAgICAgICAgICAgICksIGlzT3B0aW9uYWxCb2R5ID0gISF2YWxpZGF0b3IuYm9keT8uaXNPcHRpb25hbDtcbiAgICAgICAgICAgIHN3aXRjaCAoaG9va3MucGFyc2VbaV0uZm4pIHtcbiAgICAgICAgICAgICAgY2FzZSBcImpzb25cIjpcbiAgICAgICAgICAgICAgY2FzZSBcImFwcGxpY2F0aW9uL2pzb25cIjpcbiAgICAgICAgICAgICAgICBoYXNEZWZhdWx0UGFyc2VyID0gITAsIGZuTGl0ZXJhbCArPSBhZGFwdGVyLnBhcnNlci5qc29uKGlzT3B0aW9uYWxCb2R5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInRleHQvcGxhaW5cIjpcbiAgICAgICAgICAgICAgICBoYXNEZWZhdWx0UGFyc2VyID0gITAsIGZuTGl0ZXJhbCArPSBhZGFwdGVyLnBhcnNlci50ZXh0KGlzT3B0aW9uYWxCb2R5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInVybGVuY29kZWRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiOlxuICAgICAgICAgICAgICAgIGhhc0RlZmF1bHRQYXJzZXIgPSAhMCwgZm5MaXRlcmFsICs9IGFkYXB0ZXIucGFyc2VyLnVybGVuY29kZWQoaXNPcHRpb25hbEJvZHkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiYXJyYXlCdWZmZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiOlxuICAgICAgICAgICAgICAgIGhhc0RlZmF1bHRQYXJzZXIgPSAhMCwgZm5MaXRlcmFsICs9IGFkYXB0ZXIucGFyc2VyLmFycmF5QnVmZmVyKGlzT3B0aW9uYWxCb2R5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImZvcm1kYXRhXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCI6XG4gICAgICAgICAgICAgICAgaGFzRGVmYXVsdFBhcnNlciA9ICEwLCBmbkxpdGVyYWwgKz0gYWRhcHRlci5wYXJzZXIuZm9ybURhdGEoaXNPcHRpb25hbEJvZHkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGZuTGl0ZXJhbCArPSBgbGV0ICR7bmFtZX09cGFyc2VyWycke2hvb2tzLnBhcnNlW2ldLmZufSddKGMsY29udGVudFR5cGUpXG5pZigke25hbWV9IGluc3RhbmNlb2YgUHJvbWlzZSkke25hbWV9PWF3YWl0ICR7bmFtZX1cbmlmKCR7bmFtZX0hPT11bmRlZmluZWQpe2MuYm9keT0ke25hbWV9O3VzZWQ9dHJ1ZTt9XG5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW5kVW5pdCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlbmRVbml0ID0gcmVwb3J0ZXIucmVzb2x2ZUNoaWxkKFxuICAgICAgICAgICAgICBob29rcy5wYXJzZVtpXS5mbi5uYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZm5MaXRlcmFsICs9IGBsZXQgJHtuYW1lfT1lLnBhcnNlWyR7aX1dXG4ke25hbWV9PSR7bmFtZX0oYyxjb250ZW50VHlwZSlcbmlmKCR7bmFtZX0gaW5zdGFuY2VvZiBQcm9taXNlKSR7bmFtZX09YXdhaXQgJHtuYW1lfVxuaWYoJHtuYW1lfSE9PXVuZGVmaW5lZCl7Yy5ib2R5PSR7bmFtZX07dXNlZD10cnVlfWAsIGVuZFVuaXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGkgIT09IDAgJiYgKGZuTGl0ZXJhbCArPSBcIn1cIiksIGhhc0RlZmF1bHRQYXJzZXIpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBpZiAocmVwb3J0ZXIucmVzb2x2ZSgpLCAhaGFzRGVmYXVsdFBhcnNlcikge1xuICAgICAgICBjb25zdCBpc09wdGlvbmFsQm9keSA9ICEhdmFsaWRhdG9yLmJvZHk/LmlzT3B0aW9uYWw7XG4gICAgICAgIGhvb2tzLnBhcnNlPy5sZW5ndGggJiYgKGZuTGl0ZXJhbCArPSBgXG5pZighdXNlZCl7XG5gKSwgZm5MaXRlcmFsICs9IGBzd2l0Y2goY29udGVudFR5cGUpe2Nhc2UgJ2FwcGxpY2F0aW9uL2pzb24nOlxuYCArIGFkYXB0ZXIucGFyc2VyLmpzb24oaXNPcHRpb25hbEJvZHkpICsgYGJyZWFrXG5jYXNlICd0ZXh0L3BsYWluJzpgICsgYWRhcHRlci5wYXJzZXIudGV4dChpc09wdGlvbmFsQm9keSkgKyBgYnJlYWtcbmNhc2UgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc6YCArIGFkYXB0ZXIucGFyc2VyLnVybGVuY29kZWQoaXNPcHRpb25hbEJvZHkpICsgYGJyZWFrXG5jYXNlICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nOmAgKyBhZGFwdGVyLnBhcnNlci5hcnJheUJ1ZmZlcihpc09wdGlvbmFsQm9keSkgKyBgYnJlYWtcbmNhc2UgJ211bHRpcGFydC9mb3JtLWRhdGEnOmAgKyBhZGFwdGVyLnBhcnNlci5mb3JtRGF0YShpc09wdGlvbmFsQm9keSkgKyBgYnJlYWtcbmA7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGFwcFtcIn5wYXJzZXJcIl0pKVxuICAgICAgICAgIGZuTGl0ZXJhbCArPSBgY2FzZSAnJHtrZXl9JzpsZXQgYm8ke2tleX09cGFyc2VyWycke2tleX0nXShjLGNvbnRlbnRUeXBlKVxuaWYoYm8ke2tleX0gaW5zdGFuY2VvZiBQcm9taXNlKWJvJHtrZXl9PWF3YWl0IGJvJHtrZXl9XG5pZihibyR7a2V5fSBpbnN0YW5jZW9mIEVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlKXtgICsgbWFwUmVzcG9uc2UoYGJvJHtrZXl9YCkgKyBgfWlmKGJvJHtrZXl9IT09dW5kZWZpbmVkKWMuYm9keT1ibyR7a2V5fVxuYnJlYWtcbmA7XG4gICAgICAgIGhvb2tzLnBhcnNlPy5sZW5ndGggJiYgKGZuTGl0ZXJhbCArPSBcIn1cIiksIGZuTGl0ZXJhbCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGhvb2tzLnBhcnNlPy5sZW5ndGggJiYgKGZuTGl0ZXJhbCArPSBgXG5kZWxldGUgYy5jb250ZW50VHlwZWApO1xuICAgIH1cbiAgICBmbkxpdGVyYWwgKz0gXCJ9Y2F0Y2goZXJyb3Ipe3Rocm93IG5ldyBQYXJzZUVycm9yKGVycm9yKX1cIjtcbiAgfVxuICBpZiAocGFyc2VSZXBvcnRlci5yZXNvbHZlKCksIGhvb2tzPy50cmFuc2Zvcm0gfHwgaGFzVHJhY2UpIHtcbiAgICBjb25zdCByZXBvcnRlciA9IHJlcG9ydChcInRyYW5zZm9ybVwiLCB7XG4gICAgICB0b3RhbDogaG9va3MudHJhbnNmb3JtPy5sZW5ndGhcbiAgICB9KTtcbiAgICBpZiAoaG9va3MudHJhbnNmb3JtPy5sZW5ndGgpIHtcbiAgICAgIGZuTGl0ZXJhbCArPSBgbGV0IHRyYW5zZm9ybWVkXG5gO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy50cmFuc2Zvcm0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gaG9va3MudHJhbnNmb3JtW2ldLCBlbmRVbml0ID0gcmVwb3J0ZXIucmVzb2x2ZUNoaWxkKHRyYW5zZm9ybS5mbi5uYW1lKTtcbiAgICAgICAgZm5MaXRlcmFsICs9IGlzQXN5bmModHJhbnNmb3JtKSA/IGB0cmFuc2Zvcm1lZD1hd2FpdCBlLnRyYW5zZm9ybVske2l9XShjKVxuYCA6IGB0cmFuc2Zvcm1lZD1lLnRyYW5zZm9ybVske2l9XShjKVxuYCwgdHJhbnNmb3JtLnN1YlR5cGUgPT09IFwibWFwRGVyaXZlXCIgPyBmbkxpdGVyYWwgKz0gXCJpZih0cmFuc2Zvcm1lZCBpbnN0YW5jZW9mIEVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlKXtcIiArIG1hcFJlc3BvbnNlKFwidHJhbnNmb3JtZWRcIikgKyBgfWVsc2V7dHJhbnNmb3JtZWQucmVxdWVzdD1jLnJlcXVlc3RcbnRyYW5zZm9ybWVkLnN0b3JlPWMuc3RvcmVcbnRyYW5zZm9ybWVkLnFpPWMucWlcbnRyYW5zZm9ybWVkLnBhdGg9Yy5wYXRoXG50cmFuc2Zvcm1lZC51cmw9Yy51cmxcbnRyYW5zZm9ybWVkLnJlZGlyZWN0PWMucmVkaXJlY3RcbnRyYW5zZm9ybWVkLnNldD1jLnNldFxudHJhbnNmb3JtZWQuZXJyb3I9Yy5lcnJvclxuYz10cmFuc2Zvcm1lZH1gIDogZm5MaXRlcmFsICs9IFwiaWYodHJhbnNmb3JtZWQgaW5zdGFuY2VvZiBFbHlzaWFDdXN0b21TdGF0dXNSZXNwb25zZSl7XCIgKyBtYXBSZXNwb25zZShcInRyYW5zZm9ybWVkXCIpICsgYH1lbHNlIE9iamVjdC5hc3NpZ24oYyx0cmFuc2Zvcm1lZClcbmAsIGVuZFVuaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVwb3J0ZXIucmVzb2x2ZSgpO1xuICB9XG4gIGNvbnN0IGZpbGVVbmlvbnMgPSBbXTtcbiAgaWYgKHZhbGlkYXRvcikge1xuICAgIGlmICh2YWxpZGF0b3IuaGVhZGVycykge1xuICAgICAgaWYgKHZhbGlkYXRvci5oZWFkZXJzLmhhc0RlZmF1bHQpXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgICAgIFZhbHVlLkRlZmF1bHQoXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB2YWxpZGF0b3IuaGVhZGVycy5zY2hlbWEsXG4gICAgICAgICAgICB7fVxuICAgICAgICAgIClcbiAgICAgICAgKSkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogdHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIgPyBgJyR7dmFsdWV9J2AgOiB2YWx1ZTtcbiAgICAgICAgICBwYXJzZWQgIT09IHZvaWQgMCAmJiAoZm5MaXRlcmFsICs9IGBjLmhlYWRlcnNbJyR7a2V5fSddPz89JHtwYXJzZWR9XG5gKTtcbiAgICAgICAgfVxuICAgICAgZm5MaXRlcmFsICs9IGNvbXBvc2VDbGVhbmVyKHtcbiAgICAgICAgbmFtZTogXCJjLmhlYWRlcnNcIixcbiAgICAgICAgc2NoZW1hOiB2YWxpZGF0b3IuaGVhZGVycyxcbiAgICAgICAgdHlwZTogXCJoZWFkZXJzXCIsXG4gICAgICAgIG5vcm1hbGl6ZVxuICAgICAgfSksIHZhbGlkYXRvci5oZWFkZXJzLmlzT3B0aW9uYWwgJiYgKGZuTGl0ZXJhbCArPSBcImlmKGlzTm90RW1wdHkoYy5oZWFkZXJzKSl7XCIpLCB2YWxpZGF0b3IuaGVhZGVycz8ucHJvdmlkZXIgPT09IFwic3RhbmRhcmRcIiA/IGZuTGl0ZXJhbCArPSBgbGV0IHZhaD12YWxpZGF0b3IuaGVhZGVycy5DaGVjayhjLmhlYWRlcnMpXG5pZih2YWggaW5zdGFuY2VvZiBQcm9taXNlKXZhaD1hd2FpdCB2YWhcbmlmKHZhaC5pc3N1ZXMpe2AgKyB2YWxpZGF0aW9uLnZhbGlkYXRlKFwiaGVhZGVyc1wiLCB2b2lkIDAsIFwidmFoLmlzc3Vlc1wiKSArIGB9ZWxzZXtjLmhlYWRlcnM9dmFoLnZhbHVlfVxuYCA6IHZhbGlkYXRvci5oZWFkZXJzPy5zY2hlbWE/Lm5vVmFsaWRhdGUgIT09ICEwICYmIChmbkxpdGVyYWwgKz0gXCJpZih2YWxpZGF0b3IuaGVhZGVycy5DaGVjayhjLmhlYWRlcnMpID09PSBmYWxzZSl7XCIgKyB2YWxpZGF0aW9uLnZhbGlkYXRlKFwiaGVhZGVyc1wiKSArIFwifVwiKSwgdmFsaWRhdG9yLmhlYWRlcnMuaGFzVHJhbnNmb3JtICYmIChmbkxpdGVyYWwgKz0gY29lcmNlVHJhbnNmb3JtRGVjb2RlRXJyb3IoXG4gICAgICAgIGBjLmhlYWRlcnM9dmFsaWRhdG9yLmhlYWRlcnMuRGVjb2RlKGMuaGVhZGVycylcbmAsXG4gICAgICAgIFwiaGVhZGVyc1wiXG4gICAgICApKSwgdmFsaWRhdG9yLmhlYWRlcnMuaXNPcHRpb25hbCAmJiAoZm5MaXRlcmFsICs9IFwifVwiKTtcbiAgICB9XG4gICAgaWYgKHZhbGlkYXRvci5wYXJhbXMpIHtcbiAgICAgIGlmICh2YWxpZGF0b3IucGFyYW1zLmhhc0RlZmF1bHQpXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgICAgIFZhbHVlLkRlZmF1bHQoXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB2YWxpZGF0b3IucGFyYW1zLnNjaGVtYSxcbiAgICAgICAgICAgIHt9XG4gICAgICAgICAgKVxuICAgICAgICApKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gdHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiB0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIiA/IGAnJHt2YWx1ZX0nYCA6IHZhbHVlO1xuICAgICAgICAgIHBhcnNlZCAhPT0gdm9pZCAwICYmIChmbkxpdGVyYWwgKz0gYGMucGFyYW1zWycke2tleX0nXT8/PSR7cGFyc2VkfVxuYCk7XG4gICAgICAgIH1cbiAgICAgIHZhbGlkYXRvci5wYXJhbXMucHJvdmlkZXIgPT09IFwic3RhbmRhcmRcIiA/IGZuTGl0ZXJhbCArPSBgbGV0IHZhcD12YWxpZGF0b3IucGFyYW1zLkNoZWNrKGMucGFyYW1zKVxuaWYodmFwIGluc3RhbmNlb2YgUHJvbWlzZSl2YXA9YXdhaXQgdmFwXG5pZih2YXAuaXNzdWVzKXtgICsgdmFsaWRhdGlvbi52YWxpZGF0ZShcInBhcmFtc1wiLCB2b2lkIDAsIFwidmFwLmlzc3Vlc1wiKSArIGB9ZWxzZXtjLnBhcmFtcz12YXAudmFsdWV9XG5gIDogdmFsaWRhdG9yLnBhcmFtcz8uc2NoZW1hPy5ub1ZhbGlkYXRlICE9PSAhMCAmJiAoZm5MaXRlcmFsICs9IFwiaWYodmFsaWRhdG9yLnBhcmFtcy5DaGVjayhjLnBhcmFtcyk9PT1mYWxzZSl7XCIgKyB2YWxpZGF0aW9uLnZhbGlkYXRlKFwicGFyYW1zXCIpICsgXCJ9XCIpLCB2YWxpZGF0b3IucGFyYW1zLmhhc1RyYW5zZm9ybSAmJiAoZm5MaXRlcmFsICs9IGNvZXJjZVRyYW5zZm9ybURlY29kZUVycm9yKFxuICAgICAgICBgYy5wYXJhbXM9dmFsaWRhdG9yLnBhcmFtcy5EZWNvZGUoYy5wYXJhbXMpXG5gLFxuICAgICAgICBcInBhcmFtc1wiXG4gICAgICApKTtcbiAgICB9XG4gICAgaWYgKHZhbGlkYXRvci5xdWVyeSkge1xuICAgICAgaWYgKEtpbmQgaW4gdmFsaWRhdG9yLnF1ZXJ5Py5zY2hlbWEgJiYgdmFsaWRhdG9yLnF1ZXJ5Lmhhc0RlZmF1bHQpXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgICAgIFZhbHVlLkRlZmF1bHQoXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB2YWxpZGF0b3IucXVlcnkuc2NoZW1hLFxuICAgICAgICAgICAge31cbiAgICAgICAgICApXG4gICAgICAgICkpIHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSB0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiID8gYCcke3ZhbHVlfSdgIDogdmFsdWU7XG4gICAgICAgICAgcGFyc2VkICE9PSB2b2lkIDAgJiYgKGZuTGl0ZXJhbCArPSBgaWYoYy5xdWVyeVsnJHtrZXl9J109PT11bmRlZmluZWQpYy5xdWVyeVsnJHtrZXl9J109JHtwYXJzZWR9XG5gKTtcbiAgICAgICAgfVxuICAgICAgZm5MaXRlcmFsICs9IGNvbXBvc2VDbGVhbmVyKHtcbiAgICAgICAgbmFtZTogXCJjLnF1ZXJ5XCIsXG4gICAgICAgIHNjaGVtYTogdmFsaWRhdG9yLnF1ZXJ5LFxuICAgICAgICB0eXBlOiBcInF1ZXJ5XCIsXG4gICAgICAgIG5vcm1hbGl6ZVxuICAgICAgfSksIHZhbGlkYXRvci5xdWVyeS5pc09wdGlvbmFsICYmIChmbkxpdGVyYWwgKz0gXCJpZihpc05vdEVtcHR5KGMucXVlcnkpKXtcIiksIHZhbGlkYXRvci5xdWVyeS5wcm92aWRlciA9PT0gXCJzdGFuZGFyZFwiID8gZm5MaXRlcmFsICs9IGBsZXQgdmFxPXZhbGlkYXRvci5xdWVyeS5DaGVjayhjLnF1ZXJ5KVxuaWYodmFxIGluc3RhbmNlb2YgUHJvbWlzZSl2YXE9YXdhaXQgdmFxXG5pZih2YXEuaXNzdWVzKXtgICsgdmFsaWRhdGlvbi52YWxpZGF0ZShcInF1ZXJ5XCIsIHZvaWQgMCwgXCJ2YXEuaXNzdWVzXCIpICsgYH1lbHNle2MucXVlcnk9dmFxLnZhbHVlfVxuYCA6IHZhbGlkYXRvci5xdWVyeT8uc2NoZW1hPy5ub1ZhbGlkYXRlICE9PSAhMCAmJiAoZm5MaXRlcmFsICs9IFwiaWYodmFsaWRhdG9yLnF1ZXJ5LkNoZWNrKGMucXVlcnkpPT09ZmFsc2Upe1wiICsgdmFsaWRhdGlvbi52YWxpZGF0ZShcInF1ZXJ5XCIpICsgXCJ9XCIpLCB2YWxpZGF0b3IucXVlcnkuaGFzVHJhbnNmb3JtICYmIChmbkxpdGVyYWwgKz0gY29lcmNlVHJhbnNmb3JtRGVjb2RlRXJyb3IoXG4gICAgICAgIGBjLnF1ZXJ5PXZhbGlkYXRvci5xdWVyeS5EZWNvZGUoYy5xdWVyeSlcbmAsXG4gICAgICAgIFwicXVlcnlcIlxuICAgICAgKSwgZm5MaXRlcmFsICs9IGNvZXJjZVRyYW5zZm9ybURlY29kZUVycm9yKFxuICAgICAgICBgYy5xdWVyeT12YWxpZGF0b3IucXVlcnkuRGVjb2RlKGMucXVlcnkpXG5gLFxuICAgICAgICBcInF1ZXJ5XCJcbiAgICAgICkpLCB2YWxpZGF0b3IucXVlcnkuaXNPcHRpb25hbCAmJiAoZm5MaXRlcmFsICs9IFwifVwiKTtcbiAgICB9XG4gICAgaWYgKGhhc0JvZHkgJiYgdmFsaWRhdG9yLmJvZHkpIHtcbiAgICAgICh2YWxpZGF0b3IuYm9keS5oYXNUcmFuc2Zvcm0gfHwgdmFsaWRhdG9yLmJvZHkuaXNPcHRpb25hbCkgJiYgKGZuTGl0ZXJhbCArPSBgY29uc3QgaXNOb3RFbXB0eU9iamVjdD1jLmJvZHkmJih0eXBlb2YgYy5ib2R5PT09XCJvYmplY3RcIiYmKGlzTm90RW1wdHkoYy5ib2R5KXx8Yy5ib2R5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKVxuYCk7XG4gICAgICBjb25zdCBoYXNVbmlvbiA9IGlzVW5pb24odmFsaWRhdG9yLmJvZHkuc2NoZW1hKTtcbiAgICAgIGxldCBoYXNOb25VbmlvbkZpbGVXaXRoRGVmYXVsdCA9ICExO1xuICAgICAgaWYgKHZhbGlkYXRvci5ib2R5Lmhhc0RlZmF1bHQpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gVmFsdWUuRGVmYXVsdChcbiAgICAgICAgICB2YWxpZGF0b3IuYm9keS5zY2hlbWEsXG4gICAgICAgICAgdmFsaWRhdG9yLmJvZHkuc2NoZW1hLnR5cGUgPT09IFwib2JqZWN0XCIgfHwgdW53cmFwSW1wb3J0U2NoZW1hKHZhbGlkYXRvci5ib2R5LnNjaGVtYSlbS2luZF0gPT09IFwiT2JqZWN0XCIgPyB7fSA6IHZvaWQgMFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBzY2hlbWEgPSB1bndyYXBJbXBvcnRTY2hlbWEodmFsaWRhdG9yLmJvZHkuc2NoZW1hKTtcbiAgICAgICAgaWYgKCFoYXNVbmlvbiAmJiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiAoaGFzVHlwZShcIkZpbGVcIiwgc2NoZW1hKSB8fCBoYXNUeXBlKFwiRmlsZXNcIiwgc2NoZW1hKSkpIHtcbiAgICAgICAgICBoYXNOb25VbmlvbkZpbGVXaXRoRGVmYXVsdCA9ICEwO1xuICAgICAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlKSlcbiAgICAgICAgICAgICh2ID09PSBcIkZpbGVcIiB8fCB2ID09PSBcIkZpbGVzXCIpICYmIGRlbGV0ZSB2YWx1ZVtrXTtcbiAgICAgICAgICBpc05vdEVtcHR5KHZhbHVlKSB8fCAodmFsdWUgPSB2b2lkIDApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogdHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIgPyBgJyR7dmFsdWV9J2AgOiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgIT0gbnVsbCAmJiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBmbkxpdGVyYWwgKz0gYGlmKCFjLmJvZHkpYy5ib2R5PSR7cGFyc2VkfVxuYCA6IHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiID8gZm5MaXRlcmFsICs9IGBjLmJvZHk9T2JqZWN0LmFzc2lnbigke3BhcnNlZH0sYy5ib2R5KVxuYCA6IGZuTGl0ZXJhbCArPSBgYy5ib2R5PSR7cGFyc2VkfVxuYCksIGZuTGl0ZXJhbCArPSBjb21wb3NlQ2xlYW5lcih7XG4gICAgICAgICAgbmFtZTogXCJjLmJvZHlcIixcbiAgICAgICAgICBzY2hlbWE6IHZhbGlkYXRvci5ib2R5LFxuICAgICAgICAgIHR5cGU6IFwiYm9keVwiLFxuICAgICAgICAgIG5vcm1hbGl6ZVxuICAgICAgICB9KSwgdmFsaWRhdG9yLmJvZHkucHJvdmlkZXIgPT09IFwic3RhbmRhcmRcIiA/IGZuTGl0ZXJhbCArPSBgbGV0IHZhYj12YWxpZGF0b3IuYm9keS5DaGVjayhjLmJvZHkpXG5pZih2YWIgaW5zdGFuY2VvZiBQcm9taXNlKXZhYj1hd2FpdCB2YWJcbmlmKHZhYi5pc3N1ZXMpe2AgKyB2YWxpZGF0aW9uLnZhbGlkYXRlKFwiYm9keVwiLCB2b2lkIDAsIFwidmFiLmlzc3Vlc1wiKSArIGB9ZWxzZXtjLmJvZHk9dmFiLnZhbHVlfVxuYCA6IHZhbGlkYXRvci5ib2R5Py5zY2hlbWE/Lm5vVmFsaWRhdGUgIT09ICEwICYmICh2YWxpZGF0b3IuYm9keS5pc09wdGlvbmFsID8gZm5MaXRlcmFsICs9IFwiaWYoaXNOb3RFbXB0eU9iamVjdCYmdmFsaWRhdG9yLmJvZHkuQ2hlY2soYy5ib2R5KT09PWZhbHNlKXtcIiArIHZhbGlkYXRpb24udmFsaWRhdGUoXCJib2R5XCIpICsgXCJ9XCIgOiBmbkxpdGVyYWwgKz0gXCJpZih2YWxpZGF0b3IuYm9keS5DaGVjayhjLmJvZHkpPT09ZmFsc2Upe1wiICsgdmFsaWRhdGlvbi52YWxpZGF0ZShcImJvZHlcIikgKyBcIn1cIik7XG4gICAgICB9IGVsc2VcbiAgICAgICAgZm5MaXRlcmFsICs9IGNvbXBvc2VDbGVhbmVyKHtcbiAgICAgICAgICBuYW1lOiBcImMuYm9keVwiLFxuICAgICAgICAgIHNjaGVtYTogdmFsaWRhdG9yLmJvZHksXG4gICAgICAgICAgdHlwZTogXCJib2R5XCIsXG4gICAgICAgICAgbm9ybWFsaXplXG4gICAgICAgIH0pLCB2YWxpZGF0b3IuYm9keS5wcm92aWRlciA9PT0gXCJzdGFuZGFyZFwiID8gZm5MaXRlcmFsICs9IGBsZXQgdmFiPXZhbGlkYXRvci5ib2R5LkNoZWNrKGMuYm9keSlcbmlmKHZhYiBpbnN0YW5jZW9mIFByb21pc2UpdmFiPWF3YWl0IHZhYlxuaWYodmFiLmlzc3Vlcyl7YCArIHZhbGlkYXRpb24udmFsaWRhdGUoXCJib2R5XCIsIHZvaWQgMCwgXCJ2YWIuaXNzdWVzXCIpICsgYH1lbHNle2MuYm9keT12YWIudmFsdWV9XG5gIDogdmFsaWRhdG9yLmJvZHk/LnNjaGVtYT8ubm9WYWxpZGF0ZSAhPT0gITAgJiYgKHZhbGlkYXRvci5ib2R5LmlzT3B0aW9uYWwgPyBmbkxpdGVyYWwgKz0gXCJpZihpc05vdEVtcHR5T2JqZWN0JiZ2YWxpZGF0b3IuYm9keS5DaGVjayhjLmJvZHkpPT09ZmFsc2Upe1wiICsgdmFsaWRhdGlvbi52YWxpZGF0ZShcImJvZHlcIikgKyBcIn1cIiA6IGZuTGl0ZXJhbCArPSBcImlmKHZhbGlkYXRvci5ib2R5LkNoZWNrKGMuYm9keSk9PT1mYWxzZSl7XCIgKyB2YWxpZGF0aW9uLnZhbGlkYXRlKFwiYm9keVwiKSArIFwifVwiKTtcbiAgICAgIGlmICh2YWxpZGF0b3IuYm9keS5oYXNUcmFuc2Zvcm0gJiYgKGZuTGl0ZXJhbCArPSBjb2VyY2VUcmFuc2Zvcm1EZWNvZGVFcnJvcihcbiAgICAgICAgYGlmKGlzTm90RW1wdHlPYmplY3QpYy5ib2R5PXZhbGlkYXRvci5ib2R5LkRlY29kZShjLmJvZHkpXG5gLFxuICAgICAgICBcImJvZHlcIlxuICAgICAgKSksIGhhc1VuaW9uICYmIHZhbGlkYXRvci5ib2R5LnNjaGVtYS5hbnlPZj8ubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gT2JqZWN0LnZhbHVlcyhcbiAgICAgICAgICB2YWxpZGF0b3IuYm9keS5zY2hlbWEuYW55T2ZcbiAgICAgICAgKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVyYXRvci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHR5cGUgPSBpdGVyYXRvcltpXTtcbiAgICAgICAgICBpZiAoaGFzVHlwZShcIkZpbGVcIiwgdHlwZSkgfHwgaGFzVHlwZShcIkZpbGVzXCIsIHR5cGUpKSB7XG4gICAgICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSBnZXRTY2hlbWFWYWxpZGF0b3IodHlwZSwge1xuICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGUgcHJvcGVydHlcbiAgICAgICAgICAgICAgbW9kdWxlczogYXBwLmRlZmluaXRpb25zLnR5cGVib3gsXG4gICAgICAgICAgICAgIGR5bmFtaWM6ICFhcHAuY29uZmlnLmFvdCxcbiAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBwcml2YXRlIHByb3BlcnR5XG4gICAgICAgICAgICAgIG1vZGVsczogYXBwLmRlZmluaXRpb25zLnR5cGUsXG4gICAgICAgICAgICAgIG5vcm1hbGl6ZTogYXBwLmNvbmZpZy5ub3JtYWxpemUsXG4gICAgICAgICAgICAgIGFkZGl0aW9uYWxDb2VyY2U6IGNvZXJjZVByaW1pdGl2ZVJvb3QoKSxcbiAgICAgICAgICAgICAgc2FuaXRpemU6ICgpID0+IGFwcC5jb25maWcuc2FuaXRpemVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZSkge1xuICAgICAgICAgICAgICBjb25zdCBpc0ZpcnN0ID0gZmlsZVVuaW9ucy5sZW5ndGggPT09IDAsIGl0ZXJhdG9yMiA9IE9iamVjdC5lbnRyaWVzKFxuICAgICAgICAgICAgICAgIHR5cGUucHJvcGVydGllc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBsZXQgdmFsaWRhdG9yMiA9IGlzRmlyc3QgPyBgXG5gIDogXCIgZWxzZSBcIjtcbiAgICAgICAgICAgICAgdmFsaWRhdG9yMiArPSBgaWYoZmlsZVVuaW9uc1ske2ZpbGVVbmlvbnMubGVuZ3RofV0uQ2hlY2soYy5ib2R5KSl7YDtcbiAgICAgICAgICAgICAgbGV0IHZhbGlkYXRlRmlsZSA9IFwiXCIsIHZhbGlkYXRvckxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgIGZvciAobGV0IGkyID0gMDsgaTIgPCBpdGVyYXRvcjIubGVuZ3RoOyBpMisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2ssIHZdID0gaXRlcmF0b3IyW2kyXTtcbiAgICAgICAgICAgICAgICAhdi5leHRlbnNpb24gfHwgdltLaW5kXSAhPT0gXCJGaWxlXCIgJiYgdltLaW5kXSAhPT0gXCJGaWxlc1wiIHx8ICh2YWxpZGF0b3JMZW5ndGggJiYgKHZhbGlkYXRlRmlsZSArPSBcIixcIiksIHZhbGlkYXRlRmlsZSArPSBgZmlsZVR5cGUoYy5ib2R5LiR7a30sJHtKU09OLnN0cmluZ2lmeSh2LmV4dGVuc2lvbil9LCdib2R5LiR7a30nKWAsIHZhbGlkYXRvckxlbmd0aCsrKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YWxpZGF0ZUZpbGUgJiYgKHZhbGlkYXRvckxlbmd0aCA9PT0gMSA/IHZhbGlkYXRvcjIgKz0gYGF3YWl0ICR7dmFsaWRhdGVGaWxlfVxuYCA6IHZhbGlkYXRvckxlbmd0aCA+IDEgJiYgKHZhbGlkYXRvcjIgKz0gYGF3YWl0IFByb21pc2UuYWxsKFske3ZhbGlkYXRlRmlsZX1dKVxuYCksIHZhbGlkYXRvcjIgKz0gXCJ9XCIsIGZuTGl0ZXJhbCArPSB2YWxpZGF0b3IyLCBmaWxlVW5pb25zLnB1c2goY2FuZGlkYXRlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGhhc05vblVuaW9uRmlsZVdpdGhEZWZhdWx0IHx8ICFoYXNVbmlvbiAmJiAoaGFzVHlwZShcbiAgICAgICAgXCJGaWxlXCIsXG4gICAgICAgIHVud3JhcEltcG9ydFNjaGVtYSh2YWxpZGF0b3IuYm9keS5zY2hlbWEpXG4gICAgICApIHx8IGhhc1R5cGUoXG4gICAgICAgIFwiRmlsZXNcIixcbiAgICAgICAgdW53cmFwSW1wb3J0U2NoZW1hKHZhbGlkYXRvci5ib2R5LnNjaGVtYSlcbiAgICAgICkpKSB7XG4gICAgICAgIGxldCB2YWxpZGF0ZUZpbGUgPSBcIlwiLCBpID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgICAgdW53cmFwSW1wb3J0U2NoZW1hKHZhbGlkYXRvci5ib2R5LnNjaGVtYSkucHJvcGVydGllc1xuICAgICAgICApKVxuICAgICAgICAgICF2LmV4dGVuc2lvbiB8fCB2W0tpbmRdICE9PSBcIkZpbGVcIiAmJiB2W0tpbmRdICE9PSBcIkZpbGVzXCIgfHwgKGkgJiYgKHZhbGlkYXRlRmlsZSArPSBcIixcIiksIHZhbGlkYXRlRmlsZSArPSBgZmlsZVR5cGUoYy5ib2R5LiR7a30sJHtKU09OLnN0cmluZ2lmeSh2LmV4dGVuc2lvbil9LCdib2R5LiR7a30nKWAsIGkrKyk7XG4gICAgICAgIGkgJiYgKGZuTGl0ZXJhbCArPSBgXG5gKSwgaSA9PT0gMSA/IGZuTGl0ZXJhbCArPSBgYXdhaXQgJHt2YWxpZGF0ZUZpbGV9XG5gIDogaSA+IDEgJiYgKGZuTGl0ZXJhbCArPSBgYXdhaXQgUHJvbWlzZS5hbGwoWyR7dmFsaWRhdGVGaWxlfV0pXG5gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFsaWRhdG9yLmNvb2tpZSAmJiAodmFsaWRhdG9yLmNvb2tpZS5jb25maWcgPSBtZXJnZUNvb2tpZShcbiAgICAgIHZhbGlkYXRvci5jb29raWUuY29uZmlnLFxuICAgICAgdmFsaWRhdG9yLmNvb2tpZT8uY29uZmlnID8/IHt9XG4gICAgKSwgZm5MaXRlcmFsICs9IGBsZXQgY29va2llVmFsdWU9e31cbmZvcihjb25zdCBba2V5LHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjLmNvb2tpZSkpY29va2llVmFsdWVba2V5XT12YWx1ZS52YWx1ZVxuYCwgdmFsaWRhdG9yLmNvb2tpZS5pc09wdGlvbmFsICYmIChmbkxpdGVyYWwgKz0gXCJpZihpc05vdEVtcHR5KGMuY29va2llKSl7XCIpLCB2YWxpZGF0b3IuY29va2llLnByb3ZpZGVyID09PSBcInN0YW5kYXJkXCIgPyAoZm5MaXRlcmFsICs9IGBsZXQgdmFjPXZhbGlkYXRvci5jb29raWUuQ2hlY2soY29va2llVmFsdWUpXG5pZih2YWMgaW5zdGFuY2VvZiBQcm9taXNlKXZhYz1hd2FpdCB2YWNcbmlmKHZhYy5pc3N1ZXMpe2AgKyB2YWxpZGF0aW9uLnZhbGlkYXRlKFwiY29va2llXCIsIHZvaWQgMCwgXCJ2YWMuaXNzdWVzXCIpICsgYH1lbHNle2Nvb2tpZVZhbHVlPXZhYy52YWx1ZX1cbmAsIGZuTGl0ZXJhbCArPSBgZm9yKGNvbnN0IGsgb2YgT2JqZWN0LmtleXMoY29va2llVmFsdWUpKWMuY29va2llW2tdLnZhbHVlPWNvb2tpZVZhbHVlW2tdXG5gKSA6IHZhbGlkYXRvci5ib2R5Py5zY2hlbWE/Lm5vVmFsaWRhdGUgIT09ICEwICYmIChmbkxpdGVyYWwgKz0gXCJpZih2YWxpZGF0b3IuY29va2llLkNoZWNrKGNvb2tpZVZhbHVlKT09PWZhbHNlKXtcIiArIHZhbGlkYXRpb24udmFsaWRhdGUoXCJjb29raWVcIiwgXCJjb29raWVWYWx1ZVwiKSArIFwifVwiLCB2YWxpZGF0b3IuY29va2llLmhhc1RyYW5zZm9ybSAmJiAoZm5MaXRlcmFsICs9IGNvZXJjZVRyYW5zZm9ybURlY29kZUVycm9yKFxuICAgICAgXCJmb3IoY29uc3QgW2tleSx2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModmFsaWRhdG9yLmNvb2tpZS5EZWNvZGUoY29va2llVmFsdWUpKSl7Yy5jb29raWVba2V5XS52YWx1ZT12YWx1ZX1cIixcbiAgICAgIFwiY29va2llXCJcbiAgICApKSksIHZhbGlkYXRvci5jb29raWUuaXNPcHRpb25hbCAmJiAoZm5MaXRlcmFsICs9IFwifVwiKSk7XG4gIH1cbiAgaWYgKGhvb2tzPy5iZWZvcmVIYW5kbGUgfHwgaGFzVHJhY2UpIHtcbiAgICBjb25zdCByZXBvcnRlciA9IHJlcG9ydChcImJlZm9yZUhhbmRsZVwiLCB7XG4gICAgICB0b3RhbDogaG9va3MuYmVmb3JlSGFuZGxlPy5sZW5ndGhcbiAgICB9KTtcbiAgICBsZXQgaGFzUmVzb2x2ZSA9ICExO1xuICAgIGlmIChob29rcy5iZWZvcmVIYW5kbGU/Lmxlbmd0aClcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MuYmVmb3JlSGFuZGxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJlZm9yZUhhbmRsZSA9IGhvb2tzLmJlZm9yZUhhbmRsZVtpXSwgZW5kVW5pdCA9IHJlcG9ydGVyLnJlc29sdmVDaGlsZChiZWZvcmVIYW5kbGUuZm4ubmFtZSksIHJldHVybmluZyA9IGhhc1JldHVybihiZWZvcmVIYW5kbGUpO1xuICAgICAgICBpZiAoYmVmb3JlSGFuZGxlLnN1YlR5cGUgPT09IFwicmVzb2x2ZVwiIHx8IGJlZm9yZUhhbmRsZS5zdWJUeXBlID09PSBcIm1hcFJlc29sdmVcIilcbiAgICAgICAgICBoYXNSZXNvbHZlIHx8IChoYXNSZXNvbHZlID0gITAsIGZuTGl0ZXJhbCArPSBgXG5sZXQgcmVzb2x2ZWRcbmApLCBmbkxpdGVyYWwgKz0gaXNBc3luYyhiZWZvcmVIYW5kbGUpID8gYHJlc29sdmVkPWF3YWl0IGUuYmVmb3JlSGFuZGxlWyR7aX1dKGMpO1xuYCA6IGByZXNvbHZlZD1lLmJlZm9yZUhhbmRsZVske2l9XShjKTtcbmAsIGJlZm9yZUhhbmRsZS5zdWJUeXBlID09PSBcIm1hcFJlc29sdmVcIiA/IGZuTGl0ZXJhbCArPSBcImlmKHJlc29sdmVkIGluc3RhbmNlb2YgRWx5c2lhQ3VzdG9tU3RhdHVzUmVzcG9uc2Upe1wiICsgbWFwUmVzcG9uc2UoXCJyZXNvbHZlZFwiKSArIGB9ZWxzZXtyZXNvbHZlZC5yZXF1ZXN0PWMucmVxdWVzdFxucmVzb2x2ZWQuc3RvcmU9Yy5zdG9yZVxucmVzb2x2ZWQucWk9Yy5xaVxucmVzb2x2ZWQucGF0aD1jLnBhdGhcbnJlc29sdmVkLnVybD1jLnVybFxucmVzb2x2ZWQucmVkaXJlY3Q9Yy5yZWRpcmVjdFxucmVzb2x2ZWQuc2V0PWMuc2V0XG5yZXNvbHZlZC5lcnJvcj1jLmVycm9yXG5jPXJlc29sdmVkfWAgOiBmbkxpdGVyYWwgKz0gXCJpZihyZXNvbHZlZCBpbnN0YW5jZW9mIEVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlKXtcIiArIG1hcFJlc3BvbnNlKFwicmVzb2x2ZWRcIikgKyBgfWVsc2UgT2JqZWN0LmFzc2lnbihjLCByZXNvbHZlZClcbmAsIGVuZFVuaXQoKTtcbiAgICAgICAgZWxzZSBpZiAoIXJldHVybmluZylcbiAgICAgICAgICBmbkxpdGVyYWwgKz0gaXNBc3luYyhiZWZvcmVIYW5kbGUpID8gYGF3YWl0IGUuYmVmb3JlSGFuZGxlWyR7aX1dKGMpXG5gIDogYGUuYmVmb3JlSGFuZGxlWyR7aX1dKGMpXG5gLCBlbmRVbml0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmIChmbkxpdGVyYWwgKz0gaXNBc3luYyhiZWZvcmVIYW5kbGUpID8gYGJlPWF3YWl0IGUuYmVmb3JlSGFuZGxlWyR7aX1dKGMpXG5gIDogYGJlPWUuYmVmb3JlSGFuZGxlWyR7aX1dKGMpXG5gLCBlbmRVbml0KFwiYmVcIiksIGZuTGl0ZXJhbCArPSBcImlmKGJlIT09dW5kZWZpbmVkKXtcIiwgcmVwb3J0ZXIucmVzb2x2ZSgpLCBob29rcy5hZnRlckhhbmRsZT8ubGVuZ3RoIHx8IGhhc1RyYWNlKSB7XG4gICAgICAgICAgICByZXBvcnQoXCJoYW5kbGVcIiwge1xuICAgICAgICAgICAgICBuYW1lOiBpc0hhbmRsZUZuID8gaGFuZGxlci5uYW1lIDogdm9pZCAwXG4gICAgICAgICAgICB9KS5yZXNvbHZlKCk7XG4gICAgICAgICAgICBjb25zdCByZXBvcnRlcjIgPSByZXBvcnQoXCJhZnRlckhhbmRsZVwiLCB7XG4gICAgICAgICAgICAgIHRvdGFsOiBob29rcy5hZnRlckhhbmRsZT8ubGVuZ3RoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChob29rcy5hZnRlckhhbmRsZT8ubGVuZ3RoKVxuICAgICAgICAgICAgICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgaG9va3MuYWZ0ZXJIYW5kbGUubGVuZ3RoOyBpMisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaG9vayA9IGhvb2tzLmFmdGVySGFuZGxlW2kyXSwgcmV0dXJuaW5nMiA9IGhhc1JldHVybihob29rKSwgZW5kVW5pdDIgPSByZXBvcnRlcjIucmVzb2x2ZUNoaWxkKFxuICAgICAgICAgICAgICAgICAgaG9vay5mbi5uYW1lXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBmbkxpdGVyYWwgKz0gYGMucmVzcG9uc2U9Yy5yZXNwb25zZVZhbHVlPWJlXG5gLCByZXR1cm5pbmcyID8gKGZuTGl0ZXJhbCArPSBpc0FzeW5jKGhvb2suZm4pID8gYGFmPWF3YWl0IGUuYWZ0ZXJIYW5kbGVbJHtpMn1dKGMpXG5gIDogYGFmPWUuYWZ0ZXJIYW5kbGVbJHtpMn1dKGMpXG5gLCBmbkxpdGVyYWwgKz0gYGlmKGFmIT09dW5kZWZpbmVkKSBjLnJlc3BvbnNlPWMucmVzcG9uc2VWYWx1ZT1iZT1hZlxuYCkgOiBmbkxpdGVyYWwgKz0gaXNBc3luYyhob29rLmZuKSA/IGBhd2FpdCBlLmFmdGVySGFuZGxlWyR7aTJ9XShjLCBiZSlcbmAgOiBgZS5hZnRlckhhbmRsZVske2kyfV0oYywgYmUpXG5gLCBlbmRVbml0MihcImFmXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICByZXBvcnRlcjIucmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YWxpZGF0b3IucmVzcG9uc2UgJiYgKGZuTGl0ZXJhbCArPSB2YWxpZGF0aW9uLnJlc3BvbnNlKFwiYmVcIikpO1xuICAgICAgICAgIGNvbnN0IG1hcFJlc3BvbnNlUmVwb3J0ZXIgPSByZXBvcnQoXCJtYXBSZXNwb25zZVwiLCB7XG4gICAgICAgICAgICB0b3RhbDogaG9va3MubWFwUmVzcG9uc2U/Lmxlbmd0aFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChob29rcy5tYXBSZXNwb25zZT8ubGVuZ3RoKSB7XG4gICAgICAgICAgICBmbkxpdGVyYWwgKz0gYGMucmVzcG9uc2U9Yy5yZXNwb25zZVZhbHVlPWJlXG5gO1xuICAgICAgICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGhvb2tzLm1hcFJlc3BvbnNlLmxlbmd0aDsgaTIrKykge1xuICAgICAgICAgICAgICBjb25zdCBtYXBSZXNwb25zZTIgPSBob29rcy5tYXBSZXNwb25zZVtpMl0sIGVuZFVuaXQyID0gbWFwUmVzcG9uc2VSZXBvcnRlci5yZXNvbHZlQ2hpbGQoXG4gICAgICAgICAgICAgICAgbWFwUmVzcG9uc2UyLmZuLm5hbWVcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgZm5MaXRlcmFsICs9IGBpZihtcj09PXVuZGVmaW5lZCl7bXI9JHtpc0FzeW5jTmFtZShtYXBSZXNwb25zZTIpID8gXCJhd2FpdCBcIiA6IFwiXCJ9ZS5tYXBSZXNwb25zZVske2kyfV0oYylcbmlmKG1yIT09dW5kZWZpbmVkKWJlPWMucmVzcG9uc2U9Yy5yZXNwb25zZVZhbHVlPW1yfWAsIGVuZFVuaXQyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIG1hcFJlc3BvbnNlUmVwb3J0ZXIucmVzb2x2ZSgpLCBmbkxpdGVyYWwgKz0gYWZ0ZXJSZXNwb25zZSgpLCBmbkxpdGVyYWwgKz0gZW5jb2RlQ29va2llKCksIGZuTGl0ZXJhbCArPSBgcmV0dXJuIG1hcEVhcmx5UmVzcG9uc2UoJHtzYXZlUmVzcG9uc2V9YmUsYy5zZXQke21hcFJlc3BvbnNlQ29udGV4dH0pfVxuYDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIHJlcG9ydGVyLnJlc29sdmUoKTtcbiAgfVxuICBpZiAoaG9va3MuYWZ0ZXJIYW5kbGU/Lmxlbmd0aCB8fCBoYXNUcmFjZSkge1xuICAgIGNvbnN0IGhhbmRsZVJlcG9ydGVyID0gcmVwb3J0KFwiaGFuZGxlXCIsIHtcbiAgICAgIG5hbWU6IGlzSGFuZGxlRm4gPyBoYW5kbGVyLm5hbWUgOiB2b2lkIDBcbiAgICB9KTtcbiAgICBob29rcy5hZnRlckhhbmRsZT8ubGVuZ3RoID8gZm5MaXRlcmFsICs9IGlzQXN5bmNIYW5kbGVyID8gYGxldCByPWMucmVzcG9uc2U9Yy5yZXNwb25zZVZhbHVlPWF3YWl0ICR7aGFuZGxlfVxuYCA6IGBsZXQgcj1jLnJlc3BvbnNlPWMucmVzcG9uc2VWYWx1ZT0ke2hhbmRsZX1cbmAgOiBmbkxpdGVyYWwgKz0gaXNBc3luY0hhbmRsZXIgPyBgbGV0IHI9YXdhaXQgJHtoYW5kbGV9XG5gIDogYGxldCByPSR7aGFuZGxlfVxuYCwgaGFuZGxlUmVwb3J0ZXIucmVzb2x2ZSgpO1xuICAgIGNvbnN0IHJlcG9ydGVyID0gcmVwb3J0KFwiYWZ0ZXJIYW5kbGVcIiwge1xuICAgICAgdG90YWw6IGhvb2tzLmFmdGVySGFuZGxlPy5sZW5ndGhcbiAgICB9KTtcbiAgICBpZiAoaG9va3MuYWZ0ZXJIYW5kbGU/Lmxlbmd0aClcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MuYWZ0ZXJIYW5kbGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaG9vayA9IGhvb2tzLmFmdGVySGFuZGxlW2ldLCByZXR1cm5pbmcgPSBoYXNSZXR1cm4oaG9vayksIGVuZFVuaXQgPSByZXBvcnRlci5yZXNvbHZlQ2hpbGQoaG9vay5mbi5uYW1lKTtcbiAgICAgICAgcmV0dXJuaW5nID8gKGZuTGl0ZXJhbCArPSBpc0FzeW5jKGhvb2suZm4pID8gYGFmPWF3YWl0IGUuYWZ0ZXJIYW5kbGVbJHtpfV0oYylcbmAgOiBgYWY9ZS5hZnRlckhhbmRsZVske2l9XShjKVxuYCwgZW5kVW5pdChcImFmXCIpLCB2YWxpZGF0b3IucmVzcG9uc2UgPyAoZm5MaXRlcmFsICs9IFwiaWYoYWYhPT11bmRlZmluZWQpe1wiLCByZXBvcnRlci5yZXNvbHZlKCksIGZuTGl0ZXJhbCArPSB2YWxpZGF0aW9uLnJlc3BvbnNlKFwiYWZcIiksIGZuTGl0ZXJhbCArPSBcImMucmVzcG9uc2U9Yy5yZXNwb25zZVZhbHVlPWFmfVwiKSA6IChmbkxpdGVyYWwgKz0gXCJpZihhZiE9PXVuZGVmaW5lZCl7XCIsIHJlcG9ydGVyLnJlc29sdmUoKSwgZm5MaXRlcmFsICs9IFwiYy5yZXNwb25zZT1jLnJlc3BvbnNlVmFsdWU9YWZ9XCIpKSA6IChmbkxpdGVyYWwgKz0gaXNBc3luYyhob29rLmZuKSA/IGBhd2FpdCBlLmFmdGVySGFuZGxlWyR7aX1dKGMpXG5gIDogYGUuYWZ0ZXJIYW5kbGVbJHtpfV0oYylcbmAsIGVuZFVuaXQoKSk7XG4gICAgICB9XG4gICAgcmVwb3J0ZXIucmVzb2x2ZSgpLCBob29rcy5hZnRlckhhbmRsZT8ubGVuZ3RoICYmIChmbkxpdGVyYWwgKz0gYHI9Yy5yZXNwb25zZVxuYCksIHZhbGlkYXRvci5yZXNwb25zZSAmJiAoZm5MaXRlcmFsICs9IHZhbGlkYXRpb24ucmVzcG9uc2UoKSksIGZuTGl0ZXJhbCArPSBlbmNvZGVDb29raWUoKTtcbiAgICBjb25zdCBtYXBSZXNwb25zZVJlcG9ydGVyID0gcmVwb3J0KFwibWFwUmVzcG9uc2VcIiwge1xuICAgICAgdG90YWw6IGhvb2tzLm1hcFJlc3BvbnNlPy5sZW5ndGhcbiAgICB9KTtcbiAgICBpZiAoaG9va3MubWFwUmVzcG9uc2U/Lmxlbmd0aClcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MubWFwUmVzcG9uc2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbWFwUmVzcG9uc2UyID0gaG9va3MubWFwUmVzcG9uc2VbaV0sIGVuZFVuaXQgPSBtYXBSZXNwb25zZVJlcG9ydGVyLnJlc29sdmVDaGlsZChcbiAgICAgICAgICBtYXBSZXNwb25zZTIuZm4ubmFtZVxuICAgICAgICApO1xuICAgICAgICBmbkxpdGVyYWwgKz0gYG1yPSR7aXNBc3luY05hbWUobWFwUmVzcG9uc2UyKSA/IFwiYXdhaXQgXCIgOiBcIlwifWUubWFwUmVzcG9uc2VbJHtpfV0oYylcbmlmKG1yIT09dW5kZWZpbmVkKXI9Yy5yZXNwb25zZT1jLnJlc3BvbnNlVmFsdWU9bXJcbmAsIGVuZFVuaXQoKTtcbiAgICAgIH1cbiAgICBtYXBSZXNwb25zZVJlcG9ydGVyLnJlc29sdmUoKSwgZm5MaXRlcmFsICs9IG1hcFJlc3BvbnNlKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgaGFuZGxlUmVwb3J0ZXIgPSByZXBvcnQoXCJoYW5kbGVcIiwge1xuICAgICAgbmFtZTogaXNIYW5kbGVGbiA/IGhhbmRsZXIubmFtZSA6IHZvaWQgMFxuICAgIH0pO1xuICAgIGlmICh2YWxpZGF0b3IucmVzcG9uc2UgfHwgaG9va3MubWFwUmVzcG9uc2U/Lmxlbmd0aCB8fCBoYXNUcmFjZSkge1xuICAgICAgZm5MaXRlcmFsICs9IGlzQXN5bmNIYW5kbGVyID8gYGxldCByPWF3YWl0ICR7aGFuZGxlfVxuYCA6IGBsZXQgcj0ke2hhbmRsZX1cbmAsIGhhbmRsZVJlcG9ydGVyLnJlc29sdmUoKSwgdmFsaWRhdG9yLnJlc3BvbnNlICYmIChmbkxpdGVyYWwgKz0gdmFsaWRhdGlvbi5yZXNwb25zZSgpKTtcbiAgICAgIGNvbnN0IG1hcFJlc3BvbnNlUmVwb3J0ZXIgPSByZXBvcnQoXCJtYXBSZXNwb25zZVwiLCB7XG4gICAgICAgIHRvdGFsOiBob29rcy5tYXBSZXNwb25zZT8ubGVuZ3RoXG4gICAgICB9KTtcbiAgICAgIGlmIChob29rcy5tYXBSZXNwb25zZT8ubGVuZ3RoKSB7XG4gICAgICAgIGZuTGl0ZXJhbCArPSBgXG5jLnJlc3BvbnNlPWMucmVzcG9uc2VWYWx1ZT1yXG5gO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvb2tzLm1hcFJlc3BvbnNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgbWFwUmVzcG9uc2UyID0gaG9va3MubWFwUmVzcG9uc2VbaV0sIGVuZFVuaXQgPSBtYXBSZXNwb25zZVJlcG9ydGVyLnJlc29sdmVDaGlsZChcbiAgICAgICAgICAgIG1hcFJlc3BvbnNlMi5mbi5uYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgICBmbkxpdGVyYWwgKz0gYFxuaWYobXI9PT11bmRlZmluZWQpe21yPSR7aXNBc3luY05hbWUobWFwUmVzcG9uc2UyKSA/IFwiYXdhaXQgXCIgOiBcIlwifWUubWFwUmVzcG9uc2VbJHtpfV0oYylcbmlmKG1yIT09dW5kZWZpbmVkKXI9Yy5yZXNwb25zZT1jLnJlc3BvbnNlVmFsdWU9bXJ9XG5gLCBlbmRVbml0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1hcFJlc3BvbnNlUmVwb3J0ZXIucmVzb2x2ZSgpLCBmbkxpdGVyYWwgKz0gZW5jb2RlQ29va2llKCksIGhhbmRsZXIgaW5zdGFuY2VvZiBSZXNwb25zZSA/IChmbkxpdGVyYWwgKz0gYWZ0ZXJSZXNwb25zZSgpLCBmbkxpdGVyYWwgKz0gaW5mZXJlbmNlLnNldCA/IGBpZihpc05vdEVtcHR5KGMuc2V0LmhlYWRlcnMpfHxjLnNldC5zdGF0dXMhPT0yMDB8fGMuc2V0LnJlZGlyZWN0fHxjLnNldC5jb29raWUpcmV0dXJuIG1hcFJlc3BvbnNlKCR7c2F2ZVJlc3BvbnNlfSR7aGFuZGxlfS5jbG9uZSgpLGMuc2V0JHttYXBSZXNwb25zZUNvbnRleHR9KVxuZWxzZSByZXR1cm4gJHtoYW5kbGV9LmNsb25lKClgIDogYHJldHVybiAke2hhbmRsZX0uY2xvbmUoKWAsIGZuTGl0ZXJhbCArPSBgXG5gKSA6IGZuTGl0ZXJhbCArPSBtYXBSZXNwb25zZSgpO1xuICAgIH0gZWxzZSBpZiAoaGFzQ29va2llIHx8IGhhc1RyYWNlKSB7XG4gICAgICBmbkxpdGVyYWwgKz0gaXNBc3luY0hhbmRsZXIgPyBgbGV0IHI9YXdhaXQgJHtoYW5kbGV9XG5gIDogYGxldCByPSR7aGFuZGxlfVxuYCwgaGFuZGxlUmVwb3J0ZXIucmVzb2x2ZSgpO1xuICAgICAgY29uc3QgbWFwUmVzcG9uc2VSZXBvcnRlciA9IHJlcG9ydChcIm1hcFJlc3BvbnNlXCIsIHtcbiAgICAgICAgdG90YWw6IGhvb2tzLm1hcFJlc3BvbnNlPy5sZW5ndGhcbiAgICAgIH0pO1xuICAgICAgaWYgKGhvb2tzLm1hcFJlc3BvbnNlPy5sZW5ndGgpIHtcbiAgICAgICAgZm5MaXRlcmFsICs9IGBjLnJlc3BvbnNlPWMucmVzcG9uc2VWYWx1ZT0gclxuYDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy5tYXBSZXNwb25zZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IG1hcFJlc3BvbnNlMiA9IGhvb2tzLm1hcFJlc3BvbnNlW2ldLCBlbmRVbml0ID0gbWFwUmVzcG9uc2VSZXBvcnRlci5yZXNvbHZlQ2hpbGQoXG4gICAgICAgICAgICBtYXBSZXNwb25zZTIuZm4ubmFtZVxuICAgICAgICAgICk7XG4gICAgICAgICAgZm5MaXRlcmFsICs9IGBpZihtcj09PXVuZGVmaW5lZCl7bXI9JHtpc0FzeW5jTmFtZShtYXBSZXNwb25zZTIpID8gXCJhd2FpdCBcIiA6IFwiXCJ9ZS5tYXBSZXNwb25zZVske2l9XShjKVxuaWYobXIhPT11bmRlZmluZWQpcj1jLnJlc3BvbnNlPWMucmVzcG9uc2VWYWx1ZT1tcn1gLCBlbmRVbml0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1hcFJlc3BvbnNlUmVwb3J0ZXIucmVzb2x2ZSgpLCBmbkxpdGVyYWwgKz0gZW5jb2RlQ29va2llKCkgKyBtYXBSZXNwb25zZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVSZXBvcnRlci5yZXNvbHZlKCk7XG4gICAgICBjb25zdCBoYW5kbGVkID0gaXNBc3luY0hhbmRsZXIgPyBgYXdhaXQgJHtoYW5kbGV9YCA6IGhhbmRsZTtcbiAgICAgIGhhbmRsZXIgaW5zdGFuY2VvZiBSZXNwb25zZSA/IChmbkxpdGVyYWwgKz0gYWZ0ZXJSZXNwb25zZSgpLCBmbkxpdGVyYWwgKz0gaW5mZXJlbmNlLnNldCA/IGBpZihpc05vdEVtcHR5KGMuc2V0LmhlYWRlcnMpfHxjLnNldC5zdGF0dXMhPT0yMDB8fGMuc2V0LnJlZGlyZWN0fHxjLnNldC5jb29raWUpcmV0dXJuIG1hcFJlc3BvbnNlKCR7c2F2ZVJlc3BvbnNlfSR7aGFuZGxlfS5jbG9uZSgpLGMuc2V0JHttYXBSZXNwb25zZUNvbnRleHR9KVxuZWxzZSByZXR1cm4gJHtoYW5kbGV9LmNsb25lKClcbmAgOiBgcmV0dXJuICR7aGFuZGxlfS5jbG9uZSgpXG5gKSA6IGZuTGl0ZXJhbCArPSBtYXBSZXNwb25zZShoYW5kbGVkKTtcbiAgICB9XG4gIH1cbiAgaWYgKGZuTGl0ZXJhbCArPSBgXG59Y2F0Y2goZXJyb3Ipe2AsICFtYXliZUFzeW5jICYmIGhvb2tzLmVycm9yPy5sZW5ndGggJiYgKGZuTGl0ZXJhbCArPSBcInJldHVybihhc3luYygpPT57XCIpLCBmbkxpdGVyYWwgKz0gYGNvbnN0IHNldD1jLnNldFxuaWYoIXNldC5zdGF0dXN8fHNldC5zdGF0dXM8MzAwKXNldC5zdGF0dXM9ZXJyb3I/LnN0YXR1c3x8NTAwXG5gLCBoYXNDb29raWUgJiYgKGZuTGl0ZXJhbCArPSBlbmNvZGVDb29raWUoKSksIGhhc1RyYWNlICYmIGhvb2tzLnRyYWNlKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MudHJhY2UubGVuZ3RoOyBpKyspXG4gICAgICBmbkxpdGVyYWwgKz0gYHJlcG9ydCR7aX0/LnJlc29sdmUoZXJyb3IpO3JlcG9ydENoaWxkJHtpfT8uKGVycm9yKVxuYDtcbiAgY29uc3QgZXJyb3JSZXBvcnRlciA9IHJlcG9ydChcImVycm9yXCIsIHtcbiAgICB0b3RhbDogaG9va3MuZXJyb3I/Lmxlbmd0aFxuICB9KTtcbiAgaWYgKGhvb2tzLmVycm9yPy5sZW5ndGgpIHtcbiAgICBmbkxpdGVyYWwgKz0gYGMuZXJyb3I9ZXJyb3JcbmAsIGhhc1ZhbGlkYXRpb24gPyBmbkxpdGVyYWwgKz0gYGlmKGVycm9yIGluc3RhbmNlb2YgVHlwZUJveEVycm9yKXtjLmNvZGU9XCJWQUxJREFUSU9OXCJcbmMuc2V0LnN0YXR1cz00MjJ9ZWxzZXtjLmNvZGU9ZXJyb3IuY29kZT8/ZXJyb3JbRVJST1JfQ09ERV0/P1wiVU5LTk9XTlwifWAgOiBmbkxpdGVyYWwgKz0gYGMuY29kZT1lcnJvci5jb2RlPz9lcnJvcltFUlJPUl9DT0RFXT8/XCJVTktOT1dOXCJcbmAsIGZuTGl0ZXJhbCArPSBgbGV0IGVyXG5gLCBob29rcy5tYXBSZXNwb25zZT8ubGVuZ3RoICYmIChmbkxpdGVyYWwgKz0gYGxldCBtZXBcbmApO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MuZXJyb3IubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVuZFVuaXQgPSBlcnJvclJlcG9ydGVyLnJlc29sdmVDaGlsZChob29rcy5lcnJvcltpXS5mbi5uYW1lKTtcbiAgICAgIGlmIChpc0FzeW5jKGhvb2tzLmVycm9yW2ldKSA/IGZuTGl0ZXJhbCArPSBgZXI9YXdhaXQgZS5lcnJvclske2l9XShjKVxuYCA6IGZuTGl0ZXJhbCArPSBgZXI9ZS5lcnJvclske2l9XShjKVxuaWYoZXIgaW5zdGFuY2VvZiBQcm9taXNlKWVyPWF3YWl0IGVyXG5gLCBlbmRVbml0KCksIGhvb2tzLm1hcFJlc3BvbnNlPy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbWFwUmVzcG9uc2VSZXBvcnRlciA9IHJlcG9ydChcIm1hcFJlc3BvbnNlXCIsIHtcbiAgICAgICAgICB0b3RhbDogaG9va3MubWFwUmVzcG9uc2U/Lmxlbmd0aFxuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGhvb2tzLm1hcFJlc3BvbnNlLmxlbmd0aDsgaTIrKykge1xuICAgICAgICAgIGNvbnN0IG1hcFJlc3BvbnNlMiA9IGhvb2tzLm1hcFJlc3BvbnNlW2kyXSwgZW5kVW5pdDIgPSBtYXBSZXNwb25zZVJlcG9ydGVyLnJlc29sdmVDaGlsZChcbiAgICAgICAgICAgIG1hcFJlc3BvbnNlMi5mbi5uYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgICBmbkxpdGVyYWwgKz0gYGMucmVzcG9uc2U9Yy5yZXNwb25zZVZhbHVlPWVyXG5tZXA9ZS5tYXBSZXNwb25zZVske2kyfV0oYylcbmlmKG1lcCBpbnN0YW5jZW9mIFByb21pc2UpZXI9YXdhaXQgZXJcbmlmKG1lcCE9PXVuZGVmaW5lZCllcj1tZXBcbmAsIGVuZFVuaXQyKCk7XG4gICAgICAgIH1cbiAgICAgICAgbWFwUmVzcG9uc2VSZXBvcnRlci5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgICBpZiAoZm5MaXRlcmFsICs9IGBlcj1tYXBFYXJseVJlc3BvbnNlKGVyLHNldCR7bWFwUmVzcG9uc2VDb250ZXh0fSlcbmAsIGZuTGl0ZXJhbCArPSBcImlmKGVyKXtcIiwgaGFzVHJhY2UgJiYgaG9va3MudHJhY2UpIHtcbiAgICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGhvb2tzLnRyYWNlLmxlbmd0aDsgaTIrKylcbiAgICAgICAgICBmbkxpdGVyYWwgKz0gYHJlcG9ydCR7aTJ9LnJlc29sdmUoKVxuYDtcbiAgICAgICAgZXJyb3JSZXBvcnRlci5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgICBmbkxpdGVyYWwgKz0gXCJyZXR1cm4gZXJ9XCI7XG4gICAgfVxuICB9XG4gIGVycm9yUmVwb3J0ZXIucmVzb2x2ZSgpLCBmbkxpdGVyYWwgKz0gXCJyZXR1cm4gaGFuZGxlRXJyb3IoYyxlcnJvcix0cnVlKVwiLCAhbWF5YmVBc3luYyAmJiBob29rcy5lcnJvcj8ubGVuZ3RoICYmIChmbkxpdGVyYWwgKz0gXCJ9KSgpXCIpLCBmbkxpdGVyYWwgKz0gXCJ9XCI7XG4gIGNvbnN0IGFkYXB0ZXJWYXJpYWJsZXMgPSBhZGFwdGVyLmluamVjdCA/IE9iamVjdC5rZXlzKGFkYXB0ZXIuaW5qZWN0KS5qb2luKFwiLFwiKSArIFwiLFwiIDogXCJcIjtcbiAgbGV0IGluaXQgPSBcImNvbnN0IHtoYW5kbGVyLGhhbmRsZUVycm9yLGhvb2tzOmUsIFwiICsgYWxsb2NhdGVJZihcInZhbGlkYXRvcixcIiwgaGFzVmFsaWRhdGlvbikgKyBcIm1hcFJlc3BvbnNlLG1hcENvbXBhY3RSZXNwb25zZSxtYXBFYXJseVJlc3BvbnNlLGlzTm90RW1wdHksdXRpbHM6e1wiICsgYWxsb2NhdGVJZihcInBhcnNlUXVlcnksXCIsIGhhc0JvZHkpICsgYWxsb2NhdGVJZihcInBhcnNlUXVlcnlGcm9tVVJMLFwiLCBoYXNRdWVyeSkgKyBcIn0sZXJyb3I6e1wiICsgYWxsb2NhdGVJZihcIlZhbGlkYXRpb25FcnJvcixcIiwgaGFzVmFsaWRhdGlvbikgKyBhbGxvY2F0ZUlmKFwiUGFyc2VFcnJvclwiLCBoYXNCb2R5KSArIFwifSxmaWxlVHlwZSxzY2hlbWEsZGVmaW5pdGlvbnMsRVJST1JfQ09ERSxcIiArIGFsbG9jYXRlSWYoXCJwYXJzZUNvb2tpZSxcIiwgaGFzQ29va2llKSArIGFsbG9jYXRlSWYoXCJzaWduQ29va2llLFwiLCBoYXNDb29raWUpICsgYWxsb2NhdGVJZihcImRlY29kZVVSSUNvbXBvbmVudCxcIiwgaGFzUXVlcnkpICsgXCJFbHlzaWFDdXN0b21TdGF0dXNSZXNwb25zZSxcIiArIGFsbG9jYXRlSWYoXCJFTFlTSUFfVFJBQ0UsXCIsIGhhc1RyYWNlKSArIGFsbG9jYXRlSWYoXCJFTFlTSUFfUkVRVUVTVF9JRCxcIiwgaGFzVHJhY2UpICsgYWxsb2NhdGVJZihcInBhcnNlcixcIiwgaG9va3MucGFyc2U/Lmxlbmd0aCkgKyBhbGxvY2F0ZUlmKFwiZ2V0U2VydmVyLFwiLCBpbmZlcmVuY2Uuc2VydmVyKSArIGFsbG9jYXRlSWYoXCJmaWxlVW5pb25zLFwiLCBmaWxlVW5pb25zLmxlbmd0aCkgKyBhZGFwdGVyVmFyaWFibGVzICsgYWxsb2NhdGVJZihcIlR5cGVCb3hFcnJvclwiLCBoYXNWYWxpZGF0aW9uKSArIGB9PWhvb2tzXG5jb25zdCB0cmFjZT1lLnRyYWNlXG5yZXR1cm4gJHttYXliZUFzeW5jID8gXCJhc3luYyBcIiA6IFwiXCJ9ZnVuY3Rpb24gaGFuZGxlKGMpe2A7XG4gIGhvb2tzLmJlZm9yZUhhbmRsZT8ubGVuZ3RoICYmIChpbml0ICs9IGBsZXQgYmVcbmApLCBob29rcy5hZnRlckhhbmRsZT8ubGVuZ3RoICYmIChpbml0ICs9IGBsZXQgYWZcbmApLCBob29rcy5tYXBSZXNwb25zZT8ubGVuZ3RoICYmIChpbml0ICs9IGBsZXQgbXJcbmApLCBhbGxvd01ldGEgJiYgKGluaXQgKz0gYGMuc2NoZW1hPXNjaGVtYVxuYy5kZWZzPWRlZmluaXRpb25zXG5gKSwgZm5MaXRlcmFsID0gaW5pdCArIGZuTGl0ZXJhbCArIFwifVwiLCBpbml0ID0gXCJcIjtcbiAgdHJ5IHtcbiAgICByZXR1cm4gRnVuY3Rpb24oXG4gICAgICBcImhvb2tzXCIsXG4gICAgICBgXCJ1c2Ugc3RyaWN0XCI7XG5gICsgZm5MaXRlcmFsXG4gICAgKSh7XG4gICAgICBoYW5kbGVyLFxuICAgICAgaG9va3M6IGxpZmVDeWNsZVRvRm4oaG9va3MpLFxuICAgICAgdmFsaWRhdG9yOiBoYXNWYWxpZGF0aW9uID8gdmFsaWRhdG9yIDogdm9pZCAwLFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgaGFuZGxlRXJyb3I6IGFwcC5oYW5kbGVFcnJvcixcbiAgICAgIG1hcFJlc3BvbnNlOiBhZGFwdGVySGFuZGxlci5tYXBSZXNwb25zZSxcbiAgICAgIG1hcENvbXBhY3RSZXNwb25zZTogYWRhcHRlckhhbmRsZXIubWFwQ29tcGFjdFJlc3BvbnNlLFxuICAgICAgbWFwRWFybHlSZXNwb25zZTogYWRhcHRlckhhbmRsZXIubWFwRWFybHlSZXNwb25zZSxcbiAgICAgIGlzTm90RW1wdHksXG4gICAgICB1dGlsczoge1xuICAgICAgICBwYXJzZVF1ZXJ5OiBoYXNCb2R5ID8gcGFyc2VRdWVyeSA6IHZvaWQgMCxcbiAgICAgICAgcGFyc2VRdWVyeUZyb21VUkw6IGhhc1F1ZXJ5ID8gdmFsaWRhdG9yLnF1ZXJ5Py5wcm92aWRlciA9PT0gXCJzdGFuZGFyZFwiID8gcGFyc2VRdWVyeVN0YW5kYXJkU2NoZW1hIDogcGFyc2VRdWVyeUZyb21VUkwgOiB2b2lkIDBcbiAgICAgIH0sXG4gICAgICBlcnJvcjoge1xuICAgICAgICBWYWxpZGF0aW9uRXJyb3I6IGhhc1ZhbGlkYXRpb24gPyBWYWxpZGF0aW9uRXJyb3IgOiB2b2lkIDAsXG4gICAgICAgIFBhcnNlRXJyb3I6IGhhc0JvZHkgPyBQYXJzZUVycm9yIDogdm9pZCAwXG4gICAgICB9LFxuICAgICAgZmlsZVR5cGUsXG4gICAgICBzY2hlbWE6IGFwcC5yb3V0ZXIuaGlzdG9yeSxcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgIGRlZmluaXRpb25zOiBhcHAuZGVmaW5pdGlvbnMudHlwZSxcbiAgICAgIEVSUk9SX0NPREUsXG4gICAgICBwYXJzZUNvb2tpZTogaGFzQ29va2llID8gcGFyc2VDb29raWUgOiB2b2lkIDAsXG4gICAgICBzaWduQ29va2llOiBoYXNDb29raWUgPyBzaWduQ29va2llIDogdm9pZCAwLFxuICAgICAgZGVjb2RlVVJJQ29tcG9uZW50OiBoYXNRdWVyeSA/IGRlY29kZSA6IHZvaWQgMCxcbiAgICAgIEVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlLFxuICAgICAgRUxZU0lBX1RSQUNFOiBoYXNUcmFjZSA/IEVMWVNJQV9UUkFDRSA6IHZvaWQgMCxcbiAgICAgIEVMWVNJQV9SRVFVRVNUX0lEOiBoYXNUcmFjZSA/IEVMWVNJQV9SRVFVRVNUX0lEIDogdm9pZCAwLFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBwcml2YXRlIHByb3BlcnR5XG4gICAgICBnZXRTZXJ2ZXI6IGluZmVyZW5jZS5zZXJ2ZXIgPyAoKSA9PiBhcHAuZ2V0U2VydmVyKCkgOiB2b2lkIDAsXG4gICAgICBmaWxlVW5pb25zOiBmaWxlVW5pb25zLmxlbmd0aCA/IGZpbGVVbmlvbnMgOiB2b2lkIDAsXG4gICAgICBUeXBlQm94RXJyb3I6IGhhc1ZhbGlkYXRpb24gPyBUeXBlQm94RXJyb3IgOiB2b2lkIDAsXG4gICAgICBwYXJzZXI6IGFwcFtcIn5wYXJzZXJcIl0sXG4gICAgICAuLi5hZGFwdGVyLmluamVjdFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnN0IGRlYnVnSG9va3MgPSBsaWZlQ3ljbGVUb0ZuKGhvb2tzKTtcbiAgICBjb25zb2xlLmxvZyhcIltDb21wb3Nlcl0gZmFpbGVkIHRvIGdlbmVyYXRlIG9wdGltaXplZCBoYW5kbGVyXCIpLCBjb25zb2xlLmxvZyhcIi0tLVwiKSwgY29uc29sZS5sb2coe1xuICAgICAgaGFuZGxlcjogdHlwZW9mIGhhbmRsZXIgPT0gXCJmdW5jdGlvblwiID8gaGFuZGxlci50b1N0cmluZygpIDogaGFuZGxlcixcbiAgICAgIGluc3RydWN0aW9uOiBmbkxpdGVyYWwsXG4gICAgICBob29rczoge1xuICAgICAgICAuLi5kZWJ1Z0hvb2tzLFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRyYW5zZm9ybTogZGVidWdIb29rcz8udHJhbnNmb3JtPy5tYXA/LigoeCkgPT4geC50b1N0cmluZygpKSxcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXNvbHZlOiBkZWJ1Z0hvb2tzPy5yZXNvbHZlPy5tYXA/LigoeCkgPT4geC50b1N0cmluZygpKSxcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBiZWZvcmVIYW5kbGU6IGRlYnVnSG9va3M/LmJlZm9yZUhhbmRsZT8ubWFwPy4oXG4gICAgICAgICAgKHgpID0+IHgudG9TdHJpbmcoKVxuICAgICAgICApLFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGFmdGVySGFuZGxlOiBkZWJ1Z0hvb2tzPy5hZnRlckhhbmRsZT8ubWFwPy4oXG4gICAgICAgICAgKHgpID0+IHgudG9TdHJpbmcoKVxuICAgICAgICApLFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG1hcFJlc3BvbnNlOiBkZWJ1Z0hvb2tzPy5tYXBSZXNwb25zZT8ubWFwPy4oXG4gICAgICAgICAgKHgpID0+IHgudG9TdHJpbmcoKVxuICAgICAgICApLFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHBhcnNlOiBkZWJ1Z0hvb2tzPy5wYXJzZT8ubWFwPy4oKHgpID0+IHgudG9TdHJpbmcoKSksXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgZXJyb3I6IGRlYnVnSG9va3M/LmVycm9yPy5tYXA/LigoeCkgPT4geC50b1N0cmluZygpKSxcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhZnRlclJlc3BvbnNlOiBkZWJ1Z0hvb2tzPy5hZnRlclJlc3BvbnNlPy5tYXA/LihcbiAgICAgICAgICAoeCkgPT4geC50b1N0cmluZygpXG4gICAgICAgICksXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgc3RvcDogZGVidWdIb29rcz8uc3RvcD8ubWFwPy4oKHgpID0+IHgudG9TdHJpbmcoKSlcbiAgICAgIH0sXG4gICAgICB2YWxpZGF0b3IsXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICBkZWZpbml0aW9uczogYXBwLmRlZmluaXRpb25zLnR5cGUsXG4gICAgICBlcnJvclxuICAgIH0pLCBjb25zb2xlLmxvZyhcIi0tLVwiKSwgcHJvY2Vzcy5leGl0KDEpO1xuICB9XG59LCBjcmVhdGVPblJlcXVlc3RIYW5kbGVyID0gKGFwcCwgYWRkRm4pID0+IHtcbiAgbGV0IGZuTGl0ZXJhbCA9IFwiXCI7XG4gIGNvbnN0IHJlcG9ydGVyID0gY3JlYXRlUmVwb3J0KHtcbiAgICB0cmFjZTogYXBwLmV2ZW50LnRyYWNlLFxuICAgIGFkZEZuOiBhZGRGbiA/PyAoKHdvcmQpID0+IHtcbiAgICAgIGZuTGl0ZXJhbCArPSB3b3JkO1xuICAgIH0pXG4gIH0pKFwicmVxdWVzdFwiLCB7XG4gICAgdG90YWw6IGFwcC5ldmVudC5yZXF1ZXN0Py5sZW5ndGhcbiAgfSk7XG4gIGlmIChhcHAuZXZlbnQucmVxdWVzdD8ubGVuZ3RoKSB7XG4gICAgZm5MaXRlcmFsICs9IFwidHJ5e1wiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXBwLmV2ZW50LnJlcXVlc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGhvb2sgPSBhcHAuZXZlbnQucmVxdWVzdFtpXSwgd2l0aFJldHVybiA9IGhhc1JldHVybihob29rKSwgbWF5YmVBc3luYyA9IGlzQXN5bmMoaG9vayksIGVuZFVuaXQgPSByZXBvcnRlci5yZXNvbHZlQ2hpbGQoYXBwLmV2ZW50LnJlcXVlc3RbaV0uZm4ubmFtZSk7XG4gICAgICB3aXRoUmV0dXJuID8gKGZuTGl0ZXJhbCArPSBgcmU9bWFwRWFybHlSZXNwb25zZSgke21heWJlQXN5bmMgPyBcImF3YWl0IFwiIDogXCJcIn1vblJlcXVlc3RbJHtpfV0oYyksYy5zZXQpXG5gLCBlbmRVbml0KFwicmVcIiksIGZuTGl0ZXJhbCArPSBgaWYocmUhPT11bmRlZmluZWQpcmV0dXJuIHJlXG5gKSA6IChmbkxpdGVyYWwgKz0gYCR7bWF5YmVBc3luYyA/IFwiYXdhaXQgXCIgOiBcIlwifW9uUmVxdWVzdFske2l9XShjKVxuYCwgZW5kVW5pdCgpKTtcbiAgICB9XG4gICAgZm5MaXRlcmFsICs9IFwifWNhdGNoKGVycm9yKXtyZXR1cm4gYXBwLmhhbmRsZUVycm9yKGMsZXJyb3IsZmFsc2UpfVwiO1xuICB9XG4gIHJldHVybiByZXBvcnRlci5yZXNvbHZlKCksIGZuTGl0ZXJhbDtcbn0sIGNyZWF0ZUhvYyA9IChhcHAsIGZuTmFtZSA9IFwibWFwXCIpID0+IHtcbiAgY29uc3QgaG9jID0gYXBwLmV4dGVuZGVyLmhpZ2hlck9yZGVyRnVuY3Rpb25zO1xuICBpZiAoIWhvYy5sZW5ndGgpIHJldHVybiBcInJldHVybiBcIiArIGZuTmFtZTtcbiAgY29uc3QgYWRhcHRlciA9IGFwcFtcIn5hZGFwdGVyXCJdLmNvbXBvc2VHZW5lcmFsSGFuZGxlcjtcbiAgbGV0IGhhbmRsZXIgPSBmbk5hbWU7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaG9jLmxlbmd0aDsgaSsrKVxuICAgIGhhbmRsZXIgPSBgaG9jWyR7aX1dKCR7aGFuZGxlcn0sJHthZGFwdGVyLnBhcmFtZXRlcnN9KWA7XG4gIHJldHVybiBgcmV0dXJuIGZ1bmN0aW9uIGhvY01hcCgke2FkYXB0ZXIucGFyYW1ldGVyc30pe3JldHVybiAke2hhbmRsZXJ9KCR7YWRhcHRlci5wYXJhbWV0ZXJzfSl9YDtcbn0sIGNvbXBvc2VHZW5lcmFsSGFuZGxlciA9IChhcHApID0+IHtcbiAgY29uc3QgYWRhcHRlciA9IGFwcFtcIn5hZGFwdGVyXCJdLmNvbXBvc2VHZW5lcmFsSGFuZGxlcjtcbiAgYXBwLnJvdXRlci5odHRwLmJ1aWxkKCk7XG4gIGNvbnN0IGlzV2Vic3RhbmRhcmQgPSBhcHBbXCJ+YWRhcHRlclwiXS5pc1dlYlN0YW5kYXJkLCBoYXNUcmFjZSA9IGFwcC5ldmVudC50cmFjZT8ubGVuZ3RoO1xuICBsZXQgZm5MaXRlcmFsID0gXCJcIjtcbiAgY29uc3Qgcm91dGVyID0gYXBwLnJvdXRlcjtcbiAgbGV0IGZpbmREeW5hbWljUm91dGUgPSByb3V0ZXIuaHR0cC5yb290LldTID8gXCJjb25zdCByb3V0ZT1yb3V0ZXIuZmluZChyLm1ldGhvZD09PSdHRVQnJiZyLmhlYWRlcnMuZ2V0KCd1cGdyYWRlJyk9PT0nd2Vic29ja2V0Jz8nV1MnOnIubWV0aG9kLHApXCIgOiBcImNvbnN0IHJvdXRlPXJvdXRlci5maW5kKHIubWV0aG9kLHApXCI7XG4gIGZpbmREeW5hbWljUm91dGUgKz0gcm91dGVyLmh0dHAucm9vdC5BTEwgPyBgPz9yb3V0ZXIuZmluZCgnQUxMJyxwKVxuYCA6IGBcbmAsIGlzV2Vic3RhbmRhcmQgJiYgKGZpbmREeW5hbWljUm91dGUgKz0gYGlmKHIubWV0aG9kPT09J0hFQUQnKXtjb25zdCByb3V0ZT1yb3V0ZXIuZmluZCgnR0VUJyxwKVxuaWYocm91dGUpe2MucGFyYW1zPXJvdXRlLnBhcmFtc1xuY29uc3QgX3Jlcz1yb3V0ZS5zdG9yZS5oYW5kbGVyP3JvdXRlLnN0b3JlLmhhbmRsZXIoYyk6cm91dGUuc3RvcmUuY29tcGlsZSgpKGMpXG5pZihfcmVzKXJldHVybiBnZXRSZXNwb25zZUxlbmd0aChfcmVzKS50aGVuKChsZW5ndGgpPT57X3Jlcy5oZWFkZXJzLnNldCgnY29udGVudC1sZW5ndGgnLCBsZW5ndGgpXG5yZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwse3N0YXR1czpfcmVzLnN0YXR1cyxzdGF0dXNUZXh0Ol9yZXMuc3RhdHVzVGV4dCxoZWFkZXJzOl9yZXMuaGVhZGVyc30pXG59KX19YCk7XG4gIGxldCBhZnRlclJlc3BvbnNlID0gYGMuZXJyb3I9bm90Rm91bmRcbmA7XG4gIGlmIChhcHAuZXZlbnQuYWZ0ZXJSZXNwb25zZT8ubGVuZ3RoICYmICFhcHAuZXZlbnQuZXJyb3IpIHtcbiAgICBhZnRlclJlc3BvbnNlID0gYFxuYy5lcnJvcj1ub3RGb3VuZFxuYDtcbiAgICBjb25zdCBwcmVmaXggPSBhcHAuZXZlbnQuYWZ0ZXJSZXNwb25zZS5zb21lKGlzQXN5bmMpID8gXCJhc3luY1wiIDogXCJcIjtcbiAgICBhZnRlclJlc3BvbnNlICs9IGBcbnNldEltbWVkaWF0ZSgke3ByZWZpeH0oKT0+e2A7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcHAuZXZlbnQuYWZ0ZXJSZXNwb25zZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZm4yID0gYXBwLmV2ZW50LmFmdGVyUmVzcG9uc2VbaV0uZm47XG4gICAgICBhZnRlclJlc3BvbnNlICs9IGBcbiR7aXNBc3luY05hbWUoZm4yKSA/IFwiYXdhaXQgXCIgOiBcIlwifWFmdGVyUmVzcG9uc2VbJHtpfV0oYylcbmA7XG4gICAgfVxuICAgIGFmdGVyUmVzcG9uc2UgKz0gYH0pXG5gO1xuICB9XG4gIGFwcC5pbmZlcmVuY2UucXVlcnkgJiYgKGFmdGVyUmVzcG9uc2UgKz0gYFxuaWYoYy5xaT09PS0xKXtjLnF1ZXJ5PXt9fWVsc2V7Yy5xdWVyeT1wYXJzZVF1ZXJ5RnJvbVVSTChjLnVybCxjLnFpKzEpfWApO1xuICBjb25zdCBlcnJvcjQwNCA9IGFkYXB0ZXIuZXJyb3I0MDQoXG4gICAgISFhcHAuZXZlbnQucmVxdWVzdD8ubGVuZ3RoLFxuICAgICEhYXBwLmV2ZW50LmVycm9yPy5sZW5ndGgsXG4gICAgYWZ0ZXJSZXNwb25zZVxuICApO1xuICBmaW5kRHluYW1pY1JvdXRlICs9IGVycm9yNDA0LmNvZGUsIGZpbmREeW5hbWljUm91dGUgKz0gYFxuYy5wYXJhbXM9cm91dGUucGFyYW1zXG5pZihyb3V0ZS5zdG9yZS5oYW5kbGVyKXJldHVybiByb3V0ZS5zdG9yZS5oYW5kbGVyKGMpXG5yZXR1cm4gcm91dGUuc3RvcmUuY29tcGlsZSgpKGMpXG5gO1xuICBsZXQgc3dpdGNoTWFwID0gXCJcIjtcbiAgZm9yIChjb25zdCBbcGF0aCwgbWV0aG9kc10gb2YgT2JqZWN0LmVudHJpZXMocm91dGVyLnN0YXRpYykpIHtcbiAgICBzd2l0Y2hNYXAgKz0gYGNhc2UnJHtwYXRofSc6YCwgYXBwLmNvbmZpZy5zdHJpY3RQYXRoICE9PSAhMCAmJiAoc3dpdGNoTWFwICs9IGBjYXNlJyR7Z2V0TG9vc2VQYXRoKHBhdGgpfSc6YCk7XG4gICAgY29uc3QgZW5jb2RlZCA9IGVuY29kZVBhdGgocGF0aCk7XG4gICAgcGF0aCAhPT0gZW5jb2RlZCAmJiAoc3dpdGNoTWFwICs9IGBjYXNlJyR7ZW5jb2RlZH0nOmApLCBzd2l0Y2hNYXAgKz0gXCJzd2l0Y2goci5tZXRob2Qpe1wiLCAoXCJHRVRcIiBpbiBtZXRob2RzIHx8IFwiV1NcIiBpbiBtZXRob2RzKSAmJiAoc3dpdGNoTWFwICs9IFwiY2FzZSAnR0VUJzpcIiwgXCJXU1wiIGluIG1ldGhvZHMgJiYgKHN3aXRjaE1hcCArPSBgaWYoci5oZWFkZXJzLmdldCgndXBncmFkZScpPT09J3dlYnNvY2tldCcpcmV0dXJuIGh0WyR7bWV0aG9kcy5XU31dLmNvbXBvc2VkKGMpXG5gLCBcIkdFVFwiIGluIG1ldGhvZHMgfHwgKFwiQUxMXCIgaW4gbWV0aG9kcyA/IHN3aXRjaE1hcCArPSBgcmV0dXJuIGh0WyR7bWV0aG9kcy5BTEx9XS5jb21wb3NlZChjKVxuYCA6IHN3aXRjaE1hcCArPSBgYnJlYWsgbWFwXG5gKSksIFwiR0VUXCIgaW4gbWV0aG9kcyAmJiAoc3dpdGNoTWFwICs9IGByZXR1cm4gaHRbJHttZXRob2RzLkdFVH1dLmNvbXBvc2VkKGMpXG5gKSksIGlzV2Vic3RhbmRhcmQgJiYgKFwiR0VUXCIgaW4gbWV0aG9kcyB8fCBcIkFMTFwiIGluIG1ldGhvZHMpICYmICEoXCJIRUFEXCIgaW4gbWV0aG9kcykgJiYgKHN3aXRjaE1hcCArPSBgY2FzZSAnSEVBRCc6Y29uc3QgX3Jlcz1odFske21ldGhvZHMuR0VUID8/IG1ldGhvZHMuQUxMfV0uY29tcG9zZWQoYylcbnJldHVybiBnZXRSZXNwb25zZUxlbmd0aChfcmVzKS50aGVuKChsZW5ndGgpPT57X3Jlcy5oZWFkZXJzLnNldCgnY29udGVudC1sZW5ndGgnLCBsZW5ndGgpXG5yZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwse3N0YXR1czpfcmVzLnN0YXR1cyxzdGF0dXNUZXh0Ol9yZXMuc3RhdHVzVGV4dCxoZWFkZXJzOl9yZXMuaGVhZGVyc30pXG59KVxuYCk7XG4gICAgZm9yIChjb25zdCBbbWV0aG9kLCBpbmRleF0gb2YgT2JqZWN0LmVudHJpZXMobWV0aG9kcykpXG4gICAgICBtZXRob2QgPT09IFwiQUxMXCIgfHwgbWV0aG9kID09PSBcIkdFVFwiIHx8IG1ldGhvZCA9PT0gXCJXU1wiIHx8IChzd2l0Y2hNYXAgKz0gYGNhc2UgJyR7bWV0aG9kfSc6cmV0dXJuIGh0WyR7aW5kZXh9XS5jb21wb3NlZChjKVxuYCk7XG4gICAgXCJBTExcIiBpbiBtZXRob2RzID8gc3dpdGNoTWFwICs9IGBkZWZhdWx0OnJldHVybiBodFske21ldGhvZHMuQUxMfV0uY29tcG9zZWQoYylcbmAgOiBzd2l0Y2hNYXAgKz0gYGRlZmF1bHQ6YnJlYWsgbWFwXG5gLCBzd2l0Y2hNYXAgKz0gXCJ9XCI7XG4gIH1cbiAgY29uc3QgbWF5YmVBc3luYyA9ICEhYXBwLmV2ZW50LnJlcXVlc3Q/LnNvbWUoaXNBc3luYyksIGFkYXB0ZXJWYXJpYWJsZXMgPSBhZGFwdGVyLmluamVjdCA/IE9iamVjdC5rZXlzKGFkYXB0ZXIuaW5qZWN0KS5qb2luKFwiLFwiKSArIFwiLFwiIDogXCJcIjtcbiAgZm5MaXRlcmFsICs9IGBcbmNvbnN0IHthcHAsbWFwRWFybHlSZXNwb25zZSxOb3RGb3VuZEVycm9yLHJhbmRvbUlkLGhhbmRsZUVycm9yLHN0YXR1cyxyZWRpcmVjdCxnZXRSZXNwb25zZUxlbmd0aCxgICsgLy8gQHRzLWlnbm9yZVxuICBhbGxvY2F0ZUlmKFwicGFyc2VRdWVyeUZyb21VUkwsXCIsIGFwcC5pbmZlcmVuY2UucXVlcnkpICsgYWxsb2NhdGVJZihcIkVMWVNJQV9UUkFDRSxcIiwgaGFzVHJhY2UpICsgYWxsb2NhdGVJZihcIkVMWVNJQV9SRVFVRVNUX0lELFwiLCBoYXNUcmFjZSkgKyBhZGFwdGVyVmFyaWFibGVzICsgYH09ZGF0YVxuY29uc3Qgc3RvcmU9YXBwLnNpbmdsZXRvbi5zdG9yZVxuY29uc3QgZGVjb3JhdG9yPWFwcC5zaW5nbGV0b24uZGVjb3JhdG9yXG5jb25zdCBzdGF0aWNSb3V0ZXI9YXBwLnJvdXRlci5zdGF0aWMuaHR0cFxuY29uc3QgaHQ9YXBwLnJvdXRlci5oaXN0b3J5XG5jb25zdCByb3V0ZXI9YXBwLnJvdXRlci5odHRwXG5jb25zdCB0cmFjZT1hcHAuZXZlbnQudHJhY2U/Lm1hcCh4PT50eXBlb2YgeD09PSdmdW5jdGlvbic/eDp4LmZuKT8/W11cbmNvbnN0IG5vdEZvdW5kPW5ldyBOb3RGb3VuZEVycm9yKClcbmNvbnN0IGhvYz1hcHAuZXh0ZW5kZXIuaGlnaGVyT3JkZXJGdW5jdGlvbnMubWFwKHg9PnguZm4pXG5gLCBhcHAuZXZlbnQucmVxdWVzdD8ubGVuZ3RoICYmIChmbkxpdGVyYWwgKz0gYGNvbnN0IG9uUmVxdWVzdD1hcHAuZXZlbnQucmVxdWVzdC5tYXAoeD0+eC5mbilcbmApLCBhcHAuZXZlbnQuYWZ0ZXJSZXNwb25zZT8ubGVuZ3RoICYmIChmbkxpdGVyYWwgKz0gYGNvbnN0IGFmdGVyUmVzcG9uc2U9YXBwLmV2ZW50LmFmdGVyUmVzcG9uc2UubWFwKHg9PnguZm4pXG5gKSwgZm5MaXRlcmFsICs9IGVycm9yNDA0LmRlY2xhcmUsIGFwcC5ldmVudC50cmFjZT8ubGVuZ3RoICYmIChmbkxpdGVyYWwgKz0gXCJjb25zdCBcIiArIGFwcC5ldmVudC50cmFjZS5tYXAoKF8sIGkpID0+IGB0ciR7aX09YXBwLmV2ZW50LnRyYWNlWyR7aX1dLmZuYCkuam9pbihcIixcIikgKyBgXG5gKSwgZm5MaXRlcmFsICs9IGAke21heWJlQXN5bmMgPyBcImFzeW5jIFwiIDogXCJcIn1mdW5jdGlvbiBtYXAoJHthZGFwdGVyLnBhcmFtZXRlcnN9KXtgLCBhcHAuZXZlbnQucmVxdWVzdD8ubGVuZ3RoICYmIChmbkxpdGVyYWwgKz0gYGxldCByZVxuYCksIGZuTGl0ZXJhbCArPSBhZGFwdGVyLmNyZWF0ZUNvbnRleHQoYXBwKSwgYXBwLmV2ZW50LnRyYWNlPy5sZW5ndGggJiYgKGZuTGl0ZXJhbCArPSBcImNbRUxZU0lBX1RSQUNFXT1bXCIgKyBhcHAuZXZlbnQudHJhY2UubWFwKChfLCBpKSA9PiBgdHIke2l9KGMpYCkuam9pbihcIixcIikgKyBgXVxuYCksIGZuTGl0ZXJhbCArPSBjcmVhdGVPblJlcXVlc3RIYW5kbGVyKGFwcCksIHN3aXRjaE1hcCAmJiAoZm5MaXRlcmFsICs9IGBcbm1hcDogc3dpdGNoKHApe1xuYCArIHN3aXRjaE1hcCArIFwifVwiKSwgZm5MaXRlcmFsICs9IGZpbmREeW5hbWljUm91dGUgKyBgfVxuYCArIGNyZWF0ZUhvYyhhcHApO1xuICBjb25zdCBoYW5kbGVFcnJvciA9IGNvbXBvc2VFcnJvckhhbmRsZXIoYXBwKTtcbiAgYXBwLmhhbmRsZUVycm9yID0gaGFuZGxlRXJyb3I7XG4gIGNvbnN0IGZuID0gRnVuY3Rpb24oXG4gICAgXCJkYXRhXCIsXG4gICAgYFwidXNlIHN0cmljdFwiO1xuYCArIGZuTGl0ZXJhbFxuICApKHtcbiAgICBhcHAsXG4gICAgbWFwRWFybHlSZXNwb25zZTogYXBwW1wifmFkYXB0ZXJcIl0uaGFuZGxlci5tYXBFYXJseVJlc3BvbnNlLFxuICAgIE5vdEZvdW5kRXJyb3IsXG4gICAgcmFuZG9tSWQsXG4gICAgaGFuZGxlRXJyb3IsXG4gICAgc3RhdHVzLFxuICAgIHJlZGlyZWN0LFxuICAgIGdldFJlc3BvbnNlTGVuZ3RoLFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwYXJzZVF1ZXJ5RnJvbVVSTDogYXBwLmluZmVyZW5jZS5xdWVyeSA/IHBhcnNlUXVlcnlGcm9tVVJMIDogdm9pZCAwLFxuICAgIEVMWVNJQV9UUkFDRTogaGFzVHJhY2UgPyBFTFlTSUFfVFJBQ0UgOiB2b2lkIDAsXG4gICAgRUxZU0lBX1JFUVVFU1RfSUQ6IGhhc1RyYWNlID8gRUxZU0lBX1JFUVVFU1RfSUQgOiB2b2lkIDAsXG4gICAgLi4uYWRhcHRlci5pbmplY3RcbiAgfSk7XG4gIHJldHVybiBpc0J1biAmJiBCdW4uZ2MoITEpLCBmbjtcbn0sIGNvbXBvc2VFcnJvckhhbmRsZXIgPSAoYXBwKSA9PiB7XG4gIGNvbnN0IGhvb2tzID0gYXBwLmV2ZW50O1xuICBsZXQgZm5MaXRlcmFsID0gXCJcIjtcbiAgY29uc3QgYWRhcHRlciA9IGFwcFtcIn5hZGFwdGVyXCJdLmNvbXBvc2VFcnJvciwgYWRhcHRlclZhcmlhYmxlcyA9IGFkYXB0ZXIuaW5qZWN0ID8gT2JqZWN0LmtleXMoYWRhcHRlci5pbmplY3QpLmpvaW4oXCIsXCIpICsgXCIsXCIgOiBcIlwiLCBoYXNUcmFjZSA9ICEhYXBwLmV2ZW50LnRyYWNlPy5sZW5ndGg7XG4gIGZuTGl0ZXJhbCArPSBcImNvbnN0IHttYXBSZXNwb25zZSxFUlJPUl9DT0RFLEVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlLFwiICsgYWxsb2NhdGVJZihcIm9uRXJyb3IsXCIsIGFwcC5ldmVudC5lcnJvcikgKyBhbGxvY2F0ZUlmKFwiYWZ0ZXJSZXNwb25zZSxcIiwgYXBwLmV2ZW50LmFmdGVyUmVzcG9uc2UpICsgYWxsb2NhdGVJZihcInRyYWNlLFwiLCBhcHAuZXZlbnQudHJhY2UpICsgYWxsb2NhdGVJZihcIm9uTWFwUmVzcG9uc2UsXCIsIGFwcC5ldmVudC5tYXBSZXNwb25zZSkgKyBhbGxvY2F0ZUlmKFwiRUxZU0lBX1RSQUNFLFwiLCBoYXNUcmFjZSkgKyBhbGxvY2F0ZUlmKFwiRUxZU0lBX1JFUVVFU1RfSUQsXCIsIGhhc1RyYWNlKSArIGFkYXB0ZXJWYXJpYWJsZXMgKyBgfT1pbmplY3RcbmAsIGZuTGl0ZXJhbCArPSBgcmV0dXJuICR7YXBwLmV2ZW50LmVycm9yPy5maW5kKGlzQXN5bmMpIHx8IGFwcC5ldmVudC5tYXBSZXNwb25zZT8uZmluZChpc0FzeW5jKSA/IFwiYXN5bmMgXCIgOiBcIlwifWZ1bmN0aW9uKGNvbnRleHQsZXJyb3Isc2tpcEdsb2JhbCl7YCwgZm5MaXRlcmFsICs9IFwiXCIsIGhhc1RyYWNlICYmIChmbkxpdGVyYWwgKz0gYGNvbnN0IGlkPWNvbnRleHRbRUxZU0lBX1JFUVVFU1RfSURdXG5gKTtcbiAgY29uc3QgcmVwb3J0ID0gY3JlYXRlUmVwb3J0KHtcbiAgICBjb250ZXh0OiBcImNvbnRleHRcIixcbiAgICB0cmFjZTogaG9va3MudHJhY2UsXG4gICAgYWRkRm46ICh3b3JkKSA9PiB7XG4gICAgICBmbkxpdGVyYWwgKz0gd29yZDtcbiAgICB9XG4gIH0pLCBhZnRlclJlc3BvbnNlID0gKCkgPT4ge1xuICAgIGlmICghaG9va3MuYWZ0ZXJSZXNwb25zZT8ubGVuZ3RoICYmICFoYXNUcmFjZSkgcmV0dXJuIFwiXCI7XG4gICAgbGV0IGFmdGVyUmVzcG9uc2UyID0gXCJcIjtcbiAgICBjb25zdCBwcmVmaXggPSBob29rcy5hZnRlclJlc3BvbnNlPy5zb21lKGlzQXN5bmMpID8gXCJhc3luY1wiIDogXCJcIjtcbiAgICBhZnRlclJlc3BvbnNlMiArPSBgXG5zZXRJbW1lZGlhdGUoJHtwcmVmaXh9KCk9PntgO1xuICAgIGNvbnN0IHJlcG9ydGVyID0gY3JlYXRlUmVwb3J0KHtcbiAgICAgIGNvbnRleHQ6IFwiY29udGV4dFwiLFxuICAgICAgdHJhY2U6IGhvb2tzLnRyYWNlLFxuICAgICAgYWRkRm46ICh3b3JkKSA9PiB7XG4gICAgICAgIGFmdGVyUmVzcG9uc2UyICs9IHdvcmQ7XG4gICAgICB9XG4gICAgfSkoXCJhZnRlclJlc3BvbnNlXCIsIHtcbiAgICAgIHRvdGFsOiBob29rcy5hZnRlclJlc3BvbnNlPy5sZW5ndGgsXG4gICAgICBuYW1lOiBcImNvbnRleHRcIlxuICAgIH0pO1xuICAgIGlmIChob29rcy5hZnRlclJlc3BvbnNlPy5sZW5ndGggJiYgaG9va3MuYWZ0ZXJSZXNwb25zZSlcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MuYWZ0ZXJSZXNwb25zZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBmbiA9IGhvb2tzLmFmdGVyUmVzcG9uc2VbaV0uZm4sIGVuZFVuaXQgPSByZXBvcnRlci5yZXNvbHZlQ2hpbGQoZm4ubmFtZSk7XG4gICAgICAgIGFmdGVyUmVzcG9uc2UyICs9IGBcbiR7aXNBc3luY05hbWUoZm4pID8gXCJhd2FpdCBcIiA6IFwiXCJ9YWZ0ZXJSZXNwb25zZVske2l9XShjb250ZXh0KVxuYCwgZW5kVW5pdCgpO1xuICAgICAgfVxuICAgIHJldHVybiByZXBvcnRlci5yZXNvbHZlKCksIGFmdGVyUmVzcG9uc2UyICs9IGB9KVxuYCwgYWZ0ZXJSZXNwb25zZTI7XG4gIH07XG4gIGZuTGl0ZXJhbCArPSBgY29uc3Qgc2V0PWNvbnRleHQuc2V0XG5sZXQgX3JcbmlmKCFjb250ZXh0LmNvZGUpY29udGV4dC5jb2RlPWVycm9yLmNvZGU/P2Vycm9yW0VSUk9SX0NPREVdXG5pZighKGNvbnRleHQuZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikpY29udGV4dC5lcnJvcj1lcnJvclxuaWYoZXJyb3IgaW5zdGFuY2VvZiBFbHlzaWFDdXN0b21TdGF0dXNSZXNwb25zZSl7c2V0LnN0YXR1cz1lcnJvci5zdGF0dXM9ZXJyb3IuY29kZVxuZXJyb3IubWVzc2FnZT1lcnJvci5yZXNwb25zZX1gLCBhZGFwdGVyLmRlY2xhcmUgJiYgKGZuTGl0ZXJhbCArPSBhZGFwdGVyLmRlY2xhcmUpO1xuICBjb25zdCBzYXZlUmVzcG9uc2UgPSBoYXNUcmFjZSB8fCBob29rcy5hZnRlclJlc3BvbnNlPy5sZW5ndGggPyBcImNvbnRleHQucmVzcG9uc2UgPSBcIiA6IFwiXCI7XG4gIGlmIChhcHAuZXZlbnQuZXJyb3IpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcHAuZXZlbnQuZXJyb3IubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSBhcHAuZXZlbnQuZXJyb3JbaV0sIHJlc3BvbnNlID0gYCR7aXNBc3luYyhoYW5kbGVyKSA/IFwiYXdhaXQgXCIgOiBcIlwifW9uRXJyb3JbJHtpfV0oY29udGV4dClcbmA7XG4gICAgICBpZiAoZm5MaXRlcmFsICs9IFwiaWYoc2tpcEdsb2JhbCE9PXRydWUpe1wiLCBoYXNSZXR1cm4oaGFuZGxlcikpIHtcbiAgICAgICAgZm5MaXRlcmFsICs9IGBfcj0ke3Jlc3BvbnNlfVxuaWYoX3IhPT11bmRlZmluZWQpe2lmKF9yIGluc3RhbmNlb2YgUmVzcG9uc2Upe2AgKyBhZnRlclJlc3BvbnNlKCkgKyBgcmV0dXJuIG1hcFJlc3BvbnNlKF9yLHNldCR7YWRhcHRlci5tYXBSZXNwb25zZUNvbnRleHR9KX1pZihfciBpbnN0YW5jZW9mIEVseXNpYUN1c3RvbVN0YXR1c1Jlc3BvbnNlKXtlcnJvci5zdGF0dXM9ZXJyb3IuY29kZVxuZXJyb3IubWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlfWlmKHNldC5zdGF0dXM9PT0yMDB8fCFzZXQuc3RhdHVzKXNldC5zdGF0dXM9ZXJyb3Iuc3RhdHVzXG5gO1xuICAgICAgICBjb25zdCBtYXBSZXNwb25zZVJlcG9ydGVyMiA9IHJlcG9ydChcIm1hcFJlc3BvbnNlXCIsIHtcbiAgICAgICAgICB0b3RhbDogaG9va3MubWFwUmVzcG9uc2U/Lmxlbmd0aCxcbiAgICAgICAgICBuYW1lOiBcImNvbnRleHRcIlxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGhvb2tzLm1hcFJlc3BvbnNlPy5sZW5ndGgpXG4gICAgICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGhvb2tzLm1hcFJlc3BvbnNlLmxlbmd0aDsgaTIrKykge1xuICAgICAgICAgICAgY29uc3QgbWFwUmVzcG9uc2UgPSBob29rcy5tYXBSZXNwb25zZVtpMl0sIGVuZFVuaXQgPSBtYXBSZXNwb25zZVJlcG9ydGVyMi5yZXNvbHZlQ2hpbGQoXG4gICAgICAgICAgICAgIG1hcFJlc3BvbnNlLmZuLm5hbWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBmbkxpdGVyYWwgKz0gYGNvbnRleHQucmVzcG9uc2U9Y29udGV4dC5yZXNwb25zZVZhbHVlPV9yX3I9JHtpc0FzeW5jTmFtZShtYXBSZXNwb25zZSkgPyBcImF3YWl0IFwiIDogXCJcIn1vbk1hcFJlc3BvbnNlWyR7aTJ9XShjb250ZXh0KVxuYCwgZW5kVW5pdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgbWFwUmVzcG9uc2VSZXBvcnRlcjIucmVzb2x2ZSgpLCBmbkxpdGVyYWwgKz0gYWZ0ZXJSZXNwb25zZSgpICsgYHJldHVybiBtYXBSZXNwb25zZSgke3NhdmVSZXNwb25zZX1fcixzZXQke2FkYXB0ZXIubWFwUmVzcG9uc2VDb250ZXh0fSl9YDtcbiAgICAgIH0gZWxzZSBmbkxpdGVyYWwgKz0gcmVzcG9uc2U7XG4gICAgICBmbkxpdGVyYWwgKz0gXCJ9XCI7XG4gICAgfVxuICBmbkxpdGVyYWwgKz0gYGlmKGVycm9yLmNvbnN0cnVjdG9yLm5hbWU9PT1cIlZhbGlkYXRpb25FcnJvclwifHxlcnJvci5jb25zdHJ1Y3Rvci5uYW1lPT09XCJUcmFuc2Zvcm1EZWNvZGVFcnJvclwiKXtcbmlmKGVycm9yLmVycm9yKWVycm9yPWVycm9yLmVycm9yXG5zZXQuc3RhdHVzPWVycm9yLnN0YXR1cz8/NDIyXG5gICsgYWZ0ZXJSZXNwb25zZSgpICsgYWRhcHRlci52YWxpZGF0aW9uRXJyb3IgKyBgXG59XG5gLCBmbkxpdGVyYWwgKz0gXCJpZihlcnJvciBpbnN0YW5jZW9mIEVycm9yKXtcIiArIGFmdGVyUmVzcG9uc2UoKSArIGBcbmlmKHR5cGVvZiBlcnJvci50b1Jlc3BvbnNlPT09J2Z1bmN0aW9uJylyZXR1cm4gY29udGV4dC5yZXNwb25zZT1jb250ZXh0LnJlc3BvbnNlVmFsdWU9ZXJyb3IudG9SZXNwb25zZSgpXG5gICsgYWRhcHRlci51bmtub3duRXJyb3IgKyBgXG59YDtcbiAgY29uc3QgbWFwUmVzcG9uc2VSZXBvcnRlciA9IHJlcG9ydChcIm1hcFJlc3BvbnNlXCIsIHtcbiAgICB0b3RhbDogaG9va3MubWFwUmVzcG9uc2U/Lmxlbmd0aCxcbiAgICBuYW1lOiBcImNvbnRleHRcIlxuICB9KTtcbiAgaWYgKGZuTGl0ZXJhbCArPSBgXG5pZighY29udGV4dC5yZXNwb25zZSljb250ZXh0LnJlc3BvbnNlPWNvbnRleHQucmVzcG9uc2VWYWx1ZT1lcnJvci5tZXNzYWdlPz9lcnJvclxuYCwgaG9va3MubWFwUmVzcG9uc2U/Lmxlbmd0aCkge1xuICAgIGZuTGl0ZXJhbCArPSBgbGV0IG1yXG5gO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MubWFwUmVzcG9uc2UubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG1hcFJlc3BvbnNlID0gaG9va3MubWFwUmVzcG9uc2VbaV0sIGVuZFVuaXQgPSBtYXBSZXNwb25zZVJlcG9ydGVyLnJlc29sdmVDaGlsZChcbiAgICAgICAgbWFwUmVzcG9uc2UuZm4ubmFtZVxuICAgICAgKTtcbiAgICAgIGZuTGl0ZXJhbCArPSBgaWYobXI9PT11bmRlZmluZWQpe21yPSR7aXNBc3luY05hbWUobWFwUmVzcG9uc2UpID8gXCJhd2FpdCBcIiA6IFwiXCJ9b25NYXBSZXNwb25zZVske2l9XShjb250ZXh0KVxuaWYobXIhPT11bmRlZmluZWQpZXJyb3I9Y29udGV4dC5yZXNwb25zZT1jb250ZXh0LnJlc3BvbnNlVmFsdWU9bXJ9YCwgZW5kVW5pdCgpO1xuICAgIH1cbiAgfVxuICBtYXBSZXNwb25zZVJlcG9ydGVyLnJlc29sdmUoKSwgZm5MaXRlcmFsICs9IGFmdGVyUmVzcG9uc2UoKSArIGBcbnJldHVybiBtYXBSZXNwb25zZSgke3NhdmVSZXNwb25zZX1lcnJvcixzZXQke2FkYXB0ZXIubWFwUmVzcG9uc2VDb250ZXh0fSl9YDtcbiAgY29uc3QgbWFwRm4gPSAoeCkgPT4gdHlwZW9mIHggPT0gXCJmdW5jdGlvblwiID8geCA6IHguZm47XG4gIHJldHVybiBGdW5jdGlvbihcbiAgICBcImluamVjdFwiLFxuICAgIGBcInVzZSBzdHJpY3RcIjtcbmAgKyBmbkxpdGVyYWxcbiAgKSh7XG4gICAgbWFwUmVzcG9uc2U6IGFwcFtcIn5hZGFwdGVyXCJdLmhhbmRsZXIubWFwUmVzcG9uc2UsXG4gICAgRVJST1JfQ09ERSxcbiAgICBFbHlzaWFDdXN0b21TdGF0dXNSZXNwb25zZSxcbiAgICBvbkVycm9yOiBhcHAuZXZlbnQuZXJyb3I/Lm1hcChtYXBGbiksXG4gICAgYWZ0ZXJSZXNwb25zZTogYXBwLmV2ZW50LmFmdGVyUmVzcG9uc2U/Lm1hcChtYXBGbiksXG4gICAgdHJhY2U6IGFwcC5ldmVudC50cmFjZT8ubWFwKG1hcEZuKSxcbiAgICBvbk1hcFJlc3BvbnNlOiBhcHAuZXZlbnQubWFwUmVzcG9uc2U/Lm1hcChtYXBGbiksXG4gICAgRUxZU0lBX1RSQUNFOiBoYXNUcmFjZSA/IEVMWVNJQV9UUkFDRSA6IHZvaWQgMCxcbiAgICBFTFlTSUFfUkVRVUVTVF9JRDogaGFzVHJhY2UgPyBFTFlTSUFfUkVRVUVTVF9JRCA6IHZvaWQgMCxcbiAgICAuLi5hZGFwdGVyLmluamVjdFxuICB9KTtcbn07XG5leHBvcnQge1xuICBjb21wb3NlRXJyb3JIYW5kbGVyLFxuICBjb21wb3NlR2VuZXJhbEhhbmRsZXIsXG4gIGNvbXBvc2VIYW5kbGVyLFxuICBjcmVhdGVIb2MsXG4gIGNyZWF0ZU9uUmVxdWVzdEhhbmRsZXIsXG4gIGlzQXN5bmNcbn07XG4iLAogICAgImltcG9ydCBkZWNvZGUgZnJvbSBcImZhc3QtZGVjb2RlLXVyaS1jb21wb25lbnRcIjtcbmNvbnN0IEtFWV9IQVNfUExVUyA9IDEsIEtFWV9ORUVEU19ERUNPREUgPSAyLCBWQUxVRV9IQVNfUExVUyA9IDQsIFZBTFVFX05FRURTX0RFQ09ERSA9IDg7XG5mdW5jdGlvbiBwYXJzZVF1ZXJ5RnJvbVVSTChpbnB1dCwgc3RhcnRJbmRleCA9IDAsIGFycmF5LCBvYmplY3QpIHtcbiAgY29uc3QgcmVzdWx0ID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGxldCBmbGFncyA9IDA7XG4gIGNvbnN0IGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICBsZXQgc3RhcnRpbmdJbmRleCA9IHN0YXJ0SW5kZXggLSAxLCBlcXVhbGl0eUluZGV4ID0gc3RhcnRpbmdJbmRleDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dExlbmd0aDsgaSsrKVxuICAgIHN3aXRjaCAoaW5wdXQuY2hhckNvZGVBdChpKSkge1xuICAgICAgLy8gJyYnXG4gICAgICBjYXNlIDM4OlxuICAgICAgICBwcm9jZXNzS2V5VmFsdWVQYWlyKGlucHV0LCBpKSwgc3RhcnRpbmdJbmRleCA9IGksIGVxdWFsaXR5SW5kZXggPSBpLCBmbGFncyA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gJz0nXG4gICAgICBjYXNlIDYxOlxuICAgICAgICBlcXVhbGl0eUluZGV4IDw9IHN0YXJ0aW5nSW5kZXggPyBlcXVhbGl0eUluZGV4ID0gaSA6IGZsYWdzIHw9IFZBTFVFX05FRURTX0RFQ09ERTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyAnKydcbiAgICAgIGNhc2UgNDM6XG4gICAgICAgIGVxdWFsaXR5SW5kZXggPiBzdGFydGluZ0luZGV4ID8gZmxhZ3MgfD0gVkFMVUVfSEFTX1BMVVMgOiBmbGFncyB8PSBLRVlfSEFTX1BMVVM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gJyUnXG4gICAgICBjYXNlIDM3OlxuICAgICAgICBlcXVhbGl0eUluZGV4ID4gc3RhcnRpbmdJbmRleCA/IGZsYWdzIHw9IFZBTFVFX05FRURTX0RFQ09ERSA6IGZsYWdzIHw9IEtFWV9ORUVEU19ERUNPREU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgcmV0dXJuIHN0YXJ0aW5nSW5kZXggPCBpbnB1dExlbmd0aCAmJiBwcm9jZXNzS2V5VmFsdWVQYWlyKGlucHV0LCBpbnB1dExlbmd0aCksIHJlc3VsdDtcbiAgZnVuY3Rpb24gcHJvY2Vzc0tleVZhbHVlUGFpcihpbnB1dDIsIGVuZEluZGV4KSB7XG4gICAgY29uc3QgaGFzQm90aEtleVZhbHVlUGFpciA9IGVxdWFsaXR5SW5kZXggPiBzdGFydGluZ0luZGV4LCBlZmZlY3RpdmVFcXVhbGl0eUluZGV4ID0gaGFzQm90aEtleVZhbHVlUGFpciA/IGVxdWFsaXR5SW5kZXggOiBlbmRJbmRleCwga2V5U2xpY2UgPSBpbnB1dDIuc2xpY2Uoc3RhcnRpbmdJbmRleCArIDEsIGVmZmVjdGl2ZUVxdWFsaXR5SW5kZXgpO1xuICAgIGlmICghaGFzQm90aEtleVZhbHVlUGFpciAmJiBrZXlTbGljZS5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBsZXQgZmluYWxLZXkgPSBrZXlTbGljZTtcbiAgICBmbGFncyAmIEtFWV9IQVNfUExVUyAmJiAoZmluYWxLZXkgPSBmaW5hbEtleS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKSwgZmxhZ3MgJiBLRVlfTkVFRFNfREVDT0RFICYmIChmaW5hbEtleSA9IGRlY29kZShmaW5hbEtleSkgfHwgZmluYWxLZXkpO1xuICAgIGxldCBmaW5hbFZhbHVlID0gXCJcIjtcbiAgICBpZiAoaGFzQm90aEtleVZhbHVlUGFpcikge1xuICAgICAgbGV0IHZhbHVlU2xpY2UgPSBpbnB1dDIuc2xpY2UoZXF1YWxpdHlJbmRleCArIDEsIGVuZEluZGV4KTtcbiAgICAgIGZsYWdzICYgVkFMVUVfSEFTX1BMVVMgJiYgKHZhbHVlU2xpY2UgPSB2YWx1ZVNsaWNlLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpLCBmbGFncyAmIFZBTFVFX05FRURTX0RFQ09ERSAmJiAodmFsdWVTbGljZSA9IGRlY29kZSh2YWx1ZVNsaWNlKSB8fCB2YWx1ZVNsaWNlKSwgZmluYWxWYWx1ZSA9IHZhbHVlU2xpY2U7XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHJlc3VsdFtmaW5hbEtleV07XG4gICAgYXJyYXk/LltmaW5hbEtleV0gPyBmaW5hbFZhbHVlLmNoYXJDb2RlQXQoMCkgPT09IDkxID8gKG9iamVjdD8uW2ZpbmFsS2V5XSA/IGZpbmFsVmFsdWUgPSBKU09OLnBhcnNlKGZpbmFsVmFsdWUpIDogZmluYWxWYWx1ZSA9IGZpbmFsVmFsdWUuc2xpY2UoMSwgLTEpLnNwbGl0KFwiLFwiKSwgY3VycmVudFZhbHVlID09PSB2b2lkIDAgPyByZXN1bHRbZmluYWxLZXldID0gZmluYWxWYWx1ZSA6IEFycmF5LmlzQXJyYXkoY3VycmVudFZhbHVlKSA/IGN1cnJlbnRWYWx1ZS5wdXNoKC4uLmZpbmFsVmFsdWUpIDogKHJlc3VsdFtmaW5hbEtleV0gPSBmaW5hbFZhbHVlLCByZXN1bHRbZmluYWxLZXldLnVuc2hpZnQoY3VycmVudFZhbHVlKSkpIDogY3VycmVudFZhbHVlID09PSB2b2lkIDAgPyByZXN1bHRbZmluYWxLZXldID0gZmluYWxWYWx1ZSA6IEFycmF5LmlzQXJyYXkoY3VycmVudFZhbHVlKSA/IGN1cnJlbnRWYWx1ZS5wdXNoKGZpbmFsVmFsdWUpIDogcmVzdWx0W2ZpbmFsS2V5XSA9IFtjdXJyZW50VmFsdWUsIGZpbmFsVmFsdWVdIDogcmVzdWx0W2ZpbmFsS2V5XSA9IGZpbmFsVmFsdWU7XG4gIH1cbn1cbmZ1bmN0aW9uIHBhcnNlUXVlcnlTdGFuZGFyZFNjaGVtYShpbnB1dCwgc3RhcnRJbmRleCA9IDApIHtcbiAgY29uc3QgcmVzdWx0ID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGxldCBmbGFncyA9IDA7XG4gIGNvbnN0IGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICBsZXQgc3RhcnRpbmdJbmRleCA9IHN0YXJ0SW5kZXggLSAxLCBlcXVhbGl0eUluZGV4ID0gc3RhcnRpbmdJbmRleDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dExlbmd0aDsgaSsrKVxuICAgIHN3aXRjaCAoaW5wdXQuY2hhckNvZGVBdChpKSkge1xuICAgICAgLy8gJyYnXG4gICAgICBjYXNlIDM4OlxuICAgICAgICBwcm9jZXNzS2V5VmFsdWVQYWlyKGlucHV0LCBpKSwgc3RhcnRpbmdJbmRleCA9IGksIGVxdWFsaXR5SW5kZXggPSBpLCBmbGFncyA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gJz0nXG4gICAgICBjYXNlIDYxOlxuICAgICAgICBlcXVhbGl0eUluZGV4IDw9IHN0YXJ0aW5nSW5kZXggPyBlcXVhbGl0eUluZGV4ID0gaSA6IGZsYWdzIHw9IFZBTFVFX05FRURTX0RFQ09ERTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyAnKydcbiAgICAgIGNhc2UgNDM6XG4gICAgICAgIGVxdWFsaXR5SW5kZXggPiBzdGFydGluZ0luZGV4ID8gZmxhZ3MgfD0gVkFMVUVfSEFTX1BMVVMgOiBmbGFncyB8PSBLRVlfSEFTX1BMVVM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gJyUnXG4gICAgICBjYXNlIDM3OlxuICAgICAgICBlcXVhbGl0eUluZGV4ID4gc3RhcnRpbmdJbmRleCA/IGZsYWdzIHw9IFZBTFVFX05FRURTX0RFQ09ERSA6IGZsYWdzIHw9IEtFWV9ORUVEU19ERUNPREU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgcmV0dXJuIHN0YXJ0aW5nSW5kZXggPCBpbnB1dExlbmd0aCAmJiBwcm9jZXNzS2V5VmFsdWVQYWlyKGlucHV0LCBpbnB1dExlbmd0aCksIHJlc3VsdDtcbiAgZnVuY3Rpb24gcHJvY2Vzc0tleVZhbHVlUGFpcihpbnB1dDIsIGVuZEluZGV4KSB7XG4gICAgY29uc3QgaGFzQm90aEtleVZhbHVlUGFpciA9IGVxdWFsaXR5SW5kZXggPiBzdGFydGluZ0luZGV4LCBlZmZlY3RpdmVFcXVhbGl0eUluZGV4ID0gaGFzQm90aEtleVZhbHVlUGFpciA/IGVxdWFsaXR5SW5kZXggOiBlbmRJbmRleCwga2V5U2xpY2UgPSBpbnB1dDIuc2xpY2Uoc3RhcnRpbmdJbmRleCArIDEsIGVmZmVjdGl2ZUVxdWFsaXR5SW5kZXgpO1xuICAgIGlmICghaGFzQm90aEtleVZhbHVlUGFpciAmJiBrZXlTbGljZS5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBsZXQgZmluYWxLZXkgPSBrZXlTbGljZTtcbiAgICBmbGFncyAmIEtFWV9IQVNfUExVUyAmJiAoZmluYWxLZXkgPSBmaW5hbEtleS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKSwgZmxhZ3MgJiBLRVlfTkVFRFNfREVDT0RFICYmIChmaW5hbEtleSA9IGRlY29kZShmaW5hbEtleSkgfHwgZmluYWxLZXkpO1xuICAgIGxldCBmaW5hbFZhbHVlID0gXCJcIjtcbiAgICBpZiAoaGFzQm90aEtleVZhbHVlUGFpcikge1xuICAgICAgbGV0IHZhbHVlU2xpY2UgPSBpbnB1dDIuc2xpY2UoZXF1YWxpdHlJbmRleCArIDEsIGVuZEluZGV4KTtcbiAgICAgIGZsYWdzICYgVkFMVUVfSEFTX1BMVVMgJiYgKHZhbHVlU2xpY2UgPSB2YWx1ZVNsaWNlLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpLCBmbGFncyAmIFZBTFVFX05FRURTX0RFQ09ERSAmJiAodmFsdWVTbGljZSA9IGRlY29kZSh2YWx1ZVNsaWNlKSB8fCB2YWx1ZVNsaWNlKSwgZmluYWxWYWx1ZSA9IHZhbHVlU2xpY2U7XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHJlc3VsdFtmaW5hbEtleV07XG4gICAgaWYgKGZpbmFsVmFsdWUuY2hhckNvZGVBdCgwKSA9PT0gOTEgJiYgZmluYWxWYWx1ZS5jaGFyQ29kZUF0KGZpbmFsVmFsdWUubGVuZ3RoIC0gMSkgPT09IDkzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBmaW5hbFZhbHVlID0gSlNPTi5wYXJzZShmaW5hbFZhbHVlKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgfVxuICAgICAgY3VycmVudFZhbHVlID09PSB2b2lkIDAgPyByZXN1bHRbZmluYWxLZXldID0gZmluYWxWYWx1ZSA6IEFycmF5LmlzQXJyYXkoY3VycmVudFZhbHVlKSA/IGN1cnJlbnRWYWx1ZS5wdXNoKGZpbmFsVmFsdWUpIDogcmVzdWx0W2ZpbmFsS2V5XSA9IFtjdXJyZW50VmFsdWUsIGZpbmFsVmFsdWVdO1xuICAgIH0gZWxzZSBpZiAoZmluYWxWYWx1ZS5jaGFyQ29kZUF0KDApID09PSAxMjMgJiYgZmluYWxWYWx1ZS5jaGFyQ29kZUF0KGZpbmFsVmFsdWUubGVuZ3RoIC0gMSkgPT09IDEyNSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmluYWxWYWx1ZSA9IEpTT04ucGFyc2UoZmluYWxWYWx1ZSk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRWYWx1ZSA9PT0gdm9pZCAwID8gcmVzdWx0W2ZpbmFsS2V5XSA9IGZpbmFsVmFsdWUgOiBBcnJheS5pc0FycmF5KGN1cnJlbnRWYWx1ZSkgPyBjdXJyZW50VmFsdWUucHVzaChmaW5hbFZhbHVlKSA6IHJlc3VsdFtmaW5hbEtleV0gPSBbY3VycmVudFZhbHVlLCBmaW5hbFZhbHVlXTtcbiAgICB9IGVsc2VcbiAgICAgIGZpbmFsVmFsdWUuaW5jbHVkZXMoXCIsXCIpICYmIChmaW5hbFZhbHVlID0gZmluYWxWYWx1ZS5zcGxpdChcIixcIikpLCBjdXJyZW50VmFsdWUgPT09IHZvaWQgMCA/IHJlc3VsdFtmaW5hbEtleV0gPSBmaW5hbFZhbHVlIDogQXJyYXkuaXNBcnJheShjdXJyZW50VmFsdWUpID8gY3VycmVudFZhbHVlLnB1c2goZmluYWxWYWx1ZSkgOiByZXN1bHRbZmluYWxLZXldID0gW2N1cnJlbnRWYWx1ZSwgZmluYWxWYWx1ZV07XG4gIH1cbn1cbmZ1bmN0aW9uIHBhcnNlUXVlcnkoaW5wdXQpIHtcbiAgY29uc3QgcmVzdWx0ID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGxldCBmbGFncyA9IDA7XG4gIGNvbnN0IGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICBsZXQgc3RhcnRpbmdJbmRleCA9IC0xLCBlcXVhbGl0eUluZGV4ID0gLTE7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRMZW5ndGg7IGkrKylcbiAgICBzd2l0Y2ggKGlucHV0LmNoYXJDb2RlQXQoaSkpIHtcbiAgICAgIC8vICcmJ1xuICAgICAgY2FzZSAzODpcbiAgICAgICAgcHJvY2Vzc0tleVZhbHVlUGFpcihpbnB1dCwgaSksIHN0YXJ0aW5nSW5kZXggPSBpLCBlcXVhbGl0eUluZGV4ID0gaSwgZmxhZ3MgPSAwO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vICc9J1xuICAgICAgY2FzZSA2MTpcbiAgICAgICAgZXF1YWxpdHlJbmRleCA8PSBzdGFydGluZ0luZGV4ID8gZXF1YWxpdHlJbmRleCA9IGkgOiBmbGFncyB8PSBWQUxVRV9ORUVEU19ERUNPREU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gJysnXG4gICAgICBjYXNlIDQzOlxuICAgICAgICBlcXVhbGl0eUluZGV4ID4gc3RhcnRpbmdJbmRleCA/IGZsYWdzIHw9IFZBTFVFX0hBU19QTFVTIDogZmxhZ3MgfD0gS0VZX0hBU19QTFVTO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vICclJ1xuICAgICAgY2FzZSAzNzpcbiAgICAgICAgZXF1YWxpdHlJbmRleCA+IHN0YXJ0aW5nSW5kZXggPyBmbGFncyB8PSBWQUxVRV9ORUVEU19ERUNPREUgOiBmbGFncyB8PSBLRVlfTkVFRFNfREVDT0RFO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIHJldHVybiBzdGFydGluZ0luZGV4IDwgaW5wdXRMZW5ndGggJiYgcHJvY2Vzc0tleVZhbHVlUGFpcihpbnB1dCwgaW5wdXRMZW5ndGgpLCByZXN1bHQ7XG4gIGZ1bmN0aW9uIHByb2Nlc3NLZXlWYWx1ZVBhaXIoaW5wdXQyLCBlbmRJbmRleCkge1xuICAgIGNvbnN0IGhhc0JvdGhLZXlWYWx1ZVBhaXIgPSBlcXVhbGl0eUluZGV4ID4gc3RhcnRpbmdJbmRleCwgZWZmZWN0aXZlRXF1YWxpdHlJbmRleCA9IGhhc0JvdGhLZXlWYWx1ZVBhaXIgPyBlcXVhbGl0eUluZGV4IDogZW5kSW5kZXgsIGtleVNsaWNlID0gaW5wdXQyLnNsaWNlKHN0YXJ0aW5nSW5kZXggKyAxLCBlZmZlY3RpdmVFcXVhbGl0eUluZGV4KTtcbiAgICBpZiAoIWhhc0JvdGhLZXlWYWx1ZVBhaXIgJiYga2V5U2xpY2UubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgbGV0IGZpbmFsS2V5ID0ga2V5U2xpY2U7XG4gICAgZmxhZ3MgJiBLRVlfSEFTX1BMVVMgJiYgKGZpbmFsS2V5ID0gZmluYWxLZXkucmVwbGFjZSgvXFwrL2csIFwiIFwiKSksIGZsYWdzICYgS0VZX05FRURTX0RFQ09ERSAmJiAoZmluYWxLZXkgPSBkZWNvZGUoZmluYWxLZXkpIHx8IGZpbmFsS2V5KTtcbiAgICBsZXQgZmluYWxWYWx1ZSA9IFwiXCI7XG4gICAgaWYgKGhhc0JvdGhLZXlWYWx1ZVBhaXIpIHtcbiAgICAgIGxldCB2YWx1ZVNsaWNlID0gaW5wdXQyLnNsaWNlKGVxdWFsaXR5SW5kZXggKyAxLCBlbmRJbmRleCk7XG4gICAgICBmbGFncyAmIFZBTFVFX0hBU19QTFVTICYmICh2YWx1ZVNsaWNlID0gdmFsdWVTbGljZS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKSwgZmxhZ3MgJiBWQUxVRV9ORUVEU19ERUNPREUgJiYgKHZhbHVlU2xpY2UgPSBkZWNvZGUodmFsdWVTbGljZSkgfHwgdmFsdWVTbGljZSksIGZpbmFsVmFsdWUgPSB2YWx1ZVNsaWNlO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50VmFsdWUgPSByZXN1bHRbZmluYWxLZXldO1xuICAgIGN1cnJlbnRWYWx1ZSA9PT0gdm9pZCAwID8gcmVzdWx0W2ZpbmFsS2V5XSA9IGZpbmFsVmFsdWUgOiBBcnJheS5pc0FycmF5KGN1cnJlbnRWYWx1ZSkgPyBjdXJyZW50VmFsdWUucHVzaChmaW5hbFZhbHVlKSA6IHJlc3VsdFtmaW5hbEtleV0gPSBbY3VycmVudFZhbHVlLCBmaW5hbFZhbHVlXTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgcGFyc2VRdWVyeSxcbiAgcGFyc2VRdWVyeUZyb21VUkwsXG4gIHBhcnNlUXVlcnlTdGFuZGFyZFNjaGVtYVxufTtcbiIsCiAgICAiaW1wb3J0IHsgRUxZU0lBX1JFUVVFU1RfSUQgfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbmNvbnN0IEVMWVNJQV9UUkFDRSA9IFN5bWJvbChcIkVseXNpYVRyYWNlXCIpLCBjcmVhdGVQcm9jZXNzID0gKCkgPT4ge1xuICBjb25zdCB7IHByb21pc2UsIHJlc29sdmUgfSA9IFByb21pc2Uud2l0aFJlc29sdmVycygpLCB7IHByb21pc2U6IGVuZCwgcmVzb2x2ZTogcmVzb2x2ZUVuZCB9ID0gUHJvbWlzZS53aXRoUmVzb2x2ZXJzKCksIHsgcHJvbWlzZTogZXJyb3IsIHJlc29sdmU6IHJlc29sdmVFcnJvciB9ID0gUHJvbWlzZS53aXRoUmVzb2x2ZXJzKCksIGNhbGxiYWNrcyA9IFtdLCBjYWxsYmFja3NFbmQgPSBbXTtcbiAgcmV0dXJuIFtcbiAgICAoY2FsbGJhY2spID0+IChjYWxsYmFjayAmJiBjYWxsYmFja3MucHVzaChjYWxsYmFjayksIHByb21pc2UpLFxuICAgIChwcm9jZXNzKSA9PiB7XG4gICAgICBjb25zdCBwcm9jZXNzZXMgPSBbXSwgcmVzb2x2ZXJzID0gW107XG4gICAgICBsZXQgZ3JvdXBFcnJvciA9IG51bGw7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IChwcm9jZXNzLnRvdGFsID8/IDApOyBpKyspIHtcbiAgICAgICAgY29uc3QgeyBwcm9taXNlOiBwcm9taXNlMiwgcmVzb2x2ZTogcmVzb2x2ZTIgfSA9IFByb21pc2Uud2l0aFJlc29sdmVycygpLCB7IHByb21pc2U6IGVuZDIsIHJlc29sdmU6IHJlc29sdmVFbmQyIH0gPSBQcm9taXNlLndpdGhSZXNvbHZlcnMoKSwgeyBwcm9taXNlOiBlcnJvcjIsIHJlc29sdmU6IHJlc29sdmVFcnJvcjIgfSA9IFByb21pc2Uud2l0aFJlc29sdmVycygpLCBjYWxsYmFja3MyID0gW10sIGNhbGxiYWNrc0VuZDIgPSBbXTtcbiAgICAgICAgcHJvY2Vzc2VzLnB1c2goKGNhbGxiYWNrKSA9PiAoY2FsbGJhY2sgJiYgY2FsbGJhY2tzMi5wdXNoKGNhbGxiYWNrKSwgcHJvbWlzZTIpKSwgcmVzb2x2ZXJzLnB1c2goKHByb2Nlc3MyKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0MiA9IHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3MyLFxuICAgICAgICAgICAgZW5kOiBlbmQyLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yMixcbiAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgb25TdG9wKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayAmJiBjYWxsYmFja3NFbmQyLnB1c2goY2FsbGJhY2spLCBlbmQyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgcmVzb2x2ZTIocmVzdWx0Mik7XG4gICAgICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGNhbGxiYWNrczIubGVuZ3RoOyBpMisrKVxuICAgICAgICAgICAgY2FsbGJhY2tzMltpMl0ocmVzdWx0Mik7XG4gICAgICAgICAgcmV0dXJuIChlcnJvcjMgPSBudWxsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbmQzID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICBlcnJvcjMgJiYgKGdyb3VwRXJyb3IgPSBlcnJvcjMpO1xuICAgICAgICAgICAgY29uc3QgZGV0YWlsID0ge1xuICAgICAgICAgICAgICBlbmQ6IGVuZDMsXG4gICAgICAgICAgICAgIGVycm9yOiBlcnJvcjMsXG4gICAgICAgICAgICAgIGdldCBlbGFwc2VkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbmQzIC0gcHJvY2VzczIuYmVnaW47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgY2FsbGJhY2tzRW5kMi5sZW5ndGg7IGkyKyspXG4gICAgICAgICAgICAgIGNhbGxiYWNrc0VuZDJbaTJdKGRldGFpbCk7XG4gICAgICAgICAgICByZXNvbHZlRW5kMihlbmQzKSwgcmVzb2x2ZUVycm9yMihlcnJvcjMpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAuLi5wcm9jZXNzLFxuICAgICAgICBlbmQsXG4gICAgICAgIGVycm9yLFxuICAgICAgICBvbkV2ZW50KGNhbGxiYWNrKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9jZXNzZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBwcm9jZXNzZXNbaV0oY2FsbGJhY2spO1xuICAgICAgICB9LFxuICAgICAgICBvblN0b3AoY2FsbGJhY2spIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2sgJiYgY2FsbGJhY2tzRW5kLnB1c2goY2FsbGJhY2spLCBlbmQ7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykgY2FsbGJhY2tzW2ldKHJlc3VsdCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXNvbHZlQ2hpbGQ6IHJlc29sdmVycyxcbiAgICAgICAgcmVzb2x2ZShlcnJvcjIgPSBudWxsKSB7XG4gICAgICAgICAgY29uc3QgZW5kMiA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICFlcnJvcjIgJiYgZ3JvdXBFcnJvciAmJiAoZXJyb3IyID0gZ3JvdXBFcnJvcik7XG4gICAgICAgICAgY29uc3QgZGV0YWlsID0ge1xuICAgICAgICAgICAgZW5kOiBlbmQyLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yMixcbiAgICAgICAgICAgIGdldCBlbGFwc2VkKCkge1xuICAgICAgICAgICAgICByZXR1cm4gZW5kMiAtIHByb2Nlc3MuYmVnaW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhbGxiYWNrc0VuZC5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGNhbGxiYWNrc0VuZFtpXShkZXRhaWwpO1xuICAgICAgICAgIHJlc29sdmVFbmQoZW5kMiksIHJlc29sdmVFcnJvcihlcnJvcjIpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgXTtcbn0sIGNyZWF0ZVRyYWNlciA9ICh0cmFjZUxpc3RlbmVyKSA9PiAoY29udGV4dCkgPT4ge1xuICBjb25zdCBbb25SZXF1ZXN0LCByZXNvbHZlUmVxdWVzdF0gPSBjcmVhdGVQcm9jZXNzKCksIFtvblBhcnNlLCByZXNvbHZlUGFyc2VdID0gY3JlYXRlUHJvY2VzcygpLCBbb25UcmFuc2Zvcm0sIHJlc29sdmVUcmFuc2Zvcm1dID0gY3JlYXRlUHJvY2VzcygpLCBbb25CZWZvcmVIYW5kbGUsIHJlc29sdmVCZWZvcmVIYW5kbGVdID0gY3JlYXRlUHJvY2VzcygpLCBbb25IYW5kbGUsIHJlc29sdmVIYW5kbGVdID0gY3JlYXRlUHJvY2VzcygpLCBbb25BZnRlckhhbmRsZSwgcmVzb2x2ZUFmdGVySGFuZGxlXSA9IGNyZWF0ZVByb2Nlc3MoKSwgW29uRXJyb3IsIHJlc29sdmVFcnJvcl0gPSBjcmVhdGVQcm9jZXNzKCksIFtvbk1hcFJlc3BvbnNlLCByZXNvbHZlTWFwUmVzcG9uc2VdID0gY3JlYXRlUHJvY2VzcygpLCBbb25BZnRlclJlc3BvbnNlLCByZXNvbHZlQWZ0ZXJSZXNwb25zZV0gPSBjcmVhdGVQcm9jZXNzKCk7XG4gIHJldHVybiB0cmFjZUxpc3RlbmVyKHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWQ6IGNvbnRleHRbRUxZU0lBX1JFUVVFU1RfSURdLFxuICAgIGNvbnRleHQsXG4gICAgc2V0OiBjb250ZXh0LnNldCxcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgb25SZXF1ZXN0LFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBvblBhcnNlLFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBvblRyYW5zZm9ybSxcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgb25CZWZvcmVIYW5kbGUsXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIG9uSGFuZGxlLFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBvbkFmdGVySGFuZGxlLFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBvbk1hcFJlc3BvbnNlLFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBvbkFmdGVyUmVzcG9uc2UsXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIG9uRXJyb3IsXG4gICAgdGltZTogRGF0ZS5ub3coKSxcbiAgICBzdG9yZTogY29udGV4dC5zdG9yZVxuICB9KSwge1xuICAgIHJlcXVlc3Q6IHJlc29sdmVSZXF1ZXN0LFxuICAgIHBhcnNlOiByZXNvbHZlUGFyc2UsXG4gICAgdHJhbnNmb3JtOiByZXNvbHZlVHJhbnNmb3JtLFxuICAgIGJlZm9yZUhhbmRsZTogcmVzb2x2ZUJlZm9yZUhhbmRsZSxcbiAgICBoYW5kbGU6IHJlc29sdmVIYW5kbGUsXG4gICAgYWZ0ZXJIYW5kbGU6IHJlc29sdmVBZnRlckhhbmRsZSxcbiAgICBlcnJvcjogcmVzb2x2ZUVycm9yLFxuICAgIG1hcFJlc3BvbnNlOiByZXNvbHZlTWFwUmVzcG9uc2UsXG4gICAgYWZ0ZXJSZXNwb25zZTogcmVzb2x2ZUFmdGVyUmVzcG9uc2VcbiAgfTtcbn07XG5leHBvcnQge1xuICBFTFlTSUFfVFJBQ0UsXG4gIGNyZWF0ZVRyYWNlclxufTtcbiIsCiAgICAiLy8gc3JjL2luZGV4LnRzXG5pbXBvcnQgeyBUeXBlQ29tcGlsZXIgfSBmcm9tIFwiQHNpbmNsYWlyL3R5cGVib3gvY29tcGlsZXJcIjtcbnZhciBLaW5kID0gU3ltYm9sLmZvcihcIlR5cGVCb3guS2luZFwiKTtcbnZhciBIaW50ID0gU3ltYm9sLmZvcihcIlR5cGVCb3guSGludFwiKTtcbnZhciBpc1NwZWNpYWxQcm9wZXJ0eSA9IChuYW1lKSA9PiAvKFxcIHwtfFxcdHxcXG58XFwuKS8udGVzdChuYW1lKSB8fCAhaXNOYU4oK25hbWVbMF0pO1xudmFyIGpvaW5Qcm9wZXJ0eSA9ICh2MSwgdjIsIGlzT3B0aW9uYWwgPSBmYWxzZSkgPT4ge1xuICBpZiAodHlwZW9mIHYyID09PSBcIm51bWJlclwiKSByZXR1cm4gYCR7djF9WyR7djJ9XWA7XG4gIGlmIChpc1NwZWNpYWxQcm9wZXJ0eSh2MikpIHJldHVybiBgJHt2MX0ke2lzT3B0aW9uYWwgPyBcIj8uXCIgOiBcIlwifVtcIiR7djJ9XCJdYDtcbiAgcmV0dXJuIGAke3YxfSR7aXNPcHRpb25hbCA/IFwiP1wiIDogXCJcIn0uJHt2Mn1gO1xufTtcbnZhciBlbmNvZGVQcm9wZXJ0eSA9ICh2KSA9PiBpc1NwZWNpYWxQcm9wZXJ0eSh2KSA/IGBcIiR7dn1cImAgOiB2O1xudmFyIHNhbml0aXplID0gKGtleSwgc2FuaXRpemUyID0gMCwgc2NoZW1hKSA9PiB7XG4gIGlmIChzY2hlbWEudHlwZSAhPT0gXCJzdHJpbmdcIiB8fCBzY2hlbWEuY29uc3QgfHwgc2NoZW1hLnRydXN0ZWQpIHJldHVybiBrZXk7XG4gIGxldCBob2YgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gc2FuaXRpemUyIC0gMTsgaSA+PSAwOyBpLS0pIGhvZiArPSBgZC5oJHtpfShgO1xuICByZXR1cm4gaG9mICsga2V5ICsgXCIpXCIucmVwZWF0KHNhbml0aXplMik7XG59O1xudmFyIG1lcmdlT2JqZWN0SW50ZXJzZWN0aW9uID0gKHNjaGVtYSkgPT4ge1xuICBpZiAoIXNjaGVtYS5hbGxPZiB8fCBLaW5kIGluIHNjaGVtYSAmJiAoc2NoZW1hW0tpbmRdICE9PSBcIkludGVyc2VjdFwiIHx8IHNjaGVtYS50eXBlICE9PSBcIm9iamVjdFwiKSlcbiAgICByZXR1cm4gc2NoZW1hO1xuICBjb25zdCB7IGFsbE9mLCAuLi5uZXdTY2hlbWEgfSA9IHNjaGVtYTtcbiAgbmV3U2NoZW1hLnByb3BlcnRpZXMgPSB7fTtcbiAgaWYgKEtpbmQgaW4gbmV3U2NoZW1hKSBuZXdTY2hlbWFbS2luZF0gPSBcIk9iamVjdFwiO1xuICBmb3IgKGNvbnN0IHR5cGUgb2YgYWxsT2YpIHtcbiAgICBpZiAodHlwZS50eXBlICE9PSBcIm9iamVjdFwiKSBjb250aW51ZTtcbiAgICBjb25zdCB7IHByb3BlcnRpZXMsIHJlcXVpcmVkLCB0eXBlOiBfLCBbS2luZF06IF9fLCAuLi5yZXN0IH0gPSB0eXBlO1xuICAgIGlmIChyZXF1aXJlZClcbiAgICAgIG5ld1NjaGVtYS5yZXF1aXJlZCA9IG5ld1NjaGVtYS5yZXF1aXJlZCA/IG5ld1NjaGVtYS5yZXF1aXJlZC5jb25jYXQocmVxdWlyZWQpIDogcmVxdWlyZWQ7XG4gICAgT2JqZWN0LmFzc2lnbihuZXdTY2hlbWEsIHJlc3QpO1xuICAgIGZvciAoY29uc3QgcHJvcGVydHkgaW4gdHlwZS5wcm9wZXJ0aWVzKVxuICAgICAgbmV3U2NoZW1hLnByb3BlcnRpZXNbcHJvcGVydHldID0gbWVyZ2VPYmplY3RJbnRlcnNlY3Rpb24oXG4gICAgICAgIHR5cGUucHJvcGVydGllc1twcm9wZXJ0eV1cbiAgICAgICk7XG4gIH1cbiAgcmV0dXJuIG5ld1NjaGVtYTtcbn07XG52YXIgaGFuZGxlUmVjb3JkID0gKHNjaGVtYSwgcHJvcGVydHksIGluc3RydWN0aW9uKSA9PiB7XG4gIGNvbnN0IGNoaWxkID0gc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzW1wiXiguKikkXCJdID8/IHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1tPYmplY3Qua2V5cyhzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpWzBdXTtcbiAgaWYgKCFjaGlsZCkgcmV0dXJuIHByb3BlcnR5O1xuICBjb25zdCBpID0gaW5zdHJ1Y3Rpb24uYXJyYXk7XG4gIGluc3RydWN0aW9uLmFycmF5Kys7XG4gIGxldCB2ID0gYCgoKT0+e2NvbnN0IGFyJHtpfXM9T2JqZWN0LmtleXMoJHtwcm9wZXJ0eX0pLGFyJHtpfXY9e307Zm9yKGxldCBpPTA7aTxhciR7aX1zLmxlbmd0aDtpKyspe2NvbnN0IGFyJHtpfXA9JHtwcm9wZXJ0eX1bYXIke2l9c1tpXV07YXIke2l9dlthciR7aX1zW2ldXT0ke21pcnJvcihjaGlsZCwgYGFyJHtpfXBgLCBpbnN0cnVjdGlvbil9YDtcbiAgY29uc3Qgb3B0aW9uYWxzID0gaW5zdHJ1Y3Rpb24ub3B0aW9uYWxzSW5BcnJheVtpICsgMV07XG4gIGlmIChvcHRpb25hbHMpXG4gICAgZm9yIChsZXQgb2kgPSAwOyBvaSA8IG9wdGlvbmFscy5sZW5ndGg7IG9pKyspIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGBhciR7aX12W2FyJHtpfXNbaV1dLiR7b3B0aW9uYWxzW29pXX1gO1xuICAgICAgdiArPSBgO2lmKCR7dGFyZ2V0fT09PXVuZGVmaW5lZClkZWxldGUgJHt0YXJnZXR9YDtcbiAgICB9XG4gIHYgKz0gYH1yZXR1cm4gYXIke2l9dn0pKClgO1xuICByZXR1cm4gdjtcbn07XG52YXIgaGFuZGxlVHVwbGUgPSAoc2NoZW1hLCBwcm9wZXJ0eSwgaW5zdHJ1Y3Rpb24pID0+IHtcbiAgY29uc3QgaSA9IGluc3RydWN0aW9uLmFycmF5O1xuICBpbnN0cnVjdGlvbi5hcnJheSsrO1xuICBjb25zdCBpc1Jvb3QgPSBwcm9wZXJ0eSA9PT0gXCJ2XCIgJiYgIWluc3RydWN0aW9uLnVuaW9ucy5sZW5ndGg7XG4gIGxldCB2ID0gXCJcIjtcbiAgaWYgKCFpc1Jvb3QpIHYgPSBgKCgpPT57YDtcbiAgdiArPSBgY29uc3QgYXIke2l9dj1bYDtcbiAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IHNjaGVtYS5sZW5ndGg7IGkyKyspIHtcbiAgICBpZiAoaTIgIT09IDApIHYgKz0gXCIsXCI7XG4gICAgdiArPSBtaXJyb3IoXG4gICAgICBzY2hlbWFbaTJdLFxuICAgICAgam9pblByb3BlcnR5KHByb3BlcnR5LCBpMiwgaW5zdHJ1Y3Rpb24ucGFyZW50SXNPcHRpb25hbCksXG4gICAgICBpbnN0cnVjdGlvblxuICAgICk7XG4gIH1cbiAgdiArPSBgXTtgO1xuICBpZiAoIWlzUm9vdCkgdiArPSBgcmV0dXJuIGFyJHtpfXZ9KSgpYDtcbiAgcmV0dXJuIHY7XG59O1xuZnVuY3Rpb24gZGVlcENsb25lKHNvdXJjZSwgd2VhayA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpKSB7XG4gIGlmIChzb3VyY2UgPT09IG51bGwgfHwgdHlwZW9mIHNvdXJjZSAhPT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygc291cmNlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgaWYgKHdlYWsuaGFzKHNvdXJjZSkpIHJldHVybiB3ZWFrLmdldChzb3VyY2UpO1xuICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgY29uc3QgY29weSA9IG5ldyBBcnJheShzb3VyY2UubGVuZ3RoKTtcbiAgICB3ZWFrLnNldChzb3VyY2UsIGNvcHkpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKVxuICAgICAgY29weVtpXSA9IGRlZXBDbG9uZShzb3VyY2VbaV0sIHdlYWspO1xuICAgIHJldHVybiBjb3B5O1xuICB9XG4gIGlmICh0eXBlb2Ygc291cmNlID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSkuY29uY2F0KFxuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpXG4gICAgKTtcbiAgICBjb25zdCBjbG9uZWQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKVxuICAgICAgY2xvbmVkW2tleV0gPSBkZWVwQ2xvbmUoc291cmNlW2tleV0sIHdlYWspO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cbiAgcmV0dXJuIHNvdXJjZTtcbn1cbnZhciBoYW5kbGVVbmlvbiA9IChzY2hlbWFzLCBwcm9wZXJ0eSwgaW5zdHJ1Y3Rpb24pID0+IHtcbiAgaWYgKGluc3RydWN0aW9uLlR5cGVDb21waWxlciA9PT0gdm9pZCAwKSB7XG4gICAgaWYgKCFpbnN0cnVjdGlvbi50eXBlQ29tcGlsZXJXYW5yZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgIFwiW2V4YWN0LW1pcnJvcl0gVHlwZUJveCdzIFR5cGVDb21waWxlciBpcyByZXF1aXJlZCB0byB1c2UgVW5pb25cIlxuICAgICAgICApXG4gICAgICApO1xuICAgICAgaW5zdHJ1Y3Rpb24udHlwZUNvbXBpbGVyV2FucmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3BlcnR5O1xuICB9XG4gIGluc3RydWN0aW9uLnVuaW9uS2V5c1twcm9wZXJ0eV0gPSAxO1xuICBjb25zdCB1aSA9IGluc3RydWN0aW9uLnVuaW9ucy5sZW5ndGg7XG4gIGNvbnN0IHR5cGVDaGVja3MgPSBpbnN0cnVjdGlvbi51bmlvbnNbdWldID0gW107XG4gIGxldCB2ID0gYCgoKT0+e1xuYDtcbiAgY29uc3QgdW53cmFwUmVmID0gKHR5cGUpID0+IHtcbiAgICBpZiAoIShLaW5kIGluIHR5cGUpIHx8ICF0eXBlLiRyZWYpIHJldHVybiB0eXBlO1xuICAgIGlmICh0eXBlW0tpbmRdID09PSBcIlRoaXNcIikge1xuICAgICAgcmV0dXJuIGRlZXBDbG9uZShpbnN0cnVjdGlvbi5kZWZpbml0aW9uc1t0eXBlLiRyZWZdKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVbS2luZF0gPT09IFwiUmVmXCIpIHtcbiAgICAgIGlmICghaW5zdHJ1Y3Rpb24ubW9kdWxlcylcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIG5ldyBFcnJvcihcbiAgICAgICAgICAgIFwiW2V4YWN0LW1pcnJvcl0gbW9kdWxlcyBpcyByZXF1aXJlZCB3aGVuIHVzaW5nIG5lc3RlZCBjeWNsaWMgcmVmZXJlbmNlXCJcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBpbnN0cnVjdGlvbi5tb2R1bGVzLkltcG9ydChcbiAgICAgICAgICB0eXBlLiRyZWZcbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGU7XG4gIH07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2NoZW1hcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCB0eXBlID0gdW53cmFwUmVmKHNjaGVtYXNbaV0pO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHR5cGUuYW55T2YpKVxuICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IHR5cGUuYW55T2YubGVuZ3RoOyBpMisrKVxuICAgICAgICB0eXBlLmFueU9mW2kyXSA9IHVud3JhcFJlZih0eXBlLmFueU9mW2kyXSk7XG4gICAgZWxzZSBpZiAodHlwZS5pdGVtcykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodHlwZS5pdGVtcykpXG4gICAgICAgIGZvciAobGV0IGkyID0gMDsgaTIgPCB0eXBlLml0ZW1zLmxlbmd0aDsgaTIrKylcbiAgICAgICAgICB0eXBlLml0ZW1zW2kyXSA9IHVud3JhcFJlZih0eXBlLml0ZW1zW2kyXSk7XG4gICAgICBlbHNlIHR5cGUuaXRlbXMgPSB1bndyYXBSZWYodHlwZS5pdGVtcyk7XG4gICAgfVxuICAgIHR5cGVDaGVja3MucHVzaChUeXBlQ29tcGlsZXIuQ29tcGlsZSh0eXBlKSk7XG4gICAgdiArPSBgaWYoZC51bmlvbnNbJHt1aX1dWyR7aX1dLkNoZWNrKCR7cHJvcGVydHl9KSl7cmV0dXJuICR7bWlycm9yKFxuICAgICAgdHlwZSxcbiAgICAgIHByb3BlcnR5LFxuICAgICAge1xuICAgICAgICAuLi5pbnN0cnVjdGlvbixcbiAgICAgICAgcmVjdXJzaW9uOiBpbnN0cnVjdGlvbi5yZWN1cnNpb24gKyAxLFxuICAgICAgICBwYXJlbnRJc09wdGlvbmFsOiB0cnVlXG4gICAgICB9XG4gICAgKX19XG5gO1xuICB9XG4gIHYgKz0gYHJldHVybiAke2luc3RydWN0aW9uLnJlbW92ZVVua25vd25VbmlvblR5cGUgPyBcInVuZGVmaW5lZFwiIDogcHJvcGVydHl9fSkoKWA7XG4gIHJldHVybiB2O1xufTtcbnZhciBtaXJyb3IgPSAoc2NoZW1hLCBwcm9wZXJ0eSwgaW5zdHJ1Y3Rpb24pID0+IHtcbiAgaWYgKCFzY2hlbWEpIHJldHVybiBcIlwiO1xuICBjb25zdCBpc1Jvb3QgPSBwcm9wZXJ0eSA9PT0gXCJ2XCIgJiYgIWluc3RydWN0aW9uLnVuaW9ucy5sZW5ndGg7XG4gIGlmIChLaW5kIGluIHNjaGVtYSAmJiBzY2hlbWFbS2luZF0gPT09IFwiSW1wb3J0XCIgJiYgc2NoZW1hLiRyZWYgaW4gc2NoZW1hLiRkZWZzKVxuICAgIHJldHVybiBtaXJyb3Ioc2NoZW1hLiRkZWZzW3NjaGVtYS4kcmVmXSwgcHJvcGVydHksIHtcbiAgICAgIC4uLmluc3RydWN0aW9uLFxuICAgICAgZGVmaW5pdGlvbnM6IE9iamVjdC5hc3NpZ24oaW5zdHJ1Y3Rpb24uZGVmaW5pdGlvbnMsIHNjaGVtYS4kZGVmcylcbiAgICB9KTtcbiAgaWYgKGlzUm9vdCAmJiBzY2hlbWEudHlwZSAhPT0gXCJvYmplY3RcIiAmJiBzY2hlbWEudHlwZSAhPT0gXCJhcnJheVwiICYmICFzY2hlbWEuYW55T2YpXG4gICAgcmV0dXJuIGByZXR1cm4gJHtzYW5pdGl6ZShcInZcIiwgaW5zdHJ1Y3Rpb24uc2FuaXRpemU/Lmxlbmd0aCwgc2NoZW1hKX1gO1xuICBpZiAoaW5zdHJ1Y3Rpb24ucmVjdXJzaW9uID49IGluc3RydWN0aW9uLnJlY3Vyc2lvbkxpbWl0KSByZXR1cm4gcHJvcGVydHk7XG4gIGxldCB2ID0gXCJcIjtcbiAgaWYgKHNjaGVtYS4kaWQgJiYgSGludCBpbiBzY2hlbWEpXG4gICAgaW5zdHJ1Y3Rpb24uZGVmaW5pdGlvbnNbc2NoZW1hLiRpZF0gPSBzY2hlbWE7XG4gIHN3aXRjaCAoc2NoZW1hLnR5cGUpIHtcbiAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICBpZiAoc2NoZW1hW0tpbmRdID09PSBcIlJlY29yZFwiKSB7XG4gICAgICAgIHYgPSBoYW5kbGVSZWNvcmQoc2NoZW1hLCBwcm9wZXJ0eSwgaW5zdHJ1Y3Rpb24pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHNjaGVtYSA9IG1lcmdlT2JqZWN0SW50ZXJzZWN0aW9uKHNjaGVtYSk7XG4gICAgICB2ICs9IFwie1wiO1xuICAgICAgaWYgKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcykgdiArPSBgLi4uJHtwcm9wZXJ0eX0sYDtcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzY2hlbWEucHJvcGVydGllcyk7XG4gICAgICBmb3IgKGxldCBpMiA9IDA7IGkyIDwga2V5cy5sZW5ndGg7IGkyKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpMl07XG4gICAgICAgIGxldCBpc09wdGlvbmFsID0gKFxuICAgICAgICAgIC8vIGFsbCBmaWVsZHMgYXJlIG9wdGlvbmFsXG4gICAgICAgICAgIXNjaGVtYS5yZXF1aXJlZCB8fCAvLyBmaWVsZCBpcyBleHBsaWNpdGx5IHJlcXVpcmVkXG4gICAgICAgICAgc2NoZW1hLnJlcXVpcmVkICYmICFzY2hlbWEucmVxdWlyZWQuaW5jbHVkZXMoa2V5KSB8fCBBcnJheS5pc0FycmF5KHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0uYW55T2YpXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBqb2luUHJvcGVydHkoXG4gICAgICAgICAgcHJvcGVydHksXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIGluc3RydWN0aW9uLnBhcmVudElzT3B0aW9uYWxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGlzT3B0aW9uYWwpIHtcbiAgICAgICAgICBjb25zdCBpbmRleCA9IGluc3RydWN0aW9uLmFycmF5O1xuICAgICAgICAgIGlmIChwcm9wZXJ0eS5zdGFydHNXaXRoKFwiYXJcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZk5hbWUgPSBuYW1lLnNsaWNlKG5hbWUuaW5kZXhPZihcIi5cIikgKyAxKTtcbiAgICAgICAgICAgIGNvbnN0IGFycmF5ID0gaW5zdHJ1Y3Rpb24ub3B0aW9uYWxzSW5BcnJheTtcbiAgICAgICAgICAgIGlmIChhcnJheVtpbmRleF0pIGFycmF5W2luZGV4XS5wdXNoKHJlZk5hbWUpO1xuICAgICAgICAgICAgZWxzZSBhcnJheVtpbmRleF0gPSBbcmVmTmFtZV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9uLm9wdGlvbmFscy5wdXNoKG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGlsZCA9IHNjaGVtYS5wcm9wZXJ0aWVzW2tleV07XG4gICAgICAgIGlmIChpMiAhPT0gMCkgdiArPSBcIixcIjtcbiAgICAgICAgdiArPSBgJHtlbmNvZGVQcm9wZXJ0eShrZXkpfToke2lzT3B0aW9uYWwgPyBgJHtuYW1lfT09PXVuZGVmaW5lZD91bmRlZmluZWQ6YCA6IFwiXCJ9JHttaXJyb3IoXG4gICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICAuLi5pbnN0cnVjdGlvbixcbiAgICAgICAgICAgIHJlY3Vyc2lvbjogaW5zdHJ1Y3Rpb24ucmVjdXJzaW9uICsgMSxcbiAgICAgICAgICAgIHBhcmVudElzT3B0aW9uYWw6IGlzT3B0aW9uYWxcbiAgICAgICAgICB9XG4gICAgICAgICl9YDtcbiAgICAgIH1cbiAgICAgIHYgKz0gXCJ9XCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYXJyYXlcIjpcbiAgICAgIGlmIChzY2hlbWEuaXRlbXMudHlwZSAhPT0gXCJvYmplY3RcIiAmJiBzY2hlbWEuaXRlbXMudHlwZSAhPT0gXCJhcnJheVwiKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5pdGVtcykpIHtcbiAgICAgICAgICB2ID0gaGFuZGxlVHVwbGUoc2NoZW1hLml0ZW1zLCBwcm9wZXJ0eSwgaW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2UgaWYgKGlzUm9vdCkgcmV0dXJuIFwicmV0dXJuIHZcIjtcbiAgICAgICAgZWxzZSBpZiAoS2luZCBpbiBzY2hlbWEuaXRlbXMgJiYgc2NoZW1hLml0ZW1zLiRyZWYgJiYgKHNjaGVtYS5pdGVtc1tLaW5kXSA9PT0gXCJSZWZcIiB8fCBzY2hlbWEuaXRlbXNbS2luZF0gPT09IFwiVGhpc1wiKSlcbiAgICAgICAgICB2ID0gbWlycm9yKFxuICAgICAgICAgICAgZGVlcENsb25lKGluc3RydWN0aW9uLmRlZmluaXRpb25zW3NjaGVtYS5pdGVtcy4kcmVmXSksXG4gICAgICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLi4uaW5zdHJ1Y3Rpb24sXG4gICAgICAgICAgICAgIHBhcmVudElzT3B0aW9uYWw6IHRydWUsXG4gICAgICAgICAgICAgIHJlY3Vyc2lvbjogaW5zdHJ1Y3Rpb24ucmVjdXJzaW9uICsgMVxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHYgPSBwcm9wZXJ0eTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgaSA9IGluc3RydWN0aW9uLmFycmF5O1xuICAgICAgaW5zdHJ1Y3Rpb24uYXJyYXkrKztcbiAgICAgIGxldCByZWZlcmVuY2UgPSBwcm9wZXJ0eTtcbiAgICAgIGlmIChpc1Jvb3QpIHYgPSBgY29uc3QgYXIke2l9dj1uZXcgQXJyYXkoJHtwcm9wZXJ0eX0ubGVuZ3RoKTtgO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHJlZmVyZW5jZSA9IGBhciR7aX1zYDtcbiAgICAgICAgdiA9IGAoKCR7cmVmZXJlbmNlfSk9Pntjb25zdCBhciR7aX12PW5ldyBBcnJheSgke3JlZmVyZW5jZX0ubGVuZ3RoKTtgO1xuICAgICAgfVxuICAgICAgdiArPSBgZm9yKGxldCBpPTA7aTwke3JlZmVyZW5jZX0ubGVuZ3RoO2krKyl7Y29uc3QgYXIke2l9cD0ke3JlZmVyZW5jZX1baV07YXIke2l9dltpXT0ke21pcnJvcihzY2hlbWEuaXRlbXMsIGBhciR7aX1wYCwgaW5zdHJ1Y3Rpb24pfWA7XG4gICAgICBjb25zdCBvcHRpb25hbHMgPSBpbnN0cnVjdGlvbi5vcHRpb25hbHNJbkFycmF5W2kgKyAxXTtcbiAgICAgIGlmIChvcHRpb25hbHMpIHtcbiAgICAgICAgZm9yIChsZXQgb2kgPSAwOyBvaSA8IG9wdGlvbmFscy5sZW5ndGg7IG9pKyspIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBgYXIke2l9dltpXS4ke29wdGlvbmFsc1tvaV19YDtcbiAgICAgICAgICB2ICs9IGA7aWYoJHt0YXJnZXR9PT09dW5kZWZpbmVkKWRlbGV0ZSAke3RhcmdldH1gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2ICs9IGB9YDtcbiAgICAgIGlmICghaXNSb290KSB2ICs9IGByZXR1cm4gYXIke2l9dn0pKCR7cHJvcGVydHl9KWA7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKHNjaGVtYS4kcmVmICYmIHNjaGVtYS4kcmVmIGluIGluc3RydWN0aW9uLmRlZmluaXRpb25zKVxuICAgICAgICByZXR1cm4gbWlycm9yKFxuICAgICAgICAgIGluc3RydWN0aW9uLmRlZmluaXRpb25zW3NjaGVtYS4kcmVmXSxcbiAgICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgICBpbnN0cnVjdGlvblxuICAgICAgICApO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLmFueU9mKSkge1xuICAgICAgICB2ID0gaGFuZGxlVW5pb24oc2NoZW1hLmFueU9mLCBwcm9wZXJ0eSwgaW5zdHJ1Y3Rpb24pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHYgPSBzYW5pdGl6ZShwcm9wZXJ0eSwgaW5zdHJ1Y3Rpb24uc2FuaXRpemU/Lmxlbmd0aCwgc2NoZW1hKTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIGlmICghaXNSb290KSByZXR1cm4gdjtcbiAgaWYgKHNjaGVtYS50eXBlID09PSBcImFycmF5XCIpIHtcbiAgICB2ID0gYCR7dn1jb25zdCB4PWFyMHY7YDtcbiAgfSBlbHNlIHtcbiAgICB2ID0gYGNvbnN0IHg9JHt2fVxuYDtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGluc3RydWN0aW9uLm9wdGlvbmFscy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGtleSA9IGluc3RydWN0aW9uLm9wdGlvbmFsc1tpXTtcbiAgICBjb25zdCBwcm9wID0ga2V5LnNsaWNlKDEpO1xuICAgIHYgKz0gYGlmKCR7a2V5fT09PXVuZGVmaW5lZGA7XG4gICAgaWYgKGluc3RydWN0aW9uLnVuaW9uS2V5c1trZXldKSB2ICs9IGB8fHgke3Byb3B9PT09dW5kZWZpbmVkYDtcbiAgICBjb25zdCBzaG91bGRRdWVzdGlvbiA9IHByb3AuY2hhckNvZGVBdCgwKSAhPT0gNjMgJiYgc2NoZW1hLnR5cGUgIT09IFwiYXJyYXlcIjtcbiAgICB2ICs9IGApZGVsZXRlIHgke3Nob3VsZFF1ZXN0aW9uID8gcHJvcC5jaGFyQ29kZUF0KDApID09PSA5MSA/IFwiPy5cIiA6IFwiP1wiIDogXCJcIn0ke3Byb3B9XG5gO1xuICB9XG4gIHJldHVybiBgJHt2fXJldHVybiB4YDtcbn07XG52YXIgY3JlYXRlTWlycm9yID0gKHNjaGVtYSwge1xuICBUeXBlQ29tcGlsZXI6IFR5cGVDb21waWxlcjIsXG4gIG1vZHVsZXMsXG4gIGRlZmluaXRpb25zLFxuICBzYW5pdGl6ZTogc2FuaXRpemUyLFxuICByZWN1cnNpb25MaW1pdCA9IDgsXG4gIHJlbW92ZVVua25vd25VbmlvblR5cGUgPSBmYWxzZVxufSA9IHt9KSA9PiB7XG4gIGNvbnN0IHVuaW9ucyA9IFtdO1xuICBpZiAodHlwZW9mIHNhbml0aXplMiA9PT0gXCJmdW5jdGlvblwiKSBzYW5pdGl6ZTIgPSBbc2FuaXRpemUyXTtcbiAgY29uc3QgZiA9IG1pcnJvcihzY2hlbWEsIFwidlwiLCB7XG4gICAgb3B0aW9uYWxzOiBbXSxcbiAgICBvcHRpb25hbHNJbkFycmF5OiBbXSxcbiAgICBhcnJheTogMCxcbiAgICBwYXJlbnRJc09wdGlvbmFsOiBmYWxzZSxcbiAgICB1bmlvbnMsXG4gICAgdW5pb25LZXlzOiB7fSxcbiAgICBUeXBlQ29tcGlsZXI6IFR5cGVDb21waWxlcjIsXG4gICAgbW9kdWxlcyxcbiAgICAvLyBAdHMtaWdub3JlIHByaXZhdGUgcHJvcGVydHlcbiAgICBkZWZpbml0aW9uczogZGVmaW5pdGlvbnMgPz8gbW9kdWxlcz8uJGRlZnMgPz8ge30sXG4gICAgc2FuaXRpemU6IHNhbml0aXplMixcbiAgICByZWN1cnNpb246IDAsXG4gICAgcmVjdXJzaW9uTGltaXQsXG4gICAgcmVtb3ZlVW5rbm93blVuaW9uVHlwZVxuICB9KTtcbiAgaWYgKCF1bmlvbnMubGVuZ3RoICYmICFzYW5pdGl6ZTI/Lmxlbmd0aCkgcmV0dXJuIEZ1bmN0aW9uKFwidlwiLCBmKTtcbiAgbGV0IGhvZjtcbiAgaWYgKHNhbml0aXplMj8ubGVuZ3RoKSB7XG4gICAgaG9mID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYW5pdGl6ZTIubGVuZ3RoOyBpKyspIGhvZltgaCR7aX1gXSA9IHNhbml0aXplMltpXTtcbiAgfVxuICByZXR1cm4gRnVuY3Rpb24oXG4gICAgXCJkXCIsXG4gICAgYHJldHVybiBmdW5jdGlvbiBtaXJyb3Iodil7JHtmfX1gXG4gICkoe1xuICAgIHVuaW9ucyxcbiAgICAuLi5ob2ZcbiAgfSk7XG59O1xudmFyIGluZGV4X2RlZmF1bHQgPSBjcmVhdGVNaXJyb3I7XG5leHBvcnQge1xuICBjcmVhdGVNaXJyb3IsXG4gIGRlZXBDbG9uZSxcbiAgaW5kZXhfZGVmYXVsdCBhcyBkZWZhdWx0LFxuICBtZXJnZU9iamVjdEludGVyc2VjdGlvblxufTtcbiIsCiAgICAiaW1wb3J0IHtcbiAgS2luZCxcbiAgT3B0aW9uYWxLaW5kLFxuICBUcmFuc2Zvcm1LaW5kXG59IGZyb20gXCJAc2luY2xhaXIvdHlwZWJveFwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiQHNpbmNsYWlyL3R5cGVib3gvdmFsdWVcIjtcbmltcG9ydCB7IFR5cGVDb21waWxlciB9IGZyb20gXCJAc2luY2xhaXIvdHlwZWJveC9jb21waWxlclwiO1xuaW1wb3J0IHtcbiAgY3JlYXRlTWlycm9yXG59IGZyb20gXCJleGFjdC1taXJyb3JcIjtcbmltcG9ydCB7IHQgfSBmcm9tIFwiLi90eXBlLXN5c3RlbS9pbmRleC5tanNcIjtcbmltcG9ydCB7IG1lcmdlQ29va2llLCBtZXJnZURlZXAsIHJhbmRvbUlkIH0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5pbXBvcnQgeyBtYXBWYWx1ZUVycm9yIH0gZnJvbSBcIi4vZXJyb3IubWpzXCI7XG5jb25zdCBpc09wdGlvbmFsID0gKHNjaGVtYSkgPT4gc2NoZW1hID8gc2NoZW1hPy5bS2luZF0gPT09IFwiSW1wb3J0XCIgJiYgc2NoZW1hLlJlZmVyZW5jZXMgPyBzY2hlbWEuUmVmZXJlbmNlcygpLnNvbWUoaXNPcHRpb25hbCkgOiAoc2NoZW1hLnNjaGVtYSAmJiAoc2NoZW1hID0gc2NoZW1hLnNjaGVtYSksICEhc2NoZW1hICYmIE9wdGlvbmFsS2luZCBpbiBzY2hlbWEpIDogITEsIGhhc0FkZGl0aW9uYWxQcm9wZXJ0aWVzID0gKF9zY2hlbWEpID0+IHtcbiAgaWYgKCFfc2NoZW1hKSByZXR1cm4gITE7XG4gIGNvbnN0IHNjaGVtYSA9IF9zY2hlbWE/LnNjaGVtYSA/PyBfc2NoZW1hO1xuICBpZiAoc2NoZW1hW0tpbmRdID09PSBcIkltcG9ydFwiICYmIF9zY2hlbWEuUmVmZXJlbmNlcylcbiAgICByZXR1cm4gX3NjaGVtYS5SZWZlcmVuY2VzKCkuc29tZShoYXNBZGRpdGlvbmFsUHJvcGVydGllcyk7XG4gIGlmIChzY2hlbWEuYW55T2YpIHJldHVybiBzY2hlbWEuYW55T2Yuc29tZShoYXNBZGRpdGlvbmFsUHJvcGVydGllcyk7XG4gIGlmIChzY2hlbWEuc29tZU9mKSByZXR1cm4gc2NoZW1hLnNvbWVPZi5zb21lKGhhc0FkZGl0aW9uYWxQcm9wZXJ0aWVzKTtcbiAgaWYgKHNjaGVtYS5hbGxPZikgcmV0dXJuIHNjaGVtYS5hbGxPZi5zb21lKGhhc0FkZGl0aW9uYWxQcm9wZXJ0aWVzKTtcbiAgaWYgKHNjaGVtYS5ub3QpIHJldHVybiBzY2hlbWEubm90LnNvbWUoaGFzQWRkaXRpb25hbFByb3BlcnRpZXMpO1xuICBpZiAoc2NoZW1hLnR5cGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gc2NoZW1hLnByb3BlcnRpZXM7XG4gICAgaWYgKFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIiBpbiBzY2hlbWEpIHJldHVybiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXM7XG4gICAgaWYgKFwicGF0dGVyblByb3BlcnRpZXNcIiBpbiBzY2hlbWEpIHJldHVybiAhMTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSkge1xuICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2tleV07XG4gICAgICBpZiAocHJvcGVydHkudHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBpZiAoaGFzQWRkaXRpb25hbFByb3BlcnRpZXMocHJvcGVydHkpKSByZXR1cm4gITA7XG4gICAgICB9IGVsc2UgaWYgKHByb3BlcnR5LmFueU9mKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcGVydHkuYW55T2YubGVuZ3RoOyBpKyspXG4gICAgICAgICAgaWYgKGhhc0FkZGl0aW9uYWxQcm9wZXJ0aWVzKHByb3BlcnR5LmFueU9mW2ldKSkgcmV0dXJuICEwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3BlcnR5LmFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgIH1cbiAgICByZXR1cm4gITE7XG4gIH1cbiAgcmV0dXJuIHNjaGVtYS50eXBlID09PSBcImFycmF5XCIgJiYgc2NoZW1hLml0ZW1zICYmICFBcnJheS5pc0FycmF5KHNjaGVtYS5pdGVtcykgPyBoYXNBZGRpdGlvbmFsUHJvcGVydGllcyhzY2hlbWEuaXRlbXMpIDogITE7XG59LCBoYXNUeXBlID0gKHR5cGUsIHNjaGVtYSkgPT4ge1xuICBpZiAoIXNjaGVtYSkgcmV0dXJuICExO1xuICBpZiAoS2luZCBpbiBzY2hlbWEgJiYgc2NoZW1hW0tpbmRdID09PSB0eXBlKSByZXR1cm4gITA7XG4gIGlmIChzY2hlbWEudHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBzY2hlbWEucHJvcGVydGllcztcbiAgICBpZiAoIXByb3BlcnRpZXMpIHJldHVybiAhMTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSkge1xuICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2tleV07XG4gICAgICBpZiAocHJvcGVydHkudHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBpZiAoaGFzVHlwZSh0eXBlLCBwcm9wZXJ0eSkpIHJldHVybiAhMDtcbiAgICAgIH0gZWxzZSBpZiAocHJvcGVydHkuYW55T2YpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wZXJ0eS5hbnlPZi5sZW5ndGg7IGkrKylcbiAgICAgICAgICBpZiAoaGFzVHlwZSh0eXBlLCBwcm9wZXJ0eS5hbnlPZltpXSkpIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICAgIGlmIChLaW5kIGluIHByb3BlcnR5ICYmIHByb3BlcnR5W0tpbmRdID09PSB0eXBlKSByZXR1cm4gITA7XG4gICAgfVxuICAgIHJldHVybiAhMTtcbiAgfVxuICByZXR1cm4gISFzY2hlbWEucHJvcGVydGllcyAmJiBLaW5kIGluIHNjaGVtYS5wcm9wZXJ0aWVzICYmIHNjaGVtYS5wcm9wZXJ0aWVzW0tpbmRdID09PSB0eXBlO1xufSwgaGFzRWx5c2lhTWV0YSA9IChtZXRhLCBfc2NoZW1hKSA9PiB7XG4gIGlmICghX3NjaGVtYSkgcmV0dXJuICExO1xuICBjb25zdCBzY2hlbWEgPSBfc2NoZW1hPy5zY2hlbWEgPz8gX3NjaGVtYTtcbiAgaWYgKHNjaGVtYS5lbHlzaWFNZXRhID09PSBtZXRhKSByZXR1cm4gITA7XG4gIGlmIChzY2hlbWFbS2luZF0gPT09IFwiSW1wb3J0XCIgJiYgX3NjaGVtYS5SZWZlcmVuY2VzKVxuICAgIHJldHVybiBfc2NoZW1hLlJlZmVyZW5jZXMoKS5zb21lKChzY2hlbWEyKSA9PiBoYXNFbHlzaWFNZXRhKG1ldGEsIHNjaGVtYTIpKTtcbiAgaWYgKHNjaGVtYS5hbnlPZilcbiAgICByZXR1cm4gc2NoZW1hLmFueU9mLnNvbWUoXG4gICAgICAoc2NoZW1hMikgPT4gaGFzRWx5c2lhTWV0YShtZXRhLCBzY2hlbWEyKVxuICAgICk7XG4gIGlmIChzY2hlbWEuc29tZU9mKVxuICAgIHJldHVybiBzY2hlbWEuc29tZU9mLnNvbWUoXG4gICAgICAoc2NoZW1hMikgPT4gaGFzRWx5c2lhTWV0YShtZXRhLCBzY2hlbWEyKVxuICAgICk7XG4gIGlmIChzY2hlbWEuYWxsT2YpXG4gICAgcmV0dXJuIHNjaGVtYS5hbGxPZi5zb21lKFxuICAgICAgKHNjaGVtYTIpID0+IGhhc0VseXNpYU1ldGEobWV0YSwgc2NoZW1hMilcbiAgICApO1xuICBpZiAoc2NoZW1hLm5vdClcbiAgICByZXR1cm4gc2NoZW1hLm5vdC5zb21lKChzY2hlbWEyKSA9PiBoYXNFbHlzaWFNZXRhKG1ldGEsIHNjaGVtYTIpKTtcbiAgaWYgKHNjaGVtYS50eXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IHNjaGVtYS5wcm9wZXJ0aWVzO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHByb3BlcnRpZXMpKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IHByb3BlcnRpZXNba2V5XTtcbiAgICAgIGlmIChwcm9wZXJ0eS50eXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGlmIChoYXNFbHlzaWFNZXRhKG1ldGEsIHByb3BlcnR5KSkgcmV0dXJuICEwO1xuICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eS5hbnlPZikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BlcnR5LmFueU9mLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIGlmIChoYXNFbHlzaWFNZXRhKG1ldGEsIHByb3BlcnR5LmFueU9mW2ldKSkgcmV0dXJuICEwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNjaGVtYS5lbHlzaWFNZXRhID09PSBtZXRhO1xuICAgIH1cbiAgICByZXR1cm4gITE7XG4gIH1cbiAgcmV0dXJuIHNjaGVtYS50eXBlID09PSBcImFycmF5XCIgJiYgc2NoZW1hLml0ZW1zICYmICFBcnJheS5pc0FycmF5KHNjaGVtYS5pdGVtcykgPyBoYXNFbHlzaWFNZXRhKG1ldGEsIHNjaGVtYS5pdGVtcykgOiAhMTtcbn0sIGhhc1Byb3BlcnR5ID0gKGV4cGVjdGVkUHJvcGVydHksIF9zY2hlbWEpID0+IHtcbiAgaWYgKCFfc2NoZW1hKSByZXR1cm47XG4gIGNvbnN0IHNjaGVtYSA9IF9zY2hlbWEuc2NoZW1hID8/IF9zY2hlbWE7XG4gIGlmIChzY2hlbWFbS2luZF0gPT09IFwiSW1wb3J0XCIgJiYgX3NjaGVtYS5SZWZlcmVuY2VzKVxuICAgIHJldHVybiBfc2NoZW1hLlJlZmVyZW5jZXMoKS5zb21lKChzY2hlbWEyKSA9PiBoYXNQcm9wZXJ0eShleHBlY3RlZFByb3BlcnR5LCBzY2hlbWEyKSk7XG4gIGlmIChzY2hlbWEudHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBzY2hlbWEucHJvcGVydGllcztcbiAgICBpZiAoIXByb3BlcnRpZXMpIHJldHVybiAhMTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKSkge1xuICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2tleV07XG4gICAgICBpZiAoZXhwZWN0ZWRQcm9wZXJ0eSBpbiBwcm9wZXJ0eSkgcmV0dXJuICEwO1xuICAgICAgaWYgKHByb3BlcnR5LnR5cGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgaWYgKGhhc1Byb3BlcnR5KGV4cGVjdGVkUHJvcGVydHksIHByb3BlcnR5KSkgcmV0dXJuICEwO1xuICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eS5hbnlPZikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BlcnR5LmFueU9mLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIGlmIChoYXNQcm9wZXJ0eShleHBlY3RlZFByb3BlcnR5LCBwcm9wZXJ0eS5hbnlPZltpXSkpXG4gICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAhMTtcbiAgfVxuICByZXR1cm4gZXhwZWN0ZWRQcm9wZXJ0eSBpbiBzY2hlbWE7XG59LCBoYXNSZWYgPSAoc2NoZW1hKSA9PiB7XG4gIGlmICghc2NoZW1hKSByZXR1cm4gITE7XG4gIGlmIChzY2hlbWEub25lT2YpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYS5vbmVPZi5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChoYXNSZWYoc2NoZW1hLm9uZU9mW2ldKSkgcmV0dXJuICEwO1xuICB9XG4gIGlmIChzY2hlbWEuYW55T2YpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYS5hbnlPZi5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChoYXNSZWYoc2NoZW1hLmFueU9mW2ldKSkgcmV0dXJuICEwO1xuICB9XG4gIGlmIChzY2hlbWEub25lT2YpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYS5vbmVPZi5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChoYXNSZWYoc2NoZW1hLm9uZU9mW2ldKSkgcmV0dXJuICEwO1xuICB9XG4gIGlmIChzY2hlbWEuYWxsT2YpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYS5hbGxPZi5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChoYXNSZWYoc2NoZW1hLmFsbE9mW2ldKSkgcmV0dXJuICEwO1xuICB9XG4gIGlmIChzY2hlbWEubm90ICYmIGhhc1JlZihzY2hlbWEubm90KSkgcmV0dXJuICEwO1xuICBpZiAoc2NoZW1hLnR5cGUgPT09IFwib2JqZWN0XCIgJiYgc2NoZW1hLnByb3BlcnRpZXMpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gc2NoZW1hLnByb3BlcnRpZXM7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMocHJvcGVydGllcykpIHtcbiAgICAgIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydGllc1trZXldO1xuICAgICAgaWYgKGhhc1JlZihwcm9wZXJ0eSkgfHwgcHJvcGVydHkudHlwZSA9PT0gXCJhcnJheVwiICYmIHByb3BlcnR5Lml0ZW1zICYmIGhhc1JlZihwcm9wZXJ0eS5pdGVtcykpXG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNjaGVtYS50eXBlID09PSBcImFycmF5XCIgJiYgc2NoZW1hLml0ZW1zICYmIGhhc1JlZihzY2hlbWEuaXRlbXMpID8gITAgOiBzY2hlbWFbS2luZF0gPT09IFwiUmVmXCIgJiYgXCIkcmVmXCIgaW4gc2NoZW1hO1xufSwgaGFzVHJhbnNmb3JtID0gKHNjaGVtYSkgPT4ge1xuICBpZiAoIXNjaGVtYSkgcmV0dXJuICExO1xuICBpZiAoc2NoZW1hLiRyZWYgJiYgc2NoZW1hLiRkZWZzICYmIHNjaGVtYS4kcmVmIGluIHNjaGVtYS4kZGVmcyAmJiBoYXNUcmFuc2Zvcm0oc2NoZW1hLiRkZWZzW3NjaGVtYS4kcmVmXSkpXG4gICAgcmV0dXJuICEwO1xuICBpZiAoc2NoZW1hLm9uZU9mKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWEub25lT2YubGVuZ3RoOyBpKyspXG4gICAgICBpZiAoaGFzVHJhbnNmb3JtKHNjaGVtYS5vbmVPZltpXSkpIHJldHVybiAhMDtcbiAgfVxuICBpZiAoc2NoZW1hLmFueU9mKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWEuYW55T2YubGVuZ3RoOyBpKyspXG4gICAgICBpZiAoaGFzVHJhbnNmb3JtKHNjaGVtYS5hbnlPZltpXSkpIHJldHVybiAhMDtcbiAgfVxuICBpZiAoc2NoZW1hLmFsbE9mKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWEuYWxsT2YubGVuZ3RoOyBpKyspXG4gICAgICBpZiAoaGFzVHJhbnNmb3JtKHNjaGVtYS5hbGxPZltpXSkpIHJldHVybiAhMDtcbiAgfVxuICBpZiAoc2NoZW1hLm5vdCAmJiBoYXNUcmFuc2Zvcm0oc2NoZW1hLm5vdCkpIHJldHVybiAhMDtcbiAgaWYgKHNjaGVtYS50eXBlID09PSBcIm9iamVjdFwiICYmIHNjaGVtYS5wcm9wZXJ0aWVzKSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IHNjaGVtYS5wcm9wZXJ0aWVzO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHByb3BlcnRpZXMpKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IHByb3BlcnRpZXNba2V5XTtcbiAgICAgIGlmIChoYXNUcmFuc2Zvcm0ocHJvcGVydHkpIHx8IHByb3BlcnR5LnR5cGUgPT09IFwiYXJyYXlcIiAmJiBwcm9wZXJ0eS5pdGVtcyAmJiBoYXNUcmFuc2Zvcm0ocHJvcGVydHkuaXRlbXMpKVxuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICB9XG4gIHJldHVybiBzY2hlbWEudHlwZSA9PT0gXCJhcnJheVwiICYmIHNjaGVtYS5pdGVtcyAmJiBoYXNUcmFuc2Zvcm0oc2NoZW1hLml0ZW1zKSA/ICEwIDogVHJhbnNmb3JtS2luZCBpbiBzY2hlbWE7XG59LCByZXBsYWNlU2NoZW1hVHlwZSA9IChzY2hlbWEsIG9wdGlvbnMsIF9jb25maWcgPSB7fSkgPT4ge1xuICBjb25zdCBjb25maWcgPSBfY29uZmlnO1xuICBpZiAoY29uZmlnLnJvb3QgPSAhMCwgIUFycmF5LmlzQXJyYXkob3B0aW9ucykpXG4gICAgcmV0dXJuIG9wdGlvbnMub3JpZ2luYWwgPSBzY2hlbWEsIF9yZXBsYWNlU2NoZW1hVHlwZShzY2hlbWEsIG9wdGlvbnMsIGNvbmZpZyk7XG4gIGZvciAoY29uc3Qgb3B0aW9uIG9mIG9wdGlvbnMpXG4gICAgb3B0aW9uLm9yaWdpbmFsID0gc2NoZW1hLCBzY2hlbWEgPSBfcmVwbGFjZVNjaGVtYVR5cGUoc2NoZW1hLCBvcHRpb24sIGNvbmZpZyk7XG4gIHJldHVybiBzY2hlbWE7XG59LCBfcmVwbGFjZVNjaGVtYVR5cGUgPSAoc2NoZW1hLCBvcHRpb25zLCBjb25maWcpID0+IHtcbiAgaWYgKCFzY2hlbWEpIHJldHVybiBzY2hlbWE7XG4gIGNvbnN0IHJvb3QgPSBjb25maWcucm9vdDtcbiAgaWYgKG9wdGlvbnMub25seUZpcnN0ICYmIHNjaGVtYS50eXBlID09PSBvcHRpb25zLm9ubHlGaXJzdClcbiAgICByZXR1cm4gb3B0aW9ucy50byhzY2hlbWEpID8/IHNjaGVtYTtcbiAgaWYgKG9wdGlvbnMudW50aWxPYmplY3RGb3VuZCAmJiAhcm9vdCAmJiBzY2hlbWEudHlwZSA9PT0gXCJvYmplY3RcIilcbiAgICByZXR1cm4gc2NoZW1hO1xuICBjb25zdCBmcm9tU3ltYm9sID0gb3B0aW9ucy5mcm9tW0tpbmRdO1xuICBpZiAoc2NoZW1hLm9uZU9mKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWEub25lT2YubGVuZ3RoOyBpKyspXG4gICAgICBzY2hlbWEub25lT2ZbaV0gPSBfcmVwbGFjZVNjaGVtYVR5cGUoXG4gICAgICAgIHNjaGVtYS5vbmVPZltpXSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgY29uZmlnXG4gICAgICApO1xuICAgIHJldHVybiBzY2hlbWE7XG4gIH1cbiAgaWYgKHNjaGVtYS5hbnlPZikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NoZW1hLmFueU9mLmxlbmd0aDsgaSsrKVxuICAgICAgc2NoZW1hLmFueU9mW2ldID0gX3JlcGxhY2VTY2hlbWFUeXBlKFxuICAgICAgICBzY2hlbWEuYW55T2ZbaV0sXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIGNvbmZpZ1xuICAgICAgKTtcbiAgICByZXR1cm4gc2NoZW1hO1xuICB9XG4gIGlmIChzY2hlbWEuYWxsT2YpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYS5hbGxPZi5sZW5ndGg7IGkrKylcbiAgICAgIHNjaGVtYS5hbGxPZltpXSA9IF9yZXBsYWNlU2NoZW1hVHlwZShcbiAgICAgICAgc2NoZW1hLmFsbE9mW2ldLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBjb25maWdcbiAgICAgICk7XG4gICAgcmV0dXJuIHNjaGVtYTtcbiAgfVxuICBpZiAoc2NoZW1hLm5vdCkgcmV0dXJuIF9yZXBsYWNlU2NoZW1hVHlwZShzY2hlbWEubm90LCBvcHRpb25zLCBjb25maWcpO1xuICBjb25zdCBpc1Jvb3QgPSByb290ICYmICEhb3B0aW9ucy5leGNsdWRlUm9vdDtcbiAgaWYgKHNjaGVtYVtLaW5kXSA9PT0gZnJvbVN5bWJvbCkge1xuICAgIGNvbnN0IHsgYW55T2YsIG9uZU9mLCBhbGxPZiwgbm90LCBwcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzMiwgaXRlbXMsIC4uLnJlc3QgfSA9IHNjaGVtYSwgdG8gPSBvcHRpb25zLnRvKHJlc3QpO1xuICAgIGlmICghdG8pIHJldHVybiBzY2hlbWE7XG4gICAgbGV0IHRyYW5zZm9ybTtcbiAgICBjb25zdCBjb21wb3NlUHJvcGVydGllcyA9IChzY2hlbWEyKSA9PiB7XG4gICAgICBjb25zdCB2ID0gX2NvbXBvc2VQcm9wZXJ0aWVzKHNjaGVtYTIpO1xuICAgICAgcmV0dXJuIHYuJGlkICYmIGRlbGV0ZSB2LiRpZCwgdjtcbiAgICB9LCBfY29tcG9zZVByb3BlcnRpZXMgPSAodikgPT4ge1xuICAgICAgaWYgKHByb3BlcnRpZXMyICYmIHYudHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBjb25zdCBuZXdQcm9wZXJ0aWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWUyXSBvZiBPYmplY3QuZW50cmllcyhwcm9wZXJ0aWVzMikpXG4gICAgICAgICAgbmV3UHJvcGVydGllc1trZXldID0gX3JlcGxhY2VTY2hlbWFUeXBlKFxuICAgICAgICAgICAgdmFsdWUyLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICAgICAgICByb290OiAhMVxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICAuLi52LFxuICAgICAgICAgIHByb3BlcnRpZXM6IG5ld1Byb3BlcnRpZXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtcyAmJiB2LnR5cGUgPT09IFwiYXJyYXlcIilcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgIC4uLnYsXG4gICAgICAgICAgaXRlbXM6IF9yZXBsYWNlU2NoZW1hVHlwZShpdGVtcywgb3B0aW9ucywge1xuICAgICAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICAgICAgcm9vdDogITFcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgY29uc3QgdmFsdWUgPSB7XG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIC4uLnZcbiAgICAgIH07XG4gICAgICByZXR1cm4gZGVsZXRlIHZhbHVlLnJlcXVpcmVkLCBwcm9wZXJ0aWVzMiAmJiB2LnR5cGUgPT09IFwic3RyaW5nXCIgJiYgdi5mb3JtYXQgPT09IFwiT2JqZWN0U3RyaW5nXCIgJiYgdi5kZWZhdWx0ID09PSBcInt9XCIgPyAodHJhbnNmb3JtID0gdC5PYmplY3RTdHJpbmcocHJvcGVydGllczIsIHJlc3QpLCB2YWx1ZS5wcm9wZXJ0aWVzID0gcHJvcGVydGllczIpIDogaXRlbXMgJiYgdi50eXBlID09PSBcInN0cmluZ1wiICYmIHYuZm9ybWF0ID09PSBcIkFycmF5U3RyaW5nXCIgJiYgdi5kZWZhdWx0ID09PSBcIltdXCIgJiYgKHRyYW5zZm9ybSA9IHQuQXJyYXlTdHJpbmcoaXRlbXMsIHJlc3QpLCB2YWx1ZS5pdGVtcyA9IGl0ZW1zKSwgdmFsdWU7XG4gICAgfTtcbiAgICBpZiAoaXNSb290KSB7XG4gICAgICBpZiAocHJvcGVydGllczIpIHtcbiAgICAgICAgY29uc3QgbmV3UHJvcGVydGllcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwcm9wZXJ0aWVzMikpXG4gICAgICAgICAgbmV3UHJvcGVydGllc1trZXldID0gX3JlcGxhY2VTY2hlbWFUeXBlKFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAuLi5jb25maWcsXG4gICAgICAgICAgICAgIHJvb3Q6ICExXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgIHByb3BlcnRpZXM6IG5ld1Byb3BlcnRpZXNcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoaXRlbXM/Lm1hcClcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgIGl0ZW1zOiBpdGVtcy5tYXAoXG4gICAgICAgICAgICAodikgPT4gX3JlcGxhY2VTY2hlbWFUeXBlKHYsIG9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICAgICAgICByb290OiAhMVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgIH07XG4gICAgICByZXR1cm4gcmVzdDtcbiAgICB9XG4gICAgaWYgKHRvLmFueU9mKVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0by5hbnlPZi5sZW5ndGg7IGkrKylcbiAgICAgICAgdG8uYW55T2ZbaV0gPSBjb21wb3NlUHJvcGVydGllcyh0by5hbnlPZltpXSk7XG4gICAgZWxzZSBpZiAodG8ub25lT2YpXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvLm9uZU9mLmxlbmd0aDsgaSsrKVxuICAgICAgICB0by5vbmVPZltpXSA9IGNvbXBvc2VQcm9wZXJ0aWVzKHRvLm9uZU9mW2ldKTtcbiAgICBlbHNlIGlmICh0by5hbGxPZilcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG8uYWxsT2YubGVuZ3RoOyBpKyspXG4gICAgICAgIHRvLmFsbE9mW2ldID0gY29tcG9zZVByb3BlcnRpZXModG8uYWxsT2ZbaV0pO1xuICAgIGVsc2UgdG8ubm90ICYmICh0by5ub3QgPSBjb21wb3NlUHJvcGVydGllcyh0by5ub3QpKTtcbiAgICBpZiAodHJhbnNmb3JtICYmICh0b1tUcmFuc2Zvcm1LaW5kXSA9IHRyYW5zZm9ybVtUcmFuc2Zvcm1LaW5kXSksIHRvLmFueU9mIHx8IHRvLm9uZU9mIHx8IHRvLmFsbE9mIHx8IHRvLm5vdCkgcmV0dXJuIHRvO1xuICAgIGlmIChwcm9wZXJ0aWVzMikge1xuICAgICAgY29uc3QgbmV3UHJvcGVydGllcyA9IHt9O1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocHJvcGVydGllczIpKVxuICAgICAgICBuZXdQcm9wZXJ0aWVzW2tleV0gPSBfcmVwbGFjZVNjaGVtYVR5cGUoXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICAuLi5jb25maWcsXG4gICAgICAgICAgICByb290OiAhMVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIC4uLnRvLFxuICAgICAgICBwcm9wZXJ0aWVzOiBuZXdQcm9wZXJ0aWVzXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoaXRlbXM/Lm1hcClcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIC4uLnRvLFxuICAgICAgICBpdGVtczogaXRlbXMubWFwKFxuICAgICAgICAgICh2KSA9PiBfcmVwbGFjZVNjaGVtYVR5cGUodiwgb3B0aW9ucywge1xuICAgICAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICAgICAgcm9vdDogITFcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAuLi5yZXN0LFxuICAgICAgLi4udG9cbiAgICB9O1xuICB9XG4gIGNvbnN0IHByb3BlcnRpZXMgPSBzY2hlbWE/LnByb3BlcnRpZXM7XG4gIGlmIChwcm9wZXJ0aWVzICYmIHJvb3QgJiYgb3B0aW9ucy5yb290T25seSAhPT0gITApXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocHJvcGVydGllcykpXG4gICAgICBzd2l0Y2ggKHZhbHVlW0tpbmRdKSB7XG4gICAgICAgIGNhc2UgZnJvbVN5bWJvbDpcbiAgICAgICAgICBjb25zdCB7IGFueU9mLCBvbmVPZiwgYWxsT2YsIG5vdCwgdHlwZSwgLi4ucmVzdCB9ID0gdmFsdWUsIHRvID0gb3B0aW9ucy50byhyZXN0KTtcbiAgICAgICAgICBpZiAoIXRvKSByZXR1cm4gc2NoZW1hO1xuICAgICAgICAgIGlmICh0by5hbnlPZilcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG8uYW55T2YubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgIHRvLmFueU9mW2ldID0geyAuLi5yZXN0LCAuLi50by5hbnlPZltpXSB9O1xuICAgICAgICAgIGVsc2UgaWYgKHRvLm9uZU9mKVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0by5vbmVPZi5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgdG8ub25lT2ZbaV0gPSB7IC4uLnJlc3QsIC4uLnRvLm9uZU9mW2ldIH07XG4gICAgICAgICAgZWxzZSBpZiAodG8uYWxsT2YpXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvLmFsbE9mLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICB0by5hbGxPZltpXSA9IHsgLi4ucmVzdCwgLi4udG8uYWxsT2ZbaV0gfTtcbiAgICAgICAgICBlbHNlIHRvLm5vdCAmJiAodG8ubm90ID0geyAuLi5yZXN0LCAuLi50by5ub3QgfSk7XG4gICAgICAgICAgcHJvcGVydGllc1trZXldID0ge1xuICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICAgIC4uLl9yZXBsYWNlU2NoZW1hVHlwZShyZXN0LCBvcHRpb25zLCB7XG4gICAgICAgICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgICAgICAgcm9vdDogITFcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIk9iamVjdFwiOlxuICAgICAgICBjYXNlIFwiVW5pb25cIjpcbiAgICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSBfcmVwbGFjZVNjaGVtYVR5cGUodmFsdWUsIG9wdGlvbnMsIHtcbiAgICAgICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgICAgIHJvb3Q6ICExXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUuaXRlbXMpKVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5pdGVtcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgdmFsdWUuaXRlbXNbaV0gPSBfcmVwbGFjZVNjaGVtYVR5cGUoXG4gICAgICAgICAgICAgICAgdmFsdWUuaXRlbXNbaV0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAuLi5jb25maWcsXG4gICAgICAgICAgICAgICAgICByb290OiAhMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICBlbHNlIHZhbHVlLmFueU9mIHx8IHZhbHVlLm9uZU9mIHx8IHZhbHVlLmFsbE9mIHx8IHZhbHVlLm5vdCA/IHByb3BlcnRpZXNba2V5XSA9IF9yZXBsYWNlU2NoZW1hVHlwZSh2YWx1ZSwgb3B0aW9ucywge1xuICAgICAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICAgICAgcm9vdDogITFcbiAgICAgICAgICB9KSA6IHZhbHVlLnR5cGUgPT09IFwiYXJyYXlcIiAmJiAodmFsdWUuaXRlbXMgPSBfcmVwbGFjZVNjaGVtYVR5cGUodmFsdWUuaXRlbXMsIG9wdGlvbnMsIHtcbiAgICAgICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgICAgIHJvb3Q6ICExXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICByZXR1cm4gc2NoZW1hLnR5cGUgPT09IFwiYXJyYXlcIiAmJiBzY2hlbWEuaXRlbXMgJiYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLml0ZW1zKSA/IHNjaGVtYS5pdGVtcyA9IHNjaGVtYS5pdGVtcy5tYXAoXG4gICAgKGl0ZW0pID0+IF9yZXBsYWNlU2NoZW1hVHlwZShpdGVtLCBvcHRpb25zLCB7XG4gICAgICAuLi5jb25maWcsXG4gICAgICByb290OiAhMVxuICAgIH0pXG4gICkgOiBzY2hlbWEuaXRlbXMgPSBfcmVwbGFjZVNjaGVtYVR5cGUoc2NoZW1hLml0ZW1zLCBvcHRpb25zLCB7XG4gICAgLi4uY29uZmlnLFxuICAgIHJvb3Q6ICExXG4gIH0pKSwgc2NoZW1hO1xufSwgY3JlYXRlQ2xlYW5lciA9IChzY2hlbWEpID0+ICh2YWx1ZSkgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBWYWx1ZS5DbGVhbihzY2hlbWEsIHZhbHVlKTtcbiAgICB9IGNhdGNoIHtcbiAgICB9XG4gIHJldHVybiB2YWx1ZTtcbn0sIGdldFNjaGVtYVZhbGlkYXRvciA9IChzLCB7XG4gIG1vZGVscyA9IHt9LFxuICBkeW5hbWljID0gITEsXG4gIG1vZHVsZXMsXG4gIG5vcm1hbGl6ZSA9ICExLFxuICBhZGRpdGlvbmFsUHJvcGVydGllcyA9ICExLFxuICBmb3JjZUFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gITEsXG4gIGNvZXJjZSA9ICExLFxuICBhZGRpdGlvbmFsQ29lcmNlID0gW10sXG4gIHZhbGlkYXRvcnMsXG4gIHNhbml0aXplXG59ID0ge30pID0+IHtcbiAgaWYgKHZhbGlkYXRvcnMgPSB2YWxpZGF0b3JzPy5maWx0ZXIoKHgpID0+IHgpLCAhcykge1xuICAgIGlmICghdmFsaWRhdG9ycz8ubGVuZ3RoKSByZXR1cm47XG4gICAgcyA9IHZhbGlkYXRvcnNbMF0sIHZhbGlkYXRvcnMgPSB2YWxpZGF0b3JzLnNsaWNlKDEpO1xuICB9XG4gIGxldCBkb2VzSGF2ZVJlZjtcbiAgY29uc3QgcmVwbGFjZVNjaGVtYSA9IChzY2hlbWEyKSA9PiBjb2VyY2UgPyByZXBsYWNlU2NoZW1hVHlwZShzY2hlbWEyLCBbXG4gICAge1xuICAgICAgZnJvbTogdC5OdW1iZXIoKSxcbiAgICAgIHRvOiAob3B0aW9ucykgPT4gdC5OdW1lcmljKG9wdGlvbnMpLFxuICAgICAgdW50aWxPYmplY3RGb3VuZDogITBcbiAgICB9LFxuICAgIHtcbiAgICAgIGZyb206IHQuQm9vbGVhbigpLFxuICAgICAgdG86IChvcHRpb25zKSA9PiB0LkJvb2xlYW5TdHJpbmcob3B0aW9ucyksXG4gICAgICB1bnRpbE9iamVjdEZvdW5kOiAhMFxuICAgIH0sXG4gICAgLi4uQXJyYXkuaXNBcnJheShhZGRpdGlvbmFsQ29lcmNlKSA/IGFkZGl0aW9uYWxDb2VyY2UgOiBbYWRkaXRpb25hbENvZXJjZV1cbiAgXSkgOiByZXBsYWNlU2NoZW1hVHlwZShzY2hlbWEyLCBhZGRpdGlvbmFsQ29lcmNlKSwgbWFwU2NoZW1hID0gKHMyKSA9PiB7XG4gICAgaWYgKHMyICYmIHR5cGVvZiBzMiAhPSBcInN0cmluZ1wiICYmIFwifnN0YW5kYXJkXCIgaW4gczIpXG4gICAgICByZXR1cm4gczI7XG4gICAgaWYgKCFzMikgcmV0dXJuO1xuICAgIGxldCBzY2hlbWEyO1xuICAgIGlmICh0eXBlb2YgczIgIT0gXCJzdHJpbmdcIikgc2NoZW1hMiA9IHMyO1xuICAgIGVsc2UgaWYgKHNjaGVtYTIgPSAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGUgcHJvcGVydHlcbiAgICBtb2R1bGVzICYmIHMyIGluIG1vZHVsZXMuJGRlZnMgPyBtb2R1bGVzLkltcG9ydChzMikgOiBtb2RlbHNbczJdLCAhc2NoZW1hMikgcmV0dXJuO1xuICAgIGlmIChLaW5kIGluIHNjaGVtYTIpXG4gICAgICBpZiAoc2NoZW1hMltLaW5kXSA9PT0gXCJJbXBvcnRcIilcbiAgICAgICAgaGFzUmVmKHNjaGVtYTIuJGRlZnNbc2NoZW1hMi4kcmVmXSkgfHwgKHNjaGVtYTIgPSBzY2hlbWEyLiRkZWZzW3NjaGVtYTIuJHJlZl0sIChjb2VyY2UgfHwgYWRkaXRpb25hbENvZXJjZSkgJiYgKHNjaGVtYTIgPSByZXBsYWNlU2NoZW1hKHNjaGVtYTIpKSk7XG4gICAgICBlbHNlIGlmIChoYXNSZWYoc2NoZW1hMikpIHtcbiAgICAgICAgY29uc3QgaWQgPSByYW5kb21JZCgpO1xuICAgICAgICBzY2hlbWEyID0gdC5Nb2R1bGUoe1xuICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcHJpdmF0ZSBwcm9wZXJ0eVxuICAgICAgICAgIC4uLm1vZHVsZXM/LiRkZWZzLFxuICAgICAgICAgIFtpZF06IHNjaGVtYTJcbiAgICAgICAgfSkuSW1wb3J0KGlkKTtcbiAgICAgIH0gZWxzZSAoY29lcmNlIHx8IGFkZGl0aW9uYWxDb2VyY2UpICYmIChzY2hlbWEyID0gcmVwbGFjZVNjaGVtYShzY2hlbWEyKSk7XG4gICAgcmV0dXJuIHNjaGVtYTI7XG4gIH07XG4gIGxldCBzY2hlbWEgPSBtYXBTY2hlbWEocyksIF92YWxpZGF0b3JzID0gdmFsaWRhdG9ycztcbiAgaWYgKFwifnN0YW5kYXJkXCIgaW4gc2NoZW1hIHx8IHZhbGlkYXRvcnM/Lmxlbmd0aCAmJiB2YWxpZGF0b3JzLnNvbWUoXG4gICAgKHgpID0+IHggJiYgdHlwZW9mIHggIT0gXCJzdHJpbmdcIiAmJiBcIn5zdGFuZGFyZFwiIGluIHhcbiAgKSkge1xuICAgIGNvbnN0IHR5cGVib3hTdWJWYWxpZGF0b3IgPSAoc2NoZW1hMikgPT4ge1xuICAgICAgbGV0IG1pcnJvcjtcbiAgICAgIGlmIChub3JtYWxpemUgPT09ICEwIHx8IG5vcm1hbGl6ZSA9PT0gXCJleGFjdE1pcnJvclwiKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIG1pcnJvciA9IGNyZWF0ZU1pcnJvcihzY2hlbWEyLCB7XG4gICAgICAgICAgICBUeXBlQ29tcGlsZXIsXG4gICAgICAgICAgICBzYW5pdGl6ZTogc2FuaXRpemU/LigpLFxuICAgICAgICAgICAgbW9kdWxlc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIkZhaWxlZCB0byBjcmVhdGUgZXhhY3RNaXJyb3IuIFBsZWFzZSByZXBvcnQgdGhlIGZvbGxvd2luZyBjb2RlIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9lbHlzaWFqcy9lbHlzaWEvaXNzdWVzXCJcbiAgICAgICAgICApLCBjb25zb2xlLndhcm4oc2NoZW1hMiksIG1pcnJvciA9IGNyZWF0ZUNsZWFuZXIoc2NoZW1hMik7XG4gICAgICAgIH1cbiAgICAgIGNvbnN0IHZhbGkgPSBnZXRTY2hlbWFWYWxpZGF0b3Ioc2NoZW1hMiwge1xuICAgICAgICBtb2RlbHMsXG4gICAgICAgIG1vZHVsZXMsXG4gICAgICAgIGR5bmFtaWMsXG4gICAgICAgIG5vcm1hbGl6ZSxcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6ICEwLFxuICAgICAgICBmb3JjZUFkZGl0aW9uYWxQcm9wZXJ0aWVzOiAhMCxcbiAgICAgICAgY29lcmNlLFxuICAgICAgICBhZGRpdGlvbmFsQ29lcmNlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2YWxpLkRlY29kZSA9IG1pcnJvciwgKHYpID0+IHZhbGkuQ2hlY2sodikgPyB7XG4gICAgICAgIHZhbHVlOiB2YWxpLkRlY29kZSh2KVxuICAgICAgfSA6IHtcbiAgICAgICAgaXNzdWVzOiBbLi4udmFsaS5FcnJvcnModildXG4gICAgICB9O1xuICAgIH0sIG1haW5DaGVjayA9IHNjaGVtYVtcIn5zdGFuZGFyZFwiXSA/IHNjaGVtYVtcIn5zdGFuZGFyZFwiXS52YWxpZGF0ZSA6IHR5cGVib3hTdWJWYWxpZGF0b3Ioc2NoZW1hKTtcbiAgICBsZXQgY2hlY2tlcnMgPSBbXTtcbiAgICBpZiAodmFsaWRhdG9ycz8ubGVuZ3RoKSB7XG4gICAgICBmb3IgKGNvbnN0IHZhbGlkYXRvcjIgb2YgdmFsaWRhdG9ycylcbiAgICAgICAgaWYgKHZhbGlkYXRvcjIgJiYgdHlwZW9mIHZhbGlkYXRvcjIgIT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGlmICh2YWxpZGF0b3IyPy5bXCJ+c3RhbmRhcmRcIl0pIHtcbiAgICAgICAgICAgIGNoZWNrZXJzLnB1c2godmFsaWRhdG9yMltcIn5zdGFuZGFyZFwiXSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKEtpbmQgaW4gdmFsaWRhdG9yMikge1xuICAgICAgICAgICAgY2hlY2tlcnMucHVzaCh0eXBlYm94U3ViVmFsaWRhdG9yKHZhbGlkYXRvcjIpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmdW5jdGlvbiBDaGVjayh2YWx1ZSkge1xuICAgICAgbGV0IHYgPSBtYWluQ2hlY2sodmFsdWUpO1xuICAgICAgaWYgKHYgaW5zdGFuY2VvZiBQcm9taXNlICYmICh2ID0gYXdhaXQgdiksIHYuaXNzdWVzKSByZXR1cm4gdjtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgICAgdiAmJiB0eXBlb2YgdiA9PSBcIm9iamVjdFwiICYmIHZhbHVlcy5wdXNoKHYudmFsdWUpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGVja2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodiA9IGNoZWNrZXJzW2ldLnZhbGlkYXRlKHZhbHVlKSwgdiBpbnN0YW5jZW9mIFByb21pc2UgJiYgKHYgPSBhd2FpdCB2KSwgdi5pc3N1ZXMpIHJldHVybiB2O1xuICAgICAgICB2ICYmIHR5cGVvZiB2ID09IFwib2JqZWN0XCIgJiYgdmFsdWVzLnB1c2godi52YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoIXZhbHVlcy5sZW5ndGgpIHJldHVybiB7IHZhbHVlOiB2IH07XG4gICAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIHsgdmFsdWU6IHZhbHVlc1swXSB9O1xuICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDIpXG4gICAgICAgIHJldHVybiB7IHZhbHVlOiBtZXJnZURlZXAodmFsdWVzWzBdLCB2YWx1ZXNbMV0pIH07XG4gICAgICBsZXQgbmV3VmFsdWUgPSBtZXJnZURlZXAodmFsdWVzWzBdLCB2YWx1ZXNbMV0pO1xuICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIG5ld1ZhbHVlID0gbWVyZ2VEZWVwKG5ld1ZhbHVlLCB2YWx1ZXNbaV0pO1xuICAgICAgcmV0dXJuIHsgdmFsdWU6IG5ld1ZhbHVlIH07XG4gICAgfVxuICAgIGNvbnN0IHZhbGlkYXRvciA9IHtcbiAgICAgIHByb3ZpZGVyOiBcInN0YW5kYXJkXCIsXG4gICAgICBzY2hlbWEsXG4gICAgICByZWZlcmVuY2VzOiBcIlwiLFxuICAgICAgY2hlY2tGdW5jOiAoKSA9PiB7XG4gICAgICB9LFxuICAgICAgY29kZTogXCJcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIENoZWNrLFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgRXJyb3JzOiAodmFsdWUpID0+IENoZWNrKHZhbHVlKT8udGhlbj8uKCh4KSA9PiB4Py5pc3N1ZXMpLFxuICAgICAgQ29kZTogKCkgPT4gXCJcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIERlY29kZTogQ2hlY2ssXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBFbmNvZGU6ICh2YWx1ZSkgPT4gdmFsdWUsXG4gICAgICBoYXNBZGRpdGlvbmFsUHJvcGVydGllczogITEsXG4gICAgICBoYXNEZWZhdWx0OiAhMSxcbiAgICAgIGlzT3B0aW9uYWw6ICExLFxuICAgICAgaGFzVHJhbnNmb3JtOiAhMSxcbiAgICAgIGhhc1JlZjogITFcbiAgICB9O1xuICAgIHJldHVybiB2YWxpZGF0b3IucGFyc2UgPSAodikgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRvci5EZWNvZGUodmFsaWRhdG9yLkNsZWFuPy4odikgPz8gdik7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgdGhyb3cgWy4uLnZhbGlkYXRvci5FcnJvcnModildLm1hcChtYXBWYWx1ZUVycm9yKTtcbiAgICAgIH1cbiAgICB9LCB2YWxpZGF0b3Iuc2FmZVBhcnNlID0gKHYpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogITAsXG4gICAgICAgICAgZGF0YTogdmFsaWRhdG9yLkRlY29kZSh2YWxpZGF0b3IuQ2xlYW4/Lih2KSA/PyB2KSxcbiAgICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIGNvbnN0IGVycm9ycyA9IFsuLi5jb21waWxlZC5FcnJvcnModildLm1hcChtYXBWYWx1ZUVycm9yKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiAhMSxcbiAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgIGVycm9yOiBlcnJvcnNbMF0/LnN1bW1hcnksXG4gICAgICAgICAgZXJyb3JzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwgdmFsaWRhdG9yO1xuICB9IGVsc2UgaWYgKHZhbGlkYXRvcnM/Lmxlbmd0aCkge1xuICAgIGxldCBoYXNBZGRpdGlvbmFsID0gITE7XG4gICAgY29uc3QgdmFsaWRhdG9yczIgPSBfdmFsaWRhdG9ycywgeyBzY2hlbWE6IG1lcmdlZE9iamVjdFNjaGVtYSwgbm90T2JqZWN0cyB9ID0gbWVyZ2VPYmplY3RTY2hlbWFzKFtcbiAgICAgIHNjaGVtYSxcbiAgICAgIC4uLnZhbGlkYXRvcnMyLm1hcChtYXBTY2hlbWEpXG4gICAgXSk7XG4gICAgbm90T2JqZWN0cyAmJiAoc2NoZW1hID0gdC5JbnRlcnNlY3QoW1xuICAgICAgLi4ubWVyZ2VkT2JqZWN0U2NoZW1hID8gW21lcmdlZE9iamVjdFNjaGVtYV0gOiBbXSxcbiAgICAgIC4uLm5vdE9iamVjdHMubWFwKCh4KSA9PiB7XG4gICAgICAgIGNvbnN0IHNjaGVtYTIgPSBtYXBTY2hlbWEoeCk7XG4gICAgICAgIHJldHVybiBzY2hlbWEyLnR5cGUgPT09IFwib2JqZWN0XCIgJiYgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiIGluIHNjaGVtYTIgJiYgKCFoYXNBZGRpdGlvbmFsICYmIHNjaGVtYTIuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09ICExICYmIChoYXNBZGRpdGlvbmFsID0gITApLCBkZWxldGUgc2NoZW1hMi5hZGRpdGlvbmFsUHJvcGVydGllcyksIHNjaGVtYTI7XG4gICAgICB9KVxuICAgIF0pLCBzY2hlbWEudHlwZSA9PT0gXCJvYmplY3RcIiAmJiBoYXNBZGRpdGlvbmFsICYmIChzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPSAhMSkpO1xuICB9IGVsc2VcbiAgICBzY2hlbWEudHlwZSA9PT0gXCJvYmplY3RcIiAmJiAoIShcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCIgaW4gc2NoZW1hKSB8fCBmb3JjZUFkZGl0aW9uYWxQcm9wZXJ0aWVzKSA/IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGFkZGl0aW9uYWxQcm9wZXJ0aWVzIDogc2NoZW1hID0gcmVwbGFjZVNjaGVtYVR5cGUoc2NoZW1hLCB7XG4gICAgICBvbmx5Rmlyc3Q6IFwib2JqZWN0XCIsXG4gICAgICBmcm9tOiB0Lk9iamVjdCh7fSksXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICB0byh7IHByb3BlcnRpZXMsIC4uLm9wdGlvbnMgfSkge1xuICAgICAgICBpZiAocHJvcGVydGllcyAmJiAhKFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIiBpbiBzY2hlbWEpKVxuICAgICAgICAgIHJldHVybiB0Lk9iamVjdChwcm9wZXJ0aWVzLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6ICExXG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIGlmIChkeW5hbWljKVxuICAgIGlmIChLaW5kIGluIHNjaGVtYSkge1xuICAgICAgY29uc3QgdmFsaWRhdG9yID0ge1xuICAgICAgICBwcm92aWRlcjogXCJ0eXBlYm94XCIsXG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgcmVmZXJlbmNlczogXCJcIixcbiAgICAgICAgY2hlY2tGdW5jOiAoKSA9PiB7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IFwiXCIsXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgQ2hlY2s6ICh2YWx1ZSkgPT4gVmFsdWUuQ2hlY2soc2NoZW1hLCB2YWx1ZSksXG4gICAgICAgIEVycm9yczogKHZhbHVlKSA9PiBWYWx1ZS5FcnJvcnMoc2NoZW1hLCB2YWx1ZSksXG4gICAgICAgIENvZGU6ICgpID0+IFwiXCIsXG4gICAgICAgIENsZWFuOiBjcmVhdGVDbGVhbmVyKHNjaGVtYSksXG4gICAgICAgIERlY29kZTogKHZhbHVlKSA9PiBWYWx1ZS5EZWNvZGUoc2NoZW1hLCB2YWx1ZSksXG4gICAgICAgIEVuY29kZTogKHZhbHVlKSA9PiBWYWx1ZS5FbmNvZGUoc2NoZW1hLCB2YWx1ZSksXG4gICAgICAgIGdldCBoYXNBZGRpdGlvbmFsUHJvcGVydGllcygpIHtcbiAgICAgICAgICByZXR1cm4gXCJ+aGFzQWRkaXRpb25hbFByb3BlcnRpZXNcIiBpbiB0aGlzID8gdGhpc1tcIn5oYXNBZGRpdGlvbmFsUHJvcGVydGllc1wiXSA6IHRoaXNbXCJ+aGFzQWRkaXRpb25hbFByb3BlcnRpZXNcIl0gPSBoYXNBZGRpdGlvbmFsUHJvcGVydGllcyhzY2hlbWEpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgaGFzRGVmYXVsdCgpIHtcbiAgICAgICAgICByZXR1cm4gXCJ+aGFzRGVmYXVsdFwiIGluIHRoaXMgPyB0aGlzW1wifmhhc0RlZmF1bHRcIl0gOiB0aGlzW1wifmhhc0RlZmF1bHRcIl0gPSBoYXNQcm9wZXJ0eShcbiAgICAgICAgICAgIFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgc2NoZW1hXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGlzT3B0aW9uYWwoKSB7XG4gICAgICAgICAgcmV0dXJuIFwifmlzT3B0aW9uYWxcIiBpbiB0aGlzID8gdGhpc1tcIn5pc09wdGlvbmFsXCJdIDogdGhpc1tcIn5pc09wdGlvbmFsXCJdID0gaXNPcHRpb25hbChzY2hlbWEpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgaGFzVHJhbnNmb3JtKCkge1xuICAgICAgICAgIHJldHVybiBcIn5oYXNUcmFuc2Zvcm1cIiBpbiB0aGlzID8gdGhpc1tcIn5oYXNUcmFuc2Zvcm1cIl0gOiB0aGlzW1wifmhhc1RyYW5zZm9ybVwiXSA9IGhhc1RyYW5zZm9ybShzY2hlbWEpO1xuICAgICAgICB9LFxuICAgICAgICBcIn5oYXNSZWZcIjogZG9lc0hhdmVSZWYsXG4gICAgICAgIGdldCBoYXNSZWYoKSB7XG4gICAgICAgICAgcmV0dXJuIFwifmhhc1JlZlwiIGluIHRoaXMgPyB0aGlzW1wifmhhc1JlZlwiXSA6IHRoaXNbXCJ+aGFzUmVmXCJdID0gaGFzVHJhbnNmb3JtKHNjaGVtYSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAoc2NoZW1hLmNvbmZpZyAmJiAodmFsaWRhdG9yLmNvbmZpZyA9IHNjaGVtYS5jb25maWcsIHZhbGlkYXRvcj8uc2NoZW1hPy5jb25maWcgJiYgZGVsZXRlIHZhbGlkYXRvci5zY2hlbWEuY29uZmlnKSwgbm9ybWFsaXplICYmIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gITEpXG4gICAgICAgIGlmIChub3JtYWxpemUgPT09ICEwIHx8IG5vcm1hbGl6ZSA9PT0gXCJleGFjdE1pcnJvclwiKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YWxpZGF0b3IuQ2xlYW4gPSBjcmVhdGVNaXJyb3Ioc2NoZW1hLCB7XG4gICAgICAgICAgICAgIFR5cGVDb21waWxlcixcbiAgICAgICAgICAgICAgc2FuaXRpemU6IHNhbml0aXplPy4oKSxcbiAgICAgICAgICAgICAgbW9kdWxlc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgIFwiRmFpbGVkIHRvIGNyZWF0ZSBleGFjdE1pcnJvci4gUGxlYXNlIHJlcG9ydCB0aGUgZm9sbG93aW5nIGNvZGUgdG8gaHR0cHM6Ly9naXRodWIuY29tL2VseXNpYWpzL2VseXNpYS9pc3N1ZXNcIlxuICAgICAgICAgICAgKSwgY29uc29sZS53YXJuKHNjaGVtYSksIHZhbGlkYXRvci5DbGVhbiA9IGNyZWF0ZUNsZWFuZXIoc2NoZW1hKTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2UgdmFsaWRhdG9yLkNsZWFuID0gY3JlYXRlQ2xlYW5lcihzY2hlbWEpO1xuICAgICAgcmV0dXJuIHZhbGlkYXRvci5wYXJzZSA9ICh2KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHZhbGlkYXRvci5EZWNvZGUodmFsaWRhdG9yLkNsZWFuPy4odikgPz8gdik7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIHRocm93IFsuLi52YWxpZGF0b3IuRXJyb3JzKHYpXS5tYXAobWFwVmFsdWVFcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHZhbGlkYXRvci5zYWZlUGFyc2UgPSAodikgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiAhMCxcbiAgICAgICAgICAgIGRhdGE6IHZhbGlkYXRvci5EZWNvZGUodmFsaWRhdG9yLkNsZWFuPy4odikgPz8gdiksXG4gICAgICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIGNvbnN0IGVycm9ycyA9IFsuLi5jb21waWxlZC5FcnJvcnModildLm1hcChtYXBWYWx1ZUVycm9yKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3VjY2VzczogITEsXG4gICAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yc1swXT8uc3VtbWFyeSxcbiAgICAgICAgICAgIGVycm9yc1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0sIHZhbGlkYXRvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdmFsaWRhdG9yID0ge1xuICAgICAgICBwcm92aWRlcjogXCJzdGFuZGFyZFwiLFxuICAgICAgICBzY2hlbWEsXG4gICAgICAgIHJlZmVyZW5jZXM6IFwiXCIsXG4gICAgICAgIGNoZWNrRnVuYzogKCkgPT4ge1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiBcIlwiLFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIENoZWNrOiAodikgPT4gc2NoZW1hW1wifnN0YW5kYXJkXCJdLnZhbGlkYXRlKHYpLFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIEVycm9ycyh2YWx1ZSkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gc2NoZW1hW1wifnN0YW5kYXJkXCJdLnZhbGlkYXRlKHZhbHVlKTtcbiAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiQXN5bmMgdmFsaWRhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIG5vbi1keW5hbWljIHNjaGVtYVwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5pc3N1ZXM7XG4gICAgICAgIH0sXG4gICAgICAgIENvZGU6ICgpID0+IFwiXCIsXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgRGVjb2RlKHZhbHVlKSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBzY2hlbWFbXCJ+c3RhbmRhcmRcIl0udmFsaWRhdGUodmFsdWUpO1xuICAgICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJBc3luYyB2YWxpZGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gbm9uLWR5bmFtaWMgc2NoZW1hXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9LFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIEVuY29kZTogKHZhbHVlKSA9PiB2YWx1ZSxcbiAgICAgICAgaGFzQWRkaXRpb25hbFByb3BlcnRpZXM6ICExLFxuICAgICAgICBoYXNEZWZhdWx0OiAhMSxcbiAgICAgICAgaXNPcHRpb25hbDogITEsXG4gICAgICAgIGhhc1RyYW5zZm9ybTogITEsXG4gICAgICAgIGhhc1JlZjogITFcbiAgICAgIH07XG4gICAgICByZXR1cm4gdmFsaWRhdG9yLnBhcnNlID0gKHYpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdmFsaWRhdG9yLkRlY29kZSh2YWxpZGF0b3IuQ2xlYW4/Lih2KSA/PyB2KTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgdGhyb3cgWy4uLnZhbGlkYXRvci5FcnJvcnModildLm1hcChtYXBWYWx1ZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSwgdmFsaWRhdG9yLnNhZmVQYXJzZSA9ICh2KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6ICEwLFxuICAgICAgICAgICAgZGF0YTogdmFsaWRhdG9yLkRlY29kZSh2YWxpZGF0b3IuQ2xlYW4/Lih2KSA/PyB2KSxcbiAgICAgICAgICAgIGVycm9yOiBudWxsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgY29uc3QgZXJyb3JzID0gWy4uLmNvbXBpbGVkLkVycm9ycyh2KV0ubWFwKG1hcFZhbHVlRXJyb3IpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiAhMSxcbiAgICAgICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgICAgICBlcnJvcjogZXJyb3JzWzBdPy5zdW1tYXJ5LFxuICAgICAgICAgICAgZXJyb3JzXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSwgdmFsaWRhdG9yO1xuICAgIH1cbiAgbGV0IGNvbXBpbGVkO1xuICBpZiAoS2luZCBpbiBzY2hlbWEpXG4gICAgaWYgKGNvbXBpbGVkID0gVHlwZUNvbXBpbGVyLkNvbXBpbGUoXG4gICAgICBzY2hlbWEsXG4gICAgICBPYmplY3QudmFsdWVzKG1vZGVscykuZmlsdGVyKCh4KSA9PiBLaW5kIGluIHgpXG4gICAgKSwgY29tcGlsZWQucHJvdmlkZXIgPSBcInR5cGVib3hcIiwgc2NoZW1hLmNvbmZpZyAmJiAoY29tcGlsZWQuY29uZmlnID0gc2NoZW1hLmNvbmZpZywgY29tcGlsZWQ/LnNjaGVtYT8uY29uZmlnICYmIGRlbGV0ZSBjb21waWxlZC5zY2hlbWEuY29uZmlnKSwgbm9ybWFsaXplID09PSAhMCB8fCBub3JtYWxpemUgPT09IFwiZXhhY3RNaXJyb3JcIilcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbXBpbGVkLkNsZWFuID0gY3JlYXRlTWlycm9yKHNjaGVtYSwge1xuICAgICAgICAgIFR5cGVDb21waWxlcixcbiAgICAgICAgICBzYW5pdGl6ZTogc2FuaXRpemU/LigpLFxuICAgICAgICAgIG1vZHVsZXNcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiRmFpbGVkIHRvIGNyZWF0ZSBleGFjdE1pcnJvci4gUGxlYXNlIHJlcG9ydCB0aGUgZm9sbG93aW5nIGNvZGUgdG8gaHR0cHM6Ly9naXRodWIuY29tL2VseXNpYWpzL2VseXNpYS9pc3N1ZXNcIlxuICAgICAgICApLCBjb25zb2xlLmRpcihzY2hlbWEsIHtcbiAgICAgICAgICBkZXB0aDogbnVsbFxuICAgICAgICB9KSwgY29tcGlsZWQuQ2xlYW4gPSBjcmVhdGVDbGVhbmVyKHNjaGVtYSk7XG4gICAgICB9XG4gICAgZWxzZSBub3JtYWxpemUgPT09IFwidHlwZWJveFwiICYmIChjb21waWxlZC5DbGVhbiA9IGNyZWF0ZUNsZWFuZXIoc2NoZW1hKSk7XG4gIGVsc2VcbiAgICBjb21waWxlZCA9IHtcbiAgICAgIHByb3ZpZGVyOiBcInN0YW5kYXJkXCIsXG4gICAgICBzY2hlbWEsXG4gICAgICByZWZlcmVuY2VzOiBcIlwiLFxuICAgICAgY2hlY2tGdW5jKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gc2NoZW1hW1wifnN0YW5kYXJkXCJdLnZhbGlkYXRlKHZhbHVlKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgUHJvbWlzZSlcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiQXN5bmMgdmFsaWRhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIG5vbi1keW5hbWljIHNjaGVtYVwiXG4gICAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgfSxcbiAgICAgIGNvZGU6IFwiXCIsXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBDaGVjazogKHYpID0+IHNjaGVtYVtcIn5zdGFuZGFyZFwiXS52YWxpZGF0ZSh2KSxcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIEVycm9ycyh2YWx1ZSkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHNjaGVtYVtcIn5zdGFuZGFyZFwiXS52YWxpZGF0ZSh2YWx1ZSk7XG4gICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIkFzeW5jIHZhbGlkYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiBub24tZHluYW1pYyBzY2hlbWFcIlxuICAgICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5pc3N1ZXM7XG4gICAgICB9LFxuICAgICAgQ29kZTogKCkgPT4gXCJcIixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIERlY29kZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHNjaGVtYVtcIn5zdGFuZGFyZFwiXS52YWxpZGF0ZSh2YWx1ZSk7XG4gICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIkFzeW5jIHZhbGlkYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiBub24tZHluYW1pYyBzY2hlbWFcIlxuICAgICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH0sXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBFbmNvZGU6ICh2YWx1ZSkgPT4gdmFsdWUsXG4gICAgICBoYXNBZGRpdGlvbmFsUHJvcGVydGllczogITEsXG4gICAgICBoYXNEZWZhdWx0OiAhMSxcbiAgICAgIGlzT3B0aW9uYWw6ICExLFxuICAgICAgaGFzVHJhbnNmb3JtOiAhMSxcbiAgICAgIGhhc1JlZjogITFcbiAgICB9O1xuICByZXR1cm4gY29tcGlsZWQucGFyc2UgPSAodikgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gY29tcGlsZWQuRGVjb2RlKGNvbXBpbGVkLkNsZWFuPy4odikgPz8gdik7XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aHJvdyBbLi4uY29tcGlsZWQuRXJyb3JzKHYpXS5tYXAobWFwVmFsdWVFcnJvcik7XG4gICAgfVxuICB9LCBjb21waWxlZC5zYWZlUGFyc2UgPSAodikgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiAhMCxcbiAgICAgICAgZGF0YTogY29tcGlsZWQuRGVjb2RlKGNvbXBpbGVkLkNsZWFuPy4odikgPz8gdiksXG4gICAgICAgIGVycm9yOiBudWxsXG4gICAgICB9O1xuICAgIH0gY2F0Y2gge1xuICAgICAgY29uc3QgZXJyb3JzID0gWy4uLmNvbXBpbGVkLkVycm9ycyh2KV0ubWFwKG1hcFZhbHVlRXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogITEsXG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yOiBlcnJvcnNbMF0/LnN1bW1hcnksXG4gICAgICAgIGVycm9yc1xuICAgICAgfTtcbiAgICB9XG4gIH0sIEtpbmQgaW4gc2NoZW1hICYmIE9iamVjdC5hc3NpZ24oY29tcGlsZWQsIHtcbiAgICBnZXQgaGFzQWRkaXRpb25hbFByb3BlcnRpZXMoKSB7XG4gICAgICByZXR1cm4gXCJ+aGFzQWRkaXRpb25hbFByb3BlcnRpZXNcIiBpbiB0aGlzID8gdGhpc1tcIn5oYXNBZGRpdGlvbmFsUHJvcGVydGllc1wiXSA6IHRoaXNbXCJ+aGFzQWRkaXRpb25hbFByb3BlcnRpZXNcIl0gPSBoYXNBZGRpdGlvbmFsUHJvcGVydGllcyhjb21waWxlZCk7XG4gICAgfSxcbiAgICBnZXQgaGFzRGVmYXVsdCgpIHtcbiAgICAgIHJldHVybiBcIn5oYXNEZWZhdWx0XCIgaW4gdGhpcyA/IHRoaXNbXCJ+aGFzRGVmYXVsdFwiXSA6IHRoaXNbXCJ+aGFzRGVmYXVsdFwiXSA9IGhhc1Byb3BlcnR5KFwiZGVmYXVsdFwiLCBjb21waWxlZCk7XG4gICAgfSxcbiAgICBnZXQgaXNPcHRpb25hbCgpIHtcbiAgICAgIHJldHVybiBcIn5pc09wdGlvbmFsXCIgaW4gdGhpcyA/IHRoaXNbXCJ+aXNPcHRpb25hbFwiXSA6IHRoaXNbXCJ+aXNPcHRpb25hbFwiXSA9IGlzT3B0aW9uYWwoY29tcGlsZWQpO1xuICAgIH0sXG4gICAgZ2V0IGhhc1RyYW5zZm9ybSgpIHtcbiAgICAgIHJldHVybiBcIn5oYXNUcmFuc2Zvcm1cIiBpbiB0aGlzID8gdGhpc1tcIn5oYXNUcmFuc2Zvcm1cIl0gOiB0aGlzW1wifmhhc1RyYW5zZm9ybVwiXSA9IGhhc1RyYW5zZm9ybShzY2hlbWEpO1xuICAgIH0sXG4gICAgZ2V0IGhhc1JlZigpIHtcbiAgICAgIHJldHVybiBcIn5oYXNSZWZcIiBpbiB0aGlzID8gdGhpc1tcIn5oYXNSZWZcIl0gOiB0aGlzW1wifmhhc1JlZlwiXSA9IGhhc1JlZihzY2hlbWEpO1xuICAgIH0sXG4gICAgXCJ+aGFzUmVmXCI6IGRvZXNIYXZlUmVmXG4gIH0pLCBjb21waWxlZDtcbn0sIGlzVW5pb24gPSAoc2NoZW1hKSA9PiBzY2hlbWFbS2luZF0gPT09IFwiVW5pb25cIiB8fCAhc2NoZW1hLnNjaGVtYSAmJiAhIXNjaGVtYS5hbnlPZiwgbWVyZ2VPYmplY3RTY2hlbWFzID0gKHNjaGVtYXMpID0+IHtcbiAgaWYgKHNjaGVtYXMubGVuZ3RoID09PSAwKVxuICAgIHJldHVybiB7XG4gICAgICBzY2hlbWE6IHZvaWQgMCxcbiAgICAgIG5vdE9iamVjdHM6IFtdXG4gICAgfTtcbiAgaWYgKHNjaGVtYXMubGVuZ3RoID09PSAxKVxuICAgIHJldHVybiBzY2hlbWFzWzBdLnR5cGUgPT09IFwib2JqZWN0XCIgPyB7XG4gICAgICBzY2hlbWE6IHNjaGVtYXNbMF0sXG4gICAgICBub3RPYmplY3RzOiBbXVxuICAgIH0gOiB7XG4gICAgICBzY2hlbWE6IHZvaWQgMCxcbiAgICAgIG5vdE9iamVjdHM6IHNjaGVtYXNcbiAgICB9O1xuICBsZXQgbmV3U2NoZW1hO1xuICBjb25zdCBub3RPYmplY3RzID0gW107XG4gIGxldCBhZGRpdGlvbmFsUHJvcGVydGllc0lzVHJ1ZSA9ICExLCBhZGRpdGlvbmFsUHJvcGVydGllc0lzRmFsc2UgPSAhMTtcbiAgZm9yIChjb25zdCBzY2hlbWEgb2Ygc2NoZW1hcykge1xuICAgIGlmIChzY2hlbWEudHlwZSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgbm90T2JqZWN0cy5wdXNoKHNjaGVtYSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIiBpbiBzY2hlbWEgJiYgKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gITAgPyBhZGRpdGlvbmFsUHJvcGVydGllc0lzVHJ1ZSA9ICEwIDogc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSAhMSAmJiAoYWRkaXRpb25hbFByb3BlcnRpZXNJc0ZhbHNlID0gITApKSwgIW5ld1NjaGVtYSkge1xuICAgICAgbmV3U2NoZW1hID0gc2NoZW1hO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIG5ld1NjaGVtYSA9IHtcbiAgICAgIC4uLm5ld1NjaGVtYSxcbiAgICAgIC4uLnNjaGVtYSxcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgLi4ubmV3U2NoZW1hLnByb3BlcnRpZXMsXG4gICAgICAgIC4uLnNjaGVtYS5wcm9wZXJ0aWVzXG4gICAgICB9LFxuICAgICAgcmVxdWlyZWQ6IFsuLi5uZXdTY2hlbWE/LnJlcXVpcmVkID8/IFtdLCAuLi5zY2hlbWEucmVxdWlyZWRdXG4gICAgfTtcbiAgfVxuICByZXR1cm4gbmV3U2NoZW1hICYmIChuZXdTY2hlbWEucmVxdWlyZWQgJiYgKG5ld1NjaGVtYS5yZXF1aXJlZCA9IFsuLi5uZXcgU2V0KG5ld1NjaGVtYS5yZXF1aXJlZCldKSwgYWRkaXRpb25hbFByb3BlcnRpZXNJc0ZhbHNlID8gbmV3U2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gITEgOiBhZGRpdGlvbmFsUHJvcGVydGllc0lzVHJ1ZSAmJiAobmV3U2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gITApKSwge1xuICAgIHNjaGVtYTogbmV3U2NoZW1hLFxuICAgIG5vdE9iamVjdHNcbiAgfTtcbn0sIGdldFJlc3BvbnNlU2NoZW1hVmFsaWRhdG9yID0gKHMsIHtcbiAgbW9kZWxzID0ge30sXG4gIG1vZHVsZXMsXG4gIGR5bmFtaWMgPSAhMSxcbiAgbm9ybWFsaXplID0gITEsXG4gIGFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gITEsXG4gIHZhbGlkYXRvcnMgPSBbXSxcbiAgc2FuaXRpemVcbn0pID0+IHtcbiAgaWYgKHZhbGlkYXRvcnMgPSB2YWxpZGF0b3JzLmZpbHRlcigoeCkgPT4geCksICFzKSB7XG4gICAgaWYgKCF2YWxpZGF0b3JzPy5sZW5ndGgpIHJldHVybjtcbiAgICBzID0gdmFsaWRhdG9yc1swXSwgdmFsaWRhdG9ycyA9IHZhbGlkYXRvcnMuc2xpY2UoMSk7XG4gIH1cbiAgbGV0IG1heWJlU2NoZW1hT3JSZWNvcmQ7XG4gIGlmICh0eXBlb2YgcyAhPSBcInN0cmluZ1wiKSBtYXliZVNjaGVtYU9yUmVjb3JkID0gcztcbiAgZWxzZSBpZiAobWF5YmVTY2hlbWFPclJlY29yZCA9IC8vIEB0cy1leHBlY3QtZXJyb3IgcHJpdmF0ZSBwcm9wZXJ0eVxuICBtb2R1bGVzICYmIHMgaW4gbW9kdWxlcy4kZGVmcyA/IG1vZHVsZXMuSW1wb3J0KHMpIDogbW9kZWxzW3NdLCAhbWF5YmVTY2hlbWFPclJlY29yZCkgcmV0dXJuO1xuICBpZiAoIW1heWJlU2NoZW1hT3JSZWNvcmQpIHJldHVybjtcbiAgaWYgKEtpbmQgaW4gbWF5YmVTY2hlbWFPclJlY29yZCB8fCBcIn5zdGFuZGFyZFwiIGluIG1heWJlU2NoZW1hT3JSZWNvcmQpXG4gICAgcmV0dXJuIHtcbiAgICAgIDIwMDogZ2V0U2NoZW1hVmFsaWRhdG9yKFxuICAgICAgICBtYXliZVNjaGVtYU9yUmVjb3JkLFxuICAgICAgICB7XG4gICAgICAgICAgbW9kdWxlcyxcbiAgICAgICAgICBtb2RlbHMsXG4gICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXMsXG4gICAgICAgICAgZHluYW1pYyxcbiAgICAgICAgICBub3JtYWxpemUsXG4gICAgICAgICAgY29lcmNlOiAhMSxcbiAgICAgICAgICBhZGRpdGlvbmFsQ29lcmNlOiBbXSxcbiAgICAgICAgICB2YWxpZGF0b3JzOiB2YWxpZGF0b3JzLm1hcCgoeCkgPT4geFsyMDBdKSxcbiAgICAgICAgICBzYW5pdGl6ZVxuICAgICAgICB9XG4gICAgICApXG4gICAgfTtcbiAgY29uc3QgcmVjb3JkID0ge307XG4gIHJldHVybiBPYmplY3Qua2V5cyhtYXliZVNjaGVtYU9yUmVjb3JkKS5mb3JFYWNoKChzdGF0dXMpID0+IHtcbiAgICBpZiAoaXNOYU4oK3N0YXR1cykpIHJldHVybjtcbiAgICBjb25zdCBtYXliZU5hbWVPclNjaGVtYSA9IG1heWJlU2NoZW1hT3JSZWNvcmRbK3N0YXR1c107XG4gICAgaWYgKHR5cGVvZiBtYXliZU5hbWVPclNjaGVtYSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAobWF5YmVOYW1lT3JTY2hlbWEgaW4gbW9kZWxzKSB7XG4gICAgICAgIGNvbnN0IHNjaGVtYSA9IG1vZGVsc1ttYXliZU5hbWVPclNjaGVtYV07XG4gICAgICAgIGlmICghc2NoZW1hKSByZXR1cm47XG4gICAgICAgIHJlY29yZFsrc3RhdHVzXSA9IEtpbmQgaW4gc2NoZW1hIHx8IFwifnN0YW5kYXJkXCIgaW4gc2NoZW1hID8gZ2V0U2NoZW1hVmFsaWRhdG9yKHNjaGVtYSwge1xuICAgICAgICAgIG1vZHVsZXMsXG4gICAgICAgICAgbW9kZWxzLFxuICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzLFxuICAgICAgICAgIGR5bmFtaWMsXG4gICAgICAgICAgbm9ybWFsaXplLFxuICAgICAgICAgIGNvZXJjZTogITEsXG4gICAgICAgICAgYWRkaXRpb25hbENvZXJjZTogW10sXG4gICAgICAgICAgdmFsaWRhdG9yczogdmFsaWRhdG9ycy5tYXAoKHgpID0+IHhbK3N0YXR1c10pLFxuICAgICAgICAgIHNhbml0aXplXG4gICAgICAgIH0pIDogc2NoZW1hO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZWNvcmRbK3N0YXR1c10gPSBLaW5kIGluIG1heWJlTmFtZU9yU2NoZW1hIHx8IFwifnN0YW5kYXJkXCIgaW4gbWF5YmVOYW1lT3JTY2hlbWEgPyBnZXRTY2hlbWFWYWxpZGF0b3IobWF5YmVOYW1lT3JTY2hlbWEsIHtcbiAgICAgIG1vZHVsZXMsXG4gICAgICBtb2RlbHMsXG4gICAgICBhZGRpdGlvbmFsUHJvcGVydGllcyxcbiAgICAgIGR5bmFtaWMsXG4gICAgICBub3JtYWxpemUsXG4gICAgICBjb2VyY2U6ICExLFxuICAgICAgYWRkaXRpb25hbENvZXJjZTogW10sXG4gICAgICB2YWxpZGF0b3JzOiB2YWxpZGF0b3JzLm1hcCgoeCkgPT4geFsrc3RhdHVzXSksXG4gICAgICBzYW5pdGl6ZVxuICAgIH0pIDogbWF5YmVOYW1lT3JTY2hlbWE7XG4gIH0pLCByZWNvcmQ7XG59O1xubGV0IF9zdHJpbmdUb1N0cnVjdHVyZUNvZXJjaW9ucztcbmNvbnN0IHN0cmluZ1RvU3RydWN0dXJlQ29lcmNpb25zID0gKCkgPT4gKF9zdHJpbmdUb1N0cnVjdHVyZUNvZXJjaW9ucyB8fCAoX3N0cmluZ1RvU3RydWN0dXJlQ29lcmNpb25zID0gW1xuICB7XG4gICAgZnJvbTogdC5PYmplY3Qoe30pLFxuICAgIHRvOiAoKSA9PiB0Lk9iamVjdFN0cmluZyh7fSksXG4gICAgZXhjbHVkZVJvb3Q6ICEwXG4gIH0sXG4gIHtcbiAgICBmcm9tOiB0LkFycmF5KHQuQW55KCkpLFxuICAgIHRvOiAoKSA9PiB0LkFycmF5U3RyaW5nKHQuQW55KCkpXG4gIH1cbl0pLCBfc3RyaW5nVG9TdHJ1Y3R1cmVDb2VyY2lvbnMpO1xubGV0IF9xdWVyeUNvZXJjaW9ucztcbmNvbnN0IHF1ZXJ5Q29lcmNpb25zID0gKCkgPT4gKF9xdWVyeUNvZXJjaW9ucyB8fCAoX3F1ZXJ5Q29lcmNpb25zID0gW1xuICB7XG4gICAgZnJvbTogdC5PYmplY3Qoe30pLFxuICAgIHRvOiAoKSA9PiB0Lk9iamVjdFN0cmluZyh7fSksXG4gICAgZXhjbHVkZVJvb3Q6ICEwXG4gIH0sXG4gIHtcbiAgICBmcm9tOiB0LkFycmF5KHQuQW55KCkpLFxuICAgIHRvOiAoKSA9PiB0LkFycmF5UXVlcnkodC5BbnkoKSlcbiAgfVxuXSksIF9xdWVyeUNvZXJjaW9ucyk7XG5sZXQgX2NvZXJjZVByaW1pdGl2ZVJvb3Q7XG5jb25zdCBjb2VyY2VQcmltaXRpdmVSb290ID0gKCkgPT4gKF9jb2VyY2VQcmltaXRpdmVSb290IHx8IChfY29lcmNlUHJpbWl0aXZlUm9vdCA9IFtcbiAge1xuICAgIGZyb206IHQuTnVtYmVyKCksXG4gICAgdG86IChvcHRpb25zKSA9PiB0Lk51bWVyaWMob3B0aW9ucyksXG4gICAgcm9vdE9ubHk6ICEwXG4gIH0sXG4gIHtcbiAgICBmcm9tOiB0LkJvb2xlYW4oKSxcbiAgICB0bzogKG9wdGlvbnMpID0+IHQuQm9vbGVhblN0cmluZyhvcHRpb25zKSxcbiAgICByb290T25seTogITBcbiAgfVxuXSksIF9jb2VyY2VQcmltaXRpdmVSb290KSwgZ2V0Q29va2llVmFsaWRhdG9yID0gKHtcbiAgdmFsaWRhdG9yLFxuICBtb2R1bGVzLFxuICBkZWZhdWx0Q29uZmlnID0ge30sXG4gIGNvbmZpZyxcbiAgZHluYW1pYyxcbiAgbm9ybWFsaXplID0gITEsXG4gIG1vZGVscyxcbiAgdmFsaWRhdG9ycyxcbiAgc2FuaXRpemVcbn0pID0+IHtcbiAgbGV0IGNvb2tpZVZhbGlkYXRvciA9IChcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdmFsaWRhdG9yPy5wcm92aWRlciA/IHZhbGlkYXRvciA6IChcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGdldFNjaGVtYVZhbGlkYXRvcih2YWxpZGF0b3IsIHtcbiAgICAgICAgbW9kdWxlcyxcbiAgICAgICAgZHluYW1pYyxcbiAgICAgICAgbW9kZWxzLFxuICAgICAgICBub3JtYWxpemUsXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiAhMCxcbiAgICAgICAgY29lcmNlOiAhMCxcbiAgICAgICAgYWRkaXRpb25hbENvZXJjZTogc3RyaW5nVG9TdHJ1Y3R1cmVDb2VyY2lvbnMoKSxcbiAgICAgICAgdmFsaWRhdG9ycyxcbiAgICAgICAgc2FuaXRpemVcbiAgICAgIH0pXG4gICAgKVxuICApO1xuICByZXR1cm4gY29va2llVmFsaWRhdG9yID8gY29va2llVmFsaWRhdG9yLmNvbmZpZyA9IG1lcmdlQ29va2llKGNvb2tpZVZhbGlkYXRvci5jb25maWcsIGNvbmZpZykgOiAoY29va2llVmFsaWRhdG9yID0gZ2V0U2NoZW1hVmFsaWRhdG9yKHQuQ29va2llKHQuQW55KCkpLCB7XG4gICAgbW9kdWxlcyxcbiAgICBkeW5hbWljLFxuICAgIG1vZGVscyxcbiAgICBhZGRpdGlvbmFsUHJvcGVydGllczogITAsXG4gICAgdmFsaWRhdG9ycyxcbiAgICBzYW5pdGl6ZVxuICB9KSwgY29va2llVmFsaWRhdG9yLmNvbmZpZyA9IGRlZmF1bHRDb25maWcpLCBjb29raWVWYWxpZGF0b3I7XG59LCB1bndyYXBJbXBvcnRTY2hlbWEgPSAoc2NoZW1hKSA9PiBzY2hlbWEgJiYgc2NoZW1hW0tpbmRdID09PSBcIkltcG9ydFwiICYmIHNjaGVtYS4kZGVmc1tzY2hlbWEuJHJlZl1bS2luZF0gPT09IFwiT2JqZWN0XCIgPyBzY2hlbWEuJGRlZnNbc2NoZW1hLiRyZWZdIDogc2NoZW1hO1xuZXhwb3J0IHtcbiAgY29lcmNlUHJpbWl0aXZlUm9vdCxcbiAgZ2V0Q29va2llVmFsaWRhdG9yLFxuICBnZXRSZXNwb25zZVNjaGVtYVZhbGlkYXRvcixcbiAgZ2V0U2NoZW1hVmFsaWRhdG9yLFxuICBoYXNBZGRpdGlvbmFsUHJvcGVydGllcyxcbiAgaGFzRWx5c2lhTWV0YSxcbiAgaGFzUHJvcGVydHksXG4gIGhhc1JlZixcbiAgaGFzVHJhbnNmb3JtLFxuICBoYXNUeXBlLFxuICBpc09wdGlvbmFsLFxuICBpc1VuaW9uLFxuICBtZXJnZU9iamVjdFNjaGVtYXMsXG4gIHF1ZXJ5Q29lcmNpb25zLFxuICByZXBsYWNlU2NoZW1hVHlwZSxcbiAgc3RyaW5nVG9TdHJ1Y3R1cmVDb2VyY2lvbnMsXG4gIHVud3JhcEltcG9ydFNjaGVtYVxufTtcbiIsCiAgICAiaW1wb3J0IHsgbWFwRWFybHlSZXNwb25zZSB9IGZyb20gXCIuL2hhbmRsZXIubWpzXCI7XG5pbXBvcnQgeyBzdWNyb3NlIH0gZnJvbSBcIi4uLy4uL3N1Y3Jvc2UubWpzXCI7XG5pbXBvcnQgeyBjcmVhdGVIb2MsIGNyZWF0ZU9uUmVxdWVzdEhhbmRsZXIsIGlzQXN5bmMgfSBmcm9tIFwiLi4vLi4vY29tcG9zZS5tanNcIjtcbmltcG9ydCB7IHJhbmRvbUlkLCBFTFlTSUFfUkVRVUVTVF9JRCwgcmVkaXJlY3QsIGlzTm90RW1wdHkgfSBmcm9tIFwiLi4vLi4vdXRpbHMubWpzXCI7XG5pbXBvcnQgeyBzdGF0dXMgfSBmcm9tIFwiLi4vLi4vZXJyb3IubWpzXCI7XG5pbXBvcnQgeyBFTFlTSUFfVFJBQ0UgfSBmcm9tIFwiLi4vLi4vdHJhY2UubWpzXCI7XG5jb25zdCBhbGxvY2F0ZUlmID0gKHZhbHVlLCBjb25kaXRpb24pID0+IGNvbmRpdGlvbiA/IHZhbHVlIDogXCJcIiwgY3JlYXRlQ29udGV4dCA9IChhcHAsIHJvdXRlLCBpbmZlcmVuY2UsIGlzSW5saW5lID0gITEpID0+IHtcbiAgbGV0IGZuTGl0ZXJhbCA9IFwiXCI7XG4gIGNvbnN0IGRlZmF1bHRIZWFkZXJzID0gYXBwLnNldEhlYWRlcnMsIGhhc1RyYWNlID0gISFhcHAuZXZlbnQudHJhY2U/Lmxlbmd0aDtcbiAgaGFzVHJhY2UgJiYgKGZuTGl0ZXJhbCArPSBgY29uc3QgaWQ9cmFuZG9tSWQoKVxuYCk7XG4gIGNvbnN0IGlzRHluYW1pYyA9IC9bOipdLy50ZXN0KHJvdXRlLnBhdGgpLCBnZXRRaSA9IGBjb25zdCB1PXJlcXVlc3QudXJsLHM9dS5pbmRleE9mKCcvJywke2FwcC5jb25maWcuaGFuZGxlcj8uc3RhbmRhcmRIb3N0bmFtZSA/PyAhMCA/IDExIDogN30pLHFpPXUuaW5kZXhPZignPycsIHMgKyAxKVxuYCwgbmVlZHNRdWVyeSA9IGluZmVyZW5jZS5xdWVyeSB8fCAhIXJvdXRlLmhvb2tzLnF1ZXJ5IHx8ICEhcm91dGUuaG9va3Muc3RhbmRhbG9uZVZhbGlkYXRvcj8uZmluZChcbiAgICAoeCkgPT4geC5xdWVyeVxuICApIHx8IGFwcC5ldmVudC5yZXF1ZXN0Py5sZW5ndGg7XG4gIG5lZWRzUXVlcnkgJiYgKGZuTGl0ZXJhbCArPSBnZXRRaSk7XG4gIGNvbnN0IGdldFBhdGggPSBpbmZlcmVuY2UucGF0aCA/IGlzRHluYW1pYyA/IFwiZ2V0IHBhdGgoKXtcIiArIChuZWVkc1F1ZXJ5ID8gXCJcIiA6IGdldFFpKSArIGBpZihxaT09PS0xKXJldHVybiB1LnN1YnN0cmluZyhzKVxucmV0dXJuIHUuc3Vic3RyaW5nKHMscWkpXG59LGAgOiBgcGF0aDonJHtyb3V0ZS5wYXRofScsYCA6IFwiXCI7XG4gIGZuTGl0ZXJhbCArPSBhbGxvY2F0ZUlmKFwiY29uc3QgYz1cIiwgIWlzSW5saW5lKSArIFwie3JlcXVlc3Qsc3RvcmUsXCIgKyBhbGxvY2F0ZUlmKFwicWksXCIsIG5lZWRzUXVlcnkpICsgYWxsb2NhdGVJZihcInBhcmFtczpyZXF1ZXN0LnBhcmFtcyxcIiwgaXNEeW5hbWljKSArIGdldFBhdGggKyBhbGxvY2F0ZUlmKFxuICAgIFwidXJsOnJlcXVlc3QudXJsLFwiLFxuICAgIGhhc1RyYWNlIHx8IGluZmVyZW5jZS51cmwgfHwgbmVlZHNRdWVyeVxuICApICsgXCJyZWRpcmVjdCxzdGF0dXMsc2V0OntoZWFkZXJzOlwiICsgKGlzTm90RW1wdHkoZGVmYXVsdEhlYWRlcnMpID8gXCJPYmplY3QuYXNzaWduKHt9LGFwcC5zZXRIZWFkZXJzKVwiIDogXCJPYmplY3QuY3JlYXRlKG51bGwpXCIpICsgXCIsc3RhdHVzOjIwMH1cIiwgaW5mZXJlbmNlLnNlcnZlciAmJiAoZm5MaXRlcmFsICs9IFwiLGdldCBzZXJ2ZXIoKXtyZXR1cm4gYXBwLmdldFNlcnZlcigpfVwiKSwgaGFzVHJhY2UgJiYgKGZuTGl0ZXJhbCArPSBcIixbRUxZU0lBX1JFUVVFU1RfSURdOmlkXCIpO1xuICB7XG4gICAgbGV0IGRlY29yYXRvcnNMaXRlcmFsID0gXCJcIjtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhhcHAuc2luZ2xldG9uLmRlY29yYXRvcikpXG4gICAgICBkZWNvcmF0b3JzTGl0ZXJhbCArPSBgLCcke2tleX0nOmRlY29yYXRvclsnJHtrZXl9J11gO1xuICAgIGZuTGl0ZXJhbCArPSBkZWNvcmF0b3JzTGl0ZXJhbDtcbiAgfVxuICByZXR1cm4gZm5MaXRlcmFsICs9IGB9XG5gLCBmbkxpdGVyYWw7XG59LCBjcmVhdGVCdW5Sb3V0ZUhhbmRsZXIgPSAoYXBwLCByb3V0ZSkgPT4ge1xuICBjb25zdCBoYXNUcmFjZSA9ICEhYXBwLmV2ZW50LnRyYWNlPy5sZW5ndGgsIGhhc0hvYyA9ICEhYXBwLmV4dGVuZGVyLmhpZ2hlck9yZGVyRnVuY3Rpb25zLmxlbmd0aDtcbiAgbGV0IGluZmVyZW5jZSA9IHN1Y3Jvc2UoXG4gICAgcm91dGUuaG9va3MsXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGFwcC5pbmZlcmVuY2VcbiAgKTtcbiAgaW5mZXJlbmNlID0gc3Vjcm9zZShcbiAgICB7XG4gICAgICBoYW5kbGVyOiByb3V0ZS5oYW5kbGVyXG4gICAgfSxcbiAgICBpbmZlcmVuY2VcbiAgKTtcbiAgbGV0IGZuTGl0ZXJhbCA9IFwiY29uc3QgaGFuZGxlcj1kYXRhLmhhbmRsZXIsYXBwPWRhdGEuYXBwLHN0b3JlPWRhdGEuc3RvcmUsZGVjb3JhdG9yPWRhdGEuZGVjb3JhdG9yLHJlZGlyZWN0PWRhdGEucmVkaXJlY3Qscm91dGU9ZGF0YS5yb3V0ZSxtYXBFYXJseVJlc3BvbnNlPWRhdGEubWFwRWFybHlSZXNwb25zZSxcIiArIGFsbG9jYXRlSWYoXCJyYW5kb21JZD1kYXRhLnJhbmRvbUlkLFwiLCBoYXNUcmFjZSkgKyBhbGxvY2F0ZUlmKFwiRUxZU0lBX1JFUVVFU1RfSUQ9ZGF0YS5FTFlTSUFfUkVRVUVTVF9JRCxcIiwgaGFzVHJhY2UpICsgYWxsb2NhdGVJZihcIkVMWVNJQV9UUkFDRT1kYXRhLkVMWVNJQV9UUkFDRSxcIiwgaGFzVHJhY2UpICsgYWxsb2NhdGVJZihcInRyYWNlPWRhdGEudHJhY2UsXCIsIGhhc1RyYWNlKSArIGFsbG9jYXRlSWYoXCJob2M9ZGF0YS5ob2MsXCIsIGhhc0hvYykgKyBgc3RhdHVzPWRhdGEuc3RhdHVzXG5gO1xuICBhcHAuZXZlbnQucmVxdWVzdD8ubGVuZ3RoICYmIChmbkxpdGVyYWwgKz0gYGNvbnN0IG9uUmVxdWVzdD1hcHAuZXZlbnQucmVxdWVzdC5tYXAoeD0+eC5mbilcbmApLCBmbkxpdGVyYWwgKz0gYCR7YXBwLmV2ZW50LnJlcXVlc3Q/LmZpbmQoaXNBc3luYykgPyBcImFzeW5jXCIgOiBcIlwifSBmdW5jdGlvbiBtYXAocmVxdWVzdCl7YDtcbiAgY29uc3QgbmVlZHNRdWVyeSA9IGluZmVyZW5jZS5xdWVyeSB8fCAhIXJvdXRlLmhvb2tzLnF1ZXJ5IHx8ICEhcm91dGUuaG9va3Muc3RhbmRhbG9uZVZhbGlkYXRvcj8uZmluZChcbiAgICAoeCkgPT4geC5xdWVyeVxuICApO1xuICByZXR1cm4gaGFzVHJhY2UgfHwgbmVlZHNRdWVyeSB8fCBhcHAuZXZlbnQucmVxdWVzdD8ubGVuZ3RoID8gKGZuTGl0ZXJhbCArPSBjcmVhdGVDb250ZXh0KGFwcCwgcm91dGUsIGluZmVyZW5jZSksIGZuTGl0ZXJhbCArPSBjcmVhdGVPblJlcXVlc3RIYW5kbGVyKGFwcCksIGZuTGl0ZXJhbCArPSBcInJldHVybiBoYW5kbGVyKGMpfVwiKSA6IGZuTGl0ZXJhbCArPSBgcmV0dXJuIGhhbmRsZXIoJHtjcmVhdGVDb250ZXh0KGFwcCwgcm91dGUsIGluZmVyZW5jZSwgITApfSl9YCwgZm5MaXRlcmFsICs9IGNyZWF0ZUhvYyhhcHApLCBGdW5jdGlvbihcbiAgICBcImRhdGFcIixcbiAgICBmbkxpdGVyYWxcbiAgKSh7XG4gICAgYXBwLFxuICAgIGhhbmRsZXI6IHJvdXRlLmNvbXBpbGU/LigpID8/IHJvdXRlLmNvbXBvc2VkLFxuICAgIHJlZGlyZWN0LFxuICAgIHN0YXR1cyxcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGUgcHJvcGVydHlcbiAgICBob2M6IGFwcC5leHRlbmRlci5oaWdoZXJPcmRlckZ1bmN0aW9ucy5tYXAoKHgpID0+IHguZm4pLFxuICAgIHN0b3JlOiBhcHAuc3RvcmUsXG4gICAgZGVjb3JhdG9yOiBhcHAuZGVjb3JhdG9yLFxuICAgIHJvdXRlOiByb3V0ZS5wYXRoLFxuICAgIHJhbmRvbUlkOiBoYXNUcmFjZSA/IHJhbmRvbUlkIDogdm9pZCAwLFxuICAgIEVMWVNJQV9UUkFDRTogaGFzVHJhY2UgPyBFTFlTSUFfVFJBQ0UgOiB2b2lkIDAsXG4gICAgRUxZU0lBX1JFUVVFU1RfSUQ6IGhhc1RyYWNlID8gRUxZU0lBX1JFUVVFU1RfSUQgOiB2b2lkIDAsXG4gICAgdHJhY2U6IGhhc1RyYWNlID8gYXBwLmV2ZW50LnRyYWNlPy5tYXAoKHgpID0+IHg/LmZuID8/IHgpIDogdm9pZCAwLFxuICAgIG1hcEVhcmx5UmVzcG9uc2VcbiAgfSk7XG59O1xuZXhwb3J0IHtcbiAgY3JlYXRlQnVuUm91dGVIYW5kbGVyXG59O1xuIiwKICAgICJpbXBvcnQgeyBpc0hUTUxCdW5kbGUgfSBmcm9tIFwiLi9pbmRleC5tanNcIjtcbmltcG9ydCB7IG1hcFJlc3BvbnNlIH0gZnJvbSBcIi4vaGFuZGxlci5tanNcIjtcbmNvbnN0IGNyZWF0ZU5hdGl2ZVN0YXRpY0hhbmRsZXIgPSAoaGFuZGxlLCBob29rcywgc2V0KSA9PiB7XG4gIGlmICh0eXBlb2YgaGFuZGxlID09IFwiZnVuY3Rpb25cIiB8fCBoYW5kbGUgaW5zdGFuY2VvZiBCbG9iKSByZXR1cm47XG4gIGlmIChpc0hUTUxCdW5kbGUoaGFuZGxlKSkgcmV0dXJuICgpID0+IGhhbmRsZTtcbiAgY29uc3QgcmVzcG9uc2UgPSBtYXBSZXNwb25zZShcbiAgICBoYW5kbGUsXG4gICAgc2V0ID8/IHtcbiAgICAgIGhlYWRlcnM6IHt9XG4gICAgfVxuICApO1xuICBpZiAoIWhvb2tzLnBhcnNlPy5sZW5ndGggJiYgIWhvb2tzLnRyYW5zZm9ybT8ubGVuZ3RoICYmICFob29rcy5iZWZvcmVIYW5kbGU/Lmxlbmd0aCAmJiAhaG9va3MuYWZ0ZXJIYW5kbGU/Lmxlbmd0aClcbiAgICByZXR1cm4gcmVzcG9uc2UgaW5zdGFuY2VvZiBQcm9taXNlID8gcmVzcG9uc2UudGhlbigocmVzcG9uc2UyKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2UyKVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UyLmhlYWRlcnMuaGFzKFwiY29udGVudC10eXBlXCIpIHx8IHJlc3BvbnNlMi5oZWFkZXJzLmFwcGVuZChcImNvbnRlbnQtdHlwZVwiLCBcInRleHQvcGxhaW5cIiksIHJlc3BvbnNlMi5jbG9uZSgpO1xuICAgIH0pIDogKHJlc3BvbnNlLmhlYWRlcnMuaGFzKFwiY29udGVudC10eXBlXCIpIHx8IHJlc3BvbnNlLmhlYWRlcnMuYXBwZW5kKFwiY29udGVudC10eXBlXCIsIFwidGV4dC9wbGFpblwiKSwgKCkgPT4gcmVzcG9uc2UuY2xvbmUoKSk7XG59O1xuZXhwb3J0IHtcbiAgY3JlYXRlTmF0aXZlU3RhdGljSGFuZGxlclxufTtcbiIsCiAgICAiaW1wb3J0IHsgaXNOdW1lcmljU3RyaW5nIH0gZnJvbSBcIi4uL3V0aWxzLm1qc1wiO1xuaW1wb3J0IHsgVmFsaWRhdGlvbkVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuY29uc3Qgd2Vic29ja2V0ID0ge1xuICBvcGVuKHdzKSB7XG4gICAgd3MuZGF0YS5vcGVuPy4od3MpO1xuICB9LFxuICBtZXNzYWdlKHdzLCBtZXNzYWdlKSB7XG4gICAgd3MuZGF0YS5tZXNzYWdlPy4od3MsIG1lc3NhZ2UpO1xuICB9LFxuICBkcmFpbih3cykge1xuICAgIHdzLmRhdGEuZHJhaW4/Lih3cyk7XG4gIH0sXG4gIGNsb3NlKHdzLCBjb2RlLCByZWFzb24pIHtcbiAgICB3cy5kYXRhLmNsb3NlPy4od3MsIGNvZGUsIHJlYXNvbik7XG4gIH1cbn07XG5jbGFzcyBFbHlzaWFXUyB7XG4gIGNvbnN0cnVjdG9yKHJhdywgZGF0YSwgYm9keSA9IHZvaWQgMCkge1xuICAgIHRoaXMucmF3ID0gcmF3O1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICB0aGlzLnZhbGlkYXRvciA9IHJhdy5kYXRhPy52YWxpZGF0b3IsIHRoaXMuc2VuZFRleHQgPSByYXcuc2VuZFRleHQuYmluZChyYXcpLCB0aGlzLnNlbmRCaW5hcnkgPSByYXcuc2VuZEJpbmFyeS5iaW5kKHJhdyksIHRoaXMuY2xvc2UgPSByYXcuY2xvc2UuYmluZChyYXcpLCB0aGlzLnRlcm1pbmF0ZSA9IHJhdy50ZXJtaW5hdGUuYmluZChyYXcpLCB0aGlzLnB1Ymxpc2hUZXh0ID0gcmF3LnB1Ymxpc2hUZXh0LmJpbmQocmF3KSwgdGhpcy5wdWJsaXNoQmluYXJ5ID0gcmF3LnB1Ymxpc2hCaW5hcnkuYmluZChyYXcpLCB0aGlzLnN1YnNjcmliZSA9IHJhdy5zdWJzY3JpYmUuYmluZChyYXcpLCB0aGlzLnVuc3Vic2NyaWJlID0gcmF3LnVuc3Vic2NyaWJlLmJpbmQocmF3KSwgdGhpcy5pc1N1YnNjcmliZWQgPSByYXcuaXNTdWJzY3JpYmVkLmJpbmQocmF3KSwgdGhpcy5jb3JrID0gcmF3LmNvcmsuYmluZChyYXcpLCB0aGlzLnJlbW90ZUFkZHJlc3MgPSByYXcucmVtb3RlQWRkcmVzcywgdGhpcy5iaW5hcnlUeXBlID0gcmF3LmJpbmFyeVR5cGUsIHRoaXMuZGF0YSA9IHJhdy5kYXRhLCB0aGlzLnNlbmQgPSB0aGlzLnNlbmQuYmluZCh0aGlzKSwgdGhpcy5waW5nID0gdGhpcy5waW5nLmJpbmQodGhpcyksIHRoaXMucG9uZyA9IHRoaXMucG9uZy5iaW5kKHRoaXMpLCB0aGlzLnB1Ymxpc2ggPSB0aGlzLnB1Ymxpc2guYmluZCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogU2VuZHMgYSBtZXNzYWdlIHRvIHRoZSBjbGllbnQuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIHNlbmQuXG4gICAqIEBwYXJhbSBjb21wcmVzcyBTaG91bGQgdGhlIGRhdGEgYmUgY29tcHJlc3NlZD8gSWYgdGhlIGNsaWVudCBkb2VzIG5vdCBzdXBwb3J0IGNvbXByZXNzaW9uLCB0aGlzIGlzIGlnbm9yZWQuXG4gICAqIEBleGFtcGxlXG4gICAqIHdzLnNlbmQoXCJIZWxsbyFcIik7XG4gICAqIHdzLnNlbmQoXCJDb21wcmVzcyB0aGlzLlwiLCB0cnVlKTtcbiAgICogd3Muc2VuZChuZXcgVWludDhBcnJheShbMSwgMiwgMywgNF0pKTtcbiAgICovXG4gIHNlbmQoZGF0YSwgY29tcHJlc3MpIHtcbiAgICByZXR1cm4gQnVmZmVyLmlzQnVmZmVyKGRhdGEpID8gdGhpcy5yYXcuc2VuZChkYXRhLCBjb21wcmVzcykgOiB0aGlzLnZhbGlkYXRvcj8uQ2hlY2soZGF0YSkgPT09ICExID8gdGhpcy5yYXcuc2VuZChcbiAgICAgIG5ldyBWYWxpZGF0aW9uRXJyb3IoXCJtZXNzYWdlXCIsIHRoaXMudmFsaWRhdG9yLCBkYXRhKS5tZXNzYWdlXG4gICAgKSA6ICh0eXBlb2YgZGF0YSA9PSBcIm9iamVjdFwiICYmIChkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSkpLCB0aGlzLnJhdy5zZW5kKGRhdGEsIGNvbXByZXNzKSk7XG4gIH1cbiAgLyoqXG4gICAqIFNlbmRzIGEgcGluZy5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gc2VuZFxuICAgKi9cbiAgcGluZyhkYXRhKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihkYXRhKSA/IHRoaXMucmF3LnBpbmcoZGF0YSkgOiB0aGlzLnZhbGlkYXRvcj8uQ2hlY2soZGF0YSkgPT09ICExID8gdGhpcy5yYXcuc2VuZChcbiAgICAgIG5ldyBWYWxpZGF0aW9uRXJyb3IoXCJtZXNzYWdlXCIsIHRoaXMudmFsaWRhdG9yLCBkYXRhKS5tZXNzYWdlXG4gICAgKSA6ICh0eXBlb2YgZGF0YSA9PSBcIm9iamVjdFwiICYmIChkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSkpLCB0aGlzLnJhdy5waW5nKGRhdGEpKTtcbiAgfVxuICAvKipcbiAgICogU2VuZHMgYSBwb25nLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBzZW5kXG4gICAqL1xuICBwb25nKGRhdGEpIHtcbiAgICByZXR1cm4gQnVmZmVyLmlzQnVmZmVyKGRhdGEpID8gdGhpcy5yYXcucG9uZyhkYXRhKSA6IHRoaXMudmFsaWRhdG9yPy5DaGVjayhkYXRhKSA9PT0gITEgPyB0aGlzLnJhdy5zZW5kKFxuICAgICAgbmV3IFZhbGlkYXRpb25FcnJvcihcIm1lc3NhZ2VcIiwgdGhpcy52YWxpZGF0b3IsIGRhdGEpLm1lc3NhZ2VcbiAgICApIDogKHR5cGVvZiBkYXRhID09IFwib2JqZWN0XCIgJiYgKGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKSksIHRoaXMucmF3LnBvbmcoZGF0YSkpO1xuICB9XG4gIC8qKlxuICAgKiBTZW5kcyBhIG1lc3NhZ2UgdG8gc3Vic2NyaWJlcnMgb2YgdGhlIHRvcGljLlxuICAgKlxuICAgKiBAcGFyYW0gdG9waWMgVGhlIHRvcGljIG5hbWUuXG4gICAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIHNlbmQuXG4gICAqIEBwYXJhbSBjb21wcmVzcyBTaG91bGQgdGhlIGRhdGEgYmUgY29tcHJlc3NlZD8gSWYgdGhlIGNsaWVudCBkb2VzIG5vdCBzdXBwb3J0IGNvbXByZXNzaW9uLCB0aGlzIGlzIGlnbm9yZWQuXG4gICAqIEBleGFtcGxlXG4gICAqIHdzLnB1Ymxpc2goXCJjaGF0XCIsIFwiSGVsbG8hXCIpO1xuICAgKiB3cy5wdWJsaXNoKFwiY2hhdFwiLCBcIkNvbXByZXNzIHRoaXMuXCIsIHRydWUpO1xuICAgKiB3cy5wdWJsaXNoKFwiY2hhdFwiLCBuZXcgVWludDhBcnJheShbMSwgMiwgMywgNF0pKTtcbiAgICovXG4gIHB1Ymxpc2godG9waWMsIGRhdGEsIGNvbXByZXNzKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihkYXRhKSA/IHRoaXMucmF3LnB1Ymxpc2goXG4gICAgICB0b3BpYyxcbiAgICAgIGRhdGEsXG4gICAgICBjb21wcmVzc1xuICAgICkgOiB0aGlzLnZhbGlkYXRvcj8uQ2hlY2soZGF0YSkgPT09ICExID8gdGhpcy5yYXcuc2VuZChcbiAgICAgIG5ldyBWYWxpZGF0aW9uRXJyb3IoXCJtZXNzYWdlXCIsIHRoaXMudmFsaWRhdG9yLCBkYXRhKS5tZXNzYWdlXG4gICAgKSA6ICh0eXBlb2YgZGF0YSA9PSBcIm9iamVjdFwiICYmIChkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSkpLCB0aGlzLnJhdy5wdWJsaXNoKHRvcGljLCBkYXRhLCBjb21wcmVzcykpO1xuICB9XG4gIGdldCByZWFkeVN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLnJhdy5yZWFkeVN0YXRlO1xuICB9XG4gIGdldCBpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLmlkO1xuICB9XG59XG5jb25zdCBjcmVhdGVXU01lc3NhZ2VQYXJzZXIgPSAocGFyc2UpID0+IHtcbiAgY29uc3QgcGFyc2VycyA9IHR5cGVvZiBwYXJzZSA9PSBcImZ1bmN0aW9uXCIgPyBbcGFyc2VdIDogcGFyc2U7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbih3cywgbWVzc2FnZSkge1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCBzdGFydCA9IG1lc3NhZ2U/LmNoYXJDb2RlQXQoMCk7XG4gICAgICBpZiAoc3RhcnQgPT09IDM0IHx8IHN0YXJ0ID09PSA0NyB8fCBzdGFydCA9PT0gOTEgfHwgc3RhcnQgPT09IDEyMylcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBtZXNzYWdlID0gSlNPTi5wYXJzZShtZXNzYWdlKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgIH1cbiAgICAgIGVsc2UgaXNOdW1lcmljU3RyaW5nKG1lc3NhZ2UpID8gbWVzc2FnZSA9ICttZXNzYWdlIDogbWVzc2FnZSA9PT0gXCJ0cnVlXCIgPyBtZXNzYWdlID0gITAgOiBtZXNzYWdlID09PSBcImZhbHNlXCIgPyBtZXNzYWdlID0gITEgOiBtZXNzYWdlID09PSBcIm51bGxcIiAmJiAobWVzc2FnZSA9IG51bGwpO1xuICAgIH1cbiAgICBpZiAocGFyc2VycylcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyc2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgdGVtcCA9IHBhcnNlcnNbaV0od3MsIG1lc3NhZ2UpO1xuICAgICAgICBpZiAodGVtcCBpbnN0YW5jZW9mIFByb21pc2UgJiYgKHRlbXAgPSBhd2FpdCB0ZW1wKSwgdGVtcCAhPT0gdm9pZCAwKSByZXR1cm4gdGVtcDtcbiAgICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfTtcbn0sIGNyZWF0ZUhhbmRsZVdTUmVzcG9uc2UgPSAodmFsaWRhdGVSZXNwb25zZSkgPT4ge1xuICBjb25zdCBoYW5kbGVXU1Jlc3BvbnNlID0gKHdzLCBkYXRhKSA9PiB7XG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgcmV0dXJuIGRhdGEudGhlbigoZGF0YTIpID0+IGhhbmRsZVdTUmVzcG9uc2Uod3MsIGRhdGEyKSk7XG4gICAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihkYXRhKSkgcmV0dXJuIHdzLnNlbmQoZGF0YS50b1N0cmluZygpKTtcbiAgICBpZiAoZGF0YSA9PT0gdm9pZCAwKSByZXR1cm47XG4gICAgY29uc3Qgc2VuZCA9IChkYXR1bSkgPT4ge1xuICAgICAgaWYgKHZhbGlkYXRlUmVzcG9uc2U/LkNoZWNrKGRhdHVtKSA9PT0gITEpXG4gICAgICAgIHJldHVybiB3cy5zZW5kKFxuICAgICAgICAgIG5ldyBWYWxpZGF0aW9uRXJyb3IoXCJtZXNzYWdlXCIsIHZhbGlkYXRlUmVzcG9uc2UsIGRhdHVtKS5tZXNzYWdlXG4gICAgICAgICk7XG4gICAgICBpZiAodHlwZW9mIGRhdHVtID09IFwib2JqZWN0XCIpIHJldHVybiB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdHVtKSk7XG4gICAgICB3cy5zZW5kKGRhdHVtKTtcbiAgICB9O1xuICAgIGlmICh0eXBlb2YgZGF0YT8ubmV4dCAhPSBcImZ1bmN0aW9uXCIpXG4gICAgICByZXR1cm4gdm9pZCBzZW5kKGRhdGEpO1xuICAgIGNvbnN0IGluaXQgPSBkYXRhLm5leHQoKTtcbiAgICBpZiAoaW5pdCBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICByZXR1cm4gKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgZmlyc3QgPSBhd2FpdCBpbml0O1xuICAgICAgICBpZiAodmFsaWRhdGVSZXNwb25zZT8uQ2hlY2soZmlyc3QpID09PSAhMSlcbiAgICAgICAgICByZXR1cm4gd3Muc2VuZChcbiAgICAgICAgICAgIG5ldyBWYWxpZGF0aW9uRXJyb3IoXCJtZXNzYWdlXCIsIHZhbGlkYXRlUmVzcG9uc2UsIGZpcnN0KS5tZXNzYWdlXG4gICAgICAgICAgKTtcbiAgICAgICAgaWYgKHNlbmQoZmlyc3QudmFsdWUpLCAhZmlyc3QuZG9uZSlcbiAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGRhdHVtIG9mIGRhdGEpIHNlbmQoZGF0dW0pO1xuICAgICAgfSkoKTtcbiAgICBpZiAoc2VuZChpbml0LnZhbHVlKSwgIWluaXQuZG9uZSkgZm9yIChjb25zdCBkYXR1bSBvZiBkYXRhKSBzZW5kKGRhdHVtKTtcbiAgfTtcbiAgcmV0dXJuIGhhbmRsZVdTUmVzcG9uc2U7XG59O1xuZXhwb3J0IHtcbiAgRWx5c2lhV1MsXG4gIGNyZWF0ZUhhbmRsZVdTUmVzcG9uc2UsXG4gIGNyZWF0ZVdTTWVzc2FnZVBhcnNlcixcbiAgd2Vic29ja2V0XG59O1xuIiwKICAgICJpbXBvcnQgeyBXZWJTdGFuZGFyZEFkYXB0ZXIgfSBmcm9tIFwiLi4vd2ViLXN0YW5kYXJkL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VTZXRDb29raWVzIH0gZnJvbSBcIi4uL3V0aWxzLm1qc1wiO1xuaW1wb3J0IHsgY3JlYXRlQnVuUm91dGVIYW5kbGVyIH0gZnJvbSBcIi4vY29tcG9zZS5tanNcIjtcbmltcG9ydCB7IGNyZWF0ZU5hdGl2ZVN0YXRpY0hhbmRsZXIgfSBmcm9tIFwiLi9oYW5kbGVyLW5hdGl2ZS5tanNcIjtcbmltcG9ydCB7IHNlcmlhbGl6ZUNvb2tpZSB9IGZyb20gXCIuLi8uLi9jb29raWVzLm1qc1wiO1xuaW1wb3J0IHsgaXNQcm9kdWN0aW9uLCBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tIFwiLi4vLi4vZXJyb3IubWpzXCI7XG5pbXBvcnQgeyBnZXRTY2hlbWFWYWxpZGF0b3IgfSBmcm9tIFwiLi4vLi4vc2NoZW1hLm1qc1wiO1xuaW1wb3J0IHtcbiAgaGFzSGVhZGVyU2hvcnRoYW5kLFxuICBpc05vdEVtcHR5LFxuICBpc051bWVyaWNTdHJpbmcsXG4gIHJhbmRvbUlkLFxuICBzdXBwb3J0UGVyTWV0aG9kSW5saW5lSGFuZGxlclxufSBmcm9tIFwiLi4vLi4vdXRpbHMubWpzXCI7XG5pbXBvcnQge1xuICBtYXBSZXNwb25zZSxcbiAgbWFwRWFybHlSZXNwb25zZSxcbiAgbWFwQ29tcGFjdFJlc3BvbnNlLFxuICBjcmVhdGVTdGF0aWNIYW5kbGVyXG59IGZyb20gXCIuL2hhbmRsZXIubWpzXCI7XG5pbXBvcnQge1xuICBjcmVhdGVIYW5kbGVXU1Jlc3BvbnNlLFxuICBjcmVhdGVXU01lc3NhZ2VQYXJzZXIsXG4gIEVseXNpYVdTLFxuICB3ZWJzb2NrZXRcbn0gZnJvbSBcIi4uLy4uL3dzL2luZGV4Lm1qc1wiO1xuY29uc3Qgb3B0aW9uYWxQYXJhbSA9IC86Lis/XFw/KD89XFwvfCQpLywgZ2V0UG9zc2libGVQYXJhbXMgPSAocGF0aCkgPT4ge1xuICBjb25zdCBtYXRjaCA9IG9wdGlvbmFsUGFyYW0uZXhlYyhwYXRoKTtcbiAgaWYgKCFtYXRjaCkgcmV0dXJuIFtwYXRoXTtcbiAgY29uc3Qgcm91dGVzID0gW10sIGhlYWQgPSBwYXRoLnNsaWNlKDAsIG1hdGNoLmluZGV4KSwgcGFyYW0gPSBtYXRjaFswXS5zbGljZSgwLCAtMSksIHRhaWwgPSBwYXRoLnNsaWNlKG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoKTtcbiAgcm91dGVzLnB1c2goaGVhZC5zbGljZSgwLCAtMSkpLCByb3V0ZXMucHVzaChoZWFkICsgcGFyYW0pO1xuICBmb3IgKGNvbnN0IGZyYWdtZW50IG9mIGdldFBvc3NpYmxlUGFyYW1zKHRhaWwpKVxuICAgIGZyYWdtZW50ICYmIChmcmFnbWVudC5zdGFydHNXaXRoKFwiLzpcIikgfHwgcm91dGVzLnB1c2goaGVhZC5zbGljZSgwLCAtMSkgKyBmcmFnbWVudCksIHJvdXRlcy5wdXNoKGhlYWQgKyBwYXJhbSArIGZyYWdtZW50KSk7XG4gIHJldHVybiByb3V0ZXM7XG59LCBpc0hUTUxCdW5kbGUgPSAoaGFuZGxlKSA9PiB0eXBlb2YgaGFuZGxlID09IFwib2JqZWN0XCIgJiYgaGFuZGxlICE9PSBudWxsICYmIChoYW5kbGUudG9TdHJpbmcoKSA9PT0gXCJbb2JqZWN0IEhUTUxCdW5kbGVdXCIgfHwgdHlwZW9mIGhhbmRsZS5pbmRleCA9PSBcInN0cmluZ1wiKSwgc3VwcG9ydGVkTWV0aG9kcyA9IHtcbiAgR0VUOiAhMCxcbiAgSEVBRDogITAsXG4gIE9QVElPTlM6ICEwLFxuICBERUxFVEU6ICEwLFxuICBQQVRDSDogITAsXG4gIFBPU1Q6ICEwLFxuICBQVVQ6ICEwXG59LCBtYXBSb3V0ZXMgPSAoYXBwKSA9PiB7XG4gIGlmICghYXBwLmNvbmZpZy5hb3QgfHwgIWFwcC5jb25maWcuc3lzdGVtUm91dGVyKSByZXR1cm47XG4gIGNvbnN0IHJvdXRlcyA9IHt9LCBhZGQgPSAocm91dGUsIGhhbmRsZXIpID0+IHtcbiAgICBjb25zdCBwYXRoID0gZW5jb2RlVVJJKHJvdXRlLnBhdGgpO1xuICAgIHJvdXRlc1twYXRoXSA/IHJvdXRlc1twYXRoXVtyb3V0ZS5tZXRob2RdIHx8IChyb3V0ZXNbcGF0aF1bcm91dGUubWV0aG9kXSA9IGhhbmRsZXIpIDogcm91dGVzW3BhdGhdID0ge1xuICAgICAgW3JvdXRlLm1ldGhvZF06IGhhbmRsZXJcbiAgICB9O1xuICB9LCB0cmVlID0gYXBwLnJvdXRlVHJlZTtcbiAgZm9yIChjb25zdCByb3V0ZSBvZiBhcHAucm91dGVyLmhpc3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIHJvdXRlLmhhbmRsZXIgIT0gXCJmdW5jdGlvblwiKSBjb250aW51ZTtcbiAgICBjb25zdCBtZXRob2QgPSByb3V0ZS5tZXRob2Q7XG4gICAgaWYgKG1ldGhvZCA9PT0gXCJHRVRcIiAmJiBgV1NfJHtyb3V0ZS5wYXRofWAgaW4gdHJlZSB8fCBtZXRob2QgPT09IFwiV1NcIiB8fCByb3V0ZS5wYXRoLmNoYXJDb2RlQXQocm91dGUucGF0aC5sZW5ndGggLSAxKSA9PT0gNDIgfHwgIShtZXRob2QgaW4gc3VwcG9ydGVkTWV0aG9kcykpXG4gICAgICBjb250aW51ZTtcbiAgICBpZiAobWV0aG9kID09PSBcIkFMTFwiKSB7XG4gICAgICBgV1NfJHtyb3V0ZS5wYXRofWAgaW4gdHJlZSB8fCAocm91dGVzW3JvdXRlLnBhdGhdID0gcm91dGUuaG9va3M/LmNvbmZpZz8ubW91bnQgPyByb3V0ZS5ob29rcy50cmFjZSB8fCBhcHAuZXZlbnQudHJhY2UgfHwgLy8gQHRzLWV4cGVjdC1lcnJvciBwcml2YXRlIHByb3BlcnR5XG4gICAgICBhcHAuZXh0ZW5kZXIuaGlnaGVyT3JkZXJGdW5jdGlvbnMgPyBjcmVhdGVCdW5Sb3V0ZUhhbmRsZXIoYXBwLCByb3V0ZSkgOiByb3V0ZS5ob29rcy5tb3VudCB8fCByb3V0ZS5oYW5kbGVyIDogcm91dGUuaGFuZGxlcik7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbGV0IGNvbXBpbGVkO1xuICAgIGNvbnN0IGhhbmRsZXIgPSBhcHAuY29uZmlnLnByZWNvbXBpbGUgPyBjcmVhdGVCdW5Sb3V0ZUhhbmRsZXIoYXBwLCByb3V0ZSkgOiAocmVxdWVzdCkgPT4gY29tcGlsZWQgPyBjb21waWxlZChyZXF1ZXN0KSA6IChjb21waWxlZCA9IGNyZWF0ZUJ1blJvdXRlSGFuZGxlcihhcHAsIHJvdXRlKSkoXG4gICAgICByZXF1ZXN0XG4gICAgKTtcbiAgICBmb3IgKGNvbnN0IHBhdGggb2YgZ2V0UG9zc2libGVQYXJhbXMocm91dGUucGF0aCkpXG4gICAgICBhZGQoXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgcGF0aFxuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVyXG4gICAgICApO1xuICB9XG4gIHJldHVybiByb3V0ZXM7XG59LCBtZXJnZVJvdXRlcyA9IChyMSwgcjIpID0+IHtcbiAgaWYgKCFyMikgcmV0dXJuIHIxO1xuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhyMikpXG4gICAgaWYgKHIxW2tleV0gIT09IHIyW2tleV0pIHtcbiAgICAgIGlmICghcjFba2V5XSkge1xuICAgICAgICByMVtrZXldID0gcjJba2V5XTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAocjFba2V5XSAmJiByMltrZXldKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcjFba2V5XSA9PSBcImZ1bmN0aW9uXCIgfHwgcjFba2V5XSBpbnN0YW5jZW9mIFJlc3BvbnNlKSB7XG4gICAgICAgICAgcjFba2V5XSA9IHIyW2tleV07XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcjFba2V5XSA9IHtcbiAgICAgICAgICAuLi5yMVtrZXldLFxuICAgICAgICAgIC4uLnIyW2tleV1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIHJldHVybiByMTtcbn0sIEJ1bkFkYXB0ZXIgPSB7XG4gIC4uLldlYlN0YW5kYXJkQWRhcHRlcixcbiAgbmFtZTogXCJidW5cIixcbiAgaGFuZGxlcjoge1xuICAgIG1hcFJlc3BvbnNlLFxuICAgIG1hcEVhcmx5UmVzcG9uc2UsXG4gICAgbWFwQ29tcGFjdFJlc3BvbnNlLFxuICAgIGNyZWF0ZVN0YXRpY0hhbmRsZXIsXG4gICAgY3JlYXRlTmF0aXZlU3RhdGljSGFuZGxlclxuICB9LFxuICBjb21wb3NlSGFuZGxlcjoge1xuICAgIC4uLldlYlN0YW5kYXJkQWRhcHRlci5jb21wb3NlSGFuZGxlcixcbiAgICBoZWFkZXJzOiBoYXNIZWFkZXJTaG9ydGhhbmQgPyBgYy5oZWFkZXJzPWMucmVxdWVzdC5oZWFkZXJzLnRvSlNPTigpXG5gIDogYGMuaGVhZGVycz17fVxuZm9yKGNvbnN0IFtrLHZdIG9mIGMucmVxdWVzdC5oZWFkZXJzLmVudHJpZXMoKSljLmhlYWRlcnNba109dlxuYFxuICB9LFxuICBsaXN0ZW4oYXBwKSB7XG4gICAgcmV0dXJuIChvcHRpb25zLCBjYWxsYmFjaykgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBCdW4gPiBcInVcIilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiLmxpc3RlbigpIGlzIGRlc2lnbmVkIHRvIHJ1biBvbiBCdW4gb25seS4gSWYgeW91IGFyZSBydW5uaW5nIEVseXNpYSBpbiBvdGhlciBlbnZpcm9ubWVudCBwbGVhc2UgdXNlIGEgZGVkaWNhdGVkIHBsdWdpbiBvciBleHBvcnQgdGhlIGhhbmRsZXIgdmlhIEVseXNpYS5mZXRjaFwiXG4gICAgICAgICk7XG4gICAgICBpZiAoYXBwLmNvbXBpbGUoKSwgdHlwZW9mIG9wdGlvbnMgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoIWlzTnVtZXJpY1N0cmluZyhvcHRpb25zKSlcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQb3J0IG11c3QgYmUgYSBudW1lcmljIHZhbHVlXCIpO1xuICAgICAgICBvcHRpb25zID0gcGFyc2VJbnQob3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBjb25zdCBjcmVhdGVTdGF0aWNSb3V0ZSA9IChpdGVyYXRvciwgeyB3aXRoQXN5bmMgPSAhMSB9ID0ge30pID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGljUm91dGVzID0ge30sIG9wcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBbcGF0aCwgcm91dGVdIG9mIE9iamVjdC5lbnRyaWVzKGl0ZXJhdG9yKSlcbiAgICAgICAgICBpZiAocGF0aCA9IGVuY29kZVVSSShwYXRoKSwgc3VwcG9ydFBlck1ldGhvZElubGluZUhhbmRsZXIpIHtcbiAgICAgICAgICAgIGlmICghcm91dGUpIGNvbnRpbnVlO1xuICAgICAgICAgICAgZm9yIChjb25zdCBbbWV0aG9kLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocm91dGUpKVxuICAgICAgICAgICAgICBpZiAoISghdmFsdWUgfHwgIShtZXRob2QgaW4gc3VwcG9ydGVkTWV0aG9kcykpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgd2l0aEFzeW5jICYmIChzdGF0aWNSb3V0ZXNbcGF0aF0gfHwgKHN0YXRpY1JvdXRlc1twYXRoXSA9IHt9KSwgb3BzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLnRoZW4oKGF3YWl0ZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBhd2FpdGVkIGluc3RhbmNlb2YgUmVzcG9uc2UgJiYgKHN0YXRpY1JvdXRlc1twYXRoXVttZXRob2RdID0gYXdhaXRlZCksIGlzSFRNTEJ1bmRsZShhd2FpdGVkKSAmJiAoc3RhdGljUm91dGVzW3BhdGhdW21ldGhvZF0gPSBhd2FpdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICEodmFsdWUgaW5zdGFuY2VvZiBSZXNwb25zZSkgJiYgIWlzSFRNTEJ1bmRsZSh2YWx1ZSkgfHwgKHN0YXRpY1JvdXRlc1twYXRoXSB8fCAoc3RhdGljUm91dGVzW3BhdGhdID0ge30pLCBzdGF0aWNSb3V0ZXNbcGF0aF1bbWV0aG9kXSA9IHZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXJvdXRlKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChyb3V0ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgd2l0aEFzeW5jICYmIChzdGF0aWNSb3V0ZXNbcGF0aF0gfHwgKHN0YXRpY1JvdXRlc1twYXRoXSA9IHt9KSwgb3BzLnB1c2goXG4gICAgICAgICAgICAgICAgcm91dGUudGhlbigoYXdhaXRlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgYXdhaXRlZCBpbnN0YW5jZW9mIFJlc3BvbnNlICYmIChzdGF0aWNSb3V0ZXNbcGF0aF0gPSBhd2FpdGVkKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIShyb3V0ZSBpbnN0YW5jZW9mIFJlc3BvbnNlKSkgY29udGludWU7XG4gICAgICAgICAgICBzdGF0aWNSb3V0ZXNbcGF0aF0gPSByb3V0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aXRoQXN5bmMgPyBQcm9taXNlLmFsbChvcHMpLnRoZW4oKCkgPT4gc3RhdGljUm91dGVzKSA6IHN0YXRpY1JvdXRlcztcbiAgICAgIH0sIHNlcnZlID0gdHlwZW9mIG9wdGlvbnMgPT0gXCJvYmplY3RcIiA/IHtcbiAgICAgICAgZGV2ZWxvcG1lbnQ6ICFpc1Byb2R1Y3Rpb24sXG4gICAgICAgIHJldXNlUG9ydDogITAsXG4gICAgICAgIGlkbGVUaW1lb3V0OiAzMCxcbiAgICAgICAgLi4uYXBwLmNvbmZpZy5zZXJ2ZSB8fCB7fSxcbiAgICAgICAgLi4ub3B0aW9ucyB8fCB7fSxcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByb3V0ZXM6IG1lcmdlUm91dGVzKFxuICAgICAgICAgIG1lcmdlUm91dGVzKFxuICAgICAgICAgICAgY3JlYXRlU3RhdGljUm91dGUoYXBwLnJvdXRlci5yZXNwb25zZSksXG4gICAgICAgICAgICBtYXBSb3V0ZXMoYXBwKVxuICAgICAgICAgICksXG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBwcml2YXRlIHByb3BlcnR5XG4gICAgICAgICAgYXBwLmNvbmZpZy5zZXJ2ZT8ucm91dGVzXG4gICAgICAgICksXG4gICAgICAgIHdlYnNvY2tldDoge1xuICAgICAgICAgIC4uLmFwcC5jb25maWcud2Vic29ja2V0IHx8IHt9LFxuICAgICAgICAgIC4uLndlYnNvY2tldCB8fCB7fSxcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIG5vdCBhdmFpbGFibGUgaW4gdGhpcyB2YXJpYW50IG9mIG9wdGlvbnMgdHlwZVxuICAgICAgICAgIC4uLm9wdGlvbnMud2Vic29ja2V0IHx8IHt9XG4gICAgICAgIH0sXG4gICAgICAgIGZldGNoOiBhcHAuZmV0Y2hcbiAgICAgIH0gOiB7XG4gICAgICAgIGRldmVsb3BtZW50OiAhaXNQcm9kdWN0aW9uLFxuICAgICAgICByZXVzZVBvcnQ6ICEwLFxuICAgICAgICBpZGxlVGltZW91dDogMzAsXG4gICAgICAgIC4uLmFwcC5jb25maWcuc2VydmUgfHwge30sXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcm91dGVzOiBtZXJnZVJvdXRlcyhcbiAgICAgICAgICBtZXJnZVJvdXRlcyhcbiAgICAgICAgICAgIGNyZWF0ZVN0YXRpY1JvdXRlKGFwcC5yb3V0ZXIucmVzcG9uc2UpLFxuICAgICAgICAgICAgbWFwUm91dGVzKGFwcClcbiAgICAgICAgICApLFxuICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcHJpdmF0ZSBwcm9wZXJ0eVxuICAgICAgICAgIGFwcC5jb25maWcuc2VydmU/LnJvdXRlc1xuICAgICAgICApLFxuICAgICAgICB3ZWJzb2NrZXQ6IHtcbiAgICAgICAgICAuLi5hcHAuY29uZmlnLndlYnNvY2tldCB8fCB7fSxcbiAgICAgICAgICAuLi53ZWJzb2NrZXQgfHwge31cbiAgICAgICAgfSxcbiAgICAgICAgcG9ydDogb3B0aW9ucyxcbiAgICAgICAgZmV0Y2g6IGFwcC5mZXRjaFxuICAgICAgfTtcbiAgICAgIGlmIChhcHAuc2VydmVyID0gQnVuLnNlcnZlKHNlcnZlKSwgYXBwLmV2ZW50LnN0YXJ0KVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFwcC5ldmVudC5zdGFydC5sZW5ndGg7IGkrKylcbiAgICAgICAgICBhcHAuZXZlbnQuc3RhcnRbaV0uZm4oYXBwKTtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGFwcC5zZXJ2ZXIpLCBwcm9jZXNzLm9uKFwiYmVmb3JlRXhpdFwiLCAoKSA9PiB7XG4gICAgICAgIGlmIChhcHAuc2VydmVyICYmIChhcHAuc2VydmVyLnN0b3A/LigpLCBhcHAuc2VydmVyID0gbnVsbCwgYXBwLmV2ZW50LnN0b3ApKVxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXBwLmV2ZW50LnN0b3AubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBhcHAuZXZlbnQuc3RvcFtpXS5mbihhcHApO1xuICAgICAgfSksIGFwcC5wcm9taXNlZE1vZHVsZXMudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgIGFwcC5zZXJ2ZXI/LnJlbG9hZCh7XG4gICAgICAgICAgLi4uc2VydmUsXG4gICAgICAgICAgZmV0Y2g6IGFwcC5mZXRjaCxcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgcm91dGVzOiBtZXJnZVJvdXRlcyhcbiAgICAgICAgICAgIG1lcmdlUm91dGVzKFxuICAgICAgICAgICAgICBhd2FpdCBjcmVhdGVTdGF0aWNSb3V0ZShhcHAucm91dGVyLnJlc3BvbnNlLCB7XG4gICAgICAgICAgICAgICAgd2l0aEFzeW5jOiAhMFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgbWFwUm91dGVzKGFwcClcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGUgcHJvcGVydHlcbiAgICAgICAgICAgIGFwcC5jb25maWcuc2VydmU/LnJvdXRlc1xuICAgICAgICAgIClcbiAgICAgICAgfSksIEJ1bj8uZ2MoITEpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSxcbiAgYXN5bmMgc3RvcChhcHAsIGNsb3NlQWN0aXZlQ29ubmVjdGlvbnMpIHtcbiAgICBpZiAoYXBwLnNlcnZlcikge1xuICAgICAgaWYgKGFwcC5zZXJ2ZXIuc3RvcChjbG9zZUFjdGl2ZUNvbm5lY3Rpb25zKSwgYXBwLnNlcnZlciA9IG51bGwsIGFwcC5ldmVudC5zdG9wPy5sZW5ndGgpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXBwLmV2ZW50LnN0b3AubGVuZ3RoOyBpKyspXG4gICAgICAgICAgYXBwLmV2ZW50LnN0b3BbaV0uZm4oYXBwKTtcbiAgICB9IGVsc2VcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBcIkVseXNpYSBpc24ndCBydW5uaW5nLiBDYWxsIGBhcHAubGlzdGVuYCB0byBzdGFydCB0aGUgc2VydmVyLlwiLFxuICAgICAgICBuZXcgRXJyb3IoKS5zdGFja1xuICAgICAgKTtcbiAgfSxcbiAgd3MoYXBwLCBwYXRoLCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyBwYXJzZSwgYm9keSwgcmVzcG9uc2UsIC4uLnJlc3QgfSA9IG9wdGlvbnMsIHZhbGlkYXRlTWVzc2FnZSA9IGdldFNjaGVtYVZhbGlkYXRvcihib2R5LCB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGUgcHJvcGVydHlcbiAgICAgIG1vZHVsZXM6IGFwcC5kZWZpbml0aW9ucy50eXBlYm94LFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBwcml2YXRlIHByb3BlcnR5XG4gICAgICBtb2RlbHM6IGFwcC5kZWZpbml0aW9ucy50eXBlLFxuICAgICAgbm9ybWFsaXplOiBhcHAuY29uZmlnLm5vcm1hbGl6ZVxuICAgIH0pLCB2YWxpZGF0ZVJlc3BvbnNlID0gZ2V0U2NoZW1hVmFsaWRhdG9yKHJlc3BvbnNlLCB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHByaXZhdGUgcHJvcGVydHlcbiAgICAgIG1vZHVsZXM6IGFwcC5kZWZpbml0aW9ucy50eXBlYm94LFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBwcml2YXRlIHByb3BlcnR5XG4gICAgICBtb2RlbHM6IGFwcC5kZWZpbml0aW9ucy50eXBlLFxuICAgICAgbm9ybWFsaXplOiBhcHAuY29uZmlnLm5vcm1hbGl6ZVxuICAgIH0pO1xuICAgIGFwcC5yb3V0ZShcbiAgICAgIFwiV1NcIixcbiAgICAgIHBhdGgsXG4gICAgICBhc3luYyAoY29udGV4dCkgPT4ge1xuICAgICAgICBjb25zdCBzZXJ2ZXIgPSBjb250ZXh0LnNlcnZlciA/PyBhcHAuc2VydmVyLCB7IHNldCwgcGF0aDogcGF0aDIsIHFpLCBoZWFkZXJzLCBxdWVyeSwgcGFyYW1zIH0gPSBjb250ZXh0O1xuICAgICAgICBpZiAoY29udGV4dC52YWxpZGF0b3IgPSB2YWxpZGF0ZVJlc3BvbnNlLCBvcHRpb25zLnVwZ3JhZGUpXG4gICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnVwZ3JhZGUgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW1wID0gb3B0aW9ucy51cGdyYWRlKGNvbnRleHQpO1xuICAgICAgICAgICAgdGVtcCBpbnN0YW5jZW9mIFByb21pc2UgJiYgYXdhaXQgdGVtcDtcbiAgICAgICAgICB9IGVsc2Ugb3B0aW9ucy51cGdyYWRlICYmIE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICBzZXQuaGVhZGVycyxcbiAgICAgICAgICAgIG9wdGlvbnMudXBncmFkZVxuICAgICAgICAgICk7XG4gICAgICAgIGlmIChzZXQuY29va2llICYmIGlzTm90RW1wdHkoc2V0LmNvb2tpZSkpIHtcbiAgICAgICAgICBjb25zdCBjb29raWUgPSBzZXJpYWxpemVDb29raWUoc2V0LmNvb2tpZSk7XG4gICAgICAgICAgY29va2llICYmIChzZXQuaGVhZGVyc1tcInNldC1jb29raWVcIl0gPSBjb29raWUpO1xuICAgICAgICB9XG4gICAgICAgIHNldC5oZWFkZXJzW1wic2V0LWNvb2tpZVwiXSAmJiBBcnJheS5pc0FycmF5KHNldC5oZWFkZXJzW1wic2V0LWNvb2tpZVwiXSkgJiYgKHNldC5oZWFkZXJzID0gcGFyc2VTZXRDb29raWVzKFxuICAgICAgICAgIG5ldyBIZWFkZXJzKHNldC5oZWFkZXJzKSxcbiAgICAgICAgICBzZXQuaGVhZGVyc1tcInNldC1jb29raWVcIl1cbiAgICAgICAgKSk7XG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gY3JlYXRlSGFuZGxlV1NSZXNwb25zZSh2YWxpZGF0ZVJlc3BvbnNlKSwgcGFyc2VNZXNzYWdlID0gY3JlYXRlV1NNZXNzYWdlUGFyc2VyKHBhcnNlKTtcbiAgICAgICAgbGV0IF9pZDtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmJlZm9yZUhhbmRsZSA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcHRpb25zLmJlZm9yZUhhbmRsZShjb250ZXh0KTtcbiAgICAgICAgICByZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlICYmIGF3YWl0IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlcnJvckhhbmRsZXJzID0gW1xuICAgICAgICAgIC4uLm9wdGlvbnMuZXJyb3IgPyBBcnJheS5pc0FycmF5KG9wdGlvbnMuZXJyb3IpID8gb3B0aW9ucy5lcnJvciA6IFtvcHRpb25zLmVycm9yXSA6IFtdLFxuICAgICAgICAgIC4uLihhcHAuZXZlbnQuZXJyb3IgPz8gW10pLm1hcChcbiAgICAgICAgICAgICh4KSA9PiB0eXBlb2YgeCA9PSBcImZ1bmN0aW9uXCIgPyB4IDogeC5mblxuICAgICAgICAgIClcbiAgICAgICAgXS5maWx0ZXIoKHgpID0+IHgpLCBoYXNDdXN0b21FcnJvckhhbmRsZXJzID0gZXJyb3JIYW5kbGVycy5sZW5ndGggPiAwLCBoYW5kbGVFcnJvcnMgPSBoYXNDdXN0b21FcnJvckhhbmRsZXJzID8gYXN5bmMgKHdzLCBlcnJvcikgPT4ge1xuICAgICAgICAgIGZvciAoY29uc3QgaGFuZGxlRXJyb3Igb2YgZXJyb3JIYW5kbGVycykge1xuICAgICAgICAgICAgbGV0IHJlc3BvbnNlMiA9IGhhbmRsZUVycm9yKFxuICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGNvbnRleHQsIHsgZXJyb3IgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UyIGluc3RhbmNlb2YgUHJvbWlzZSAmJiAocmVzcG9uc2UyID0gYXdhaXQgcmVzcG9uc2UyKSwgYXdhaXQgaGFuZGxlUmVzcG9uc2Uod3MsIHJlc3BvbnNlMiksIHJlc3BvbnNlMikgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IDogKCkgPT4ge1xuICAgICAgICB9O1xuICAgICAgICBpZiAoIXNlcnZlcj8udXBncmFkZShjb250ZXh0LnJlcXVlc3QsIHtcbiAgICAgICAgICBoZWFkZXJzOiBpc05vdEVtcHR5KHNldC5oZWFkZXJzKSA/IHNldC5oZWFkZXJzIDogdm9pZCAwLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgICAgICBnZXQgaWQoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfaWQgfHwgKF9pZCA9IHJhbmRvbUlkKCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVSZXNwb25zZSxcbiAgICAgICAgICAgIHBpbmcod3MsIGRhdGEpIHtcbiAgICAgICAgICAgICAgb3B0aW9ucy5waW5nPy4od3MsIGRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBvbmcod3MsIGRhdGEpIHtcbiAgICAgICAgICAgICAgb3B0aW9ucy5wb25nPy4od3MsIGRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wZW46IGFzeW5jICh3cykgPT4ge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZVJlc3BvbnNlKFxuICAgICAgICAgICAgICAgICAgd3MsXG4gICAgICAgICAgICAgICAgICBvcHRpb25zLm9wZW4/LihcbiAgICAgICAgICAgICAgICAgICAgbmV3IEVseXNpYVdTKHdzLCBjb250ZXh0KVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3JzKHdzLCBlcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZXNzYWdlOiBhc3luYyAod3MsIF9tZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBwYXJzZU1lc3NhZ2Uod3MsIF9tZXNzYWdlKTtcbiAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlTWVzc2FnZT8uQ2hlY2sobWVzc2FnZSkgPT09ICExKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdGlvbkVycm9yID0gbmV3IFZhbGlkYXRpb25FcnJvcihcbiAgICAgICAgICAgICAgICAgIFwibWVzc2FnZVwiLFxuICAgICAgICAgICAgICAgICAgdmFsaWRhdGVNZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhc0N1c3RvbUVycm9ySGFuZGxlcnMgPyBoYW5kbGVFcnJvcnMod3MsIHZhbGlkYXRpb25FcnJvcikgOiB2b2lkIHdzLnNlbmQoXG4gICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAgIHdzLFxuICAgICAgICAgICAgICAgICAgb3B0aW9ucy5tZXNzYWdlPy4oXG4gICAgICAgICAgICAgICAgICAgIG5ldyBFbHlzaWFXUyhcbiAgICAgICAgICAgICAgICAgICAgICB3cyxcbiAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3JzKHdzLCBlcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkcmFpbjogYXN5bmMgKHdzKSA9PiB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgICB3cyxcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZHJhaW4/LihcbiAgICAgICAgICAgICAgICAgICAgbmV3IEVseXNpYVdTKHdzLCBjb250ZXh0KVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3JzKHdzLCBlcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9zZTogYXN5bmMgKHdzLCBjb2RlLCByZWFzb24pID0+IHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAgIHdzLFxuICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jbG9zZT8uKFxuICAgICAgICAgICAgICAgICAgICBuZXcgRWx5c2lhV1Mod3MsIGNvbnRleHQpLFxuICAgICAgICAgICAgICAgICAgICBjb2RlLFxuICAgICAgICAgICAgICAgICAgICByZWFzb25cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9ycyh3cywgZXJyb3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KSlcbiAgICAgICAgICByZXR1cm4gc2V0LnN0YXR1cyA9IDQwMCwgXCJFeHBlY3RlZCBhIHdlYnNvY2tldCBjb25uZWN0aW9uXCI7XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAuLi5yZXN0LFxuICAgICAgICB3ZWJzb2NrZXQ6IG9wdGlvbnNcbiAgICAgIH1cbiAgICApO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgQnVuQWRhcHRlcixcbiAgaXNIVE1MQnVuZGxlXG59O1xuIiwKICAgICJpbXBvcnQgeyBpc0J1biB9IGZyb20gXCIuL3V0aWxzLm1qc1wiO1xuY29uc3QgZW52ID0gaXNCdW4gPyBCdW4uZW52IDogdHlwZW9mIHByb2Nlc3MgPCBcInVcIiAmJiBwcm9jZXNzPy5lbnYgPyBwcm9jZXNzLmVudiA6IHt9O1xuZXhwb3J0IHtcbiAgZW52XG59O1xuIiwKICAgICJpbXBvcnQgeyBUcmFuc2Zvcm1EZWNvZGVFcnJvciB9IGZyb20gXCJAc2luY2xhaXIvdHlwZWJveC92YWx1ZVwiO1xuaW1wb3J0IHtcbiAgRWx5c2lhQ3VzdG9tU3RhdHVzUmVzcG9uc2UsXG4gIHN0YXR1cyxcbiAgTm90Rm91bmRFcnJvcixcbiAgVmFsaWRhdGlvbkVycm9yXG59IGZyb20gXCIuL2Vycm9yLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VRdWVyeSB9IGZyb20gXCIuL3BhcnNlLXF1ZXJ5Lm1qc1wiO1xuaW1wb3J0IHsgcmVkaXJlY3QsIHNpZ25Db29raWUsIFN0YXR1c01hcCB9IGZyb20gXCIuL3V0aWxzLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VDb29raWUgfSBmcm9tIFwiLi9jb29raWVzLm1qc1wiO1xuY29uc3QgaW5qZWN0RGVmYXVsdFZhbHVlcyA9ICh0eXBlQ2hlY2tlciwgb2JqKSA9PiB7XG4gIGxldCBzY2hlbWEgPSB0eXBlQ2hlY2tlci5zY2hlbWE7XG4gIGlmIChzY2hlbWEgJiYgKHNjaGVtYS4kZGVmcz8uW3NjaGVtYS4kcmVmXSAmJiAoc2NoZW1hID0gc2NoZW1hLiRkZWZzW3NjaGVtYS4kcmVmXSksICEhc2NoZW1hPy5wcm9wZXJ0aWVzKSlcbiAgICBmb3IgKGNvbnN0IFtrZXksIGtleVNjaGVtYV0gb2YgT2JqZWN0LmVudHJpZXMoc2NoZW1hLnByb3BlcnRpZXMpKVxuICAgICAgb2JqW2tleV0gPz89IGtleVNjaGVtYS5kZWZhdWx0O1xufSwgY3JlYXRlRHluYW1pY0hhbmRsZXIgPSAoYXBwKSA9PiB7XG4gIGNvbnN0IHsgbWFwUmVzcG9uc2UsIG1hcEVhcmx5UmVzcG9uc2UgfSA9IGFwcFtcIn5hZGFwdGVyXCJdLmhhbmRsZXIsIGRlZmF1bHRIZWFkZXIgPSBhcHAuc2V0SGVhZGVycztcbiAgcmV0dXJuIGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgY29uc3QgdXJsID0gcmVxdWVzdC51cmwsIHMgPSB1cmwuaW5kZXhPZihcIi9cIiwgMTEpLCBxaSA9IHVybC5pbmRleE9mKFwiP1wiLCBzICsgMSksIHBhdGggPSBxaSA9PT0gLTEgPyB1cmwuc3Vic3RyaW5nKHMpIDogdXJsLnN1YnN0cmluZyhzLCBxaSksIHNldCA9IHtcbiAgICAgIGNvb2tpZToge30sXG4gICAgICBzdGF0dXM6IDIwMCxcbiAgICAgIGhlYWRlcnM6IGRlZmF1bHRIZWFkZXIgPyB7IC4uLmRlZmF1bHRIZWFkZXIgfSA6IHt9XG4gICAgfSwgY29udGV4dCA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7fSxcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgIGFwcC5zaW5nbGV0b24uZGVjb3JhdG9yLFxuICAgICAge1xuICAgICAgICBzZXQsXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgc3RvcmU6IGFwcC5zaW5nbGV0b24uc3RvcmUsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIHFpLFxuICAgICAgICBlcnJvcjogc3RhdHVzLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIHJlZGlyZWN0XG4gICAgICB9XG4gICAgKTtcbiAgICB0cnkge1xuICAgICAgaWYgKGFwcC5ldmVudC5yZXF1ZXN0KVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFwcC5ldmVudC5yZXF1ZXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qgb25SZXF1ZXN0ID0gYXBwLmV2ZW50LnJlcXVlc3RbaV0uZm47XG4gICAgICAgICAgbGV0IHJlc3BvbnNlMiA9IG9uUmVxdWVzdChjb250ZXh0KTtcbiAgICAgICAgICBpZiAocmVzcG9uc2UyIGluc3RhbmNlb2YgUHJvbWlzZSAmJiAocmVzcG9uc2UyID0gYXdhaXQgcmVzcG9uc2UyKSwgcmVzcG9uc2UyID0gbWFwRWFybHlSZXNwb25zZShyZXNwb25zZTIsIHNldCksIHJlc3BvbnNlMikgcmV0dXJuIGNvbnRleHQucmVzcG9uc2UgPSByZXNwb25zZTI7XG4gICAgICAgIH1cbiAgICAgIGNvbnN0IG1ldGhvZEtleSA9IHJlcXVlc3QubWV0aG9kID09PSBcIkdFVFwiICYmIHJlcXVlc3QuaGVhZGVycy5nZXQoXCJ1cGdyYWRlXCIpPy50b0xvd2VyQ2FzZSgpID09PSBcIndlYnNvY2tldFwiID8gXCJXU1wiIDogcmVxdWVzdC5tZXRob2QsIGhhbmRsZXIgPSBhcHAucm91dGVyLmR5bmFtaWMuZmluZChyZXF1ZXN0Lm1ldGhvZCwgcGF0aCkgPz8gYXBwLnJvdXRlci5keW5hbWljLmZpbmQobWV0aG9kS2V5LCBwYXRoKSA/PyBhcHAucm91dGVyLmR5bmFtaWMuZmluZChcIkFMTFwiLCBwYXRoKTtcbiAgICAgIGlmICghaGFuZGxlcilcbiAgICAgICAgdGhyb3cgY29udGV4dC5xdWVyeSA9IHFpID09PSAtMSA/IHt9IDogcGFyc2VRdWVyeSh1cmwuc3Vic3RyaW5nKHFpICsgMSkpLCBuZXcgTm90Rm91bmRFcnJvcigpO1xuICAgICAgY29uc3QgeyBoYW5kbGUsIGhvb2tzLCB2YWxpZGF0b3IsIGNvbnRlbnQsIHJvdXRlIH0gPSBoYW5kbGVyLnN0b3JlO1xuICAgICAgbGV0IGJvZHk7XG4gICAgICBpZiAocmVxdWVzdC5tZXRob2QgIT09IFwiR0VUXCIgJiYgcmVxdWVzdC5tZXRob2QgIT09IFwiSEVBRFwiKVxuICAgICAgICBpZiAoY29udGVudClcbiAgICAgICAgICBzd2l0Y2ggKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJhcHBsaWNhdGlvbi9qc29uXCI6XG4gICAgICAgICAgICAgIGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidGV4dC9wbGFpblwiOlxuICAgICAgICAgICAgICBib2R5ID0gYXdhaXQgcmVxdWVzdC50ZXh0KCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiOlxuICAgICAgICAgICAgICBib2R5ID0gcGFyc2VRdWVyeShhd2FpdCByZXF1ZXN0LnRleHQoKSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiOlxuICAgICAgICAgICAgICBib2R5ID0gYXdhaXQgcmVxdWVzdC5hcnJheUJ1ZmZlcigpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCI6XG4gICAgICAgICAgICAgIGJvZHkgPSB7fTtcbiAgICAgICAgICAgICAgY29uc3QgZm9ybSA9IGF3YWl0IHJlcXVlc3QuZm9ybURhdGEoKTtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZm9ybS5rZXlzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoYm9keVtrZXldKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGZvcm0uZ2V0QWxsKGtleSk7XG4gICAgICAgICAgICAgICAgdmFsdWUubGVuZ3RoID09PSAxID8gYm9keVtrZXldID0gdmFsdWVbMF0gOiBib2R5W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGxldCBjb250ZW50VHlwZTtcbiAgICAgICAgICBpZiAocmVxdWVzdC5ib2R5ICYmIChjb250ZW50VHlwZSA9IHJlcXVlc3QuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIikpLCBjb250ZW50VHlwZSkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjb250ZW50VHlwZS5pbmRleE9mKFwiO1wiKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEgJiYgKGNvbnRlbnRUeXBlID0gY29udGVudFR5cGUuc2xpY2UoMCwgaW5kZXgpKSwgY29udGV4dC5jb250ZW50VHlwZSA9IGNvbnRlbnRUeXBlLCBob29rcy5wYXJzZSlcbiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy5wYXJzZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhvb2sgPSBob29rcy5wYXJzZVtpXS5mbjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGhvb2sgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaG9vaykge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwianNvblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXBwbGljYXRpb24vanNvblwiOlxuICAgICAgICAgICAgICAgICAgICAgIGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRleHQvcGxhaW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICBib2R5ID0gYXdhaXQgcmVxdWVzdC50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1cmxlbmNvZGVkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICBib2R5ID0gcGFyc2VRdWVyeShcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlcXVlc3QudGV4dCgpXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFycmF5QnVmZmVyXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIjpcbiAgICAgICAgICAgICAgICAgICAgICBib2R5ID0gYXdhaXQgcmVxdWVzdC5hcnJheUJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZm9ybWRhdGFcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm11bHRpcGFydC9mb3JtLWRhdGFcIjpcbiAgICAgICAgICAgICAgICAgICAgICBib2R5ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybSA9IGF3YWl0IHJlcXVlc3QuZm9ybURhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBmb3JtLmtleXMoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHlba2V5XSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGZvcm0uZ2V0QWxsKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5sZW5ndGggPT09IDEgPyBib2R5W2tleV0gPSB2YWx1ZVswXSA6IGJvZHlba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZXIgPSBhcHBbXCJ+cGFyc2VyXCJdW2hvb2tdO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gcGFyc2VyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wIGluc3RhbmNlb2YgUHJvbWlzZSAmJiAodGVtcCA9IGF3YWl0IHRlbXApLCB0ZW1wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgPSB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IGhvb2soY29udGV4dCwgY29udGVudFR5cGUpO1xuICAgICAgICAgICAgICAgICAgaWYgKHRlbXAgaW5zdGFuY2VvZiBQcm9taXNlICYmICh0ZW1wID0gYXdhaXQgdGVtcCksIHRlbXApIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keSA9IHRlbXA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlbGV0ZSBjb250ZXh0LmNvbnRlbnRUeXBlLCBib2R5ID09PSB2b2lkIDApXG4gICAgICAgICAgICAgIHN3aXRjaCAoY29udGVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiYXBwbGljYXRpb24vanNvblwiOlxuICAgICAgICAgICAgICAgICAgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInRleHQvcGxhaW5cIjpcbiAgICAgICAgICAgICAgICAgIGJvZHkgPSBhd2FpdCByZXF1ZXN0LnRleHQoKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIjpcbiAgICAgICAgICAgICAgICAgIGJvZHkgPSBwYXJzZVF1ZXJ5KGF3YWl0IHJlcXVlc3QudGV4dCgpKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIjpcbiAgICAgICAgICAgICAgICAgIGJvZHkgPSBhd2FpdCByZXF1ZXN0LmFycmF5QnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiOlxuICAgICAgICAgICAgICAgICAgYm9keSA9IHt9O1xuICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybSA9IGF3YWl0IHJlcXVlc3QuZm9ybURhdGEoKTtcbiAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGZvcm0ua2V5cygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChib2R5W2tleV0pIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGZvcm0uZ2V0QWxsKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLmxlbmd0aCA9PT0gMSA/IGJvZHlba2V5XSA9IHZhbHVlWzBdIDogYm9keVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgY29udGV4dC5yb3V0ZSA9IHJvdXRlLCBjb250ZXh0LmJvZHkgPSBib2R5LCBjb250ZXh0LnBhcmFtcyA9IGhhbmRsZXI/LnBhcmFtcyB8fCB2b2lkIDAsIGNvbnRleHQucXVlcnkgPSBxaSA9PT0gLTEgPyB7fSA6IHBhcnNlUXVlcnkodXJsLnN1YnN0cmluZyhxaSArIDEpKSwgY29udGV4dC5oZWFkZXJzID0ge307XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiByZXF1ZXN0LmhlYWRlcnMuZW50cmllcygpKVxuICAgICAgICBjb250ZXh0LmhlYWRlcnNba2V5XSA9IHZhbHVlO1xuICAgICAgY29uc3QgY29va2llTWV0YSA9IHtcbiAgICAgICAgZG9tYWluOiBhcHAuY29uZmlnLmNvb2tpZT8uZG9tYWluID8/IC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdmFsaWRhdG9yPy5jb29raWU/LmNvbmZpZy5kb21haW4sXG4gICAgICAgIGV4cGlyZXM6IGFwcC5jb25maWcuY29va2llPy5leHBpcmVzID8/IC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdmFsaWRhdG9yPy5jb29raWU/LmNvbmZpZy5leHBpcmVzLFxuICAgICAgICBodHRwT25seTogYXBwLmNvbmZpZy5jb29raWU/Lmh0dHBPbmx5ID8/IC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdmFsaWRhdG9yPy5jb29raWU/LmNvbmZpZy5odHRwT25seSxcbiAgICAgICAgbWF4QWdlOiBhcHAuY29uZmlnLmNvb2tpZT8ubWF4QWdlID8/IC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdmFsaWRhdG9yPy5jb29raWU/LmNvbmZpZy5tYXhBZ2UsXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcGF0aDogYXBwLmNvbmZpZy5jb29raWU/LnBhdGggPz8gdmFsaWRhdG9yPy5jb29raWU/LmNvbmZpZy5wYXRoLFxuICAgICAgICBwcmlvcml0eTogYXBwLmNvbmZpZy5jb29raWU/LnByaW9yaXR5ID8/IC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdmFsaWRhdG9yPy5jb29raWU/LmNvbmZpZy5wcmlvcml0eSxcbiAgICAgICAgcGFydGl0aW9uZWQ6IGFwcC5jb25maWcuY29va2llPy5wYXJ0aXRpb25lZCA/PyAvLyBAdHMtaWdub3JlXG4gICAgICAgIHZhbGlkYXRvcj8uY29va2llPy5jb25maWcucGFydGl0aW9uZWQsXG4gICAgICAgIHNhbWVTaXRlOiBhcHAuY29uZmlnLmNvb2tpZT8uc2FtZVNpdGUgPz8gLy8gQHRzLWlnbm9yZVxuICAgICAgICB2YWxpZGF0b3I/LmNvb2tpZT8uY29uZmlnLnNhbWVTaXRlLFxuICAgICAgICBzZWN1cmU6IGFwcC5jb25maWcuY29va2llPy5zZWN1cmUgPz8gLy8gQHRzLWlnbm9yZVxuICAgICAgICB2YWxpZGF0b3I/LmNvb2tpZT8uY29uZmlnLnNlY3VyZSxcbiAgICAgICAgc2VjcmV0czogYXBwLmNvbmZpZy5jb29raWU/LnNlY3JldHMgPz8gLy8gQHRzLWlnbm9yZVxuICAgICAgICB2YWxpZGF0b3I/LmNvb2tpZT8uY29uZmlnLnNlY3JldHMsXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgc2lnbjogYXBwLmNvbmZpZy5jb29raWU/LnNpZ24gPz8gdmFsaWRhdG9yPy5jb29raWU/LmNvbmZpZy5zaWduXG4gICAgICB9LCBjb29raWVIZWFkZXJWYWx1ZSA9IHJlcXVlc3QuaGVhZGVycy5nZXQoXCJjb29raWVcIik7XG4gICAgICBjb250ZXh0LmNvb2tpZSA9IGF3YWl0IHBhcnNlQ29va2llKFxuICAgICAgICBjb250ZXh0LnNldCxcbiAgICAgICAgY29va2llSGVhZGVyVmFsdWUsXG4gICAgICAgIGNvb2tpZU1ldGFcbiAgICAgICk7XG4gICAgICBjb25zdCBoZWFkZXJWYWxpZGF0b3IgPSB2YWxpZGF0b3I/LmNyZWF0ZUhlYWRlcnM/LigpO1xuICAgICAgaGVhZGVyVmFsaWRhdG9yICYmIGluamVjdERlZmF1bHRWYWx1ZXMoaGVhZGVyVmFsaWRhdG9yLCBjb250ZXh0LmhlYWRlcnMpO1xuICAgICAgY29uc3QgcGFyYW1zVmFsaWRhdG9yID0gdmFsaWRhdG9yPy5jcmVhdGVQYXJhbXM/LigpO1xuICAgICAgcGFyYW1zVmFsaWRhdG9yICYmIGluamVjdERlZmF1bHRWYWx1ZXMocGFyYW1zVmFsaWRhdG9yLCBjb250ZXh0LnBhcmFtcyk7XG4gICAgICBjb25zdCBxdWVyeVZhbGlkYXRvciA9IHZhbGlkYXRvcj8uY3JlYXRlUXVlcnk/LigpO1xuICAgICAgaWYgKHF1ZXJ5VmFsaWRhdG9yICYmIGluamVjdERlZmF1bHRWYWx1ZXMocXVlcnlWYWxpZGF0b3IsIGNvbnRleHQucXVlcnkpLCBob29rcy50cmFuc2Zvcm0pXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MudHJhbnNmb3JtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgaG9vayA9IGhvb2tzLnRyYW5zZm9ybVtpXTtcbiAgICAgICAgICBsZXQgcmVzcG9uc2UyID0gaG9vay5mbihjb250ZXh0KTtcbiAgICAgICAgICBpZiAocmVzcG9uc2UyIGluc3RhbmNlb2YgUHJvbWlzZSAmJiAocmVzcG9uc2UyID0gYXdhaXQgcmVzcG9uc2UyKSwgcmVzcG9uc2UyIGluc3RhbmNlb2YgRWx5c2lhQ3VzdG9tU3RhdHVzUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG1hcEVhcmx5UmVzcG9uc2UocmVzcG9uc2UyLCBjb250ZXh0LnNldCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KVxuICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5yZXNwb25zZSA9IHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaG9vay5zdWJUeXBlID09PSBcImRlcml2ZVwiICYmIE9iamVjdC5hc3NpZ24oY29udGV4dCwgcmVzcG9uc2UyKTtcbiAgICAgICAgfVxuICAgICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgICBpZiAoaGVhZGVyVmFsaWRhdG9yKSB7XG4gICAgICAgICAgY29uc3QgX2hlYWRlciA9IHN0cnVjdHVyZWRDbG9uZShjb250ZXh0LmhlYWRlcnMpO1xuICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHJlcXVlc3QuaGVhZGVycylcbiAgICAgICAgICAgIF9oZWFkZXJba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIGlmICh2YWxpZGF0b3IuaGVhZGVycy5DaGVjayhfaGVhZGVyKSA9PT0gITEpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgICBcImhlYWRlclwiLFxuICAgICAgICAgICAgICB2YWxpZGF0b3IuaGVhZGVycyxcbiAgICAgICAgICAgICAgX2hlYWRlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHZhbGlkYXRvci5oZWFkZXJzPy5EZWNvZGUgJiYgKGNvbnRleHQuaGVhZGVycyA9IHZhbGlkYXRvci5oZWFkZXJzLkRlY29kZShjb250ZXh0LmhlYWRlcnMpKTtcbiAgICAgICAgaWYgKHBhcmFtc1ZhbGlkYXRvcj8uQ2hlY2soY29udGV4dC5wYXJhbXMpID09PSAhMSlcbiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgXCJwYXJhbXNcIixcbiAgICAgICAgICAgIHZhbGlkYXRvci5wYXJhbXMsXG4gICAgICAgICAgICBjb250ZXh0LnBhcmFtc1xuICAgICAgICAgICk7XG4gICAgICAgIGlmICh2YWxpZGF0b3IucGFyYW1zPy5EZWNvZGUgJiYgKGNvbnRleHQucGFyYW1zID0gdmFsaWRhdG9yLnBhcmFtcy5EZWNvZGUoY29udGV4dC5wYXJhbXMpKSwgdmFsaWRhdG9yLnF1ZXJ5Py5zY2hlbWEpIHtcbiAgICAgICAgICBsZXQgc2NoZW1hID0gdmFsaWRhdG9yLnF1ZXJ5LnNjaGVtYTtcbiAgICAgICAgICBzY2hlbWEuJGRlZnM/LltzY2hlbWEuJHJlZl0gJiYgKHNjaGVtYSA9IHNjaGVtYS4kZGVmc1tzY2hlbWEuJHJlZl0pO1xuICAgICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBzY2hlbWEucHJvcGVydGllcztcbiAgICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5IG9mIE9iamVjdC5rZXlzKHByb3BlcnRpZXMpKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHByb3BlcnRpZXNbcHJvcGVydHldO1xuICAgICAgICAgICAgKHZhbHVlLnR5cGUgPT09IFwiYXJyYXlcIiB8fCB2YWx1ZS5pdGVtcz8udHlwZSA9PT0gXCJzdHJpbmdcIikgJiYgdHlwZW9mIGNvbnRleHQucXVlcnlbcHJvcGVydHldID09IFwic3RyaW5nXCIgJiYgY29udGV4dC5xdWVyeVtwcm9wZXJ0eV0gJiYgKGNvbnRleHQucXVlcnlbcHJvcGVydHldID0gY29udGV4dC5xdWVyeVtwcm9wZXJ0eV0uc3BsaXQoXCIsXCIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHF1ZXJ5VmFsaWRhdG9yPy5DaGVjayhjb250ZXh0LnF1ZXJ5KSA9PT0gITEpXG4gICAgICAgICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihcbiAgICAgICAgICAgIFwicXVlcnlcIixcbiAgICAgICAgICAgIHZhbGlkYXRvci5xdWVyeSxcbiAgICAgICAgICAgIGNvbnRleHQucXVlcnlcbiAgICAgICAgICApO1xuICAgICAgICBpZiAodmFsaWRhdG9yLnF1ZXJ5Py5EZWNvZGUgJiYgKGNvbnRleHQucXVlcnkgPSB2YWxpZGF0b3IucXVlcnkuRGVjb2RlKGNvbnRleHQucXVlcnkpKSwgdmFsaWRhdG9yLmNyZWF0ZUNvb2tpZT8uKCkpIHtcbiAgICAgICAgICBsZXQgY29va2llVmFsdWUgPSB7fTtcbiAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjb250ZXh0LmNvb2tpZSkpXG4gICAgICAgICAgICBjb29raWVWYWx1ZVtrZXldID0gdmFsdWUudmFsdWU7XG4gICAgICAgICAgaWYgKHZhbGlkYXRvci5jb29raWUuQ2hlY2soY29va2llVmFsdWUpID09PSAhMSlcbiAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXG4gICAgICAgICAgICAgIFwiY29va2llXCIsXG4gICAgICAgICAgICAgIHZhbGlkYXRvci5jb29raWUsXG4gICAgICAgICAgICAgIGNvb2tpZVZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHZhbGlkYXRvci5jb29raWU/LkRlY29kZSAmJiAoY29va2llVmFsdWUgPSB2YWxpZGF0b3IuY29va2llLkRlY29kZShcbiAgICAgICAgICAgIGNvb2tpZVZhbHVlXG4gICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbGlkYXRvci5jcmVhdGVCb2R5Py4oKT8uQ2hlY2soYm9keSkgPT09ICExKVxuICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXCJib2R5XCIsIHZhbGlkYXRvci5ib2R5LCBib2R5KTtcbiAgICAgICAgdmFsaWRhdG9yLmJvZHk/LkRlY29kZSAmJiAoY29udGV4dC5ib2R5ID0gdmFsaWRhdG9yLmJvZHkuRGVjb2RlKGJvZHkpKTtcbiAgICAgIH1cbiAgICAgIGlmIChob29rcy5iZWZvcmVIYW5kbGUpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MuYmVmb3JlSGFuZGxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgaG9vayA9IGhvb2tzLmJlZm9yZUhhbmRsZVtpXTtcbiAgICAgICAgICBsZXQgcmVzcG9uc2UyID0gaG9vay5mbihjb250ZXh0KTtcbiAgICAgICAgICBpZiAocmVzcG9uc2UyIGluc3RhbmNlb2YgUHJvbWlzZSAmJiAocmVzcG9uc2UyID0gYXdhaXQgcmVzcG9uc2UyKSwgcmVzcG9uc2UyIGluc3RhbmNlb2YgRWx5c2lhQ3VzdG9tU3RhdHVzUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG1hcEVhcmx5UmVzcG9uc2UocmVzcG9uc2UyLCBjb250ZXh0LnNldCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KVxuICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5yZXNwb25zZSA9IHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhvb2suc3ViVHlwZSA9PT0gXCJyZXNvbHZlXCIpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29udGV4dCwgcmVzcG9uc2UyKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzcG9uc2UyICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0LnJlc3BvbnNlID0gcmVzcG9uc2UyLCBob29rcy5hZnRlckhhbmRsZSlcbiAgICAgICAgICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGhvb2tzLmFmdGVySGFuZGxlLmxlbmd0aDsgaTIrKykge1xuICAgICAgICAgICAgICAgIGxldCBuZXdSZXNwb25zZSA9IGhvb2tzLmFmdGVySGFuZGxlW2kyXS5mbihcbiAgICAgICAgICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIG5ld1Jlc3BvbnNlIGluc3RhbmNlb2YgUHJvbWlzZSAmJiAobmV3UmVzcG9uc2UgPSBhd2FpdCBuZXdSZXNwb25zZSksIG5ld1Jlc3BvbnNlICYmIChyZXNwb25zZTIgPSBuZXdSZXNwb25zZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG1hcEVhcmx5UmVzcG9uc2UocmVzcG9uc2UyLCBjb250ZXh0LnNldCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSByZXR1cm4gY29udGV4dC5yZXNwb25zZSA9IHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGxldCByZXNwb25zZSA9IHR5cGVvZiBoYW5kbGUgPT0gXCJmdW5jdGlvblwiID8gaGFuZGxlKGNvbnRleHQpIDogaGFuZGxlO1xuICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgUHJvbWlzZSAmJiAocmVzcG9uc2UgPSBhd2FpdCByZXNwb25zZSksIGhvb2tzLmFmdGVySGFuZGxlPy5sZW5ndGgpIHtcbiAgICAgICAgY29udGV4dC5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvb2tzLmFmdGVySGFuZGxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IHJlc3BvbnNlMiA9IGhvb2tzLmFmdGVySGFuZGxlW2ldLmZuKFxuICAgICAgICAgICAgY29udGV4dFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVzcG9uc2UyIGluc3RhbmNlb2YgUHJvbWlzZSAmJiAocmVzcG9uc2UyID0gYXdhaXQgcmVzcG9uc2UyKTtcbiAgICAgICAgICBjb25zdCBpc0N1c3RvbVN0YXR1UmVzcG9uc2UgPSByZXNwb25zZTIgaW5zdGFuY2VvZiBFbHlzaWFDdXN0b21TdGF0dXNSZXNwb25zZSwgc3RhdHVzMiA9IGlzQ3VzdG9tU3RhdHVSZXNwb25zZSA/IHJlc3BvbnNlMi5jb2RlIDogc2V0LnN0YXR1cyA/IHR5cGVvZiBzZXQuc3RhdHVzID09IFwic3RyaW5nXCIgPyBTdGF0dXNNYXBbc2V0LnN0YXR1c10gOiBzZXQuc3RhdHVzIDogMjAwO1xuICAgICAgICAgIGlzQ3VzdG9tU3RhdHVSZXNwb25zZSAmJiAoc2V0LnN0YXR1cyA9IHN0YXR1czIsIHJlc3BvbnNlMiA9IHJlc3BvbnNlMi5yZXNwb25zZSk7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2VWYWxpZGF0b3IgPSB2YWxpZGF0b3I/LmNyZWF0ZVJlc3BvbnNlPy4oKT8uW3N0YXR1czJdO1xuICAgICAgICAgIGlmIChyZXNwb25zZVZhbGlkYXRvcj8uQ2hlY2socmVzcG9uc2UyKSA9PT0gITEpXG4gICAgICAgICAgICBpZiAocmVzcG9uc2VWYWxpZGF0b3I/LkNsZWFuKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSByZXNwb25zZVZhbGlkYXRvci5DbGVhbihyZXNwb25zZTIpO1xuICAgICAgICAgICAgICBpZiAocmVzcG9uc2VWYWxpZGF0b3I/LkNoZWNrKHRlbXApID09PSAhMSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJyZXNwb25zZVwiLFxuICAgICAgICAgICAgICAgICAgcmVzcG9uc2VWYWxpZGF0b3IsXG4gICAgICAgICAgICAgICAgICByZXNwb25zZTJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICByZXNwb25zZTIgPSB0ZW1wO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJyZXNwb25zZVwiLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlVmFsaWRhdG9yLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlMlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIHJlc3BvbnNlVmFsaWRhdG9yPy5FbmNvZGUgJiYgKGNvbnRleHQucmVzcG9uc2UgPSByZXNwb25zZTIgPSByZXNwb25zZVZhbGlkYXRvci5FbmNvZGUocmVzcG9uc2UyKSksIHJlc3BvbnNlVmFsaWRhdG9yPy5DbGVhbiAmJiAoY29udGV4dC5yZXNwb25zZSA9IHJlc3BvbnNlMiA9IHJlc3BvbnNlVmFsaWRhdG9yLkNsZWFuKHJlc3BvbnNlMikpO1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG1hcEVhcmx5UmVzcG9uc2UocmVzcG9uc2UyLCBjb250ZXh0LnNldCk7XG4gICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdm9pZCAwKSByZXR1cm4gY29udGV4dC5yZXNwb25zZSA9IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaXNDdXN0b21TdGF0dVJlc3BvbnNlID0gcmVzcG9uc2UgaW5zdGFuY2VvZiBFbHlzaWFDdXN0b21TdGF0dXNSZXNwb25zZSwgc3RhdHVzMiA9IGlzQ3VzdG9tU3RhdHVSZXNwb25zZSA/IHJlc3BvbnNlLmNvZGUgOiBzZXQuc3RhdHVzID8gdHlwZW9mIHNldC5zdGF0dXMgPT0gXCJzdHJpbmdcIiA/IFN0YXR1c01hcFtzZXQuc3RhdHVzXSA6IHNldC5zdGF0dXMgOiAyMDA7XG4gICAgICAgIGlzQ3VzdG9tU3RhdHVSZXNwb25zZSAmJiAoc2V0LnN0YXR1cyA9IHN0YXR1czIsIHJlc3BvbnNlID0gcmVzcG9uc2UucmVzcG9uc2UpO1xuICAgICAgICBjb25zdCByZXNwb25zZVZhbGlkYXRvciA9IHZhbGlkYXRvcj8uY3JlYXRlUmVzcG9uc2U/LigpPy5bc3RhdHVzMl07XG4gICAgICAgIGlmIChyZXNwb25zZVZhbGlkYXRvcj8uQ2hlY2socmVzcG9uc2UpID09PSAhMSlcbiAgICAgICAgICBpZiAocmVzcG9uc2VWYWxpZGF0b3I/LkNsZWFuKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW1wID0gcmVzcG9uc2VWYWxpZGF0b3IuQ2xlYW4ocmVzcG9uc2UpO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlVmFsaWRhdG9yPy5DaGVjayh0ZW1wKSA9PT0gITEpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJyZXNwb25zZVwiLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlVmFsaWRhdG9yLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXNwb25zZSA9IHRlbXA7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFxuICAgICAgICAgICAgICBcInJlc3BvbnNlXCIsXG4gICAgICAgICAgICAgIHJlc3BvbnNlVmFsaWRhdG9yLFxuICAgICAgICAgICAgICByZXNwb25zZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgcmVzcG9uc2VWYWxpZGF0b3I/LkVuY29kZSAmJiAocmVzcG9uc2UgPSByZXNwb25zZVZhbGlkYXRvci5FbmNvZGUocmVzcG9uc2UpKSwgcmVzcG9uc2VWYWxpZGF0b3I/LkNsZWFuICYmIChyZXNwb25zZSA9IHJlc3BvbnNlVmFsaWRhdG9yLkNsZWFuKHJlc3BvbnNlKSk7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dC5zZXQuY29va2llICYmIGNvb2tpZU1ldGE/LnNpZ24pIHtcbiAgICAgICAgY29uc3Qgc2VjcmV0ID0gY29va2llTWV0YS5zZWNyZXRzID8gdHlwZW9mIGNvb2tpZU1ldGEuc2VjcmV0cyA9PSBcInN0cmluZ1wiID8gY29va2llTWV0YS5zZWNyZXRzIDogY29va2llTWV0YS5zZWNyZXRzWzBdIDogdm9pZCAwO1xuICAgICAgICBpZiAoY29va2llTWV0YS5zaWduID09PSAhMCkge1xuICAgICAgICAgIGlmIChzZWNyZXQpXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIGNvb2tpZV0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICAgICAgICAgIGNvbnRleHQuc2V0LmNvb2tpZVxuICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgY29udGV4dC5zZXQuY29va2llW2tleV0udmFsdWUgPSBhd2FpdCBzaWduQ29va2llKFxuICAgICAgICAgICAgICAgIGNvb2tpZS52YWx1ZSxcbiAgICAgICAgICAgICAgICBzZWNyZXRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0gdmFsaWRhdG9yPy5jb29raWU/LnNjaGVtYT8ucHJvcGVydGllcztcbiAgICAgICAgICBpZiAoc2VjcmV0KVxuICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIGNvb2tpZU1ldGEuc2lnbilcbiAgICAgICAgICAgICAgbmFtZSBpbiBwcm9wZXJ0aWVzICYmIGNvbnRleHQuc2V0LmNvb2tpZVtuYW1lXT8udmFsdWUgJiYgKGNvbnRleHQuc2V0LmNvb2tpZVtuYW1lXS52YWx1ZSA9IGF3YWl0IHNpZ25Db29raWUoXG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXQuY29va2llW25hbWVdLnZhbHVlLFxuICAgICAgICAgICAgICAgIHNlY3JldFxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1hcFJlc3BvbnNlKGNvbnRleHQucmVzcG9uc2UgPSByZXNwb25zZSwgY29udGV4dC5zZXQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCByZXBvcnRlZEVycm9yID0gZXJyb3IgaW5zdGFuY2VvZiBUcmFuc2Zvcm1EZWNvZGVFcnJvciAmJiBlcnJvci5lcnJvciA/IGVycm9yLmVycm9yIDogZXJyb3I7XG4gICAgICByZXR1cm4gYXBwLmhhbmRsZUVycm9yKGNvbnRleHQsIHJlcG9ydGVkRXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBhcHAuZXZlbnQuYWZ0ZXJSZXNwb25zZSAmJiBzZXRJbW1lZGlhdGUoYXN5bmMgKCkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGFmdGVyUmVzcG9uc2Ugb2YgYXBwLmV2ZW50LmFmdGVyUmVzcG9uc2UpXG4gICAgICAgICAgYXdhaXQgYWZ0ZXJSZXNwb25zZS5mbihjb250ZXh0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0sIGNyZWF0ZUR5bmFtaWNFcnJvckhhbmRsZXIgPSAoYXBwKSA9PiB7XG4gIGNvbnN0IHsgbWFwUmVzcG9uc2UgfSA9IGFwcFtcIn5hZGFwdGVyXCJdLmhhbmRsZXI7XG4gIHJldHVybiBhc3luYyAoY29udGV4dCwgZXJyb3IpID0+IHtcbiAgICBjb25zdCBlcnJvckNvbnRleHQgPSBPYmplY3QuYXNzaWduKGNvbnRleHQsIHsgZXJyb3IsIGNvZGU6IGVycm9yLmNvZGUgfSk7XG4gICAgaWYgKGVycm9yQ29udGV4dC5zZXQgPSBjb250ZXh0LnNldCwgYXBwLmV2ZW50LmVycm9yKVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcHAuZXZlbnQuZXJyb3IubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gYXBwLmV2ZW50LmVycm9yW2ldLmZuKGVycm9yQ29udGV4dCk7XG4gICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIFByb21pc2UgJiYgKHJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2UpLCByZXNwb25zZSAhPSBudWxsKVxuICAgICAgICAgIHJldHVybiBjb250ZXh0LnJlc3BvbnNlID0gbWFwUmVzcG9uc2UoXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIGNvbnRleHQuc2V0XG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgdHlwZW9mIGVycm9yLmNhdXNlID09IFwic3RyaW5nXCIgPyBlcnJvci5jYXVzZSA6IGVycm9yLm1lc3NhZ2UsXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IGNvbnRleHQuc2V0LmhlYWRlcnMsXG4gICAgICAgIHN0YXR1czogZXJyb3Iuc3RhdHVzID8/IDUwMFxuICAgICAgfVxuICAgICk7XG4gIH07XG59O1xuZXhwb3J0IHtcbiAgY3JlYXRlRHluYW1pY0Vycm9ySGFuZGxlcixcbiAgY3JlYXRlRHluYW1pY0hhbmRsZXJcbn07XG4iLAogICAgImltcG9ydCBFbHlzaWEgZnJvbSBcImVseXNpYVwiO1xuXG5jb25zdCBEb2NrU3RhY2tzRWx5c2lhID0gbmV3IEVseXNpYSgpXG4gIC5nZXQoXCIvXCIsICgpID0+IFwiT0tcIilcblxuXG5leHBvcnQgZGVmYXVsdCBEb2NrU3RhY2tzRWx5c2lhXG4iLAogICAgImltcG9ydCB0eXBlIHsgUGx1Z2luIH0gZnJvbSBcIkBkb2Nrc3RhdC90eXBpbmdzL3R5cGVzXCI7XG5pbXBvcnQgeyBQbHVnaW5NZXRhIH0gZnJvbSBcIi4vc3JjL21ldGFcIjtcbmltcG9ydCBEb2NrU3RhY2tzRWx5c2lhIGZyb20gXCIuL3NyYy9lbHlpc2FcIjtcblxuY29uc3QgRG9ja1N0YWNrczogUGx1Z2luID0ge1xuICAuLi5QbHVnaW5NZXRhLFxuICByb3V0ZXM6IERvY2tTdGFja3NFbHlzaWEsXG59XG5cbmV4cG9ydCBkZWZhdWx0IERvY2tTdGFja3NcbmV4cG9ydCBjb25zdCBtZXRhID0gUGx1Z2luTWV0YVxuIgogIF0sCiAgIm1hcHBpbmdzIjogIjs4aEJBRUEsSUFBSSxHQUFjLEdBQ2QsR0FBYyxFQUNkLEdBQVksQ0FFZCxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUkvQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFDakMsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQ3hDLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNwQyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFDbEMsRUFBRyxHQUFJLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ3BDLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNuQyxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFDcEMsRUFBRyxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ25DLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFB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Q0EsTUFDQSxNQUNBLE9BQ0EsTUFDQSxNQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxPQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE9BQ0EsT0FDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE9BQ0EsTUFDQSxRQUNBLE1BQ0EsTUFDQSxNQUNBLE9BQ0EsT0FDQSxRQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLEtBQ0EsS0FDQSxTQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxLQUNBLE1BQ0EsSUFDQSxLQUNBLE1BQ0EsTUFDQSxNQUNBLFFBQ0EsTUFDQSxPQUNBLE9BQ0EsT0FDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE9BQ0EsT0FDQSxNQUNBLE1BQ0EsTUFDQSxLQUNBLE1BQ0EsTUFDQSxNQUNBLE9BQ0EsTUFDQSxNQUNBLFFBQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLFFBQ0EsTUFDQSxNQUNBLE1BQ0EsS0FDQSxNQUNBLEtBQ0EsTUFDQSxPQUNBLE1BQ0EsTUFDQSxNQUNBLE9BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsVUFDQSxRQUNBLE1BQ0EsT0FDQSxNQUNBLE9BQ0EsTUFDQSxNQUNBLE9BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxPQUNBLE9BQ0EsT0FDQSxPQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxPQUNBLE9BQ0EsT0FDQSxPQUNBLE9BQ0EsTUFDQSxLQUNBLE9BQ0EsTUFDRCxFQUVhLEdBQVksQ0FDeEIsYUFDQSxZQUNBLFlBQ0EsYUFDQSxhQUNBLGNBQ0Esb0JBQ0Esb0JBQ0EsYUFDQSxZQUNBLHFCQUNBLDRCQUNBLHlCQUNBLHVCQUNBLDBCQUNBLDBEQUNBLDBDQUNBLGlE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QUFNLElBQU0sSUFBTSxHQUFJLENBQUMsRUFDdEMsTUFBTyxDQUNOLElBQUssTUFDTCxLQUFNLG1CQUNQLEVBR0QsR0FBSSxLQUFLLE1BQU0sQ0FBQyxJQUFNLElBQU0sSUFBTSxHQUFJLENBQUMsRUFDdEMsTUFBTyxDQUNOLElBQUssTUFDTCxLQUFNLGlCQUNQLEVBR0QsR0FBSSxLQUFLLE1BQU0sQ0FBQyxHQUFNLElBQU0sR0FBTSxHQUFJLENBQUMsRUFDdEMsTUFBTyxDQUNOLElBQUssTUFDTCxLQUFNLGtCQUNQLEVBR0QsR0FBSSxLQUFLLE1BQU0sQ0FBQyxJQUFNLEdBQU0sR0FBTSxFQUFJLENBQUMsRUFDdEMsTUFBTyxDQUNOLElBQUssTUFDTCxLQUFNLG1CQUNQLEVBR0QsR0FBSSxLQUFLLE1BQU0sQ0FBQyxHQUFNLEdBQU0sR0FBTSxFQUFJLENBQUMsRUFDdEMsTUFBTyxDQUNOLElBQUssTUFDTCxLQUFNLDRCQUNQLEVBR0QsR0FBSSxLQUFLLFlBQVksTUFBTSxHQUFLLEtBQUssWUFBWSxNQUFNLEVBQ3RELE1BQU8sQ0FDTixJQUFLLFVBQ0wsS0FBTSxnQ0FDUCxFQUdELEdBQUksS0FBSyxZQUFZLE1BQU0sRUFDMUIsTUFBTyxDQUNOLElBQUssTUFDTCxLQUFNLGlCQUNQLEVBR0QsR0FBSSxLQUFLLE1BQU0sQ0FBQyxJQUFNLElBQU0sSUFBTSxHQUFJLENBQUMsRUFDdEMsTUFBTyxDQUNOLElBQUssUUFDTCxLQUFNLDJCQUNQLEVBR0QsR0FBSSxLQUFLLE1BQU0sQ0FBQyxFQUFNLEdBQU0sR0FBTSxFQUFJLENBQUMsRUFDdEMsTUFBTyxDQUNOLElBQUssTUFDTCxLQUFNLG1CQUNQLEVBS0QsR0FBSSxLQUFLLE1BQU0sQ0FBQyxHQUFNLEdBQU0sR0FBTSxHQUFNLENBQUksQ0FBQyxFQUM1QyxNQUFPLENBQ04sSUFBSyxNQUNMLEtBQU0sVUFDUCxFQUdELEdBQUksS0FBSyxZQUFZLE9BQU8sRUFDM0IsTUFBTyxDQUNOLElBQUssTUFDTCxLQUFNLFdBQ1AsRUFHRCxHQUFJLEtBQUssWUFBWSxR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QUFTLFFBQVksU0FBWSxRQUFZLE9BQzlELEVBQUUsS0FBSyxDQUFJLEVBQ1gsUUFBVyxLQUFTLEVBQ2xCLEdBQUksRUFBTyxDQUNULEdBQUksRUFBTSxXQUFXLENBQUMsSUFBTSxJQUFLLENBQy9CLElBQU0sRUFBYSxHQUFzQixDQUFLLEVBQUUsV0FDaEQsRUFBVyxRQUFVLEVBQVUsTUFBUSxJQUFLLEVBQVcsVUFBWSxFQUFVLFFBQVUsSUFBSyxFQUFXLE9BQVMsRUFBVSxLQUFPLElBQUssRUFBVyxTQUFXLEVBQVUsT0FBUyxJQUFLLEVBQVcsTUFBUSxFQUFVLElBQU0sSUFBSyxFQUFXLFNBQVcsRUFBVSxPQUFTLElBQUssRUFBVyxNQUFRLEVBQVUsSUFBTSxJQUFLLEVBQVcsUUFBVSxFQUFVLE1BQVEsSUFBSyxFQUFXLE9BQVMsRUFBVSxLQUFPLElBQ25ZLFNBRUYsR0FBSSxDQUFDLEVBQVUsUUFBVSxFQUFPLFFBQVMsQ0FBSyxHQUFLLEVBQUssU0FBUyxVQUFZLENBQUssR0FBSyxFQUFLLFNBQVMsVUFBWSxFQUFRLFFBQVEsS0FBTyxFQUFVLE1BQVEsSUFBSyxDQUFDLEVBQVUsU0FBVyxFQUFPLFVBQVcsQ0FBSyxJQUFNLEVBQVUsUUFBVSxJQUFLLENBQUMsRUFBVSxNQUFRLEVBQU8sT0FBUSxDQUFLLElBQU0sRUFBVSxLQUFPLElBQUssQ0FBQyxFQUFVLFFBQVUsRUFBTyxTQUFVLENBQUssSUFBTSxFQUFVLE9BQVMsSUFBSyxDQUFDLEVBQVUsS0FBTyxFQUFPLE1BQU8sQ0FBSyxJQUFNLEVBQVUsSUFBTSxJQUFLLENBQUMsRUFBVSxRQUFVLEVBQU8sU0FBVSxDQUFLLElBQU0sRUFBVSxPQUFTLElBQUssQ0FBQyxFQUFVLE9BQVMsRUFBTyxRQUFTLENBQUssSUFBTSxFQUFVLE1BQVEsSUFBSyxDQUFDLEVBQVUsS0FBTyxFQUFPLE1BQU8sQ0FBSyxJQUFNLEVBQVUsSUFBTSxJQUFLLENBQUMsRUFBVSxNQUFRLEVBQU8sT0FBUSxDQUFLLElBQU0sRUFBVSxLQUFPLElBQUssRUFBVSxPQUFTLEVBQVUsU0FBVyxFQUFVLE1BQVEsRUFBVSxRQUFVLEVBQVUsS0FBTyxFQUFVLFFBQVUsRUFBVSxPQUFTLEVBQVUsS0FBTyxFQUFVLEtBQ3gyQixNQUVOLE9BQU8sR0FuS1QsSUFnTEcsR0FBMEIsQ0FBQyxFQUFTLEVBQU0sSUFBYyxDQUN6RCxHQUFJLENBQ0YsSUFBTSxFQUFrQixJQUFJLE9BQU8sZUFBZSxJQUFXLElBQUksRUFDakUsRUFBZ0IsS0FBSyxDQUFJLEVBQ3pCLElBQU0sRUFBVyxFQUFLLFdBQVcsRUFBZ0IsU0FBUyxFQUMxRCxPQUFPLElBQWEsSUFBTSxJQUFhLElBQU0sRUFBVSxNQUFRLEdBQUksRUFBVSxRQUFVLEdBQUksRUFBVSxLQUFPLEdBQUksRUFBVSxPQUFTLEdBQUksRUFBVSxJQUFNLEdBQUksRUFBVSxPQUFTLEdBQUksRUFBVSxJQUFNLEdBQUksRUFBVSxNQUFRLEdBQUksRUFBVSxLQUFPLEdBQUksSUFBTSxHQUN2UCxLQUFNLENBQ04sT0FBTyxRQUFRLElBQ2Isb0pBQ0YsRUFBRyxRQUFRLElBQUksY0FBYyxFQUFHLFFBQVEsSUFBSSxDQUFJLEVBQUcsUUFBUSxJQUFJLGlCQUFpQixFQUFHLFFBQVEsSUFBSSxDQUFPLEVBQUcsS0FHekcsR0FBVyxHQUFTLENBQUMsRUFDbkIsR0FBb0IsQ0FBQyxJQUFVLENBQ25DLElBQVUsTUFBUSxHQUFtQixJQUFNLElBQWUsU0FBTSxFQUFRLFFBQTBCLElBQWEsYUFBYSxFQUFTLEVBQUcsR0FBWSxXQUFXLElBQU0sQ0FDbkssR0FBUyxDQUFDLEVBQUcsR0FBaUIsT0FBRyxJQUFTLElBQUksR0FBRyxFQUFFLEdBQ2xELENBQUssSUFDUCxHQUFpQixDQUFDLEVBQUcsS0FBTyxDQUM3QixLQUFNLEVBQUUsTUFBUSxFQUFFLEtBQ2xCLE9BQVEsRUFBRSxRQUFVLEVBQUUsT0FDdEIsUUFBUyxFQUFFLFNBQVcsRUFBRSxRQUN4QixNQUFPLEVBQUUsT0FBUyxFQUFFLE1BQ3BCLElBQUssRUFBRSxLQUFPLEVBQUUsSUFDaEIsT0FBUSxFQUFFLFFBQVUsRUFBRSxPQUN0QixJQUFLLEVBQUUsS0FBTyxFQUFFLElBQ2hCLE1BQU8sRUFBRSxPQUFTLEVBQUUsTUFDcEIsS0FBTSxFQUFFLE1BQVEsRUFBRSxJQUNwQixHQUFJLEdBQVUsQ0FBQyxFQUFXLEVBQVksQ0FDcEMsTUFBTyxHQUNQLFFBQVMsR0FDVCxLQUFNLEdBQ04sT0FBUSxHQUNSLElBQUssR0FDTCxPQUFRLEdBQ1IsSUFBSyxHQUNMLE1BQU8sR0FDUCxLQUFNLEVBQ1IsRUFBRyxFQUFXLENBQUMsSUFBTSxDQUNuQixJQUFNLEVBQVMsQ0FBQyxFQUNoQixFQUFVLFNBQVMsUUFBVSxFQUFPLEtBQUssR0FBRyxFQUFVLE9BQU8sRUFBRyxFQUFVLGNBQWMsUUFBVSxFQUFPLEtBQUssR0FBRyxFQUFVLFlBQVksRUFBRyxFQUFVLE9BQU8sUUFBVSxFQUFPLEtBQUssR0FBRyxFQUFVLEtBQUssRUFBRyxFQUFVLE9BQU8sUUFBVSxFQUFPLEtBQUssR0FBRyxFQUFVLEtBQUssRUFBRyxFQUFVLFdBQVcsUUFBVSxFQUFPLEtBQUssR0FBRyxFQUFVLFNBQVMsRUFBRyxFQUFVLGFBQWEsUUFBVSxFQUFPLEtBQUssR0FBRyxFQUFVLFdBQVcsRUFBRyxFQUFVLGFBQWEsUUFBVSxFQUFPLEtBQUssR0FBRyxFQUFVLFdBQVcsRUFBRyxFQUFVLGVBQWUsUUFBVSxFQUFPLEtBQUssR0FBRyxFQUFVLGFBQWEsRUFBRyxFQUFVLFNBQVcsT0FBTyxFQUFVLFNBQVcsWUFBYyxFQUFPLEtBQUssRUFBVSxPQUFPLEVBQzluQixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU8sT0FBUSxJQUFLLENBQ3RDLElBQU0sRUFBSSxFQUFPLEdBQ2pCLEdBQUksQ0FBQyxFQUFHLFNBQ1IsSUFBTSxFQUFRLE9BQU8sR0FBSyxTQUFXLEVBQUUsR0FBSyxFQUM1QyxHQUFJLE9BQU8sR0FBUyxXQUFZLFNBQ2hDLElBQU0sRUFBVSxFQUFNLFNBQVMsRUFBRyxFQUFNLEdBQVMsQ0FBTyxFQUFHLEVBQWtCLEdBQU8sR0FDcEYsR0FBSSxFQUFpQixDQUNuQixFQUFZLEdBQWUsRUFBVyxDQUFlLEVBQ3JELFNBRUYsR0FBa0IsRUFBUyxNQUFNLEVBQ2pDLElBQU0sRUFBYyxDQUNsQixNQUFPLEdBQ1AsUUFBUyxHQUNULEtBQU0sR0FDTixPQUFRLEdBQ1IsSUFBSyxHQUNMLE9BQVEsR0FDUixJQUFLLEdBQ0wsTUFBTyxHQUNQLEtBQU0sRUFDUixHQUFJLEVBQVcsR0FBUSxHQUFpQixDQUFPLEVBQUcsRUFBaUIsR0FBdUIsRUFBVyxDQUFXLEVBQUcsRUFBZ0IsR0FBcUIsQ0FBYyxFQUN0SyxHQUFJLEVBQWUsQ0FDakIsSUFBTSxFQUFVLEdBQVUsRUFBZSxFQUFLLE1BQU0sRUFBRyxFQUFFLENBQUMsRUFDMUQsRUFBUSxPQUFPLEVBQUcsR0FBSSxDQUFhLEVBQ25DLElBQUksRUFBTyxFQUNYLEVBQUssV0FBVyxDQUFDLElBQU0sS0FBTyxFQUFLLFdBQVcsRUFBSyxPQUFTLENBQUMsSUFBTSxNQUFRLEVBQU8sRUFBSyxNQUFNLEVBQUcsRUFBRSxHQUFJLEdBQXdCLEVBQWUsRUFBTSxDQUFXLEdBQUssR0FBbUIsRUFBTSxFQUFTLENBQVcsRUFBRyxDQUFDLEVBQVksT0FBUyxFQUFLLFNBQVMsVUFBWSxFQUFnQixRQUFRLElBQU0sRUFBWSxNQUFRLElBRXZULEdBQUksR0FBTyxLQUFTLEdBQU8sR0FBTyxHQUFjLEVBQVksR0FBZSxFQUFXLENBQVcsRUFBRyxFQUFVLE9BQVMsRUFBVSxTQUFXLEVBQVUsTUFBUSxFQUFVLFFBQVUsRUFBVSxLQUFPLEVBQVUsUUFBVSxFQUFVLEtBQU8sRUFBVSxPQUFTLEVBQVUsS0FDblEsTUFFSixPQUFPLEdDalBULElBQU0sR0FBYyxDQUFDLEVBQVUsRUFBTSxJQUFZLENBQy9DLEdBQUksR0FBVyxFQUFLLE9BQU8sR0FBSyxFQUFLLFNBQVcsS0FBTyxFQUFLLE9BQzFELE9BQVEsR0FBVSxDQUFJLEVBQUcsR0FBVSxhQUFhLFVBQ3pDLFNBQ0gsT0FBTyxJQUFJLFNBQVMsRUFBVSxDQUFJLE1BQy9CLFlBQ0EsU0FDSCxPQUFPLEVBQUssUUFBUSxnQkFBa0IsbUJBQW9CLElBQUksU0FBUyxLQUFLLFVBQVUsQ0FBUSxFQUFHLENBQUksTUFDbEcsYUFDSCxPQUFPLEdBQ0wsRUFBUyxNQUNULENBQ0YsTUFDRyxPQUNILE9BQU8sR0FBVyxFQUFVLENBQUksTUFDN0IsT0FDSCxPQUFPLEdBQVcsRUFBVSxDQUFJLE1BQzdCLDZCQUNILE9BQU8sRUFBSyxPQUFTLEVBQVMsS0FBTSxHQUNsQyxFQUFTLFNBQ1QsRUFDQSxDQUNGLE1BQ1EsUUFDUixPQUFPLEVBQVcsSUFBSSxTQUFTLEtBQUssVUFBVSxDQUFRLEVBQUcsQ0FBSSxFQUFJLElBQUksU0FBUyxHQUFJLENBQUksTUFDbkYsV0FDSCxPQUFPLEdBQWUsRUFBVSxFQUFNLENBQU8sTUFDMUMsUUFDSCxPQUFPLEdBQWdCLEVBQVUsQ0FBSSxNQUNsQyxVQUNILE9BQU8sRUFBUyxLQUNkLENBQUMsSUFBTSxHQUFZLEVBQUcsRUFBTSxDQUFPLENBQ3JDLE1BQ0csV0FDSCxPQUFPLEdBQVksRUFBUyxFQUFHLEVBQU0sQ0FBTyxNQUN6QyxhQUNBLFVBQ0gsT0FBTyxJQUFJLFNBQ1QsRUFBUyxTQUFTLEVBQ2xCLENBQ0YsTUFDRyxTQUNILE9BQU8sYUFBb0IsR0FBUyxJQUFJLFNBQVMsRUFBUyxNQUFPLENBQUksRUFBSSxJQUFJLFNBQVMsR0FBVSxTQUFTLEVBQUcsQ0FBSSxNQUM3RyxXQUNILE9BQU8sSUFBSSxTQUFTLEVBQVUsQ0FBSSxVQUVsQyxHQUFJLGFBQW9CLFNBQ3RCLE9BQU8sR0FBZSxFQUFVLEVBQU0sQ0FBTyxFQUMvQyxHQUFJLGFBQW9CLFFBQ3RCLE9BQU8sRUFBUyxLQUFLLENBQUMsSUFBTSxHQUFZLEVBQUcsQ0FBSSxDQUFDLEVBQ2xELEdBQUksYUFBb0IsTUFDdEIsT0FBTyxHQUFnQixFQUFVLENBQUksRUFDdkMsR0FBSSxhQUFvQixHQUN0QixPQUFPLEVBQUssT0FBUyxFQUFTLEtBQU0sR0FDbEMsRUFBUyxTQUNULEVBQ0EsQ0FDRixFQUNGLEdBRUUsT0FBTyxHQUFVLE1BQVEsWUFBYyxhQUFvQixlQUUzRCxPQUFPLEdBQWEsRUFBVSxFQUFNLENBQU8sRUFDN0MsR0FBSSxPQUFPLEdBQVUsTUFBUSxXQUMzQixPQUFPLEVBQVMsS0FBSyxDQUFDLElBQU0sR0FBWSxFQUFHLENBQUksQ0FBQyxFQUNsRCxHQUFJLE9BQU8sR0FBVSxZQUFjLFdBQ2pDLE9BQU8sR0FBWSxFQUFTLFdBQVcsRUFBRyxDQUFJLEVBQ2hELEdBQUksZUFBZ0IsRUFBVSxDQUM1QixJQUFNLEVBQU8sRUFBUyxXQUFXLENBQUMsRUFDbEMsR0FBSSxJQUFTLEtBQU8sSUFBUyxHQUMzQixPQUFPLEVBQUssUUFBUSxrQkFBb0IsRUFBSyxRQUFRLGdCQUFrQixvQkFBcUIsSUFBSSxTQUM5RixLQUFLLFVBQVUsQ0FBUSxFQUN2QixDQUNGLEVBRUosT0FBTyxJQUFJLFNBQVMsRUFBVSxDQUFJLEVBRXhDLE9BRUUsT0FBTyxHQUFVLE1BQVEsWUFBYyxhQUFvQixlQUFpQixHQUFhLEVBQVUsRUFBTSxDQUFPLEVBQUksR0FBbUIsRUFBVSxDQUFPLEdBRXpKLEdBQW1CLENBQUMsRUFBVSxFQUFNLElBQVksQ0FDakQsR0FBSSxHQUFZLEtBQ2QsR0FBSSxHQUFXLEVBQUssT0FBTyxHQUFLLEVBQUssU0FBVyxLQUFPLEVBQUssT0FDMUQsT0FBUSxHQUFVLENBQUksRUFBRyxHQUFVLGFBQWEsVUFDekMsU0FDSCxPQUFPLElBQUksU0FBUyxFQUFVLENBQUksTUFDL0IsWUFDQSxTQUNILE9BQU8sRUFBSyxRQUFRLGdCQUFrQixtQkFBb0IsSUFBSSxTQUFTLEtBQUssVUFBVSxDQUFRLEVBQUcsQ0FBSSxNQUNsRyxhQUNILE9BQU8sR0FBVyxFQUFTLE1BQU8sQ0FBSSxNQUNuQyxPQUNILE9BQU8sR0FBVyxFQUFVLENBQUksTUFDN0IsT0FDSCxPQUFPLEdBQVcsRUFBVSxDQUFJLE1BQzdCLDZCQUNILE9BQU8sRUFBSyxPQUFTLEVBQVMsS0FBTSxHQUNsQyxFQUFTLFNBQ1QsRUFDQSxDQUNGLE1BQ1EsUUFDUixPQUFPLEVBQVcsSUFBSSxTQUFTLEtBQUssVUFBVSxDQUFRLEVBQUcsQ0FBSSxFQUFTLFdBQ25FLFdBQ0gsT0FBTyxHQUFlLEVBQVUsRUFBTSxDQUFPLE1BQzFDLFVBQ0gsT0FBTyxFQUFTLEtBQ2QsQ0FBQyxJQUFNLEdBQWlCLEVBQUcsQ0FBSSxDQUNqQyxNQUNHLFFBQ0gsT0FBTyxHQUFnQixFQUFVLENBQUksTUFDbEMsV0FDSCxPQUFPLEdBQWlCLEVBQVMsRUFBRyxDQUFJLE1BQ3JDLGFBQ0EsVUFDSCxPQUFPLElBQUksU0FDVCxFQUFTLFNBQVMsRUFDbEIsQ0FDRixNQUNHLFdBQ0gsT0FBTyxJQUFJLFNBQVMsQ0FBUSxNQUN6QixTQUNILE9BQU8sYUFBb0IsR0FBUyxJQUFJLFNBQVMsRUFBUyxNQUFPLENBQUksRUFBSSxJQUFJLFNBQVMsR0FBVSxTQUFTLEVBQUcsQ0FBSSxVQUVoSCxHQUFJLGFBQW9CLFNBQ3RCLE9BQU8sR0FBZSxFQUFVLEVBQU0sQ0FBTyxFQUMvQyxHQUFJLGFBQW9CLFFBQ3RCLE9BQU8sRUFBUyxLQUFLLENBQUMsSUFBTSxHQUFpQixFQUFHLENBQUksQ0FBQyxFQUN2RCxHQUFJLGFBQW9CLE1BQ3RCLE9BQU8sR0FBZ0IsRUFBVSxDQUFJLEVBQ3ZDLEdBQUksYUFBb0IsR0FDdEIsT0FBTyxFQUFLLE9BQVMsRUFBUyxLQUFNLEdBQ2xDLEVBQVMsU0FDVCxFQUNBLENBQ0YsRUFDRixHQUVFLE9BQU8sR0FBVSxNQUFRLFlBQWMsYUFBb0IsZUFFM0QsT0FBTyxHQUFhLEVBQVUsRUFBTSxDQUFPLEVBQzdDLEdBQUksT0FBTyxHQUFVLE1BQVEsV0FDM0IsT0FBTyxFQUFTLEtBQUssQ0FBQyxJQUFNLEdBQWlCLEVBQUcsQ0FBSSxDQUFDLEVBQ3ZELEdBQUksT0FBTyxHQUFVLFlBQWMsV0FDakMsT0FBTyxHQUFpQixFQUFTLFdBQVcsRUFBRyxDQUFJLEVBQ3JELEdBQUksZUFBZ0IsRUFBVSxDQUM1QixJQUFNLEVBQU8sRUFBUyxXQUFXLENBQUMsRUFDbEMsR0FBSSxJQUFTLEtBQU8sSUFBUyxHQUMzQixPQUFPLEVBQUssUUFBUSxrQkFBb0IsRUFBSyxRQUFRLGdCQUFrQixvQkFBcUIsSUFBSSxTQUM5RixLQUFLLFVBQVUsQ0FBUSxFQUN2QixDQUNGLEVBRUosT0FBTyxJQUFJLFNBQVMsRUFBVSxDQUFJLEVBR3RDLFlBQVEsR0FBVSxhQUFhLFVBQ3hCLFNBQ0gsT0FBTyxJQUFJLFNBQVMsQ0FBUSxNQUN6QixZQUNBLFNBQ0gsT0FBTyxFQUFLLFFBQVEsZ0JBQWtCLG1CQUFvQixJQUFJLFNBQVMsS0FBSyxVQUFVLENBQVEsRUFBRyxDQUFJLE1BQ2xHLGFBQ0gsT0FBTyxHQUFXLEVBQVMsTUFBTyxDQUFJLE1BQ25DLE9BQ0gsT0FBTyxHQUFXLEVBQVUsQ0FBSSxNQUM3QixPQUNILE9BQU8sR0FBVyxFQUFVLENBQUksTUFDN0IsNkJBQ0gsT0FBTyxFQUFLLE9BQVMsRUFBUyxLQUFNLEdBQ2xDLEVBQVMsU0FDVCxFQUNBLENBQ0YsTUFDUSxRQUNSLE9BQU8sRUFBVyxJQUFJLFNBQVMsS0FBSyxVQUFVLENBQVEsRUFBRyxDQUN2RCxRQUFTLENBQ1AsZUFBZ0Isa0JBQ2xCLENBQ0YsQ0FBQyxFQUFJLElBQUksU0FBUyxFQUFFLE1BQ2pCLFdBQ0gsT0FBTyxNQUNKLFVBQ0gsT0FBTyxFQUFTLEtBQUssQ0FBQyxJQUFNLENBQzFCLElBQU0sRUFBSSxHQUFpQixFQUFHLENBQUksRUFDbEMsR0FBSSxJQUFXLE9BQUcsT0FBTyxFQUMxQixNQUNFLFFBQ0gsT0FBTyxHQUFnQixFQUFVLENBQUksTUFDbEMsV0FDSCxPQUFPLEdBQW1CLEVBQVMsRUFBRyxDQUFPLE1BQzFDLGFBQ0EsVUFDSCxPQUFPLElBQUksU0FBUyxFQUFTLFNBQVMsQ0FBQyxNQUNwQyxTQUNILE9BQU8sYUFBb0IsR0FBUyxJQUFJLFNBQVMsRUFBUyxNQUFPLENBQUksRUFBSSxJQUFJLFNBQVMsR0FBVSxTQUFTLEVBQUcsQ0FBSSxNQUM3RyxXQUNILE9BQU8sSUFBSSxTQUFTLENBQVEsVUFFNUIsR0FBSSxhQUFvQixTQUFVLE9BQU8sRUFDekMsR0FBSSxhQUFvQixRQUN0QixPQUFPLEVBQVMsS0FBSyxDQUFDLElBQU0sR0FBaUIsRUFBRyxDQUFJLENBQUMsRUFDdkQsR0FBSSxhQUFvQixNQUN0QixPQUFPLEdBQWdCLEVBQVUsQ0FBSSxFQUN2QyxHQUFJLGFBQW9CLEdBQ3RCLE9BQU8sRUFBSyxPQUFTLEVBQVMsS0FBTSxHQUNsQyxFQUFTLFNBQ1QsRUFDQSxDQUNGLEVBQ0YsR0FFRSxPQUFPLEdBQVUsTUFBUSxZQUFjLGFBQW9CLGVBRTNELE9BQU8sR0FBYSxFQUFVLEVBQU0sQ0FBTyxFQUM3QyxHQUFJLE9BQU8sR0FBVSxNQUFRLFdBQzNCLE9BQU8sRUFBUyxLQUFLLENBQUMsSUFBTSxHQUFpQixFQUFHLENBQUksQ0FBQyxFQUN2RCxHQUFJLE9BQU8sR0FBVSxZQUFjLFdBQ2pDLE9BQU8sR0FBaUIsRUFBUyxXQUFXLEVBQUcsQ0FBSSxFQUNyRCxHQUFJLGVBQWdCLEVBQVUsQ0FDNUIsSUFBTSxFQUFPLEVBQVMsV0FBVyxDQUFDLEVBQ2xDLEdBQUksSUFBUyxLQUFPLElBQVMsR0FDM0IsT0FBTyxFQUFLLFFBQVEsa0JBQW9CLEVBQUssUUFBUSxnQkFBa0Isb0JBQXFCLElBQUksU0FDOUYsS0FBSyxVQUFVLENBQVEsRUFDdkIsQ0FDRixFQUVKLE9BQU8sSUFBSSxTQUFTLENBQVEsSUFFbkMsR0FBcUIsQ0FBQyxFQUFVLElBQVksQ0FDN0MsT0FBUSxHQUFVLGFBQWEsVUFDeEIsU0FDSCxPQUFPLElBQUksU0FBUyxDQUFRLE1BQ3pCLGFBQ0EsUUFDSCxPQUFPLElBQUksU0FBUyxLQUFLLFVBQVUsQ0FBUSxFQUFHLENBQzVDLFFBQVMsQ0FDUCxlQUFnQixrQkFDbEIsQ0FDRixDQUFDLE1BQ0UsYUFDSCxPQUFPLEdBQVcsRUFBUyxLQUFLLE1BQzdCLE9BQ0gsT0FBTyxHQUFXLENBQVEsTUFDdkIsT0FDSCxPQUFPLEdBQVcsQ0FBUSxNQUN2Qiw2QkFDSCxPQUFPLEdBQ0wsRUFBUyxTQUNULENBQ0UsT0FBUSxFQUFTLEtBQ2pCLFFBQVMsQ0FBQyxDQUNaLENBQ0YsTUFDUSxRQUNSLE9BQU8sRUFBVyxJQUFJLFNBQVMsS0FBSyxVQUFVLENBQVEsRUFBRyxDQUN2RCxRQUFTLENBQ1AsZUFBZ0Isa0JBQ2xCLENBQ0YsQ0FBQyxFQUFJLElBQUksU0FBUyxFQUFFLE1BQ2pCLFdBQ0gsT0FBTyxNQUNKLFFBQ0gsT0FBTyxHQUFnQixDQUFRLE1BQzVCLFVBQ0gsT0FBTyxFQUFTLEtBQ2QsQ0FBQyxJQUFNLEdBQW1CLEVBQUcsQ0FBTyxDQUN0QyxNQUVHLFdBQ0gsT0FBTyxHQUFtQixFQUFTLEVBQUcsQ0FBTyxNQUMxQyxhQUNBLFVBQ0gsT0FBTyxJQUFJLFNBQVMsRUFBUyxTQUFTLENBQUMsTUFDcEMsV0FDSCxPQUFPLElBQUksU0FBUyxDQUFRLFVBRTVCLEdBQUksYUFBb0IsU0FBVSxPQUFPLEVBQ3pDLEdBQUksYUFBb0IsUUFDdEIsT0FBTyxFQUFTLEtBQ2QsQ0FBQyxJQUFNLEdBQW1CLEVBQUcsQ0FBTyxDQUN0QyxFQUNGLEdBQUksYUFBb0IsTUFDdEIsT0FBTyxHQUFnQixDQUFRLEVBQ2pDLEdBQUksYUFBb0IsR0FDdEIsT0FBTyxHQUNMLEVBQVMsU0FDVCxDQUNFLE9BQVEsRUFBUyxLQUNqQixRQUFTLENBQUMsQ0FDWixDQUNGLEVBQ0YsR0FFRSxPQUFPLEdBQVUsTUFBUSxZQUFjLGFBQW9CLGVBRTNELE9BQU8sR0FBYSxFQUFlLE9BQUcsQ0FBTyxFQUMvQyxHQUFJLE9BQU8sR0FBVSxNQUFRLFdBQzNCLE9BQU8sRUFBUyxLQUFLLENBQUMsSUFBTSxHQUFZLEVBQUcsR0FBRyxDQUFDLEVBQ2pELEdBQUksT0FBTyxHQUFVLFlBQWMsV0FDakMsT0FBTyxHQUFtQixFQUFTLFdBQVcsQ0FBQyxFQUNqRCxHQUFJLGVBQWdCLEVBQVUsQ0FDNUIsSUFBTSxFQUFPLEVBQVMsV0FBVyxDQUFDLEVBQ2xDLEdBQUksSUFBUyxLQUFPLElBQVMsR0FDM0IsT0FBTyxJQUFJLFNBQVMsS0FBSyxVQUFVLENBQVEsRUFBRyxDQUM1QyxRQUFTLENBQ1AsZUFBZ0Isa0JBQ2xCLENBQ0YsQ0FBQyxFQUVMLE9BQU8sSUFBSSxTQUFTLENBQVEsSUFFL0IsR0FBa0IsQ0FBQyxFQUFPLElBQVMsSUFBSSxTQUN4QyxLQUFLLFVBQVUsQ0FDYixLQUFNLEdBQU8sS0FDYixRQUFTLEdBQU8sUUFDaEIsTUFBTyxHQUFPLEtBQ2hCLENBQUMsRUFDRCxDQUNFLE9BQVEsR0FBTSxTQUFXLElBQU0sR0FBTSxRQUFVLElBQU0sSUFDckQsUUFBUyxHQUFNLE9BQ2pCLENBQ0YsRUFBRyxHQUFzQixDQUFDLEVBQVEsRUFBTyxFQUFhLENBQUMsSUFBTSxDQUMzRCxHQUFJLE9BQU8sR0FBVSxXQUFZLE9BQ2pDLElBQU0sRUFBVyxHQUFZLEVBQVEsQ0FDbkMsUUFBUyxDQUNYLENBQUMsRUFDRCxHQUFJLENBQUMsRUFBTSxPQUFPLFFBQVUsQ0FBQyxFQUFNLFdBQVcsUUFBVSxDQUFDLEVBQU0sY0FBYyxRQUFVLENBQUMsRUFBTSxhQUFhLE9BQ3pHLE1BQU8sSUFBTSxFQUFTLE1BQU0sR0FDN0IsR0FBaUIsR0FBc0IsQ0FDeEMsZUFDQSxxQkFDRixDQUFDLEVBQUcsR0FBZSxHQUFvQixDQUNyQyxlQUNBLHFCQUNGLENBQUMsRUNwVkQsa0JDTEEsa0JBQ00sR0FBZSxFQUFHLEdBQW1CLEVBQUcsR0FBaUIsRUFBRyxHQUFxQixFQUN2RixTQUFTLEVBQWlCLENBQUMsRUFBTyxFQUFhLEVBQUcsRUFBTyxFQUFRLENBQy9ELElBQU0sRUFBeUIsT0FBTyxPQUFPLElBQUksRUFDN0MsRUFBUSxFQUNOLEVBQWMsRUFBTSxPQUN0QixFQUFnQixFQUFhLEVBQUcsRUFBZ0IsRUFDcEQsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFhLElBQy9CLE9BQVEsRUFBTSxXQUFXLENBQUMsT0FFbkIsSUFDSCxFQUFvQixFQUFPLENBQUMsRUFBRyxFQUFnQixFQUFHLEVBQWdCLEVBQUcsRUFBUSxFQUM3RSxVQUVHLElBQ0gsR0FBaUIsRUFBZ0IsRUFBZ0IsRUFBSSxHQUFTLEdBQzlELFVBRUcsSUFDSCxFQUFnQixFQUFnQixHQUFTLEdBQWlCLEdBQVMsR0FDbkUsVUFFRyxJQUNILEVBQWdCLEVBQWdCLEdBQVMsR0FBcUIsR0FBUyxHQUN2RSxNQUVOLE9BQU8sRUFBZ0IsR0FBZSxFQUFvQixFQUFPLENBQVcsRUFBRyxFQUMvRSxTQUFTLENBQW1CLENBQUMsRUFBUSxFQUFVLENBQzdDLElBQU0sRUFBc0IsRUFBZ0IsRUFBZSxFQUF5QixFQUFzQixFQUFnQixFQUFVLEVBQVcsRUFBTyxNQUFNLEVBQWdCLEVBQUcsQ0FBc0IsRUFDck0sR0FBSSxDQUFDLEdBQXVCLEVBQVMsU0FBVyxFQUFHLE9BQ25ELElBQUksRUFBVyxFQUNmLEVBQVEsS0FBaUIsRUFBVyxFQUFTLFFBQVEsTUFBTyxHQUFHLEdBQUksRUFBUSxLQUFxQixFQUFXLFdBQU8sQ0FBUSxHQUFLLEdBQy9ILElBQUksRUFBYSxHQUNqQixHQUFJLEVBQXFCLENBQ3ZCLElBQUksRUFBYSxFQUFPLE1BQU0sRUFBZ0IsRUFBRyxDQUFRLEVBQ3pELEVBQVEsS0FBbUIsRUFBYSxFQUFXLFFBQVEsTUFBTyxHQUFHLEdBQUksRUFBUSxLQUF1QixFQUFhLFdBQU8sQ0FBVSxHQUFLLEdBQWEsRUFBYSxFQUV2SyxJQUFNLEVBQWUsRUFBTyxHQUM1QixJQUFRLEdBQVksRUFBVyxXQUFXLENBQUMsSUFBTSxJQUFNLElBQVMsR0FBWSxFQUFhLEtBQUssTUFBTSxDQUFVLEVBQUksRUFBYSxFQUFXLE1BQU0sRUFBRyxFQUFFLEVBQUUsTUFBTSxHQUFHLEVBQUcsSUFBc0IsT0FBSSxFQUFPLEdBQVksRUFBYSxNQUFNLFFBQVEsQ0FBWSxFQUFJLEVBQWEsS0FBSyxHQUFHLENBQVUsR0FBSyxFQUFPLEdBQVksRUFBWSxFQUFPLEdBQVUsUUFBUSxDQUFZLElBQU0sSUFBc0IsT0FBSSxFQUFPLEdBQVksRUFBYSxNQUFNLFFBQVEsQ0FBWSxFQUFJLEVBQWEsS0FBSyxDQUFVLEVBQUksRUFBTyxHQUFZLENBQUMsRUFBYyxDQUFVLEVBQUksRUFBTyxHQUFZLEdBR3hpQixTQUFTLEVBQXdCLENBQUMsRUFBTyxFQUFhLEVBQUcsQ0FDdkQsSUFBTSxFQUF5QixPQUFPLE9BQU8sSUFBSSxFQUM3QyxFQUFRLEVBQ04sRUFBYyxFQUFNLE9BQ3RCLEVBQWdCLEVBQWEsRUFBRyxFQUFnQixFQUNwRCxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQWEsSUFDL0IsT0FBUSxFQUFNLFdBQVcsQ0FBQyxPQUVuQixJQUNILEVBQW9CLEVBQU8sQ0FBQyxFQUFHLEVBQWdCLEVBQUcsRUFBZ0IsRUFBRyxFQUFRLEVBQzdFLFVBRUcsSUFDSCxHQUFpQixFQUFnQixFQUFnQixFQUFJLEdBQVMsR0FDOUQsVUFFRyxJQUNILEVBQWdCLEVBQWdCLEdBQVMsR0FBaUIsR0FBUyxHQUNuRSxVQUVHLElBQ0gsRUFBZ0IsRUFBZ0IsR0FBUyxHQUFxQixHQUFTLEdBQ3ZFLE1BRU4sT0FBTyxFQUFnQixHQUFlLEVBQW9CLEVBQU8sQ0FBVyxFQUFHLEVBQy9FLFNBQVMsQ0FBbUIsQ0FBQyxFQUFRLEVBQVUsQ0FDN0MsSUFBTSxFQUFzQixFQUFnQixFQUFlLEVBQXlCLEVBQXNCLEVBQWdCLEVBQVUsRUFBVyxFQUFPLE1BQU0sRUFBZ0IsRUFBRyxDQUFzQixFQUNyTSxHQUFJLENBQUMsR0FBdUIsRUFBUyxTQUFXLEVBQUcsT0FDbkQsSUFBSSxFQUFXLEVBQ2YsRUFBUSxLQUFpQixFQUFXLEVBQVMsUUFBUSxNQUFPLEdBQUcsR0FBSSxFQUFRLEtBQXFCLEVBQVcsV0FBTyxDQUFRLEdBQUssR0FDL0gsSUFBSSxFQUFhLEdBQ2pCLEdBQUksRUFBcUIsQ0FDdkIsSUFBSSxFQUFhLEVBQU8sTUFBTSxFQUFnQixFQUFHLENBQVEsRUFDekQsRUFBUSxLQUFtQixFQUFhLEVBQVcsUUFBUSxNQUFPLEdBQUcsR0FBSSxFQUFRLEtBQXVCLEVBQWEsV0FBTyxDQUFVLEdBQUssR0FBYSxFQUFhLEVBRXZLLElBQU0sRUFBZSxFQUFPLEdBQzVCLEdBQUksRUFBVyxXQUFXLENBQUMsSUFBTSxJQUFNLEVBQVcsV0FBVyxFQUFXLE9BQVMsQ0FBQyxJQUFNLEdBQUksQ0FDMUYsR0FBSSxDQUNGLEVBQWEsS0FBSyxNQUFNLENBQVUsRUFDbEMsS0FBTSxFQUVSLElBQXNCLE9BQUksRUFBTyxHQUFZLEVBQWEsTUFBTSxRQUFRLENBQVksRUFBSSxFQUFhLEtBQUssQ0FBVSxFQUFJLEVBQU8sR0FBWSxDQUFDLEVBQWMsQ0FBVSxFQUMvSixRQUFJLEVBQVcsV0FBVyxDQUFDLElBQU0sS0FBTyxFQUFXLFdBQVcsRUFBVyxPQUFTLENBQUMsSUFBTSxJQUFLLENBQ25HLEdBQUksQ0FDRixFQUFhLEtBQUssTUFBTSxDQUFVLEVBQ2xDLEtBQU0sRUFFUixJQUFzQixPQUFJLEVBQU8sR0FBWSxFQUFhLE1BQU0sUUFBUSxDQUFZLEVBQUksRUFBYSxLQUFLLENBQVUsRUFBSSxFQUFPLEdBQVksQ0FBQyxFQUFjLENBQVUsRUFFcEssT0FBVyxTQUFTLEdBQUcsSUFBTSxFQUFhLEVBQVcsTUFBTSxHQUFHLEdBQUksSUFBc0IsT0FBSSxFQUFPLEdBQVksRUFBYSxNQUFNLFFBQVEsQ0FBWSxFQUFJLEVBQWEsS0FBSyxDQUFVLEVBQUksRUFBTyxHQUFZLENBQUMsRUFBYyxDQUFVLEdBRzVPLFNBQVMsRUFBVSxDQUFDLEVBQU8sQ0FDekIsSUFBTSxFQUF5QixPQUFPLE9BQU8sSUFBSSxFQUM3QyxFQUFRLEVBQ04sRUFBYyxFQUFNLE9BQ3RCLEVBQWdCLEdBQUksRUFBZ0IsR0FDeEMsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFhLElBQy9CLE9BQVEsRUFBTSxXQUFXLENBQUMsT0FFbkIsSUFDSCxFQUFvQixFQUFPLENBQUMsRUFBRyxFQUFnQixFQUFHLEVBQWdCLEVBQUcsRUFBUSxFQUM3RSxVQUVHLElBQ0gsR0FBaUIsRUFBZ0IsRUFBZ0IsRUFBSSxHQUFTLEdBQzlELFVBRUcsSUFDSCxFQUFnQixFQUFnQixHQUFTLEdBQWlCLEdBQVMsR0FDbkUsVUFFRyxJQUNILEVBQWdCLEVBQWdCLEdBQVMsR0FBcUIsR0FBUyxHQUN2RSxNQUVOLE9BQU8sRUFBZ0IsR0FBZSxFQUFvQixFQUFPLENBQVcsRUFBRyxFQUMvRSxTQUFTLENBQW1CLENBQUMsRUFBUSxFQUFVLENBQzdDLElBQU0sRUFBc0IsRUFBZ0IsRUFBZSxFQUF5QixFQUFzQixFQUFnQixFQUFVLEVBQVcsRUFBTyxNQUFNLEVBQWdCLEVBQUcsQ0FBc0IsRUFDck0sR0FBSSxDQUFDLEdBQXVCLEVBQVMsU0FBVyxFQUFHLE9BQ25ELElBQUksRUFBVyxFQUNmLEVBQVEsS0FBaUIsRUFBVyxFQUFTLFFBQVEsTUFBTyxHQUFHLEdBQUksRUFBUSxLQUFxQixFQUFXLFdBQU8sQ0FBUSxHQUFLLEdBQy9ILElBQUksRUFBYSxHQUNqQixHQUFJLEVBQXFCLENBQ3ZCLElBQUksRUFBYSxFQUFPLE1BQU0sRUFBZ0IsRUFBRyxDQUFRLEVBQ3pELEVBQVEsS0FBbUIsRUFBYSxFQUFXLFFBQVEsTUFBTyxHQUFHLEdBQUksRUFBUSxLQUF1QixFQUFhLFdBQU8sQ0FBVSxHQUFLLEdBQWEsRUFBYSxFQUV2SyxJQUFNLEVBQWUsRUFBTyxHQUM1QixJQUFzQixPQUFJLEVBQU8sR0FBWSxFQUFhLE1BQU0sUUFBUSxDQUFZLEVBQUksRUFBYSxLQUFLLENBQVUsRUFBSSxFQUFPLEdBQVksQ0FBQyxFQUFjLENBQVUsR0NoSXhLLElBQU0sR0FBZSxPQUFPLGFBQWEsRUFBRyxHQUFnQixJQUFNLENBQ2hFLElBQVEsVUFBUyxXQUFZLFFBQVEsY0FBYyxHQUFLLFFBQVMsRUFBSyxRQUFTLEdBQWUsUUFBUSxjQUFjLEdBQUssUUFBUyxFQUFPLFFBQVMsR0FBaUIsUUFBUSxjQUFjLEVBQUcsRUFBWSxDQUFDLEVBQUcsRUFBZSxDQUFDLEVBQzVOLE1BQU8sQ0FDTCxDQUFDLEtBQWMsR0FBWSxFQUFVLEtBQUssQ0FBUSxFQUFHLEdBQ3JELENBQUMsSUFBWSxDQUNYLElBQU0sRUFBWSxDQUFDLEVBQUcsRUFBWSxDQUFDLEVBQy9CLEVBQWEsS0FDakIsUUFBUyxFQUFJLEVBQUcsR0FBSyxFQUFRLE9BQVMsR0FBSSxJQUFLLENBQzdDLElBQVEsUUFBUyxFQUFVLFFBQVMsR0FBYSxRQUFRLGNBQWMsR0FBSyxRQUFTLEVBQU0sUUFBUyxHQUFnQixRQUFRLGNBQWMsR0FBSyxRQUFTLEVBQVEsUUFBUyxHQUFrQixRQUFRLGNBQWMsRUFBRyxFQUFhLENBQUMsRUFBRyxFQUFnQixDQUFDLEVBQ3RQLEVBQVUsS0FBSyxDQUFDLEtBQWMsR0FBWSxFQUFXLEtBQUssQ0FBUSxFQUFHLEVBQVMsRUFBRyxFQUFVLEtBQUssQ0FBQyxJQUFhLENBQzVHLElBQU0sRUFBVSxJQUNYLEVBQ0gsSUFBSyxFQUNMLE1BQU8sRUFDUCxNQUFPLEVBQ1AsTUFBTSxDQUFDLEVBQVUsQ0FDZixPQUFPLEdBQVksRUFBYyxLQUFLLENBQVEsRUFBRyxFQUVyRCxFQUNBLEVBQVMsQ0FBTyxFQUNoQixRQUFTLEVBQUssRUFBRyxFQUFLLEVBQVcsT0FBUSxJQUN2QyxFQUFXLEdBQUksQ0FBTyxFQUN4QixNQUFPLENBQUMsRUFBUyxPQUFTLENBQ3hCLElBQU0sRUFBTyxZQUFZLElBQUksRUFDN0IsSUFBVyxFQUFhLEdBQ3hCLElBQU0sRUFBUyxDQUNiLElBQUssRUFDTCxNQUFPLEtBQ0gsUUFBTyxFQUFHLENBQ1osT0FBTyxFQUFPLEVBQVMsTUFFM0IsRUFDQSxRQUFTLEVBQUssRUFBRyxFQUFLLEVBQWMsT0FBUSxJQUMxQyxFQUFjLEdBQUksQ0FBTSxFQUMxQixFQUFZLENBQUksRUFBRyxFQUFjLENBQU0sR0FFMUMsRUFFSCxJQUFNLEVBQVMsSUFDVixFQUNILE1BQ0EsUUFDQSxPQUFPLENBQUMsRUFBVSxDQUNoQixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQVUsT0FBUSxJQUNwQyxFQUFVLEdBQUcsQ0FBUSxHQUV6QixNQUFNLENBQUMsRUFBVSxDQUNmLE9BQU8sR0FBWSxFQUFhLEtBQUssQ0FBUSxFQUFHLEVBRXBELEVBQ0EsRUFBUSxDQUFNLEVBQ2QsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFVLE9BQVEsSUFBSyxFQUFVLEdBQUcsQ0FBTSxFQUM5RCxNQUFPLENBQ0wsYUFBYyxFQUNkLE9BQU8sQ0FBQyxFQUFTLEtBQU0sQ0FDckIsSUFBTSxFQUFPLFlBQVksSUFBSSxFQUM3QixDQUFDLEdBQVUsSUFBZSxFQUFTLEdBQ25DLElBQU0sRUFBUyxDQUNiLElBQUssRUFDTCxNQUFPLEtBQ0gsUUFBTyxFQUFHLENBQ1osT0FBTyxFQUFPLEVBQVEsTUFFMUIsRUFDQSxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQWEsT0FBUSxJQUN2QyxFQUFhLEdBQUcsQ0FBTSxFQUN4QixFQUFXLENBQUksRUFBRyxFQUFhLENBQU0sRUFFekMsRUFFSixHQUNDLEdBQWUsQ0FBQyxJQUFrQixDQUFDLElBQVksQ0FDaEQsSUFBTyxFQUFXLEdBQWtCLEdBQWMsR0FBSSxFQUFTLEdBQWdCLEdBQWMsR0FBSSxFQUFhLEdBQW9CLEdBQWMsR0FBSSxFQUFnQixHQUF1QixHQUFjLEdBQUksRUFBVSxHQUFpQixHQUFjLEdBQUksRUFBZSxHQUFzQixHQUFjLEdBQUksRUFBUyxHQUFnQixHQUFjLEdBQUksRUFBZSxHQUFzQixHQUFjLEdBQUksRUFBaUIsR0FBd0IsR0FBYyxFQUMxYyxPQUFPLEVBQWMsQ0FFbkIsR0FBSSxFQUFRLElBQ1osVUFDQSxJQUFLLEVBQVEsSUFFYixZQUVBLFVBRUEsY0FFQSxpQkFFQSxXQUVBLGdCQUVBLGdCQUVBLGtCQUVBLFVBQ0EsS0FBTSxLQUFLLElBQUksRUFDZixNQUFPLEVBQVEsS0FDakIsQ0FBQyxFQUFHLENBQ0YsUUFBUyxFQUNULE1BQU8sRUFDUCxVQUFXLEVBQ1gsYUFBYyxFQUNkLE9BQVEsRUFDUixZQUFhLEVBQ2IsTUFBTyxFQUNQLFlBQWEsRUFDYixjQUFlLENBQ2pCLEdDM0dGLElBQUksR0FBTyxPQUFPLElBQUksY0FBYyxFQUNoQyxHQUFPLE9BQU8sSUFBSSxjQUFjLEVBQ2hDLEdBQW9CLENBQUMsSUFBUyxrQkFBa0IsS0FBSyxDQUFJLEdBQUssQ0FBQyxNQUFNLENBQUMsRUFBSyxFQUFFLEVBQzdFLEdBQWUsQ0FBQyxFQUFJLEVBQUksRUFBYSxLQUFVLENBQ2pELEdBQUksT0FBTyxJQUFPLFNBQVUsTUFBTyxHQUFHLEtBQU0sS0FDNUMsR0FBSSxHQUFrQixDQUFFLEVBQUcsTUFBTyxHQUFHLElBQUssRUFBYSxLQUFPLE9BQU8sTUFDckUsTUFBTyxHQUFHLElBQUssRUFBYSxJQUFNLE1BQU0sS0FFdEMsR0FBaUIsQ0FBQyxJQUFNLEdBQWtCLENBQUMsRUFBSSxJQUFJLEtBQU8sRUFDMUQsR0FBVyxDQUFDLEVBQUssRUFBWSxFQUFHLElBQVcsQ0FDN0MsR0FBSSxFQUFPLE9BQVMsVUFBWSxFQUFPLE9BQVMsRUFBTyxRQUFTLE9BQU8sRUFDdkUsSUFBSSxFQUFNLEdBQ1YsUUFBUyxFQUFJLEVBQVksRUFBRyxHQUFLLEVBQUcsSUFBSyxHQUFPLE1BQU0sS0FDdEQsT0FBTyxFQUFNLEVBQU0sSUFBSSxPQUFPLENBQVMsR0FFckMsR0FBMEIsQ0FBQyxJQUFXLENBQ3hDLEdBQUksQ0FBQyxFQUFPLE9BQVMsTUFBUSxJQUFXLEVBQU8sTUFBVSxhQUFlLEVBQU8sT0FBUyxVQUN0RixPQUFPLEVBQ1QsSUFBUSxXQUFVLEdBQWMsRUFFaEMsR0FEQSxFQUFVLFdBQWEsQ0FBQyxFQUNwQixNQUFRLEVBQVcsRUFBVSxJQUFRLFNBQ3pDLFFBQVcsS0FBUSxFQUFPLENBQ3hCLEdBQUksRUFBSyxPQUFTLFNBQVUsU0FDNUIsSUFBUSxhQUFZLFdBQVUsS0FBTSxHQUFJLElBQU8sS0FBTyxHQUFTLEVBQy9ELEdBQUksRUFDRixFQUFVLFNBQVcsRUFBVSxTQUFXLEVBQVUsU0FBUyxPQUFPLENBQVEsRUFBSSxFQUNsRixPQUFPLE9BQU8sRUFBVyxDQUFJLEVBQzdCLFFBQVcsS0FBWSxFQUFLLFdBQzFCLEVBQVUsV0FBVyxHQUFZLEdBQy9CLEVBQUssV0FBVyxFQUNsQixFQUVKLE9BQU8sR0FFTCxHQUFlLENBQUMsRUFBUSxFQUFVLElBQWdCLENBQ3BELElBQU0sRUFBUSxFQUFPLGtCQUFrQixXQUFhLEVBQU8sa0JBQWtCLE9BQU8sS0FBSyxFQUFPLGlCQUFpQixFQUFFLElBQ25ILEdBQUksQ0FBQyxFQUFPLE9BQU8sRUFDbkIsSUFBTSxFQUFJLEVBQVksTUFDdEIsRUFBWSxRQUNaLElBQUksRUFBSSxpQkFBaUIsa0JBQWtCLFFBQWUseUJBQXlCLDBCQUEwQixNQUFNLE9BQWMsWUFBWSxRQUFRLFVBQVUsR0FBTyxFQUFPLEtBQUssS0FBTSxDQUFXLElBQzdMLEVBQVksRUFBWSxpQkFBaUIsRUFBSSxHQUNuRCxHQUFJLEVBQ0YsUUFBUyxFQUFLLEVBQUcsRUFBSyxFQUFVLE9BQVEsSUFBTSxDQUM1QyxJQUFNLEVBQVMsS0FBSyxRQUFRLFVBQVUsRUFBVSxLQUNoRCxHQUFLLE9BQU8sd0JBQTZCLElBRzdDLE9BREEsR0FBSyxhQUFhLFNBQ1gsR0FFTCxHQUFjLENBQUMsRUFBUSxFQUFVLElBQWdCLENBQ25ELElBQU0sRUFBSSxFQUFZLE1BQ3RCLEVBQVksUUFDWixJQUFNLEVBQVMsSUFBYSxLQUFPLENBQUMsRUFBWSxPQUFPLE9BQ25ELEVBQUksR0FDUixHQUFJLENBQUMsRUFBUSxFQUFJLFNBQ2pCLEdBQUssV0FBVyxPQUNoQixRQUFTLEVBQUssRUFBRyxFQUFLLEVBQU8sT0FBUSxJQUFNLENBQ3pDLEdBQUksSUFBTyxFQUFHLEdBQUssSUFDbkIsR0FBSyxHQUNILEVBQU8sR0FDUCxHQUFhLEVBQVUsRUFBSSxFQUFZLGdCQUFnQixFQUN2RCxDQUNGLEVBR0YsR0FEQSxHQUFLLEtBQ0QsQ0FBQyxFQUFRLEdBQUssWUFBWSxTQUM5QixPQUFPLEdBRVQsU0FBUyxFQUFTLENBQUMsRUFBUSxFQUF1QixJQUFJLFFBQVcsQ0FDL0QsR0FBSSxJQUFXLE1BQVEsT0FBTyxJQUFXLFVBQVksT0FBTyxJQUFXLFdBQ3JFLE9BQU8sRUFDVCxHQUFJLEVBQUssSUFBSSxDQUFNLEVBQUcsT0FBTyxFQUFLLElBQUksQ0FBTSxFQUM1QyxHQUFJLE1BQU0sUUFBUSxDQUFNLEVBQUcsQ0FDekIsSUFBTSxFQUFXLE1BQU0sRUFBTyxNQUFNLEVBQ3BDLEVBQUssSUFBSSxFQUFRLENBQUksRUFDckIsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFPLE9BQVEsSUFDakMsRUFBSyxHQUFLLEdBQVUsRUFBTyxHQUFJLENBQUksRUFDckMsT0FBTyxFQUVULEdBQUksT0FBTyxJQUFXLFNBQVUsQ0FDOUIsSUFBTSxFQUFPLE9BQU8sS0FBSyxDQUFNLEVBQUUsT0FDL0IsT0FBTyxzQkFBc0IsQ0FBTSxDQUNyQyxFQUNNLEVBQVMsQ0FBQyxFQUNoQixRQUFXLEtBQU8sRUFDaEIsRUFBTyxHQUFPLEdBQVUsRUFBTyxHQUFNLENBQUksRUFDM0MsT0FBTyxFQUVULE9BQU8sRUFFVCxJQUFJLEdBQWMsQ0FBQyxFQUFTLEVBQVUsSUFBZ0IsQ0FDcEQsR0FBSSxFQUFZLGVBQXNCLE9BQUcsQ0FDdkMsR0FBSSxDQUFDLEVBQVksbUJBQ2YsUUFBUSxLQUNGLE1BQ0YsZ0VBQ0YsQ0FDRixFQUNBLEVBQVksbUJBQXFCLEdBRW5DLE9BQU8sRUFFVCxFQUFZLFVBQVUsR0FBWSxFQUNsQyxJQUFNLEVBQUssRUFBWSxPQUFPLE9BQ3hCLEVBQWEsRUFBWSxPQUFPLEdBQU0sQ0FBQyxFQUN6QyxFQUFJO0FBQUEsRUFFRixFQUFZLENBQUMsSUFBUyxDQUMxQixHQUFJLEVBQUUsTUFBUSxJQUFTLENBQUMsRUFBSyxLQUFNLE9BQU8sRUFDMUMsR0FBSSxFQUFLLE1BQVUsT0FDakIsT0FBTyxHQUFVLEVBQVksWUFBWSxFQUFLLEtBQUssRUFDOUMsUUFBSSxFQUFLLE1BQVUsTUFDeEIsR0FBSSxDQUFDLEVBQVksUUFDZixRQUFRLEtBQ0YsTUFDRix1RUFDRixDQUNGLEVBRUEsWUFBTyxFQUFZLFFBQVEsT0FDekIsRUFBSyxJQUNQLEVBRUosT0FBTyxHQUVULFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBUSxPQUFRLElBQUssQ0FDdkMsSUFBSSxFQUFPLEVBQVUsRUFBUSxFQUFFLEVBQy9CLEdBQUksTUFBTSxRQUFRLEVBQUssS0FBSyxFQUMxQixRQUFTLEVBQUssRUFBRyxFQUFLLEVBQUssTUFBTSxPQUFRLElBQ3ZDLEVBQUssTUFBTSxHQUFNLEVBQVUsRUFBSyxNQUFNLEVBQUcsRUFDeEMsUUFBSSxFQUFLLE1BQ1osR0FBSSxNQUFNLFFBQVEsRUFBSyxLQUFLLEVBQzFCLFFBQVMsRUFBSyxFQUFHLEVBQUssRUFBSyxNQUFNLE9BQVEsSUFDdkMsRUFBSyxNQUFNLEdBQU0sRUFBVSxFQUFLLE1BQU0sRUFBRyxFQUN4QyxPQUFLLE1BQVEsRUFBVSxFQUFLLEtBQUssRUFFeEMsRUFBVyxLQUFLLEdBQWEsUUFBUSxDQUFJLENBQUMsRUFDMUMsR0FBSyxlQUFlLE1BQU8sWUFBWSxjQUFxQixHQUMxRCxFQUNBLEVBQ0EsSUFDSyxFQUNILFVBQVcsRUFBWSxVQUFZLEVBQ25DLGlCQUFrQixFQUNwQixDQUNGO0FBQUEsRUFJRixPQURBLEdBQUssVUFBVSxFQUFZLHVCQUF5QixZQUFjLFFBQzNELEdBRUwsR0FBUyxDQUFDLEVBQVEsRUFBVSxJQUFnQixDQUM5QyxHQUFJLENBQUMsRUFBUSxNQUFPLEdBQ3BCLElBQU0sRUFBUyxJQUFhLEtBQU8sQ0FBQyxFQUFZLE9BQU8sT0FDdkQsR0FBSSxNQUFRLEdBQVUsRUFBTyxNQUFVLFVBQVksRUFBTyxRQUFRLEVBQU8sTUFDdkUsT0FBTyxHQUFPLEVBQU8sTUFBTSxFQUFPLE1BQU8sRUFBVSxJQUM5QyxFQUNILFlBQWEsT0FBTyxPQUFPLEVBQVksWUFBYSxFQUFPLEtBQUssQ0FDbEUsQ0FBQyxFQUNILEdBQUksR0FBVSxFQUFPLE9BQVMsVUFBWSxFQUFPLE9BQVMsU0FBVyxDQUFDLEVBQU8sTUFDM0UsTUFBTyxVQUFVLEdBQVMsSUFBSyxFQUFZLFVBQVUsT0FBUSxDQUFNLElBQ3JFLEdBQUksRUFBWSxXQUFhLEVBQVksZUFBZ0IsT0FBTyxFQUNoRSxJQUFJLEVBQUksR0FDUixHQUFJLEVBQU8sS0FBTyxNQUFRLEVBQ3hCLEVBQVksWUFBWSxFQUFPLEtBQU8sRUFDeEMsT0FBUSxFQUFPLFVBQ1IsU0FDSCxHQUFJLEVBQU8sTUFBVSxTQUFVLENBQzdCLEVBQUksR0FBYSxFQUFRLEVBQVUsQ0FBVyxFQUM5QyxNQUlGLEdBRkEsRUFBUyxHQUF3QixDQUFNLEVBQ3ZDLEdBQUssSUFDRCxFQUFPLHFCQUFzQixHQUFLLE1BQU0sS0FDNUMsSUFBTSxFQUFPLE9BQU8sS0FBSyxFQUFPLFVBQVUsRUFDMUMsUUFBUyxFQUFLLEVBQUcsRUFBSyxFQUFLLE9BQVEsSUFBTSxDQUN2QyxJQUFNLEVBQU0sRUFBSyxHQUNiLEVBRUYsQ0FBQyxFQUFPLFVBQ1IsRUFBTyxVQUFZLENBQUMsRUFBTyxTQUFTLFNBQVMsQ0FBRyxHQUFLLE1BQU0sUUFBUSxFQUFPLFdBQVcsR0FBSyxLQUFLLEVBRTNGLEVBQU8sR0FDWCxFQUNBLEVBQ0EsRUFBWSxnQkFDZCxFQUNBLEdBQUksRUFBWSxDQUNkLElBQU0sRUFBUSxFQUFZLE1BQzFCLEdBQUksRUFBUyxXQUFXLElBQUksRUFBRyxDQUM3QixJQUFNLEVBQVUsRUFBSyxNQUFNLEVBQUssUUFBUSxHQUFHLEVBQUksQ0FBQyxFQUMxQyxFQUFRLEVBQVksaUJBQzFCLEdBQUksRUFBTSxHQUFRLEVBQU0sR0FBTyxLQUFLLENBQU8sRUFDdEMsT0FBTSxHQUFTLENBQUMsQ0FBTyxFQUU1QixPQUFZLFVBQVUsS0FBSyxDQUFJLEVBR25DLElBQU0sRUFBUSxFQUFPLFdBQVcsR0FDaEMsR0FBSSxJQUFPLEVBQUcsR0FBSyxJQUNuQixHQUFLLEdBQUcsR0FBZSxDQUFHLEtBQUssRUFBYSxHQUFHLDJCQUFnQyxLQUFLLEdBQ2xGLEVBQ0EsRUFDQSxJQUNLLEVBQ0gsVUFBVyxFQUFZLFVBQVksRUFDbkMsaUJBQWtCLENBQ3BCLENBQ0YsSUFFRixHQUFLLElBQ0wsVUFDRyxRQUNILEdBQUksRUFBTyxNQUFNLE9BQVMsVUFBWSxFQUFPLE1BQU0sT0FBUyxRQUMxRCxHQUFJLE1BQU0sUUFBUSxFQUFPLEtBQUssRUFBRyxDQUMvQixFQUFJLEdBQVksRUFBTyxNQUFPLEVBQVUsQ0FBVyxFQUNuRCxNQUNLLFFBQUksRUFBUSxNQUFPLFdBQ3JCLFFBQUksTUFBUSxFQUFPLE9BQVMsRUFBTyxNQUFNLE9BQVMsRUFBTyxNQUFNLE1BQVUsT0FBUyxFQUFPLE1BQU0sTUFBVSxRQUM1RyxFQUFJLEdBQ0YsR0FBVSxFQUFZLFlBQVksRUFBTyxNQUFNLEtBQUssRUFDcEQsRUFDQSxJQUNLLEVBQ0gsaUJBQWtCLEdBQ2xCLFVBQVcsRUFBWSxVQUFZLENBQ3JDLENBQ0YsRUFDRyxLQUNILEVBQUksRUFDSixNQUdKLElBQU0sRUFBSSxFQUFZLE1BQ3RCLEVBQVksUUFDWixJQUFJLEVBQVksRUFDaEIsR0FBSSxFQUFRLEVBQUksV0FBVyxnQkFBZ0IsYUFFekMsT0FBWSxLQUFLLEtBQ2pCLEVBQUksS0FBSyxnQkFBd0IsZ0JBQWdCLGFBRW5ELEdBQUssaUJBQWlCLHlCQUFpQyxNQUFNLFVBQWtCLFNBQVMsR0FBTyxFQUFPLE1BQU8sS0FBSyxLQUFNLENBQVcsSUFDbkksSUFBTSxFQUFZLEVBQVksaUJBQWlCLEVBQUksR0FDbkQsR0FBSSxFQUNGLFFBQVMsRUFBSyxFQUFHLEVBQUssRUFBVSxPQUFRLElBQU0sQ0FDNUMsSUFBTSxFQUFTLEtBQUssU0FBUyxFQUFVLEtBQ3ZDLEdBQUssT0FBTyx3QkFBNkIsSUFJN0MsR0FEQSxHQUFLLElBQ0QsQ0FBQyxFQUFRLEdBQUssWUFBWSxRQUFRLEtBQ3RDLGNBRUEsR0FBSSxFQUFPLE1BQVEsRUFBTyxRQUFRLEVBQVksWUFDNUMsT0FBTyxHQUNMLEVBQVksWUFBWSxFQUFPLE1BQy9CLEVBQ0EsQ0FDRixFQUNGLEdBQUksTUFBTSxRQUFRLEVBQU8sS0FBSyxFQUFHLENBQy9CLEVBQUksR0FBWSxFQUFPLE1BQU8sRUFBVSxDQUFXLEVBQ25ELE1BRUYsRUFBSSxHQUFTLEVBQVUsRUFBWSxVQUFVLE9BQVEsQ0FBTSxFQUMzRCxNQUVKLEdBQUksQ0FBQyxFQUFRLE9BQU8sRUFDcEIsR0FBSSxFQUFPLE9BQVMsUUFDbEIsRUFBSSxHQUFHLGlCQUVQLE9BQUksV0FBVztBQUFBLEVBR2pCLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBWSxVQUFVLE9BQVEsSUFBSyxDQUNyRCxJQUFNLEVBQU0sRUFBWSxVQUFVLEdBQzVCLEVBQU8sRUFBSSxNQUFNLENBQUMsRUFFeEIsR0FEQSxHQUFLLE1BQU0sZ0JBQ1AsRUFBWSxVQUFVLEdBQU0sR0FBSyxNQUFNLGdCQUMzQyxJQUFNLEVBQWlCLEVBQUssV0FBVyxDQUFDLElBQU0sSUFBTSxFQUFPLE9BQVMsUUFDcEUsR0FBSyxZQUFZLEVBQWlCLEVBQUssV0FBVyxDQUFDLElBQU0sR0FBSyxLQUFPLElBQU0sS0FBSztBQUFBLEVBR2xGLE1BQU8sR0FBRyxhQUVSLEdBQWUsQ0FBQyxHQUNsQixhQUFjLEVBQ2QsVUFDQSxjQUNBLFNBQVUsRUFDVixpQkFBaUIsRUFDakIseUJBQXlCLElBQ3ZCLENBQUMsSUFBTSxDQUNULElBQU0sRUFBUyxDQUFDLEVBQ2hCLEdBQUksT0FBTyxJQUFjLFdBQVksRUFBWSxDQUFDLENBQVMsRUFDM0QsSUFBTSxFQUFJLEdBQU8sRUFBUSxJQUFLLENBQzVCLFVBQVcsQ0FBQyxFQUNaLGlCQUFrQixDQUFDLEVBQ25CLE1BQU8sRUFDUCxpQkFBa0IsR0FDbEIsU0FDQSxVQUFXLENBQUMsRUFDWixhQUFjLEVBQ2QsVUFFQSxZQUFhLEdBQWUsR0FBUyxPQUFTLENBQUMsRUFDL0MsU0FBVSxFQUNWLFVBQVcsRUFDWCxpQkFDQSx3QkFDRixDQUFDLEVBQ0QsR0FBSSxDQUFDLEVBQU8sUUFBVSxDQUFDLEdBQVcsT0FBUSxPQUFPLFNBQVMsSUFBSyxDQUFDLEVBQ2hFLElBQUksRUFDSixHQUFJLEdBQVcsT0FBUSxDQUNyQixFQUFNLENBQUMsRUFDUCxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQVUsT0FBUSxJQUFLLEVBQUksSUFBSSxLQUFPLEVBQVUsR0FFdEUsT0FBTyxTQUNMLElBQ0EsNkJBQTZCLElBQy9CLEVBQUUsQ0FDQSxZQUNHLENBQ0wsQ0FBQyxHQ3ZUSCxJQUFNLEdBQWEsQ0FBQyxJQUFXLEVBQVMsSUFBUyxLQUFVLFVBQVksRUFBTyxXQUFhLEVBQU8sV0FBVyxFQUFFLEtBQUssRUFBVSxHQUFLLEVBQU8sU0FBVyxFQUFTLEVBQU8sUUFBUyxDQUFDLENBQUMsSUFBVSxNQUFnQixJQUFVLEdBQUksR0FBMEIsQ0FBQyxJQUFZLENBQzdQLEdBQUksQ0FBQyxFQUFTLE1BQU8sR0FDckIsSUFBTSxFQUFTLEdBQVMsUUFBVSxFQUNsQyxHQUFJLEVBQU8sS0FBVSxVQUFZLEVBQVEsV0FDdkMsT0FBTyxFQUFRLFdBQVcsRUFBRSxLQUFLLEVBQXVCLEVBQzFELEdBQUksRUFBTyxNQUFPLE9BQU8sRUFBTyxNQUFNLEtBQUssRUFBdUIsRUFDbEUsR0FBSSxFQUFPLE9BQVEsT0FBTyxFQUFPLE9BQU8sS0FBSyxFQUF1QixFQUNwRSxHQUFJLEVBQU8sTUFBTyxPQUFPLEVBQU8sTUFBTSxLQUFLLEVBQXVCLEVBQ2xFLEdBQUksRUFBTyxJQUFLLE9BQU8sRUFBTyxJQUFJLEtBQUssRUFBdUIsRUFDOUQsR0FBSSxFQUFPLE9BQVMsU0FBVSxDQUM1QixJQUFNLEVBQWEsRUFBTyxXQUMxQixHQUFJLHlCQUEwQixFQUFRLE9BQU8sRUFBTyxxQkFDcEQsR0FBSSxzQkFBdUIsRUFBUSxNQUFPLEdBQzFDLFFBQVcsS0FBTyxPQUFPLEtBQUssQ0FBVSxFQUFHLENBQ3pDLElBQU0sRUFBVyxFQUFXLEdBQzVCLEdBQUksRUFBUyxPQUFTLFVBQ3BCLEdBQUksR0FBd0IsQ0FBUSxFQUFHLE1BQU8sR0FDekMsUUFBSSxFQUFTLE9BQ2xCLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBUyxNQUFNLE9BQVEsSUFDekMsR0FBSSxHQUF3QixFQUFTLE1BQU0sRUFBRSxFQUFHLE1BQU8sR0FFM0QsT0FBTyxFQUFTLHFCQUVsQixNQUFPLEdBRVQsT0FBTyxFQUFPLE9BQVMsU0FBVyxFQUFPLE9BQVMsQ0FBQyxNQUFNLFFBQVEsRUFBTyxLQUFLLEVBQUksR0FBd0IsRUFBTyxLQUFLLEVBQUksSUFDeEgsR0FBVSxDQUFDLEVBQU0sSUFBVyxDQUM3QixHQUFJLENBQUMsRUFBUSxNQUFPLEdBQ3BCLEdBQUksS0FBUSxHQUFVLEVBQU8sS0FBVSxFQUFNLE1BQU8sR0FDcEQsR0FBSSxFQUFPLE9BQVMsU0FBVSxDQUM1QixJQUFNLEVBQWEsRUFBTyxXQUMxQixHQUFJLENBQUMsRUFBWSxNQUFPLEdBQ3hCLFFBQVcsS0FBTyxPQUFPLEtBQUssQ0FBVSxFQUFHLENBQ3pDLElBQU0sRUFBVyxFQUFXLEdBQzVCLEdBQUksRUFBUyxPQUFTLFVBQ3BCLEdBQUksR0FBUSxFQUFNLENBQVEsRUFBRyxNQUFPLEdBQy9CLFFBQUksRUFBUyxPQUNsQixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQVMsTUFBTSxPQUFRLElBQ3pDLEdBQUksR0FBUSxFQUFNLEVBQVMsTUFBTSxFQUFFLEVBQUcsTUFBTyxHQUVqRCxHQUFJLEtBQVEsR0FBWSxFQUFTLEtBQVUsRUFBTSxNQUFPLEdBRTFELE1BQU8sR0FFVCxNQUFPLENBQUMsQ0FBQyxFQUFPLFlBQWMsS0FBUSxFQUFPLFlBQWMsRUFBTyxXQUFXLEtBQVUsR0FDdEYsR0FBZ0IsQ0FBQyxFQUFNLElBQVksQ0FDcEMsR0FBSSxDQUFDLEVBQVMsTUFBTyxHQUNyQixJQUFNLEVBQVMsR0FBUyxRQUFVLEVBQ2xDLEdBQUksRUFBTyxhQUFlLEVBQU0sTUFBTyxHQUN2QyxHQUFJLEVBQU8sS0FBVSxVQUFZLEVBQVEsV0FDdkMsT0FBTyxFQUFRLFdBQVcsRUFBRSxLQUFLLENBQUMsSUFBWSxHQUFjLEVBQU0sQ0FBTyxDQUFDLEVBQzVFLEdBQUksRUFBTyxNQUNULE9BQU8sRUFBTyxNQUFNLEtBQ2xCLENBQUMsSUFBWSxHQUFjLEVBQU0sQ0FBTyxDQUMxQyxFQUNGLEdBQUksRUFBTyxPQUNULE9BQU8sRUFBTyxPQUFPLEtBQ25CLENBQUMsSUFBWSxHQUFjLEVBQU0sQ0FBTyxDQUMxQyxFQUNGLEdBQUksRUFBTyxNQUNULE9BQU8sRUFBTyxNQUFNLEtBQ2xCLENBQUMsSUFBWSxHQUFjLEVBQU0sQ0FBTyxDQUMxQyxFQUNGLEdBQUksRUFBTyxJQUNULE9BQU8sRUFBTyxJQUFJLEtBQUssQ0FBQyxJQUFZLEdBQWMsRUFBTSxDQUFPLENBQUMsRUFDbEUsR0FBSSxFQUFPLE9BQVMsU0FBVSxDQUM1QixJQUFNLEVBQWEsRUFBTyxXQUMxQixRQUFXLEtBQU8sT0FBTyxLQUFLLENBQVUsRUFBRyxDQUN6QyxJQUFNLEVBQVcsRUFBVyxHQUM1QixHQUFJLEVBQVMsT0FBUyxVQUNwQixHQUFJLEdBQWMsRUFBTSxDQUFRLEVBQUcsTUFBTyxHQUNyQyxRQUFJLEVBQVMsT0FDbEIsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFTLE1BQU0sT0FBUSxJQUN6QyxHQUFJLEdBQWMsRUFBTSxFQUFTLE1BQU0sRUFBRSxFQUFHLE1BQU8sR0FFdkQsT0FBTyxFQUFPLGFBQWUsRUFFL0IsTUFBTyxHQUVULE9BQU8sRUFBTyxPQUFTLFNBQVcsRUFBTyxPQUFTLENBQUMsTUFBTSxRQUFRLEVBQU8sS0FBSyxFQUFJLEdBQWMsRUFBTSxFQUFPLEtBQUssRUFBSSxJQUNwSCxHQUFjLENBQUMsRUFBa0IsSUFBWSxDQUM5QyxHQUFJLENBQUMsRUFBUyxPQUNkLElBQU0sRUFBUyxFQUFRLFFBQVUsRUFDakMsR0FBSSxFQUFPLEtBQVUsVUFBWSxFQUFRLFdBQ3ZDLE9BQU8sRUFBUSxXQUFXLEVBQUUsS0FBSyxDQUFDLElBQVksR0FBWSxFQUFrQixDQUFPLENBQUMsRUFDdEYsR0FBSSxFQUFPLE9BQVMsU0FBVSxDQUM1QixJQUFNLEVBQWEsRUFBTyxXQUMxQixHQUFJLENBQUMsRUFBWSxNQUFPLEdBQ3hCLFFBQVcsS0FBTyxPQUFPLEtBQUssQ0FBVSxFQUFHLENBQ3pDLElBQU0sRUFBVyxFQUFXLEdBQzVCLEdBQUksS0FBb0IsRUFBVSxNQUFPLEdBQ3pDLEdBQUksRUFBUyxPQUFTLFVBQ3BCLEdBQUksR0FBWSxFQUFrQixDQUFRLEVBQUcsTUFBTyxHQUMvQyxRQUFJLEVBQVMsT0FDbEIsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFTLE1BQU0sT0FBUSxJQUN6QyxHQUFJLEdBQVksRUFBa0IsRUFBUyxNQUFNLEVBQUUsRUFDakQsTUFBTyxJQUdmLE1BQU8sR0FFVCxPQUFPLEtBQW9CLEdBQzFCLEdBQVMsQ0FBQyxJQUFXLENBQ3RCLEdBQUksQ0FBQyxFQUFRLE1BQU8sR0FDcEIsR0FBSSxFQUFPLE9BQ1QsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFPLE1BQU0sT0FBUSxJQUN2QyxHQUFJLEdBQU8sRUFBTyxNQUFNLEVBQUUsRUFBRyxNQUFPLEdBRXhDLEdBQUksRUFBTyxPQUNULFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBTyxNQUFNLE9BQVEsSUFDdkMsR0FBSSxHQUFPLEVBQU8sTUFBTSxFQUFFLEVBQUcsTUFBTyxHQUV4QyxHQUFJLEVBQU8sT0FDVCxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU8sTUFBTSxPQUFRLElBQ3ZDLEdBQUksR0FBTyxFQUFPLE1BQU0sRUFBRSxFQUFHLE1BQU8sR0FFeEMsR0FBSSxFQUFPLE9BQ1QsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFPLE1BQU0sT0FBUSxJQUN2QyxHQUFJLEdBQU8sRUFBTyxNQUFNLEVBQUUsRUFBRyxNQUFPLEdBRXhDLEdBQUksRUFBTyxLQUFPLEdBQU8sRUFBTyxHQUFHLEVBQUcsTUFBTyxHQUM3QyxHQUFJLEVBQU8sT0FBUyxVQUFZLEVBQU8sV0FBWSxDQUNqRCxJQUFNLEVBQWEsRUFBTyxXQUMxQixRQUFXLEtBQU8sT0FBTyxLQUFLLENBQVUsRUFBRyxDQUN6QyxJQUFNLEVBQVcsRUFBVyxHQUM1QixHQUFJLEdBQU8sQ0FBUSxHQUFLLEVBQVMsT0FBUyxTQUFXLEVBQVMsT0FBUyxHQUFPLEVBQVMsS0FBSyxFQUMxRixNQUFPLElBR2IsT0FBTyxFQUFPLE9BQVMsU0FBVyxFQUFPLE9BQVMsR0FBTyxFQUFPLEtBQUssRUFBSSxHQUFLLEVBQU8sS0FBVSxRQUFTLFNBQVUsSUFDakgsR0FBZSxDQUFDLElBQVcsQ0FDNUIsR0FBSSxDQUFDLEVBQVEsTUFBTyxHQUNwQixHQUFJLEVBQU8sTUFBUSxFQUFPLE9BQVMsRUFBTyxRQUFRLEVBQU8sT0FBUyxHQUFhLEVBQU8sTUFBTSxFQUFPLEtBQUssRUFDdEcsTUFBTyxHQUNULEdBQUksRUFBTyxPQUNULFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBTyxNQUFNLE9BQVEsSUFDdkMsR0FBSSxHQUFhLEVBQU8sTUFBTSxFQUFFLEVBQUcsTUFBTyxHQUU5QyxHQUFJLEVBQU8sT0FDVCxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU8sTUFBTSxPQUFRLElBQ3ZDLEdBQUksR0FBYSxFQUFPLE1BQU0sRUFBRSxFQUFHLE1BQU8sR0FFOUMsR0FBSSxFQUFPLE9BQ1QsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFPLE1BQU0sT0FBUSxJQUN2QyxHQUFJLEdBQWEsRUFBTyxNQUFNLEVBQUUsRUFBRyxNQUFPLEdBRTlDLEdBQUksRUFBTyxLQUFPLEdBQWEsRUFBTyxHQUFHLEVBQUcsTUFBTyxHQUNuRCxHQUFJLEVBQU8sT0FBUyxVQUFZLEVBQU8sV0FBWSxDQUNqRCxJQUFNLEVBQWEsRUFBTyxXQUMxQixRQUFXLEtBQU8sT0FBTyxLQUFLLENBQVUsRUFBRyxDQUN6QyxJQUFNLEVBQVcsRUFBVyxHQUM1QixHQUFJLEdBQWEsQ0FBUSxHQUFLLEVBQVMsT0FBUyxTQUFXLEVBQVMsT0FBUyxHQUFhLEVBQVMsS0FBSyxFQUN0RyxNQUFPLElBR2IsT0FBTyxFQUFPLE9BQVMsU0FBVyxFQUFPLE9BQVMsR0FBYSxFQUFPLEtBQUssRUFBSSxJQUFLLE1BQWlCLElBQ3BHLEdBQW9CLENBQUMsRUFBUSxFQUFTLEVBQVUsQ0FBQyxJQUFNLENBQ3hELElBQU0sRUFBUyxFQUNmLEdBQUksRUFBTyxLQUFPLEdBQUksQ0FBQyxNQUFNLFFBQVEsQ0FBTyxFQUMxQyxPQUFPLEVBQVEsU0FBVyxFQUFRLEdBQW1CLEVBQVEsRUFBUyxDQUFNLEVBQzlFLFFBQVcsS0FBVSxFQUNuQixFQUFPLFNBQVcsRUFBUSxFQUFTLEdBQW1CLEVBQVEsRUFBUSxDQUFNLEVBQzlFLE9BQU8sR0FDTixHQUFxQixDQUFDLEVBQVEsRUFBUyxJQUFXLENBQ25ELEdBQUksQ0FBQyxFQUFRLE9BQU8sRUFDcEIsSUFBTSxFQUFPLEVBQU8sS0FDcEIsR0FBSSxFQUFRLFdBQWEsRUFBTyxPQUFTLEVBQVEsVUFDL0MsT0FBTyxFQUFRLEdBQUcsQ0FBTSxHQUFLLEVBQy9CLEdBQUksRUFBUSxrQkFBb0IsQ0FBQyxHQUFRLEVBQU8sT0FBUyxTQUN2RCxPQUFPLEVBQ1QsSUFBTSxFQUFhLEVBQVEsS0FBSyxHQUNoQyxHQUFJLEVBQU8sTUFBTyxDQUNoQixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU8sTUFBTSxPQUFRLElBQ3ZDLEVBQU8sTUFBTSxHQUFLLEdBQ2hCLEVBQU8sTUFBTSxHQUNiLEVBQ0EsQ0FDRixFQUNGLE9BQU8sRUFFVCxHQUFJLEVBQU8sTUFBTyxDQUNoQixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU8sTUFBTSxPQUFRLElBQ3ZDLEVBQU8sTUFBTSxHQUFLLEdBQ2hCLEVBQU8sTUFBTSxHQUNiLEVBQ0EsQ0FDRixFQUNGLE9BQU8sRUFFVCxHQUFJLEVBQU8sTUFBTyxDQUNoQixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU8sTUFBTSxPQUFRLElBQ3ZDLEVBQU8sTUFBTSxHQUFLLEdBQ2hCLEVBQU8sTUFBTSxHQUNiLEVBQ0EsQ0FDRixFQUNGLE9BQU8sRUFFVCxHQUFJLEVBQU8sSUFBSyxPQUFPLEdBQW1CLEVBQU8sSUFBSyxFQUFTLENBQU0sRUFDckUsSUFBTSxFQUFTLEdBQVEsQ0FBQyxDQUFDLEVBQVEsWUFDakMsR0FBSSxFQUFPLEtBQVUsRUFBWSxDQUMvQixJQUFRLFFBQU8sUUFBTyxRQUFPLE1BQUssV0FBWSxFQUFhLFdBQVUsR0FBUyxFQUFRLEVBQUssRUFBUSxHQUFHLENBQUksRUFDMUcsR0FBSSxDQUFDLEVBQUksT0FBTyxFQUNoQixJQUFJLEVBQ0UsRUFBb0IsQ0FBQyxJQUFZLENBQ3JDLElBQU0sRUFBSSxFQUFtQixDQUFPLEVBQ3BDLE9BQU8sRUFBRSxLQUFPLE9BQU8sRUFBRSxJQUFLLEdBQzdCLEVBQXFCLENBQUMsSUFBTSxDQUM3QixHQUFJLEdBQWUsRUFBRSxPQUFTLFNBQVUsQ0FDdEMsSUFBTSxFQUFnQixDQUFDLEVBQ3ZCLFFBQVksRUFBSyxLQUFXLE9BQU8sUUFBUSxDQUFXLEVBQ3BELEVBQWMsR0FBTyxHQUNuQixFQUNBLEVBQ0EsSUFDSyxFQUNILEtBQU0sRUFDUixDQUNGLEVBQ0YsTUFBTyxJQUNGLEtBQ0EsRUFDSCxXQUFZLENBQ2QsRUFFRixHQUFJLEdBQVMsRUFBRSxPQUFTLFFBQ3RCLE1BQU8sSUFDRixLQUNBLEVBQ0gsTUFBTyxHQUFtQixFQUFPLEVBQVMsSUFDckMsRUFDSCxLQUFNLEVBQ1IsQ0FBQyxDQUNILEVBQ0YsSUFBTSxFQUFRLElBQ1QsS0FDQSxDQUNMLEVBQ0EsT0FBTyxPQUFPLEVBQU0sU0FBVSxHQUFlLEVBQUUsT0FBUyxVQUFZLEVBQUUsU0FBVyxnQkFBa0IsRUFBRSxVQUFZLE1BQVEsRUFBWSxFQUFFLGFBQWEsRUFBYSxDQUFJLEVBQUcsRUFBTSxXQUFhLEdBQWUsR0FBUyxFQUFFLE9BQVMsVUFBWSxFQUFFLFNBQVcsZUFBaUIsRUFBRSxVQUFZLE9BQVMsRUFBWSxFQUFFLFlBQVksRUFBTyxDQUFJLEVBQUcsRUFBTSxNQUFRLEdBQVEsR0FFL1YsR0FBSSxFQUFRLENBQ1YsR0FBSSxFQUFhLENBQ2YsSUFBTSxFQUFnQixDQUFDLEVBQ3ZCLFFBQVksRUFBSyxLQUFVLE9BQU8sUUFBUSxDQUFXLEVBQ25ELEVBQWMsR0FBTyxHQUNuQixFQUNBLEVBQ0EsSUFDSyxFQUNILEtBQU0sRUFDUixDQUNGLEVBQ0YsTUFBTyxJQUNGLEVBQ0gsV0FBWSxDQUNkLEVBQ0ssUUFBSSxHQUFPLElBQ2hCLE1BQU8sSUFDRixFQUNILE1BQU8sRUFBTSxJQUNYLENBQUMsSUFBTSxHQUFtQixFQUFHLEVBQVMsSUFDakMsRUFDSCxLQUFNLEVBQ1IsQ0FBQyxDQUNILENBQ0YsRUFDRixPQUFPLEVBRVQsR0FBSSxFQUFHLE1BQ0wsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFHLE1BQU0sT0FBUSxJQUNuQyxFQUFHLE1BQU0sR0FBSyxFQUFrQixFQUFHLE1BQU0sRUFBRSxFQUMxQyxRQUFJLEVBQUcsTUFDVixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUcsTUFBTSxPQUFRLElBQ25DLEVBQUcsTUFBTSxHQUFLLEVBQWtCLEVBQUcsTUFBTSxFQUFFLEVBQzFDLFFBQUksRUFBRyxNQUNWLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBRyxNQUFNLE9BQVEsSUFDbkMsRUFBRyxNQUFNLEdBQUssRUFBa0IsRUFBRyxNQUFNLEVBQUUsRUFDMUMsT0FBRyxNQUFRLEVBQUcsSUFBTSxFQUFrQixFQUFHLEdBQUcsR0FDakQsR0FBSSxJQUFjLEVBQUcsSUFBaUIsRUFBVSxLQUFpQixFQUFHLE9BQVMsRUFBRyxPQUFTLEVBQUcsT0FBUyxFQUFHLElBQUssT0FBTyxFQUNwSCxHQUFJLEVBQWEsQ0FDZixJQUFNLEVBQWdCLENBQUMsRUFDdkIsUUFBWSxFQUFLLEtBQVUsT0FBTyxRQUFRLENBQVcsRUFDbkQsRUFBYyxHQUFPLEdBQ25CLEVBQ0EsRUFDQSxJQUNLLEVBQ0gsS0FBTSxFQUNSLENBQ0YsRUFDRixNQUFPLElBQ0YsS0FDQSxFQUNILFdBQVksQ0FDZCxFQUNLLFFBQUksR0FBTyxJQUNoQixNQUFPLElBQ0YsS0FDQSxFQUNILE1BQU8sRUFBTSxJQUNYLENBQUMsSUFBTSxHQUFtQixFQUFHLEVBQVMsSUFDakMsRUFDSCxLQUFNLEVBQ1IsQ0FBQyxDQUNILENBQ0YsRUFDRixNQUFPLElBQ0YsS0FDQSxDQUNMLEVBRUYsSUFBTSxFQUFhLEdBQVEsV0FDM0IsR0FBSSxHQUFjLEdBQVEsRUFBUSxXQUFhLEdBQzdDLFFBQVksRUFBSyxLQUFVLE9BQU8sUUFBUSxDQUFVLEVBQ2xELE9BQVEsRUFBTSxTQUNQLEVBQ0gsSUFBUSxRQUFPLFFBQU8sUUFBTyxNQUFLLFVBQVMsR0FBUyxFQUFPLEVBQUssRUFBUSxHQUFHLENBQUksRUFDL0UsR0FBSSxDQUFDLEVBQUksT0FBTyxFQUNoQixHQUFJLEVBQUcsTUFDTCxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUcsTUFBTSxPQUFRLElBQ25DLEVBQUcsTUFBTSxHQUFLLElBQUssS0FBUyxFQUFHLE1BQU0sRUFBRyxFQUN2QyxRQUFJLEVBQUcsTUFDVixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUcsTUFBTSxPQUFRLElBQ25DLEVBQUcsTUFBTSxHQUFLLElBQUssS0FBUyxFQUFHLE1BQU0sRUFBRyxFQUN2QyxRQUFJLEVBQUcsTUFDVixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUcsTUFBTSxPQUFRLElBQ25DLEVBQUcsTUFBTSxHQUFLLElBQUssS0FBUyxFQUFHLE1BQU0sRUFBRyxFQUN2QyxPQUFHLE1BQVEsRUFBRyxJQUFNLElBQUssS0FBUyxFQUFHLEdBQUksR0FDOUMsRUFBVyxHQUFPLElBQ2IsS0FDQSxHQUFtQixFQUFNLEVBQVMsSUFDaEMsRUFDSCxLQUFNLEVBQ1IsQ0FBQyxDQUNILEVBQ0EsVUFDRyxhQUNBLFFBQ0gsRUFBVyxHQUFPLEdBQW1CLEVBQU8sRUFBUyxJQUNoRCxFQUNILEtBQU0sRUFDUixDQUFDLEVBQ0QsY0FFQSxHQUFJLE1BQU0sUUFBUSxFQUFNLEtBQUssRUFDM0IsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFNLE1BQU0sT0FBUSxJQUN0QyxFQUFNLE1BQU0sR0FBSyxHQUNmLEVBQU0sTUFBTSxHQUNaLEVBQ0EsSUFDSyxFQUNILEtBQU0sRUFDUixDQUNGLEVBQ0MsT0FBTSxPQUFTLEVBQU0sT0FBUyxFQUFNLE9BQVMsRUFBTSxJQUFNLEVBQVcsR0FBTyxHQUFtQixFQUFPLEVBQVMsSUFDOUcsRUFDSCxLQUFNLEVBQ1IsQ0FBQyxFQUFJLEVBQU0sT0FBUyxVQUFZLEVBQU0sTUFBUSxHQUFtQixFQUFNLE1BQU8sRUFBUyxJQUNsRixFQUNILEtBQU0sRUFDUixDQUFDLEdBQ0QsTUFFUixPQUFPLEVBQU8sT0FBUyxTQUFXLEVBQU8sUUFBVSxNQUFNLFFBQVEsRUFBTyxLQUFLLEVBQUksRUFBTyxNQUFRLEVBQU8sTUFBTSxJQUMzRyxDQUFDLElBQVMsR0FBbUIsRUFBTSxFQUFTLElBQ3ZDLEVBQ0gsS0FBTSxFQUNSLENBQUMsQ0FDSCxFQUFJLEVBQU8sTUFBUSxHQUFtQixFQUFPLE1BQU8sRUFBUyxJQUN4RCxFQUNILEtBQU0sRUFDUixDQUFDLEdBQUksR0FDSixHQUFnQixDQUFDLElBQVcsQ0FBQyxJQUFVLENBQ3hDLEdBQUksT0FBTyxHQUFTLFNBQ2xCLEdBQUksQ0FDRixPQUFPLEdBQU0sTUFBTSxFQUFRLENBQUssRUFDaEMsS0FBTSxFQUVWLE9BQU8sR0FDTixHQUFxQixDQUFDLEdBQ3ZCLFNBQVMsQ0FBQyxFQUNWLFVBQVUsR0FDVixVQUNBLFlBQVksR0FDWix1QkFBdUIsR0FDdkIsNEJBQTRCLEdBQzVCLFNBQVMsR0FDVCxtQkFBbUIsQ0FBQyxFQUNwQixhQUNBLFlBQ0UsQ0FBQyxJQUFNLENBQ1QsR0FBSSxFQUFhLEdBQVksT0FBTyxDQUFDLElBQU0sQ0FBQyxFQUFHLENBQUMsRUFBRyxDQUNqRCxHQUFJLENBQUMsR0FBWSxPQUFRLE9BQ3pCLEVBQUksRUFBVyxHQUFJLEVBQWEsRUFBVyxNQUFNLENBQUMsRUFFcEQsSUFBSSxFQUNFLEVBQWdCLENBQUMsSUFBWSxFQUFTLEdBQWtCLEVBQVMsQ0FDckUsQ0FDRSxLQUFNLEVBQUUsT0FBTyxFQUNmLEdBQUksQ0FBQyxJQUFZLEVBQUUsUUFBUSxDQUFPLEVBQ2xDLGlCQUFrQixFQUNwQixFQUNBLENBQ0UsS0FBTSxFQUFFLFFBQVEsRUFDaEIsR0FBSSxDQUFDLElBQVksRUFBRSxjQUFjLENBQU8sRUFDeEMsaUJBQWtCLEVBQ3BCLEVBQ0EsR0FBRyxNQUFNLFFBQVEsQ0FBZ0IsRUFBSSxFQUFtQixDQUFDLENBQWdCLENBQzNFLENBQUMsRUFBSSxHQUFrQixFQUFTLENBQWdCLEVBQUcsRUFBWSxDQUFDLElBQU8sQ0FDckUsR0FBSSxHQUFNLE9BQU8sR0FBTSxVQUFZLGNBQWUsRUFDaEQsT0FBTyxFQUNULEdBQUksQ0FBQyxFQUFJLE9BQ1QsSUFBSSxFQUNKLEdBQUksT0FBTyxHQUFNLFNBQVUsRUFBVSxFQUNoQyxRQUFJLEVBQ1QsR0FBVyxLQUFNLEVBQVEsTUFBUSxFQUFRLE9BQU8sQ0FBRSxFQUFJLEVBQU8sR0FBSyxDQUFDLEVBQVMsT0FDNUUsR0FBSSxLQUFRLEVBQ1YsR0FBSSxFQUFRLEtBQVUsU0FDcEIsR0FBTyxFQUFRLE1BQU0sRUFBUSxLQUFLLElBQU0sRUFBVSxFQUFRLE1BQU0sRUFBUSxPQUFRLEdBQVUsS0FBc0IsRUFBVSxFQUFjLENBQU8sSUFDNUksUUFBSSxHQUFPLENBQU8sRUFBRyxDQUN4QixJQUFNLEVBQUssR0FBUyxFQUNwQixFQUFVLEVBQUUsT0FBTyxJQUVkLEdBQVMsT0FDWCxHQUFLLENBQ1IsQ0FBQyxFQUFFLE9BQU8sQ0FBRSxFQUNQLEtBQUMsR0FBVSxLQUFzQixFQUFVLEVBQWMsQ0FBTyxHQUN6RSxPQUFPLEdBRUwsRUFBUyxFQUFVLENBQUMsRUFBRyxFQUFjLEVBQ3pDLEdBQUksY0FBZSxHQUFVLEdBQVksUUFBVSxFQUFXLEtBQzVELENBQUMsSUFBTSxHQUFLLE9BQU8sR0FBSyxXQUFZLGNBQWUsRUFDckQsRUFBRyxDQUNELElBQU0sRUFBc0IsQ0FBQyxJQUFZLENBQ3ZDLElBQUksRUFDSixHQUFJLElBQWMsSUFBTSxJQUFjLGNBQ3BDLEdBQUksQ0FDRixFQUFTLEdBQWEsRUFBUyxDQUM3QixnQkFDQSxTQUFVLElBQVcsRUFDckIsU0FDRixDQUFDLEVBQ0QsS0FBTSxDQUNOLFFBQVEsS0FDTiw2R0FDRixFQUFHLFFBQVEsS0FBSyxDQUFPLEVBQUcsRUFBUyxHQUFjLENBQU8sRUFFNUQsSUFBTSxFQUFPLEdBQW1CLEVBQVMsQ0FDdkMsU0FDQSxVQUNBLFVBQ0EsWUFDQSxxQkFBc0IsR0FDdEIsMEJBQTJCLEdBQzNCLFNBQ0Esa0JBQ0YsQ0FBQyxFQUNELE9BQU8sRUFBSyxPQUFTLEVBQVEsQ0FBQyxJQUFNLEVBQUssTUFBTSxDQUFDLEVBQUksQ0FDbEQsTUFBTyxFQUFLLE9BQU8sQ0FBQyxDQUN0QixFQUFJLENBQ0YsT0FBUSxDQUFDLEdBQUcsRUFBSyxPQUFPLENBQUMsQ0FBQyxDQUM1QixHQUNDLEVBQVksRUFBTyxhQUFlLEVBQU8sYUFBYSxTQUFXLEVBQW9CLENBQU0sRUFDMUYsRUFBVyxDQUFDLEVBQ2hCLEdBQUksR0FBWSxRQUNkLFFBQVcsS0FBYyxFQUN2QixHQUFJLEdBQWMsT0FBTyxHQUFjLFNBQVUsQ0FDL0MsR0FBSSxJQUFhLGFBQWMsQ0FDN0IsRUFBUyxLQUFLLEVBQVcsWUFBWSxFQUNyQyxTQUVGLEdBQUksS0FBUSxFQUFZLENBQ3RCLEVBQVMsS0FBSyxFQUFvQixDQUFVLENBQUMsRUFDN0MsV0FJUixlQUFlLENBQUssQ0FBQyxFQUFPLENBQzFCLElBQUksRUFBSSxFQUFVLENBQUssRUFDdkIsR0FBSSxhQUFhLFVBQVksRUFBSSxNQUFNLEdBQUksRUFBRSxPQUFRLE9BQU8sRUFDNUQsSUFBTSxFQUFTLENBQUMsRUFDaEIsR0FBSyxPQUFPLEdBQUssVUFBWSxFQUFPLEtBQUssRUFBRSxLQUFLLEVBQ2hELFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBUyxPQUFRLElBQUssQ0FDeEMsR0FBSSxFQUFJLEVBQVMsR0FBRyxTQUFTLENBQUssRUFBRyxhQUFhLFVBQVksRUFBSSxNQUFNLEdBQUksRUFBRSxPQUFRLE9BQU8sRUFDN0YsR0FBSyxPQUFPLEdBQUssVUFBWSxFQUFPLEtBQUssRUFBRSxLQUFLLEVBRWxELEdBQUksQ0FBQyxFQUFPLE9BQVEsTUFBTyxDQUFFLE1BQU8sQ0FBRSxFQUN0QyxHQUFJLEVBQU8sU0FBVyxFQUFHLE1BQU8sQ0FBRSxNQUFPLEVBQU8sRUFBRyxFQUNuRCxHQUFJLEVBQU8sU0FBVyxFQUNwQixNQUFPLENBQUUsTUFBTyxHQUFVLEVBQU8sR0FBSSxFQUFPLEVBQUUsQ0FBRSxFQUNsRCxJQUFJLEVBQVcsR0FBVSxFQUFPLEdBQUksRUFBTyxFQUFFLEVBQzdDLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBTyxPQUFRLElBQ2pDLEVBQVcsR0FBVSxFQUFVLEVBQU8sRUFBRSxFQUMxQyxNQUFPLENBQUUsTUFBTyxDQUFTLEVBRTNCLElBQU0sRUFBWSxDQUNoQixTQUFVLFdBQ1YsU0FDQSxXQUFZLEdBQ1osVUFBVyxJQUFNLEdBRWpCLEtBQU0sR0FFTixRQUVBLE9BQVEsQ0FBQyxJQUFVLEVBQU0sQ0FBSyxHQUFHLE9BQU8sQ0FBQyxJQUFNLEdBQUcsTUFBTSxFQUN4RCxLQUFNLElBQU0sR0FFWixPQUFRLEVBRVIsT0FBUSxDQUFDLElBQVUsRUFDbkIsd0JBQXlCLEdBQ3pCLFdBQVksR0FDWixXQUFZLEdBQ1osYUFBYyxHQUNkLE9BQVEsRUFDVixFQUNBLE9BQU8sRUFBVSxNQUFRLENBQUMsSUFBTSxDQUM5QixHQUFJLENBQ0YsT0FBTyxFQUFVLE9BQU8sRUFBVSxRQUFRLENBQUMsR0FBSyxDQUFDLEVBQ2pELEtBQU0sQ0FDTixLQUFNLENBQUMsR0FBRyxFQUFVLE9BQU8sQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFhLElBRWpELEVBQVUsVUFBWSxDQUFDLElBQU0sQ0FDOUIsR0FBSSxDQUNGLE1BQU8sQ0FDTCxRQUFTLEdBQ1QsS0FBTSxFQUFVLE9BQU8sRUFBVSxRQUFRLENBQUMsR0FBSyxDQUFDLEVBQ2hELE1BQU8sSUFDVCxFQUNBLEtBQU0sQ0FDTixJQUFNLEVBQVMsQ0FBQyxHQUFHLEVBQVMsT0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQWEsRUFDeEQsTUFBTyxDQUNMLFFBQVMsR0FDVCxLQUFNLEtBQ04sTUFBTyxFQUFPLElBQUksUUFDbEIsUUFDRixJQUVELEVBQ0UsUUFBSSxHQUFZLE9BQVEsQ0FDN0IsSUFBSSxFQUFnQixHQUNkLEVBQWMsR0FBZSxPQUFRLEVBQW9CLGNBQWUsR0FBbUIsQ0FDL0YsRUFDQSxHQUFHLEVBQVksSUFBSSxDQUFTLENBQzlCLENBQUMsRUFDRCxJQUFlLEVBQVMsRUFBRSxVQUFVLENBQ2xDLEdBQUcsRUFBcUIsQ0FBQyxDQUFrQixFQUFJLENBQUMsRUFDaEQsR0FBRyxFQUFXLElBQUksQ0FBQyxJQUFNLENBQ3ZCLElBQU0sRUFBVSxFQUFVLENBQUMsRUFDM0IsT0FBTyxFQUFRLE9BQVMsVUFBWSx5QkFBMEIsSUFBWSxDQUFDLEdBQWlCLEVBQVEsdUJBQXlCLEtBQU8sRUFBZ0IsSUFBSyxPQUFPLEVBQVEsc0JBQXVCLEVBQ2hNLENBQ0gsQ0FBQyxFQUFHLEVBQU8sT0FBUyxVQUFZLElBQWtCLEVBQU8scUJBQXVCLEtBRWhGLE9BQU8sT0FBUyxXQUFhLEVBQUUseUJBQTBCLElBQVcsR0FBNkIsRUFBTyxxQkFBdUIsRUFBdUIsRUFBUyxHQUFrQixFQUFRLENBQ3ZMLFVBQVcsU0FDWCxLQUFNLEVBQUUsT0FBTyxDQUFDLENBQUMsRUFFakIsRUFBRSxFQUFHLGdCQUFlLEdBQVcsQ0FDN0IsR0FBSSxHQUFjLEVBQUUseUJBQTBCLEdBQzVDLE9BQU8sRUFBRSxPQUFPLEVBQVksSUFDdkIsRUFDSCxxQkFBc0IsRUFDeEIsQ0FBQyxFQUVQLENBQUMsRUFDSCxHQUFJLEVBQ0YsR0FBSSxLQUFRLEVBQVEsQ0FDbEIsSUFBTSxFQUFZLENBQ2hCLFNBQVUsVUFDVixTQUNBLFdBQVksR0FDWixVQUFXLElBQU0sR0FFakIsS0FBTSxHQUVOLE1BQU8sQ0FBQyxJQUFVLEdBQU0sTUFBTSxFQUFRLENBQUssRUFDM0MsT0FBUSxDQUFDLElBQVUsR0FBTSxPQUFPLEVBQVEsQ0FBSyxFQUM3QyxLQUFNLElBQU0sR0FDWixNQUFPLEdBQWMsQ0FBTSxFQUMzQixPQUFRLENBQUMsSUFBVSxHQUFNLE9BQU8sRUFBUSxDQUFLLEVBQzdDLE9BQVEsQ0FBQyxJQUFVLEdBQU0sT0FBTyxFQUFRLENBQUssS0FDekMsd0JBQXVCLEVBQUcsQ0FDNUIsTUFBTyw2QkFBOEIsS0FBTyxLQUFLLDRCQUE4QixLQUFLLDRCQUE4QixHQUF3QixDQUFNLE1BRTlJLFdBQVUsRUFBRyxDQUNmLE1BQU8sZ0JBQWlCLEtBQU8sS0FBSyxlQUFpQixLQUFLLGVBQWlCLEdBQ3pFLFVBQ0EsQ0FDRixNQUVFLFdBQVUsRUFBRyxDQUNmLE1BQU8sZ0JBQWlCLEtBQU8sS0FBSyxlQUFpQixLQUFLLGVBQWlCLEdBQVcsQ0FBTSxNQUUxRixhQUFZLEVBQUcsQ0FDakIsTUFBTyxrQkFBbUIsS0FBTyxLQUFLLGlCQUFtQixLQUFLLGlCQUFtQixHQUFhLENBQU0sR0FFdEcsVUFBVyxLQUNQLE9BQU0sRUFBRyxDQUNYLE1BQU8sWUFBYSxLQUFPLEtBQUssV0FBYSxLQUFLLFdBQWEsR0FBYSxDQUFNLEVBRXRGLEVBQ0EsR0FBSSxFQUFPLFNBQVcsRUFBVSxPQUFTLEVBQU8sT0FBUSxHQUFXLFFBQVEsUUFBVSxPQUFPLEVBQVUsT0FBTyxRQUFTLEdBQWEsRUFBTyx1QkFBeUIsR0FDakssR0FBSSxJQUFjLElBQU0sSUFBYyxjQUNwQyxHQUFJLENBQ0YsRUFBVSxNQUFRLEdBQWEsRUFBUSxDQUNyQyxnQkFDQSxTQUFVLElBQVcsRUFDckIsU0FDRixDQUFDLEVBQ0QsS0FBTSxDQUNOLFFBQVEsS0FDTiw2R0FDRixFQUFHLFFBQVEsS0FBSyxDQUFNLEVBQUcsRUFBVSxNQUFRLEdBQWMsQ0FBTSxFQUU5RCxPQUFVLE1BQVEsR0FBYyxDQUFNLEVBQzdDLE9BQU8sRUFBVSxNQUFRLENBQUMsSUFBTSxDQUM5QixHQUFJLENBQ0YsT0FBTyxFQUFVLE9BQU8sRUFBVSxRQUFRLENBQUMsR0FBSyxDQUFDLEVBQ2pELEtBQU0sQ0FDTixLQUFNLENBQUMsR0FBRyxFQUFVLE9BQU8sQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFhLElBRWpELEVBQVUsVUFBWSxDQUFDLElBQU0sQ0FDOUIsR0FBSSxDQUNGLE1BQU8sQ0FDTCxRQUFTLEdBQ1QsS0FBTSxFQUFVLE9BQU8sRUFBVSxRQUFRLENBQUMsR0FBSyxDQUFDLEVBQ2hELE1BQU8sSUFDVCxFQUNBLEtBQU0sQ0FDTixJQUFNLEVBQVMsQ0FBQyxHQUFHLEVBQVMsT0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQWEsRUFDeEQsTUFBTyxDQUNMLFFBQVMsR0FDVCxLQUFNLEtBQ04sTUFBTyxFQUFPLElBQUksUUFDbEIsUUFDRixJQUVELEVBQ0UsS0FDTCxJQUFNLEVBQVksQ0FDaEIsU0FBVSxXQUNWLFNBQ0EsV0FBWSxHQUNaLFVBQVcsSUFBTSxHQUVqQixLQUFNLEdBRU4sTUFBTyxDQUFDLElBQU0sRUFBTyxhQUFhLFNBQVMsQ0FBQyxFQUU1QyxNQUFNLENBQUMsRUFBTyxDQUNaLElBQU0sRUFBVyxFQUFPLGFBQWEsU0FBUyxDQUFLLEVBQ25ELEdBQUksYUFBb0IsUUFDdEIsTUFBTSxNQUNKLHlEQUNGLEVBQ0YsT0FBTyxFQUFTLFFBRWxCLEtBQU0sSUFBTSxHQUVaLE1BQU0sQ0FBQyxFQUFPLENBQ1osSUFBTSxFQUFXLEVBQU8sYUFBYSxTQUFTLENBQUssRUFDbkQsR0FBSSxhQUFvQixRQUN0QixNQUFNLE1BQ0oseURBQ0YsRUFDRixPQUFPLEdBR1QsT0FBUSxDQUFDLElBQVUsRUFDbkIsd0JBQXlCLEdBQ3pCLFdBQVksR0FDWixXQUFZLEdBQ1osYUFBYyxHQUNkLE9BQVEsRUFDVixFQUNBLE9BQU8sRUFBVSxNQUFRLENBQUMsSUFBTSxDQUM5QixHQUFJLENBQ0YsT0FBTyxFQUFVLE9BQU8sRUFBVSxRQUFRLENBQUMsR0FBSyxDQUFDLEVBQ2pELEtBQU0sQ0FDTixLQUFNLENBQUMsR0FBRyxFQUFVLE9BQU8sQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFhLElBRWpELEVBQVUsVUFBWSxDQUFDLElBQU0sQ0FDOUIsR0FBSSxDQUNGLE1BQU8sQ0FDTCxRQUFTLEdBQ1QsS0FBTSxFQUFVLE9BQU8sRUFBVSxRQUFRLENBQUMsR0FBSyxDQUFDLEVBQ2hELE1BQU8sSUFDVCxFQUNBLEtBQU0sQ0FDTixJQUFNLEVBQVMsQ0FBQyxHQUFHLEVBQVMsT0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQWEsRUFDeEQsTUFBTyxDQUNMLFFBQVMsR0FDVCxLQUFNLEtBQ04sTUFBTyxFQUFPLElBQUksUUFDbEIsUUFDRixJQUVELEVBRVAsSUFBSSxFQUNKLEdBQUksS0FBUSxFQUNWLEdBQUksRUFBVyxHQUFhLFFBQzFCLEVBQ0EsT0FBTyxPQUFPLENBQU0sRUFBRSxPQUFPLENBQUMsS0FBTSxLQUFRLEVBQUMsQ0FDL0MsRUFBRyxFQUFTLFNBQVcsVUFBVyxFQUFPLFNBQVcsRUFBUyxPQUFTLEVBQU8sT0FBUSxHQUFVLFFBQVEsUUFBVSxPQUFPLEVBQVMsT0FBTyxRQUFTLElBQWMsSUFBTSxJQUFjLGNBQ2pMLEdBQUksQ0FDRixFQUFTLE1BQVEsR0FBYSxFQUFRLENBQ3BDLGdCQUNBLFNBQVUsSUFBVyxFQUNyQixTQUNGLENBQUMsRUFDRCxLQUFNLENBQ04sUUFBUSxLQUNOLDZHQUNGLEVBQUcsUUFBUSxJQUFJLEVBQVEsQ0FDckIsTUFBTyxJQUNULENBQUMsRUFBRyxFQUFTLE1BQVEsR0FBYyxDQUFNLEVBRXhDLFNBQWMsWUFBYyxFQUFTLE1BQVEsR0FBYyxDQUFNLEdBRXRFLE9BQVcsQ0FDVCxTQUFVLFdBQ1YsU0FDQSxXQUFZLEdBQ1osU0FBUyxDQUFDLEVBQU8sQ0FDZixJQUFNLEVBQVcsRUFBTyxhQUFhLFNBQVMsQ0FBSyxFQUNuRCxHQUFJLGFBQW9CLFFBQ3RCLE1BQU0sTUFDSix5REFDRixFQUNGLE9BQU8sR0FFVCxLQUFNLEdBRU4sTUFBTyxDQUFDLElBQU0sRUFBTyxhQUFhLFNBQVMsQ0FBQyxFQUU1QyxNQUFNLENBQUMsRUFBTyxDQUNaLElBQU0sRUFBVyxFQUFPLGFBQWEsU0FBUyxDQUFLLEVBQ25ELEdBQUksYUFBb0IsUUFDdEIsTUFBTSxNQUNKLHlEQUNGLEVBQ0YsT0FBTyxFQUFTLFFBRWxCLEtBQU0sSUFBTSxHQUVaLE1BQU0sQ0FBQyxFQUFPLENBQ1osSUFBTSxFQUFXLEVBQU8sYUFBYSxTQUFTLENBQUssRUFDbkQsR0FBSSxhQUFvQixRQUN0QixNQUFNLE1BQ0oseURBQ0YsRUFDRixPQUFPLEdBR1QsT0FBUSxDQUFDLElBQVUsRUFDbkIsd0JBQXlCLEdBQ3pCLFdBQVksR0FDWixXQUFZLEdBQ1osYUFBYyxHQUNkLE9BQVEsRUFDVixFQUNGLE9BQU8sRUFBUyxNQUFRLENBQUMsSUFBTSxDQUM3QixHQUFJLENBQ0YsT0FBTyxFQUFTLE9BQU8sRUFBUyxRQUFRLENBQUMsR0FBSyxDQUFDLEVBQy9DLEtBQU0sQ0FDTixLQUFNLENBQUMsR0FBRyxFQUFTLE9BQU8sQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFhLElBRWhELEVBQVMsVUFBWSxDQUFDLElBQU0sQ0FDN0IsR0FBSSxDQUNGLE1BQU8sQ0FDTCxRQUFTLEdBQ1QsS0FBTSxFQUFTLE9BQU8sRUFBUyxRQUFRLENBQUMsR0FBSyxDQUFDLEVBQzlDLE1BQU8sSUFDVCxFQUNBLEtBQU0sQ0FDTixJQUFNLEVBQVMsQ0FBQyxHQUFHLEVBQVMsT0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQWEsRUFDeEQsTUFBTyxDQUNMLFFBQVMsR0FDVCxLQUFNLEtBQ04sTUFBTyxFQUFPLElBQUksUUFDbEIsUUFDRixJQUVELEtBQVEsR0FBVSxPQUFPLE9BQU8sRUFBVSxJQUN2Qyx3QkFBdUIsRUFBRyxDQUM1QixNQUFPLDZCQUE4QixLQUFPLEtBQUssNEJBQThCLEtBQUssNEJBQThCLEdBQXdCLENBQVEsTUFFaEosV0FBVSxFQUFHLENBQ2YsTUFBTyxnQkFBaUIsS0FBTyxLQUFLLGVBQWlCLEtBQUssZUFBaUIsR0FBWSxVQUFXLENBQVEsTUFFeEcsV0FBVSxFQUFHLENBQ2YsTUFBTyxnQkFBaUIsS0FBTyxLQUFLLGVBQWlCLEtBQUssZUFBaUIsR0FBVyxDQUFRLE1BRTVGLGFBQVksRUFBRyxDQUNqQixNQUFPLGtCQUFtQixLQUFPLEtBQUssaUJBQW1CLEtBQUssaUJBQW1CLEdBQWEsQ0FBTSxNQUVsRyxPQUFNLEVBQUcsQ0FDWCxNQUFPLFlBQWEsS0FBTyxLQUFLLFdBQWEsS0FBSyxXQUFhLEdBQU8sQ0FBTSxHQUU5RSxVQUFXLENBQ2IsQ0FBQyxFQUFHLEdBQ0gsR0FBVSxDQUFDLElBQVcsRUFBTyxLQUFVLFNBQVcsQ0FBQyxFQUFPLFFBQVUsQ0FBQyxDQUFDLEVBQU8sTUFBTyxHQUFxQixDQUFDLElBQVksQ0FDdkgsR0FBSSxFQUFRLFNBQVcsRUFDckIsTUFBTyxDQUNMLE9BQWEsT0FDYixXQUFZLENBQUMsQ0FDZixFQUNGLEdBQUksRUFBUSxTQUFXLEVBQ3JCLE9BQU8sRUFBUSxHQUFHLE9BQVMsU0FBVyxDQUNwQyxPQUFRLEVBQVEsR0FDaEIsV0FBWSxDQUFDLENBQ2YsRUFBSSxDQUNGLE9BQWEsT0FDYixXQUFZLENBQ2QsRUFDRixJQUFJLEVBQ0UsRUFBYSxDQUFDLEVBQ2hCLEVBQTZCLEdBQUksRUFBOEIsR0FDbkUsUUFBVyxLQUFVLEVBQVMsQ0FDNUIsR0FBSSxFQUFPLE9BQVMsU0FBVSxDQUM1QixFQUFXLEtBQUssQ0FBTSxFQUN0QixTQUVGLEdBQUkseUJBQTBCLElBQVcsRUFBTyx1QkFBeUIsR0FBSyxFQUE2QixHQUFLLEVBQU8sdUJBQXlCLEtBQU8sRUFBOEIsS0FBTSxDQUFDLEVBQVcsQ0FDck0sRUFBWSxFQUNaLFNBRUYsRUFBWSxJQUNQLEtBQ0EsRUFDSCxXQUFZLElBQ1AsRUFBVSxjQUNWLEVBQU8sVUFDWixFQUNBLFNBQVUsQ0FBQyxHQUFHLEdBQVcsVUFBWSxDQUFDLEVBQUcsR0FBRyxFQUFPLFFBQVEsQ0FDN0QsRUFFRixPQUFPLElBQWMsRUFBVSxXQUFhLEVBQVUsU0FBVyxDQUFDLEdBQUcsSUFBSSxJQUFJLEVBQVUsUUFBUSxDQUFDLEdBQUksRUFBOEIsRUFBVSxxQkFBdUIsR0FBSyxJQUErQixFQUFVLHFCQUF1QixLQUFNLENBQzVPLE9BQVEsRUFDUixZQUNGLEdBQ0MsR0FBNkIsQ0FBQyxHQUMvQixTQUFTLENBQUMsRUFDVixVQUNBLFVBQVUsR0FDVixZQUFZLEdBQ1osdUJBQXVCLEdBQ3ZCLGFBQWEsQ0FBQyxFQUNkLGNBQ0ksQ0FDSixHQUFJLEVBQWEsRUFBVyxPQUFPLENBQUMsSUFBTSxDQUFDLEVBQUcsQ0FBQyxFQUFHLENBQ2hELEdBQUksQ0FBQyxHQUFZLE9BQVEsT0FDekIsRUFBSSxFQUFXLEdBQUksRUFBYSxFQUFXLE1BQU0sQ0FBQyxFQUVwRCxJQUFJLEVBQ0osR0FBSSxPQUFPLEdBQUssU0FBVSxFQUFzQixFQUMzQyxRQUFJLEVBQ1QsR0FBVyxLQUFLLEVBQVEsTUFBUSxFQUFRLE9BQU8sQ0FBQyxFQUFJLEVBQU8sR0FBSSxDQUFDLEVBQXFCLE9BQ3JGLEdBQUksQ0FBQyxFQUFxQixPQUMxQixHQUFJLEtBQVEsR0FBdUIsY0FBZSxFQUNoRCxNQUFPLENBQ0wsSUFBSyxHQUNILEVBQ0EsQ0FDRSxVQUNBLFNBQ0EsdUJBQ0EsVUFDQSxZQUNBLE9BQVEsR0FDUixpQkFBa0IsQ0FBQyxFQUNuQixXQUFZLEVBQVcsSUFBSSxDQUFDLElBQU0sRUFBRSxJQUFJLEVBQ3hDLFVBQ0YsQ0FDRixDQUNGLEVBQ0YsSUFBTSxFQUFTLENBQUMsRUFDaEIsT0FBTyxPQUFPLEtBQUssQ0FBbUIsRUFBRSxRQUFRLENBQUMsSUFBVyxDQUMxRCxHQUFJLE1BQU0sQ0FBQyxDQUFNLEVBQUcsT0FDcEIsSUFBTSxFQUFvQixFQUFvQixDQUFDLEdBQy9DLEdBQUksT0FBTyxHQUFxQixTQUFVLENBQ3hDLEdBQUksS0FBcUIsRUFBUSxDQUMvQixJQUFNLEVBQVMsRUFBTyxHQUN0QixHQUFJLENBQUMsRUFBUSxPQUNiLEVBQU8sQ0FBQyxHQUFVLEtBQVEsR0FBVSxjQUFlLEVBQVMsR0FBbUIsRUFBUSxDQUNyRixVQUNBLFNBQ0EsdUJBQ0EsVUFDQSxZQUNBLE9BQVEsR0FDUixpQkFBa0IsQ0FBQyxFQUNuQixXQUFZLEVBQVcsSUFBSSxDQUFDLElBQU0sRUFBRSxDQUFDLEVBQU8sRUFDNUMsVUFDRixDQUFDLEVBQUksRUFFUCxPQUVGLEVBQU8sQ0FBQyxHQUFVLEtBQVEsR0FBcUIsY0FBZSxFQUFvQixHQUFtQixFQUFtQixDQUN0SCxVQUNBLFNBQ0EsdUJBQ0EsVUFDQSxZQUNBLE9BQVEsR0FDUixpQkFBa0IsQ0FBQyxFQUNuQixXQUFZLEVBQVcsSUFBSSxDQUFDLElBQU0sRUFBRSxDQUFDLEVBQU8sRUFDNUMsVUFDRixDQUFDLEVBQUksRUFDTixFQUFHLEdBRUYsR0FDRSxHQUE2QixLQUFPLEtBQWdDLEdBQThCLENBQ3RHLENBQ0UsS0FBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDLEVBQ2pCLEdBQUksSUFBTSxFQUFFLGFBQWEsQ0FBQyxDQUFDLEVBQzNCLFlBQWEsRUFDZixFQUNBLENBQ0UsS0FBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsRUFDckIsR0FBSSxJQUFNLEVBQUUsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUNqQyxDQUNGLEdBQUksSUFDQSxHQUNFLEdBQWlCLEtBQU8sS0FBb0IsR0FBa0IsQ0FDbEUsQ0FDRSxLQUFNLEVBQUUsT0FBTyxDQUFDLENBQUMsRUFDakIsR0FBSSxJQUFNLEVBQUUsYUFBYSxDQUFDLENBQUMsRUFDM0IsWUFBYSxFQUNmLEVBQ0EsQ0FDRSxLQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUNyQixHQUFJLElBQU0sRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQ2hDLENBQ0YsR0FBSSxJQUNBLEdBQ0UsR0FBc0IsS0FBTyxLQUF5QixHQUF1QixDQUNqRixDQUNFLEtBQU0sRUFBRSxPQUFPLEVBQ2YsR0FBSSxDQUFDLElBQVksRUFBRSxRQUFRLENBQU8sRUFDbEMsU0FBVSxFQUNaLEVBQ0EsQ0FDRSxLQUFNLEVBQUUsUUFBUSxFQUNoQixHQUFJLENBQUMsSUFBWSxFQUFFLGNBQWMsQ0FBTyxFQUN4QyxTQUFVLEVBQ1osQ0FDRixHQUFJLElBQXVCLEdBQXFCLEVBQzlDLFlBQ0EsVUFDQSxnQkFBZ0IsQ0FBQyxFQUNqQixTQUNBLFVBQ0EsWUFBWSxHQUNaLFNBQ0EsYUFDQSxjQUNJLENBQ0osSUFBSSxFQUVGLEdBQVcsU0FBVyxFQUVwQixHQUFtQixFQUFXLENBQzVCLFVBQ0EsVUFDQSxTQUNBLFlBQ0EscUJBQXNCLEdBQ3RCLE9BQVEsR0FDUixpQkFBa0IsR0FBMkIsRUFDN0MsYUFDQSxVQUNGLENBQUMsRUFHTCxPQUFPLEVBQWtCLEVBQWdCLE9BQVMsR0FBWSxFQUFnQixPQUFRLENBQU0sR0FBSyxFQUFrQixHQUFtQixFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRyxDQUN2SixVQUNBLFVBQ0EsU0FDQSxxQkFBc0IsR0FDdEIsYUFDQSxVQUNGLENBQUMsRUFBRyxFQUFnQixPQUFTLEdBQWdCLEdBQzVDLEdBQXFCLENBQUMsSUFBVyxHQUFVLEVBQU8sS0FBVSxVQUFZLEVBQU8sTUFBTSxFQUFPLE1BQU0sS0FBVSxTQUFXLEVBQU8sTUFBTSxFQUFPLE1BQVEsRUozN0J0SixJQUFNLEdBQWEsQ0FBQyxFQUFPLElBQWMsRUFBWSxFQUFRLEdBQUksR0FBaUIsQ0FDaEYsT0FDQSxPQUNBLGFBQ0EsY0FDQSxXQUNBLG1CQUVBLGFBRUEsb0NBRUEsMkJBRUEscUJBQ0YsRUFBRyxHQUFlLEVBQ2hCLFVBQVUsSUFDVixRQUFRLENBQUMsRUFDVCxXQUNJLENBQ0osR0FBSSxDQUFDLEVBQU0sT0FDVCxNQUFPLEtBQU8sQ0FDWixZQUFZLEVBQUcsQ0FDYixNQUFPLElBQU0sSUFHZixPQUFPLEVBQUcsRUFFWixHQUNGLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBTSxPQUFRLElBQ2hDLEVBQ0UsYUFBYSxnQkFBZ0IsY0FBYyxtQkFBbUIsY0FBYyxLQUFLLHFCQUEyQixhQUFhLE1BQU07QUFBQSxDQUVqSSxFQUNGLE1BQU8sQ0FBQyxHQUNOLE9BQ0EsUUFBUSxHQUNOLENBQUMsSUFBTSxDQUNULElBQVMsRUFBTyxhQUNoQixJQUFNLEVBQVcsSUFBVSxRQUFVLFlBQWMsU0FDbkQsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFNLE9BQVEsSUFDaEMsRUFDRSxHQUFHLElBQVcsWUFBWSxLQUFLLGdCQUFvQixZQUFnQixvQ0FBdUM7QUFBQSxDQUU1RyxFQUNGLE1BQU8sQ0FDTCxPQUFPLEVBQUcsQ0FDUixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sT0FBUSxJQUNoQyxFQUFNLEdBQUcsSUFBVztBQUFBLENBQzdCLEdBRUssWUFBWSxDQUFDLEVBQU8sQ0FDbEIsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFNLE9BQVEsSUFDaEMsRUFDRSxHQUFHLFNBQWdCLEtBQUssSUFBVyx3Q0FBd0MsWUFBZ0I7QUFBQSxDQUU3RixFQUNGLE1BQU8sQ0FBQyxJQUFZLENBQ2xCLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBTSxPQUFRLElBQ2hDLEVBQ0UsRUFBVSxNQUFNLHVCQUE2QixTQUFnQixPQUFPLFlBQWtCLFNBQWdCLFNBQVcsR0FBRyxTQUFnQjtBQUFBLENBRXRJLEdBR1IsSUFFRCxHQUFpQixFQUNsQixTQUNBLE9BQ0EsT0FDQSxZQUFZLEVBQ1osWUFDQSxpQkFBaUIsTUFDYixDQUFDLEdBQWEsQ0FBQyxFQUFPLE1BQVEsR0FBSyxJQUFjLElBQU0sSUFBYyxjQUFnQixFQUFpQixHQUFHLGVBQWtCLFdBQW1CO0FBQUEsRUFDaEosT0FBTyxlQUFrQixXQUFtQjtBQUFBLFVBQ3BDLElBQWMsVUFBWSxHQUFHLGVBQWtCLFdBQW1CO0FBQUEsRUFDMUUsR0FBSSxHQUEyQixFQUNqQyxpQkFBaUIsR0FDakIsWUFBWSxHQUNaLFlBQ0EsZUFBZSxHQUNmLG1CQUFtQixHQUNuQixjQUFjLE9BQ1QsQ0FDTCxTQUFVLENBQUMsRUFBTSxFQUFRLEtBQUssSUFBUSxJQUFVLCtDQUErQyxnQkFBbUIsS0FBUSxJQUFRLEVBQVEsSUFBTSxFQUFRLE1BQ3hKLFNBQVUsQ0FBQyxFQUFPLE1BQVEsQ0FDeEIsR0FBSSxHQUFvQixDQUFDLEVBQVUsU0FBVSxNQUFPLEdBQ3BELElBQUksRUFBTyxFQUFpQjtBQUFBLEVBRTVCLEdBQVEsTUFBTSx5REFBNEQ7QUFBQSxFQUM1RSxLQUFRLGlCQUFvQix3REFDMUIsUUFBWSxFQUFTLEtBQVUsT0FBTyxRQUFRLEVBQVUsUUFBUSxFQUFHLENBQ2pFLEdBQUksR0FBUTtBQUFBLE9BQ1g7QUFBQSxFQUNKLEVBQU0sV0FBYSxXQUFZLENBQzFCLEdBQVEsV0FBVyx3QkFBOEIsWUFBa0I7QUFBQSxTQUNsRSw0QkFBa0MsZUFBcUI7QUFBQSxTQUN2RCxvRUFBMEUsTUFBWSxTQUFZO0FBQUEsRUFDekcsU0FBWTtBQUFBLGVBQ0M7QUFBQTtBQUFBLEVBR1AsU0FFRixJQUFJLEVBQWEsRUFBTSxRQUFRLGFBQWUsR0FDOUMsR0FBSSxDQUFDLEdBQWMsRUFBTSxRQUFRLE1BQVEsRUFBTSxRQUFRLE1BQU8sQ0FDNUQsSUFBTSxFQUFTLEVBQU0sT0FBTyxLQUFNLEVBQVMsT0FBTyxHQUFVLFVBQVksRUFBTyxTQUFTLEdBQUcsRUFBSSxFQUFPLE1BQU0sR0FBRyxFQUFFLElBQUksRUFBSSxFQUN6SCxFQUFNLE9BQU8sTUFBTSxJQUFTLGFBQWUsS0FBTyxFQUFhLElBRWpFLElBQU0sRUFBaUIsR0FBYyxFQUFhLEVBQVEsRUFBRyxpQkFBaUIsSUFBTyxDQUFDLElBQU0sR0FBZSxDQUN6RyxPQUNBLE9BQVEsRUFDUixLQUFNLFdBQ04sVUFBVyxZQUFZLEtBQ3ZCLFlBQ0EsZ0JBQ0YsQ0FBQyxFQUNELElBQW1CLEdBQVEsRUFBTSxHQUNqQyxJQUFNLEVBQW9CLENBQUMsR0FBa0IsR0FBYSxDQUFDLEVBQzNELEdBQWdCLEVBQU0sY0FBZ0IsQ0FBQyxHQUFjLEdBQVEsT0FBTyx3QkFBMkIsYUFBbUI7QUFBQSxFQUNySCxJQUFtQixHQUFRLEVBQU0sQ0FBRSxlQUFnQixFQUFHLENBQUMsR0FBSSxHQUFRLGdCQUFnQixZQUFvQixFQUFvQjtBQUFBLEVBQzFILEVBQU0sQ0FBRSxlQUFnQixFQUFHLENBQUMsRUFBSSxHQUFHLHdCQUEyQixhQUFtQjtBQUFBLGlFQUNwQixNQUFZLE1BQVcsMkRBQTJELE1BQVksTUFBVyxNQUFRLElBQW1CLEdBQVEsRUFBTSxHQUFJLElBQWUsR0FBUSx5QkFBeUIsWUFBa0Isc0VBQXlFLE1BQVk7QUFBQSxlQUMvVjtBQUFBLElBQ1YsR0FBUTtBQUFBLEVBR1QsT0FBTyxFQUFPLElBRWxCLEdBQUksR0FBYyxDQUFDLEtBQU8sR0FBRyxJQUFNLEdBQUcsWUFBWSxPQUFTLGdCQUFpQixHQUFxQix5QkFBMEIsR0FBZ0IsdUNBQXdDLEdBQVUsQ0FBQyxJQUFNLENBQ2xNLElBQU0sRUFBVyxPQUFPLEdBQUssU0FDN0IsR0FBSSxHQUFZLEVBQUUsVUFBaUIsT0FBRyxPQUFPLEVBQUUsUUFDL0MsSUFBTSxFQUFLLEVBQVcsRUFBRSxHQUFLLEVBQzdCLEdBQUksRUFBRyxZQUFZLE9BQVMsZ0JBQWlCLE1BQU8sR0FDcEQsSUFBTSxFQUFVLEVBQUcsU0FBUyxFQUM1QixHQUFJLEdBQW1CLEtBQUssQ0FBTyxFQUNqQyxPQUFPLElBQWEsRUFBRSxRQUFVLElBQUssR0FDdkMsSUFBTSxFQUFTLEdBQWMsS0FBSyxDQUFPLEVBQ3pDLE9BQU8sSUFBYSxFQUFFLFFBQVUsR0FBUyxHQUN4QyxHQUFZLENBQUMsSUFBTSxDQUNwQixJQUFNLEVBQVcsT0FBTyxHQUFLLFNBQzdCLEdBQUksR0FBWSxFQUFFLFlBQW1CLE9BQUcsT0FBTyxFQUFFLFVBQ2pELElBQU0sRUFBWSxFQUFXLEVBQUUsR0FBRyxTQUFTLEVBQUksT0FBTyxHQUFLLFNBQVcsRUFBRSxTQUFTLEVBQUksRUFBRyxFQUFpQixFQUFVLFFBQVEsR0FBRyxFQUM5SCxHQUFJLEVBQVUsV0FBVyxFQUFpQixDQUFDLElBQU0sSUFBTSxFQUFVLFdBQVcsRUFBaUIsQ0FBQyxJQUFNLElBQ2xHLE9BQU8sSUFBYSxFQUFFLFVBQVksSUFBSyxHQUN6QyxJQUFNLEVBQVMsRUFBVSxTQUFTLFFBQVEsRUFDMUMsT0FBTyxJQUFhLEVBQUUsVUFBWSxHQUFTLEdBQzFDLEdBQWMsQ0FBQyxJQUFNLENBQ3RCLElBQU0sRUFBSyxHQUFHLElBQU0sRUFDcEIsT0FBTyxFQUFHLFlBQVksT0FBUywwQkFBNEIsRUFBRyxZQUFZLE9BQVMscUJBQ2xGLEdBQTZCLENBQUMsRUFBVyxFQUFNLEVBQVEsS0FBSyxNQUFXLE9BQU87QUFBQSw0Q0FDckMsZ0JBQW1CLEtBQVEsT0FBWSxHQUFpQixFQUNsRyxNQUNBLE9BQ0EsU0FDQSxRQUNBLFlBQ0EsVUFDQSxZQUFZLEdBQ1osZUFDSSxDQUNKLElBQU0sRUFBVSxFQUFJLFlBQVksZUFBZ0IsRUFBaUIsRUFBSSxZQUFZLFFBQVMsRUFBYSxPQUFPLEdBQVcsV0FDekgsR0FBSSxDQUFDLEVBQVksQ0FDZixFQUFVLEVBQWUsWUFBWSxFQUFTLENBRTVDLFFBQVMsRUFBSSxZQUFjLENBQUMsQ0FDOUIsQ0FBQyxFQUNELElBQU0sRUFBYSxhQUFtQixVQUN0QyxHQUFTLGFBQWEsT0FBUyxZQUFjLE9BQU8sR0FBUyxPQUFTLFdBQ3RFLEdBQUksRUFBTSxPQUFPLFFBQVUsRUFBTSxXQUFXLFFBQVUsRUFBTSxjQUFjLFFBQVUsRUFBTSxhQUFhLE9BQ3JHLE9BQU8sRUFBYSxTQUNsQixJQUNBO0FBQUEsb0NBRUYsRUFBRSxDQUFPLEVBQUksU0FDWCxJQUNBO0FBQUEsNEJBRUYsRUFBRSxDQUFPLEVBQ1gsR0FBSSxFQUFZLENBQ2QsSUFBTSxFQUFXLEVBQ2pCLEVBQVUsSUFBTSxFQUFTLE1BQU0sR0FHbkMsSUFBTSxFQUFTLEVBQWEsYUFBZSxVQUFXLEVBQVcsQ0FBQyxDQUFDLEVBQU0sT0FBTyxPQUM1RSxFQUFZLEdBQ2hCLEdBQUksRUFBWSxHQUNkLE9BQU8sT0FBTyxDQUFFLFNBQVEsRUFBRyxDQUFLLEVBQ2hDLEVBQ0EsRUFBSSxPQUFPLE9BQ2IsRUFBRyxFQUFRLFFBQVMsQ0FDbEIsSUFBTSxFQUFVLEVBQVEsUUFBUSxDQUFTLEVBQ3pDLElBQVksR0FBYSxHQUUzQixFQUFVLFNBQVcsR0FBYTtBQUFBLEdBQ2hDLEVBQVUsYUFBYSxFQUFHLEVBQVUsY0FBYyxFQUFHLEVBQVUsZ0JBQWdCLEVBQUcsRUFBVSxlQUFlLEVBQUcsRUFBVSxlQUFlLEVBQUcsRUFBVSxpQkFBaUIsRUFDdkssSUFBTSxFQUFnQixDQUFDLENBQUMsRUFBVSxNQUFRLENBQUMsQ0FBQyxFQUFVLFNBQVcsQ0FBQyxDQUFDLEVBQVUsUUFBVSxDQUFDLENBQUMsRUFBVSxPQUFTLENBQUMsQ0FBQyxFQUFVLFFBQVUsQ0FBQyxDQUFDLEVBQVUsU0FBVSxFQUFXLEVBQVUsT0FBUyxDQUFDLENBQUMsRUFBVSxNQUFPLEVBQWdCLEVBQU0sT0FBTyxTQUFXLEdBQ2pQLEVBQU0sTUFBTSxHQUFHLEtBQU8sT0FBUSxFQUFVLElBQVcsSUFBTSxJQUFXLE9BQVMsSUFBVyxTQUFXLEVBQVUsTUFBUSxDQUFDLENBQUMsRUFBVSxNQUFRLENBQUMsQ0FBQyxFQUFNLE9BQU8sU0FBVyxDQUFDLEVBQWUsRUFBaUIsRUFBSSxXQUFZLEVBQW9CLEdBQWtCLENBQUMsQ0FBQyxPQUFPLEtBQUssQ0FBYyxFQUFFLE9BQVEsRUFBYSxFQUFVLFNBQVcsQ0FBQyxDQUFDLEVBQVUsU0FBVyxFQUFRLDJCQUE2QixJQUFNLEVBQVUsS0FBTSxFQUFZLEVBQVUsUUFBVSxDQUFDLENBQUMsRUFBVSxPQUFRLEVBQWEsRUFBVSxRQUFRLE9BQVMsR0FBWSxHQUFXLFFBQVEsT0FBUSxFQUFJLE9BQU8sTUFBTSxFQUFJLEVBQUksT0FBTyxPQUNuakIsRUFBZ0IsR0FDZCxFQUFlLElBQU0sQ0FDekIsR0FBSSxFQUFlLE9BQU8sRUFDMUIsR0FBSSxHQUFZLEtBQU0sQ0FDcEIsR0FBSSxDQUFDLEVBQVcsUUFDZCxNQUFVLE1BQ1IsaURBQWlELE1BQVcsSUFDOUQsRUFDRixJQUFNLEVBQVMsRUFBVyxRQUFVLE9BQU8sRUFBVyxTQUFXLFNBQVcsRUFBVyxRQUFVLEVBQVcsUUFBUSxHQUFVLE9BQzlILEdBQUksR0FBaUI7QUFBQSxpQkFDVCxFQUFXLE9BQVMsR0FDOUIsR0FBaUIsaUhBQWlILE9BRWxJLGFBQVcsS0FBUSxFQUFXLEtBQzVCLEdBQWlCLGtCQUFrQiw0QkFBK0IsMENBQTZDLGNBQWlCO0FBQUEsRUFFcEksR0FBaUI7QUFBQSxFQUduQixPQUFPLEdBQ04sRUFBWSxFQUFJLE9BQU8sVUFBVyxFQUFlLEVBQUksT0FBTyxhQUFjLEVBQWEsR0FBeUIsQ0FDakgsWUFDQSxZQUNBLGVBQ0EsaUJBQWtCLGFBQW1CLFNBQ3JDLFlBQWEsQ0FBQyxDQUFDLEVBQUksT0FBTyxRQUM1QixDQUFDLEVBQ0QsSUFBZSxHQUFhLEVBQVEsU0FBVSxJQUFhLEdBQWE7QUFBQSxHQUV4RSxJQUFNLEVBQVMsR0FBYSxDQUMxQixNQUFPLEVBQU0sTUFDYixNQUFPLENBQUMsSUFBUyxDQUNmLEdBQWEsRUFFakIsQ0FBQyxFQUNELEdBQUksR0FBYSxPQUFRLEVBQVcsQ0FDbEMsSUFBTSxFQUFNLENBQUMsRUFBTSxJQUFpQixDQUNsQyxJQUFNLEVBQVEsSUFBYSxJQUFTLEVBQ3BDLE9BQU8sRUFBUSxPQUFPLEdBQVMsU0FBVyxHQUFHLE1BQVMsTUFBWSxhQUFpQixLQUFPLEdBQUcsZUFBa0IsRUFBTSxRQUFRLE1BQVEsR0FBRyxLQUFRLEtBQVcsT0FBTyxHQUFnQixTQUFXLEdBQUcsTUFBUyxNQUFtQixHQUFHLEtBQVEsTUFDdE8sRUFBVSxFQUFhLFlBQVksRUFBVyxVQUFpQixPQUFJLE9BQU8sRUFBVyxTQUFXLFNBQVcsSUFBSSxFQUFXLFdBQWEsSUFBTSxFQUFXLFFBQVEsT0FDakssQ0FBQyxFQUFHLElBQU0sRUFBSSxJQUFJLE1BQ2xCLEVBQ0YsRUFBSSxJQUFNLG9CQUFvQixFQUFXLE9BQVMsR0FBSyxHQUFLLEVBQVcsT0FBYyxPQUFJLElBQU0sRUFBVyxLQUFLLE9BQzdHLENBQUMsRUFBRyxJQUFNLEVBQUksSUFBSSxNQUNsQixFQUNGLEVBQUksSUFBTSxlQUFpQixFQUFJLFFBQVEsRUFBSSxFQUFJLFNBQVMsRUFBSSxFQUFJLFVBQVUsRUFBSSxFQUFJLFFBQVEsRUFBSSxFQUFJLE9BQVEsR0FBRyxFQUFJLEVBQUksVUFBVSxFQUFJLEVBQUksVUFBVSxFQUFJLEVBQUksUUFBUSxFQUFJLElBQU0sWUFDM0ssRUFBYSxHQUFhO0FBQUEsb0RBQ3NCO0FBQUEsRUFDaEQsR0FBYTtBQUFBLG1FQUNrRDtBQUFBLEVBR2pFLEdBQUksRUFBVSxDQUNaLElBQUksRUFBa0IsQ0FBQyxFQUFHLEVBQW1CLENBQUMsRUFBRyxFQUFtQixHQUFJLEVBQW9CLEdBQzVGLEdBQUksRUFBVSxPQUFPLE9BQVEsQ0FDM0IsSUFBTSxFQUFTLEdBQW1CLEVBQVUsT0FBTyxNQUFNLEVBQ3pELEdBQUksS0FBUSxHQUFVLEVBQU8sV0FDM0IsUUFBWSxFQUFLLEtBQVUsT0FBTyxRQUFRLEVBQU8sVUFBVSxFQUN6RCxHQUFjLGFBQWMsQ0FBSyxJQUFNLEVBQWdCLEdBQU8sRUFBRyxFQUFtQixJQUFLLEdBQWMsZUFBZ0IsQ0FBSyxJQUFNLEVBQWlCLEdBQU8sRUFBRyxFQUFvQixJQUV2TCxHQUFhLHlGQUNiLEVBQW1CLEtBQUssVUFBVSxDQUFlLEVBQVMsVUFDMUQsRUFBb0IsS0FBSyxVQUFVLENBQWdCLEVBQVMsV0FFOUQsSUFBTSxFQUFpQixPQUFPLEdBQVcsWUFBYyxHQUFRLENBQU8sRUFBRyxHQUFlLEdBQVksRUFBTSxlQUFlLE9BQVMsK0JBQWlDLEdBQUksR0FBZSxPQUFPLEtBQUssRUFBVSxVQUFZLENBQUMsQ0FBQyxFQUFHLEVBQXVCLEdBQWEsT0FBUyxFQUFHLEdBQWUsR0FBYSxTQUFXLEdBQUssR0FBYSxTQUFXLEdBQUssR0FBYSxLQUFPLE1BQU8sR0FBYSxHQUFhLEdBQVcsR0FBa0IsQ0FBQyxDQUFDLEVBQU0sT0FBTyxRQUFVLENBQUMsQ0FBQyxFQUFNLGFBQWEsS0FBSyxFQUFPLEdBQUssQ0FBQyxDQUFDLEVBQU0sY0FBYyxLQUFLLEVBQU8sR0FBSyxDQUFDLENBQUMsRUFBTSxXQUFXLEtBQUssRUFBTyxHQUFLLENBQUMsQ0FBQyxFQUFNLGFBQWEsS0FBSyxFQUFPLEdBQUssRUFBVSxNQUFNLFdBQWEsWUFBYyxFQUFVLFNBQVMsV0FBYSxZQUFjLEVBQVUsT0FBTyxXQUFhLFlBQWMsRUFBVSxRQUFRLFdBQWEsWUFBYyxFQUFVLFFBQVEsV0FBYSxZQUFjLE9BQU8sT0FBTyxFQUFVLFVBQVksQ0FBQyxDQUFDLEVBQUUsS0FDNzFCLENBQUMsSUFBTSxFQUFFLFdBQWEsVUFDeEIsRUFBRyxJQUFlLE9BQU8sR0FBVyxXQUFhLEdBQVksQ0FBTyxFQUFJLEtBQU8sQ0FBQyxDQUFDLEVBQU0sY0FBYyxLQUFLLEVBQVcsR0FBSyxDQUFDLENBQUMsRUFBTSxhQUFhLEtBQUssRUFBVyxHQUFLLENBQUMsQ0FBQyxFQUFNLFdBQVcsS0FBSyxFQUFXLEVBQUcsR0FBUyxFQUFVLFFBQVUsRUFBVSxLQUFPLEdBQWMsR0FBWSxHQUF3QixDQUFDLElBQWdCLEdBQWMsR0FBcUIsR0FDMVYsR0FDRSxHQUFnQixJQUFNLENBQzFCLEdBQUksS0FBd0IsT0FBRyxPQUFPLEdBQ3RDLEdBQUksQ0FBQyxFQUFNLGVBQWUsUUFBVSxDQUFDLEVBQVUsTUFBTyxHQUN0RCxJQUFJLEVBQWlCLEdBQ2YsRUFBUyxFQUFNLGVBQWUsS0FBSyxFQUFPLEVBQUksU0FBVyxHQUMvRCxHQUFrQjtBQUFBLGVBQ1AsU0FDWCxJQUFNLEVBQVcsR0FBYSxDQUM1QixNQUFPLEVBQU0sTUFDYixNQUFPLENBQUMsSUFBUyxDQUNmLEdBQWtCLEVBRXRCLENBQUMsRUFBRSxnQkFBaUIsQ0FDbEIsTUFBTyxFQUFNLGVBQWUsTUFDOUIsQ0FBQyxFQUNELEdBQUksRUFBTSxlQUFlLFFBQVUsRUFBTSxjQUN2QyxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sY0FBYyxPQUFRLElBQUssQ0FDbkQsSUFBTSxFQUFVLEVBQVMsYUFDdkIsRUFBTSxjQUFjLEdBQUcsR0FBRyxJQUM1QixFQUFHLEVBQVUsR0FBUSxFQUFNLGNBQWMsRUFBRSxFQUFJLFNBQVcsR0FDMUQsR0FBa0I7QUFBQSxFQUN4QixvQkFBMEI7QUFBQSxFQUN6QixFQUFRLEVBRVAsT0FBTyxFQUFTLFFBQVEsRUFBRyxHQUFrQjtBQUFBLEVBQzlDLEdBQWlCLEdBQ2YsR0FBYyxDQUFDLEVBQUksTUFBUSxDQUM1QixJQUFNLEVBQVEsR0FBYyxFQUFHLEVBQVcsR0FBRyxHQUFTLGNBQWdCLHdCQUF3QixLQUFlLElBQUksR0FBUyxTQUFXLEtBQUs7QUFBQSxFQUUxSSxPQUFPLEVBQVEsY0FBYyxJQUFhLEVBQVEsY0FBZ0IsVUFBVSxLQUMzRSxHQUFxQixJQUFlLEVBQVEsbUJBQXFCLElBQUksRUFBUSxxQkFBdUIsSUFDdEcsR0FBWSxFQUFVLFNBQVcsR0FBYSxhQUFhO0FBQUEsR0FFNUQsSUFBTSxHQUFnQixFQUFPLFFBQVMsQ0FDcEMsTUFBTyxFQUFNLE9BQU8sTUFDdEIsQ0FBQyxFQUNELEdBQUksRUFBUyxDQUNYLElBQU0sRUFBbUIsQ0FBQyxDQUFDLEVBQU0sT0FBTyxRQUFVLEVBQVUsTUFBUSxFQUFVLEtBQzlFLEVBQVEsT0FBTyxVQUFZLEdBQWEsRUFBUSxPQUFPLFNBQVUsR0FBYTtBQUFBLE1BRTlFLElBQUksRUFBUyxPQUFPLEVBQU0sT0FBUyxTQUFXLEVBQU0sTUFBUSxNQUFNLFFBQVEsRUFBTSxLQUFLLEdBQUssRUFBTSxNQUFNLFNBQVcsRUFBSSxPQUFPLEVBQU0sTUFBTSxJQUFNLFNBQVcsRUFBTSxNQUFNLEdBQUssT0FBTyxFQUFNLE1BQU0sR0FBRyxJQUFNLFNBQVcsRUFBTSxNQUFNLEdBQUcsR0FBVSxPQUFTLE9BQ25QLEdBQUksQ0FBQyxHQUFVLEVBQVUsTUFBUSxDQUFDLEVBQU0sT0FBTyxPQUFRLENBQ3JELElBQU0sRUFBUyxFQUFVLEtBQUssT0FDOUIsR0FBVSxFQUFPLE9BQVMsRUFBTyxLQUFVLFNBQVcsRUFBTyxPQUFPLFNBQVcsR0FBSyxFQUFPLE9BQU8sS0FBSyxDQUFDLElBQU0sRUFBRSxLQUFVLFlBQVksSUFBTSxFQUFTLFlBRXZKLEdBQUksR0FBVSxHQUFlLFNBQVMsQ0FBTSxFQUFHLENBQzdDLElBQU0sRUFBVyxFQUFPLFFBQVMsQ0FDL0IsTUFBTyxFQUFNLE9BQU8sTUFDdEIsQ0FBQyxFQUFHLEVBQWlCLENBQUMsQ0FBQyxFQUFVLE1BQU0sV0FDdkMsT0FBUSxPQUNELFdBQ0EsbUJBQ0gsR0FBYSxFQUFRLE9BQU8sS0FBSyxDQUFjLEVBQy9DLFVBQ0csV0FDQSxhQUNILEdBQWEsRUFBUSxPQUFPLEtBQUssQ0FBYyxFQUMvQyxVQUNHLGlCQUNBLG9DQUNILEdBQWEsRUFBUSxPQUFPLFdBQVcsQ0FBYyxFQUNyRCxVQUNHLGtCQUNBLDJCQUNILEdBQWEsRUFBUSxPQUFPLFlBQVksQ0FBYyxFQUN0RCxVQUNHLGVBQ0Esc0JBQ0gsR0FBYSxFQUFRLE9BQU8sU0FBUyxDQUFjLEVBQ25ELGNBRUEsRUFBTyxLQUFNLEVBQUksYUFBZSxHQUFhLEVBQWEsOENBQWdELDBEQUEyRCxHQUFhO0FBQUE7QUFBQTtBQUFBO0FBQUEscUJBSXZLO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQU1YLE1BRUosRUFBUyxRQUFRLEVBQ1osUUFBSSxFQUFrQixDQUMzQixHQUFhO0FBQUEsRUFDaEIsR0FBYTtBQUFBLG9CQUNLLEdBQWEsRUFBYTtBQUFBLEVBQzNDO0FBQUEsRUFFRSxJQUFJLEVBQW1CLEdBQ3ZCLEdBQUksRUFBTSxPQUFPLE9BQ2YsR0FBYTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNVixLQUNILEVBQW1CLEdBQ25CLElBQU0sRUFBaUIsQ0FBQyxDQUFDLEVBQVUsTUFBTSxXQUN6QyxHQUFhO0FBQUEsV0FDUixFQUFRLE9BQU8sS0FBSyxDQUFjLEVBQUk7QUFBQSxXQUN0QyxFQUFRLE9BQU8sV0FBVyxDQUFjLEVBQUk7QUFBQSxXQUM1QyxFQUFRLE9BQU8sWUFBWSxDQUFjLEVBQUk7QUFBQSxXQUM3QyxFQUFRLE9BQU8sU0FBUyxDQUFjLEVBQUk7QUFBQSw4Q0FDUCxFQUFRLE9BQU8sS0FBSyxDQUFjLEVBQUk7QUFBQSxHQUdoRixJQUFNLEVBQVcsRUFBTyxRQUFTLENBQy9CLE1BQU8sRUFBTSxPQUFPLE1BQ3RCLENBQUMsRUFDRCxHQUFJLEVBQU0sTUFDUixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sTUFBTSxPQUFRLElBQUssQ0FDM0MsSUFBTSxFQUFPLEtBQUssSUFDbEIsR0FBSSxJQUFNLElBQU0sR0FBYTtBQUFBLGFBQ3pCLE9BQU8sRUFBTSxNQUFNLEdBQUcsSUFBTSxTQUFVLENBQ3hDLElBQU0sRUFBVSxFQUFTLGFBQ3ZCLEVBQU0sTUFBTSxHQUFHLEVBQ2pCLEVBQUcsRUFBaUIsQ0FBQyxDQUFDLEVBQVUsTUFBTSxXQUN0QyxPQUFRLEVBQU0sTUFBTSxHQUFHLFFBQ2hCLFdBQ0EsbUJBQ0gsRUFBbUIsR0FBSSxHQUFhLEVBQVEsT0FBTyxLQUFLLENBQWMsRUFDdEUsVUFDRyxXQUNBLGFBQ0gsRUFBbUIsR0FBSSxHQUFhLEVBQVEsT0FBTyxLQUFLLENBQWMsRUFDdEUsVUFDRyxpQkFDQSxvQ0FDSCxFQUFtQixHQUFJLEdBQWEsRUFBUSxPQUFPLFdBQVcsQ0FBYyxFQUM1RSxVQUNHLGtCQUNBLDJCQUNILEVBQW1CLEdBQUksR0FBYSxFQUFRLE9BQU8sWUFBWSxDQUFjLEVBQzdFLFVBQ0csZUFDQSxzQkFDSCxFQUFtQixHQUFJLEdBQWEsRUFBUSxPQUFPLFNBQVMsQ0FBYyxFQUMxRSxjQUVBLEdBQWEsT0FBTyxhQUFnQixFQUFNLE1BQU0sR0FBRztBQUFBLEtBQzlELHdCQUEyQixXQUFjO0FBQUEsS0FDekMseUJBQTRCO0FBQUEsRUFHckIsRUFBUSxFQUNILEtBQ0wsSUFBTSxFQUFVLEVBQVMsYUFDdkIsRUFBTSxNQUFNLEdBQUcsR0FBRyxJQUNwQixFQUNBLEdBQWEsT0FBTyxhQUFnQjtBQUFBLEVBQzlDLEtBQVE7QUFBQSxLQUNMLHdCQUEyQixXQUFjO0FBQUEsS0FDekMseUJBQTRCLGVBQW1CLEVBQVEsRUFFbEQsR0FBSSxJQUFNLElBQU0sR0FBYSxLQUFNLEVBQWtCLE1BRXpELEdBQUksRUFBUyxRQUFRLEVBQUcsQ0FBQyxFQUFrQixDQUN6QyxJQUFNLEVBQWlCLENBQUMsQ0FBQyxFQUFVLE1BQU0sV0FDekMsRUFBTSxPQUFPLFNBQVcsR0FBYTtBQUFBO0FBQUEsR0FFekMsR0FBYTtBQUFBLEVBQ2IsRUFBUSxPQUFPLEtBQUssQ0FBYyxFQUFJO0FBQUEsb0JBQ3BCLEVBQVEsT0FBTyxLQUFLLENBQWMsRUFBSTtBQUFBLDJDQUNmLEVBQVEsT0FBTyxXQUFXLENBQWMsRUFBSTtBQUFBLGtDQUNyRCxFQUFRLE9BQU8sWUFBWSxDQUFjLEVBQUk7QUFBQSw2QkFDbEQsRUFBUSxPQUFPLFNBQVMsQ0FBYyxFQUFJO0FBQUEsRUFFakUsUUFBVyxLQUFPLE9BQU8sS0FBSyxFQUFJLFVBQVUsRUFDMUMsR0FBYSxTQUFTLFlBQWMsYUFBZTtBQUFBLE9BQ3RELDBCQUE0QixhQUFlO0FBQUEsT0FDM0MsNENBQWdELEdBQVksS0FBSyxHQUFLLEVBQUksU0FBUywwQkFBNEI7QUFBQTtBQUFBLEVBRzlHLEVBQU0sT0FBTyxTQUFXLEdBQWEsS0FBTSxHQUFhLElBRTFELEVBQU0sT0FBTyxTQUFXLEdBQWE7QUFBQSx1QkFHdkMsR0FBYSw2Q0FFZixHQUFJLEdBQWMsUUFBUSxFQUFHLEdBQU8sV0FBYSxFQUFVLENBQ3pELElBQU0sRUFBVyxFQUFPLFlBQWEsQ0FDbkMsTUFBTyxFQUFNLFdBQVcsTUFDMUIsQ0FBQyxFQUNELEdBQUksRUFBTSxXQUFXLE9BQVEsQ0FDM0IsR0FBYTtBQUFBLEVBRWIsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFNLFVBQVUsT0FBUSxJQUFLLENBQy9DLElBQU0sRUFBWSxFQUFNLFVBQVUsR0FBSSxFQUFVLEVBQVMsYUFBYSxFQUFVLEdBQUcsSUFBSSxFQUN2RixHQUFhLEdBQVEsQ0FBUyxFQUFJLGlDQUFpQztBQUFBLEVBQ3ZFLDJCQUEyQjtBQUFBLEVBQzVCLEVBQVUsVUFBWSxZQUFjLEdBQWEseURBQTJELEdBQVksYUFBYSxFQUFJO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxnQkFRMUgsR0FBYSx5REFBMkQsR0FBWSxhQUFhLEVBQUk7QUFBQSxFQUNwSCxFQUFRLEdBR1AsRUFBUyxRQUFRLEVBRW5CLElBQU0sR0FBYSxDQUFDLEVBQ3BCLEdBQUksRUFBVyxDQUNiLEdBQUksRUFBVSxRQUFTLENBQ3JCLEdBQUksRUFBVSxRQUFRLFdBQ3BCLFFBQVksRUFBSyxLQUFVLE9BQU8sUUFDaEMsR0FBTSxRQUVKLEVBQVUsUUFBUSxPQUNsQixDQUFDLENBQ0gsQ0FDRixFQUFHLENBQ0QsSUFBTSxFQUFTLE9BQU8sR0FBUyxTQUFXLEtBQUssVUFBVSxDQUFLLEVBQUksT0FBTyxHQUFTLFNBQVcsSUFBSSxLQUFXLEVBQzVHLElBQWdCLFNBQU0sR0FBYSxjQUFjLFNBQVc7QUFBQSxHQUdoRSxHQUFhLEdBQWUsQ0FDMUIsS0FBTSxZQUNOLE9BQVEsRUFBVSxRQUNsQixLQUFNLFVBQ04sV0FDRixDQUFDLEVBQUcsRUFBVSxRQUFRLGFBQWUsR0FBYSw4QkFBK0IsRUFBVSxTQUFTLFdBQWEsV0FBYSxHQUFhO0FBQUE7QUFBQSxpQkFFOUgsRUFBVyxTQUFTLFVBQWdCLE9BQUcsWUFBWSxFQUFJO0FBQUEsRUFDdEUsRUFBVSxTQUFTLFFBQVEsYUFBZSxLQUFPLEdBQWEsb0RBQXNELEVBQVcsU0FBUyxTQUFTLEVBQUksS0FBTSxFQUFVLFFBQVEsZUFBaUIsR0FBYSxHQUN2TTtBQUFBLEVBRUEsU0FDRixHQUFJLEVBQVUsUUFBUSxhQUFlLEdBQWEsS0FFcEQsR0FBSSxFQUFVLE9BQVEsQ0FDcEIsR0FBSSxFQUFVLE9BQU8sV0FDbkIsUUFBWSxFQUFLLEtBQVUsT0FBTyxRQUNoQyxHQUFNLFFBRUosRUFBVSxPQUFPLE9BQ2pCLENBQUMsQ0FDSCxDQUNGLEVBQUcsQ0FDRCxJQUFNLEVBQVMsT0FBTyxHQUFTLFNBQVcsS0FBSyxVQUFVLENBQUssRUFBSSxPQUFPLEdBQVMsU0FBVyxJQUFJLEtBQVcsRUFDNUcsSUFBZ0IsU0FBTSxHQUFhLGFBQWEsU0FBVztBQUFBLEdBRy9ELEVBQVUsT0FBTyxXQUFhLFdBQWEsR0FBYTtBQUFBO0FBQUEsaUJBRTNDLEVBQVcsU0FBUyxTQUFlLE9BQUcsWUFBWSxFQUFJO0FBQUEsRUFDckUsRUFBVSxRQUFRLFFBQVEsYUFBZSxLQUFPLEdBQWEsZ0RBQWtELEVBQVcsU0FBUyxRQUFRLEVBQUksS0FBTSxFQUFVLE9BQU8sZUFBaUIsR0FBYSxHQUNoTTtBQUFBLEVBRUEsUUFDRixHQUVGLEdBQUksRUFBVSxNQUFPLENBQ25CLEdBQUksS0FBUSxFQUFVLE9BQU8sUUFBVSxFQUFVLE1BQU0sV0FDckQsUUFBWSxFQUFLLEtBQVUsT0FBTyxRQUNoQyxHQUFNLFFBRUosRUFBVSxNQUFNLE9BQ2hCLENBQUMsQ0FDSCxDQUNGLEVBQUcsQ0FDRCxJQUFNLEVBQVMsT0FBTyxHQUFTLFNBQVcsS0FBSyxVQUFVLENBQUssRUFBSSxPQUFPLEdBQVMsU0FBVyxJQUFJLEtBQVcsRUFDNUcsSUFBZ0IsU0FBTSxHQUFhLGVBQWUsNEJBQThCLE9BQVM7QUFBQSxHQUc3RixHQUFhLEdBQWUsQ0FDMUIsS0FBTSxVQUNOLE9BQVEsRUFBVSxNQUNsQixLQUFNLFFBQ04sV0FDRixDQUFDLEVBQUcsRUFBVSxNQUFNLGFBQWUsR0FBYSw0QkFBNkIsRUFBVSxNQUFNLFdBQWEsV0FBYSxHQUFhO0FBQUE7QUFBQSxpQkFFdkgsRUFBVyxTQUFTLFFBQWMsT0FBRyxZQUFZLEVBQUk7QUFBQSxFQUNwRSxFQUFVLE9BQU8sUUFBUSxhQUFlLEtBQU8sR0FBYSw4Q0FBZ0QsRUFBVyxTQUFTLE9BQU8sRUFBSSxLQUFNLEVBQVUsTUFBTSxlQUFpQixHQUFhLEdBQzNMO0FBQUEsRUFFQSxPQUNGLEVBQUcsR0FBYSxHQUNkO0FBQUEsRUFFQSxPQUNGLEdBQUksRUFBVSxNQUFNLGFBQWUsR0FBYSxLQUVsRCxHQUFJLEdBQVcsRUFBVSxLQUFNLEVBQzVCLEVBQVUsS0FBSyxjQUFnQixFQUFVLEtBQUssY0FBZ0IsR0FBYTtBQUFBLEdBRTVFLElBQU0sRUFBVyxHQUFRLEVBQVUsS0FBSyxNQUFNLEVBQzFDLEVBQTZCLEdBQ2pDLEdBQUksRUFBVSxLQUFLLFdBQVksQ0FDN0IsSUFBSSxFQUFRLEdBQU0sUUFDaEIsRUFBVSxLQUFLLE9BQ2YsRUFBVSxLQUFLLE9BQU8sT0FBUyxVQUFZLEdBQW1CLEVBQVUsS0FBSyxNQUFNLEVBQUUsS0FBVSxTQUFXLENBQUMsRUFBUyxNQUN0SCxFQUNNLEVBQVMsR0FBbUIsRUFBVSxLQUFLLE1BQU0sRUFDdkQsR0FBSSxDQUFDLEdBQVksR0FBUyxPQUFPLEdBQVMsV0FBYSxHQUFRLE9BQVEsQ0FBTSxHQUFLLEdBQVEsUUFBUyxDQUFNLEdBQUksQ0FDM0csRUFBNkIsR0FDN0IsUUFBWSxFQUFHLEtBQU0sT0FBTyxRQUFRLENBQUssR0FDdEMsSUFBTSxRQUFVLElBQU0sVUFBWSxPQUFPLEVBQU0sR0FDbEQsR0FBVyxDQUFLLElBQU0sRUFBYSxRQUVyQyxJQUFNLEVBQVMsT0FBTyxHQUFTLFNBQVcsS0FBSyxVQUFVLENBQUssRUFBSSxPQUFPLEdBQVMsU0FBVyxJQUFJLEtBQVcsRUFDNUcsR0FBUyxPQUFTLE1BQU0sUUFBUSxDQUFLLEVBQUksR0FBYSxxQkFBcUI7QUFBQSxFQUMvRSxPQUFPLEdBQVMsU0FBVyxHQUFhLHdCQUF3QjtBQUFBLEVBQ2hFLEdBQWEsVUFBVTtBQUFBLEdBQ3ZCLEdBQWEsR0FBZSxDQUN0QixLQUFNLFNBQ04sT0FBUSxFQUFVLEtBQ2xCLEtBQU0sT0FDTixXQUNGLENBQUMsRUFBRyxFQUFVLEtBQUssV0FBYSxXQUFhLEdBQWE7QUFBQTtBQUFBLGlCQUUvQyxFQUFXLFNBQVMsT0FBYSxPQUFHLFlBQVksRUFBSTtBQUFBLEVBQ25FLEVBQVUsTUFBTSxRQUFRLGFBQWUsS0FBTyxFQUFVLEtBQUssV0FBYSxHQUFhLDhEQUFnRSxFQUFXLFNBQVMsTUFBTSxFQUFJLElBQU0sR0FBYSw0Q0FBOEMsRUFBVyxTQUFTLE1BQU0sRUFBSSxLQUVoUixRQUFhLEdBQWUsQ0FDMUIsS0FBTSxTQUNOLE9BQVEsRUFBVSxLQUNsQixLQUFNLE9BQ04sV0FDRixDQUFDLEVBQUcsRUFBVSxLQUFLLFdBQWEsV0FBYSxHQUFhO0FBQUE7QUFBQSxpQkFFL0MsRUFBVyxTQUFTLE9BQWEsT0FBRyxZQUFZLEVBQUk7QUFBQSxFQUNuRSxFQUFVLE1BQU0sUUFBUSxhQUFlLEtBQU8sRUFBVSxLQUFLLFdBQWEsR0FBYSw4REFBZ0UsRUFBVyxTQUFTLE1BQU0sRUFBSSxJQUFNLEdBQWEsNENBQThDLEVBQVcsU0FBUyxNQUFNLEVBQUksS0FDbFIsR0FBSSxFQUFVLEtBQUssZUFBaUIsR0FBYSxHQUMvQztBQUFBLEVBRUEsTUFDRixHQUFJLEdBQVksRUFBVSxLQUFLLE9BQU8sT0FBTyxPQUFRLENBQ25ELElBQU0sRUFBVyxPQUFPLE9BQ3RCLEVBQVUsS0FBSyxPQUFPLEtBQ3hCLEVBQ0EsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFTLE9BQVEsSUFBSyxDQUN4QyxJQUFNLEVBQU8sRUFBUyxHQUN0QixHQUFJLEdBQVEsT0FBUSxDQUFJLEdBQUssR0FBUSxRQUFTLENBQUksRUFBRyxDQUNuRCxJQUFNLEVBQVksR0FBbUIsRUFBTSxDQUV6QyxRQUFTLEVBQUksWUFBWSxRQUN6QixRQUFTLENBQUMsRUFBSSxPQUFPLElBRXJCLE9BQVEsRUFBSSxZQUFZLEtBQ3hCLFVBQVcsRUFBSSxPQUFPLFVBQ3RCLGlCQUFrQixHQUFvQixFQUN0QyxTQUFVLElBQU0sRUFBSSxPQUFPLFFBQzdCLENBQUMsRUFDRCxHQUFJLEVBQVcsQ0FDYixJQUFNLEVBQVUsR0FBVyxTQUFXLEVBQUcsRUFBWSxPQUFPLFFBQzFELEVBQUssVUFDUCxFQUNJLEdBQWEsRUFBVTtBQUFBLEVBQ3JDLFNBQ1UsSUFBYyxpQkFBaUIsR0FBVywwQkFDMUMsSUFBSSxHQUFlLEdBQUksR0FBa0IsRUFDekMsUUFBUyxHQUFLLEVBQUcsR0FBSyxFQUFVLE9BQVEsS0FBTSxDQUM1QyxJQUFPLEdBQUcsSUFBSyxFQUFVLElBQ3pCLENBQUMsR0FBRSxXQUFhLEdBQUUsS0FBVSxRQUFVLEdBQUUsS0FBVSxVQUFZLEtBQW9CLElBQWdCLEtBQU0sSUFBZ0IsbUJBQW1CLE1BQUssS0FBSyxVQUFVLEdBQUUsU0FBUyxXQUFXLE9BQU8sTUFFOUwsS0FBaUIsS0FBb0IsRUFBSSxJQUFjLFNBQVM7QUFBQSxFQUMxRSxHQUFrQixJQUFNLElBQWMsc0JBQXNCO0FBQUEsR0FDNUQsSUFBYyxJQUFLLEdBQWEsR0FBWSxHQUFXLEtBQUssQ0FBUyxNQUk1RCxRQUFJLEdBQThCLENBQUMsSUFBYSxHQUNyRCxPQUNBLEdBQW1CLEVBQVUsS0FBSyxNQUFNLENBQzFDLEdBQUssR0FDSCxRQUNBLEdBQW1CLEVBQVUsS0FBSyxNQUFNLENBQzFDLEdBQUksQ0FDRixJQUFJLEVBQWUsR0FBSSxFQUFJLEVBQzNCLFFBQVksRUFBRyxLQUFNLE9BQU8sUUFDMUIsR0FBbUIsRUFBVSxLQUFLLE1BQU0sRUFBRSxVQUM1QyxFQUNFLENBQUMsRUFBRSxXQUFhLEVBQUUsS0FBVSxRQUFVLEVBQUUsS0FBVSxVQUFZLElBQU0sR0FBZ0IsS0FBTSxHQUFnQixtQkFBbUIsS0FBSyxLQUFLLFVBQVUsRUFBRSxTQUFTLFdBQVcsTUFBTyxLQUNoTCxJQUFNLEdBQWE7QUFBQSxHQUN2QixJQUFNLEVBQUksR0FBYSxTQUFTO0FBQUEsRUFDaEMsRUFBSSxJQUFNLEdBQWEsc0JBQXNCO0FBQUEsSUFJN0MsRUFBVSxTQUFXLEVBQVUsT0FBTyxPQUFTLEdBQzdDLEVBQVUsT0FBTyxPQUNqQixFQUFVLFFBQVEsUUFBVSxDQUFDLENBQy9CLEVBQUcsR0FBYTtBQUFBO0FBQUEsRUFFakIsRUFBVSxPQUFPLGFBQWUsR0FBYSw2QkFBOEIsRUFBVSxPQUFPLFdBQWEsWUFBYyxHQUFhO0FBQUE7QUFBQSxpQkFFcEgsRUFBVyxTQUFTLFNBQWUsT0FBRyxZQUFZLEVBQUk7QUFBQSxFQUN0RSxHQUFhO0FBQUEsR0FDWCxFQUFVLE1BQU0sUUFBUSxhQUFlLEtBQU8sR0FBYSxtREFBcUQsRUFBVyxTQUFTLFNBQVUsYUFBYSxFQUFJLElBQUssRUFBVSxPQUFPLGVBQWlCLEdBQWEsR0FDbE4sNEdBQ0EsUUFDRixJQUFLLEVBQVUsT0FBTyxhQUFlLEdBQWEsTUFFcEQsR0FBSSxHQUFPLGNBQWdCLEVBQVUsQ0FDbkMsSUFBTSxFQUFXLEVBQU8sZUFBZ0IsQ0FDdEMsTUFBTyxFQUFNLGNBQWMsTUFDN0IsQ0FBQyxFQUNHLEVBQWEsR0FDakIsR0FBSSxFQUFNLGNBQWMsT0FDdEIsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFNLGFBQWEsT0FBUSxJQUFLLENBQ2xELElBQU0sRUFBZSxFQUFNLGFBQWEsR0FBSSxFQUFVLEVBQVMsYUFBYSxFQUFhLEdBQUcsSUFBSSxFQUFHLEVBQVksR0FBVSxDQUFZLEVBQ3JJLEdBQUksRUFBYSxVQUFZLFdBQWEsRUFBYSxVQUFZLGFBQ2pFLElBQWUsRUFBYSxHQUFJLEdBQWE7QUFBQTtBQUFBLEdBRW5ELEdBQWEsR0FBUSxDQUFZLEVBQUksaUNBQWlDO0FBQUEsRUFDdEUsMkJBQTJCO0FBQUEsRUFDNUIsRUFBYSxVQUFZLGFBQWUsR0FBYSxzREFBd0QsR0FBWSxVQUFVLEVBQUk7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGFBUTNILEdBQWEsc0RBQXdELEdBQVksVUFBVSxFQUFJO0FBQUEsRUFDM0csRUFBUSxFQUNFLFFBQUksQ0FBQyxFQUNSLEdBQWEsR0FBUSxDQUFZLEVBQUksd0JBQXdCO0FBQUEsRUFDbkUsa0JBQWtCO0FBQUEsRUFDbkIsRUFBUSxFQUNFLEtBQ0gsR0FBSSxHQUFhLEdBQVEsQ0FBWSxFQUFJLDJCQUEyQjtBQUFBLEVBQzFFLHFCQUFxQjtBQUFBLEVBQ3RCLEVBQVEsSUFBSSxFQUFHLEdBQWEsc0JBQXVCLEVBQVMsUUFBUSxFQUFHLEVBQU0sYUFBYSxRQUFVLEVBQVUsQ0FDckcsRUFBTyxTQUFVLENBQ2YsS0FBTSxFQUFhLEVBQVEsS0FBWSxNQUN6QyxDQUFDLEVBQUUsUUFBUSxFQUNYLElBQU0sRUFBWSxFQUFPLGNBQWUsQ0FDdEMsTUFBTyxFQUFNLGFBQWEsTUFDNUIsQ0FBQyxFQUNELEdBQUksRUFBTSxhQUFhLE9BQ3JCLFFBQVMsR0FBSyxFQUFHLEdBQUssRUFBTSxZQUFZLE9BQVEsS0FBTSxDQUNwRCxJQUFNLEdBQU8sRUFBTSxZQUFZLElBQUssR0FBYSxHQUFVLEVBQUksRUFBRyxHQUFXLEVBQVUsYUFDckYsR0FBSyxHQUFHLElBQ1YsRUFDQSxHQUFhO0FBQUEsRUFDMUIsSUFBYyxHQUFhLEdBQVEsR0FBSyxFQUFFLEVBQUksMEJBQTBCO0FBQUEsRUFDdkUsb0JBQW9CO0FBQUEsRUFDckIsR0FBYTtBQUFBLEdBQ1gsR0FBYSxHQUFRLEdBQUssRUFBRSxFQUFJLHVCQUF1QjtBQUFBLEVBQ3hELGlCQUFpQjtBQUFBLEVBQ2xCLEdBQVMsSUFBSSxFQUVKLEVBQVUsUUFBUSxFQUVwQixFQUFVLFdBQWEsR0FBYSxFQUFXLFNBQVMsSUFBSSxHQUM1RCxJQUFNLEVBQXNCLEVBQU8sY0FBZSxDQUNoRCxNQUFPLEVBQU0sYUFBYSxNQUM1QixDQUFDLEVBQ0QsR0FBSSxFQUFNLGFBQWEsT0FBUSxDQUM3QixHQUFhO0FBQUEsRUFFYixRQUFTLEVBQUssRUFBRyxFQUFLLEVBQU0sWUFBWSxPQUFRLElBQU0sQ0FDcEQsSUFBTSxHQUFlLEVBQU0sWUFBWSxHQUFLLEdBQVcsRUFBb0IsYUFDekUsR0FBYSxHQUFHLElBQ2xCLEVBQ0EsR0FBYSx5QkFBeUIsR0FBWSxFQUFZLEVBQUksU0FBVyxtQkFBbUI7QUFBQSxxREFDeEQsR0FBUyxHQUdyRCxFQUFvQixRQUFRLEVBQUcsR0FBYSxHQUFjLEVBQUcsR0FBYSxFQUFhLEVBQUcsR0FBYSwyQkFBMkIsYUFBdUI7QUFBQSxHQUkvSixFQUFTLFFBQVEsRUFFbkIsR0FBSSxFQUFNLGFBQWEsUUFBVSxFQUFVLENBQ3pDLElBQU0sRUFBaUIsRUFBTyxTQUFVLENBQ3RDLEtBQU0sRUFBYSxFQUFRLEtBQVksTUFDekMsQ0FBQyxFQUNELEVBQU0sYUFBYSxPQUFTLEdBQWEsRUFBaUIsMENBQTBDO0FBQUEsRUFDcEcsb0NBQW9DO0FBQUEsRUFDcEMsR0FBYSxFQUFpQixlQUFlO0FBQUEsRUFDN0MsU0FBUztBQUFBLEVBQ1YsRUFBZSxRQUFRLEVBQ3RCLElBQU0sRUFBVyxFQUFPLGNBQWUsQ0FDckMsTUFBTyxFQUFNLGFBQWEsTUFDNUIsQ0FBQyxFQUNELEdBQUksRUFBTSxhQUFhLE9BQ3JCLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBTSxZQUFZLE9BQVEsSUFBSyxDQUNqRCxJQUFNLEVBQU8sRUFBTSxZQUFZLEdBQUksRUFBWSxHQUFVLENBQUksRUFBRyxFQUFVLEVBQVMsYUFBYSxFQUFLLEdBQUcsSUFBSSxFQUM1RyxHQUFhLEdBQWEsR0FBUSxFQUFLLEVBQUUsRUFBSSwwQkFBMEI7QUFBQSxFQUMzRSxvQkFBb0I7QUFBQSxFQUNyQixFQUFRLElBQUksRUFBRyxFQUFVLFVBQVksR0FBYSxzQkFBdUIsRUFBUyxRQUFRLEVBQUcsR0FBYSxFQUFXLFNBQVMsSUFBSSxFQUFHLEdBQWEsbUNBQXFDLEdBQWEsc0JBQXVCLEVBQVMsUUFBUSxFQUFHLEdBQWEsb0NBQXNDLEdBQWEsR0FBUSxFQUFLLEVBQUUsRUFBSSx1QkFBdUI7QUFBQSxFQUN4VixpQkFBaUI7QUFBQSxFQUNsQixFQUFRLEdBRVAsRUFBUyxRQUFRLEVBQUcsRUFBTSxhQUFhLFNBQVcsR0FBYTtBQUFBLEdBQy9ELEVBQVUsV0FBYSxHQUFhLEVBQVcsU0FBUyxHQUFJLEdBQWEsRUFBYSxFQUN0RixJQUFNLEVBQXNCLEVBQU8sY0FBZSxDQUNoRCxNQUFPLEVBQU0sYUFBYSxNQUM1QixDQUFDLEVBQ0QsR0FBSSxFQUFNLGFBQWEsT0FDckIsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFNLFlBQVksT0FBUSxJQUFLLENBQ2pELElBQU0sRUFBZSxFQUFNLFlBQVksR0FBSSxFQUFVLEVBQW9CLGFBQ3ZFLEVBQWEsR0FBRyxJQUNsQixFQUNBLEdBQWEsTUFBTSxHQUFZLENBQVksRUFBSSxTQUFXLG1CQUFtQjtBQUFBO0FBQUEsRUFFbEYsRUFBUSxFQUVQLEVBQW9CLFFBQVEsRUFBRyxHQUFhLEdBQVksRUFDbkQsS0FDTCxJQUFNLEVBQWlCLEVBQU8sU0FBVSxDQUN0QyxLQUFNLEVBQWEsRUFBUSxLQUFZLE1BQ3pDLENBQUMsRUFDRCxHQUFJLEVBQVUsVUFBWSxFQUFNLGFBQWEsUUFBVSxFQUFVLENBQy9ELEdBQWEsRUFBaUIsZUFBZTtBQUFBLEVBQy9DLFNBQVM7QUFBQSxFQUNWLEVBQWUsUUFBUSxFQUFHLEVBQVUsV0FBYSxHQUFhLEVBQVcsU0FBUyxHQUMvRSxJQUFNLEVBQXNCLEVBQU8sY0FBZSxDQUNoRCxNQUFPLEVBQU0sYUFBYSxNQUM1QixDQUFDLEVBQ0QsR0FBSSxFQUFNLGFBQWEsT0FBUSxDQUM3QixHQUFhO0FBQUE7QUFBQSxFQUdiLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBTSxZQUFZLE9BQVEsSUFBSyxDQUNqRCxJQUFNLEVBQWUsRUFBTSxZQUFZLEdBQUksRUFBVSxFQUFvQixhQUN2RSxFQUFhLEdBQUcsSUFDbEIsRUFDQSxHQUFhO0FBQUEsd0JBQ0MsR0FBWSxDQUFZLEVBQUksU0FBVyxtQkFBbUI7QUFBQTtBQUFBLEVBRS9FLEVBQVEsR0FHTCxFQUFvQixRQUFRLEVBQUcsR0FBYSxFQUFhLEVBQUcsYUFBbUIsVUFBWSxHQUFhLEdBQWMsRUFBRyxHQUFhLEVBQVUsSUFBTSxxR0FBcUcsS0FBZSxrQkFBdUI7QUFBQSxjQUN6UixZQUFtQixVQUFVLFlBQWtCLEdBQWE7QUFBQSxHQUNyRSxHQUFhLEdBQVksRUFDbkIsUUFBSSxHQUFhLEVBQVUsQ0FDaEMsR0FBYSxFQUFpQixlQUFlO0FBQUEsRUFDL0MsU0FBUztBQUFBLEVBQ1YsRUFBZSxRQUFRLEVBQ3BCLElBQU0sRUFBc0IsRUFBTyxjQUFlLENBQ2hELE1BQU8sRUFBTSxhQUFhLE1BQzVCLENBQUMsRUFDRCxHQUFJLEVBQU0sYUFBYSxPQUFRLENBQzdCLEdBQWE7QUFBQSxFQUViLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBTSxZQUFZLE9BQVEsSUFBSyxDQUNqRCxJQUFNLEVBQWUsRUFBTSxZQUFZLEdBQUksRUFBVSxFQUFvQixhQUN2RSxFQUFhLEdBQUcsSUFDbEIsRUFDQSxHQUFhLHlCQUF5QixHQUFZLENBQVksRUFBSSxTQUFXLG1CQUFtQjtBQUFBLG9EQUNyRCxFQUFRLEdBR3ZELEVBQW9CLFFBQVEsRUFBRyxHQUFhLEVBQWEsRUFBSSxHQUFZLEVBQ3BFLEtBQ0wsRUFBZSxRQUFRLEVBQ3ZCLElBQU0sRUFBVSxFQUFpQixTQUFTLElBQVcsRUFDckQsYUFBbUIsVUFBWSxHQUFhLEdBQWMsRUFBRyxHQUFhLEVBQVUsSUFBTSxxR0FBcUcsS0FBZSxrQkFBdUI7QUFBQSxjQUM3TjtBQUFBLEVBQ1YsVUFBVTtBQUFBLEdBQ1QsR0FBYSxHQUFZLENBQU8sR0FHbkMsR0FBSSxHQUFhO0FBQUEsZ0JBQ0YsQ0FBQyxJQUFjLEVBQU0sT0FBTyxTQUFXLEdBQWEscUJBQXNCLEdBQWE7QUFBQTtBQUFBLEVBRXJHLElBQWMsR0FBYSxFQUFhLEdBQUksR0FBWSxFQUFNLE1BQzdELFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBTSxNQUFNLE9BQVEsSUFDdEMsR0FBYSxTQUFTLGdDQUFnQztBQUFBLEVBRTFELElBQU0sR0FBZ0IsRUFBTyxRQUFTLENBQ3BDLE1BQU8sRUFBTSxPQUFPLE1BQ3RCLENBQUMsRUFDRCxHQUFJLEVBQU0sT0FBTyxPQUFRLENBQ3ZCLEdBQWE7QUFBQSxFQUNkLEVBQWdCLEdBQWE7QUFBQSx3RUFDMEMsR0FBYTtBQUFBLEVBQ3BGLEdBQWE7QUFBQSxFQUNiLEVBQU0sYUFBYSxTQUFXLEdBQWE7QUFBQSxHQUUxQyxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sTUFBTSxPQUFRLElBQUssQ0FDM0MsSUFBTSxFQUFVLEdBQWMsYUFBYSxFQUFNLE1BQU0sR0FBRyxHQUFHLElBQUksRUFDakUsR0FBSSxHQUFRLEVBQU0sTUFBTSxFQUFFLEVBQUksR0FBYSxvQkFBb0I7QUFBQSxFQUNqRSxHQUFhLGNBQWM7QUFBQTtBQUFBLEVBRTVCLEVBQVEsRUFBRyxFQUFNLGFBQWEsT0FBUSxDQUNqQyxJQUFNLEVBQXNCLEVBQU8sY0FBZSxDQUNoRCxNQUFPLEVBQU0sYUFBYSxNQUM1QixDQUFDLEVBQ0QsUUFBUyxFQUFLLEVBQUcsRUFBSyxFQUFNLFlBQVksT0FBUSxJQUFNLENBQ3BELElBQU0sRUFBZSxFQUFNLFlBQVksR0FBSyxFQUFXLEVBQW9CLGFBQ3pFLEVBQWEsR0FBRyxJQUNsQixFQUNBLEdBQWE7QUFBQSxvQkFDSDtBQUFBO0FBQUE7QUFBQSxFQUdqQixFQUFTLEVBRUosRUFBb0IsUUFBUSxFQUU5QixHQUFJLEdBQWEsNkJBQTZCO0FBQUEsRUFDakQsR0FBYSxVQUFXLEdBQVksRUFBTSxNQUFPLENBQzVDLFFBQVMsRUFBSyxFQUFHLEVBQUssRUFBTSxNQUFNLE9BQVEsSUFDeEMsR0FBYSxTQUFTO0FBQUEsRUFFeEIsR0FBYyxRQUFRLEVBRXhCLEdBQWEsY0FHakIsR0FBYyxRQUFRLEVBQUcsR0FBYSxtQ0FBb0MsQ0FBQyxJQUFjLEVBQU0sT0FBTyxTQUFXLEdBQWEsUUFBUyxHQUFhLElBQ3BKLElBQU0sR0FBbUIsRUFBUSxPQUFTLE9BQU8sS0FBSyxFQUFRLE1BQU0sRUFBRSxLQUFLLEdBQUcsRUFBSSxJQUFNLEdBQ3BGLEdBQU8sdUNBQXlDLEdBQVcsYUFBYyxDQUFhLEVBQUkscUVBQXVFLEdBQVcsY0FBZSxDQUFPLEVBQUksR0FBVyxxQkFBc0IsQ0FBUSxFQUFJLFlBQWMsR0FBVyxtQkFBb0IsQ0FBYSxFQUFJLEdBQVcsYUFBYyxDQUFPLEVBQUksNENBQThDLEdBQVcsZUFBZ0IsQ0FBUyxFQUFJLEdBQVcsY0FBZSxDQUFTLEVBQUksR0FBVyxzQkFBdUIsQ0FBUSxFQUFJLDhCQUFnQyxHQUFXLGdCQUFpQixDQUFRLEVBQUksR0FBVyxxQkFBc0IsQ0FBUSxFQUFJLEdBQVcsVUFBVyxFQUFNLE9BQU8sTUFBTSxFQUFJLEdBQVcsYUFBYyxFQUFVLE1BQU0sRUFBSSxHQUFXLGNBQWUsR0FBVyxNQUFNLEVBQUksR0FBbUIsR0FBVyxlQUFnQixDQUFhLEVBQUk7QUFBQTtBQUFBLFNBRTF6QixHQUFhLFNBQVcsd0JBQy9CLEVBQU0sY0FBYyxTQUFXLElBQVE7QUFBQSxHQUNyQyxFQUFNLGFBQWEsU0FBVyxJQUFRO0FBQUEsR0FDdEMsRUFBTSxhQUFhLFNBQVcsSUFBUTtBQUFBLEdBQ3RDLElBQWMsSUFBUTtBQUFBO0FBQUEsR0FFdEIsRUFBWSxHQUFPLEVBQVksSUFBSyxHQUFPLEdBQzdDLEdBQUksQ0FDRixPQUFPLFNBQ0wsUUFDQTtBQUFBLEVBQ0YsQ0FDQSxFQUFFLENBQ0EsVUFDQSxNQUFPLEdBQWMsQ0FBSyxFQUMxQixVQUFXLEVBQWdCLEVBQWlCLE9BRTVDLFlBQWEsRUFBSSxZQUNqQixZQUFhLEVBQWUsWUFDNUIsbUJBQW9CLEVBQWUsbUJBQ25DLGlCQUFrQixFQUFlLGlCQUNqQyxjQUNBLE1BQU8sQ0FDTCxXQUFZLEVBQVUsR0FBa0IsT0FDeEMsa0JBQW1CLEVBQVcsRUFBVSxPQUFPLFdBQWEsV0FBYSxHQUEyQixHQUF5QixNQUMvSCxFQUNBLE1BQU8sQ0FDTCxnQkFBaUIsRUFBZ0IsRUFBdUIsT0FDeEQsV0FBWSxFQUFVLEdBQWtCLE1BQzFDLEVBQ0EsWUFDQSxPQUFRLEVBQUksT0FBTyxRQUVuQixZQUFhLEVBQUksWUFBWSxLQUM3QixjQUNBLFlBQWEsRUFBWSxHQUFtQixPQUM1QyxXQUFZLEVBQVksR0FBa0IsT0FDMUMsbUJBQW9CLEVBQVcsV0FBYyxPQUM3Qyw4QkFDQSxhQUFjLEVBQVcsR0FBb0IsT0FDN0Msa0JBQW1CLEVBQVcsR0FBeUIsT0FFdkQsVUFBVyxFQUFVLE9BQVMsSUFBTSxFQUFJLFVBQVUsRUFBUyxPQUMzRCxXQUFZLEdBQVcsT0FBUyxHQUFrQixPQUNsRCxhQUFjLEVBQWdCLEVBQW9CLE9BQ2xELE9BQVEsRUFBSSxjQUNULEVBQVEsTUFDYixDQUFDLEVBQ0QsTUFBTyxFQUFPLENBQ2QsSUFBTSxFQUFhLEdBQWMsQ0FBSyxFQUN0QyxRQUFRLElBQUksaURBQWlELEVBQUcsUUFBUSxJQUFJLEtBQUssRUFBRyxRQUFRLElBQUksQ0FDOUYsUUFBUyxPQUFPLEdBQVcsV0FBYSxFQUFRLFNBQVMsRUFBSSxFQUM3RCxZQUFhLEVBQ2IsTUFBTyxJQUNGLEVBRUgsVUFBVyxHQUFZLFdBQVcsTUFBTSxDQUFDLElBQU0sRUFBRSxTQUFTLENBQUMsRUFFM0QsUUFBUyxHQUFZLFNBQVMsTUFBTSxDQUFDLElBQU0sRUFBRSxTQUFTLENBQUMsRUFFdkQsYUFBYyxHQUFZLGNBQWMsTUFDdEMsQ0FBQyxJQUFNLEVBQUUsU0FBUyxDQUNwQixFQUVBLFlBQWEsR0FBWSxhQUFhLE1BQ3BDLENBQUMsSUFBTSxFQUFFLFNBQVMsQ0FDcEIsRUFFQSxZQUFhLEdBQVksYUFBYSxNQUNwQyxDQUFDLElBQU0sRUFBRSxTQUFTLENBQ3BCLEVBRUEsTUFBTyxHQUFZLE9BQU8sTUFBTSxDQUFDLElBQU0sRUFBRSxTQUFTLENBQUMsRUFFbkQsTUFBTyxHQUFZLE9BQU8sTUFBTSxDQUFDLElBQU0sRUFBRSxTQUFTLENBQUMsRUFFbkQsY0FBZSxHQUFZLGVBQWUsTUFDeEMsQ0FBQyxJQUFNLEVBQUUsU0FBUyxDQUNwQixFQUVBLEtBQU0sR0FBWSxNQUFNLE1BQU0sQ0FBQyxJQUFNLEVBQUUsU0FBUyxDQUFDLENBQ25ELEVBQ0EsWUFFQSxZQUFhLEVBQUksWUFBWSxLQUM3QixPQUNGLENBQUMsRUFBRyxRQUFRLElBQUksS0FBSyxFQUFHLFFBQVEsS0FBSyxDQUFDLElBRXZDLEdBQXlCLENBQUMsRUFBSyxJQUFVLENBQzFDLElBQUksRUFBWSxHQUNWLEVBQVcsR0FBYSxDQUM1QixNQUFPLEVBQUksTUFBTSxNQUNqQixNQUFPLElBQVUsQ0FBQyxJQUFTLENBQ3pCLEdBQWEsR0FFakIsQ0FBQyxFQUFFLFVBQVcsQ0FDWixNQUFPLEVBQUksTUFBTSxTQUFTLE1BQzVCLENBQUMsRUFDRCxHQUFJLEVBQUksTUFBTSxTQUFTLE9BQVEsQ0FDN0IsR0FBYSxPQUNiLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBSSxNQUFNLFFBQVEsT0FBUSxJQUFLLENBQ2pELElBQU0sRUFBTyxFQUFJLE1BQU0sUUFBUSxHQUFJLEVBQWEsR0FBVSxDQUFJLEVBQUcsRUFBYSxHQUFRLENBQUksRUFBRyxFQUFVLEVBQVMsYUFBYSxFQUFJLE1BQU0sUUFBUSxHQUFHLEdBQUcsSUFBSSxFQUN6SixHQUFjLEdBQWEsdUJBQXVCLEVBQWEsU0FBVyxlQUFlO0FBQUEsRUFDNUYsRUFBUSxJQUFJLEVBQUcsR0FBYTtBQUFBLElBQ3pCLEdBQWEsR0FBRyxFQUFhLFNBQVcsZUFBZTtBQUFBLEVBQzFELEVBQVEsR0FFUCxHQUFhLHVEQUVmLE9BQU8sRUFBUyxRQUFRLEVBQUcsR0FDMUIsR0FBWSxDQUFDLEVBQUssRUFBUyxRQUFVLENBQ3RDLElBQU0sRUFBTSxFQUFJLFNBQVMscUJBQ3pCLEdBQUksQ0FBQyxFQUFJLE9BQVEsTUFBTyxVQUFZLEVBQ3BDLElBQU0sRUFBVSxFQUFJLFlBQVksc0JBQzVCLEVBQVUsRUFDZCxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUksT0FBUSxJQUM5QixFQUFVLE9BQU8sTUFBTSxLQUFXLEVBQVEsY0FDNUMsTUFBTywwQkFBMEIsRUFBUSxzQkFBc0IsS0FBVyxFQUFRLGdCQUNqRixHQUF3QixDQUFDLElBQVEsQ0FDbEMsSUFBTSxFQUFVLEVBQUksWUFBWSxzQkFDaEMsRUFBSSxPQUFPLEtBQUssTUFBTSxFQUN0QixJQUFNLEVBQWdCLEVBQUksWUFBWSxjQUFlLEVBQVcsRUFBSSxNQUFNLE9BQU8sT0FDN0UsRUFBWSxHQUNWLEVBQVMsRUFBSSxPQUNmLEVBQW1CLEVBQU8sS0FBSyxLQUFLLEdBQUssb0dBQXNHLHNDQUNuSixHQUFvQixFQUFPLEtBQUssS0FBSyxJQUFNO0FBQUEsRUFDekM7QUFBQSxFQUNELElBQWtCLEdBQW9CO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPQU12QyxJQUFJLEVBQWdCO0FBQUEsRUFFcEIsR0FBSSxFQUFJLE1BQU0sZUFBZSxRQUFVLENBQUMsRUFBSSxNQUFNLE1BQU8sQ0FDdkQsRUFBZ0I7QUFBQTtBQUFBLEVBR2hCLElBQU0sRUFBUyxFQUFJLE1BQU0sY0FBYyxLQUFLLEVBQU8sRUFBSSxRQUFVLEdBQ2pFLEdBQWlCO0FBQUEsZUFDTixTQUNYLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBSSxNQUFNLGNBQWMsT0FBUSxJQUFLLENBQ3ZELElBQU0sRUFBTSxFQUFJLE1BQU0sY0FBYyxHQUFHLEdBQ3ZDLEdBQWlCO0FBQUEsRUFDckIsR0FBWSxDQUFHLEVBQUksU0FBVyxtQkFBbUI7QUFBQSxFQUcvQyxHQUFpQjtBQUFBLEVBR25CLEVBQUksVUFBVSxRQUFVLEdBQWlCO0FBQUEseUVBRXpDLElBQU0sRUFBVyxFQUFRLFNBQ3ZCLENBQUMsQ0FBQyxFQUFJLE1BQU0sU0FBUyxPQUNyQixDQUFDLENBQUMsRUFBSSxNQUFNLE9BQU8sT0FDbkIsQ0FDRixFQUNBLEdBQW9CLEVBQVMsS0FBTSxHQUFvQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS3ZELElBQUksRUFBWSxHQUNoQixRQUFZLEVBQU0sS0FBWSxPQUFPLFFBQVEsRUFBTyxNQUFNLEVBQUcsQ0FDM0QsR0FBYSxRQUFRLE1BQVUsRUFBSSxPQUFPLGFBQWUsS0FBTyxHQUFhLFFBQVEsR0FBYSxDQUFJLE9BQ3RHLElBQU0sRUFBVSxHQUFXLENBQUksRUFDL0IsSUFBUyxJQUFZLEdBQWEsUUFBUSxPQUFjLEdBQWEsc0JBQXNCLFFBQVMsS0FBVyxPQUFRLE1BQWEsR0FBYSxlQUFlLE9BQVEsS0FBWSxHQUFhLHVEQUF1RCxFQUFRO0FBQUEsR0FDalEsUUFBUyxLQUFZLFFBQVMsRUFBVSxHQUFhLGFBQWEsRUFBUTtBQUFBLEVBQ3pFLEdBQWE7QUFBQSxLQUNaLFFBQVMsS0FBWSxHQUFhLGFBQWEsRUFBUTtBQUFBLElBQ3ZELEtBQWtCLFFBQVMsS0FBVyxRQUFTLEtBQVksRUFBRSxTQUFVLEtBQWEsR0FBYSw2QkFBNkIsRUFBUSxLQUFPLEVBQVE7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQUt0SixRQUFZLEVBQVEsS0FBVSxPQUFPLFFBQVEsQ0FBTyxFQUNsRCxJQUFXLE9BQVMsSUFBVyxPQUFTLElBQVcsT0FBUyxHQUFhLFNBQVMsZ0JBQXFCO0FBQUEsR0FFekcsUUFBUyxFQUFVLEdBQWEscUJBQXFCLEVBQVE7QUFBQSxFQUM3RCxHQUFhO0FBQUEsRUFDZCxHQUFhLElBRWQsSUFBTSxFQUFhLENBQUMsQ0FBQyxFQUFJLE1BQU0sU0FBUyxLQUFLLEVBQU8sRUFBRyxFQUFtQixFQUFRLE9BQVMsT0FBTyxLQUFLLEVBQVEsTUFBTSxFQUFFLEtBQUssR0FBRyxFQUFJLElBQU0sR0FDekksR0FBYTtBQUFBLG1HQUViLEdBQVcscUJBQXNCLEVBQUksVUFBVSxLQUFLLEVBQUksR0FBVyxnQkFBaUIsQ0FBUSxFQUFJLEdBQVcscUJBQXNCLENBQVEsRUFBSSxFQUFtQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVMvSixFQUFJLE1BQU0sU0FBUyxTQUFXLEdBQWE7QUFBQSxHQUMxQyxFQUFJLE1BQU0sZUFBZSxTQUFXLEdBQWE7QUFBQSxHQUNqRCxHQUFhLEVBQVMsUUFBUyxFQUFJLE1BQU0sT0FBTyxTQUFXLEdBQWEsU0FBVyxFQUFJLE1BQU0sTUFBTSxJQUFJLENBQUMsRUFBRyxJQUFNLEtBQUsscUJBQXFCLE9BQU8sRUFBRSxLQUFLLEdBQUcsRUFBSTtBQUFBLEdBQ2hLLEdBQWEsR0FBRyxFQUFhLFNBQVcsa0JBQWtCLEVBQVEsZUFBZ0IsRUFBSSxNQUFNLFNBQVMsU0FBVyxHQUFhO0FBQUEsR0FDN0gsR0FBYSxFQUFRLGNBQWMsQ0FBRyxFQUFHLEVBQUksTUFBTSxPQUFPLFNBQVcsR0FBYSxvQkFBc0IsRUFBSSxNQUFNLE1BQU0sSUFBSSxDQUFDLEVBQUcsSUFBTSxLQUFLLE1BQU0sRUFBRSxLQUFLLEdBQUcsRUFBSTtBQUFBLEdBQy9KLEdBQWEsR0FBdUIsQ0FBRyxFQUFHLElBQWMsR0FBYTtBQUFBO0FBQUEsRUFFckUsRUFBWSxLQUFNLEdBQWEsRUFBbUI7QUFBQSxFQUNsRCxHQUFVLENBQUcsRUFDZixJQUFNLEVBQWMsR0FBb0IsQ0FBRyxFQUMzQyxFQUFJLFlBQWMsRUFDbEIsSUFBTSxFQUFLLFNBQ1QsT0FDQTtBQUFBLEVBQ0EsQ0FDRixFQUFFLENBQ0EsTUFDQSxpQkFBa0IsRUFBSSxZQUFZLFFBQVEsaUJBQzFDLGlCQUNBLFlBQ0EsY0FDQSxVQUNBLFlBQ0EscUJBRUEsa0JBQW1CLEVBQUksVUFBVSxNQUFRLEdBQXlCLE9BQ2xFLGFBQWMsRUFBVyxHQUFvQixPQUM3QyxrQkFBbUIsRUFBVyxHQUF5QixVQUNwRCxFQUFRLE1BQ2IsQ0FBQyxFQUNELE9BQU8sSUFBUyxJQUFJLEdBQUcsRUFBRSxFQUFHLEdBQzNCLEdBQXNCLENBQUMsSUFBUSxDQUNoQyxJQUFNLEVBQVEsRUFBSSxNQUNkLEVBQVksR0FDVixFQUFVLEVBQUksWUFBWSxhQUFjLEVBQW1CLEVBQVEsT0FBUyxPQUFPLEtBQUssRUFBUSxNQUFNLEVBQUUsS0FBSyxHQUFHLEVBQUksSUFBTSxHQUFJLEVBQVcsQ0FBQyxDQUFDLEVBQUksTUFBTSxPQUFPLE9BQ2xLLEdBQWEsNERBQThELEdBQVcsV0FBWSxFQUFJLE1BQU0sS0FBSyxFQUFJLEdBQVcsaUJBQWtCLEVBQUksTUFBTSxhQUFhLEVBQUksR0FBVyxTQUFVLEVBQUksTUFBTSxLQUFLLEVBQUksR0FBVyxpQkFBa0IsRUFBSSxNQUFNLFdBQVcsRUFBSSxHQUFXLGdCQUFpQixDQUFRLEVBQUksR0FBVyxxQkFBc0IsQ0FBUSxFQUFJLEVBQW1CO0FBQUEsRUFDbFgsR0FBYSxVQUFVLEVBQUksTUFBTSxPQUFPLEtBQUssRUFBTyxHQUFLLEVBQUksTUFBTSxhQUFhLEtBQUssRUFBTyxFQUFJLFNBQVcsd0NBQXlDLEdBQWEsR0FBSSxJQUFhLEdBQWE7QUFBQSxHQUVoTSxJQUFNLEVBQVMsR0FBYSxDQUMxQixRQUFTLFVBQ1QsTUFBTyxFQUFNLE1BQ2IsTUFBTyxDQUFDLElBQVMsQ0FDZixHQUFhLEVBRWpCLENBQUMsRUFBRyxFQUFnQixJQUFNLENBQ3hCLEdBQUksQ0FBQyxFQUFNLGVBQWUsUUFBVSxDQUFDLEVBQVUsTUFBTyxHQUN0RCxJQUFJLEVBQWlCLEdBQ2YsRUFBUyxFQUFNLGVBQWUsS0FBSyxFQUFPLEVBQUksUUFBVSxHQUM5RCxHQUFrQjtBQUFBLGVBQ1AsU0FDWCxJQUFNLEVBQVcsR0FBYSxDQUM1QixRQUFTLFVBQ1QsTUFBTyxFQUFNLE1BQ2IsTUFBTyxDQUFDLElBQVMsQ0FDZixHQUFrQixFQUV0QixDQUFDLEVBQUUsZ0JBQWlCLENBQ2xCLE1BQU8sRUFBTSxlQUFlLE9BQzVCLEtBQU0sU0FDUixDQUFDLEVBQ0QsR0FBSSxFQUFNLGVBQWUsUUFBVSxFQUFNLGNBQ3ZDLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBTSxjQUFjLE9BQVEsSUFBSyxDQUNuRCxJQUFNLEVBQUssRUFBTSxjQUFjLEdBQUcsR0FBSSxFQUFVLEVBQVMsYUFBYSxFQUFHLElBQUksRUFDN0UsR0FBa0I7QUFBQSxFQUN4QixHQUFZLENBQUUsRUFBSSxTQUFXLG1CQUFtQjtBQUFBLEVBQy9DLEVBQVEsRUFFUCxPQUFPLEVBQVMsUUFBUSxFQUFHLEdBQWtCO0FBQUEsRUFDOUMsR0FFRCxHQUFhO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSwrQkFLaUIsRUFBUSxVQUFZLEdBQWEsRUFBUSxTQUN2RSxJQUFNLEVBQWUsR0FBWSxFQUFNLGVBQWUsT0FBUyxzQkFBd0IsR0FDdkYsR0FBSSxFQUFJLE1BQU0sTUFDWixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUksTUFBTSxNQUFNLE9BQVEsSUFBSyxDQUMvQyxJQUFNLEVBQVUsRUFBSSxNQUFNLE1BQU0sR0FBSSxFQUFXLEdBQUcsR0FBUSxDQUFPLEVBQUksU0FBVyxhQUFhO0FBQUEsRUFFN0YsR0FBSSxHQUFhLHlCQUEwQixHQUFVLENBQU8sRUFBRyxDQUM3RCxHQUFhLE1BQU07QUFBQSxnREFDdUIsRUFBYyxFQUFJLDRCQUE0QixFQUFRO0FBQUE7QUFBQSxFQUdoRyxJQUFNLEVBQXVCLEVBQU8sY0FBZSxDQUNqRCxNQUFPLEVBQU0sYUFBYSxPQUMxQixLQUFNLFNBQ1IsQ0FBQyxFQUNELEdBQUksRUFBTSxhQUFhLE9BQ3JCLFFBQVMsRUFBSyxFQUFHLEVBQUssRUFBTSxZQUFZLE9BQVEsSUFBTSxDQUNwRCxJQUFNLEVBQWMsRUFBTSxZQUFZLEdBQUssRUFBVSxFQUFxQixhQUN4RSxFQUFZLEdBQUcsSUFDakIsRUFDQSxHQUFhLCtDQUErQyxHQUFZLENBQVcsRUFBSSxTQUFXLG1CQUFtQjtBQUFBLEVBQzlILEVBQVEsRUFFSCxFQUFxQixRQUFRLEVBQUcsR0FBYSxFQUFjLEVBQUksc0JBQXNCLFVBQXFCLEVBQVEsdUJBQzdHLFFBQWEsRUFDcEIsR0FBYSxJQUVqQixHQUFhO0FBQUE7QUFBQTtBQUFBLEVBR1gsRUFBYyxFQUFJLEVBQVEsZ0JBQWtCO0FBQUE7QUFBQSxFQUU3QyxHQUFhLDhCQUFnQyxFQUFjLEVBQUk7QUFBQTtBQUFBLEVBRTlELEVBQVEsYUFBZTtBQUFBLEdBRXpCLElBQU0sRUFBc0IsRUFBTyxjQUFlLENBQ2hELE1BQU8sRUFBTSxhQUFhLE9BQzFCLEtBQU0sU0FDUixDQUFDLEVBQ0QsR0FBSSxHQUFhO0FBQUE7QUFBQSxFQUVoQixFQUFNLGFBQWEsT0FBUSxDQUMxQixHQUFhO0FBQUEsRUFFYixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sWUFBWSxPQUFRLElBQUssQ0FDakQsSUFBTSxFQUFjLEVBQU0sWUFBWSxHQUFJLEVBQVUsRUFBb0IsYUFDdEUsRUFBWSxHQUFHLElBQ2pCLEVBQ0EsR0FBYSx5QkFBeUIsR0FBWSxDQUFXLEVBQUksU0FBVyxtQkFBbUI7QUFBQSxvRUFDaEMsRUFBUSxHQUczRSxFQUFvQixRQUFRLEVBQUcsR0FBYSxFQUFjLEVBQUk7QUFBQSxxQkFDM0MsYUFBd0IsRUFBUSx1QkFDbkQsSUFBTSxFQUFRLENBQUMsSUFBTSxPQUFPLEdBQUssV0FBYSxFQUFJLEVBQUUsR0FDcEQsT0FBTyxTQUNMLFNBQ0E7QUFBQSxFQUNBLENBQ0YsRUFBRSxDQUNBLFlBQWEsRUFBSSxZQUFZLFFBQVEsWUFDckMsY0FDQSw4QkFDQSxRQUFTLEVBQUksTUFBTSxPQUFPLElBQUksQ0FBSyxFQUNuQyxjQUFlLEVBQUksTUFBTSxlQUFlLElBQUksQ0FBSyxFQUNqRCxNQUFPLEVBQUksTUFBTSxPQUFPLElBQUksQ0FBSyxFQUNqQyxjQUFlLEVBQUksTUFBTSxhQUFhLElBQUksQ0FBSyxFQUMvQyxhQUFjLEVBQVcsR0FBb0IsT0FDN0Msa0JBQW1CLEVBQVcsR0FBeUIsVUFDcEQsRUFBUSxNQUNiLENBQUMsR0svdUNILElBQU0sR0FBYSxDQUFDLEVBQU8sSUFBYyxFQUFZLEVBQVEsR0FBSSxHQUFnQixDQUFDLEVBQUssRUFBTyxFQUFXLEVBQVcsS0FBTyxDQUN6SCxJQUFJLEVBQVksR0FDVixFQUFpQixFQUFJLFdBQVksRUFBVyxDQUFDLENBQUMsRUFBSSxNQUFNLE9BQU8sT0FDckUsSUFBYSxHQUFhO0FBQUEsR0FFMUIsSUFBTSxFQUFZLE9BQU8sS0FBSyxFQUFNLElBQUksRUFBRyxFQUFRLHVDQUF1QyxFQUFJLE9BQU8sU0FBUyxrQkFBb0IsR0FBSyxHQUFLO0FBQUEsRUFDM0ksRUFBYSxFQUFVLE9BQVMsQ0FBQyxDQUFDLEVBQU0sTUFBTSxPQUFTLENBQUMsQ0FBQyxFQUFNLE1BQU0scUJBQXFCLEtBQ3pGLENBQUMsSUFBTSxFQUFFLEtBQ1gsR0FBSyxFQUFJLE1BQU0sU0FBUyxPQUN4QixJQUFlLEdBQWEsR0FDNUIsSUFBTSxFQUFVLEVBQVUsS0FBTyxFQUFZLGVBQWlCLEVBQWEsR0FBSyxHQUFTO0FBQUE7QUFBQSxJQUVyRixTQUFTLEVBQU0sU0FBVyxHQUM5QixHQUFhLEdBQVcsV0FBWSxDQUFDLENBQVEsRUFBSSxrQkFBb0IsR0FBVyxNQUFPLENBQVUsRUFBSSxHQUFXLHlCQUEwQixDQUFTLEVBQUksRUFBVSxHQUMvSixtQkFDQSxHQUFZLEVBQVUsS0FBTyxDQUMvQixFQUFJLGlDQUFtQyxHQUFXLENBQWMsRUFBSSxtQ0FBcUMsdUJBQXlCLGVBQWdCLEVBQVUsU0FBVyxHQUFhLHlDQUEwQyxJQUFhLEdBQWEsMkJBQ3hQLENBQ0UsSUFBSSxFQUFvQixHQUN4QixRQUFXLEtBQU8sT0FBTyxLQUFLLEVBQUksVUFBVSxTQUFTLEVBQ25ELEdBQXFCLEtBQUssaUJBQW1CLE1BQy9DLEdBQWEsQ0FDZixDQUNBLE9BQU8sR0FBYTtBQUFBLEVBQ25CLEdBQ0EsR0FBd0IsQ0FBQyxFQUFLLElBQVUsQ0FDekMsSUFBTSxFQUFXLENBQUMsQ0FBQyxFQUFJLE1BQU0sT0FBTyxPQUFRLEVBQVMsQ0FBQyxDQUFDLEVBQUksU0FBUyxxQkFBcUIsT0FDckYsRUFBWSxHQUNkLEVBQU0sTUFFTixFQUFJLFNBQ04sRUFDQSxFQUFZLEdBQ1YsQ0FDRSxRQUFTLEVBQU0sT0FDakIsRUFDQSxDQUNGLEVBQ0EsSUFBSSxFQUFZLG9LQUFzSyxHQUFXLDBCQUEyQixDQUFRLEVBQUksR0FBVyw0Q0FBNkMsQ0FBUSxFQUFJLEdBQVcsa0NBQW1DLENBQVEsRUFBSSxHQUFXLG9CQUFxQixDQUFRLEVBQUksR0FBVyxnQkFBaUIsQ0FBTSxFQUFJO0FBQUEsRUFFeGIsRUFBSSxNQUFNLFNBQVMsU0FBVyxHQUFhO0FBQUEsR0FDekMsR0FBYSxHQUFHLEVBQUksTUFBTSxTQUFTLEtBQUssRUFBTyxFQUFJLFFBQVUsNEJBQy9ELElBQU0sRUFBYSxFQUFVLE9BQVMsQ0FBQyxDQUFDLEVBQU0sTUFBTSxPQUFTLENBQUMsQ0FBQyxFQUFNLE1BQU0scUJBQXFCLEtBQzlGLENBQUMsSUFBTSxFQUFFLEtBQ1gsRUFDQSxPQUFPLEdBQVksR0FBYyxFQUFJLE1BQU0sU0FBUyxRQUFVLEdBQWEsR0FBYyxFQUFLLEVBQU8sQ0FBUyxFQUFHLEdBQWEsR0FBdUIsQ0FBRyxFQUFHLEdBQWEsc0JBQXdCLEdBQWEsa0JBQWtCLEdBQWMsRUFBSyxFQUFPLEVBQVcsRUFBRSxNQUFPLEdBQWEsR0FBVSxDQUFHLEVBQUcsU0FDeFMsT0FDQSxDQUNGLEVBQUUsQ0FDQSxNQUNBLFFBQVMsRUFBTSxVQUFVLEdBQUssRUFBTSxTQUNwQyxZQUNBLFVBRUEsSUFBSyxFQUFJLFNBQVMscUJBQXFCLElBQUksQ0FBQyxJQUFNLEVBQUUsRUFBRSxFQUN0RCxNQUFPLEVBQUksTUFDWCxVQUFXLEVBQUksVUFDZixNQUFPLEVBQU0sS0FDYixTQUFVLEVBQVcsR0FBZ0IsT0FDckMsYUFBYyxFQUFXLEdBQW9CLE9BQzdDLGtCQUFtQixFQUFXLEdBQXlCLE9BQ3ZELE1BQU8sRUFBVyxFQUFJLE1BQU0sT0FBTyxJQUFJLENBQUMsSUFBTSxHQUFHLElBQU0sQ0FBQyxFQUFTLE9BQ2pFLG1CQUNGLENBQUMsR0NuRUgsSUFBTSxHQUE0QixDQUFDLEVBQVEsRUFBTyxJQUFRLENBQ3hELEdBQUksT0FBTyxHQUFVLFlBQWMsYUFBa0IsS0FBTSxPQUMzRCxHQUFJLEdBQWEsQ0FBTSxFQUFHLE1BQU8sSUFBTSxFQUN2QyxJQUFNLEVBQVcsR0FDZixFQUNBLEdBQU8sQ0FDTCxRQUFTLENBQUMsQ0FDWixDQUNGLEVBQ0EsR0FBSSxDQUFDLEVBQU0sT0FBTyxRQUFVLENBQUMsRUFBTSxXQUFXLFFBQVUsQ0FBQyxFQUFNLGNBQWMsUUFBVSxDQUFDLEVBQU0sYUFBYSxPQUN6RyxPQUFPLGFBQW9CLFFBQVUsRUFBUyxLQUFLLENBQUMsSUFBYyxDQUNoRSxHQUFJLEVBQ0YsT0FBTyxFQUFVLFFBQVEsSUFBSSxjQUFjLEdBQUssRUFBVSxRQUFRLE9BQU8sZUFBZ0IsWUFBWSxFQUFHLEVBQVUsTUFBTSxFQUMzSCxHQUFLLEVBQVMsUUFBUSxJQUFJLGNBQWMsR0FBSyxFQUFTLFFBQVEsT0FBTyxlQUFnQixZQUFZLEVBQUcsSUFBTSxFQUFTLE1BQU0sSUNiOUgsSUFBTSxHQUFZLENBQ2hCLElBQUksQ0FBQyxFQUFJLENBQ1AsRUFBRyxLQUFLLE9BQU8sQ0FBRSxHQUVuQixPQUFPLENBQUMsRUFBSSxFQUFTLENBQ25CLEVBQUcsS0FBSyxVQUFVLEVBQUksQ0FBTyxHQUUvQixLQUFLLENBQUMsRUFBSSxDQUNSLEVBQUcsS0FBSyxRQUFRLENBQUUsR0FFcEIsS0FBSyxDQUFDLEVBQUksRUFBTSxFQUFRLENBQ3RCLEVBQUcsS0FBSyxRQUFRLEVBQUksRUFBTSxDQUFNLEVBRXBDLEVBQ0EsTUFBTSxFQUFTLENBQ2IsV0FBVyxDQUFDLEVBQUssRUFBTSxFQUFZLE9BQUcsQ0FDcEMsS0FBSyxJQUFNLEVBQ1gsS0FBSyxLQUFPLEVBQ1osS0FBSyxLQUFPLEVBQ1osS0FBSyxVQUFZLEVBQUksTUFBTSxVQUFXLEtBQUssU0FBVyxFQUFJLFNBQVMsS0FBSyxDQUFHLEVBQUcsS0FBSyxXQUFhLEVBQUksV0FBVyxLQUFLLENBQUcsRUFBRyxLQUFLLE1BQVEsRUFBSSxNQUFNLEtBQUssQ0FBRyxFQUFHLEtBQUssVUFBWSxFQUFJLFVBQVUsS0FBSyxDQUFHLEVBQUcsS0FBSyxZQUFjLEVBQUksWUFBWSxLQUFLLENBQUcsRUFBRyxLQUFLLGNBQWdCLEVBQUksY0FBYyxLQUFLLENBQUcsRUFBRyxLQUFLLFVBQVksRUFBSSxVQUFVLEtBQUssQ0FBRyxFQUFHLEtBQUssWUFBYyxFQUFJLFlBQVksS0FBSyxDQUFHLEVBQUcsS0FBSyxhQUFlLEVBQUksYUFBYSxLQUFLLENBQUcsRUFBRyxLQUFLLEtBQU8sRUFBSSxLQUFLLEtBQUssQ0FBRyxFQUFHLEtBQUssY0FBZ0IsRUFBSSxjQUFlLEtBQUssV0FBYSxFQUFJLFdBQVksS0FBSyxLQUFPLEVBQUksS0FBTSxLQUFLLEtBQU8sS0FBSyxLQUFLLEtBQUssSUFBSSxFQUFHLEtBQUssS0FBTyxLQUFLLEtBQUssS0FBSyxJQUFJLEVBQUcsS0FBSyxLQUFPLEtBQUssS0FBSyxLQUFLLElBQUksRUFBRyxLQUFLLFFBQVUsS0FBSyxRQUFRLEtBQUssSUFBSSxFQVkzckIsSUFBSSxDQUFDLEVBQU0sRUFBVSxDQUNuQixPQUFPLE9BQU8sU0FBUyxDQUFJLEVBQUksS0FBSyxJQUFJLEtBQUssRUFBTSxDQUFRLEVBQUksS0FBSyxXQUFXLE1BQU0sQ0FBSSxJQUFNLEdBQUssS0FBSyxJQUFJLEtBQzNHLElBQUksRUFBZ0IsVUFBVyxLQUFLLFVBQVcsQ0FBSSxFQUFFLE9BQ3ZELEdBQUssT0FBTyxHQUFRLFdBQWEsRUFBTyxLQUFLLFVBQVUsQ0FBSSxHQUFJLEtBQUssSUFBSSxLQUFLLEVBQU0sQ0FBUSxHQU83RixJQUFJLENBQUMsRUFBTSxDQUNULE9BQU8sT0FBTyxTQUFTLENBQUksRUFBSSxLQUFLLElBQUksS0FBSyxDQUFJLEVBQUksS0FBSyxXQUFXLE1BQU0sQ0FBSSxJQUFNLEdBQUssS0FBSyxJQUFJLEtBQ2pHLElBQUksRUFBZ0IsVUFBVyxLQUFLLFVBQVcsQ0FBSSxFQUFFLE9BQ3ZELEdBQUssT0FBTyxHQUFRLFdBQWEsRUFBTyxLQUFLLFVBQVUsQ0FBSSxHQUFJLEtBQUssSUFBSSxLQUFLLENBQUksR0FPbkYsSUFBSSxDQUFDLEVBQU0sQ0FDVCxPQUFPLE9BQU8sU0FBUyxDQUFJLEVBQUksS0FBSyxJQUFJLEtBQUssQ0FBSSxFQUFJLEtBQUssV0FBVyxNQUFNLENBQUksSUFBTSxHQUFLLEtBQUssSUFBSSxLQUNqRyxJQUFJLEVBQWdCLFVBQVcsS0FBSyxVQUFXLENBQUksRUFBRSxPQUN2RCxHQUFLLE9BQU8sR0FBUSxXQUFhLEVBQU8sS0FBSyxVQUFVLENBQUksR0FBSSxLQUFLLElBQUksS0FBSyxDQUFJLEdBYW5GLE9BQU8sQ0FBQyxFQUFPLEVBQU0sRUFBVSxDQUM3QixPQUFPLE9BQU8sU0FBUyxDQUFJLEVBQUksS0FBSyxJQUFJLFFBQ3RDLEVBQ0EsRUFDQSxDQUNGLEVBQUksS0FBSyxXQUFXLE1BQU0sQ0FBSSxJQUFNLEdBQUssS0FBSyxJQUFJLEtBQ2hELElBQUksRUFBZ0IsVUFBVyxLQUFLLFVBQVcsQ0FBSSxFQUFFLE9BQ3ZELEdBQUssT0FBTyxHQUFRLFdBQWEsRUFBTyxLQUFLLFVBQVUsQ0FBSSxHQUFJLEtBQUssSUFBSSxRQUFRLEVBQU8sRUFBTSxDQUFRLE1BRW5HLFdBQVUsRUFBRyxDQUNmLE9BQU8sS0FBSyxJQUFJLGNBRWQsR0FBRSxFQUFHLENBQ1AsT0FBTyxLQUFLLEtBQUssR0FFckIsQ0FDQSxJQUFNLEdBQXdCLENBQUMsSUFBVSxDQUN2QyxJQUFNLEVBQVUsT0FBTyxHQUFTLFdBQWEsQ0FBQyxDQUFLLEVBQUksRUFDdkQsT0FBTyxjQUFjLENBQUMsRUFBSSxFQUFTLENBQ2pDLEdBQUksT0FBTyxHQUFXLFNBQVUsQ0FDOUIsSUFBTSxFQUFRLEdBQVMsV0FBVyxDQUFDLEVBQ25DLEdBQUksSUFBVSxJQUFNLElBQVUsSUFBTSxJQUFVLElBQU0sSUFBVSxJQUM1RCxHQUFJLENBQ0YsRUFBVSxLQUFLLE1BQU0sQ0FBTyxFQUM1QixLQUFNLEVBRUwsUUFBZ0IsQ0FBTyxFQUFJLEVBQVUsQ0FBQyxFQUFVLElBQVksT0FBUyxFQUFVLEdBQUssSUFBWSxRQUFVLEVBQVUsR0FBSyxJQUFZLFNBQVcsRUFBVSxNQUVqSyxHQUFJLEVBQ0YsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFRLE9BQVEsSUFBSyxDQUN2QyxJQUFJLEVBQU8sRUFBUSxHQUFHLEVBQUksQ0FBTyxFQUNqQyxHQUFJLGFBQWdCLFVBQVksRUFBTyxNQUFNLEdBQU8sSUFBYyxPQUFHLE9BQU8sRUFFaEYsT0FBTyxJQUVSLEdBQXlCLENBQUMsSUFBcUIsQ0FDaEQsSUFBTSxFQUFtQixDQUFDLEVBQUksSUFBUyxDQUNyQyxHQUFJLGFBQWdCLFFBQ2xCLE9BQU8sRUFBSyxLQUFLLENBQUMsSUFBVSxFQUFpQixFQUFJLENBQUssQ0FBQyxFQUN6RCxHQUFJLE9BQU8sU0FBUyxDQUFJLEVBQUcsT0FBTyxFQUFHLEtBQUssRUFBSyxTQUFTLENBQUMsRUFDekQsR0FBSSxJQUFjLE9BQUcsT0FDckIsSUFBTSxFQUFPLENBQUMsSUFBVSxDQUN0QixHQUFJLEdBQWtCLE1BQU0sQ0FBSyxJQUFNLEdBQ3JDLE9BQU8sRUFBRyxLQUNSLElBQUksRUFBZ0IsVUFBVyxFQUFrQixDQUFLLEVBQUUsT0FDMUQsRUFDRixHQUFJLE9BQU8sR0FBUyxTQUFVLE9BQU8sRUFBRyxLQUFLLEtBQUssVUFBVSxDQUFLLENBQUMsRUFDbEUsRUFBRyxLQUFLLENBQUssR0FFZixHQUFJLE9BQU8sR0FBTSxNQUFRLFdBQ3ZCLE9BQU8sS0FBSyxFQUFLLENBQUksRUFDdkIsSUFBTSxFQUFPLEVBQUssS0FBSyxFQUN2QixHQUFJLGFBQWdCLFFBQ2xCLE9BQVEsU0FBWSxDQUNsQixJQUFNLEVBQVEsTUFBTSxFQUNwQixHQUFJLEdBQWtCLE1BQU0sQ0FBSyxJQUFNLEdBQ3JDLE9BQU8sRUFBRyxLQUNSLElBQUksRUFBZ0IsVUFBVyxFQUFrQixDQUFLLEVBQUUsT0FDMUQsRUFDRixHQUFJLEVBQUssRUFBTSxLQUFLLEVBQUcsQ0FBQyxFQUFNLEtBQzVCLGNBQWlCLEtBQVMsRUFBTSxFQUFLLENBQUssSUFDM0MsRUFDTCxHQUFJLEVBQUssRUFBSyxLQUFLLEVBQUcsQ0FBQyxFQUFLLEtBQU0sUUFBVyxLQUFTLEVBQU0sRUFBSyxDQUFLLEdBRXhFLE9BQU8sR0MzR1QsSUFBTSxHQUFnQixpQkFBa0IsR0FBb0IsQ0FBQyxJQUFTLENBQ3BFLElBQU0sRUFBUSxHQUFjLEtBQUssQ0FBSSxFQUNyQyxHQUFJLENBQUMsRUFBTyxNQUFPLENBQUMsQ0FBSSxFQUN4QixJQUFNLEVBQVMsQ0FBQyxFQUFHLEVBQU8sRUFBSyxNQUFNLEVBQUcsRUFBTSxLQUFLLEVBQUcsRUFBUSxFQUFNLEdBQUcsTUFBTSxFQUFHLEVBQUUsRUFBRyxFQUFPLEVBQUssTUFBTSxFQUFNLE1BQVEsRUFBTSxHQUFHLE1BQU0sRUFDcEksRUFBTyxLQUFLLEVBQUssTUFBTSxFQUFHLEVBQUUsQ0FBQyxFQUFHLEVBQU8sS0FBSyxFQUFPLENBQUssRUFDeEQsUUFBVyxLQUFZLEdBQWtCLENBQUksRUFDM0MsSUFBYSxFQUFTLFdBQVcsSUFBSSxHQUFLLEVBQU8sS0FBSyxFQUFLLE1BQU0sRUFBRyxFQUFFLEVBQUksQ0FBUSxFQUFHLEVBQU8sS0FBSyxFQUFPLEVBQVEsQ0FBUSxHQUMxSCxPQUFPLEdBQ04sR0FBZSxDQUFDLElBQVcsT0FBTyxHQUFVLFVBQVksSUFBVyxPQUFTLEVBQU8sU0FBUyxJQUFNLHVCQUF5QixPQUFPLEVBQU8sT0FBUyxVQUFXLEdBQW1CLENBQ2pMLElBQUssR0FDTCxLQUFNLEdBQ04sUUFBUyxHQUNULE9BQVEsR0FDUixNQUFPLEdBQ1AsS0FBTSxHQUNOLElBQUssRUFDUCxFQUFHLEdBQVksQ0FBQyxJQUFRLENBQ3RCLEdBQUksQ0FBQyxFQUFJLE9BQU8sS0FBTyxDQUFDLEVBQUksT0FBTyxhQUFjLE9BQ2pELElBQU0sRUFBUyxDQUFDLEVBQUcsRUFBTSxDQUFDLEVBQU8sSUFBWSxDQUMzQyxJQUFNLEVBQU8sVUFBVSxFQUFNLElBQUksRUFDakMsRUFBTyxHQUFRLEVBQU8sR0FBTSxFQUFNLFVBQVksRUFBTyxHQUFNLEVBQU0sUUFBVSxHQUFXLEVBQU8sR0FBUSxFQUNsRyxFQUFNLFFBQVMsQ0FDbEIsR0FDQyxFQUFPLEVBQUksVUFDZCxRQUFXLEtBQVMsRUFBSSxPQUFPLFFBQVMsQ0FDdEMsR0FBSSxPQUFPLEVBQU0sU0FBVyxXQUFZLFNBQ3hDLElBQU0sRUFBUyxFQUFNLE9BQ3JCLEdBQUksSUFBVyxPQUFTLE1BQU0sRUFBTSxTQUFVLEdBQVEsSUFBVyxNQUFRLEVBQU0sS0FBSyxXQUFXLEVBQU0sS0FBSyxPQUFTLENBQUMsSUFBTSxJQUFNLEVBQUUsS0FBVSxJQUMxSSxTQUNGLEdBQUksSUFBVyxNQUFPLENBQ3BCLE1BQU0sRUFBTSxTQUFVLElBQVMsRUFBTyxFQUFNLE1BQVEsRUFBTSxPQUFPLFFBQVEsTUFBUSxFQUFNLE1BQU0sT0FBUyxFQUFJLE1BQU0sT0FDaEgsRUFBSSxTQUFTLHFCQUF1QixHQUFzQixFQUFLLENBQUssRUFBSSxFQUFNLE1BQU0sT0FBUyxFQUFNLFFBQVUsRUFBTSxTQUNuSCxTQUVGLElBQUksRUFDRSxFQUFVLEVBQUksT0FBTyxXQUFhLEdBQXNCLEVBQUssQ0FBSyxFQUFJLENBQUMsSUFBWSxFQUFXLEVBQVMsQ0FBTyxHQUFLLEVBQVcsR0FBc0IsRUFBSyxDQUFLLEdBQ2xLLENBQ0YsRUFDQSxRQUFXLEtBQVEsR0FBa0IsRUFBTSxJQUFJLEVBQzdDLEVBQ0UsQ0FDRSxTQUNBLE1BQ0YsRUFDQSxDQUNGLEVBRUosT0FBTyxHQUNOLEdBQWMsQ0FBQyxFQUFJLElBQU8sQ0FDM0IsR0FBSSxDQUFDLEVBQUksT0FBTyxFQUNoQixRQUFXLEtBQU8sT0FBTyxLQUFLLENBQUUsRUFDOUIsR0FBSSxFQUFHLEtBQVMsRUFBRyxHQUFNLENBQ3ZCLEdBQUksQ0FBQyxFQUFHLEdBQU0sQ0FDWixFQUFHLEdBQU8sRUFBRyxHQUNiLFNBRUYsR0FBSSxFQUFHLElBQVEsRUFBRyxHQUFNLENBQ3RCLEdBQUksT0FBTyxFQUFHLElBQVEsWUFBYyxFQUFHLGFBQWdCLFNBQVUsQ0FDL0QsRUFBRyxHQUFPLEVBQUcsR0FDYixTQUVGLEVBQUcsR0FBTyxJQUNMLEVBQUcsTUFDSCxFQUFHLEVBQ1IsR0FHTixPQUFPLEdBQ04sR0FBYSxJQUNYLEdBQ0gsS0FBTSxNQUNOLFFBQVMsQ0FDUCxlQUNBLG9CQUNBLHNCQUNBLHVCQUNBLDRCQUNGLEVBQ0EsZUFBZ0IsSUFDWCxHQUFtQixlQUN0QixRQUFTLEdBQXFCO0FBQUEsRUFDOUI7QUFBQTtBQUFBLENBR0YsRUFDQSxNQUFNLENBQUMsRUFBSyxDQUNWLE1BQU8sQ0FBQyxFQUFTLElBQWEsQ0FDNUIsR0FBSSxPQUFPLElBQU0sSUFDZixNQUFVLE1BQ1IsK0pBQ0YsRUFDRixHQUFJLEVBQUksUUFBUSxFQUFHLE9BQU8sR0FBVyxTQUFVLENBQzdDLEdBQUksQ0FBQyxHQUFnQixDQUFPLEVBQzFCLE1BQVUsTUFBTSw4QkFBOEIsRUFDaEQsRUFBVSxTQUFTLENBQU8sRUFFNUIsSUFBTSxFQUFvQixDQUFDLEdBQVksWUFBWSxJQUFPLENBQUMsSUFBTSxDQUMvRCxJQUFNLEVBQWUsQ0FBQyxFQUFHLEVBQU0sQ0FBQyxFQUNoQyxRQUFVLEVBQU0sS0FBVSxPQUFPLFFBQVEsQ0FBUSxFQUMvQyxHQUFJLEVBQU8sVUFBVSxDQUFJLEVBQUcsR0FBK0IsQ0FDekQsR0FBSSxDQUFDLEVBQU8sU0FDWixRQUFZLEVBQVEsS0FBVSxPQUFPLFFBQVEsQ0FBSyxFQUNoRCxHQUFJLEVBQUUsQ0FBQyxHQUFTLEVBQUUsS0FBVSxLQUFvQixDQUM5QyxHQUFJLGFBQWlCLFFBQVMsQ0FDNUIsSUFBYyxFQUFhLEtBQVUsRUFBYSxHQUFRLENBQUMsR0FBSSxFQUFJLEtBQ2pFLEVBQU0sS0FBSyxDQUFDLElBQVksQ0FDdEIsYUFBbUIsV0FBYSxFQUFhLEdBQU0sR0FBVSxHQUFVLEdBQWEsQ0FBTyxJQUFNLEVBQWEsR0FBTSxHQUFVLEdBQy9ILENBQ0gsR0FDQSxTQUVGLEVBQUUsYUFBaUIsV0FBYSxDQUFDLEdBQWEsQ0FBSyxJQUFNLEVBQWEsS0FBVSxFQUFhLEdBQVEsQ0FBQyxHQUFJLEVBQWEsR0FBTSxHQUFVLElBRXRJLEtBQ0wsR0FBSSxDQUFDLEVBQU8sU0FDWixHQUFJLGFBQWlCLFFBQVMsQ0FDNUIsSUFBYyxFQUFhLEtBQVUsRUFBYSxHQUFRLENBQUMsR0FBSSxFQUFJLEtBQ2pFLEVBQU0sS0FBSyxDQUFDLElBQVksQ0FDdEIsYUFBbUIsV0FBYSxFQUFhLEdBQVEsR0FDdEQsQ0FDSCxHQUNBLFNBRUYsR0FBSSxFQUFFLGFBQWlCLFVBQVcsU0FDbEMsRUFBYSxHQUFRLEVBRXpCLE9BQU8sRUFBWSxRQUFRLElBQUksQ0FBRyxFQUFFLEtBQUssSUFBTSxDQUFZLEVBQUksR0FDOUQsRUFBUSxPQUFPLEdBQVcsU0FBVyxDQUN0QyxZQUFhLENBQUMsR0FDZCxVQUFXLEdBQ1gsWUFBYSxNQUNWLEVBQUksT0FBTyxPQUFTLENBQUMsS0FDckIsR0FBVyxDQUFDLEVBRWYsT0FBUSxHQUNOLEdBQ0UsRUFBa0IsRUFBSSxPQUFPLFFBQVEsRUFDckMsR0FBVSxDQUFHLENBQ2YsRUFFQSxFQUFJLE9BQU8sT0FBTyxNQUNwQixFQUNBLFVBQVcsSUFDTixFQUFJLE9BQU8sV0FBYSxDQUFDLEtBQ3pCLElBQWEsQ0FBQyxLQUVkLEVBQVEsV0FBYSxDQUFDLENBQzNCLEVBQ0EsTUFBTyxFQUFJLEtBQ2IsRUFBSSxDQUNGLFlBQWEsQ0FBQyxHQUNkLFVBQVcsR0FDWCxZQUFhLE1BQ1YsRUFBSSxPQUFPLE9BQVMsQ0FBQyxFQUV4QixPQUFRLEdBQ04sR0FDRSxFQUFrQixFQUFJLE9BQU8sUUFBUSxFQUNyQyxHQUFVLENBQUcsQ0FDZixFQUVBLEVBQUksT0FBTyxPQUFPLE1BQ3BCLEVBQ0EsVUFBVyxJQUNOLEVBQUksT0FBTyxXQUFhLENBQUMsS0FDekIsSUFBYSxDQUFDLENBQ25CLEVBQ0EsS0FBTSxFQUNOLE1BQU8sRUFBSSxLQUNiLEVBQ0EsR0FBSSxFQUFJLE9BQVMsSUFBSSxNQUFNLENBQUssRUFBRyxFQUFJLE1BQU0sTUFDM0MsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFJLE1BQU0sTUFBTSxPQUFRLElBQzFDLEVBQUksTUFBTSxNQUFNLEdBQUcsR0FBRyxDQUFHLEVBQzdCLEdBQVksRUFBUyxFQUFJLE1BQU0sRUFBRyxRQUFRLEdBQUcsYUFBYyxJQUFNLENBQy9ELEdBQUksRUFBSSxTQUFXLEVBQUksT0FBTyxPQUFPLEVBQUcsRUFBSSxPQUFTLEtBQU0sRUFBSSxNQUFNLE1BQ25FLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBSSxNQUFNLEtBQUssT0FBUSxJQUN6QyxFQUFJLE1BQU0sS0FBSyxHQUFHLEdBQUcsQ0FBRyxFQUM3QixFQUFHLEVBQUksZ0JBQWdCLEtBQUssU0FBWSxDQUN2QyxFQUFJLFFBQVEsT0FBTyxJQUNkLEVBQ0gsTUFBTyxFQUFJLE1BRVgsT0FBUSxHQUNOLEdBQ0UsTUFBTSxFQUFrQixFQUFJLE9BQU8sU0FBVSxDQUMzQyxVQUFXLEVBQ2IsQ0FBQyxFQUNELEdBQVUsQ0FBRyxDQUNmLEVBRUEsRUFBSSxPQUFPLE9BQU8sTUFDcEIsQ0FDRixDQUFDLEVBQUcsS0FBSyxHQUFHLEVBQUUsRUFDZixTQUdDLEtBQUksQ0FBQyxFQUFLLEVBQXdCLENBQ3RDLEdBQUksRUFBSSxRQUNOLEdBQUksRUFBSSxPQUFPLEtBQUssQ0FBc0IsRUFBRyxFQUFJLE9BQVMsS0FBTSxFQUFJLE1BQU0sTUFBTSxPQUM5RSxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUksTUFBTSxLQUFLLE9BQVEsSUFDekMsRUFBSSxNQUFNLEtBQUssR0FBRyxHQUFHLENBQUcsRUFFNUIsYUFBUSxJQUNOLCtEQUNJLE1BQU0sRUFBRSxLQUNkLEdBRUosRUFBRSxDQUFDLEVBQUssRUFBTSxFQUFTLENBQ3JCLElBQVEsUUFBTyxPQUFNLGNBQWEsR0FBUyxFQUFTLEVBQWtCLEdBQW1CLEVBQU0sQ0FFN0YsUUFBUyxFQUFJLFlBQVksUUFFekIsT0FBUSxFQUFJLFlBQVksS0FDeEIsVUFBVyxFQUFJLE9BQU8sU0FDeEIsQ0FBQyxFQUFHLEVBQW1CLEdBQW1CLEVBQVUsQ0FFbEQsUUFBUyxFQUFJLFlBQVksUUFFekIsT0FBUSxFQUFJLFlBQVksS0FDeEIsVUFBVyxFQUFJLE9BQU8sU0FDeEIsQ0FBQyxFQUNELEVBQUksTUFDRixLQUNBLEVBQ0EsTUFBTyxJQUFZLENBQ2pCLElBQU0sRUFBUyxFQUFRLFFBQVUsRUFBSSxRQUFVLE1BQUssS0FBTSxFQUFPLEtBQUksVUFBUyxRQUFPLFVBQVcsRUFDaEcsR0FBSSxFQUFRLFVBQVksRUFBa0IsRUFBUSxRQUNoRCxHQUFJLE9BQU8sRUFBUSxTQUFXLFdBQVksQ0FDeEMsSUFBTSxFQUFPLEVBQVEsUUFBUSxDQUFPLEVBQ3BDLGFBQWdCLFNBQVcsTUFBTSxFQUM1QixPQUFRLFNBQVcsT0FBTyxPQUMvQixFQUFJLFFBQ0osRUFBUSxPQUNWLEVBQ0YsR0FBSSxFQUFJLFFBQVUsR0FBVyxFQUFJLE1BQU0sRUFBRyxDQUN4QyxJQUFNLEVBQVMsR0FBZ0IsRUFBSSxNQUFNLEVBQ3pDLElBQVcsRUFBSSxRQUFRLGNBQWdCLEdBRXpDLEVBQUksUUFBUSxlQUFpQixNQUFNLFFBQVEsRUFBSSxRQUFRLGFBQWEsSUFBTSxFQUFJLFFBQVUsR0FDdEYsSUFBSSxRQUFRLEVBQUksT0FBTyxFQUN2QixFQUFJLFFBQVEsYUFDZCxHQUNBLElBQU0sRUFBaUIsR0FBdUIsQ0FBZ0IsRUFBRyxFQUFlLEdBQXNCLENBQUssRUFDdkcsRUFDSixHQUFJLE9BQU8sRUFBUSxjQUFnQixXQUFZLENBQzdDLElBQU0sRUFBUyxFQUFRLGFBQWEsQ0FBTyxFQUMzQyxhQUFrQixTQUFXLE1BQU0sRUFFckMsSUFBTSxFQUFnQixDQUNwQixHQUFHLEVBQVEsTUFBUSxNQUFNLFFBQVEsRUFBUSxLQUFLLEVBQUksRUFBUSxNQUFRLENBQUMsRUFBUSxLQUFLLEVBQUksQ0FBQyxFQUNyRixJQUFJLEVBQUksTUFBTSxPQUFTLENBQUMsR0FBRyxJQUN6QixDQUFDLElBQU0sT0FBTyxHQUFLLFdBQWEsRUFBSSxFQUFFLEVBQ3hDLENBQ0YsRUFBRSxPQUFPLENBQUMsSUFBTSxDQUFDLEVBQUcsRUFBeUIsRUFBYyxPQUFTLEVBQUcsRUFBZSxFQUF5QixNQUFPLEVBQUksSUFBVSxDQUNsSSxRQUFXLEtBQWUsRUFBZSxDQUN2QyxJQUFJLEVBQVksRUFDZCxPQUFPLE9BQU8sRUFBUyxDQUFFLE9BQU0sQ0FBQyxDQUNsQyxFQUNBLEdBQUksYUFBcUIsVUFBWSxFQUFZLE1BQU0sR0FBWSxNQUFNLEVBQWUsRUFBSSxDQUFTLEVBQUcsRUFBVyxRQUVuSCxJQUFNLEdBRVYsR0FBSSxDQUFDLEdBQVEsUUFBUSxFQUFRLFFBQVMsQ0FDcEMsUUFBUyxHQUFXLEVBQUksT0FBTyxFQUFJLEVBQUksUUFBZSxPQUN0RCxLQUFNLElBQ0QsS0FDQyxHQUFFLEVBQUcsQ0FDUCxPQUFPLElBQVEsRUFBTSxHQUFTLElBRWhDLFVBQVcsRUFDWCxJQUFJLENBQUMsRUFBSSxFQUFNLENBQ2IsRUFBUSxPQUFPLEVBQUksQ0FBSSxHQUV6QixJQUFJLENBQUMsRUFBSSxFQUFNLENBQ2IsRUFBUSxPQUFPLEVBQUksQ0FBSSxHQUV6QixLQUFNLE1BQU8sSUFBTyxDQUNsQixHQUFJLENBQ0YsTUFBTSxFQUNKLEVBQ0EsRUFBUSxPQUNOLElBQUksR0FBUyxFQUFJLENBQU8sQ0FDMUIsQ0FDRixFQUNBLE1BQU8sRUFBTyxDQUNkLEVBQWEsRUFBSSxDQUFLLElBRzFCLFFBQVMsTUFBTyxFQUFJLElBQWEsQ0FDL0IsSUFBTSxFQUFVLE1BQU0sRUFBYSxFQUFJLENBQVEsRUFDL0MsR0FBSSxHQUFpQixNQUFNLENBQU8sSUFBTSxHQUFJLENBQzFDLElBQU0sRUFBa0IsSUFBSSxFQUMxQixVQUNBLEVBQ0EsQ0FDRixFQUNBLE9BQU8sRUFBeUIsRUFBYSxFQUFJLENBQWUsRUFBSSxLQUFLLEVBQUcsS0FDMUUsRUFBZ0IsT0FDbEIsRUFFRixHQUFJLENBQ0YsTUFBTSxFQUNKLEVBQ0EsRUFBUSxVQUNOLElBQUksR0FDRixFQUNBLEVBQ0EsQ0FDRixFQUNBLENBQ0YsQ0FDRixFQUNBLE1BQU8sRUFBTyxDQUNkLEVBQWEsRUFBSSxDQUFLLElBRzFCLE1BQU8sTUFBTyxJQUFPLENBQ25CLEdBQUksQ0FDRixNQUFNLEVBQ0osRUFDQSxFQUFRLFFBQ04sSUFBSSxHQUFTLEVBQUksQ0FBTyxDQUMxQixDQUNGLEVBQ0EsTUFBTyxFQUFPLENBQ2QsRUFBYSxFQUFJLENBQUssSUFHMUIsTUFBTyxNQUFPLEVBQUksRUFBTSxJQUFXLENBQ2pDLEdBQUksQ0FDRixNQUFNLEVBQ0osRUFDQSxFQUFRLFFBQ04sSUFBSSxHQUFTLEVBQUksQ0FBTyxFQUN4QixFQUNBLENBQ0YsQ0FDRixFQUNBLE1BQU8sRUFBTyxDQUNkLEVBQWEsRUFBSSxDQUFLLEdBRzVCLENBQ0YsQ0FBQyxFQUNDLE9BQU8sRUFBSSxPQUFTLElBQUssbUNBRTdCLElBQ0ssRUFDSCxVQUFXLENBQ2IsQ0FDRixFQUVKLEVDelhBLElBQU0sR0FBTSxHQUFRLElBQUksSUFBTSxPQUFPLFFBQVUsS0FBTyxTQUFTLElBQU0sUUFBUSxJQUFNLENBQUMsRUNTcEYsSUFBTSxHQUFzQixDQUFDLEVBQWEsSUFBUSxDQUNoRCxJQUFJLEVBQVMsRUFBWSxPQUN6QixHQUFJLElBQVcsRUFBTyxRQUFRLEVBQU8sUUFBVSxFQUFTLEVBQU8sTUFBTSxFQUFPLE9BQVEsQ0FBQyxDQUFDLEdBQVEsWUFDNUYsUUFBWSxFQUFLLEtBQWMsT0FBTyxRQUFRLEVBQU8sVUFBVSxFQUM3RCxFQUFJLEtBQVMsRUFBVSxTQUMxQixHQUF1QixDQUFDLElBQVEsQ0FDakMsSUFBUSxjQUFhLG9CQUFxQixFQUFJLFlBQVksUUFBUyxFQUFnQixFQUFJLFdBQ3ZGLE1BQU8sT0FBTyxJQUFZLENBQ3hCLElBQU0sRUFBTSxFQUFRLElBQUssRUFBSSxFQUFJLFFBQVEsSUFBSyxFQUFFLEVBQUcsRUFBSyxFQUFJLFFBQVEsSUFBSyxFQUFJLENBQUMsRUFBRyxFQUFPLElBQU8sR0FBSyxFQUFJLFVBQVUsQ0FBQyxFQUFJLEVBQUksVUFBVSxFQUFHLENBQUUsRUFBRyxFQUFNLENBQ2pKLE9BQVEsQ0FBQyxFQUNULE9BQVEsSUFDUixRQUFTLEVBQWdCLElBQUssQ0FBYyxFQUFJLENBQUMsQ0FDbkQsRUFBRyxFQUFVLE9BQU8sT0FDbEIsQ0FBQyxFQUVELEVBQUksVUFBVSxVQUNkLENBQ0UsTUFFQSxNQUFPLEVBQUksVUFBVSxNQUNyQixVQUNBLE9BQ0EsS0FDQSxNQUFPLEdBQ1AsVUFDQSxXQUNGLENBQ0YsRUFDQSxHQUFJLENBQ0YsR0FBSSxFQUFJLE1BQU0sUUFDWixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUksTUFBTSxRQUFRLE9BQVEsSUFBSyxDQUNqRCxJQUFNLEVBQVksRUFBSSxNQUFNLFFBQVEsR0FBRyxHQUNuQyxFQUFZLEVBQVUsQ0FBTyxFQUNqQyxHQUFJLGFBQXFCLFVBQVksRUFBWSxNQUFNLEdBQVksRUFBWSxFQUFpQixFQUFXLENBQUcsRUFBRyxFQUFXLE9BQU8sRUFBUSxTQUFXLEVBRTFKLElBQU0sRUFBWSxFQUFRLFNBQVcsT0FBUyxFQUFRLFFBQVEsSUFBSSxTQUFTLEdBQUcsWUFBWSxJQUFNLFlBQWMsS0FBTyxFQUFRLE9BQVEsRUFBVSxFQUFJLE9BQU8sUUFBUSxLQUFLLEVBQVEsT0FBUSxDQUFJLEdBQUssRUFBSSxPQUFPLFFBQVEsS0FBSyxFQUFXLENBQUksR0FBSyxFQUFJLE9BQU8sUUFBUSxLQUFLLE1BQU8sQ0FBSSxFQUMvUSxHQUFJLENBQUMsRUFDSCxNQUFNLEVBQVEsTUFBUSxJQUFPLEdBQUssQ0FBQyxFQUFJLEdBQVcsRUFBSSxVQUFVLEVBQUssQ0FBQyxDQUFDLEVBQUcsSUFBSSxHQUNoRixJQUFRLFNBQVEsUUFBTyxZQUFXLFVBQVMsU0FBVSxFQUFRLE1BQ3pELEVBQ0osR0FBSSxFQUFRLFNBQVcsT0FBUyxFQUFRLFNBQVcsT0FDakQsR0FBSSxFQUNGLE9BQVEsT0FDRCxtQkFDSCxFQUFPLE1BQU0sRUFBUSxLQUFLLEVBQzFCLFVBQ0csYUFDSCxFQUFPLE1BQU0sRUFBUSxLQUFLLEVBQzFCLFVBQ0csb0NBQ0gsRUFBTyxHQUFXLE1BQU0sRUFBUSxLQUFLLENBQUMsRUFDdEMsVUFDRywyQkFDSCxFQUFPLE1BQU0sRUFBUSxZQUFZLEVBQ2pDLFVBQ0csc0JBQ0gsRUFBTyxDQUFDLEVBQ1IsSUFBTSxFQUFPLE1BQU0sRUFBUSxTQUFTLEVBQ3BDLFFBQVcsS0FBTyxFQUFLLEtBQUssRUFBRyxDQUM3QixHQUFJLEVBQUssR0FBTSxTQUNmLElBQU0sRUFBUSxFQUFLLE9BQU8sQ0FBRyxFQUM3QixFQUFNLFNBQVcsRUFBSSxFQUFLLEdBQU8sRUFBTSxHQUFLLEVBQUssR0FBTyxFQUUxRCxNQUVELEtBQ0gsSUFBSSxFQUNKLEdBQUksRUFBUSxPQUFTLEVBQWMsRUFBUSxRQUFRLElBQUksY0FBYyxHQUFJLEVBQWEsQ0FDcEYsSUFBTSxFQUFRLEVBQVksUUFBUSxHQUFHLEVBQ3JDLEdBQUksSUFBVSxLQUFPLEVBQWMsRUFBWSxNQUFNLEVBQUcsQ0FBSyxHQUFJLEVBQVEsWUFBYyxFQUFhLEVBQU0sTUFDeEcsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFNLE1BQU0sT0FBUSxJQUFLLENBQzNDLElBQU0sRUFBTyxFQUFNLE1BQU0sR0FBRyxHQUM1QixHQUFJLE9BQU8sR0FBUSxTQUNqQixPQUFRLE9BQ0QsV0FDQSxtQkFDSCxFQUFPLE1BQU0sRUFBUSxLQUFLLEVBQzFCLFVBQ0csV0FDQSxhQUNILEVBQU8sTUFBTSxFQUFRLEtBQUssRUFDMUIsVUFDRyxpQkFDQSxvQ0FDSCxFQUFPLEdBQ0wsTUFBTSxFQUFRLEtBQUssQ0FDckIsRUFDQSxVQUNHLGtCQUNBLDJCQUNILEVBQU8sTUFBTSxFQUFRLFlBQVksRUFDakMsVUFDRyxlQUNBLHNCQUNILEVBQU8sQ0FBQyxFQUNSLElBQU0sRUFBTyxNQUFNLEVBQVEsU0FBUyxFQUNwQyxRQUFXLE1BQU8sRUFBSyxLQUFLLEVBQUcsQ0FDN0IsR0FBSSxFQUFLLElBQU0sU0FDZixJQUFNLEVBQVEsRUFBSyxPQUFPLEVBQUcsRUFDN0IsRUFBTSxTQUFXLEVBQUksRUFBSyxJQUFPLEVBQU0sR0FBSyxFQUFLLElBQU8sRUFFMUQsY0FFQSxJQUFNLEdBQVMsRUFBSSxXQUFXLEdBQzlCLEdBQUksR0FBUSxDQUNWLElBQUksR0FBTyxHQUNULEVBQ0EsQ0FDRixFQUNBLEdBQUksY0FBZ0IsVUFBWSxHQUFPLE1BQU0sSUFBTyxHQUFNLENBQ3hELEVBQU8sR0FDUCxPQUdKLE1BRUQsS0FDSCxJQUFJLEVBQU8sRUFBSyxFQUFTLENBQVcsRUFDcEMsR0FBSSxhQUFnQixVQUFZLEVBQU8sTUFBTSxHQUFPLEVBQU0sQ0FDeEQsRUFBTyxFQUNQLFFBSVIsR0FBSSxPQUFPLEVBQVEsWUFBYSxJQUFjLE9BQzVDLE9BQVEsT0FDRCxtQkFDSCxFQUFPLE1BQU0sRUFBUSxLQUFLLEVBQzFCLFVBQ0csYUFDSCxFQUFPLE1BQU0sRUFBUSxLQUFLLEVBQzFCLFVBQ0csb0NBQ0gsRUFBTyxHQUFXLE1BQU0sRUFBUSxLQUFLLENBQUMsRUFDdEMsVUFDRywyQkFDSCxFQUFPLE1BQU0sRUFBUSxZQUFZLEVBQ2pDLFVBQ0csc0JBQ0gsRUFBTyxDQUFDLEVBQ1IsSUFBTSxFQUFPLE1BQU0sRUFBUSxTQUFTLEVBQ3BDLFFBQVcsS0FBTyxFQUFLLEtBQUssRUFBRyxDQUM3QixHQUFJLEVBQUssR0FBTSxTQUNmLElBQU0sRUFBUSxFQUFLLE9BQU8sQ0FBRyxFQUM3QixFQUFNLFNBQVcsRUFBSSxFQUFLLEdBQU8sRUFBTSxHQUFLLEVBQUssR0FBTyxFQUUxRCxRQUlaLEVBQVEsTUFBUSxFQUFPLEVBQVEsS0FBTyxFQUFNLEVBQVEsT0FBUyxHQUFTLFFBQWUsT0FBRyxFQUFRLE1BQVEsSUFBTyxHQUFLLENBQUMsRUFBSSxHQUFXLEVBQUksVUFBVSxFQUFLLENBQUMsQ0FBQyxFQUFHLEVBQVEsUUFBVSxDQUFDLEVBQy9LLFFBQVksRUFBSyxLQUFVLEVBQVEsUUFBUSxRQUFRLEVBQ2pELEVBQVEsUUFBUSxHQUFPLEVBQ3pCLElBQU0sRUFBYSxDQUNqQixPQUFRLEVBQUksT0FBTyxRQUFRLFFBQzNCLEdBQVcsUUFBUSxPQUFPLE9BQzFCLFFBQVMsRUFBSSxPQUFPLFFBQVEsU0FDNUIsR0FBVyxRQUFRLE9BQU8sUUFDMUIsU0FBVSxFQUFJLE9BQU8sUUFBUSxVQUM3QixHQUFXLFFBQVEsT0FBTyxTQUMxQixPQUFRLEVBQUksT0FBTyxRQUFRLFFBQzNCLEdBQVcsUUFBUSxPQUFPLE9BRTFCLEtBQU0sRUFBSSxPQUFPLFFBQVEsTUFBUSxHQUFXLFFBQVEsT0FBTyxLQUMzRCxTQUFVLEVBQUksT0FBTyxRQUFRLFVBQzdCLEdBQVcsUUFBUSxPQUFPLFNBQzFCLFlBQWEsRUFBSSxPQUFPLFFBQVEsYUFDaEMsR0FBVyxRQUFRLE9BQU8sWUFDMUIsU0FBVSxFQUFJLE9BQU8sUUFBUSxVQUM3QixHQUFXLFFBQVEsT0FBTyxTQUMxQixPQUFRLEVBQUksT0FBTyxRQUFRLFFBQzNCLEdBQVcsUUFBUSxPQUFPLE9BQzFCLFFBQVMsRUFBSSxPQUFPLFFBQVEsU0FDNUIsR0FBVyxRQUFRLE9BQU8sUUFFMUIsS0FBTSxFQUFJLE9BQU8sUUFBUSxNQUFRLEdBQVcsUUFBUSxPQUFPLElBQzdELEVBQUcsRUFBb0IsRUFBUSxRQUFRLElBQUksUUFBUSxFQUNuRCxFQUFRLE9BQVMsTUFBTSxHQUNyQixFQUFRLElBQ1IsRUFDQSxDQUNGLEVBQ0EsSUFBTSxFQUFrQixHQUFXLGdCQUFnQixFQUNuRCxHQUFtQixHQUFvQixFQUFpQixFQUFRLE9BQU8sRUFDdkUsSUFBTSxFQUFrQixHQUFXLGVBQWUsRUFDbEQsR0FBbUIsR0FBb0IsRUFBaUIsRUFBUSxNQUFNLEVBQ3RFLElBQU0sRUFBaUIsR0FBVyxjQUFjLEVBQ2hELEdBQUksR0FBa0IsR0FBb0IsRUFBZ0IsRUFBUSxLQUFLLEVBQUcsRUFBTSxVQUM5RSxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sVUFBVSxPQUFRLElBQUssQ0FDL0MsSUFBTSxFQUFPLEVBQU0sVUFBVSxHQUN6QixFQUFZLEVBQUssR0FBRyxDQUFPLEVBQy9CLEdBQUksYUFBcUIsVUFBWSxFQUFZLE1BQU0sR0FBWSxhQUFxQixHQUE0QixDQUNsSCxJQUFNLEVBQVMsRUFBaUIsRUFBVyxFQUFRLEdBQUcsRUFDdEQsR0FBSSxFQUNGLE9BQU8sRUFBUSxTQUFXLEVBRTlCLEVBQUssVUFBWSxVQUFZLE9BQU8sT0FBTyxFQUFTLENBQVMsRUFFakUsR0FBSSxFQUFXLENBQ2IsR0FBSSxFQUFpQixDQUNuQixJQUFNLEVBQVUsZ0JBQWdCLEVBQVEsT0FBTyxFQUMvQyxRQUFZLEVBQUssS0FBVSxFQUFRLFFBQ2pDLEVBQVEsR0FBTyxFQUNqQixHQUFJLEVBQVUsUUFBUSxNQUFNLENBQU8sSUFBTSxHQUN2QyxNQUFNLElBQUksRUFDUixTQUNBLEVBQVUsUUFDVixDQUNGLEVBQ0csT0FBVSxTQUFTLFNBQVcsRUFBUSxRQUFVLEVBQVUsUUFBUSxPQUFPLEVBQVEsT0FBTyxHQUMvRixHQUFJLEdBQWlCLE1BQU0sRUFBUSxNQUFNLElBQU0sR0FDN0MsTUFBTSxJQUFJLEVBQ1IsU0FDQSxFQUFVLE9BQ1YsRUFBUSxNQUNWLEVBQ0YsR0FBSSxFQUFVLFFBQVEsU0FBVyxFQUFRLE9BQVMsRUFBVSxPQUFPLE9BQU8sRUFBUSxNQUFNLEdBQUksRUFBVSxPQUFPLE9BQVEsQ0FDbkgsSUFBSSxFQUFTLEVBQVUsTUFBTSxPQUM3QixFQUFPLFFBQVEsRUFBTyxRQUFVLEVBQVMsRUFBTyxNQUFNLEVBQU8sT0FDN0QsSUFBTSxFQUFhLEVBQU8sV0FDMUIsUUFBVyxLQUFZLE9BQU8sS0FBSyxDQUFVLEVBQUcsQ0FDOUMsSUFBTSxFQUFRLEVBQVcsSUFDeEIsRUFBTSxPQUFTLFNBQVcsRUFBTSxPQUFPLE9BQVMsV0FBYSxPQUFPLEVBQVEsTUFBTSxJQUFhLFVBQVksRUFBUSxNQUFNLEtBQWMsRUFBUSxNQUFNLEdBQVksRUFBUSxNQUFNLEdBQVUsTUFBTSxHQUFHLElBR3ZNLEdBQUksR0FBZ0IsTUFBTSxFQUFRLEtBQUssSUFBTSxHQUMzQyxNQUFNLElBQUksRUFDUixRQUNBLEVBQVUsTUFDVixFQUFRLEtBQ1YsRUFDRixHQUFJLEVBQVUsT0FBTyxTQUFXLEVBQVEsTUFBUSxFQUFVLE1BQU0sT0FBTyxFQUFRLEtBQUssR0FBSSxFQUFVLGVBQWUsRUFBRyxDQUNsSCxJQUFJLEVBQWMsQ0FBQyxFQUNuQixRQUFZLEVBQUssS0FBVSxPQUFPLFFBQVEsRUFBUSxNQUFNLEVBQ3RELEVBQVksR0FBTyxFQUFNLE1BQzNCLEdBQUksRUFBVSxPQUFPLE1BQU0sQ0FBVyxJQUFNLEdBQzFDLE1BQU0sSUFBSSxFQUNSLFNBQ0EsRUFBVSxPQUNWLENBQ0YsRUFDRixFQUFVLFFBQVEsU0FBVyxFQUFjLEVBQVUsT0FBTyxPQUMxRCxDQUNGLEdBRUYsR0FBSSxFQUFVLGFBQWEsR0FBRyxNQUFNLENBQUksSUFBTSxHQUM1QyxNQUFNLElBQUksRUFBZ0IsT0FBUSxFQUFVLEtBQU0sQ0FBSSxFQUN4RCxFQUFVLE1BQU0sU0FBVyxFQUFRLEtBQU8sRUFBVSxLQUFLLE9BQU8sQ0FBSSxHQUV0RSxHQUFJLEVBQU0sYUFDUixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU0sYUFBYSxPQUFRLElBQUssQ0FDbEQsSUFBTSxFQUFPLEVBQU0sYUFBYSxHQUM1QixFQUFZLEVBQUssR0FBRyxDQUFPLEVBQy9CLEdBQUksYUFBcUIsVUFBWSxFQUFZLE1BQU0sR0FBWSxhQUFxQixHQUE0QixDQUNsSCxJQUFNLEVBQVMsRUFBaUIsRUFBVyxFQUFRLEdBQUcsRUFDdEQsR0FBSSxFQUNGLE9BQU8sRUFBUSxTQUFXLEVBRTlCLEdBQUksRUFBSyxVQUFZLFVBQVcsQ0FDOUIsT0FBTyxPQUFPLEVBQVMsQ0FBUyxFQUNoQyxTQUVGLEdBQUksSUFBbUIsT0FBRyxDQUN4QixHQUFJLEVBQVEsU0FBVyxFQUFXLEVBQU0sWUFDdEMsUUFBUyxFQUFLLEVBQUcsRUFBSyxFQUFNLFlBQVksT0FBUSxJQUFNLENBQ3BELElBQUksR0FBYyxFQUFNLFlBQVksR0FBSSxHQUN0QyxDQUNGLEVBQ0EsY0FBdUIsVUFBWSxHQUFjLE1BQU0sSUFBYyxLQUFnQixFQUFZLElBRXJHLElBQU0sRUFBUyxFQUFpQixFQUFXLEVBQVEsR0FBRyxFQUN0RCxHQUFJLEVBQVEsT0FBTyxFQUFRLFNBQVcsR0FHNUMsSUFBSSxFQUFXLE9BQU8sR0FBVSxXQUFhLEVBQU8sQ0FBTyxFQUFJLEVBQy9ELEdBQUksYUFBb0IsVUFBWSxFQUFXLE1BQU0sR0FBVyxFQUFNLGFBQWEsT0FBUSxDQUN6RixFQUFRLFNBQVcsRUFDbkIsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFNLFlBQVksT0FBUSxJQUFLLENBQ2pELElBQUksRUFBWSxFQUFNLFlBQVksR0FBRyxHQUNuQyxDQUNGLEVBQ0EsYUFBcUIsVUFBWSxFQUFZLE1BQU0sR0FDbkQsSUFBTSxFQUF3QixhQUFxQixHQUE0QixFQUFVLEVBQXdCLEVBQVUsS0FBTyxFQUFJLE9BQVMsT0FBTyxFQUFJLFFBQVUsU0FBVyxHQUFVLEVBQUksUUFBVSxFQUFJLE9BQVMsSUFDcE4sSUFBMEIsRUFBSSxPQUFTLEVBQVMsRUFBWSxFQUFVLFVBQ3RFLElBQU0sRUFBb0IsR0FBVyxpQkFBaUIsSUFBSSxHQUMxRCxHQUFJLEdBQW1CLE1BQU0sQ0FBUyxJQUFNLEdBQzFDLEdBQUksR0FBbUIsTUFBTyxDQUM1QixJQUFNLEdBQU8sRUFBa0IsTUFBTSxDQUFTLEVBQzlDLEdBQUksR0FBbUIsTUFBTSxFQUFJLElBQU0sR0FDckMsTUFBTSxJQUFJLEVBQ1IsV0FDQSxFQUNBLENBQ0YsRUFDRixFQUFZLEdBRVosV0FBTSxJQUFJLEVBQ1IsV0FDQSxFQUNBLENBQ0YsRUFDSixHQUFtQixTQUFXLEVBQVEsU0FBVyxFQUFZLEVBQWtCLE9BQU8sQ0FBUyxHQUFJLEdBQW1CLFFBQVUsRUFBUSxTQUFXLEVBQVksRUFBa0IsTUFBTSxDQUFTLEdBQ2hNLElBQU0sR0FBUyxFQUFpQixFQUFXLEVBQVEsR0FBRyxFQUN0RCxHQUFJLEtBQWdCLE9BQUcsT0FBTyxFQUFRLFNBQVcsSUFFOUMsS0FDTCxJQUFNLEVBQXdCLGFBQW9CLEdBQTRCLEVBQVUsRUFBd0IsRUFBUyxLQUFPLEVBQUksT0FBUyxPQUFPLEVBQUksUUFBVSxTQUFXLEdBQVUsRUFBSSxRQUFVLEVBQUksT0FBUyxJQUNsTixJQUEwQixFQUFJLE9BQVMsRUFBUyxFQUFXLEVBQVMsVUFDcEUsSUFBTSxFQUFvQixHQUFXLGlCQUFpQixJQUFJLEdBQzFELEdBQUksR0FBbUIsTUFBTSxDQUFRLElBQU0sR0FDekMsR0FBSSxHQUFtQixNQUFPLENBQzVCLElBQU0sRUFBTyxFQUFrQixNQUFNLENBQVEsRUFDN0MsR0FBSSxHQUFtQixNQUFNLENBQUksSUFBTSxHQUNyQyxNQUFNLElBQUksRUFDUixXQUNBLEVBQ0EsQ0FDRixFQUNGLEVBQVcsRUFFWCxXQUFNLElBQUksRUFDUixXQUNBLEVBQ0EsQ0FDRixFQUNKLEdBQW1CLFNBQVcsRUFBVyxFQUFrQixPQUFPLENBQVEsR0FBSSxHQUFtQixRQUFVLEVBQVcsRUFBa0IsTUFBTSxDQUFRLEdBRXhKLEdBQUksRUFBUSxJQUFJLFFBQVUsR0FBWSxLQUFNLENBQzFDLElBQU0sRUFBUyxFQUFXLFFBQVUsT0FBTyxFQUFXLFNBQVcsU0FBVyxFQUFXLFFBQVUsRUFBVyxRQUFRLEdBQVUsT0FDOUgsR0FBSSxFQUFXLE9BQVMsSUFDdEIsR0FBSSxFQUNGLFFBQVksRUFBSyxLQUFXLE9BQU8sUUFDakMsRUFBUSxJQUFJLE1BQ2QsRUFDRSxFQUFRLElBQUksT0FBTyxHQUFLLE1BQVEsTUFBTSxHQUNwQyxFQUFPLE1BQ1AsQ0FDRixFQUNDLEtBQ0wsSUFBTSxFQUFhLEdBQVcsUUFBUSxRQUFRLFdBQzlDLEdBQUksRUFDRixRQUFXLEtBQVEsRUFBVyxLQUM1QixLQUFRLEdBQWMsRUFBUSxJQUFJLE9BQU8sSUFBTyxRQUFVLEVBQVEsSUFBSSxPQUFPLEdBQU0sTUFBUSxNQUFNLEdBQy9GLEVBQVEsSUFBSSxPQUFPLEdBQU0sTUFDekIsQ0FDRixJQUdSLE9BQU8sRUFBWSxFQUFRLFNBQVcsRUFBVSxFQUFRLEdBQUcsRUFDM0QsTUFBTyxFQUFPLENBQ2QsSUFBTSxFQUFnQixhQUFpQixJQUF3QixFQUFNLE1BQVEsRUFBTSxNQUFRLEVBQzNGLE9BQU8sRUFBSSxZQUFZLEVBQVMsQ0FBYSxTQUM3QyxDQUNBLEVBQUksTUFBTSxlQUFpQixhQUFhLFNBQVksQ0FDbEQsUUFBVyxLQUFpQixFQUFJLE1BQU0sY0FDcEMsTUFBTSxFQUFjLEdBQUcsQ0FBTyxFQUNqQyxLQUdKLEdBQTRCLENBQUMsSUFBUSxDQUN0QyxJQUFRLGVBQWdCLEVBQUksWUFBWSxRQUN4QyxNQUFPLE9BQU8sRUFBUyxJQUFVLENBQy9CLElBQU0sRUFBZSxPQUFPLE9BQU8sRUFBUyxDQUFFLFFBQU8sS0FBTSxFQUFNLElBQUssQ0FBQyxFQUN2RSxHQUFJLEVBQWEsSUFBTSxFQUFRLElBQUssRUFBSSxNQUFNLE1BQzVDLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBSSxNQUFNLE1BQU0sT0FBUSxJQUFLLENBQy9DLElBQUksRUFBVyxFQUFJLE1BQU0sTUFBTSxHQUFHLEdBQUcsQ0FBWSxFQUNqRCxHQUFJLGFBQW9CLFVBQVksRUFBVyxNQUFNLEdBQVcsR0FBWSxLQUMxRSxPQUFPLEVBQVEsU0FBVyxFQUN4QixFQUNBLEVBQVEsR0FDVixFQUVOLE9BQU8sSUFBSSxTQUNULE9BQU8sRUFBTSxPQUFTLFNBQVcsRUFBTSxNQUFRLEVBQU0sUUFDckQsQ0FDRSxRQUFTLEVBQVEsSUFBSSxRQUNyQixPQUFRLEVBQU0sUUFBVSxHQUMxQixDQUNGLEloRHBZSixJQUFJLEdBNERKLEdBQUssT0FBTyxRQUNaLElBQU0sR0FBVSxNQUFNLENBQVEsQ0FDNUIsV0FBVyxDQUFDLEVBQVMsQ0FBQyxFQUFHLENBQ3ZCLEtBQUssT0FBUyxLQUNkLEtBQUssYUFBZSxDQUFDLEVBQ3JCLEtBQUssV0FBYSxHQUNsQixLQUFLLGNBQWdCLEtBQ3JCLEtBQUssZ0JBQWtCLEtBQ3ZCLEtBQUssYUFBZSxLQUNwQixLQUFLLGNBQWdCLEtBQ3JCLEtBQUssYUFBZSxLQUNwQixLQUFLLFdBQWEsS0FDbEIsS0FBSyxVQUFZLENBQ2YsVUFBVyxDQUFDLEVBQ1osTUFBTyxDQUFDLEVBQ1IsT0FBUSxDQUFDLEVBQ1QsUUFBUyxDQUFDLENBQ1osRUFDQSxLQUFLLFlBQWMsQ0FDakIsUUFBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDLEVBQ3BCLEtBQU0sQ0FBQyxFQUNQLE1BQU8sQ0FBQyxDQUNWLEVBQ0EsS0FBSyxTQUFXLENBQ2QsTUFBTyxDQUFDLEVBQ1IscUJBQXNCLENBQUMsQ0FDekIsRUFDQSxLQUFLLFVBQVksQ0FDZixPQUFRLEtBQ1IsT0FBUSxLQUNSLE1BQU8sS0FDUCxZQUFZLEVBQUcsQ0FDYixNQUFPLENBQUMsS0FBSyxRQUFVLENBQUMsS0FBSyxRQUFVLENBQUMsS0FBSyxNQUFRLENBQ25ELEtBQVcsT0FDWCxRQUFjLE9BQ2QsT0FBYSxPQUNiLE1BQVksT0FDWixPQUFhLE9BQ2IsU0FBZSxNQUNqQixFQUFJLEdBQ0YsR0FBcUIsS0FBSyxPQUFRLEtBQUssTUFBTSxFQUM3QyxLQUFLLEtBQ1AsRUFFSixFQUNBLEtBQUssb0JBQXNCLENBQ3pCLE9BQVEsS0FDUixPQUFRLEtBQ1IsTUFBTyxJQUNULEVBQ0EsS0FBSyxNQUFRLENBQUMsRUFDZCxLQUFLLE9BQVMsQ0FDWixRQUFjLFVBQ1YsS0FBSSxFQUFHLENBQ1QsT0FBTyxLQUFLLFdBQWEsS0FBSyxTQUFXLElBQUksR0FBVSxDQUNyRCxLQUFNLEdBQ04sUUFBUyxVQUNYLENBQUMsR0FBSSxLQUFLLFVBRVosV0FBaUIsVUFFYixRQUFPLEVBQUcsQ0FDWixPQUFPLEtBQUssY0FBZ0IsS0FBSyxZQUFjLElBQUksR0FBVSxDQUMzRCxRQUFTLFVBQ1gsQ0FBQyxHQUFJLEtBQUssYUFHWixPQUFRLENBQUMsRUFFVCxTQUFVLENBQUMsRUFDWCxRQUFTLENBQUMsQ0FDWixFQUNBLEtBQUssVUFBWSxDQUFDLEVBQ2xCLEtBQUssVUFBWSxDQUNmLEtBQU0sR0FDTixPQUFRLEdBQ1IsUUFBUyxHQUNULE1BQU8sR0FDUCxJQUFLLEdBQ0wsT0FBUSxHQUNSLEtBQU0sR0FDTixNQUFPLEdBQ1AsSUFBSyxFQUNQLEVBQ0EsS0FBSyxXQUFhLENBQUMsRUFDbkIsS0FBSyxPQUFTLE1BQU8sSUFBWSxLQUFLLE1BQU0sQ0FBTyxFQU1uRCxLQUFLLE1BQVEsQ0FBQyxLQUFhLEtBQUssTUFBUSxLQUFLLE9BQU8sSUFBTSxHQUFzQixJQUFJLEVBQUksR0FBcUIsSUFBSSxHQUFHLENBQU8sRUFDM0gsS0FBSyxZQUFjLE1BQU8sRUFBUyxLQUFXLEtBQUssWUFBYyxLQUFLLE9BQU8sSUFBTSxHQUFvQixJQUFJLEVBQUksR0FBMEIsSUFBSSxHQUFHLEVBQVMsQ0FBSyxFQWE5SixLQUFLLE9BQVMsQ0FBQyxFQUFTLEtBQWMsS0FBSyxZQUFZLE9BQU8sSUFBSSxFQUFFLEVBQVMsQ0FBUSxFQUFHLE1BeUJ4RixLQUFLLEtBQU8sTUFBTyxLQUE0QixNQUFNLEtBQUssWUFBWSxPQUFPLEtBQU0sQ0FBc0IsRUFBRyxNQUM1RyxLQUFLLElBQU0sSUFBTSxDQUNmLEtBQUssUUFBVSxLQUFLLEtBQUssR0FFM0IsRUFBTyxPQUFTLEVBQU8sT0FBUyxFQUFPLE9BQU8sS0FBTyxFQUFPLEtBQU8sRUFBTyxPQUFTLENBQ2pGLEtBQU0sRUFBTyxJQUNmLEdBQUksS0FBSyxPQUFTLENBQ2hCLElBQUssR0FBSSxhQUFlLFFBQ3hCLHFCQUFzQixHQUN0QixhQUFjLEdBQ2QsYUFBYyxHQUNkLFVBQVcsTUFDUixFQUNILE9BQVEsRUFBTyxPQUFTLEVBQU8sT0FBTyxXQUFXLENBQUMsSUFBTSxHQUFLLEVBQU8sT0FBUyxJQUFJLEVBQU8sU0FBZ0IsT0FDeEcsT0FBUSxDQUNOLEtBQU0sT0FDSCxHQUFRLE1BQ2IsRUFDQSxhQUFjLEdBQVEsY0FBZ0IsQ0FBQyxFQUN2QyxLQUFNLEdBQVEsT0FBYyxPQUFJLEdBQUssR0FBUSxJQUMvQyxFQUFHLEtBQUssWUFBYyxFQUFPLFVBQVksT0FBTyxJQUFNLElBQU0sR0FBYSxJQUFxQixHQUFRLFdBQWEsR0FBUSxNQUFRLEdBQVEsT0FBYyxVQUFPLEtBQUssVUFBWSxDQUMvSyxNQUFXLE1BQU0sRUFBRSxLQUNyQixNQUVFLE1BQUssRUFBRyxDQUNWLE9BQU8sS0FBSyxVQUFVLFNBRXBCLFVBQVMsRUFBRyxDQUNkLE9BQU8sS0FBSyxVQUFVLGFBRXBCLE9BQU0sRUFBRyxDQUNYLE9BQU8sS0FBSyxPQUFPLFFBRXJCLGVBQWUsRUFBRyxDQUNoQixPQUFPLEtBQUssT0FBTyxRQUVyQixvQkFBb0IsRUFBRyxDQUNyQixPQUFPLEtBQUssWUFFZCxTQUFTLEVBQUcsQ0FDVixPQUFPLEtBQUssT0FFZCxTQUFTLEVBQUcsQ0FDVixPQUFPLFFBRUwsZ0JBQWUsRUFBRyxDQUNwQixPQUFPLEtBQUssbUJBQXFCLEtBQUssaUJBQW1CLElBQUksR0FBYSxRQUFRLE1BQU8sSUFBTSxFQUM5RixHQUFJLEtBQUssaUJBRVosR0FBRyxDQUFDLEVBQU8sRUFBTyxHQUFLLENBQ3JCLEdBQUksR0FBbUIsRUFBTyxDQUM1QixRQUFTLEtBQUssWUFBWSxRQUMxQixRQUFTLEdBQ1QscUJBQXNCLEdBQ3RCLE9BQVEsR0FDUixTQUFVLElBQU0sS0FBSyxPQUFPLFFBQzlCLENBQUMsRUFBRSxNQUFNLENBQUksSUFBTSxHQUFJLENBQ3JCLElBQU0sRUFBUSxJQUFJLEVBQWdCLE1BQU8sRUFBTyxDQUFJLEVBQ3BELE1BQVUsTUFBTSxFQUFNLElBQUksSUFBSSxDQUFDLElBQU0sRUFBRSxPQUFPLEVBQUUsS0FBSztBQUFBLENBQzFELENBQUMsRUFFRSxPQUFPLEtBU1QsSUFBSSxDQUFDLEVBQUksQ0FDUCxPQUFPLEtBQUssU0FBUyxxQkFBcUIsS0FBSyxDQUM3QyxTQUFVLEdBQ1IsS0FBSyxVQUFVLENBQ2IsS0FBTSxLQUFLLE9BQU8sS0FDbEIsS0FBTSxLQUFLLE9BQU8sS0FDbEIsUUFBUyxFQUFHLFNBQVMsQ0FDdkIsQ0FBQyxDQUNILEVBQ0EsSUFDRixDQUFDLEVBQUcsUUFFRixPQUFNLEVBQUcsQ0FDWCxJQUFNLEVBQVMsQ0FBQyxFQUNoQixRQUFXLEtBQVEsT0FBTyxLQUFLLEtBQUssWUFBWSxJQUFJLEVBQ2xELEVBQU8sR0FBUSxHQUNiLEtBQUssWUFBWSxRQUFRLE9BQU8sQ0FBSSxDQUN0QyxFQUNGLE9BQU8sRUFBTyxRQUFVLEtBQUssWUFBWSxRQUFTLEVBRXBELEdBQUcsQ0FBQyxFQUFRLEVBQU0sRUFBUSxFQUFXLEVBQVMsQ0FDNUMsSUFBTSxFQUFhLEdBQVMsWUFBYyxHQUFJLEVBQVksR0FBUyxXQUFhLEdBQ2hGLElBQWMsQ0FBQyxFQUFHLEtBQUssV0FBVyxDQUFTLEVBQzNDLElBQUksRUFBdUIsQ0FBQyxFQUM1QixHQUFJLEVBQVUsc0JBQXdCLEVBQXVCLEVBQXFCLE9BQ2hGLEVBQVUsbUJBQ1osR0FBSSxLQUFLLG9CQUFvQixRQUFVLEVBQXVCLEVBQXFCLE9BQ2pGLEtBQUssb0JBQW9CLEtBQzNCLEdBQUksS0FBSyxvQkFBb0IsU0FBVyxFQUF1QixFQUFxQixPQUNsRixLQUFLLG9CQUFvQixNQUMzQixHQUFJLEtBQUssb0JBQW9CLFNBQVcsRUFBdUIsRUFBcUIsT0FDbEYsS0FBSyxvQkFBb0IsTUFDM0IsR0FBSSxJQUFTLElBQU0sRUFBSyxXQUFXLENBQUMsSUFBTSxLQUFPLEVBQU8sSUFBTSxHQUFPLEtBQUssT0FBTyxRQUFVLENBQUMsSUFBZSxFQUFPLEtBQUssT0FBTyxPQUFTLEdBQU8sR0FBVyxLQUN2SixPQUFRLEVBQVUsVUFDWCxPQUNILEVBQVUsS0FBTyxhQUNqQixVQUNHLE9BQ0gsRUFBVSxLQUFPLG1CQUNqQixVQUNHLFdBQ0gsRUFBVSxLQUFPLHNCQUNqQixVQUNHLGFBQ0gsRUFBVSxLQUFPLG9DQUNqQixVQUNHLGNBQ0gsRUFBVSxLQUFPLDJCQUNqQixjQUVBLE1BRU4sSUFBTSxFQUFvQixLQUFLLFVBQVUsYUFBYSxFQUFHLEVBQVMsQ0FDaEUsS0FBTSxHQUFXLE1BQVEsR0FBbUIsS0FDNUMsUUFBUyxHQUFXLFNBQVcsR0FBbUIsUUFDbEQsT0FBUSxHQUFXLFFBQVUsR0FBbUIsT0FDaEQsTUFBTyxHQUFXLE9BQVMsR0FBbUIsTUFDOUMsT0FBUSxHQUFXLFFBQVUsR0FBbUIsT0FDaEQsU0FBVSxHQUFXLFVBQVksR0FBbUIsUUFDdEQsRUFBRyxFQUFtQixLQUFLLE9BQU8sYUFBZSxJQUFNLE9BQU8sS0FBSyxPQUFPLFlBQWMsVUFBWSxLQUFLLE9BQU8sV0FBVyxVQUFZLEdBQUksRUFBa0IsSUFBTSxDQUNqSyxJQUFNLEVBQVMsS0FBSyxZQUFZLEtBQU0sRUFBVSxDQUFDLEtBQUssT0FBTyxJQUFLLEVBQVksS0FBSyxPQUFPLFVBQVcsRUFBVSxLQUFLLFlBQVksUUFBUyxHQUFXLElBQU0sS0FBSyxPQUFPLFNBQVUsR0FBa0IsSUFBTSxDQUN0TSxHQUFJLEVBQU8sUUFBVSxFQUFxQixLQUFLLENBQUMsSUFBTSxFQUFFLE1BQU0sRUFDNUQsT0FBTyxHQUFtQixDQUN4QixVQUNBLFVBQVcsRUFBTyxPQUNsQixjQUFlLEtBQUssT0FBTyxPQUMzQixZQUNBLE9BQVEsRUFBTyxRQUFRLFFBQVUsQ0FBQyxFQUNsQyxVQUNBLFNBQ0EsV0FBWSxFQUFxQixJQUFJLENBQUMsSUFBTSxFQUFFLE1BQU0sRUFDcEQsV0FDRixDQUFDLEdBRUwsT0FBTyxFQUFtQixDQUN4QixLQUFNLEdBQW1CLEVBQU8sS0FBTSxDQUNwQyxVQUNBLFVBQ0EsU0FDQSxZQUNBLGlCQUFrQixHQUFvQixFQUN0QyxXQUFZLEVBQXFCLElBQUksQ0FBQyxJQUFNLEVBQUUsSUFBSSxFQUNsRCxXQUNGLENBQUMsRUFDRCxRQUFTLEdBQW1CLEVBQU8sUUFBUyxDQUMxQyxVQUNBLFVBQ0EsU0FDQSxxQkFBc0IsR0FDdEIsT0FBUSxHQUNSLGlCQUFrQixHQUEyQixFQUM3QyxXQUFZLEVBQXFCLElBQy9CLENBQUMsSUFBTSxFQUFFLE9BQ1gsRUFDQSxXQUNGLENBQUMsRUFDRCxPQUFRLEdBQW1CLEVBQU8sT0FBUSxDQUN4QyxVQUNBLFVBQ0EsU0FDQSxPQUFRLEdBQ1IsaUJBQWtCLEdBQTJCLEVBQzdDLFdBQVksRUFBcUIsSUFDL0IsQ0FBQyxJQUFNLEVBQUUsTUFDWCxFQUNBLFdBQ0YsQ0FBQyxFQUNELE1BQU8sR0FBbUIsRUFBTyxNQUFPLENBQ3RDLFVBQ0EsVUFDQSxTQUNBLFlBQ0EsT0FBUSxHQUNSLGlCQUFrQixHQUFlLEVBQ2pDLFdBQVksRUFBcUIsSUFDL0IsQ0FBQyxJQUFNLEVBQUUsS0FDWCxFQUNBLFdBQ0YsQ0FBQyxFQUNELE9BQVEsR0FBZ0IsRUFDeEIsU0FBVSxHQUEyQixFQUFPLFNBQVUsQ0FDcEQsVUFDQSxVQUNBLFNBQ0EsWUFDQSxXQUFZLEVBQXFCLElBQy9CLENBQUMsSUFBTSxFQUFFLFFBQ1gsRUFDQSxXQUNGLENBQUMsQ0FDSCxFQUFJLENBQ0YsVUFBVSxFQUFHLENBQ1gsT0FBTyxLQUFLLEtBQU8sS0FBSyxLQUFPLEtBQUssS0FBTyxHQUN6QyxFQUFPLEtBQ1AsQ0FDRSxVQUNBLFVBQ0EsU0FDQSxZQUNBLGlCQUFrQixHQUFvQixFQUN0QyxXQUFZLEVBQXFCLElBQy9CLENBQUMsSUFBTSxFQUFFLElBQ1gsRUFDQSxXQUNGLENBQ0YsR0FFRixhQUFhLEVBQUcsQ0FDZCxPQUFPLEtBQUssUUFBVSxLQUFLLFFBQVUsS0FBSyxRQUFVLEdBQ2xELEVBQU8sUUFDUCxDQUNFLFVBQ0EsVUFDQSxTQUNBLFlBQ0EscUJBQXNCLENBQUMsRUFDdkIsT0FBUSxHQUNSLGlCQUFrQixHQUEyQixFQUM3QyxXQUFZLEVBQXFCLElBQy9CLENBQUMsSUFBTSxFQUFFLE9BQ1gsRUFDQSxXQUNGLENBQ0YsR0FFRixZQUFZLEVBQUcsQ0FDYixPQUFPLEtBQUssT0FBUyxLQUFLLE9BQVMsS0FBSyxPQUFTLEdBQy9DLEVBQU8sT0FDUCxDQUNFLFVBQ0EsVUFDQSxTQUNBLFlBQ0EsT0FBUSxHQUNSLGlCQUFrQixHQUEyQixFQUM3QyxXQUFZLEVBQXFCLElBQy9CLENBQUMsSUFBTSxFQUFFLE1BQ1gsRUFDQSxXQUNGLENBQ0YsR0FFRixXQUFXLEVBQUcsQ0FDWixPQUFPLEtBQUssTUFBUSxLQUFLLE1BQVEsS0FBSyxNQUFRLEdBQzVDLEVBQU8sTUFDUCxDQUNFLFVBQ0EsVUFDQSxTQUNBLFlBQ0EsT0FBUSxHQUNSLGlCQUFrQixHQUFlLEVBQ2pDLFdBQVksRUFBcUIsSUFDL0IsQ0FBQyxJQUFNLEVBQUUsS0FDWCxFQUNBLFdBQ0YsQ0FDRixHQUVGLFlBQVksRUFBRyxDQUNiLE9BQU8sS0FBSyxPQUFTLEtBQUssT0FBUyxLQUFLLE9BQVMsR0FBZ0IsR0FFbkUsY0FBYyxFQUFHLENBQ2YsT0FBTyxLQUFLLFNBQVcsS0FBSyxTQUFXLEtBQUssU0FBVyxHQUNyRCxFQUFPLFNBQ1AsQ0FDRSxVQUNBLFVBQ0EsU0FDQSxZQUNBLFdBQVksRUFBcUIsSUFDL0IsQ0FBQyxJQUFNLEVBQUUsUUFDWCxFQUNBLFdBQ0YsQ0FDRixFQUVKLElBRUQsRUFBa0IsTUFBUSxFQUFrQixRQUFVLEVBQWtCLFNBQVcsRUFBa0IsUUFBVSxFQUFrQixPQUFTLEVBQWtCLFlBQWMsRUFBWSxHQUFVLEVBQVcsQ0FBaUIsR0FBSSxFQUFVLE9BQVMsRUFBVSxPQUFTLEVBQVUsT0FBTyxLQUFPLEVBQVUsS0FBTyxFQUFVLE9BQVMsQ0FDalUsS0FBTSxFQUFVLElBQ2xCLEdBQUksR0FBVyxLQUFLLE9BQU8sTUFBTSxJQUFNLEVBQVUsT0FBUyxHQUN4RCxPQUFPLE9BQU8sQ0FBQyxFQUFHLEtBQUssT0FBTyxNQUFNLEVBQ3BDLEVBQVUsTUFDWixHQUNBLElBQU0sRUFBUSxHQUFXLEtBQUssS0FBSyxFQUFJLEdBQVUsS0FBSyxNQUFPLEdBQTBCLENBQVMsQ0FBQyxFQUFJLElBQUssR0FBaUIsR0FBMEIsQ0FBUyxDQUFDLENBQUUsRUFDakssR0FBSSxFQUFxQixRQUFVLE9BQU8sT0FBTyxFQUFPLENBQ3RELG9CQUFxQixDQUN2QixDQUFDLEVBQUcsS0FBSyxPQUFPLE1BQVEsR0FBSSxDQUMxQixJQUFNLEVBQVksRUFBZ0IsRUFDbEMsS0FBSyxPQUFPLFFBQVEsSUFBSSxFQUFRLEVBQU0sQ0FDcEMsWUFDQSxRQUNBLFFBQVMsR0FBVyxLQUNwQixTQUNBLE1BQU8sQ0FDVCxDQUFDLEVBQ0QsSUFBTSxFQUFVLEdBQVcsRUFBTSxDQUFFLFFBQVMsRUFBRyxDQUFDLEVBQ2hELEdBQUksSUFBUyxHQUFXLEtBQUssT0FBTyxRQUFRLElBQUksRUFBUSxFQUFTLENBQy9ELFlBQ0EsUUFDQSxRQUFTLEdBQVcsS0FDcEIsU0FDQSxNQUFPLENBQ1QsQ0FBQyxFQUFHLEtBQUssT0FBTyxhQUFlLEdBQUksQ0FDakMsSUFBTSxFQUFZLEdBQWEsQ0FBSSxFQUNuQyxLQUFLLE9BQU8sUUFBUSxJQUFJLEVBQVEsRUFBVyxDQUN6QyxZQUNBLFFBQ0EsUUFBUyxHQUFXLEtBQ3BCLFNBQ0EsTUFBTyxDQUNULENBQUMsRUFDRCxJQUFNLEVBQVcsR0FBVyxDQUFTLEVBQ3JDLElBQWMsR0FBWSxLQUFLLE9BQU8sUUFBUSxJQUFJLEVBQVEsRUFBVyxDQUNuRSxZQUNBLFFBQ0EsUUFBUyxHQUFXLEtBQ3BCLFNBQ0EsTUFBTyxDQUNULENBQUMsRUFFSCxLQUFLLE9BQU8sUUFBUSxLQUFLLENBQ3ZCLFNBQ0EsT0FDQSxTQUFVLEtBQ1YsUUFBUyxFQUNULFFBQWMsT0FDZCxPQUNGLENBQUMsRUFDRCxPQUVGLElBQU0sRUFBVSxLQUFLLFlBQVksUUFBUyxFQUFzQixPQUFPLEdBQVUsV0FBYSxJQUFNLENBQ2xHLElBQU0sRUFBVSxDQUNkLFlBQ0EsUUFBUyxLQUFLLFlBQVksY0FBZ0IsSUFBSSxRQUFRLGNBQWMsSUFBUSxDQUMxRSxRQUNGLENBQUMsRUFBUyxPQUNWLE9BQVEsS0FDUixJQUFLLENBQ0gsUUFBUyxPQUFPLE9BQU8sQ0FBQyxFQUFHLEtBQUssVUFBVSxDQUM1QyxFQUNBLFVBQ0EsTUFBTyxLQUFLLEtBQ2QsRUFDQSxHQUFJLENBQ0YsS0FBSyxNQUFNLFNBQVMsSUFBSSxDQUFDLElBQU0sQ0FDN0IsR0FBSSxPQUFPLEVBQUUsSUFBTSxXQUNqQixPQUFPLEVBQUUsR0FBRyxDQUFPLEVBQ3JCLEdBQUksT0FBTyxHQUFLLFdBQVksT0FBTyxFQUFFLENBQU8sRUFDN0MsRUFDRCxNQUFPLEVBQU8sQ0FDZCxJQUFJLEVBQ0osRUFBUSxNQUFRLEVBQU8sS0FBSyxNQUFNLE9BQU8sS0FBSyxDQUFDLEtBQU0sQ0FDbkQsR0FBSSxPQUFPLEdBQUUsSUFBTSxXQUNqQixPQUFPLEVBQU0sR0FBRSxHQUFHLENBQU8sRUFDM0IsR0FBSSxPQUFPLElBQUssV0FDZCxPQUFPLEVBQU0sR0FBRSxDQUFPLEVBQ3pCLEVBQUcsSUFBYSxTQUFNLEVBQVMsR0FFbEMsSUFBTSxFQUFLLEVBQVEsNEJBQ2pCLEVBQ0EsRUFDQSxFQUFRLEdBQ1YsRUFDQSxPQUFPLGFBQWMsUUFBVSxFQUFHLEtBQUssQ0FBQyxJQUFRLENBQzlDLEdBQUksRUFBSyxPQUFPLEVBQ2pCLEVBQUksSUFBSyxHQUNILE9BQUcsRUFBMEIsS0FBSyxPQUFPLHVCQUF5QixHQUFJLEVBQWtCLENBQUMsSUFBVSxDQUMxRyxDQUFDLEdBQTJCLENBQUMsSUFBd0IsR0FBZ0MsS0FBSyxPQUFPLFNBQVMsR0FBUyxLQUFLLE9BQU8sU0FBUyxHQUFPLEdBQVUsRUFBb0IsRUFBSSxLQUFLLE9BQU8sU0FBUyxHQUFTLEVBQzVNLEdBQVMsRUFBb0IsQ0FDaEMsRUFBSSxLQUFLLE9BQU8sU0FBUyxHQUFTLEVBQW9CLElBRXhELEVBQWdCLENBQUksRUFDcEIsSUFBSSxFQUNFLEVBQVUsSUFBTSxJQUFjLEVBQVksR0FBZSxDQUM3RCxJQUFLLEtBQ0wsT0FDQSxTQUNBLFFBQ0EsVUFBVyxFQUFnQixFQUMzQixRQUFTLE9BQU8sR0FBVSxZQUFjLE9BQU8sRUFBUSxxQkFBdUIsV0FBYSxJQUFNLEVBQVMsRUFDMUcsWUFDQSxVQUFXLEtBQUssU0FDbEIsQ0FBQyxHQUNHLEVBQ0osR0FBSSxHQUFHLEtBQVUsTUFBVSxLQUFLLFVBQzlCLFFBQVMsRUFBSSxFQUFHLEVBQUksS0FBSyxPQUFPLFFBQVEsT0FBUSxJQUFLLENBQ25ELElBQU0sRUFBUSxLQUFLLE9BQU8sUUFBUSxHQUNsQyxHQUFJLEVBQU0sT0FBUyxHQUFRLEVBQU0sU0FBVyxFQUFRLENBQ2xELEVBQVcsRUFDWCxPQUdELFVBQUssVUFBVSxHQUFHLEtBQVUsS0FBVSxLQUFLLE9BQU8sUUFBUSxPQUMvRCxJQUFNLEVBQVEsR0FBWSxLQUFLLE9BQU8sUUFBUSxPQUFRLEVBQWMsRUFBbUIsRUFBUSxFQUFJLENBQUMsS0FBUyxLQUFLLE9BQU8sUUFBUSxHQUFPLFNBQVcsRUFBUSxHQUFHLENBQUcsRUFDakssSUFBa0IsT0FBSSxLQUFLLE9BQU8sUUFBUSxHQUFZLE9BQU8sT0FDM0QsQ0FDRSxTQUNBLE9BQ0EsU0FBVSxFQUNWLFVBQ0EsUUFBUyxFQUNULE9BQ0YsRUFDQSxFQUFxQixPQUFTLENBQzVCLHNCQUNGLEVBQVMsT0FDVCxFQUFVLFVBQVksQ0FBRSxVQUFXLEVBQVUsU0FBVSxFQUFTLE1BQ2xFLEVBQUksS0FBSyxPQUFPLFFBQVEsS0FDdEIsT0FBTyxPQUNMLENBQ0UsU0FDQSxPQUNBLFNBQVUsRUFDVixVQUNBLFFBQVMsRUFDVCxPQUNGLEVBQ0EsRUFBVSxVQUFZLENBQUUsVUFBVyxFQUFVLFNBQVUsRUFBUyxNQUNsRSxDQUNGLEVBQ0EsSUFBTSxFQUFVLENBQ2QsUUFBUyxFQUFtQixFQUFtQixPQUMvQyxPQUFPLEVBQUcsQ0FDUixPQUFPLEtBQUssUUFBVSxFQUFRLEVBRWxDLEVBQUcsRUFBZSxLQUFLLE9BQU8sT0FBUSxFQUFlLEVBQUssUUFBUSxHQUFHLElBQU0sSUFBTSxFQUFLLFFBQVEsR0FBRyxJQUFNLEdBQ3ZHLEdBQUksSUFBVyxLQUFNLENBQ25CLEdBQUksRUFBYyxDQUNoQixLQUFRLEVBQWUsRUFBYSxHQUFNLEdBQVUsRUFBUSxFQUFhLEdBQVEsRUFDOUUsR0FBUyxDQUNaLEVBQ0EsT0FFRixLQUFLLE9BQU8sS0FBSyxJQUFJLEtBQU0sRUFBTSxDQUFPLEVBQUcsS0FBSyxPQUFPLFlBQWMsS0FBSyxPQUFPLEtBQUssSUFBSSxLQUFNLEdBQWEsQ0FBSSxFQUFHLENBQU8sRUFDM0gsSUFBTSxFQUFVLEdBQVcsRUFBTSxDQUFFLFFBQVMsRUFBRyxDQUFDLEVBQ2hELElBQVMsR0FBVyxLQUFLLE9BQU8sS0FBSyxJQUFJLEtBQU0sRUFBUyxDQUFPLEVBQy9ELE9BRUYsR0FBSSxFQUNGLEtBQVEsRUFBZSxFQUFhLEdBQU0sR0FBVSxFQUFRLEVBQWEsR0FBUSxFQUM5RSxHQUFTLENBQ1osRUFBRyxLQUFLLE9BQU8sWUFBYyxFQUFnQixHQUFhLENBQUksQ0FBQyxFQUM1RCxLQUNILEdBQUksS0FBSyxPQUFPLEtBQUssSUFBSSxFQUFRLEVBQU0sQ0FBTyxFQUFHLENBQUMsS0FBSyxPQUFPLFdBQVksQ0FDeEUsSUFBTSxFQUFZLEdBQWEsQ0FBSSxFQUNuQyxFQUFnQixDQUFTLEVBQUcsS0FBSyxPQUFPLEtBQUssSUFBSSxFQUFRLEVBQVcsQ0FBTyxFQUU3RSxJQUFNLEVBQVUsR0FBVyxFQUFNLENBQUUsUUFBUyxFQUFHLENBQUMsRUFDaEQsSUFBUyxJQUFZLEtBQUssT0FBTyxLQUFLLElBQUksRUFBUSxFQUFTLENBQU8sRUFBRyxFQUFnQixDQUFPLElBR2hHLE9BQU8sQ0FBQyxFQUFRLENBQ2QsT0FBTyxHQUFVLEtBQUssYUFBZSxLQUFLLFdBQWEsQ0FBQyxHQUFJLEtBQUssV0FBYSxHQUFVLEtBQUssV0FBWSxDQUFNLEVBQUcsTUFBUSxLQWdCNUgsT0FBTyxDQUFDLEVBQVMsQ0FDZixPQUFPLEtBQUssR0FBRyxRQUFTLENBQU8sRUFBRyxLQUVwQyxTQUFTLENBQUMsRUFBUyxDQUNqQixPQUFPLEtBQUssR0FBRyxVQUFXLENBQU8sRUFBRyxLQUV0QyxPQUFPLENBQUMsRUFBUyxFQUFTLENBQ3hCLE9BQU8sRUFBVSxLQUFLLEdBQ3BCLEVBQ0EsUUFDQSxDQUNGLEVBQUksT0FBTyxHQUFXLFNBQVcsS0FBSyxHQUFHLFFBQVMsS0FBSyxXQUFXLEVBQVEsRUFBSSxLQUFLLEdBQUcsUUFBUyxDQUFPLEVBcUJ4RyxNQUFNLENBQUMsRUFBTSxFQUFRLENBQ25CLE9BQU8sS0FBSyxXQUFXLEdBQVEsRUFBUSxLQUV6QyxXQUFXLENBQUMsRUFBUyxFQUFTLENBQzVCLE9BQU8sRUFBVSxLQUFLLEdBQ3BCLEVBQ0EsWUFDQSxDQUNGLEVBQUksS0FBSyxHQUFHLFlBQWEsQ0FBTyxFQUVsQyxPQUFPLENBQUMsRUFBa0IsRUFBUyxDQUNqQyxJQUFZLEVBQVUsRUFBa0IsRUFBbUIsQ0FBRSxHQUFJLE9BQVEsR0FDekUsSUFBTSxFQUFPLENBQ1gsUUFBUyxVQUNULEdBQUksQ0FDTixFQUNBLE9BQU8sS0FBSyxlQUFlLEVBQWtCLENBQUksRUFFbkQsVUFBVSxDQUFDLEVBQWtCLEVBQVEsQ0FDbkMsSUFBVyxFQUFTLEVBQWtCLEVBQW1CLENBQUUsR0FBSSxPQUFRLEdBQ3ZFLElBQU0sRUFBTyxDQUNYLFFBQVMsYUFDVCxHQUFJLENBQ04sRUFDQSxPQUFPLEtBQUssZUFBZSxFQUFrQixDQUFJLEVBRW5ELGNBQWMsQ0FBQyxFQUFTLEVBQVMsQ0FDL0IsT0FBTyxFQUFVLEtBQUssR0FDcEIsRUFDQSxlQUNBLENBQ0YsRUFBSSxLQUFLLEdBQUcsZUFBZ0IsQ0FBTyxFQUVyQyxhQUFhLENBQUMsRUFBUyxFQUFTLENBQzlCLE9BQU8sRUFBVSxLQUFLLEdBQ3BCLEVBQ0EsY0FDQSxDQUNGLEVBQUksS0FBSyxHQUFHLGNBQWUsQ0FBTyxFQUVwQyxXQUFXLENBQUMsRUFBUyxFQUFTLENBQzVCLE9BQU8sRUFBVSxLQUFLLEdBQ3BCLEVBQ0EsY0FDQSxDQUNGLEVBQUksS0FBSyxHQUFHLGNBQWUsQ0FBTyxFQUVwQyxlQUFlLENBQUMsRUFBUyxFQUFTLENBQ2hDLE9BQU8sRUFBVSxLQUFLLEdBQ3BCLEVBQ0EsZ0JBQ0EsQ0FDRixFQUFJLEtBQUssR0FBRyxnQkFBaUIsQ0FBTyxFQWtCdEMsS0FBSyxDQUFDLEVBQVMsRUFBUyxDQUN0QixJQUFZLEVBQVUsRUFBUyxFQUFVLENBQUUsR0FBSSxPQUFRLEdBQUksTUFBTSxRQUFRLENBQU8sSUFBTSxFQUFVLENBQUMsQ0FBTyxHQUN4RyxRQUFXLEtBQU0sRUFDZixLQUFLLEdBQ0gsRUFDQSxRQUNBLEdBQWEsQ0FBRSxDQUNqQixFQUNGLE9BQU8sS0FFVCxLQUFLLENBQUMsRUFBTSxFQUFPLENBQ2pCLE9BQVEsT0FBTyxPQUNSLFNBQ0gsT0FBTyxFQUFNLFVBQVUsSUFBYyxFQUFNLEtBQUssWUFBWSxNQUFNLEdBQVEsRUFBTyxTQUM5RSxXQUNILE9BQU8sS0FBSyxZQUFZLE1BQVEsRUFBSyxLQUFLLFlBQVksS0FBSyxFQUFHLEtBRWxFLFFBQVksRUFBTSxLQUFXLE9BQU8sUUFBUSxDQUFJLEVBQzlDLEVBQU8sVUFBVSxJQUFjLEVBQU0sS0FBSyxZQUFZLE1BQU0sR0FBUSxFQUN0RSxPQUFPLEtBZ0JULE9BQU8sQ0FBQyxFQUFTLEVBQVMsQ0FDeEIsT0FBTyxFQUFVLEtBQUssR0FDcEIsRUFDQSxRQUNBLENBQ0YsRUFBSSxLQUFLLEdBQUcsUUFBUyxDQUFPLEVBZTlCLE1BQU0sQ0FBQyxFQUFTLENBQ2QsT0FBTyxLQUFLLEdBQUcsT0FBUSxDQUFPLEVBQUcsS0FFbkMsRUFBRSxDQUFDLEVBQWUsRUFBZ0IsRUFBVSxDQUMxQyxJQUFJLEVBQ0osT0FBUSxPQUFPLE9BQ1IsU0FDSCxFQUFPLEVBQWUsRUFBVyxFQUNqQyxVQUNHLFNBQ0gsRUFBTyxFQUFnQixDQUFDLE1BQU0sUUFBUSxDQUFjLEdBQUssT0FBTyxHQUFrQixXQUFhLEVBQVcsR0FDMUcsTUFFSixNQUFNLFFBQVEsQ0FBUSxFQUFJLEVBQVcsR0FBYyxDQUFRLEVBQUksT0FBTyxHQUFZLFdBQWEsRUFBVyxDQUN4RyxDQUNFLEdBQUksQ0FDTixDQUNGLEVBQUksRUFBVyxDQUFDLENBQVEsRUFDeEIsSUFBTSxFQUFVLEVBQ2hCLFFBQVcsS0FBVSxFQUNuQixFQUFPLE1BQVEsT0FBTyxHQUFpQixTQUFXLFFBQVUsR0FBZSxJQUFNLFNBQVUsSUFBUyxXQUFhLElBQVMsWUFBYyxFQUFPLFFBQVUsR0FDM0osSUFBUyxVQUFZLEtBQUssVUFBWSxHQUNwQyxFQUNHLEdBQU8sRUFBUSxJQUFJLENBQUMsSUFBTSxFQUFFLEVBQUUsQ0FDakMsRUFDQSxLQUFLLFVBQ0wsS0FBSyxPQUFPLE9BQ2QsR0FDQSxRQUFXLEtBQVUsRUFBUyxDQUM1QixJQUFNLEVBQUssR0FBVyxFQUFRLFNBQVUsQ0FBRSxjQUFlLEVBQUcsQ0FBQyxFQUM3RCxPQUFRLE9BQ0QsUUFDSCxLQUFLLE1BQU0sUUFBVSxDQUFDLEVBQUcsS0FBSyxNQUFNLE1BQU0sS0FBSyxDQUFFLEVBQ2pELFVBQ0csVUFDSCxLQUFLLE1BQU0sVUFBWSxDQUFDLEVBQUcsS0FBSyxNQUFNLFFBQVEsS0FBSyxDQUFFLEVBQ3JELFVBQ0csUUFDSCxLQUFLLE1BQU0sUUFBVSxDQUFDLEVBQUcsS0FBSyxNQUFNLE1BQU0sS0FBSyxDQUFFLEVBQ2pELFVBQ0csWUFDSCxLQUFLLE1BQU0sWUFBYyxDQUFDLEVBQUcsS0FBSyxNQUFNLFVBQVUsS0FBSyxDQUFFLEVBQ3pELFVBRUcsU0FDSCxLQUFLLE1BQU0sWUFBYyxDQUFDLEVBQUcsS0FBSyxNQUFNLFVBQVUsS0FDaEQsR0FBYyxFQUFJLFFBQVEsQ0FDNUIsRUFDQSxVQUNHLGVBQ0gsS0FBSyxNQUFNLGVBQWlCLENBQUMsRUFBRyxLQUFLLE1BQU0sYUFBYSxLQUFLLENBQUUsRUFDL0QsVUFHRyxVQUNILEtBQUssTUFBTSxlQUFpQixDQUFDLEVBQUcsS0FBSyxNQUFNLGFBQWEsS0FDdEQsR0FBYyxFQUFJLFNBQVMsQ0FDN0IsRUFDQSxVQUNHLGNBQ0gsS0FBSyxNQUFNLGNBQWdCLENBQUMsRUFBRyxLQUFLLE1BQU0sWUFBWSxLQUFLLENBQUUsRUFDN0QsVUFDRyxjQUNILEtBQUssTUFBTSxjQUFnQixDQUFDLEVBQUcsS0FBSyxNQUFNLFlBQVksS0FBSyxDQUFFLEVBQzdELFVBQ0csZ0JBQ0gsS0FBSyxNQUFNLGdCQUFrQixDQUFDLEVBQUcsS0FBSyxNQUFNLGNBQWMsS0FBSyxDQUFFLEVBQ2pFLFVBQ0csUUFDSCxLQUFLLE1BQU0sUUFBVSxDQUFDLEVBQUcsS0FBSyxNQUFNLE1BQU0sS0FBSyxDQUFFLEVBQ2pELFVBQ0csUUFDSCxLQUFLLE1BQU0sUUFBVSxDQUFDLEVBQUcsS0FBSyxNQUFNLE1BQU0sS0FBSyxDQUFFLEVBQ2pELFVBQ0csT0FDSCxLQUFLLE1BQU0sT0FBUyxDQUFDLEVBQUcsS0FBSyxNQUFNLEtBQUssS0FBSyxDQUFFLEVBQy9DLE9BR04sT0FBTyxLQUVULEVBQUUsQ0FBQyxFQUFNLENBQ1AsT0FBTyxHQUFhLEtBQUssTUFBTSxNQUFPLENBQUksRUFBRyxHQUFhLEtBQUssTUFBTSxVQUFXLENBQUksRUFBRyxHQUFhLEtBQUssTUFBTSxhQUFjLENBQUksRUFBRyxHQUFhLEtBQUssTUFBTSxZQUFhLENBQUksRUFBRyxHQUFhLEtBQUssTUFBTSxZQUFhLENBQUksRUFBRyxHQUFhLEtBQUssTUFBTSxjQUFlLENBQUksRUFBRyxHQUFhLEtBQUssTUFBTSxNQUFPLENBQUksRUFBRyxHQUFhLEtBQUssTUFBTSxNQUFPLENBQUksRUFBRyxJQUFTLFVBQVksS0FBSyxVQUFVLE9BQVMsR0FDalksS0FBSyxVQUFVLE9BQ2YsS0FBSyxVQUFVLEtBQ2pCLEVBQUcsS0FBSyxVQUFVLE1BQVEsS0FBTSxLQUFLLG9CQUFvQixRQUFVLE9BQVMsS0FBSyxvQkFBb0IsU0FBVyxDQUFDLEVBQUcsS0FBSyxvQkFBb0IsT0FBTyxLQUNsSixHQUFHLEtBQUssb0JBQW9CLEtBQzlCLEVBQUcsS0FBSyxvQkFBb0IsTUFBUSxPQUFTLElBQVMsV0FBYSxLQUFLLFVBQVUsT0FBUyxHQUN6RixLQUFLLFVBQVUsT0FDZixHQUNFLEtBQUssVUFBVSxPQUNmLEtBQUssVUFBVSxLQUNqQixDQUNGLEVBQUcsS0FBSyxVQUFVLE9BQVMsS0FBTSxLQUFLLFVBQVUsTUFBUSxLQUFNLEtBQUssb0JBQW9CLFFBQVUsT0FBUyxLQUFLLG9CQUFvQixTQUFXLENBQUMsRUFBRyxLQUFLLG9CQUFvQixPQUFPLEtBQ2hMLEdBQUcsS0FBSyxvQkFBb0IsS0FDOUIsRUFBRyxLQUFLLG9CQUFvQixNQUFRLE1BQU8sS0FBSyxvQkFBb0IsU0FBVyxPQUFTLEtBQUssb0JBQW9CLFNBQVcsQ0FBQyxFQUFHLEtBQUssb0JBQW9CLE9BQU8sS0FDOUosR0FBRyxLQUFLLG9CQUFvQixNQUM5QixFQUFHLEtBQUssb0JBQW9CLE9BQVMsT0FBUSxLQWdCL0MsS0FBSyxDQUFDLEVBQVEsRUFBYSxFQUFLLENBQzlCLElBQU0sRUFBVyxJQUFJLEVBQVEsSUFDeEIsS0FBSyxPQUNSLE9BQVEsRUFDVixDQUFDLEVBQ0QsRUFBUyxVQUFZLElBQUssS0FBSyxTQUFVLEVBQUcsRUFBUyxZQUFjLElBQUssS0FBSyxXQUFZLEVBQUcsRUFBUyxVQUFZLElBQU0sS0FBSyxVQUFVLEVBQUcsRUFBUyxVQUFZLEdBQWUsS0FBSyxTQUFTLEVBQUcsRUFBUyxTQUFXLElBQUssS0FBSyxRQUFTLEVBQUcsRUFBUyxXQUFhLEtBQUssV0FBWSxFQUFTLG9CQUFzQixDQUM1UyxNQUFPLENBQUMsR0FBRyxLQUFLLG9CQUFvQixPQUFTLENBQUMsQ0FBQyxFQUMvQyxPQUFRLENBQUMsR0FBRyxLQUFLLG9CQUFvQixRQUFVLENBQUMsQ0FBQyxFQUNqRCxPQUFRLENBQUMsR0FBRyxLQUFLLG9CQUFvQixRQUFVLENBQUMsQ0FBQyxDQUNuRCxFQUNBLElBQU0sRUFBVyxPQUFPLEdBQWUsU0FBVSxHQUFXLEVBQVcsRUFBTSxHQUFhLENBQVEsRUFDbEcsT0FBTyxLQUFLLFVBQVksR0FBVSxLQUFLLFVBQVcsRUFBUyxTQUFTLEVBQUcsS0FBSyxZQUFjLEdBQVUsS0FBSyxZQUFhLEVBQVMsV0FBVyxFQUFHLEVBQVEsTUFBTSxTQUFTLFNBQVcsS0FBSyxNQUFNLFFBQVUsQ0FDbE0sR0FBRyxLQUFLLE1BQU0sU0FBVyxDQUFDLEVBQzFCLEdBQUcsRUFBUSxNQUFNLFNBQVcsQ0FBQyxDQUMvQixHQUFJLEVBQVEsTUFBTSxhQUFhLFNBQVcsS0FBSyxNQUFNLFlBQWMsQ0FDakUsR0FBRyxLQUFLLE1BQU0sYUFBZSxDQUFDLEVBQzlCLEdBQUcsRUFBUSxNQUFNLGFBQWUsQ0FBQyxDQUNuQyxHQUFJLEtBQUssTUFBTSxFQUFRLFlBQVksSUFBSSxFQUFHLE9BQU8sT0FBTyxFQUFTLE9BQU8sT0FBTyxFQUFFLFFBQy9FLEVBQUcsU0FBUSxPQUFNLFVBQVMsV0FBWSxDQUNwQyxHQUFJLEdBQVEsRUFBVyxHQUFLLEtBQUssT0FBTyxRQUFVLElBQU0sRUFBUyxFQUFNLEVBQVUsQ0FDL0UsSUFDRSxPQUNBLFVBQ0EsUUFDQSxTQUNBLFNBQ0EsY0FDRyxHQUNELEVBQWEsRUFBWSxFQUFPLEVBQXNCLEdBQVEsR0FBVyxHQUFTLEdBQVUsR0FBVSxFQUMxRyxLQUFLLElBQ0gsRUFDQSxFQUNBLEVBQ0EsR0FBVSxFQUFNLElBQ1gsR0FBYSxDQUFDLEVBQ2pCLE1BQU8sRUFBVSxNQUFRLE1BQU0sUUFBUSxFQUFVLEtBQUssRUFBSSxDQUN4RCxHQUFHLEVBQVUsT0FBUyxDQUFDLEVBQ3ZCLEdBQUcsRUFBUSxNQUFNLE9BQVMsQ0FBQyxDQUM3QixFQUFJLENBQ0YsRUFBVSxNQUNWLEdBQUcsRUFBUSxNQUFNLE9BQVMsQ0FBQyxDQUM3QixFQUFJLEVBQVEsTUFBTSxNQUNsQixvQkFBcUIsRUFBc0IsQ0FDekMsR0FBRyxFQUFVLHFCQUF1QixDQUFDLEVBQ3JDLENBQ0UsT0FDQSxVQUNBLFFBQ0EsU0FDQSxTQUNBLFVBQ0YsQ0FDRixFQUFJLEVBQVUsbUJBQ2hCLENBQUMsRUFDSSxNQUNQLEVBRUEsVUFBSyxJQUNILEVBQ0EsRUFDQSxFQUNBLEdBQVUsRUFBTyxDQUNmLE1BQU8sRUFBUSxNQUFNLEtBQ3ZCLENBQUMsRUFDRCxDQUNFLFdBQVksRUFDZCxDQUNGLEVBRU4sRUFBRyxLQXVCTCxLQUFLLENBQUMsRUFBTSxFQUFLLENBQ2YsR0FBSSxDQUFDLEVBQUssQ0FDUixHQUFJLE9BQU8sR0FBUSxTQUFVLENBQzNCLEtBQUssV0FBVyxDQUFJLEVBQUcsRUFBSyxTQUFXLEtBQUssT0FBTyxPQUFTLEtBQUssT0FBTyxPQUFTLEdBQy9FLE9BQU8sT0FBTyxDQUFDLEVBQUcsS0FBSyxPQUFPLE1BQU0sRUFDcEMsRUFBSyxNQUNQLEVBQUksS0FBSyxPQUFPLE9BQVMsRUFBSyxRQUFTLEVBQUssT0FBUyxLQUFLLE9BQU8sT0FBUyxLQUFLLE9BQU8sT0FBTyxLQUFPLEVBQUssS0FBTyxLQUFLLE9BQU8sT0FBUyxDQUNuSSxLQUFNLEVBQUssSUFDYixHQUNBLElBQU0sRUFBTyxFQUFLLElBQU0sUUFDeEIsR0FBSSxFQUFLLFNBQVcsYUFBYyxDQUNoQyxLQUFLLG9CQUFvQixLQUFVLEtBQUssb0JBQW9CLEdBQVEsQ0FBQyxHQUNyRSxJQUFNLEVBQVcsR0FBTSxTQUFXLE9BQU8sRUFBSyxVQUFZLFVBQVksS0FBUSxFQUFLLFVBQVksY0FBZSxFQUFLLFNBQVcsQ0FDNUgsSUFBSyxFQUFLLFFBQ1osRUFBSSxHQUFNLFNBQWdCLE9BQzFCLEtBQUssb0JBQW9CLEdBQU0sS0FBSyxDQUNsQyxLQUFNLEVBQUssS0FDWCxRQUFTLEVBQUssUUFDZCxPQUFRLEVBQUssT0FDYixNQUFPLEVBQUssTUFDWixXQUNBLE9BQVEsRUFBSyxNQUNmLENBQUMsRUFFRCxVQUFLLFVBQVUsR0FBUSxDQUNyQixLQUFNLEVBQUssTUFBUSxLQUFLLFVBQVUsSUFBTyxLQUN6QyxRQUFTLEVBQUssU0FBVyxLQUFLLFVBQVUsSUFBTyxRQUMvQyxPQUFRLEVBQUssUUFBVSxLQUFLLFVBQVUsSUFBTyxPQUM3QyxNQUFPLEVBQUssT0FBUyxLQUFLLFVBQVUsSUFBTyxNQUMzQyxTQUFVLEVBQUssVUFBWSxLQUFLLFVBQVUsSUFBTyxTQUNqRCxPQUFRLEVBQUssUUFBVSxLQUFLLFVBQVUsSUFBTyxNQUMvQyxFQUNGLE9BQU8sRUFBSyxPQUFTLEtBQUssR0FBRyxDQUFFLEdBQUksQ0FBSyxFQUFHLFFBQVMsRUFBSyxLQUFLLEVBQUcsRUFBSyxXQUFhLEtBQUssR0FBRyxDQUFFLEdBQUksQ0FBSyxFQUFHLFlBQWEsRUFBSyxTQUFTLEVBQUcsRUFBSyxRQUFVLEtBQUssR0FBRyxDQUFFLEdBQUksQ0FBSyxFQUFHLFNBQVUsRUFBSyxNQUFNLEVBQUcsRUFBSyxjQUFnQixLQUFLLEdBQUcsQ0FBRSxHQUFJLENBQUssRUFBRyxlQUFnQixFQUFLLFlBQVksRUFBRyxFQUFLLFNBQVcsS0FBSyxHQUFHLENBQUUsR0FBSSxDQUFLLEVBQUcsVUFBVyxFQUFLLE9BQU8sRUFBRyxFQUFLLGFBQWUsS0FBSyxHQUFHLENBQUUsR0FBSSxDQUFLLEVBQUcsY0FBZSxFQUFLLFdBQVcsRUFBRyxFQUFLLGFBQWUsS0FBSyxHQUFHLENBQUUsR0FBSSxDQUFLLEVBQUcsY0FBZSxFQUFLLFdBQVcsRUFBRyxFQUFLLGVBQWlCLEtBQUssR0FBRyxDQUFFLEdBQUksQ0FBSyxFQUFHLGdCQUFpQixFQUFLLGFBQWEsRUFBRyxFQUFLLE9BQVMsS0FBSyxHQUFHLENBQUUsR0FBSSxDQUFLLEVBQUcsUUFBUyxFQUFLLEtBQUssRUFBRyxLQUV6bkIsT0FBTyxLQUFLLE1BQU0sQ0FBQyxFQUFHLENBQUksRUFFNUIsSUFBTSxFQUFXLElBQUksRUFBUSxJQUN4QixLQUFLLE9BQ1IsT0FBUSxFQUNWLENBQUMsRUFDRCxFQUFTLFVBQVksSUFBSyxLQUFLLFNBQVUsRUFBRyxFQUFTLFlBQWMsSUFBSyxLQUFLLFdBQVksRUFBRyxFQUFTLFVBQVksR0FBZSxLQUFLLFNBQVMsRUFBRyxFQUFTLFNBQVcsSUFBSyxLQUFLLFFBQVMsRUFBRyxFQUFTLFVBQVksSUFBTSxLQUFLLFVBQVUsRUFDck8sSUFBTSxFQUFVLEVBQUksQ0FBUSxFQUM1QixPQUFPLEtBQUssVUFBWSxHQUFVLEtBQUssVUFBVyxFQUFTLFNBQVMsRUFBRyxLQUFLLFlBQWMsR0FBVSxLQUFLLFlBQWEsRUFBUyxXQUFXLEVBQUcsRUFBUSxVQUFZLElBQU0sS0FBSyxPQUFRLEVBQVEsTUFBTSxTQUFTLFNBQVcsS0FBSyxNQUFNLFFBQVUsQ0FDek8sR0FBRyxLQUFLLE1BQU0sU0FBVyxDQUFDLEVBQzFCLEdBQUcsRUFBUSxNQUFNLFNBQVcsQ0FBQyxDQUMvQixHQUFJLEVBQVEsTUFBTSxhQUFhLFNBQVcsS0FBSyxNQUFNLFlBQWMsQ0FDakUsR0FBRyxLQUFLLE1BQU0sYUFBZSxDQUFDLEVBQzlCLEdBQUcsRUFBUSxNQUFNLGFBQWUsQ0FBQyxDQUNuQyxHQUFJLEtBQUssTUFBTSxFQUFRLFlBQVksSUFBSSxFQUFHLE9BQU8sT0FBTyxFQUFTLE9BQU8sT0FBTyxFQUFFLFFBQy9FLEVBQUcsU0FBUSxPQUFNLFVBQVMsTUFBTyxLQUFnQixDQUMvQyxJQUNFLE9BQ0EsVUFDQSxRQUNBLFNBQ0EsU0FDQSxjQUNHLEdBQ0QsRUFBTSxFQUFzQixHQUFRLEdBQVcsR0FBUyxHQUFVLEdBQVUsRUFDaEYsS0FBSyxJQUNILEVBQ0EsRUFDQSxFQUNBLEdBQVUsRUFBVyxJQUNoQixHQUFhLENBQUMsRUFDakIsTUFBTyxFQUFVLE1BQVEsTUFBTSxRQUFRLEVBQVUsS0FBSyxFQUFJLENBQ3hELEdBQUcsRUFBVSxPQUFTLENBQUMsRUFDdkIsR0FBRyxFQUFRLE1BQU0sT0FBUyxDQUFDLENBQzdCLEVBQUksQ0FDRixFQUFVLE1BQ1YsR0FBRyxFQUFRLE1BQU0sT0FBUyxDQUFDLENBQzdCLEVBQUksRUFBUSxNQUFNLE1BQ2xCLG9CQUFxQixFQUFzQixDQUN6QyxHQUFHLEVBQVUscUJBQXVCLENBQUMsRUFDckMsQ0FDRSxPQUNBLFVBQ0EsUUFDQSxTQUNBLFNBQ0EsVUFDRixDQUNGLEVBQUksRUFBVSxtQkFDaEIsQ0FBQyxDQUNILEVBRUosRUFBRyxLQWdCTCxHQUFHLENBQUMsRUFBUSxDQUNWLEdBQUksQ0FBQyxFQUFRLE9BQU8sS0FDcEIsR0FBSSxNQUFNLFFBQVEsQ0FBTSxFQUFHLENBQ3pCLElBQUksRUFBTSxLQUNWLFFBQVcsS0FBSyxFQUFRLEVBQU0sRUFBSSxJQUFJLENBQUMsRUFDdkMsT0FBTyxFQUVULE9BQU8sYUFBa0IsU0FBVyxLQUFLLGdCQUFnQixJQUN2RCxFQUFPLEtBQUssQ0FBQyxJQUFZLENBQ3ZCLEdBQUksT0FBTyxHQUFXLFdBQVksT0FBTyxFQUFRLElBQUksRUFDckQsR0FBSSxhQUFtQixFQUNyQixPQUFPLEtBQUssS0FBSyxDQUFPLEVBQUUsUUFBUSxFQUNwQyxHQUFJLEVBQVEsYUFBYSxPQUFTLFNBQ2hDLE9BQU8sS0FBSyxLQUNWLENBQ0YsRUFBRSxRQUFRLEVBQ1osR0FBSSxPQUFPLEVBQVEsU0FBVyxXQUM1QixPQUFPLEVBQVEsUUFBUSxJQUFJLEVBQzdCLEdBQUksRUFBUSxtQkFBbUIsRUFDN0IsT0FBTyxLQUFLLEtBQUssRUFBUSxPQUFPLEVBQ2xDLEdBQUksRUFBUSxhQUFhLE9BQVMsU0FDaEMsT0FBTyxLQUFLLEtBQUssRUFBUSxPQUFPLEVBQ2xDLEdBQUksRUFBUSxhQUFhLE9BQVMsVUFDaEMsT0FBTyxLQUFLLEtBQUssRUFBUSxPQUFPLEVBQ2xDLEdBQUksQ0FDRixPQUFPLEtBQUssS0FBSyxFQUFRLE9BQU8sRUFDaEMsTUFBTyxFQUFPLENBQ2QsTUFBTSxRQUFRLE1BQ1osZ0pBQ0YsRUFBRyxHQUVOLEVBQUUsS0FBSyxDQUFDLEtBQU8sR0FBSyxPQUFPLEVBQUUsU0FBVyxZQUFjLEVBQUUsUUFBUSxFQUFHLEVBQUUsQ0FDeEUsRUFBRyxNQUFRLEtBQUssS0FBSyxDQUFNLEVBRTdCLHVCQUF1QixDQUFDLEVBQVEsQ0FDOUIsR0FBSSxFQUFPLGdCQUFnQixNQUFRLEVBQUcsT0FBTyxLQUM3QyxRQUFXLEtBQVcsRUFBTyxnQkFBZ0IsU0FDM0MsS0FBSyxnQkFBZ0IsSUFDbkIsRUFBUSxLQUFLLENBQUMsSUFBTSxDQUNsQixHQUFJLENBQUMsRUFBRyxPQUNSLElBQU0sRUFBSyxLQUFLLEtBQUssQ0FBQyxFQUN0QixPQUFPLGFBQWMsUUFBVSxFQUFHLEtBQUssQ0FBQyxJQUFPLENBQzdDLEVBQUssRUFBRyxRQUFRLEVBQUksRUFBRSxRQUFRLEVBQy9CLEVBQUksRUFBRSxRQUFRLEVBQ2hCLENBQ0gsRUFDRixPQUFPLEtBRVQsSUFBSSxDQUFDLEVBQVEsQ0FDWCxHQUFJLE9BQU8sR0FBVSxXQUFZLENBQy9CLElBQU0sRUFBVyxFQUFPLElBQUksRUFDNUIsT0FBTyxhQUFvQixTQUFXLEtBQUssZ0JBQWdCLElBQ3pELEVBQVMsS0FBSyxDQUFDLElBQVksQ0FDekIsR0FBSSxhQUFtQixFQUFTLENBQzlCLEVBQVEsVUFBWSxJQUFNLEtBQUssVUFBVSxFQUFHLEVBQVEsZ0JBQWtCLElBQU0sS0FBSyxnQkFBZ0IsRUFBRyxFQUFRLHFCQUF1QixJQUFNLEtBQUsscUJBQXFCLEVBQUcsRUFBUSxNQUFNLEtBQUssWUFBWSxJQUFJLEVBQUcsRUFBUSxNQUFNLEtBQUssWUFBWSxLQUFLLEVBQ2hQLFFBQ0UsU0FDQSxPQUNBLFVBQ0EsV0FDRyxPQUFPLE9BQU8sRUFBUSxPQUFPLE9BQU8sRUFDdkMsS0FBSyxJQUNILEVBQ0EsRUFDQSxFQUNBLEVBQ0ssTUFDUCxFQUNGLE9BQU8sSUFBWSxLQUFZLFFBQUssS0FBSyx3QkFBd0IsQ0FBTyxFQUFHLEdBRTdFLE9BQU8sT0FBTyxHQUFXLFdBQWEsRUFDcEMsSUFDRixFQUFJLE9BQU8sRUFBUSxTQUFXLFdBQWEsRUFBUSxRQUNqRCxJQUNGLEVBQUksS0FBSyxLQUFLLENBQU8sRUFDdEIsRUFBRSxLQUFLLENBQUMsS0FBTyxHQUFLLE9BQU8sRUFBRSxTQUFXLFlBQWMsRUFBRSxRQUFRLEVBQUcsRUFBRSxDQUN4RSxFQUFHLE1BQVEsRUFFYixLQUFLLHdCQUF3QixDQUFNLEVBQ25DLElBQU0sRUFBTyxFQUFPLE9BQU8sS0FBTSxFQUFPLEVBQU8sT0FBTyxLQUN0RCxHQUFJLEVBQU8sVUFBWSxJQUFNLEtBQU0sRUFBTyxVQUFZLElBQU0sS0FBSyxVQUFVLEVBQUcsRUFBTyxnQkFBa0IsSUFBTSxLQUFLLGdCQUFnQixFQUFHLEVBQU8scUJBQXVCLElBQU0sS0FBSyxxQkFBcUIsRUFBRyxFQUFPLHFCQUFxQixTQUFXLEtBQUssb0JBQW9CLE1BQVEsS0FBSyxvQkFBb0IsTUFBUSxLQUFLLG9CQUFvQixNQUFNLE9BQzVVLEVBQU8sb0JBQW9CLE1BQzdCLEVBQUksS0FBSyxvQkFBb0IsTUFBUSxFQUFPLG9CQUFvQixRQUFTLEVBQU8scUJBQXFCLFNBQVcsS0FBSyxvQkFBb0IsT0FBUyxLQUFLLG9CQUFvQixPQUFTLEtBQUssb0JBQW9CLE9BQU8sT0FDbE4sRUFBTyxvQkFBb0IsTUFDN0IsRUFBSSxLQUFLLG9CQUFvQixPQUFTLEVBQU8sb0JBQW9CLFFBQVMsR0FBVyxFQUFPLFVBQVUsSUFBTSxLQUFLLFdBQWEsSUFDekgsRUFBTyxjQUNQLEtBQUssVUFDVixHQUFJLEVBQU8sWUFBYyxLQUFLLFFBQVEsRUFBTyxVQUFVLEVBQUcsRUFBTSxDQUM5RCxLQUFRLEtBQUssZUFBaUIsS0FBSyxhQUFhLEdBQVEsQ0FBQyxHQUN6RCxJQUFNLEVBQVUsSUFBYyxPQUFJLEdBQVMsRUFBTyxLQUFLLFVBQVUsQ0FBSSxDQUFDLEVBQUksRUFDMUUsS0FBSyxhQUFhLEdBQU0sS0FDdEIsRUFBRyxTQUFVLEtBQWdCLElBQVksQ0FDM0MsSUFBTSxLQUFLLFNBQVMsTUFBUSxJQUN2QixLQUFLLFNBQVMsU0FDZCxFQUFPLFNBQVMsS0FDckIsRUFBRyxLQUFLLFNBQVMscUJBQXVCLEtBQUssU0FBUyxxQkFBcUIsT0FDekUsRUFBTyxTQUFTLG9CQUNsQixHQUVBLFFBQVcsRUFBTyxTQUFTLEtBQUssSUFBTSxLQUFLLFNBQVMsTUFBUSxJQUN2RCxLQUFLLFNBQVMsU0FDZCxFQUFPLFNBQVMsS0FDckIsR0FBSSxFQUFPLFNBQVMscUJBQXFCLFNBQVcsS0FBSyxTQUFTLHFCQUF1QixLQUFLLFNBQVMscUJBQXFCLE9BQzFILEVBQU8sU0FBUyxvQkFDbEIsR0FDRixHQUFJLEVBQU8sU0FBUyxxQkFBcUIsT0FBUSxDQUMvQyxHQUFvQixLQUFLLFNBQVMsb0JBQW9CLEVBQ3RELElBQU0sRUFBWSxDQUFDLEVBQ25CLFFBQVMsRUFBSSxFQUFHLEVBQUksS0FBSyxTQUFTLHFCQUFxQixPQUFRLElBQUssQ0FDbEUsSUFBTSxFQUFNLEtBQUssU0FBUyxxQkFBcUIsR0FDL0MsRUFBSSxXQUFhLEVBQVUsU0FBUyxFQUFJLFFBQVEsSUFBTSxLQUFLLFNBQVMscUJBQXFCLE9BQU8sRUFBRyxDQUFDLEVBQUcsS0FBTSxFQUFVLEtBQUssRUFBSSxRQUFRLEdBRTFJLEVBQVUsT0FBUyxFQUVyQixLQUFLLFVBQVksR0FBZSxLQUFLLFVBQVcsRUFBTyxTQUFTLEVBQUcsR0FBVyxFQUFPLFVBQVUsU0FBUyxHQUFLLEtBQUssU0FBUyxFQUFPLFVBQVUsU0FBUyxFQUFHLEdBQVcsRUFBTyxVQUFVLEtBQUssR0FBSyxLQUFLLE1BQU0sRUFBTyxVQUFVLEtBQUssRUFBRyxHQUFXLEVBQU8sWUFBWSxJQUFJLEdBQUssS0FBSyxNQUFNLEVBQU8sWUFBWSxJQUFJLEVBQUcsR0FBVyxFQUFPLFlBQVksS0FBSyxHQUFLLEtBQUssTUFBTSxFQUFPLFlBQVksS0FBSyxFQUFHLEdBQVcsRUFBTyxTQUFTLEtBQUssSUFBTSxLQUFLLFNBQVMsTUFBUSxJQUNuYixLQUFLLFNBQVMsU0FDZCxFQUFPLFNBQVMsS0FDckIsR0FDQSxRQUFhLFNBQVEsT0FBTSxVQUFTLFdBQVcsT0FBTyxPQUNwRCxFQUFPLE9BQU8sT0FDaEIsRUFDRSxLQUFLLElBQUksRUFBUSxFQUFNLEVBQVMsQ0FBSyxFQUN2QyxHQUFJLEVBQU0sQ0FDUixLQUFRLEtBQUssZUFBaUIsS0FBSyxhQUFhLEdBQVEsQ0FBQyxHQUN6RCxJQUFNLEVBQVUsSUFBYyxPQUFJLEdBQVMsRUFBTyxLQUFLLFVBQVUsQ0FBSSxDQUFDLEVBQUksRUFDMUUsR0FBSSxLQUFLLGFBQWEsR0FBTSxLQUMxQixFQUFHLFNBQVUsS0FBZ0IsSUFBWSxDQUMzQyxFQUNFLE9BQU8sS0FDVCxLQUFLLGFBQWEsR0FBTSxLQUN0QixLQUFLLFFBQVEsU0FBVyxDQUN0QixLQUFNLEVBQU8sT0FBTyxLQUNwQixLQUFNLEVBQU8sT0FBTyxLQUNwQixTQUFVLEVBQ1YsYUFBYyxFQUFPLGFBQ3JCLE1BQU8sRUFBTyxXQUFXLE1BQ3pCLE9BQVEsRUFBTyxPQUFPLFFBQ3RCLFdBQVksRUFBTyxVQUNuQixNQUFPLEVBQU8sVUFBVSxNQUN4QixNQUFPLEVBQU8sWUFBWSxNQUMxQixPQUFRLEVBQU8sTUFBTSxXQUFXLE9BQU8sQ0FBQyxJQUFNLEdBQUcsVUFBWSxRQUFRLEVBQUUsSUFBSSxDQUFDLEtBQU8sQ0FDakYsR0FBSSxFQUFFLFNBQVMsRUFDZixNQUFXLE1BQU0sRUFBRSxPQUFTLEVBQzlCLEVBQUUsRUFDRixRQUFTLEVBQU8sTUFBTSxXQUFXLE9BQU8sQ0FBQyxJQUFNLEdBQUcsVUFBWSxTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQU8sQ0FDbkYsR0FBSSxFQUFFLFNBQVMsRUFDZixNQUFXLE1BQU0sRUFBRSxPQUFTLEVBQzlCLEVBQUUsQ0FDSixFQUFJLENBQ0YsS0FBTSxFQUFPLE9BQU8sS0FDcEIsS0FBTSxFQUFPLE9BQU8sS0FDcEIsU0FBVSxFQUNWLGFBQWMsRUFBTyxZQUN2QixDQUNGLEVBQUcsR0FBVyxFQUFPLEtBQUssSUFBTSxLQUFLLE1BQVEsR0FDM0MsS0FBSyxNQUNMLEdBQWlCLEVBQU8sS0FBSyxFQUM3QixDQUNGLEdBRUEsUUFBVyxFQUFPLEtBQUssSUFBTSxLQUFLLE1BQVEsR0FDeEMsS0FBSyxNQUNMLEdBQWlCLEVBQU8sS0FBSyxDQUMvQixHQUNGLE9BQU8sRUFBTyxVQUFVLFNBQVcsS0FBSyxVQUFVLE9BQVMsR0FBVSxLQUFLLFVBQVUsT0FBUSxJQUN2RixFQUFPLFVBQVUsTUFDdEIsQ0FBQyxHQUFJLEVBQU8sVUFBVSxTQUFXLEtBQUssVUFBVSxNQUFRLEdBQVUsS0FBSyxVQUFVLE1BQU8sSUFDbkYsRUFBTyxVQUFVLE1BQ3RCLENBQUMsR0FBSSxLQUVQLEtBQUssQ0FBQyxFQUFhLEVBQU8sQ0FDeEIsR0FBSSxPQUFPLEdBQWUsVUFBWSxDQUFDLEVBQ3JDLE1BQVUsTUFBTSw0QkFBNEIsRUFDOUMsT0FBTyxPQUFPLEdBQWUsU0FBVyxLQUFLLFNBQVMsTUFBTSxHQUFlLEVBQVEsS0FBSyxTQUFTLE1BQVEsSUFDcEcsS0FBSyxTQUFTLFNBQ2QsQ0FDTCxFQUFHLEtBRUwsVUFBVSxDQUFDLEVBQVcsRUFBWSxHQUNoQyxZQUFZLEVBQ1osVUFBVSxDQUFDLEdBQ1QsQ0FBQyxFQUFHLENBQ04sR0FBSSxHQUFhLEdBQUksT0FDckIsSUFBTSxFQUFRLEtBQUssU0FBUyxNQUM1QixRQUFVLEVBQUssS0FBVSxPQUFPLFFBQVEsQ0FBUyxFQUFHLENBQ2xELEdBQUksRUFBRSxLQUFPLEdBQVEsU0FDckIsSUFBTSxFQUFZLE9BQU8sRUFBTSxJQUFRLFdBQWEsRUFBTSxHQUFLLENBQUssRUFBSSxFQUFNLEdBQzlFLEdBQUksQ0FBQyxHQUFhLE9BQU8sRUFBTSxJQUFRLFVBQVksSUFBVSxHQUMzRCxPQUNGLElBQU0sRUFBTyxHQUFTLEVBQU0sS0FBSyxVQUFVLEVBQVUsTUFBUSxDQUFLLENBQUMsRUFDbkUsR0FBSSxFQUFFLEtBQVEsR0FBVSxDQUN0QixFQUFRLEdBQVEsR0FDaEIsUUFBVSxFQUFHLEtBQVcsT0FBTyxRQUFRLENBQVMsRUFDOUMsR0FBSSxJQUFNLE9BQVEsQ0FDaEIsR0FBSSxLQUFLLEdBQWEsQ0FDcEIsR0FDRSxFQUNBLEVBQ0EsQ0FDRixFQUFHLE9BQU8sRUFBVSxHQUNwQixTQUVGLEdBQUksSUFBTSxTQUFVLENBQ2xCLEVBQVUsU0FBVyxFQUFVLE9BQVMsQ0FBQyxHQUFJLEVBQVUsT0FBUyxHQUFVLEVBQVUsT0FBUSxFQUFRLENBQ2xHLFdBQVksRUFDZCxDQUFDLEVBQUcsT0FBTyxFQUFVLEdBQ3JCLFNBRUYsR0FBSSxLQUFLLEVBQU8sQ0FDZCxLQUFLLFdBQ0gsRUFDQSxFQUFHLEdBQUksQ0FBTyxFQUNkLENBQUUsVUFBUyxVQUFXLEVBQVksQ0FBRSxDQUN0QyxFQUFHLE9BQU8sRUFBVSxHQUNwQixTQUVGLFFBQVMsSUFBTSxVQUFZLElBQU0sWUFBYyxPQUFPLEdBQVUsYUFBZSxFQUFTLENBQ3RGLEdBQUksRUFDSixRQUFTLENBQ1gsR0FBSSxPQUFPLEVBQVUsUUFDZCxXQUNILEVBQVUsR0FBSyxDQUFDLEVBQVUsR0FBSSxDQUFNLEVBQ3BDLFVBQ0csU0FDSCxNQUFNLFFBQVEsRUFBVSxFQUFFLEVBQUksRUFBVSxHQUFHLEtBQUssQ0FBTSxFQUFJLEVBQVUsR0FBSyxDQUFDLEVBQVUsR0FBSSxDQUFNLEVBQzlGLFVBQ0csWUFDSCxFQUFVLEdBQUssRUFDZixNQUVKLE9BQU8sRUFBVSxNQUszQixLQUFLLENBQUMsRUFBTSxFQUFnQixFQUFRLENBQ2xDLEdBQUksYUFBZ0IsR0FBVyxPQUFPLEdBQVEsWUFBYyxFQUFLLFNBQVcsR0FBSyxJQUFTLElBQUssQ0FDN0YsSUFBTSxFQUFNLE9BQU8sR0FBUSxXQUFhLEVBQU8sYUFBZ0IsRUFBVSxFQUFLLFFBQVEsRUFBRSxNQUFRLGFBQTBCLEVBQVUsRUFBZSxRQUFRLEVBQUUsTUFBUSxPQUFPLEdBQWtCLFdBQWEsR0FBa0IsSUFBTSxDQUNqTyxNQUFVLE1BQU0saUJBQWlCLElBQ2hDLEVBQUcsRUFBVyxFQUFHLFVBQVMsS0FBTSxLQUFZLEVBQzdDLElBQUksUUFBUSxHQUFlLEVBQVEsSUFBSyxDQUFLLEVBQUcsQ0FDOUMsT0FBUSxFQUFRLE9BQ2hCLFFBQVMsRUFBUSxRQUNqQixPQUFRLEVBQVEsT0FDaEIsWUFBYSxFQUFRLFlBQ3JCLGVBQWdCLEVBQVEsZUFDeEIsT0FBUSxFQUFRLE9BQ2hCLFNBQVUsRUFBUSxTQUNsQixLQUFNLEVBQVEsS0FDZCxVQUFXLEVBQVEsVUFDbkIsVUFBVyxFQUFRLFVBQ25CLEtBQU0sRUFBUSxJQUNoQixDQUFDLENBQ0gsRUFDQSxPQUFPLEtBQUssTUFBTSxNQUFPLEtBQU0sRUFBVSxDQUN2QyxNQUFPLFVBQ0osRUFDSCxPQUFRLElBQ0gsR0FBUSxPQUNYLEtBQU0sRUFDUixFQUNBLE9BQVEsQ0FDTixNQUFPLENBQ1QsQ0FDRixDQUFDLEVBQUcsS0FFTixJQUFNLEVBQVMsYUFBMEIsRUFBVSxFQUFlLFFBQVEsRUFBRSxNQUFRLE9BQU8sR0FBa0IsV0FBYSxHQUFrQixJQUFNLENBQ2hKLE1BQVUsTUFBTSxpQkFBaUIsSUFDaEMsRUFBRyxFQUFTLEVBQUssUUFBVSxFQUFLLFNBQVMsR0FBRyxFQUFJLEVBQUksR0FBSSxFQUFVLEVBQUcsVUFBUyxLQUFNLEtBQVksRUFDakcsSUFBSSxRQUNGLEdBQWUsRUFBUSxJQUFLLEVBQU0sTUFBTSxDQUFNLEdBQUssR0FBRyxFQUN0RCxDQUNFLE9BQVEsRUFBUSxPQUNoQixRQUFTLEVBQVEsUUFDakIsT0FBUSxFQUFRLE9BQ2hCLFlBQWEsRUFBUSxZQUNyQixlQUFnQixFQUFRLGVBQ3hCLE9BQVEsRUFBUSxPQUNoQixTQUFVLEVBQVEsU0FDbEIsS0FBTSxFQUFRLEtBQ2QsVUFBVyxFQUFRLFVBQ25CLFVBQVcsRUFBUSxVQUNuQixLQUFNLEVBQVEsSUFDaEIsQ0FDRixDQUNGLEVBQ0EsT0FBTyxLQUFLLE1BQU0sTUFBTyxFQUFNLEVBQVMsQ0FDdEMsTUFBTyxVQUNKLEVBQ0gsT0FBUSxJQUNILEdBQVEsT0FDWCxLQUFNLEVBQ1IsRUFDQSxPQUFRLENBQ04sTUFBTyxDQUNULENBQ0YsQ0FBQyxFQUFHLEtBQUssTUFDUCxNQUNBLEdBQVEsRUFBSyxTQUFTLEdBQUcsRUFBSSxJQUFNLE1BQ25DLEVBQ0EsQ0FDRSxNQUFPLFVBQ0osRUFDSCxPQUFRLElBQ0gsR0FBUSxPQUNYLEtBQU0sRUFDUixFQUNBLE9BQVEsQ0FDTixNQUFPLENBQ1QsQ0FDRixDQUNGLEVBQUcsS0FrQkwsR0FBRyxDQUFDLEVBQU0sRUFBUyxFQUFNLENBQ3ZCLE9BQU8sS0FBSyxJQUFJLE1BQU8sRUFBTSxFQUFTLENBQUksRUFBRyxLQWtCL0MsSUFBSSxDQUFDLEVBQU0sRUFBUyxFQUFNLENBQ3hCLE9BQU8sS0FBSyxJQUFJLE9BQVEsRUFBTSxFQUFTLENBQUksRUFBRyxLQWtCaEQsR0FBRyxDQUFDLEVBQU0sRUFBUyxFQUFNLENBQ3ZCLE9BQU8sS0FBSyxJQUFJLE1BQU8sRUFBTSxFQUFTLENBQUksRUFBRyxLQWtCL0MsS0FBSyxDQUFDLEVBQU0sRUFBUyxFQUFNLENBQ3pCLE9BQU8sS0FBSyxJQUFJLFFBQVMsRUFBTSxFQUFTLENBQUksRUFBRyxLQWtCakQsTUFBTSxDQUFDLEVBQU0sRUFBUyxFQUFNLENBQzFCLE9BQU8sS0FBSyxJQUFJLFNBQVUsRUFBTSxFQUFTLENBQUksRUFBRyxLQWtCbEQsT0FBTyxDQUFDLEVBQU0sRUFBUyxFQUFNLENBQzNCLE9BQU8sS0FBSyxJQUFJLFVBQVcsRUFBTSxFQUFTLENBQUksRUFBRyxLQWtCbkQsR0FBRyxDQUFDLEVBQU0sRUFBUyxFQUFNLENBQ3ZCLE9BQU8sS0FBSyxJQUFJLE1BQU8sRUFBTSxFQUFTLENBQUksRUFBRyxLQWtCL0MsSUFBSSxDQUFDLEVBQU0sRUFBUyxFQUFNLENBQ3hCLE9BQU8sS0FBSyxJQUFJLE9BQVEsRUFBTSxFQUFTLENBQUksRUFBRyxLQWtCaEQsT0FBTyxDQUFDLEVBQU0sRUFBUyxFQUFNLENBQzNCLE9BQU8sS0FBSyxJQUFJLFVBQVcsRUFBTSxFQUFTLENBQUksRUFBRyxLQWtCbkQsS0FBSyxDQUFDLEVBQVEsRUFBTSxFQUFTLEVBQU0sQ0FDakMsT0FBTyxLQUFLLElBQUksRUFBTyxZQUFZLEVBQUcsRUFBTSxFQUFTLEVBQU0sR0FBTSxNQUFNLEVBQUcsS0FtQjVFLEVBQUUsQ0FBQyxFQUFNLEVBQVMsQ0FDaEIsT0FBTyxLQUFLLFlBQVksR0FBSyxLQUFLLFlBQVksR0FBRyxLQUFNLEVBQU0sQ0FBTyxFQUFJLFFBQVEsS0FBSywyQ0FBMkMsRUFBRyxLQWNySSxLQUFLLENBQUMsRUFBUyxFQUFNLEVBQU8sQ0FDMUIsSUFBYyxRQUFLLEVBQVEsRUFBUyxFQUFVLENBQUUsR0FBSSxRQUFTLEVBQUcsRUFBTyxJQUFNLElBQWUsU0FBTSxPQUFPLEdBQVcsVUFBWSxFQUFRLEVBQU0sRUFBTyxFQUFTLEVBQVUsQ0FBRSxHQUFJLFFBQVMsR0FBSyxPQUFPLEdBQVcsV0FBYSxFQUFRLEVBQU0sRUFBTyxLQUNoUCxJQUFRLE1BQU8sRUFDZixHQUFJLE9BQU8sR0FBUSxTQUFVLE9BQU8sS0FDcEMsT0FBUSxPQUFPLE9BQ1IsU0FDSCxNQUFPLENBQUMsR0FBUyxDQUFDLEdBQVcsQ0FBSyxFQUFJLEtBQU8sSUFBUSxLQUFRLEtBQUssVUFBVSxPQUFRLEtBQUssVUFBVSxNQUFNLEdBQVEsR0FDL0csS0FBSyxVQUFVLE1BQU0sR0FDckIsRUFDQSxDQUNFLFNBQVUsSUFBTyxVQUNuQixDQUNGLEVBQUksS0FBSyxVQUFVLE1BQU0sR0FBUSxFQUFPLE1BQVEsSUFBVSxLQUFPLE1BQVEsS0FBSyxVQUFVLE1BQVEsR0FBVSxLQUFLLFVBQVUsTUFBTyxFQUFPLENBQ3JJLFNBQVUsSUFBTyxVQUNuQixDQUFDLEVBQUcsVUFDRCxXQUNILE9BQU8sR0FBUSxJQUFPLFlBQWMsRUFBRSxLQUFRLEtBQUssVUFBVSxVQUFZLEtBQUssVUFBVSxNQUFNLEdBQVEsR0FBUyxLQUFLLFVBQVUsTUFBUSxFQUFNLEtBQUssVUFBVSxLQUFLLEVBQUcsYUFFbkssT0FBUSxJQUFPLFlBQWMsRUFBRSxLQUFRLEtBQUssVUFBVSxVQUFZLEtBQUssVUFBVSxNQUFNLEdBQVEsR0FBUSxNQWU3RyxRQUFRLENBQUMsRUFBUyxFQUFNLEVBQU8sQ0FDN0IsSUFBYyxRQUFLLEVBQVEsRUFBUyxFQUFVLENBQUUsR0FBSSxRQUFTLEVBQUcsRUFBTyxJQUFNLElBQWUsU0FBTSxPQUFPLEdBQVcsVUFBWSxFQUFRLEVBQU0sRUFBTyxFQUFTLEVBQVUsQ0FBRSxHQUFJLFFBQVMsR0FBSyxPQUFPLEdBQVcsV0FBYSxFQUFRLEVBQU0sRUFBTyxLQUNoUCxJQUFRLE1BQU8sRUFDZixHQUFJLE9BQU8sR0FBUSxTQUFVLE9BQU8sS0FDcEMsT0FBUSxPQUFPLE9BQ1IsU0FDSCxPQUFPLElBQVEsS0FBUSxLQUFLLFVBQVUsV0FBWSxLQUFLLFVBQVUsVUFBVSxHQUFRLEdBQ2pGLEtBQUssVUFBVSxVQUFVLEdBQ3pCLEVBQ0EsQ0FDRSxTQUFVLElBQU8sVUFDbkIsQ0FDRixFQUFJLEtBQUssVUFBVSxVQUFVLEdBQVEsRUFBTyxNQUFRLElBQVUsS0FBTyxNQUFRLEtBQUssVUFBVSxVQUFZLEdBQ3RHLEtBQUssVUFBVSxVQUNmLEVBQ0EsQ0FDRSxTQUFVLElBQU8sVUFDbkIsQ0FDRixFQUFHLFVBQ0EsV0FDSCxPQUFPLEdBQVEsSUFBTyxZQUFjLEVBQUUsS0FBUSxLQUFLLFVBQVUsY0FBZ0IsS0FBSyxVQUFVLFVBQVUsR0FBUSxHQUFTLEtBQUssVUFBVSxVQUFZLEVBQU0sS0FBSyxVQUFVLFNBQVMsRUFBRyxhQUVuTCxPQUFRLElBQU8sWUFBYyxFQUFFLEtBQVEsS0FBSyxVQUFVLGNBQWdCLEtBQUssVUFBVSxVQUFVLEdBQVEsR0FBUSxNQUdySCxNQUFNLENBQUMsRUFBb0IsRUFBVyxDQUNwQyxJQUFjLEVBQVksRUFBb0IsRUFBcUIsQ0FBRSxHQUFJLE9BQVEsR0FDakYsSUFBTSxFQUFPLENBQ1gsUUFBUyxTQUNULEdBQUksQ0FDTixFQUNBLE9BQU8sS0FBSyxZQUFZLEVBQW9CLENBQUksRUFFbEQsS0FBSyxDQUFDLEVBQU0sRUFBTyxDQUNqQixJQUFNLEVBQWMsQ0FBQyxJQUFNLENBQ3pCLElBQU0sRUFBTSxDQUFDLEVBQ2IsUUFBVyxLQUFPLEVBQUcsY0FBZSxFQUFFLEtBQVMsRUFBSSxHQUFPLEVBQUUsSUFDNUQsT0FBTyxHQUVULE9BQVEsT0FBTyxPQUNSLFNBQ0gsSUFBTSxFQUFnQixDQUFDLEVBQUcsRUFBTSxPQUFPLFFBQVEsQ0FBSSxFQUNuRCxHQUFJLENBQUMsRUFBSSxPQUFRLE9BQU8sS0FDeEIsUUFBWSxFQUFLLEtBQVUsRUFDekIsS0FBTyxLQUFLLFlBQVksT0FBUyxjQUFlLEVBQVEsS0FBSyxZQUFZLEtBQUssR0FBTyxHQUFTLEVBQWMsR0FBTyxLQUFLLFlBQVksS0FBSyxHQUFPLEVBQU8sRUFBYyxHQUFLLE1BQVEsd0JBQXdCLE1BQzVNLE9BQU8sS0FBSyxZQUFZLFFBQVUsRUFBRSxPQUFPLElBQ3RDLEtBQUssWUFBWSxRQUFRLFNBQ3pCLENBQ0wsQ0FBQyxFQUFHLFNBQ0QsV0FDSCxJQUFNLEVBQVMsRUFBSyxLQUFLLFlBQVksSUFBSSxFQUN6QyxPQUFPLEtBQUssWUFBWSxLQUFPLEVBQVEsS0FBSyxZQUFZLFFBQVUsRUFBRSxPQUFPLEVBQVksQ0FBTSxDQUFDLEVBQUcsU0FDOUYsU0FDSCxHQUFJLENBQUMsRUFBTyxNQUNaLEdBQUksS0FBSyxZQUFZLEtBQUssR0FBUSxFQUFPLGNBQWUsRUFBTyxPQUFPLEtBQ3RFLElBQU0sRUFBVyxJQUNaLEVBQ0gsR0FBSSxFQUFNLEtBQU8sd0JBQXdCLEdBQzNDLEVBQ0EsT0FBTyxLQUFLLFlBQVksUUFBVSxFQUFFLE9BQU8sSUFDdEMsS0FBSyxZQUFZLFFBQVEsU0FDekIsQ0FDTCxDQUFDLEVBQUcsS0FFUixPQUFPLEdBQVMsS0FBSyxZQUFZLEtBQUssR0FBUSxHQUFPLGNBQWUsR0FBUSxNQUFRLEtBQUssWUFBWSxRQUFVLEVBQUUsT0FBTyxJQUNuSCxLQUFLLFlBQVksUUFBUSxPQUMzQixHQUFPLENBQ1YsQ0FBQyxFQUFHLE9BQVMsS0FFZixHQUFHLENBQUMsRUFBSyxDQUNQLE9BQU8sRUFBRSxJQUFJLENBQUcsRUFFbEIsU0FBUyxDQUFDLEVBQWlCLEVBQVEsQ0FDakMsSUFBVyxFQUFTLEVBQWlCLEVBQWtCLENBQUUsR0FBSSxPQUFRLEdBQ3JFLElBQU0sRUFBTyxDQUNYLFFBQVMsWUFDVCxHQUFJLENBQ04sRUFDQSxPQUFPLEtBQUssWUFBWSxFQUFpQixDQUFJLEVBRS9DLEtBQUssQ0FBQyxFQUFNLEVBQU0sRUFBTSxDQUN0QixHQUFJLElBQVMsR0FBSSxPQUFPLEtBQ3hCLElBQU0sRUFBYSxDQUFDLElBQUssSUFBSyxHQUFHLEVBQUcsRUFBYSxDQUFDLElBQVUsRUFBTSxHQUFHLFlBQVksRUFBSSxFQUFNLE1BQU0sQ0FBQyxFQUFHLEVBQVUsSUFBUyxTQUFXLENBQUMsRUFBUSxJQUFVLEVBQVcsU0FBUyxFQUFPLEdBQUcsRUFBRSxHQUFLLEVBQUUsRUFBSSxFQUFTLEVBQVEsRUFBUyxFQUFXLENBQUssRUFBSSxFQUFXLFNBQVMsRUFBSyxHQUFHLEVBQUUsR0FBSyxFQUFFLEVBQUksQ0FBQyxFQUFRLElBQVUsRUFBUSxFQUFTLENBQUMsRUFBUSxJQUFVLEVBQVEsRUFBVyxDQUFNLEVBQUcsRUFBUSxDQUFDLElBQVUsQ0FDNVgsSUFBTSxFQUFRLENBQUMsRUFDZixPQUFRLE9BQ0QsWUFDSCxRQUFXLEtBQU8sS0FBSyxVQUFVLFVBQy9CLEVBQU0sRUFBUSxFQUFNLENBQUcsR0FBSyxLQUFLLFVBQVUsVUFBVSxHQUN2RCxLQUFLLFVBQVUsVUFBWSxFQUMzQixVQUNHLFFBQ0gsUUFBVyxLQUFPLEtBQUssVUFBVSxNQUMvQixFQUFNLEVBQVEsRUFBTSxDQUFHLEdBQUssS0FBSyxVQUFVLE1BQU0sR0FDbkQsS0FBSyxVQUFVLE1BQVEsRUFDdkIsVUFDRyxRQUNILFFBQVcsS0FBTyxLQUFLLFlBQVksS0FDakMsRUFBTSxFQUFRLEVBQU0sQ0FBRyxHQUFLLEtBQUssWUFBWSxLQUFLLEdBQ3BELEtBQUssWUFBWSxLQUFPLEVBQ3hCLFVBQ0csUUFDSCxRQUFXLEtBQU8sS0FBSyxZQUFZLE1BQ2pDLEVBQU0sRUFBUSxFQUFNLENBQUcsR0FBSyxLQUFLLFlBQVksTUFBTSxHQUNyRCxLQUFLLFlBQVksTUFBUSxFQUN6QixRQUVILEVBQVEsTUFBTSxRQUFRLENBQUksRUFBSSxFQUFPLENBQUMsQ0FBSSxFQUM3QyxRQUFXLEtBQVMsRUFBTSxLQUFLLENBQUMsSUFBTSxJQUFNLEtBQUssRUFBSSxDQUFDLFlBQWEsUUFBUyxRQUFTLE9BQU8sRUFBSSxFQUM5RixFQUFNLENBQUssRUFDYixPQUFPLEtBRVQsTUFBTSxDQUFDLEVBQU0sRUFBTSxDQUNqQixPQUFPLEtBQUssTUFBTSxTQUFVLEVBQU0sQ0FBSSxFQUV4QyxNQUFNLENBQUMsRUFBTSxFQUFNLENBQ2pCLE9BQU8sS0FBSyxNQUFNLFNBQVUsRUFBTSxDQUFJLEVBRXhDLE9BQU8sRUFBRyxDQUNSLE9BQU8sS0FBSyxZQUFZLGdCQUFnQixJQUFJLEVBQUcsS0FBSyxZQUFZLGVBQWlCLEtBQUssTUFBUSxLQUFLLE9BQU8sSUFBTSxHQUFzQixJQUFJLEVBQUksR0FBcUIsSUFBSSxFQUFHLE9BQU8sS0FBSyxRQUFRLFFBQVUsWUFBYyxLQUFLLE9BQU8sT0FBTyxJQUNwTyxLQUFLLFFBQVUsQ0FBQyxFQUNuQixNQUFPLEtBQUssS0FDZCxDQUFDLEVBQUcsT0FBUyxPQUFPLEtBQUssUUFBUSxRQUFVLFlBQWMsS0FBSyxPQUFPLE9BQU8sS0FBSyxRQUFVLENBQUMsQ0FBQyxFQUFHLEtBQUssUUFBVSxHQUFzQixJQUFJLEVBQUcsU0FLMUksUUFBTyxFQUFHLENBQ1osT0FBTyxLQUFLLGdCQUVoQixFQUNJLEdBQVMsR2lEdHlEYixJQUFNLEdBQW1CLElBQUksR0FBTyxFQUNqQyxJQUFJLElBQUssSUFBTSxJQUFJLEVBR1AsTUNGZixJQUFNLEdBQXFCLElBQ3RCLEdBQ0gsT0FBUSxFQUNWLEVBRWUsTUFDRixHQUFPIiwKICAiZGVidWdJZCI6ICJFNEU5MTk1NzlBMTIzMUVFNjQ3NTZFMjE2NDc1NkUyMSIsCiAgIm5hbWVzIjogW10KfQ==

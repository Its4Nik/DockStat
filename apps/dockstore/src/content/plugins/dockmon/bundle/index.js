// @bun
/* Bundled by DockStore */
var _$=Object.create;var{getPrototypeOf:K$,defineProperty:p0,getOwnPropertyNames:z$}=Object;var E$=Object.prototype.hasOwnProperty;var V$=($,X,Z)=>{Z=$!=null?_$(K$($)):{};let J=X||!$||!$.__esModule?p0(Z,"default",{value:$,enumerable:!0}):Z;for(let Y of z$($))if(!E$.call(J,Y))p0(J,Y,{get:()=>$[Y],enumerable:!0});return J};var A=($,X)=>()=>(X||$((X={exports:{}}).exports,X),X.exports);var l0=import.meta.require;var Y1=A((L$)=>{var J1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");L$.encode=function($){if(0<=$&&$<J1.length)return J1[$];throw TypeError("Must be between 0 and 63: "+$)};L$.decode=function($){var X=65,Z=90,J=97,Y=122,W=48,_=57,K=43,z=47,E=26,G=52;if(X<=$&&$<=Z)return $-X;if(J<=$&&$<=Y)return $-J+E;if(W<=$&&$<=_)return $-W+G;if($==K)return 62;if($==z)return 63;return-1}});var D0=A((x$)=>{var W1=Y1(),U0=5,_1=1<<U0,K1=_1-1,z1=_1;function N$($){return $<0?(-$<<1)+1:($<<1)+0}function b$($){var X=($&1)===1,Z=$>>1;return X?-Z:Z}x$.encode=function(X){var Z="",J,Y=N$(X);do{if(J=Y&K1,Y>>>=U0,Y>0)J|=z1;Z+=W1.encode(J)}while(Y>0);return Z};x$.decode=function(X,Z,J){var Y=X.length,W=0,_=0,K,z;do{if(Z>=Y)throw Error("Expected more digits in base 64 VLQ value.");if(z=W1.decode(X.charCodeAt(Z++)),z===-1)throw Error("Invalid base64 digit: "+X.charAt(Z-1));K=!!(z&z1),z&=K1,W=W+(z<<_),_+=U0}while(K);J.value=b$(W),J.rest=Z}});var l=A((p$)=>{function M$($,X,Z){if(X in $)return $[X];else if(arguments.length===3)return Z;else throw Error('"'+X+'" is a required argument.')}p$.getArg=M$;var E1=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,C$=/^data:.+\,.+$/;function $0($){var X=$.match(E1);if(!X)return null;return{scheme:X[1],auth:X[2],host:X[3],port:X[4],path:X[5]}}p$.urlParse=$0;function u($){var X="";if($.scheme)X+=$.scheme+":";if(X+="//",$.auth)X+=$.auth+"@";if($.host)X+=$.host;if($.port)X+=":"+$.port;if($.path)X+=$.path;return X}p$.urlGenerate=u;function B0($){var X=$,Z=$0($);if(Z){if(!Z.path)return $;X=Z.path}var J=p$.isAbsolute(X),Y=X.split(/\/+/);for(var W,_=0,K=Y.length-1;K>=0;K--)if(W=Y[K],W===".")Y.splice(K,1);else if(W==="..")_++;else if(_>0)if(W==="")Y.splice(K+1,_),_=0;else Y.splice(K,2),_--;if(X=Y.join("/"),X==="")X=J?"/":".";if(Z)return Z.path=X,u(Z);return X}p$.normalize=B0;function V1($,X){if($==="")$=".";if(X==="")X=".";var Z=$0(X),J=$0($);if(J)$=J.path||"/";if(Z&&!Z.scheme){if(J)Z.scheme=J.scheme;return u(Z)}if(Z||X.match(C$))return X;if(J&&!J.host&&!J.path)return J.host=X,u(J);var Y=X.charAt(0)==="/"?X:B0($.replace(/\/+$/,"")+"/"+X);if(J)return J.path=Y,u(J);return Y}p$.join=V1;p$.isAbsolute=function($){return $.charAt(0)==="/"||E1.test($)};function f$($,X){if($==="")$=".";$=$.replace(/\/$/,"");var Z=0;while(X.indexOf($+"/")!==0){var J=$.lastIndexOf("/");if(J<0)return X;if($=$.slice(0,J),$.match(/^([^\/]+:\/)?\/*$/))return X;++Z}return Array(Z+1).join("../")+X.substr($.length+1)}p$.relative=f$;var G1=function(){var $=Object.create(null);return!("__proto__"in $)}();function j1($){return $}function S$($){if(H1($))return"$"+$;return $}p$.toSetString=G1?j1:S$;function h$($){if(H1($))return $.slice(1);return $}p$.fromSetString=G1?j1:h$;function H1($){if(!$)return!1;var X=$.length;if(X<9)return!1;if($.charCodeAt(X-1)!==95||$.charCodeAt(X-2)!==95||$.charCodeAt(X-3)!==111||$.charCodeAt(X-4)!==116||$.charCodeAt(X-5)!==111||$.charCodeAt(X-6)!==114||$.charCodeAt(X-7)!==112||$.charCodeAt(X-8)!==95||$.charCodeAt(X-9)!==95)return!1;for(var Z=X-10;Z>=0;Z--)if($.charCodeAt(Z)!==36)return!1;return!0}function d$($,X,Z){var J=p($.source,X.source);if(J!==0)return J;if(J=$.originalLine-X.originalLine,J!==0)return J;if(J=$.originalColumn-X.originalColumn,J!==0||Z)return J;if(J=$.generatedColumn-X.generatedColumn,J!==0)return J;if(J=$.generatedLine-X.generatedLine,J!==0)return J;return p($.name,X.name)}p$.compareByOriginalPositions=d$;function g$($,X,Z){var J=$.generatedLine-X.generatedLine;if(J!==0)return J;if(J=$.generatedColumn-X.generatedColumn,J!==0||Z)return J;if(J=p($.source,X.source),J!==0)return J;if(J=$.originalLine-X.originalLine,J!==0)return J;if(J=$.originalColumn-X.originalColumn,J!==0)return J;return p($.name,X.name)}p$.compareByGeneratedPositionsDeflated=g$;function p($,X){if($===X)return 0;if($===null)return 1;if(X===null)return-1;if($>X)return 1;return-1}function m$($,X){var Z=$.generatedLine-X.generatedLine;if(Z!==0)return Z;if(Z=$.generatedColumn-X.generatedColumn,Z!==0)return Z;if(Z=p($.source,X.source),Z!==0)return Z;if(Z=$.originalLine-X.originalLine,Z!==0)return Z;if(Z=$.originalColumn-X.originalColumn,Z!==0)return Z;return p($.name,X.name)}p$.compareByGeneratedPositionsInflated=m$;function c$($){return JSON.parse($.replace(/^\)]}'[^\n]*\n/,""))}p$.parseSourceMapInput=c$;function u$($,X,Z){if(X=X||"",$){if($[$.length-1]!=="/"&&X[0]!=="/")$+="/";X=$+X}if(Z){var J=$0(Z);if(!J)throw Error("sourceMapURL could not be parsed");if(J.path){var Y=J.path.lastIndexOf("/");if(Y>=0)J.path=J.path.substring(0,Y+1)}X=V1(u(J),X)}return B0(X)}p$.computeSourceURL=u$});var A0=A((W4)=>{var I0=l(),R0=Object.prototype.hasOwnProperty,h=typeof Map<"u";function M(){this._array=[],this._set=h?new Map:Object.create(null)}M.fromArray=function(X,Z){var J=new M;for(var Y=0,W=X.length;Y<W;Y++)J.add(X[Y],Z);return J};M.prototype.size=function(){return h?this._set.size:Object.getOwnPropertyNames(this._set).length};M.prototype.add=function(X,Z){var J=h?X:I0.toSetString(X),Y=h?this.has(X):R0.call(this._set,J),W=this._array.length;if(!Y||Z)this._array.push(X);if(!Y)if(h)this._set.set(X,W);else this._set[J]=W};M.prototype.has=function(X){if(h)return this._set.has(X);else{var Z=I0.toSetString(X);return R0.call(this._set,Z)}};M.prototype.indexOf=function(X){if(h){var Z=this._set.get(X);if(Z>=0)return Z}else{var J=I0.toSetString(X);if(R0.call(this._set,J))return this._set[J]}throw Error('"'+X+'" is not in the set.')};M.prototype.at=function(X){if(X>=0&&X<this._array.length)return this._array[X];throw Error("No element indexed by "+X)};M.prototype.toArray=function(){return this._array.slice()};W4.ArraySet=M});var Q1=A((z4)=>{var T1=l();function K4($,X){var Z=$.generatedLine,J=X.generatedLine,Y=$.generatedColumn,W=X.generatedColumn;return J>Z||J==Z&&W>=Y||T1.compareByGeneratedPositionsInflated($,X)<=0}function G0(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}G0.prototype.unsortedForEach=function(X,Z){this._array.forEach(X,Z)};G0.prototype.add=function(X){if(K4(this._last,X))this._last=X,this._array.push(X);else this._sorted=!1,this._array.push(X)};G0.prototype.toArray=function(){if(!this._sorted)this._array.sort(T1.compareByGeneratedPositionsInflated),this._sorted=!0;return this._array};z4.MappingList=G0});var q0=A((G4)=>{var X0=D0(),U=l(),j0=A0().ArraySet,V4=Q1().MappingList;function w($){if(!$)$={};this._file=U.getArg($,"file",null),this._sourceRoot=U.getArg($,"sourceRoot",null),this._skipValidation=U.getArg($,"skipValidation",!1),this._sources=new j0,this._names=new j0,this._mappings=new V4,this._sourcesContents=null}w.prototype._version=3;w.fromSourceMap=function(X){var Z=X.sourceRoot,J=new w({file:X.file,sourceRoot:Z});return X.eachMapping(function(Y){var W={generated:{line:Y.generatedLine,column:Y.generatedColumn}};if(Y.source!=null){if(W.source=Y.source,Z!=null)W.source=U.relative(Z,W.source);if(W.original={line:Y.originalLine,column:Y.originalColumn},Y.name!=null)W.name=Y.name}J.addMapping(W)}),X.sources.forEach(function(Y){var W=Y;if(Z!==null)W=U.relative(Z,Y);if(!J._sources.has(W))J._sources.add(W);var _=X.sourceContentFor(Y);if(_!=null)J.setSourceContent(Y,_)}),J};w.prototype.addMapping=function(X){var Z=U.getArg(X,"generated"),J=U.getArg(X,"original",null),Y=U.getArg(X,"source",null),W=U.getArg(X,"name",null);if(!this._skipValidation)this._validateMapping(Z,J,Y,W);if(Y!=null){if(Y=String(Y),!this._sources.has(Y))this._sources.add(Y)}if(W!=null){if(W=String(W),!this._names.has(W))this._names.add(W)}this._mappings.add({generatedLine:Z.line,generatedColumn:Z.column,originalLine:J!=null&&J.line,originalColumn:J!=null&&J.column,source:Y,name:W})};w.prototype.setSourceContent=function(X,Z){var J=X;if(this._sourceRoot!=null)J=U.relative(this._sourceRoot,J);if(Z!=null){if(!this._sourcesContents)this._sourcesContents=Object.create(null);this._sourcesContents[U.toSetString(J)]=Z}else if(this._sourcesContents){if(delete this._sourcesContents[U.toSetString(J)],Object.keys(this._sourcesContents).length===0)this._sourcesContents=null}};w.prototype.applySourceMap=function(X,Z,J){var Y=Z;if(Z==null){if(X.file==null)throw Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);Y=X.file}var W=this._sourceRoot;if(W!=null)Y=U.relative(W,Y);var _=new j0,K=new j0;this._mappings.unsortedForEach(function(z){if(z.source===Y&&z.originalLine!=null){var E=X.originalPositionFor({line:z.originalLine,column:z.originalColumn});if(E.source!=null){if(z.source=E.source,J!=null)z.source=U.join(J,z.source);if(W!=null)z.source=U.relative(W,z.source);if(z.originalLine=E.line,z.originalColumn=E.column,E.name!=null)z.name=E.name}}var G=z.source;if(G!=null&&!_.has(G))_.add(G);var V=z.name;if(V!=null&&!K.has(V))K.add(V)},this),this._sources=_,this._names=K,X.sources.forEach(function(z){var E=X.sourceContentFor(z);if(E!=null){if(J!=null)z=U.join(J,z);if(W!=null)z=U.relative(W,z);this.setSourceContent(z,E)}},this)};w.prototype._validateMapping=function(X,Z,J,Y){if(Z&&typeof Z.line!=="number"&&typeof Z.column!=="number")throw Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(X&&"line"in X&&"column"in X&&X.line>0&&X.column>=0&&!Z&&!J&&!Y)return;else if(X&&"line"in X&&"column"in X&&Z&&"line"in Z&&"column"in Z&&X.line>0&&X.column>=0&&Z.line>0&&Z.column>=0&&J)return;else throw Error("Invalid mapping: "+JSON.stringify({generated:X,source:J,original:Z,name:Y}))};w.prototype._serializeMappings=function(){var X=0,Z=1,J=0,Y=0,W=0,_=0,K="",z,E,G,V,j=this._mappings.toArray();for(var T=0,L=j.length;T<L;T++){if(E=j[T],z="",E.generatedLine!==Z){X=0;while(E.generatedLine!==Z)z+=";",Z++}else if(T>0){if(!U.compareByGeneratedPositionsInflated(E,j[T-1]))continue;z+=","}if(z+=X0.encode(E.generatedColumn-X),X=E.generatedColumn,E.source!=null){if(V=this._sources.indexOf(E.source),z+=X0.encode(V-_),_=V,z+=X0.encode(E.originalLine-1-Y),Y=E.originalLine-1,z+=X0.encode(E.originalColumn-J),J=E.originalColumn,E.name!=null)G=this._names.indexOf(E.name),z+=X0.encode(G-W),W=G}K+=z}return K};w.prototype._generateSourcesContent=function(X,Z){return X.map(function(J){if(!this._sourcesContents)return null;if(Z!=null)J=U.relative(Z,J);var Y=U.toSetString(J);return Object.prototype.hasOwnProperty.call(this._sourcesContents,Y)?this._sourcesContents[Y]:null},this)};w.prototype.toJSON=function(){var X={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};if(this._file!=null)X.file=this._file;if(this._sourceRoot!=null)X.sourceRoot=this._sourceRoot;if(this._sourcesContents)X.sourcesContent=this._generateSourcesContent(X.sources,X.sourceRoot);return X};w.prototype.toString=function(){return JSON.stringify(this.toJSON())};G4.SourceMapGenerator=w});var k1=A((H4)=>{H4.GREATEST_LOWER_BOUND=1;H4.LEAST_UPPER_BOUND=2;function L0($,X,Z,J,Y,W){var _=Math.floor((X-$)/2)+$,K=Y(Z,J[_],!0);if(K===0)return _;else if(K>0){if(X-_>1)return L0(_,X,Z,J,Y,W);if(W==H4.LEAST_UPPER_BOUND)return X<J.length?X:-1;else return _}else{if(_-$>1)return L0($,_,Z,J,Y,W);if(W==H4.LEAST_UPPER_BOUND)return _;else return $<0?-1:$}}H4.search=function(X,Z,J,Y){if(Z.length===0)return-1;var W=L0(-1,Z.length,X,Z,J,Y||H4.GREATEST_LOWER_BOUND);if(W<0)return-1;while(W-1>=0){if(J(Z[W],Z[W-1],!0)!==0)break;--W}return W}});var F1=A((O4)=>{function w0($,X,Z){var J=$[X];$[X]=$[Z],$[Z]=J}function Q4($,X){return Math.round($+Math.random()*(X-$))}function N0($,X,Z,J){if(Z<J){var Y=Q4(Z,J),W=Z-1;w0($,Y,J);var _=$[J];for(var K=Z;K<J;K++)if(X($[K],_)<=0)W+=1,w0($,W,K);w0($,W+1,K);var z=W+1;N0($,X,Z,z-1),N0($,X,z+1,J)}}O4.quickSort=function($,X){N0($,X,0,$.length-1)}});var D1=A((U4)=>{var H=l(),b0=k1(),i=A0().ArraySet,F4=D0(),Z0=F1().quickSort;function Q($,X){var Z=$;if(typeof $==="string")Z=H.parseSourceMapInput($);return Z.sections!=null?new x(Z,X):new D(Z,X)}Q.fromSourceMap=function($,X){return D.fromSourceMap($,X)};Q.prototype._version=3;Q.prototype.__generatedMappings=null;Object.defineProperty(Q.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){if(!this.__generatedMappings)this._parseMappings(this._mappings,this.sourceRoot);return this.__generatedMappings}});Q.prototype.__originalMappings=null;Object.defineProperty(Q.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){if(!this.__originalMappings)this._parseMappings(this._mappings,this.sourceRoot);return this.__originalMappings}});Q.prototype._charIsMappingSeparator=function(X,Z){var J=X.charAt(Z);return J===";"||J===","};Q.prototype._parseMappings=function(X,Z){throw Error("Subclasses must implement _parseMappings")};Q.GENERATED_ORDER=1;Q.ORIGINAL_ORDER=2;Q.GREATEST_LOWER_BOUND=1;Q.LEAST_UPPER_BOUND=2;Q.prototype.eachMapping=function(X,Z,J){var Y=Z||null,W=J||Q.GENERATED_ORDER,_;switch(W){case Q.GENERATED_ORDER:_=this._generatedMappings;break;case Q.ORIGINAL_ORDER:_=this._originalMappings;break;default:throw Error("Unknown order of iteration.")}var K=this.sourceRoot;_.map(function(z){var E=z.source===null?null:this._sources.at(z.source);return E=H.computeSourceURL(K,E,this._sourceMapURL),{source:E,generatedLine:z.generatedLine,generatedColumn:z.generatedColumn,originalLine:z.originalLine,originalColumn:z.originalColumn,name:z.name===null?null:this._names.at(z.name)}},this).forEach(X,Y)};Q.prototype.allGeneratedPositionsFor=function(X){var Z=H.getArg(X,"line"),J={source:H.getArg(X,"source"),originalLine:Z,originalColumn:H.getArg(X,"column",0)};if(J.source=this._findSourceIndex(J.source),J.source<0)return[];var Y=[],W=this._findMapping(J,this._originalMappings,"originalLine","originalColumn",H.compareByOriginalPositions,b0.LEAST_UPPER_BOUND);if(W>=0){var _=this._originalMappings[W];if(X.column===void 0){var K=_.originalLine;while(_&&_.originalLine===K)Y.push({line:H.getArg(_,"generatedLine",null),column:H.getArg(_,"generatedColumn",null),lastColumn:H.getArg(_,"lastGeneratedColumn",null)}),_=this._originalMappings[++W]}else{var z=_.originalColumn;while(_&&_.originalLine===Z&&_.originalColumn==z)Y.push({line:H.getArg(_,"generatedLine",null),column:H.getArg(_,"generatedColumn",null),lastColumn:H.getArg(_,"lastGeneratedColumn",null)}),_=this._originalMappings[++W]}}return Y};U4.SourceMapConsumer=Q;function D($,X){var Z=$;if(typeof $==="string")Z=H.parseSourceMapInput($);var J=H.getArg(Z,"version"),Y=H.getArg(Z,"sources"),W=H.getArg(Z,"names",[]),_=H.getArg(Z,"sourceRoot",null),K=H.getArg(Z,"sourcesContent",null),z=H.getArg(Z,"mappings"),E=H.getArg(Z,"file",null);if(J!=this._version)throw Error("Unsupported version: "+J);if(_)_=H.normalize(_);Y=Y.map(String).map(H.normalize).map(function(G){return _&&H.isAbsolute(_)&&H.isAbsolute(G)?H.relative(_,G):G}),this._names=i.fromArray(W.map(String),!0),this._sources=i.fromArray(Y,!0),this._absoluteSources=this._sources.toArray().map(function(G){return H.computeSourceURL(_,G,X)}),this.sourceRoot=_,this.sourcesContent=K,this._mappings=z,this._sourceMapURL=X,this.file=E}D.prototype=Object.create(Q.prototype);D.prototype.consumer=Q;D.prototype._findSourceIndex=function($){var X=$;if(this.sourceRoot!=null)X=H.relative(this.sourceRoot,X);if(this._sources.has(X))return this._sources.indexOf(X);var Z;for(Z=0;Z<this._absoluteSources.length;++Z)if(this._absoluteSources[Z]==$)return Z;return-1};D.fromSourceMap=function(X,Z){var J=Object.create(D.prototype),Y=J._names=i.fromArray(X._names.toArray(),!0),W=J._sources=i.fromArray(X._sources.toArray(),!0);J.sourceRoot=X._sourceRoot,J.sourcesContent=X._generateSourcesContent(J._sources.toArray(),J.sourceRoot),J.file=X._file,J._sourceMapURL=Z,J._absoluteSources=J._sources.toArray().map(function(T){return H.computeSourceURL(J.sourceRoot,T,Z)});var _=X._mappings.toArray().slice(),K=J.__generatedMappings=[],z=J.__originalMappings=[];for(var E=0,G=_.length;E<G;E++){var V=_[E],j=new U1;if(j.generatedLine=V.generatedLine,j.generatedColumn=V.generatedColumn,V.source){if(j.source=W.indexOf(V.source),j.originalLine=V.originalLine,j.originalColumn=V.originalColumn,V.name)j.name=Y.indexOf(V.name);z.push(j)}K.push(j)}return Z0(J.__originalMappings,H.compareByOriginalPositions),J};D.prototype._version=3;Object.defineProperty(D.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function U1(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}D.prototype._parseMappings=function(X,Z){var J=1,Y=0,W=0,_=0,K=0,z=0,E=X.length,G=0,V={},j={},T=[],L=[],R,z0,B,g,u0;while(G<E)if(X.charAt(G)===";")J++,G++,Y=0;else if(X.charAt(G)===",")G++;else{R=new U1,R.generatedLine=J;for(g=G;g<E;g++)if(this._charIsMappingSeparator(X,g))break;if(z0=X.slice(G,g),B=V[z0],B)G+=z0.length;else{B=[];while(G<g)F4.decode(X,G,j),u0=j.value,G=j.rest,B.push(u0);if(B.length===2)throw Error("Found a source, but no line and column");if(B.length===3)throw Error("Found a source and line, but no column");V[z0]=B}if(R.generatedColumn=Y+B[0],Y=R.generatedColumn,B.length>1){if(R.source=K+B[1],K+=B[1],R.originalLine=W+B[2],W=R.originalLine,R.originalLine+=1,R.originalColumn=_+B[3],_=R.originalColumn,B.length>4)R.name=z+B[4],z+=B[4]}if(L.push(R),typeof R.originalLine==="number")T.push(R)}Z0(L,H.compareByGeneratedPositionsDeflated),this.__generatedMappings=L,Z0(T,H.compareByOriginalPositions),this.__originalMappings=T};D.prototype._findMapping=function(X,Z,J,Y,W,_){if(X[J]<=0)throw TypeError("Line must be greater than or equal to 1, got "+X[J]);if(X[Y]<0)throw TypeError("Column must be greater than or equal to 0, got "+X[Y]);return b0.search(X,Z,W,_)};D.prototype.computeColumnSpans=function(){for(var X=0;X<this._generatedMappings.length;++X){var Z=this._generatedMappings[X];if(X+1<this._generatedMappings.length){var J=this._generatedMappings[X+1];if(Z.generatedLine===J.generatedLine){Z.lastGeneratedColumn=J.generatedColumn-1;continue}}Z.lastGeneratedColumn=1/0}};D.prototype.originalPositionFor=function(X){var Z={generatedLine:H.getArg(X,"line"),generatedColumn:H.getArg(X,"column")},J=this._findMapping(Z,this._generatedMappings,"generatedLine","generatedColumn",H.compareByGeneratedPositionsDeflated,H.getArg(X,"bias",Q.GREATEST_LOWER_BOUND));if(J>=0){var Y=this._generatedMappings[J];if(Y.generatedLine===Z.generatedLine){var W=H.getArg(Y,"source",null);if(W!==null)W=this._sources.at(W),W=H.computeSourceURL(this.sourceRoot,W,this._sourceMapURL);var _=H.getArg(Y,"name",null);if(_!==null)_=this._names.at(_);return{source:W,line:H.getArg(Y,"originalLine",null),column:H.getArg(Y,"originalColumn",null),name:_}}}return{source:null,line:null,column:null,name:null}};D.prototype.hasContentsOfAllSources=function(){if(!this.sourcesContent)return!1;return this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(X){return X==null})};D.prototype.sourceContentFor=function(X,Z){if(!this.sourcesContent)return null;var J=this._findSourceIndex(X);if(J>=0)return this.sourcesContent[J];var Y=X;if(this.sourceRoot!=null)Y=H.relative(this.sourceRoot,Y);var W;if(this.sourceRoot!=null&&(W=H.urlParse(this.sourceRoot))){var _=Y.replace(/^file:\/\//,"");if(W.scheme=="file"&&this._sources.has(_))return this.sourcesContent[this._sources.indexOf(_)];if((!W.path||W.path=="/")&&this._sources.has("/"+Y))return this.sourcesContent[this._sources.indexOf("/"+Y)]}if(Z)return null;else throw Error('"'+Y+'" is not in the SourceMap.')};D.prototype.generatedPositionFor=function(X){var Z=H.getArg(X,"source");if(Z=this._findSourceIndex(Z),Z<0)return{line:null,column:null,lastColumn:null};var J={source:Z,originalLine:H.getArg(X,"line"),originalColumn:H.getArg(X,"column")},Y=this._findMapping(J,this._originalMappings,"originalLine","originalColumn",H.compareByOriginalPositions,H.getArg(X,"bias",Q.GREATEST_LOWER_BOUND));if(Y>=0){var W=this._originalMappings[Y];if(W.source===J.source)return{line:H.getArg(W,"generatedLine",null),column:H.getArg(W,"generatedColumn",null),lastColumn:H.getArg(W,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};U4.BasicSourceMapConsumer=D;function x($,X){var Z=$;if(typeof $==="string")Z=H.parseSourceMapInput($);var J=H.getArg(Z,"version"),Y=H.getArg(Z,"sections");if(J!=this._version)throw Error("Unsupported version: "+J);this._sources=new i,this._names=new i;var W={line:-1,column:0};this._sections=Y.map(function(_){if(_.url)throw Error("Support for url field in sections not implemented.");var K=H.getArg(_,"offset"),z=H.getArg(K,"line"),E=H.getArg(K,"column");if(z<W.line||z===W.line&&E<W.column)throw Error("Section offsets must be ordered and non-overlapping.");return W=K,{generatedOffset:{generatedLine:z+1,generatedColumn:E+1},consumer:new Q(H.getArg(_,"map"),X)}})}x.prototype=Object.create(Q.prototype);x.prototype.constructor=Q;x.prototype._version=3;Object.defineProperty(x.prototype,"sources",{get:function(){var $=[];for(var X=0;X<this._sections.length;X++)for(var Z=0;Z<this._sections[X].consumer.sources.length;Z++)$.push(this._sections[X].consumer.sources[Z]);return $}});x.prototype.originalPositionFor=function(X){var Z={generatedLine:H.getArg(X,"line"),generatedColumn:H.getArg(X,"column")},J=b0.search(Z,this._sections,function(W,_){var K=W.generatedLine-_.generatedOffset.generatedLine;if(K)return K;return W.generatedColumn-_.generatedOffset.generatedColumn}),Y=this._sections[J];if(!Y)return{source:null,line:null,column:null,name:null};return Y.consumer.originalPositionFor({line:Z.generatedLine-(Y.generatedOffset.generatedLine-1),column:Z.generatedColumn-(Y.generatedOffset.generatedLine===Z.generatedLine?Y.generatedOffset.generatedColumn-1:0),bias:X.bias})};x.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(X){return X.consumer.hasContentsOfAllSources()})};x.prototype.sourceContentFor=function(X,Z){for(var J=0;J<this._sections.length;J++){var Y=this._sections[J],W=Y.consumer.sourceContentFor(X,!0);if(W)return W}if(Z)return null;else throw Error('"'+X+'" is not in the SourceMap.')};x.prototype.generatedPositionFor=function(X){for(var Z=0;Z<this._sections.length;Z++){var J=this._sections[Z];if(J.consumer._findSourceIndex(H.getArg(X,"source"))===-1)continue;var Y=J.consumer.generatedPositionFor(X);if(Y){var W={line:Y.line+(J.generatedOffset.generatedLine-1),column:Y.column+(J.generatedOffset.generatedLine===Y.line?J.generatedOffset.generatedColumn-1:0)};return W}}return{line:null,column:null}};x.prototype._parseMappings=function(X,Z){this.__generatedMappings=[],this.__originalMappings=[];for(var J=0;J<this._sections.length;J++){var Y=this._sections[J],W=Y.consumer._generatedMappings;for(var _=0;_<W.length;_++){var K=W[_],z=Y.consumer._sources.at(K.source);z=H.computeSourceURL(Y.consumer.sourceRoot,z,this._sourceMapURL),this._sources.add(z),z=this._sources.indexOf(z);var E=null;if(K.name)E=Y.consumer._names.at(K.name),this._names.add(E),E=this._names.indexOf(E);var G={source:z,generatedLine:K.generatedLine+(Y.generatedOffset.generatedLine-1),generatedColumn:K.generatedColumn+(Y.generatedOffset.generatedLine===K.generatedLine?Y.generatedOffset.generatedColumn-1:0),originalLine:K.originalLine,originalColumn:K.originalColumn,name:E};if(this.__generatedMappings.push(G),typeof G.originalLine==="number")this.__originalMappings.push(G)}}Z0(this.__generatedMappings,H.compareByGeneratedPositionsDeflated),Z0(this.__originalMappings,H.compareByOriginalPositions)};U4.IndexedSourceMapConsumer=x});var B1=A((L4)=>{var R4=q0().SourceMapGenerator,H0=l(),A4=/(\r?\n)/,q4=10,s="$$$isSourceNode$$$";function q($,X,Z,J,Y){if(this.children=[],this.sourceContents={},this.line=$==null?null:$,this.column=X==null?null:X,this.source=Z==null?null:Z,this.name=Y==null?null:Y,this[s]=!0,J!=null)this.add(J)}q.fromStringWithSourceMap=function(X,Z,J){var Y=new q,W=X.split(A4),_=0,K=function(){var j=L(),T=L()||"";return j+T;function L(){return _<W.length?W[_++]:void 0}},z=1,E=0,G=null;if(Z.eachMapping(function(j){if(G!==null)if(z<j.generatedLine)V(G,K()),z++,E=0;else{var T=W[_]||"",L=T.substr(0,j.generatedColumn-E);W[_]=T.substr(j.generatedColumn-E),E=j.generatedColumn,V(G,L),G=j;return}while(z<j.generatedLine)Y.add(K()),z++;if(E<j.generatedColumn){var T=W[_]||"";Y.add(T.substr(0,j.generatedColumn)),W[_]=T.substr(j.generatedColumn),E=j.generatedColumn}G=j},this),_<W.length){if(G)V(G,K());Y.add(W.splice(_).join(""))}return Z.sources.forEach(function(j){var T=Z.sourceContentFor(j);if(T!=null){if(J!=null)j=H0.join(J,j);Y.setSourceContent(j,T)}}),Y;function V(j,T){if(j===null||j.source===void 0)Y.add(T);else{var L=J?H0.join(J,j.source):j.source;Y.add(new q(j.originalLine,j.originalColumn,L,T,j.name))}}};q.prototype.add=function(X){if(Array.isArray(X))X.forEach(function(Z){this.add(Z)},this);else if(X[s]||typeof X==="string"){if(X)this.children.push(X)}else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+X);return this};q.prototype.prepend=function(X){if(Array.isArray(X))for(var Z=X.length-1;Z>=0;Z--)this.prepend(X[Z]);else if(X[s]||typeof X==="string")this.children.unshift(X);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+X);return this};q.prototype.walk=function(X){var Z;for(var J=0,Y=this.children.length;J<Y;J++)if(Z=this.children[J],Z[s])Z.walk(X);else if(Z!=="")X(Z,{source:this.source,line:this.line,column:this.column,name:this.name})};q.prototype.join=function(X){var Z,J,Y=this.children.length;if(Y>0){Z=[];for(J=0;J<Y-1;J++)Z.push(this.children[J]),Z.push(X);Z.push(this.children[J]),this.children=Z}return this};q.prototype.replaceRight=function(X,Z){var J=this.children[this.children.length-1];if(J[s])J.replaceRight(X,Z);else if(typeof J==="string")this.children[this.children.length-1]=J.replace(X,Z);else this.children.push("".replace(X,Z));return this};q.prototype.setSourceContent=function(X,Z){this.sourceContents[H0.toSetString(X)]=Z};q.prototype.walkSourceContents=function(X){for(var Z=0,J=this.children.length;Z<J;Z++)if(this.children[Z][s])this.children[Z].walkSourceContents(X);var Y=Object.keys(this.sourceContents);for(var Z=0,J=Y.length;Z<J;Z++)X(H0.fromSetString(Y[Z]),this.sourceContents[Y[Z]])};q.prototype.toString=function(){var X="";return this.walk(function(Z){X+=Z}),X};q.prototype.toStringWithSourceMap=function(X){var Z={code:"",line:1,column:0},J=new R4(X),Y=!1,W=null,_=null,K=null,z=null;return this.walk(function(E,G){if(Z.code+=E,G.source!==null&&G.line!==null&&G.column!==null){if(W!==G.source||_!==G.line||K!==G.column||z!==G.name)J.addMapping({source:G.source,original:{line:G.line,column:G.column},generated:{line:Z.line,column:Z.column},name:G.name});W=G.source,_=G.line,K=G.column,z=G.name,Y=!0}else if(Y)J.addMapping({generated:{line:Z.line,column:Z.column}}),W=null,Y=!1;for(var V=0,j=E.length;V<j;V++)if(E.charCodeAt(V)===q4){if(Z.line++,Z.column=0,V+1===j)W=null,Y=!1;else if(Y)J.addMapping({source:G.source,original:{line:G.line,column:G.column},generated:{line:Z.line,column:Z.column},name:G.name})}else Z.column++}),this.walkSourceContents(function(E,G){J.setSourceContent(E,G)}),{code:Z.code,map:J}};L4.SourceNode=q});var I1=A((w4)=>{w4.SourceMapGenerator=q0().SourceMapGenerator;w4.SourceMapConsumer=D1().SourceMapConsumer;w4.SourceNode=B1().SourceNode});var A1=A((o8,R1)=>{var y4=Object.prototype.toString,x0=typeof Buffer<"u"&&typeof Buffer.alloc==="function"&&typeof Buffer.allocUnsafe==="function"&&typeof Buffer.from==="function";function v4($){return y4.call($).slice(8,-1)==="ArrayBuffer"}function M4($,X,Z){X>>>=0;var J=$.byteLength-X;if(J<0)throw RangeError("'offset' is out of bounds");if(Z===void 0)Z=J;else if(Z>>>=0,Z>J)throw RangeError("'length' is out of bounds");return x0?Buffer.from($.slice(X,X+Z)):new Buffer(new Uint8Array($.slice(X,X+Z)))}function C4($,X){if(typeof X!=="string"||X==="")X="utf8";if(!Buffer.isEncoding(X))throw TypeError('"encoding" must be a valid string encoding');return x0?Buffer.from($,X):new Buffer($,X)}function f4($,X,Z){if(typeof $==="number")throw TypeError('"value" argument must not be a number');if(v4($))return M4($,X,Z);if(typeof $==="string")return C4($,X);return x0?Buffer.from($):new Buffer($)}R1.exports=f4});var y1=A((r4,C0)=>{var S4=I1().SourceMapConsumer,y0=l0("path"),y;try{if(y=l0("fs"),!y.existsSync||!y.readFileSync)y=null}catch($){}var h4=A1();function q1($,X){return $.require(X)}var L1=!1,P1=!1,v0=!1,J0="auto",d={},Y0={},d4=/^data:application\/json[^,]+base64,/,f=[],S=[];function f0(){if(J0==="browser")return!0;if(J0==="node")return!1;return typeof window<"u"&&typeof XMLHttpRequest==="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}function g4(){return typeof process==="object"&&process!==null&&typeof process.on==="function"}function m4(){if(typeof process==="object"&&process!==null)return process.version;else return""}function c4(){if(typeof process==="object"&&process!==null)return process.stderr}function u4($){if(typeof process==="object"&&process!==null&&typeof process.exit==="function")return process.exit($)}function T0($){return function(X){for(var Z=0;Z<$.length;Z++){var J=$[Z](X);if(J)return J}return null}}var S0=T0(f);f.push(function($){if($=$.trim(),/^file:/.test($))$=$.replace(/file:\/\/\/(\w:)?/,function(J,Y){return Y?"":"/"});if($ in d)return d[$];var X="";try{if(!y){var Z=new XMLHttpRequest;if(Z.open("GET",$,!1),Z.send(null),Z.readyState===4&&Z.status===200)X=Z.responseText}else if(y.existsSync($))X=y.readFileSync($,"utf8")}catch(J){}return d[$]=X});function M0($,X){if(!$)return X;var Z=y0.dirname($),J=/^\w+:\/\/[^\/]*/.exec(Z),Y=J?J[0]:"",W=Z.slice(Y.length);if(Y&&/^\/\w\:/.test(W))return Y+="/",Y+y0.resolve(Z.slice(Y.length),X).replace(/\\/g,"/");return Y+y0.resolve(Z.slice(Y.length),X)}function p4($){var X;if(f0())try{var Z=new XMLHttpRequest;Z.open("GET",$,!1),Z.send(null),X=Z.readyState===4?Z.responseText:null;var J=Z.getResponseHeader("SourceMap")||Z.getResponseHeader("X-SourceMap");if(J)return J}catch(K){}X=S0($);var Y=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,W,_;while(_=Y.exec(X))W=_;if(!W)return null;return W[1]}var h0=T0(S);S.push(function($){var X=p4($);if(!X)return null;var Z;if(d4.test(X)){var J=X.slice(X.indexOf(",")+1);Z=h4(J,"base64").toString(),X=$}else X=M0($,X),Z=S0(X);if(!Z)return null;return{url:X,map:Z}});function d0($){var X=Y0[$.source];if(!X){var Z=h0($.source);if(Z){if(X=Y0[$.source]={url:Z.url,map:new S4(Z.map)},X.map.sourcesContent)X.map.sources.forEach(function(Y,W){var _=X.map.sourcesContent[W];if(_){var K=M0(X.url,Y);d[K]=_}})}else X=Y0[$.source]={url:null,map:null}}if(X&&X.map&&typeof X.map.originalPositionFor==="function"){var J=X.map.originalPositionFor($);if(J.source!==null)return J.source=M0(X.url,J.source),J}return $}function N1($){var X=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec($);if(X){var Z=d0({source:X[2],line:+X[3],column:X[4]-1});return"eval at "+X[1]+" ("+Z.source+":"+Z.line+":"+(Z.column+1)+")"}if(X=/^eval at ([^(]+) \((.+)\)$/.exec($),X)return"eval at "+X[1]+" ("+N1(X[2])+")";return $}function l4(){var $,X="";if(this.isNative())X="native";else{if($=this.getScriptNameOrSourceURL(),!$&&this.isEval())X=this.getEvalOrigin(),X+=", ";if($)X+=$;else X+="<anonymous>";var Z=this.getLineNumber();if(Z!=null){X+=":"+Z;var J=this.getColumnNumber();if(J)X+=":"+J}}var Y="",W=this.getFunctionName(),_=!0,K=this.isConstructor(),z=!(this.isToplevel()||K);if(z){var E=this.getTypeName();if(E==="[object Object]")E="null";var G=this.getMethodName();if(W){if(E&&W.indexOf(E)!=0)Y+=E+".";if(Y+=W,G&&W.indexOf("."+G)!=W.length-G.length-1)Y+=" [as "+G+"]"}else Y+=E+"."+(G||"<anonymous>")}else if(K)Y+="new "+(W||"<anonymous>");else if(W)Y+=W;else Y+=X,_=!1;if(_)Y+=" ("+X+")";return Y}function w1($){var X={};return Object.getOwnPropertyNames(Object.getPrototypeOf($)).forEach(function(Z){X[Z]=/^(?:is|get)/.test(Z)?function(){return $[Z].call($)}:$[Z]}),X.toString=l4,X}function b1($,X){if(X===void 0)X={nextPosition:null,curPosition:null};if($.isNative())return X.curPosition=null,$;var Z=$.getFileName()||$.getScriptNameOrSourceURL();if(Z){var J=$.getLineNumber(),Y=$.getColumnNumber()-1,W=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,_=W.test(m4())?0:62;if(J===1&&Y>_&&!f0()&&!$.isEval())Y-=_;var K=d0({source:Z,line:J,column:Y});X.curPosition=K,$=w1($);var z=$.getFunctionName;return $.getFunctionName=function(){if(X.nextPosition==null)return z();return X.nextPosition.name||z()},$.getFileName=function(){return K.source},$.getLineNumber=function(){return K.line},$.getColumnNumber=function(){return K.column+1},$.getScriptNameOrSourceURL=function(){return K.source},$}var E=$.isEval()&&$.getEvalOrigin();if(E)return E=N1(E),$=w1($),$.getEvalOrigin=function(){return E},$;return $}function i4($,X){if(v0)d={},Y0={};var Z=$.name||"Error",J=$.message||"",Y=Z+": "+J,W={nextPosition:null,curPosition:null},_=[];for(var K=X.length-1;K>=0;K--)_.push(`
    at `+b1(X[K],W)),W.nextPosition=W.curPosition;return W.curPosition=W.nextPosition=null,Y+_.reverse().join("")}function x1($){var X=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec($.stack);if(X){var Z=X[1],J=+X[2],Y=+X[3],W=d[Z];if(!W&&y&&y.existsSync(Z))try{W=y.readFileSync(Z,"utf8")}catch(K){W=""}if(W){var _=W.split(/(?:\r\n|\r|\n)/)[J-1];if(_)return Z+":"+J+`
`+_+`
`+Array(Y).join(" ")+"^"}}return null}function s4($){var X=x1($),Z=c4();if(Z&&Z._handle&&Z._handle.setBlocking)Z._handle.setBlocking(!0);if(X)console.error(),console.error(X);console.error($.stack),u4(1)}function t4(){var $=process.emit;process.emit=function(X){if(X==="uncaughtException"){var Z=arguments[1]&&arguments[1].stack,J=this.listeners(X).length>0;if(Z&&!J)return s4(arguments[1])}return $.apply(this,arguments)}}var n4=f.slice(0),o4=S.slice(0);r4.wrapCallSite=b1;r4.getErrorSource=x1;r4.mapSourcePosition=d0;r4.retrieveSourceMap=h0;r4.install=function($){if($=$||{},$.environment){if(J0=$.environment,["node","browser","auto"].indexOf(J0)===-1)throw Error("environment "+J0+" was unknown. Available options are {auto, browser, node}")}if($.retrieveFile){if($.overrideRetrieveFile)f.length=0;f.unshift($.retrieveFile)}if($.retrieveSourceMap){if($.overrideRetrieveSourceMap)S.length=0;S.unshift($.retrieveSourceMap)}if($.hookRequire&&!f0()){var X=q1(C0,"module"),Z=X.prototype._compile;if(!Z.__sourceMapSupport)X.prototype._compile=function(W,_){return d[_]=W,Y0[_]=void 0,Z.call(this,W,_)},X.prototype._compile.__sourceMapSupport=!0}if(!v0)v0="emptyCacheBetweenOperations"in $?$.emptyCacheBetweenOperations:!1;if(!L1)L1=!0,Error.prepareStackTrace=i4;if(!P1){var J="handleUncaughtExceptions"in $?$.handleUncaughtExceptions:!0;try{var Y=q1(C0,"worker_threads");if(Y.isMainThread===!1)J=!1}catch(W){}if(J&&g4())P1=!0,t4()}};r4.resetRetrieveHandlers=function(){f.length=0,S.length=0,f=n4.slice(0),S=o4.slice(0),h0=T0(S),S0=T0(f)}});var i0=($=0)=>(X)=>`\x1B[${X+$}m`,s0=($=0)=>(X)=>`\x1B[${38+$};5;${X}m`,t0=($=0)=>(X,Z,J)=>`\x1B[${38+$};2;${X};${Z};${J}m`,O={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},L8=Object.keys(O.modifier),G$=Object.keys(O.color),j$=Object.keys(O.bgColor),P8=[...G$,...j$];function H$(){let $=new Map;for(let[X,Z]of Object.entries(O)){for(let[J,Y]of Object.entries(Z))O[J]={open:`\x1B[${Y[0]}m`,close:`\x1B[${Y[1]}m`},Z[J]=O[J],$.set(Y[0],Y[1]);Object.defineProperty(O,X,{value:Z,enumerable:!1})}return Object.defineProperty(O,"codes",{value:$,enumerable:!1}),O.color.close="\x1B[39m",O.bgColor.close="\x1B[49m",O.color.ansi=i0(),O.color.ansi256=s0(),O.color.ansi16m=t0(),O.bgColor.ansi=i0(10),O.bgColor.ansi256=s0(10),O.bgColor.ansi16m=t0(10),Object.defineProperties(O,{rgbToAnsi256:{value(X,Z,J){if(X===Z&&Z===J){if(X<8)return 16;if(X>248)return 231;return Math.round((X-8)/247*24)+232}return 16+36*Math.round(X/255*5)+6*Math.round(Z/255*5)+Math.round(J/255*5)},enumerable:!1},hexToRgb:{value(X){let Z=/[a-f\d]{6}|[a-f\d]{3}/i.exec(X.toString(16));if(!Z)return[0,0,0];let[J]=Z;if(J.length===3)J=[...J].map((W)=>W+W).join("");let Y=Number.parseInt(J,16);return[Y>>16&255,Y>>8&255,Y&255]},enumerable:!1},hexToAnsi256:{value:(X)=>O.rgbToAnsi256(...O.hexToRgb(X)),enumerable:!1},ansi256ToAnsi:{value(X){if(X<8)return 30+X;if(X<16)return 90+(X-8);let Z,J,Y;if(X>=232)Z=((X-232)*10+8)/255,J=Z,Y=Z;else{X-=16;let K=X%36;Z=Math.floor(X/36)/5,J=Math.floor(K/6)/5,Y=K%6/5}let W=Math.max(Z,J,Y)*2;if(W===0)return 30;let _=30+(Math.round(Y)<<2|Math.round(J)<<1|Math.round(Z));if(W===2)_+=60;return _},enumerable:!1},rgbToAnsi:{value:(X,Z,J)=>O.ansi256ToAnsi(O.rgbToAnsi256(X,Z,J)),enumerable:!1},hexToAnsi:{value:(X)=>O.ansi256ToAnsi(O.hexToAnsi256(X)),enumerable:!1}}),O}var T$=H$(),b=T$;import Q0 from"process";import Q$ from"os";import n0 from"tty";function P($,X=globalThis.Deno?globalThis.Deno.args:Q0.argv){let Z=$.startsWith("-")?"":$.length===1?"-":"--",J=X.indexOf(Z+$),Y=X.indexOf("--");return J!==-1&&(Y===-1||J<Y)}var{env:k}=Q0,E0;if(P("no-color")||P("no-colors")||P("color=false")||P("color=never"))E0=0;else if(P("color")||P("colors")||P("color=true")||P("color=always"))E0=1;function O$(){if("FORCE_COLOR"in k){if(k.FORCE_COLOR==="true")return 1;if(k.FORCE_COLOR==="false")return 0;return k.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(k.FORCE_COLOR,10),3)}}function k$($){if($===0)return!1;return{level:$,hasBasic:!0,has256:$>=2,has16m:$>=3}}function F$($,{streamIsTTY:X,sniffFlags:Z=!0}={}){let J=O$();if(J!==void 0)E0=J;let Y=Z?E0:J;if(Y===0)return 0;if(Z){if(P("color=16m")||P("color=full")||P("color=truecolor"))return 3;if(P("color=256"))return 2}if("TF_BUILD"in k&&"AGENT_NAME"in k)return 1;if($&&!X&&Y===void 0)return 0;let W=Y||0;if(k.TERM==="dumb")return W;if(Q0.platform==="win32"){let _=Q$.release().split(".");if(Number(_[0])>=10&&Number(_[2])>=10586)return Number(_[2])>=14931?3:2;return 1}if("CI"in k){if(["GITHUB_ACTIONS","GITEA_ACTIONS","CIRCLECI"].some((_)=>(_ in k)))return 3;if(["TRAVIS","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some((_)=>(_ in k))||k.CI_NAME==="codeship")return 1;return W}if("TEAMCITY_VERSION"in k)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(k.TEAMCITY_VERSION)?1:0;if(k.COLORTERM==="truecolor")return 3;if(k.TERM==="xterm-kitty")return 3;if(k.TERM==="xterm-ghostty")return 3;if(k.TERM==="wezterm")return 3;if("TERM_PROGRAM"in k){let _=Number.parseInt((k.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(k.TERM_PROGRAM){case"iTerm.app":return _>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(k.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(k.TERM))return 1;if("COLORTERM"in k)return 1;return W}function o0($,X={}){let Z=F$($,{streamIsTTY:$&&$.isTTY,...X});return k$(Z)}var U$={stdout:o0({isTTY:n0.isatty(1)}),stderr:o0({isTTY:n0.isatty(2)})},r0=U$;function a0($,X,Z){let J=$.indexOf(X);if(J===-1)return $;let Y=X.length,W=0,_="";do _+=$.slice(W,J)+X+Z,W=J+Y,J=$.indexOf(X,W);while(J!==-1);return _+=$.slice(W),_}function e0($,X,Z,J){let Y=0,W="";do{let _=$[J-1]==="\r";W+=$.slice(Y,_?J-1:J)+X+(_?`\r
`:`
`)+Z,Y=J+1,J=$.indexOf(`
`,Y)}while(J!==-1);return W+=$.slice(Y),W}var{stdout:$1,stderr:X1}=r0,O0=Symbol("GENERATOR"),m=Symbol("STYLER"),a=Symbol("IS_EMPTY"),Z1=["ansi","ansi","ansi256","ansi16m"],c=Object.create(null),D$=($,X={})=>{if(X.level&&!(Number.isInteger(X.level)&&X.level>=0&&X.level<=3))throw Error("The `level` option should be an integer from 0 to 3");let Z=$1?$1.level:0;$.level=X.level===void 0?Z:X.level};var B$=($)=>{let X=(...Z)=>Z.join(" ");return D$(X,$),Object.setPrototypeOf(X,e.prototype),X};function e($){return B$($)}Object.setPrototypeOf(e.prototype,Function.prototype);for(let[$,X]of Object.entries(b))c[$]={get(){let Z=V0(this,F0(X.open,X.close,this[m]),this[a]);return Object.defineProperty(this,$,{value:Z}),Z}};c.visible={get(){let $=V0(this,this[m],!0);return Object.defineProperty(this,"visible",{value:$}),$}};var k0=($,X,Z,...J)=>{if($==="rgb"){if(X==="ansi16m")return b[Z].ansi16m(...J);if(X==="ansi256")return b[Z].ansi256(b.rgbToAnsi256(...J));return b[Z].ansi(b.rgbToAnsi(...J))}if($==="hex")return k0("rgb",X,Z,...b.hexToRgb(...J));return b[Z][$](...J)},I$=["rgb","hex","ansi256"];for(let $ of I$){c[$]={get(){let{level:Z}=this;return function(...J){let Y=F0(k0($,Z1[Z],"color",...J),b.color.close,this[m]);return V0(this,Y,this[a])}}};let X="bg"+$[0].toUpperCase()+$.slice(1);c[X]={get(){let{level:Z}=this;return function(...J){let Y=F0(k0($,Z1[Z],"bgColor",...J),b.bgColor.close,this[m]);return V0(this,Y,this[a])}}}}var R$=Object.defineProperties(()=>{},{...c,level:{enumerable:!0,get(){return this[O0].level},set($){this[O0].level=$}}}),F0=($,X,Z)=>{let J,Y;if(Z===void 0)J=$,Y=X;else J=Z.openAll+$,Y=X+Z.closeAll;return{open:$,close:X,openAll:J,closeAll:Y,parent:Z}},V0=($,X,Z)=>{let J=(...Y)=>A$(J,Y.length===1?""+Y[0]:Y.join(" "));return Object.setPrototypeOf(J,R$),J[O0]=$,J[m]=X,J[a]=Z,J},A$=($,X)=>{if($.level<=0||!X)return $[a]?"":X;let Z=$[m];if(Z===void 0)return X;let{openAll:J,closeAll:Y}=Z;if(X.includes("\x1B"))while(Z!==void 0)X=a0(X,Z.close,Z.open),Z=Z.parent;let W=X.indexOf(`
`);if(W!==-1)X=e0(X,Y,J,W);return J+X+Y};Object.defineProperties(e.prototype,c);var q$=e(),S8=e({level:X1?X1.level:0});var I=q$;var M1=V$(y1(),1);M1.default.install();var C1=Bun.env.DOCKSTAT_LOGGER_FULL_FILE_PATH==="true"?1:2,t=Bun.env.DOCKSTAT_LOGGER_IGNORE_MESSAGES?Bun.env.DOCKSTAT_LOGGER_IGNORE_MESSAGES.split(","):[],f1=(Bun.env.DOCKSTAT_LOGGER_DISABLED_LOGGERS||"").split(","),g0=(Bun.env.DOCKSTAT_LOGGER_ONLY_SHOW||"").split(","),m0=Bun.env.DOCKSTAT_LOGGER_SEPERATOR||":",Y8="debug",v1=(Bun.env.DOCKSTAT_LOGGER_LEVEL||"").toLowerCase(),S1=["error","warn","info","debug"].includes(v1)?v1:Y8;var h1={error:0,warn:1,info:2,debug:3},d1={error:I.red.bold,warn:I.yellow.bold,info:I.green.bold,debug:I.blue.bold};function W8($){let X=0;for(let Z=0;Z<$.length;Z++)X=$.charCodeAt(Z)+((X<<5)-X);return X}function _8($){let X=Math.abs($)%360,Z=70,J=60;return K8(X,70,60)}function K8($,X,Z){let J=X/100,Y=Z/100,W=(z)=>(z+$/30)%12,_=J*Math.min(Y,1-Y),K=(z)=>Y-_*Math.max(-1,Math.min(W(z)-3,Math.min(9-W(z),1)));return[255*K(0),255*K(8),255*K(4)]}function c0(){let $=Error().stack?.split(`
`);if($)for(let X=4;X<$.length;X++){let Z=$[X];if(Z){let Y=Z.trim().match(/\(?(.+):(\d+):(\d+)\)?$/);if(Y?.[1])return`${Y[1].split("/").pop()}:${Y[C1]}`}}return""}var W0=($)=>{return h1[$]<=h1[S1]},_0=($,X)=>{let Z=$.toLowerCase();return X.some((J)=>Z.includes(J.toLowerCase()))};function g1($){let X=$,Z="";if(X.includes("|")){let K=X.split("|");X=K[0],Z=K[1]}let J=W8(X),[Y,W,_]=_8(J);return{id:I.rgb(Math.round(Y),Math.round(W),Math.round(_))(X),from:Z}}class K0{name;parents=[];reqFrom={};logHook;disabled;constructor($,X=[],Z){if(this.name=$,this.parents=X,this.logHook=Z,this.disabled=f1.includes($),g0.length>1)this.disabled=!g0.includes($)?!0:this.disabled;this.debug(`Logger Status: ${this.disabled?"disabled":"active"} - ignoring messages: ${t.join(", ")} - logHook: ${this.logHook?.toString}`)}setLogHook($){this.logHook=$}emitLogEntry($,X,Z){if(this.logHook)this.logHook({level:$,message:X,name:this.name,parents:this.parents,requestId:Z,timestamp:new Date,caller:c0()})}spawn($,X){return new K0($,[this.name,...X||[],...this.parents],this.logHook)}error($,X){if(!this.disabled&&!_0($,t)&&W0("error"))console.error(this.formatMessage("error",$,X)),this.emitLogEntry("error",$,X)}warn($,X){if(!this.disabled&&!_0($,t)&&W0("warn"))console.warn(this.formatMessage("warn",$,X)),this.emitLogEntry("warn",$,X)}info($,X){if(!this.disabled&&!_0($,t)&&W0("info"))console.info(this.formatMessage("info",$,X)),this.emitLogEntry("info",$,X)}debug($,X){if(!this.disabled&&!_0($,t)&&W0("debug"))console.debug(this.formatMessage("debug",$,X)),this.emitLogEntry("debug",$,X)}setDisabled($){this.disabled=$}getParents(){return this.parents}getParentsForLoggerChaining(){return[this.name,...this.parents]}addParent($){return this.parents=[$,...this.parents],this.parents}addParents($){this.parents=$}setReqFrom($,X){this.reqFrom[$]=X}clearReqFrom($){this.reqFrom[$]=""}formatMessage($,X,Z){let J=I.magenta(new Date().toISOString().slice(11,19)),Y=d1[$]($.toUpperCase().padEnd(5," ")),W=I.blue(c0()),_=this.parents.length>0?`${I.cyan(this.name)}${I.yellow(m0+this.parents.join(m0))}`:I.cyan(this.name),K="";if(Z!=null){let{id:E,from:G}=g1(Z),j=this.reqFrom[Z]||G;K=I.gray(`(${E}${j?`@${I.green(j)}`:""}) `)}return`${`${J} ${Y} ${K}[${_}] ${W}`} \u2014 ${I.grey(X)}`}}function m1($,X){if($.length<=X)return $;return`${$.slice(0,X)}...`}function z8($){if(!$||$.length===0)return"";let X=JSON.stringify($);return m1(X,60)}class n{logger;tableName;constructor($,X,Z,J){try{if(X&&typeof X.spawn==="function")this.logger=X.spawn($);else this.logger=new K0($,[],J)}catch(Y){this.logger=new K0($,[],J),console.error(Y)}this.tableName=Z}child($){return new n($,this.logger,this.tableName)}forTable($){return new n($,this.logger,$)}debug($){this.logger.debug($)}info($){this.logger.info($)}warn($){this.logger.warn($)}error($){this.logger.error($)}connection($,X){this.logger.info(`Database ${X}: ${$}`)}query($,X,Z){let J=z8(Z),Y=m1(X.replace(/\s+/g," ").trim(),100),W=J?`${$} | ${Y} | params=${J}`:`${$} | ${Y}`;this.logger.debug(W)}result($,X){this.logger.debug(`${$} | rows=${X}`)}tableCreate($,X){this.logger.debug(`CREATE TABLE ${$} | columns=[${X.join(", ")}]`)}backup($,X){let Z=X?`Backup ${$}: ${X}`:`Backup ${$}`;this.logger.info(Z)}transform($,X){if(X.length===0)return;this.logger.debug(`Transform ${$}: [${X.join(", ")}]`)}parserConfig($,X,Z){let J=[];if($.length>0)J.push(`JSON=[${$.join(",")}]`);if(X.length>0)J.push(`BOOL=[${X.join(",")}]`);if(Z.length>0)J.push(`MODULE=[${Z.join(",")}]`);if(J.length>0)this.logger.debug(`Parser config: ${J.join(" ")}`)}transaction($,X){let Z=X?`Transaction ${$}: ${X}`:`Transaction ${$}`;this.logger.debug(Z)}getBaseLogger(){return this.logger}addParents($){this.logger.addParents($)}getParentsForLoggerChaining(){return this.logger.getParentsForLoggerChaining()}}var c1=new n("Sqlite");function C($,X){if(X)return new n($,X);return c1.child($)}var EX=C("Transformer");var F={INTEGER:"INTEGER",TEXT:"TEXT",REAL:"REAL",BLOB:"BLOB",NUMERIC:"NUMERIC",INT:"INT",TINYINT:"TINYINT",SMALLINT:"SMALLINT",MEDIUMINT:"MEDIUMINT",BIGINT:"BIGINT",VARCHAR:"VARCHAR",CHAR:"CHAR",CHARACTER:"CHARACTER",NCHAR:"NCHAR",NVARCHAR:"NVARCHAR",CLOB:"CLOB",DOUBLE:"DOUBLE",FLOAT:"FLOAT",DECIMAL:"DECIMAL",DATE:"DATE",DATETIME:"DATETIME",TIMESTAMP:"TIMESTAMP",TIME:"TIME",BOOLEAN:"BOOLEAN",JSON:"JSON",MODULE:"TEXT"},p1={DATE:($)=>`DATE(${$})`,TIME:($)=>`TIME(${$})`,DATETIME:($)=>`DATETIME(${$})`,JULIANDAY:($)=>`JULIANDAY(${$})`,STRFTIME:($,X)=>`STRFTIME('${$}', ${X})`,LENGTH:($)=>`LENGTH(${$})`,LOWER:($)=>`LOWER(${$})`,UPPER:($)=>`UPPER(${$})`,TRIM:($,X)=>X?`TRIM(${$}, '${X}')`:`TRIM(${$})`,LTRIM:($,X)=>X?`LTRIM(${$}, '${X}')`:`LTRIM(${$})`,RTRIM:($,X)=>X?`RTRIM(${$}, '${X}')`:`RTRIM(${$})`,SUBSTR:($,X,Z)=>Z?`SUBSTR(${$}, ${X}, ${Z})`:`SUBSTR(${$}, ${X})`,SUBSTRING:($,X,Z)=>Z?`SUBSTRING(${$}, ${X}, ${Z})`:`SUBSTRING(${$}, ${X})`,REPLACE:($,X,Z)=>`REPLACE(${$}, '${X}', '${Z}')`,PRINTF:($,...X)=>`PRINTF('${$}', ${X.join(", ")})`,ABS:($)=>`ABS(${$})`,ROUND:($,X)=>X!==void 0?`ROUND(${$}, ${X})`:`ROUND(${$})`,RANDOM:()=>"RANDOM()",MIN:(...$)=>`MIN(${$.join(", ")})`,MAX:(...$)=>`MAX(${$.join(", ")})`,CAST:($,X)=>`CAST(${$} AS ${X})`,TYPEOF:($)=>`TYPEOF(${$})`,COALESCE:(...$)=>`COALESCE(${$.join(", ")})`,IFNULL:($,X)=>`IFNULL(${$}, ${X})`,NULLIF:($,X)=>`NULLIF(${$}, ${X})`,IIF:($,X,Z)=>`IIF(${$}, ${X}, ${Z})`,COUNT:($)=>$?`COUNT(${$})`:"COUNT(*)",SUM:($)=>`SUM(${$})`,AVG:($)=>`AVG(${$})`,TOTAL:($)=>`TOTAL(${$})`,GROUP_CONCAT:($,X)=>X?`GROUP_CONCAT(${$}, '${X}')`:`GROUP_CONCAT(${$})`,JSON:($)=>`JSON(${$})`,JSON_EXTRACT:($,X)=>`JSON_EXTRACT(${$}, '${X}')`,JSON_TYPE:($,X)=>X?`JSON_TYPE(${$}, '${X}')`:`JSON_TYPE(${$})`,JSON_VALID:($)=>`JSON_VALID(${$})`,JSON_ARRAY:(...$)=>`JSON_ARRAY(${$.join(", ")})`,JSON_OBJECT:(...$)=>`JSON_OBJECT(${$.join(", ")})`};var N=($)=>({_type:"expression",expression:$}),v={integer:($)=>({type:$?.size||F.INTEGER,...$}),text:($)=>({type:$?.variant||F.TEXT,length:$?.length,...$}),real:($)=>({type:$?.variant||F.REAL,...$}),blob:($)=>({type:F.BLOB,...$}),numeric:($)=>({type:$?.variant||F.NUMERIC,precision:$?.precision,scale:$?.scale,...$}),date:($)=>({type:F.DATE,...$}),datetime:($)=>({type:F.DATETIME,...$}),timestamp:($)=>({type:$?.asText?F.TEXT:F.INTEGER,...$}),time:($)=>({type:F.TIME,...$}),boolean:($)=>({type:F.BOOLEAN,check:$?.check||"{{COLUMN}} IN (0, 1)",...$}),json:($)=>({type:F.JSON,check:$?.validateJson?"JSON_VALID({{COLUMN}})":$?.check,...$}),varchar:($,X)=>({type:F.VARCHAR,length:$,...X}),char:($,X)=>({type:F.CHAR,length:$,...X}),id:($)=>({type:F.INTEGER,primaryKey:!0,autoincrement:!0,notNull:!0,...$}),uuid:($)=>({type:F.TEXT,length:36,default:$?.generateDefault?N("lower(hex(randomblob(4))) || '-' || lower(hex(randomblob(2))) || '-4' || substr(lower(hex(randomblob(2))),2) || '-' || substr('89ab',abs(random()) % 4 + 1, 1) || substr(lower(hex(randomblob(2))),2) || '-' || lower(hex(randomblob(6)))"):$?.default,...$}),createdAt:($)=>({type:$?.asText?F.DATETIME:F.INTEGER,notNull:!0,default:$?.asText?N("datetime('now')"):N("strftime('%s', 'now')"),...$}),module:($)=>({type:F.MODULE,comment:$?.comment||"A simple Module column, with automatic serilisation and deserilisation using Bun.Transpiler()",...$}),updatedAt:($)=>({type:$?.asText?F.DATETIME:F.INTEGER,default:$?.asText?N("datetime('now')"):N("strftime('%s', 'now')"),...$}),foreignKey:($,X="id",Z)=>({type:Z?.type||F.INTEGER,references:{table:$,column:X,onDelete:Z?.onDelete,onUpdate:Z?.onUpdate},...Z}),enum:($,X)=>({type:F.TEXT,notNull:!0,check:`{{COLUMN}} IN (${$.map((Z)=>`'${Z}'`).join(", ")})`,...X})},U8={now:()=>N("datetime('now')"),currentTime:()=>N("time('now')"),currentDate:()=>N("date('now')"),currentTimestamp:()=>N("datetime('now')"),unixTimestamp:()=>N("strftime('%s', 'now')"),...p1,raw:($)=>N($),null:()=>null,true:()=>1,false:()=>0};function l1($){return $}function i1($){return $}function s1($){return $}function r($){return $}function t1($){return $}class n1{plugin={};meta($){return this.plugin={...this.plugin,...$},this}name($){return this.plugin.name=$,this}description($){return this.plugin.description=$,this}version($){return this.plugin.version=$,this}repository($,X="github"){return this.plugin.repository=$,this.plugin.repoType=X,this}manifest($){return this.plugin.manifest=$,this}author($){return this.plugin.author=$,this}tags($){return this.plugin.tags=$,this}ensureConfig(){if(!this.plugin.config)this.plugin.config={};return this.plugin.config}table($){return this.ensureConfig().table=$,this}actions($){return this.ensureConfig().actions=$,this}apiRoutes($){return this.ensureConfig().apiRoutes=$,this}frontend($){return this.ensureConfig().frontend=$,this}events($){return this.plugin.events=$,this}init($){return this.plugin.init=$,this}config($){return this.plugin.config=$,this}build(){if(!this.plugin.name)throw Error("Plugin name is required");if(!this.plugin.description)throw Error("Plugin description is required");if(!this.plugin.version)throw Error("Plugin version is required");if(!this.plugin.repository)throw Error("Plugin repository is required");if(!this.plugin.manifest)throw Error("Plugin manifest is required");if(!this.plugin.author)throw Error("Plugin author is required");if(!this.plugin.repoType)this.plugin.repoType="github";return this.plugin}}function o1(){return new n1}var D8=l1({getAllMetrics:({table:$})=>$?.select(["*"]).all()??[],getContainerMetrics:({table:$})=>$?.select(["*"]).where({type:"CONTAINER"}).all()??[],getHostMetrics:({table:$})=>$?.select(["*"]).where({type:"HOST"}).all()??[],getMetricsByHost:({table:$,body:X})=>{let Z=X?.hostId;if(!Z)return{error:"hostId is required"};return $?.select(["*"]).where({host_id:Z}).all()??[]},getMetricsByContainer:({table:$,body:X})=>{let Z=X?.containerId;if(!Z)return{error:"containerId is required"};return $?.select(["*"]).where({container_id:Z}).all()??[]},getLatestHostMetrics:({table:$})=>{let X=$?.select(["*"]).where({type:"HOST"}).all()??[],Z=new Map;for(let J of X){let Y=Z.get(J.host_id);if(!Y||J.stored_on>Y.stored_on)Z.set(J.host_id,J)}return Array.from(Z.values())},getLatestContainerMetrics:({table:$})=>{let X=$?.select(["*"]).where({type:"CONTAINER"}).all()??[],Z=new Map;for(let J of X){if(!J.container_id)continue;let Y=Z.get(J.container_id);if(!Y||J.stored_on>Y.stored_on)Z.set(J.container_id,J)}return Array.from(Z.values())},getMetricsSummary:({table:$})=>{let X=$?.select(["*"]).all()??[],Z=X.filter((E)=>E.type==="HOST"),J=X.filter((E)=>E.type==="CONTAINER"),Y=new Set(Z.map((E)=>E.host_id)),W=new Set(J.map((E)=>E.container_id).filter(Boolean)),_=X.map((E)=>E.stored_on).filter(Boolean),K=_.length>0?Math.min(..._):null,z=_.length>0?Math.max(..._):null;return{totalMetrics:X.length,hostMetricsCount:Z.length,containerMetricsCount:J.length,uniqueHostsCount:Y.size,uniqueContainersCount:W.size,oldestTimestamp:K,newestTimestamp:z}},getMetricsInRange:({table:$,body:X})=>{let{startTime:Z,endTime:J,type:Y}=X??{},W=$?.select(["*"]);if(Y)W=W?.where({type:Y});return(W?.all()??[]).filter((K)=>{if(Z&&K.stored_on<Z)return!1;if(J&&K.stored_on>J)return!1;return!0})},deleteOldMetrics:({table:$,body:X,logger:Z})=>{let{olderThanDays:J}=X??{},Y=J??7,W=Date.now()-Y*24*60*60*1000,K=($?.select(["*"]).all()??[]).filter((E)=>E.stored_on<W),z=0;for(let E of K)try{$?.where({id:E.id}).delete(),z++}catch(G){Z.error(`Failed to delete metric ${E.id}: ${G}`)}return Z.info(`Deleted ${z} metrics older than ${Y} days`),{deletedCount:z,cutoffTime:W}},getDashboardData:({table:$})=>{let X=$?.select(["*"]).all()??[],Z=X.filter((V)=>V.type==="HOST"),J=new Map;for(let V of Z){let j=J.get(V.host_id);if(!j||V.stored_on>j.stored_on)J.set(V.host_id,V)}let Y=X.filter((V)=>V.type==="CONTAINER"),W=new Map;for(let V of Y){if(!V.container_id)continue;let j=W.get(V.container_id);if(!j||V.stored_on>j.stored_on)W.set(V.container_id,V)}let _=Array.from(J.values()),K=_.reduce((V,j)=>V+(j.data.host_metrics?.containers??0),0),z=_.reduce((V,j)=>V+(j.data.host_metrics?.containersRunning??0),0),E=_.reduce((V,j)=>V+(j.data.host_metrics?.containersStopped??0),0),G=_.reduce((V,j)=>V+(j.data.host_metrics?.images??0),0);return{hosts:_.map((V)=>({hostId:V.host_id,hostName:V.data.host_metrics?.hostName??"Unknown",os:V.data.host_metrics?.os??"Unknown",architecture:V.data.host_metrics?.architecture??"Unknown",dockerVersion:V.data.host_metrics?.dockerVersion??"Unknown",containers:V.data.host_metrics?.containers??0,containersRunning:V.data.host_metrics?.containersRunning??0,containersStopped:V.data.host_metrics?.containersStopped??0,images:V.data.host_metrics?.images??0,totalMemory:V.data.host_metrics?.totalMemory??0,totalCPU:V.data.host_metrics?.totalCPU??0,lastUpdated:V.stored_on})),containers:Array.from(W.values()).map((V)=>({containerId:V.container_id,hostId:V.host_id,name:V.data.container_metrics?.name??"Unknown",state:V.data.container_metrics?.state??"unknown",cpuUsage:V.data.container_metrics?.cpuUsage??0,memoryUsage:V.data.container_metrics?.memoryUsage??0,memoryLimit:V.data.container_metrics?.memoryLimit??0,networkRx:V.data.container_metrics?.networkRx??0,networkTx:V.data.container_metrics?.networkTx??0,lastUpdated:V.stored_on})),summary:{totalHosts:_.length,totalContainers:K,totalRunning:z,totalStopped:E,totalImages:G,metricsCollected:X.length}}}}),r1=D8;function a1($){return{container_id:null,docker_client_id:$.docker_client_id,host_id:$.hostId,type:"HOST",data:{host_metrics:$.metrics}}}function e1($){return{container_id:$.containerId,docker_client_id:$.docker_client_id,host_id:$.hostId,type:"CONTAINER",data:{container_metrics:$.stats}}}var B8=s1({"container:metrics":($,{logger:X,table:Z})=>{try{X.debug(`Saving Container metrics for ${$.containerId}`);let J=e1($);Z.insert(J),X.info(`Container metrics saved for ${$.stats.name} (ID: ${$.containerId})`)}catch(J){X.error(`Failed to save container metrics: ${J}`)}},"host:metrics":($,{table:X,logger:Z})=>{try{Z.debug(`Saving Host metrics for host ${$.hostId}`);let J=a1($);X.insert(J),Z.info(`Host metrics saved for host ${$.metrics.hostName} (ID: ${$.hostId})`)}catch(J){Z.error(`Failed to save host metrics: ${J}`)}}}),$$=B8;var I8=i1({"/all":{actions:[""],method:"GET"}}),X$=I8;var Z$=r({path:"/containers",loaders:[{id:"containerMetrics",apiRoute:"/containers/latest",method:"GET",dataKey:"containerMetrics"}],actions:[{id:"refreshContainers",type:"reload",loaderIds:["containerMetrics"],showLoading:!0}],template:{id:"dockmon-containers",name:"Container Metrics",description:"Detailed container metrics over time",layout:{type:"flex",direction:"column",gap:24},widgets:[{type:"container",props:{layout:"flex",direction:"row",justify:"between",align:"center",className:"flex-wrap gap-4"},children:[{type:"container",props:{layout:"flex",direction:"column"},children:[{type:"text",props:{text:"\uD83D\uDCE6 Container Metrics",as:"h1",className:"text-2xl font-bold text-primary-text"}},{type:"text",props:{text:"Monitor container resource usage and performance",as:"p",className:"text-sm text-muted-text mt-1"}}]},{type:"button",props:{text:"\uD83D\uDD04 Refresh",variant:"secondary",action:"refreshContainers"}}]},{type:"divider",props:{variant:"default"}},{type:"card",props:{variant:"elevated",className:"overflow-hidden"},children:[{type:"cardBody",props:{className:"p-0"},children:[{type:"table",props:{columns:[{key:"name",title:"Container Name",sortable:!0},{key:"state",title:"State"},{key:"cpuUsage",title:"CPU %",align:"right",sortable:!0},{key:"memoryUsage",title:"Memory Used",align:"right"},{key:"memoryLimit",title:"Memory Limit",align:"right"},{key:"networkRx",title:"Network RX",align:"right"},{key:"networkTx",title:"Network TX",align:"right"}],striped:!0,hoverable:!0,searchable:!0,searchPlaceholder:"Search containers...",size:"md"},bindings:{data:"containerMetrics"}}]}]}],meta:{title:"Container Metrics"}},meta:{title:"Containers",icon:"Container",showInNav:!0,navOrder:3}});var J$=r({path:"/dashboard",loaders:[{id:"dashboardData",apiRoute:"/dashboard",method:"GET",dataKey:"dashboard"},{id:"metricsSummary",apiRoute:"/summary",method:"GET",dataKey:"summary"}],actions:[{id:"refreshData",type:"reload",loaderIds:["dashboardData","metricsSummary"],showLoading:!0},{id:"cleanupOldMetrics",type:"api",apiRoute:"/cleanup",method:"POST",body:{olderThanDays:7},confirm:{message:"Are you sure you want to delete metrics older than 7 days?",confirmText:"Delete",cancelText:"Cancel"},onSuccess:{notify:{message:"Old metrics cleaned up successfully",type:"success"},triggerAction:"refreshData"},onError:{notify:{message:"Failed to cleanup old metrics",type:"error"}}}],template:{id:"dockmon-dashboard",name:"DockMon Dashboard",description:"Overview of Docker metrics and monitoring data",layout:{type:"flex",direction:"column",gap:24},state:{initial:{refreshing:!1}},widgets:[{type:"container",props:{layout:"flex",direction:"row",justify:"between",align:"center",className:"flex-wrap gap-4"},children:[{type:"card",props:{variant:"outlined",size:"sm",className:"min-w-35"},children:[{type:"container",props:{layout:"flex",direction:"row",align:"center",gap:8},children:[{type:"text",props:{text:"\uD83D\uDDA5\uFE0F",className:"text-xl text-secondary-text"}},{type:"container",props:{layout:"flex",direction:"column"},children:[{type:"text",props:{text:"HOSTS",className:"text-xs text-muted-text uppercase tracking-wide font-medium"}},{type:"text",props:{text:"0",as:"span",className:"text-xl font-semibold text-secondary-text"},bindings:{text:"dashboard.summary.totalHosts"}}]}]}]},{type:"divider",props:{variant:"dotted",className:"w-10! my-auto hidden md:block"}},{type:"card",props:{variant:"outlined",size:"sm",className:"min-w-35"},children:[{type:"container",props:{layout:"flex",direction:"row",align:"center",gap:8},children:[{type:"text",props:{text:"\uD83D\uDCE6",className:"text-xl text-secondary-text"}},{type:"container",props:{layout:"flex",direction:"column"},children:[{type:"text",props:{text:"CONTAINERS",className:"text-xs text-muted-text uppercase tracking-wide font-medium"}},{type:"text",props:{text:"0",as:"span",className:"text-xl font-semibold text-secondary-text"},bindings:{text:"dashboard.summary.totalContainers"}}]}]}]},{type:"divider",props:{variant:"dotted",className:"w-10! my-auto hidden md:block"}},{type:"card",props:{variant:"outlined",size:"sm",className:"min-w-35"},children:[{type:"container",props:{layout:"flex",direction:"row",align:"center",gap:8},children:[{type:"text",props:{text:"\u25B6\uFE0F",className:"text-xl"}},{type:"container",props:{layout:"flex",direction:"column"},children:[{type:"text",props:{text:"RUNNING",className:"text-xs text-muted-text uppercase tracking-wide font-medium"}},{type:"text",props:{text:"0",as:"span",className:"text-xl font-semibold text-green-500"},bindings:{text:"dashboard.summary.totalRunning"}}]}]}]},{type:"divider",props:{variant:"dotted",className:"w-10! my-auto hidden md:block"}},{type:"card",props:{variant:"outlined",size:"sm",className:"min-w-35"},children:[{type:"container",props:{layout:"flex",direction:"row",align:"center",gap:8},children:[{type:"text",props:{text:"\u23F9\uFE0F",className:"text-xl"}},{type:"container",props:{layout:"flex",direction:"column"},children:[{type:"text",props:{text:"STOPPED",className:"text-xs text-muted-text uppercase tracking-wide font-medium"}},{type:"text",props:{text:"0",as:"span",className:"text-xl font-semibold text-red-500"},bindings:{text:"dashboard.summary.totalStopped"}}]}]}]},{type:"divider",props:{variant:"dotted",className:"w-10! my-auto hidden md:block"}},{type:"card",props:{variant:"outlined",size:"sm",className:"min-w-35"},children:[{type:"container",props:{layout:"flex",direction:"row",align:"center",gap:8},children:[{type:"text",props:{text:"\uD83D\uDDBC\uFE0F",className:"text-xl text-secondary-text"}},{type:"container",props:{layout:"flex",direction:"column"},children:[{type:"text",props:{text:"IMAGES",className:"text-xs text-muted-text uppercase tracking-wide font-medium"}},{type:"text",props:{text:"0",as:"span",className:"text-xl font-semibold text-secondary-text"},bindings:{text:"dashboard.summary.totalImages"}}]}]}]},{type:"divider",props:{variant:"dotted",className:"w-10! my-auto hidden md:block"}},{type:"card",props:{variant:"outlined",size:"sm",className:"min-w-35"},children:[{type:"container",props:{layout:"flex",direction:"row",align:"center",gap:8},children:[{type:"text",props:{text:"\uD83D\uDCCA",className:"text-xl text-secondary-text"}},{type:"container",props:{layout:"flex",direction:"column"},children:[{type:"text",props:{text:"METRICS",className:"text-xs text-muted-text uppercase tracking-wide font-medium"}},{type:"text",props:{text:"0",as:"span",className:"text-xl font-semibold text-secondary-text"},bindings:{text:"dashboard.summary.metricsCollected"}}]}]}]}]},{type:"divider",props:{variant:"default",className:"my-2"}},{type:"card",props:{variant:"elevated",size:"sm",className:"p-4"},children:[{type:"container",props:{layout:"flex",direction:"row",justify:"between",align:"center",className:"flex-wrap gap-4"},children:[{type:"text",props:{text:"Quick Actions",as:"h3",className:"text-lg font-semibold text-primary-text"}},{type:"container",props:{layout:"flex",direction:"row",gap:12},children:[{type:"button",props:{text:"\uD83D\uDD04 Refresh Data",variant:"secondary",action:"refreshData"}},{type:"button",props:{text:"\uD83D\uDDD1\uFE0F Cleanup Old Data",variant:"outline",action:"cleanupOldMetrics"}}]}]}]},{type:"container",props:{layout:"grid",columns:2,gap:24,className:"grid-cols-1 lg:grid-cols-2"},children:[{type:"card",props:{variant:"elevated",className:"overflow-hidden"},children:[{type:"cardHeader",props:{text:"\uD83D\uDDA5\uFE0F Docker Hosts",className:"bg-surface-elevated border-b border-border-default px-4 py-3"}},{type:"cardBody",props:{className:"p-0"},children:[{type:"table",props:{columns:[{key:"hostName",title:"Host",sortable:!0},{key:"os",title:"OS"},{key:"dockerVersion",title:"Docker"},{key:"containers",title:"Containers",align:"center"},{key:"containersRunning",title:"Running",align:"center"}],striped:!0,hoverable:!0,searchable:!0,searchPlaceholder:"Search hosts...",size:"sm"},bindings:{data:"dashboard.hosts"}}]}]},{type:"card",props:{variant:"elevated",className:"overflow-hidden"},children:[{type:"cardHeader",props:{text:"\uD83D\uDCE6 Container Metrics",className:"bg-surface-elevated border-b border-border-default px-4 py-3"}},{type:"cardBody",props:{className:"p-0"},children:[{type:"table",props:{columns:[{key:"name",title:"Container",sortable:!0},{key:"state",title:"State"},{key:"cpuUsage",title:"CPU %",align:"right"},{key:"memoryUsage",title:"Memory",align:"right"}],striped:!0,hoverable:!0,searchable:!0,searchPlaceholder:"Search containers...",size:"sm"},bindings:{data:"dashboard.containers"}}]}]}]},{type:"divider",props:{variant:"default",label:"Detailed Metrics",className:"my-4"}},{type:"card",props:{variant:"default",className:"overflow-hidden"},children:[{type:"cardHeader",props:{text:"\uD83D\uDCC8 All Container Metrics",className:"bg-surface-default border-b border-border-default px-4 py-3"}},{type:"cardBody",props:{className:"p-0"},children:[{type:"table",props:{columns:[{key:"name",title:"Container Name",sortable:!0},{key:"state",title:"State"},{key:"cpuUsage",title:"CPU %",align:"right",sortable:!0},{key:"memoryUsage",title:"Memory Used",align:"right"},{key:"memoryLimit",title:"Memory Limit",align:"right"},{key:"networkRx",title:"Net RX",align:"right"},{key:"networkTx",title:"Net TX",align:"right"}],striped:!0,hoverable:!0,searchable:!0,searchPlaceholder:"Search all containers...",size:"md"},bindings:{data:"dashboard.containers"}}]}]}],meta:{title:"DockMon Dashboard",description:"Monitor Docker hosts and containers"}},meta:{title:"Dashboard",icon:"LayoutDashboard",showInNav:!0,navOrder:1}});var Y$=r({path:"/hosts",loaders:[{id:"hostMetrics",apiRoute:"/hosts/latest",method:"GET",dataKey:"hostMetrics"}],actions:[{id:"refreshHosts",type:"reload",loaderIds:["hostMetrics"],showLoading:!0}],template:{id:"dockmon-hosts",name:"Host Metrics",description:"Detailed host metrics over time",layout:{type:"flex",direction:"column",gap:24},widgets:[{type:"container",props:{layout:"flex",direction:"row",justify:"between",align:"center",className:"flex-wrap gap-4"},children:[{type:"container",props:{layout:"flex",direction:"column"},children:[{type:"text",props:{text:"\uD83D\uDDA5\uFE0F Host Metrics",as:"h1",className:"text-2xl font-bold text-primary-text"}},{type:"text",props:{text:"Monitor your Docker hosts performance and resource usage",as:"p",className:"text-sm text-muted-text mt-1"}}]},{type:"button",props:{text:"\uD83D\uDD04 Refresh",variant:"secondary",action:"refreshHosts"}}]},{type:"divider",props:{variant:"default"}},{type:"card",props:{variant:"elevated",className:"overflow-hidden"},children:[{type:"cardBody",props:{className:"p-0"},children:[{type:"table",props:{columns:[{key:"hostName",title:"Host Name",sortable:!0},{key:"os",title:"Operating System"},{key:"architecture",title:"Architecture"},{key:"dockerVersion",title:"Docker Version"},{key:"containers",title:"Total",align:"center"},{key:"containersRunning",title:"Running",align:"center"},{key:"containersStopped",title:"Stopped",align:"center"},{key:"images",title:"Images",align:"center"},{key:"totalMemory",title:"Total Memory",align:"right"},{key:"totalCPU",title:"CPUs",align:"center"}],striped:!0,hoverable:!0,searchable:!0,searchPlaceholder:"Search hosts...",size:"md"},bindings:{data:"hostMetrics"}}]}]}],meta:{title:"Host Metrics"}},meta:{title:"Hosts",icon:"Server",showInNav:!0,navOrder:2}});var R8=t1([J$,Y$,Z$]),W$=R8;var A8=o1().name("DockMon").version("1.0.0").description(`DockMon is the default Metrics collector for DockStat. It works by listening on 'container:metrics' and 'host:metrics' events emitted by the DockerClientManager.

		It stores the metrics in a database and provides a REST API to query the metrics. These endpoints can also be used by other Plugins`).tags(["metrics","default"]).repository("its4nik/dockstat:dev/apps/dockstore","github").manifest("src/content/plugins/dockmon").author({name:"Its4Nik",email:"dockstat@itsnik.de",license:"MIT",website:"https://itsnik.de"}).table({columns:{id:v.id(),type:v.enum(["CONTAINER","HOST"]),host_id:v.integer(),docker_client_id:v.integer({notNull:!1}),container_id:v.text({notNull:!1}),data:v.json(),stored_on:v.createdAt()},parser:{JSON:["data"]},name:"dockmon"}).actions(r1).events($$).apiRoutes(X$).frontend({routes:W$,globalState:{initial:{autoRefresh:!0,refreshInterval:30000}}}).build(),C9=A8;export{C9 as default};

//# debugId=4269EF4B42DD8C6264756E2164756E21
